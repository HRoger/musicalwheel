(()=>{"use strict";var e,t={472:(e,t,n)=>{var r=n(2284),a=n(9394),o=n(4467);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,o.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){var r,a=c(e.querySelectorAll(".".concat(t)));try{for(a.s();!(r=a.n()).done;)r.value.classList.remove(n)}catch(e){a.e(e)}finally{a.f()}}function d(e,t){if(!e.rules||0===e.rules.length)return!0;var n=e.conditionalOperator,r=void 0===n?"all":n,a=e.rules.filter(function(e){return e.field&&""!==e.field&&e.operator&&(void 0!==e.value&&""!==e.value||["empty","not_empty"].includes(e.operator))});return 0===a.length||("all"===r?a.every(function(e){return f(e,t)}):a.some(function(e){return f(e,t)}))}function f(e,t){if(!e.field||!e.operator)return!1;var n=t[e.field]||"";if("empty"===e.operator)return!n||""===n.trim();if("not_empty"===e.operator)return n&&""!==n.trim();if(void 0===e.value||""===e.value)return!1;switch(e.operator){case"==":case"equals":return n===e.value;case"!=":case"not_equals":return n!==e.value;case"contains":return n.includes(e.value);case"not_contains":return!n.includes(e.value);case"starts_with":return n.startsWith(e.value);case"ends_with":return n.endsWith(e.value);case">":case"greater_than":return parseFloat(n)>parseFloat(e.value);case"<":case"less_than":return parseFloat(n)<parseFloat(e.value);case">=":case"greater_than_equal":return parseFloat(n)>=parseFloat(e.value);case"<=":case"less_than_equal":return parseFloat(n)<=parseFloat(e.value);default:return!1}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;if(e&&!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return!1;var n=e.getBoundingClientRect();return n.top>=0-t&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}(e,t)){var n=e.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:n,behavior:"smooth"})}}window.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".eb-form").forEach(function(e){!function(e){var t={};if(0!==e.querySelectorAll("[data-form-field-condition]").length){var r=e.querySelectorAll("input, select, textarea");r.forEach(function(n){if(n.name)if("checkbox"===n.type){if(!t.hasOwnProperty(n.name)){var r=e.querySelectorAll('input[type="checkbox"][name="'.concat(n.name,'"]'));if(r.length>1){var a=[];r.forEach(function(e){e.checked&&a.push(e.value)}),t[n.name]=a.length>0?a:""}else t[n.name]=n.checked?n.value:""}}else"radio"===n.type?n.checked?t[n.name]=n.value:t.hasOwnProperty(n.name)||(t[n.name]=""):t[n.name]=n.value}),o(e,t),r.forEach(function(r){r.addEventListener("change",function(){n(r,t),o(e,t)}),"text"!==r.type&&"email"!==r.type&&"textarea"!==r.type&&"number"!==r.type&&"tel"!==r.type&&"url"!==r.type||r.addEventListener("keyup",function(){n(r,t),o(e,t)})})}}(e)});var e,t=c(document.querySelectorAll(".eb-multistep-form"));try{for(t.s();!(e=t.n()).done;)i(e.value)}catch(e){t.e(e)}finally{t.f()}function n(e,t){if(e.name)if("checkbox"===e.type){var n=document.querySelectorAll('input[type="checkbox"][name="'.concat(e.name,'"]'));if(n.length>1){var r=[];n.forEach(function(e){e.checked&&r.push(e.value)}),t[e.name]=r.length>0?r:""}else t[e.name]=e.checked?e.value:""}else"radio"===e.type?e.checked?t[e.name]=e.value:0!==document.querySelectorAll('input[type="radio"][name="'.concat(e.name,'"]:checked')).length||t.hasOwnProperty(e.name)||(t[e.name]=""):t[e.name]=e.value}function o(e,t){e.querySelectorAll("[data-form-field-condition]").forEach(function(e){if(!e.classList.contains("wp-block-essential-blocks-pro-form-multistep-wrapper")){var n=e.getAttribute("data-form-field-condition");if(n)try{var r=JSON.parse(atob(n));if(!r.enable)return void(e.style.display="");if(!r.rules||0===r.rules.length)return void(e.style.display="");var a=r.rules.filter(function(e){return e.field&&""!==e.field&&e.operator&&(void 0!==e.value&&""!==e.value||["empty","not_empty"].includes(e.operator))});if(0===a.length)return void(e.style.display="");var o=d(l(l({},r),{},{rules:a}),t);"show"===r.action?e.style.display=o?"":"none":"hide"===r.action&&(e.style.display=o?"none":"")}catch(t){console.error("Error parsing field conditional logic",t),e.style.display=""}}})}function i(e){var t=e.getElementsByClassName("form-nonce"),n=e.closest(".eb-form-wrapper").id,i=e.querySelectorAll(".wp-block-essential-blocks-pro-form-multistep-wrapper:not(.wp-block-essential-blocks-pro-form-multistep-wrapper .wp-block-essential-blocks-pro-form-multistep-wrapper)"),l=e.querySelector("#ebFormPrevBtn"),c=e.querySelector("#ebFormNextBtn"),u=e.querySelector(".eb-form-submit-button"),f=e.querySelectorAll(".step-nav-item"),v="eb-field-wrapper",m="eb-validation-error",h={},y=[],b=0;function g(){y=[],i.forEach(function(e,t){var n=e.getAttribute("data-form-field-condition");if(n)try{var r=JSON.parse(atob(n));if(!r.enable||!r.rules||0===r.rules.length)return void y.push(t);var a=d(r,h);("show"===r.action&&a||"hide"===r.action&&!a)&&y.push(t)}catch(e){console.error("Error evaluating step visibility:",e),y.push(t)}else y.push(t)})}function w(t){if(g(),!y.includes(t)){var n=y.find(function(e){return e>t});if(void 0!==n)b=n,t=n;else{var r=(0,a.A)(y).reverse().find(function(e){return e<t});if(void 0===r)return void console.error("No visible steps available");b=r,t=r}}i.forEach(function(e,t){e.style.display="none"}),i[t].style.display="block",f.forEach(function(e,n){n<=t?e.classList.add("active"):e.classList.remove("active")});var o=y.indexOf(t)===y.length-1,s=0===y.indexOf(t);l.style.display=s?"none":"inline-flex",c.style.display=o?"none":"inline-flex",u.style.display=o?"inline-flex":"none",function(e,t,n){var r=e.querySelector(".step-progress-bar-inner");if(r){var a=(t+1)/n*100;r.style.width="".concat(a,"%")}var o=e.querySelectorAll(".step-marker");o.length>0&&o.forEach(function(e,n){n<=t?e.classList.add("active"):e.classList.remove("active")});var i=e.querySelector(".current-step");i&&(i.textContent=t+1);var l=e.querySelectorAll(".step-nav-item");l.length>0&&l.forEach(function(e,n){n<=t?e.classList.add("active"):e.classList.remove("active")})}(e,t,i.length)}c.addEventListener("click",function(){var a,l=i[b],u=l.id||l.dataset.blockId||"",d=l.querySelectorAll("input, select, textarea"),f=new FormData,O={};d.forEach(function(e){if(e.name)if("checkbox"===e.type){if(!O.hasOwnProperty(e.name)){var t=l.querySelectorAll('input[type="checkbox"][name="'.concat(e.name,'"]'));if(t.length>1){var n=[];t.forEach(function(t){t.checked&&(n.push(t.value),f.append("".concat(e.name,"[]"),t.value))}),O[e.name]=n.length>0?n:"",h[e.name]=n.length>0?n:""}else e.checked?(f.append(e.name,e.value),O[e.name]=e.value,h[e.name]=e.value):(f.append(e.name,""),O[e.name]="",h[e.name]="")}}else"radio"===e.type?e.checked?(f.append(e.name,e.value),O[e.name]=e.value,h[e.name]=e.value):0!==l.querySelectorAll('input[type="radio"][name="'.concat(e.name,'"]:checked')).length||O.hasOwnProperty(e.name)||(O[e.name]="",f.append(e.name,""),h.hasOwnProperty(e.name)||(h[e.name]="")):(f.append(e.name,e.value),O[e.name]=e.value,h[e.name]=e.value)}),c.classList.add("loading"),f.append("action","eb_form_validate_step"),f.append("form_id",n),f.append("nonce",null===(a=t[0])||void 0===a?void 0:a.value),f.append("step",b),f.append("step_id",u),f.append("step_data",JSON.stringify(O)),f.append("all_form_data",JSON.stringify(h)),fetch(EssentialBlocksProLocalize.ajax_url,{method:"POST",body:f}).then(function(e){return e.text()}).then(function(t){var n=JSON.parse(t);c.classList.remove("loading"),s(e,"eb-form-multistep-validation","show"),s(e,v,m);var a=l.querySelector(".eb-form-multistep-wrapper").nextElementSibling;if(n.success){n.data&&n.data.step_visibility&&i.forEach(function(e,t){var r=e.id||e.dataset.blockId||"";if(r&&n.data.step_visibility.hasOwnProperty(r))if(n.data.step_visibility[r])y.includes(t)||(y.push(t),y.sort(function(e,t){return e-t}));else{var a=y.indexOf(t);-1!==a&&y.splice(a,1)}}),g();var u=y.indexOf(b);if(-1!==u&&u<y.length-1)b=y[u+1];else{var d=y.find(function(e){return e>b});b=void 0!==d?d:y[y.length-1]}w(b),o(e,h),setTimeout(function(){p(e,50)},100)}else a&&a.classList.contains("eb-form-multistep-validation")&&(a.classList.add("show"),"string"==typeof n.data?a.innerHTML=n.data:"object"===(0,r.A)(n.data)&&(a.innerHTML=n.data.message||"Validation failed",n.data.validation&&"object"===(0,r.A)(n.data.validation)&&(console.log("Validation errors:",n.data.validation),Object.keys(n.data.validation).map(function(e){var t=l.querySelector('[name="'.concat(e,'"]'));if(t){var r=t.closest(".".concat(v));r.classList.add(m);var a=r.querySelector(".".concat("eb-form-validation"));a&&(a.innerHTML=n.data.validation[e])}}))),setTimeout(function(){var e=i[b];e&&p(e,50)},100))}).catch(function(e){return console.error(e)})}),l.addEventListener("click",function(){g();var t=y.indexOf(b);if(t>0)b=y[t-1];else{var n=y.filter(function(e){return e<b});b=n.length>0?n[n.length-1]:y[0]}w(b),o(e,h),setTimeout(function(){p(e,50)},100)}),e.querySelectorAll("input[type='hidden']").forEach(function(e){e.name&&"form-nonce"!==e.name&&(h[e.name]=e.value)}),g(),y.length>0?w(b=y[0]):console.error("No visible steps found"),e.querySelectorAll("input, select, textarea").forEach(function(t){t.addEventListener("change",function(){if(t.name)if("checkbox"===t.type){var n=e.querySelectorAll('input[type="checkbox"][name="'.concat(t.name,'"]'));if(n.length>1){var r=[];n.forEach(function(e){e.checked&&r.push(e.value)}),h[t.name]=r.length>0?r:""}else h[t.name]=t.checked?t.value:""}else"radio"===t.type?t.checked?h[t.name]=t.value:0===e.querySelectorAll('input[type="radio"][name="'.concat(t.name,'"]:checked')).length&&(h[t.name]=""):h[t.name]=t.value;o(e,h),g()}),"text"!==t.type&&"email"!==t.type&&"textarea"!==t.type&&"number"!==t.type&&"tel"!==t.type&&"url"!==t.type||t.addEventListener("keyup",function(){t.name&&(h[t.name]=t.value),o(e,h),g()})})}document.addEventListener("eb-multistep-form-reset",function(e){var t=e.detail.formWrapper;if(t){var n=t.querySelector(".eb-multistep-form");n&&(function(e){var t=e.querySelector("#ebFormPrevBtn"),n=e.querySelector("#ebFormNextBtn");if(t){var r=t.cloneNode(!0);t.parentNode.replaceChild(r,t)}if(n){var a=n.cloneNode(!0);n.parentNode.replaceChild(a,n)}e.querySelectorAll("input, select, textarea").forEach(function(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.replaceChild(t,e)})}(n),console.log("Reinitializing multistep form"),i(n))}})})}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,a,o]=e[s],l=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every(e=>r.O[e](n[c]))?n.splice(c--,1):(l=!1,o<i&&(i=o));if(l){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=2385,(()=>{var e={2385:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,l,c]=n,u=0;if(i.some(t=>0!==e[t])){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(c)var s=c(r)}for(t&&t(n);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(s)},n=globalThis.webpackChunkessential_blocks_pro=globalThis.webpackChunkessential_blocks_pro||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[7916],()=>r(472));a=r.O(a)})();