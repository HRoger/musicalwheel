{% set blockClassName = 'nectar-blocks-post-grid' %}

{% set blockClassNames = blockClassName %}
{% if settings.className %}
  {% set blockClassNames = blockClassNames ~ " " ~ settings.className|e %}
{% endif %}
{% set blockClassNames = blockClassNames ~ " l--" ~ settings.layout|e %}
{% set blockClassNames = blockClassNames ~ " il--" ~ settings.itemLayout|e %}
{% if settings.align %}
  {% set blockClassNames = blockClassNames ~ " align" ~ settings.align|e %}
{% endif %}

<div id="{{ blockId|e }}" class="{{ blockClassNames }}"
  {% if settings.pagination.enabled %}
    data-pagination-type="{{ settings.pagination.type }}"
    data-pagination-current-page="0"
    data-pagination-posts-per-page="{{ settings.postsPerPage }}"
    data-order-by="{{ settings.orderBy }}"
    data-offset="{{ settings.postOffset }}"
  {% endif %}
>
  <div class="{{ blockClassName }}__inner">

    <div class="nectar__bg-layers parent-block-{{blockId|e}}">
        <div class="nectar__bg-layer nectar__bg-color"></div>
    </div>

    <div class="{{ blockClassName }}__content">

      {% for post in queryData %}
  
        <div class="{{ blockClassName }}__item">
          <div class="{{ blockClassName }}__item__inner">
            {% include './templates/featured_image.twig' %}
            <div class="{{ blockClassName }}__item__content">
              <div class="{{ blockClassName }}__item__content__inner">
                {{ actionsHooks.nectar_post_grid_item_content_before|raw }}

                {% for metaData in post.meta %}
                    {% include './templates/meta/' ~ metaData.type ~ '.twig' %}
                {% endfor %}

                {{ actionsHooks.nectar_post_grid_item_content_after|raw }}
              </div>
            </div>
           </div>
        </div>
      {% endfor %}
    </div>
  
    {% include './templates/pagination.twig' %}

  </div>
</div>