(function(ge,C){"use strict";var Y,oe,W,re;Y={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},oe=["(","?"],W={")":["("],":":["?","?:"]},re=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;function be(e){for(var t=[],o=[],r,n,l,i;r=e.match(re);){for(n=r[0],l=e.substr(0,r.index).trim(),l&&t.push(l);i=o.pop();){if(W[n]){if(W[n][0]===i){n=W[n][1]||n;break}}else if(oe.indexOf(i)>=0||Y[i]<Y[n]){o.push(i);break}t.push(i)}W[n]||o.push(n),e=e.substr(r.index+n.length)}return e=e.trim(),e&&t.push(e),t.concat(o.reverse())}var Ie={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,o){if(e)throw t;return o}};function Ce(e,t){var o=[],r,n,l,i,c,a;for(r=0;r<e.length;r++){if(c=e[r],i=Ie[c],i){for(n=i.length,l=Array(n);n--;)l[n]=o.pop();try{a=i.apply(null,l)}catch(s){return s}}else t.hasOwnProperty(c)?a=t[c]:a=+c;o.push(a)}return o[0]}function Re(e){var t=be(e);return function(o){return Ce(t,o)}}function Be(e){var t=Re(e);return function(o){return+t({n:o})}}var ne={contextDelimiter:"",onMissingKey:null};function Se(e){var t,o,r;for(t=e.split(";"),o=0;o<t.length;o++)if(r=t[o].trim(),r.indexOf("plural=")===0)return r.substr(7)}function Q(e,t){var o;this.data=e,this.pluralForms={},this.options={};for(o in ne)this.options[o]=t!==void 0&&o in t?t[o]:ne[o]}Q.prototype.getPluralForm=function(e,t){var o=this.pluralForms[e],r,n,l;return o||(r=this.data[e][""],l=r["Plural-Forms"]||r["plural-forms"]||r.plural_forms,typeof l!="function"&&(n=Se(r["Plural-Forms"]||r["plural-forms"]||r.plural_forms),l=Be(n)),o=this.pluralForms[e]=l),o(t)},Q.prototype.dcnpgettext=function(e,t,o,r,n){var l,i,c;return n===void 0?l=0:l=this.getPluralForm(e,n),i=o,t&&(i=t+this.options.contextDelimiter+o),c=this.data[e][i],c&&c[l]?c[l]:(this.options.onMissingKey&&this.options.onMissingKey(o,e),l===0?o:r)};var le={"":{plural_forms(e){return e===1?0:1}}},Ee=/^i18n\.(n?gettext|has_translation)(_|$)/,xe=(e,t,o)=>{const r=new Q({}),n=new Set,l=()=>{n.forEach(_=>_())},i=_=>(n.add(_),()=>n.delete(_)),c=(_="default")=>r.data[_],a=(_,f="default")=>{r.data[f]={...r.data[f],..._},r.data[f][""]={...le[""],...r.data[f]?.[""]},delete r.pluralForms[f]},s=(_,f)=>{a(_,f),l()},h=(_,f="default")=>{r.data[f]={...r.data[f],..._,"":{...le[""],...r.data[f]?.[""],..._?.[""]}},delete r.pluralForms[f],l()},m=(_,f)=>{r.data={},r.pluralForms={},s(_,f)},S=(_="default",f,E,T,F)=>(r.data[_]||a(void 0,_),r.dcnpgettext(_,f,E,T,F)),R=_=>_||"default",y=(_,f)=>{let E=S(f,void 0,_);return o?(E=o.applyFilters("i18n.gettext",E,_,f),o.applyFilters("i18n.gettext_"+R(f),E,_,f)):E},z=(_,f,E)=>{let T=S(E,f,_);return o?(T=o.applyFilters("i18n.gettext_with_context",T,_,f,E),o.applyFilters("i18n.gettext_with_context_"+R(E),T,_,f,E)):T},I=(_,f,E,T)=>{let F=S(T,void 0,_,f,E);return o?(F=o.applyFilters("i18n.ngettext",F,_,f,E,T),o.applyFilters("i18n.ngettext_"+R(T),F,_,f,E,T)):F},L=(_,f,E,T,F)=>{let M=S(F,T,_,f,E);return o?(M=o.applyFilters("i18n.ngettext_with_context",M,_,f,E,T,F),o.applyFilters("i18n.ngettext_with_context_"+R(F),M,_,f,E,T,F)):M},N=()=>z("ltr","text direction")==="rtl",V=(_,f,E)=>{const T=f?f+""+_:_;let F=!!r.data?.[E??"default"]?.[T];return o&&(F=o.applyFilters("i18n.has_translation",F,_,f,E),F=o.applyFilters("i18n.has_translation_"+R(E),F,_,f,E)),F};if(o){const _=f=>{Ee.test(f)&&l()};o.addAction("hookAdded","core/i18n",_),o.addAction("hookRemoved","core/i18n",_)}return{getLocaleData:c,setLocaleData:s,addLocaleData:h,resetLocaleData:m,subscribe:i,__:y,_x:z,_n:I,_nx:L,isRTL:N,hasTranslation:V}};function ke(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var ce=ke;function Fe(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var w=Fe;function He(e,t){return function(r,n,l,i=10){const c=e[t];if(!w(r)||!ce(n))return;if(typeof l!="function"){console.error("The hook callback must be a function.");return}if(typeof i!="number"){console.error("If specified, the hook priority must be a number.");return}const a={callback:l,priority:i,namespace:n};if(c[r]){const s=c[r].handlers;let h;for(h=s.length;h>0&&!(i>=s[h-1].priority);h--);h===s.length?s[h]=a:s.splice(h,0,a),c.__current.forEach(m=>{m.name===r&&m.currentIndex>=h&&m.currentIndex++})}else c[r]={handlers:[a],runs:0};r!=="hookAdded"&&e.doAction("hookAdded",r,n,l,i)}}var ae=He;function Ne(e,t,o=!1){return function(n,l){const i=e[t];if(!w(n)||!o&&!ce(l))return;if(!i[n])return 0;let c=0;if(o)c=i[n].handlers.length,i[n]={runs:i[n].runs,handlers:[]};else{const a=i[n].handlers;for(let s=a.length-1;s>=0;s--)a[s].namespace===l&&(a.splice(s,1),c++,i.__current.forEach(h=>{h.name===n&&h.currentIndex>=s&&h.currentIndex--}))}return n!=="hookRemoved"&&e.doAction("hookRemoved",n,l),c}}var K=Ne;function Te(e,t){return function(r,n){const l=e[t];return typeof n<"u"?r in l&&l[r].handlers.some(i=>i.namespace===n):r in l}}var ie=Te;function ze(e,t,o,r){return function(l,...i){const c=e[t];c[l]||(c[l]={handlers:[],runs:0}),c[l].runs++;const a=c[l].handlers;if(!a||!a.length)return o?i[0]:void 0;const s={name:l,currentIndex:0};async function h(){try{c.__current.add(s);let S=o?i[0]:void 0;for(;s.currentIndex<a.length;)S=await a[s.currentIndex].callback.apply(null,i),o&&(i[0]=S),s.currentIndex++;return o?S:void 0}finally{c.__current.delete(s)}}function m(){try{c.__current.add(s);let S=o?i[0]:void 0;for(;s.currentIndex<a.length;)S=a[s.currentIndex].callback.apply(null,i),o&&(i[0]=S),s.currentIndex++;return o?S:void 0}finally{c.__current.delete(s)}}return(r?h:m)()}}var X=ze;function Pe(e,t){return function(){const r=e[t];return Array.from(r.__current).at(-1)?.name??null}}var se=Pe;function Ae(e,t){return function(r){const n=e[t];return typeof r>"u"?n.__current.size>0:Array.from(n.__current).some(l=>l.name===r)}}var de=Ae;function Oe(e,t){return function(r){const n=e[t];if(w(r))return n[r]&&n[r].runs?n[r].runs:0}}var ue=Oe,Le=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=ae(this,"actions"),this.addFilter=ae(this,"filters"),this.removeAction=K(this,"actions"),this.removeFilter=K(this,"filters"),this.hasAction=ie(this,"actions"),this.hasFilter=ie(this,"filters"),this.removeAllActions=K(this,"actions",!0),this.removeAllFilters=K(this,"filters",!0),this.doAction=X(this,"actions",!1,!1),this.doActionAsync=X(this,"actions",!1,!0),this.applyFilters=X(this,"filters",!0,!1),this.applyFiltersAsync=X(this,"filters",!0,!0),this.currentAction=se(this,"actions"),this.currentFilter=se(this,"filters"),this.doingAction=de(this,"actions"),this.doingFilter=de(this,"filters"),this.didAction=ue(this,"actions"),this.didFilter=ue(this,"filters")}};function je(){return new Le}var De=je,pe=De(),{addAction:yt,addFilter:gt,removeAction:bt,removeFilter:It,hasAction:Ct,hasFilter:Rt,removeAllActions:Bt,removeAllFilters:St,doAction:Et,doActionAsync:xt,applyFilters:kt,applyFiltersAsync:Ft,currentAction:Ht,currentFilter:Nt,doingAction:Tt,doingFilter:zt,didAction:Pt,didFilter:At,actions:Ot,filters:Lt}=pe,P=xe(void 0,void 0,pe);P.getLocaleData.bind(P),P.setLocaleData.bind(P),P.resetLocaleData.bind(P),P.subscribe.bind(P);var p=P.__.bind(P);P._x.bind(P),P._n.bind(P),P._nx.bind(P),P.isRTL.bind(P),P.hasTranslation.bind(P);function j(e,t){return!e||!e.value?null:e.library==="icon"||!e.library||e.library===""?React.createElement("i",{className:e.value}):e.library==="svg"&&e.value?e.value.startsWith("<svg")||e.value.startsWith("<?xml")?React.createElement("span",{className:"ts-icon-svg",dangerouslySetInnerHTML:{__html:e.value}}):React.createElement("img",{src:e.value,alt:"",className:"ts-icon-svg"}):null}function _e(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root.replace(/\/wp-json\/?$/,"")+"?vx=1";if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t.replace(/\/wp-json\/?$/,"")+"?vx=1"}}return typeof window<"u"?window.location.origin+"?vx=1":"/?vx=1"}function Me(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!t.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}function $e(){const e=window;return typeof window<"u"&&e.Voxel_Config?.ajax_url?e.Voxel_Config.ajax_url:_e().replace("?vx=1","")}async function Ve(e,t){if(!e)return null;const o=window.grecaptcha;return o?new Promise(r=>{o.ready(async()=>{try{const n=await o.execute(e,{action:t});r(n)}catch(n){console.error("reCAPTCHA error:",n),r(null)}})}):(console.warn("reCAPTCHA not loaded"),null)}function Ue({config:e,quickRegister:t,onQuickRegisterChange:o,authLink:r,requireVerification:n,loginIcon:l,emailIcon:i,context:c}){const a=C.useRef(null),s=C.useRef(null),h=/^\S+@\S+\.\S+$/.test(t.email),m=C.useCallback(async()=>{if(c!=="editor"&&!(t.sending_code||!h)){o({sending_code:!0});try{const y=$e(),z=new FormData;if(z.append("email",t.email),z.append("_wpnonce",e.nonce.checkout),e.recaptcha.enabled&&e.recaptcha.key){const N=await Ve(e.recaptcha.key,"quick_register_send_code");N&&z.append("_recaptcha",N)}const L=await(await fetch(`${y}?vx=1&action=products.quick_register.send_confirmation_code`,{method:"POST",credentials:"same-origin",body:z})).json();if(L.success)o({sending_code:!1,sent_code:!0}),setTimeout(()=>{s.current?.focus()},100);else if(L.status==="email_exists"){const N=window;N.Voxel?.alert?N.Voxel.alert(L.message||p("This email is already registered. Please sign in.","voxel-fse")):alert(L.message||p("This email is already registered. Please sign in.","voxel-fse")),o({sending_code:!1})}else{const N=window;N.Voxel?.alert?N.Voxel.alert(L.message||p("Failed to send verification code.","voxel-fse")):alert(L.message||p("Failed to send verification code.","voxel-fse")),o({sending_code:!1})}}catch(y){console.error("Failed to send verification code:",y),o({sending_code:!1})}}},[e,t.email,t.sending_code,h,c,o]),S=y=>{const I={email:y.target.value};t.sent_code&&(I.sent_code=!1),o(I)},R=y=>{y.key==="Enter"&&(y.preventDefault(),a.current?.click())};return React.createElement(React.Fragment,null,React.createElement("a",{href:r,className:"ts-btn ts-btn-1 form-btn"},j(l),p("Existing customer? Sign in","voxel-fse")),React.createElement("div",{className:"checkout-section form-field-grid"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"or-group"},React.createElement("div",{className:"or-line"}),React.createElement("span",{className:"or-text"},p("Or continue as Guest","voxel-fse")),React.createElement("div",{className:"or-line"}))),React.createElement("div",{className:"ts-form-group vx-1-1"},React.createElement("label",null,p("Email address","voxel-fse")),React.createElement("div",{className:"ts-input-icon flexify"},j(i),React.createElement("input",{type:"email",value:t.email,onChange:S,onKeyDown:R,placeholder:p("Your email address","voxel-fse"),readOnly:t.sending_code||t.registered,className:"ts-filter"}))),n&&React.createElement(React.Fragment,null,!t.sent_code&&h&&React.createElement("div",{className:"ts-form-group vx-1-1"},React.createElement("div",{className:t.sending_code?"vx-disabled":""},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1 form-btn",ref:a,onClick:y=>{y.preventDefault(),c==="frontend"&&m()}},j(i),p("Send confirmation code","voxel-fse")))),t.sent_code&&React.createElement("div",{className:"ts-form-group vx-1-1"},React.createElement("label",null,p("Confirmation code","voxel-fse")),React.createElement("input",{ref:s,type:"text",maxLength:6,placeholder:p("Type your 6 digit code","voxel-fse"),value:t.code,onChange:y=>o({code:y.target.value}),readOnly:t.registered,className:"ts-filter"})))))}function Ge(e,t){if(!(!t||!e[t]))return e[t].states}function qe({shipping:e,onShippingChange:t,countries:o,context:r}){const n=Ge(o,e.country),l=n&&Object.keys(n).length>0,i=c=>{const a=c.target.value||null;t({country:a,state:"",zone:null,rate:null})};return e.status!=="completed"?React.createElement("div",{className:"checkout-section form-field-grid"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"or-group"},React.createElement("div",{className:"or-line"}),React.createElement("span",{className:"or-text"},p("Shipping details","voxel-fse")),React.createElement("div",{className:"or-line"}))),React.createElement("div",{className:"ts-form-group vx-1-1"},React.createElement("div",{className:"vx-loading-screen"},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"}))))):React.createElement("div",{className:"checkout-section form-field-grid"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"or-group"},React.createElement("div",{className:"or-line"}),React.createElement("span",{className:"or-text"},p("Shipping details","voxel-fse")),React.createElement("div",{className:"or-line"}))),React.createElement("div",{className:"ts-form-group vx-1-2"},React.createElement("label",null,p("First name","voxel-fse")),React.createElement("input",{type:"text",value:e.first_name,onChange:c=>t({first_name:c.target.value}),placeholder:p("First name","voxel-fse"),className:"ts-filter"})),React.createElement("div",{className:"ts-form-group vx-1-2"},React.createElement("label",null,p("Last name","voxel-fse")),React.createElement("input",{type:"text",value:e.last_name,onChange:c=>t({last_name:c.target.value}),placeholder:p("Last name","voxel-fse"),className:"ts-filter"})),React.createElement("div",{className:`ts-form-group ${l?"vx-1-2":"vx-1-1"}`},React.createElement("label",null,p("Country","voxel-fse")),React.createElement("div",{className:"ts-filter"},React.createElement("select",{value:e.country||"",onChange:i},React.createElement("option",{value:""},p("Select country","voxel-fse")),Object.entries(o).map(([c,a])=>React.createElement("option",{key:c,value:c},a.name))),React.createElement("div",{className:"ts-down-icon"}))),l&&React.createElement("div",{className:"ts-form-group vx-1-2"},React.createElement("label",null,p("State / County","voxel-fse")),React.createElement("div",{className:"ts-filter"},React.createElement("select",{value:e.state,onChange:c=>t({state:c.target.value})},React.createElement("option",{value:""},p("Select state","voxel-fse")),Object.entries(n).map(([c,a])=>React.createElement("option",{key:c,value:c},a.name||c))),React.createElement("div",{className:"ts-down-icon"}))),React.createElement("div",{className:"ts-form-group vx-1-2"},React.createElement("label",null,p("Address","voxel-fse")),React.createElement("input",{type:"text",value:e.address,onChange:c=>t({address:c.target.value}),placeholder:p("Street address","voxel-fse"),className:"ts-filter"})),React.createElement("div",{className:"ts-form-group vx-1-2"},React.createElement("label",null,p("ZIP / Postal code","voxel-fse")),React.createElement("input",{type:"text",value:e.zip,onChange:c=>t({zip:c.target.value}),placeholder:p("ZIP / Postal code","voxel-fse"),className:"ts-filter"})))}function me(e,t){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:t||"USD"}).format(e/100)}catch{return`${(e/100).toFixed(2)} ${t}`}}function We(e,t){return e.type==="free_shipping"&&e.requirements==="minimum_order_amount"?t>=(e.minimum_order_amount||0):!0}function Je(e,t){if(e.type==="free_shipping"||!e.amount_per_unit)return 0;switch(e.calculation_method||"per_order"){case"per_order":return e.amount_per_unit;case"per_item":{let r=0;return Object.values(t).forEach(n=>{if(n.shipping.is_shippable){const l=n.product_mode==="regular"?n.value.stock?.quantity||1:n.value.variations?.quantity||1;r+=l}}),e.amount_per_unit*r}case"per_class":{const r=e.shipping_classes||{};let n=e.amount_per_unit;return Object.values(t).forEach(l=>{if(l.shipping.is_shippable&&l.shipping.shipping_class){const i=r[l.shipping.shipping_class];if(i!==void 0){const c=l.product_mode==="regular"?l.value.stock?.quantity||1:l.value.variations?.quantity||1;n+=i*c}}}),n}default:return e.amount_per_unit}}function Ze(e,t,o){if(!t.countries[o.country||""])return!1;if(t.regions&&t.regions.length>0){for(const r of t.regions)if(r.country===o.country&&!(r.states&&r.states.length>0&&!r.states.includes(o.state))){if(r.zip_codes_enabled&&r.zip_codes){const n=r.zip_codes.split(`
`).map(l=>l.trim());if(!Ke(o.zip,n))continue}return!0}return!1}return!0}function Ke(e,t){const o=e.toLowerCase().replace(/\s/g,"");for(const r of t){if(!r)continue;const n=r.toLowerCase().replace(/\s/g,"");if(n.includes("...")){const[l,i]=n.split("...");if(o>=l&&o<=i)return!0}else if(n.includes("*")){if(new RegExp("^"+n.replace(/\*/g,".*")+"$").test(o))return!0}else if(o===n)return!0}return!1}function Xe(e,t,o,r){const n=[];return Object.values(e).forEach(l=>{Object.values(l.rates).forEach(i=>{Ze(i,l,t)&&n.push({zone:l,rate:i})})}),r&&r.length>0&&n.sort((l,i)=>{const c=r.indexOf(l.rate.key),a=r.indexOf(i.rate.key);return c===-1&&a===-1?0:c===-1?1:a===-1?-1:c-a}),n}function Ye({config:e,shipping:t,onShippingChange:o,items:r,shippingIcon:n,currency:l,l10n:i,context:c}){const a=C.useMemo(()=>{let R=0;return Object.values(r).forEach(y=>{R+=y.pricing.total_amount}),R},[r]),s=e.multivendor.enabled?e.shipping.responsibility:"platform_rates",h=C.useMemo(()=>s!=="platform_rates"?[]:Xe(e.shipping.zones,t,r,e.shipping.shipping_rates_order||[]),[e.shipping.zones,t,r,e.shipping.shipping_rates_order,s]),m=h.length>0,S=(R,y)=>{c!=="editor"&&o({zone:R,rate:y})};return s!=="platform_rates"?null:React.createElement("div",{className:"checkout-section form-field-grid"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"or-group"},React.createElement("div",{className:"or-line"}),React.createElement("span",{className:"or-text"},p("Shipping method","voxel-fse")),React.createElement("div",{className:"or-line"}))),React.createElement("div",{className:"ts-form-group vx-1-1"},m?React.createElement("ul",{className:"simplify-ul addon-cards flexify"},h.map(({zone:R,rate:y})=>{const z=t.zone===R.key&&t.rate===y.key,I=We(y,a),L=Je(y,r);return React.createElement("li",{key:`${R.key}-${y.key}`,className:`flexify ${z?"adc-selected":""} ${I?"":"vx-disabled"}`,onClick:()=>{I&&S(R.key,y.key)}},React.createElement("div",{className:"card-icn"},j(n)),React.createElement("div",{className:"addon-details"},React.createElement("span",{className:"adc-title"},y.label),y.delivery_estimate&&I&&React.createElement("span",{className:"adc-subtitle"},y.delivery_estimate),!I&&y.type==="free_shipping"&&y.requirements==="minimum_order_amount"&&React.createElement("span",{className:"adc-subtitle"},p("Minimum order amount:","voxel-fse")," ",me(y.minimum_order_amount||0,l)),React.createElement("span",{className:"vx-addon-price"},L===0?i.free:me(L,l))))})):React.createElement("label",null,p("No shipping rates available for your location. Please select a different address.","voxel-fse"))))}function fe(e,t){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:t||"USD"}).format(e/100)}catch{return`${(e/100).toFixed(2)} ${t}`}}function Qe(e){return e.product_mode==="regular"?e.value.stock?.quantity||1:e.value.variations?.quantity||1}function we(e,t){const o=e.toLowerCase().replace(/\s/g,""),r=t.split(`
`).map(n=>n.trim());for(const n of r){if(!n)continue;const l=n.toLowerCase().replace(/\s/g,"");if(l.includes("...")){const[i,c]=l.split("...");if(o>=i&&o<=c)return!0}else if(l.includes("*")){if(new RegExp("^"+l.replace(/\*/g,".*")+"$").test(o))return!0}else if(o===l)return!0}return!1}function et(e,t){if(!t.countries[e.country||""])return!1;if(t.regions&&Array.isArray(t.regions)&&t.regions.length>0){const o=t.regions.find(r=>r.country===e.country);if(!o||o.states&&Array.isArray(o.states)&&o.states.length>0&&(!e.state||!o.states.includes(e.state))||o.zip_codes_enabled&&o.zip_codes&&o.zip_codes.trim()&&(!e.zip||!we(e.zip,o.zip_codes)))return!1}return!0}function tt(e,t){let o=0;return Object.values(t).forEach(r=>{r.vendor.id===e.id&&(o+=r.pricing.total_amount)}),o}function ot(e,t,o){return t.type!=="free_shipping"?t.type==="fixed_rate"||t.type==="flat_rate":t.requirements!=="minimum_order_amount"?!0:tt(e,o)>=(t.minimum_order_amount||0)}function rt(e,t,o){if(t.type==="free_shipping")return 0;if(t.type!=="fixed_rate"&&t.type!=="flat_rate")return null;const r=t.calculation_method||"per_item",n=Object.values(o).filter(i=>i.vendor.id===e.id&&i.shipping.is_shippable);if(r==="per_order")return t.amount_per_unit||0;if(r==="per_class"){let i=t.amount_per_unit||0;for(const c of n){let a=t.amount_per_unit||0;const s=c.shipping.shipping_class;s&&t.shipping_classes?.[s]&&(a=t.shipping_classes[s]),i=Math.max(i,a)}return i}let l=0;for(const i of n){let c=t.amount_per_unit||0;const a=i.shipping.shipping_class;a&&t.shipping_classes?.[a]&&(c=t.shipping_classes[a]);const s=Qe(i);l+=c*s}return l}function he(e,t){if(!e||!e.shipping_zones||!t.country)return[];const o=[];Object.values(e.shipping_zones).forEach(n=>{n.countries[t.country||""]&&Object.values(n.rates).forEach(l=>{et(t,n)&&o.push({zone:n,rate:l})})});const r=e.shipping_rates_order;if(r&&Array.isArray(r)&&r.length>0){const n={};r.forEach((l,i)=>{n[l]=i}),o.sort((l,i)=>{const c=n[l.rate.key]!==void 0?n[l.rate.key]:1/0,a=n[i.rate.key]!==void 0?n[i.rate.key]:1/0;return c-a})}return o}function nt(e,t){return!e.has_shippable_products||!e.shipping_zones||!t.country?!1:he(e,t).length>0}function lt({config:e,shipping:t,onShippingChange:o,items:r,vendors:n,shippingIcon:l,currency:i,l10n:c,context:a}){const s=C.useMemo(()=>{const m={};return Object.values(n).forEach(S=>{S.has_shippable_products&&(m[S.key]=S)}),m},[n]),h=(m,S,R)=>{if(a==="editor")return;const y={...t.vendors};y[m]={zone:S,rate:R},o({vendors:y})};return t.country?React.createElement(React.Fragment,null,Object.values(s).map(m=>{const S=he(m,t),R=nt(m,t),y=t.vendors[m.key];return React.createElement("div",{key:m.key,className:"checkout-section form-field-grid"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"or-group"},React.createElement("div",{className:"or-line"}),React.createElement("span",{className:"or-text"},p("Shipping method (Products sold by","voxel-fse")," ",m.display_name,")"),React.createElement("div",{className:"or-line"}))),React.createElement("div",{className:"ts-form-group vx-1-1"},R?React.createElement("ul",{className:"simplify-ul addon-cards flexify"},S.map(({zone:z,rate:I})=>{const L=y?.zone===z.key&&y?.rate===I.key,N=ot(m,I,r),V=rt(m,I,r);return React.createElement("li",{key:`${z.key}-${I.key}`,className:`flexify ${L?"adc-selected":""} ${N?"":"vx-disabled"}`,onClick:()=>{N&&h(m.key,z.key,I.key)}},React.createElement("div",{className:"card-icn"},j(l)),React.createElement("div",{className:"addon-details"},React.createElement("span",{className:"adc-title"},I.label),I.delivery_estimate&&N&&React.createElement("span",{className:"adc-subtitle"},I.delivery_estimate),!N&&I.type==="free_shipping"&&I.requirements==="minimum_order_amount"&&React.createElement("span",{className:"adc-subtitle"},p("Minimum order amount:","voxel-fse")," ",fe(I.minimum_order_amount||0,i)),React.createElement("span",{className:"vx-addon-price"},V===0||V===null?c.free:fe(V,i))))})):React.createElement("label",null,p("This vendor does not ship to your location. In order to proceed, remove products by this vendor from cart, or pick a different address.","voxel-fse"))))})):null}const ct={deleteIcon:{library:"line-awesome",value:"las la-trash-alt"},noProductsIcon:{library:"line-awesome",value:"las la-box"},loginIcon:{library:"line-awesome",value:"las la-sign-in-alt"},emailIcon:{library:"line-awesome",value:"las la-envelope"},userIcon:{library:"line-awesome",value:"las la-user"},uploadIcon:{library:"line-awesome",value:"las la-cloud-upload-alt"},shippingIcon:{library:"line-awesome",value:"las la-shipping-fast"},minusIcon:{library:"line-awesome",value:"las la-minus"},plusIcon:{library:"line-awesome",value:"las la-plus"},checkoutIcon:{library:"line-awesome",value:"las la-arrow-right"},continueIcon:{library:"line-awesome",value:"las la-arrow-right"}};function H(e,t){return e&&typeof e=="object"&&"library"in e?e:ct[t]||{library:"line-awesome",value:"las la-question"}}function ee(e,t){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:t||"USD"}).format(e/100)}catch{return`${(e/100).toFixed(2)} ${t}`}}function ve(e){return e.product_mode==="regular"?e.value.stock?.quantity||1:e.value.variations?.quantity||1}function at(e){const t=ve(e);return e.quantity.max===0||t<e.quantity.max}function ye({item:e,attributes:t,onUpdateQuantity:o,onRemoveItem:r,context:n}){const l=ve(e),i=at(e),c=()=>{l>1&&o?o(e.key,l-1):r&&r(e.key)},a=()=>{i&&o&&o(e.key,l+1)},s=()=>{r&&r(e.key)};return React.createElement("li",{className:`${e._disabled?"vx-disabled":""} ${e.custom_class||""}`},React.createElement("div",{className:"cart-image",dangerouslySetInnerHTML:{__html:e.logo}}),React.createElement("div",{className:"cart-item-details"},React.createElement("a",{href:e.link},e.title),e.subtitle&&React.createElement("span",null,e.subtitle),e.pricing.total_amount===0?React.createElement("span",null,p("Free","voxel-fse")):React.createElement("span",null,ee(e.pricing.total_amount,e.currency))),e.quantity.enabled?React.createElement("div",{className:"cart-stepper"},React.createElement("a",{href:"#",className:"ts-icon-btn ts-smaller",onClick:h=>{h.preventDefault(),n==="frontend"&&c()}},j(H(t.minusIcon,"minusIcon"))),React.createElement("span",null,l),React.createElement("a",{href:"#",className:`ts-icon-btn ts-smaller ${i?"":"vx-disabled"}`,onClick:h=>{h.preventDefault(),n==="frontend"&&a()}},j(H(t.plusIcon,"plusIcon")))):React.createElement("div",{className:"cart-stepper"},React.createElement("a",{href:"#",className:"ts-icon-btn ts-smaller",onClick:h=>{h.preventDefault(),n==="frontend"&&s()}},j(H(t.deleteIcon,"deleteIcon")))))}function it({enabled:e,content:t,onToggle:o,onChange:r,context:n}){const l=C.useRef(null),i=C.useRef(null),c=()=>{l.current&&i.current&&(i.current.value=l.current.value,l.current.style.height=`${i.current.scrollHeight}px`)};return C.useEffect(()=>{e&&(c(),l.current?.focus())},[e,t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"tos-checkbox ts-form-group vx-1-1 switcher-label"},React.createElement("label",{onClick:a=>{a.preventDefault(),n==="frontend"&&o()}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-checkbox"},React.createElement("input",{type:"checkbox",tabIndex:0,className:"hidden",checked:e,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),p("Add order notes?","voxel-fse"))),e&&React.createElement("div",{className:"ts-form-group vx-1-1"},React.createElement("textarea",{ref:l,value:t,onChange:a=>{r(a.target.value),c()},placeholder:p("Add notes about your order","voxel-fse"),className:"autofocus ts-filter"}),React.createElement("textarea",{ref:i,disabled:!0,style:{height:"5px",position:"fixed",top:"-9999px",left:"-9999px",visibility:"hidden"}})))}function st({attributes:e,config:t,items:o,context:r,isLoading:n,error:l,onUpdateQuantity:i,onRemoveItem:c,onCheckout:a,shipping:s,onShippingChange:h,quickRegister:m,onQuickRegisterChange:S,orderNotes:R,onOrderNotesChange:y}){const z=C.useMemo(()=>({icons:{deleteIcon:H(e.deleteIcon,"deleteIcon"),noProductsIcon:H(e.noProductsIcon,"noProductsIcon"),loginIcon:H(e.loginIcon,"loginIcon"),emailIcon:H(e.emailIcon,"emailIcon"),userIcon:H(e.userIcon,"userIcon"),uploadIcon:H(e.uploadIcon,"uploadIcon"),shippingIcon:H(e.shippingIcon,"shippingIcon"),minusIcon:H(e.minusIcon,"minusIcon"),plusIcon:H(e.plusIcon,"plusIcon"),checkoutIcon:H(e.checkoutIcon,"checkoutIcon"),continueIcon:H(e.continueIcon,"continueIcon")},sectionSpacing:e.sectionSpacing||void 0,titleColor:e.titleColor||void 0}),[e]);C.useEffect(()=>{const d="voxel-product-summary-css";if(!document.getElementById(d)){const u=document.createElement("link");u.id=d,u.rel="stylesheet";const x=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");u.href=`${x}/wp-content/themes/voxel/assets/dist/product-summary.css?ver=1.7.5.2`,document.head.appendChild(u)}},[]);const I=C.useMemo(()=>{if(!o)return{};const d={};return Object.values(o).forEach(u=>{const v=u.vendor?.id,x=v?`vendor_${v}`:"platform";d[x]||(d[x]={id:v||null,display_name:u.vendor?.display_name||p("Platform","voxel-fse"),vendor_key:x,key:x,items:{},has_shippable_products:!1,shipping_zones:u.vendor?.shipping_zones||null,shipping_countries:u.vendor?.shipping_countries||null}),d[x].items[u.key]=u,u.shipping.is_shippable&&(d[x].has_shippable_products=!0)}),d},[o]),L=C.useMemo(()=>{if(!t?.multivendor.enabled)return!1;const d=Object.keys(I).length;return!(d<1||d===1&&I.platform)},[t,I]),N=()=>{if(!t?.multivendor.enabled||t.shipping.responsibility!=="vendor")return"platform_rates";const u=Object.keys(I).length;return u===1&&I.platform?"platform_rates":u>=1?"vendor_rates":null},V=C.useMemo(()=>{const d={...t?.shipping.countries};return N()==="vendor_rates"&&Object.values(I).forEach(u=>{u.shipping_countries&&Object.entries(u.shipping_countries).forEach(([v,x])=>{d[v]||(d[v]=x)})}),d},[t?.shipping.countries,I]),_=C.useMemo(()=>o?Object.values(o).some(d=>d.shipping.is_shippable):!1,[o]),f=C.useMemo(()=>{if(!o)return 0;let d=0;return Object.values(o).forEach(u=>{d+=u.pricing.total_amount}),d},[o]),E=C.useMemo(()=>{if(N()!=="vendor_rates")return!0;if(!s.country)return!1;const d=Object.values(I).filter(u=>u.has_shippable_products);for(const u of d){const v=s.vendors[u.key];if(!v?.zone||!v?.rate)return!1}return!0},[I,s]),T=C.useMemo(()=>{if(!s||!t)return null;if(N()==="platform_rates"){if(!s.zone||!s.rate)return null;const d=t.shipping.zones[s.zone];if(!d||!d.rates[s.rate])return null;const u=d.rates[s.rate];return u.type==="free_shipping"?0:u.amount_per_unit||0}else{if(!E)return null;let d=0;return Object.values(I).forEach(u=>{if(!u.has_shippable_products)return;const v=s.vendors[u.key];if(!v||!u.shipping_zones)return;const x=u.shipping_zones[v.zone];if(!x||!x.rates[v.rate])return;const k=x.rates[v.rate];k.type!=="free_shipping"&&(d+=k.amount_per_unit||0)}),d}},[s,t,I,E]),F=o&&Object.keys(o).length>0,M=t?.currency||"USD",U=t?.is_logged_in||!1,G=t?.guest_customers.behavior||"redirect_to_login",te=!U&&G==="proceed_with_email",Z=t?.guest_customers.proceed_with_email?.require_verification||!1,g=t?.guest_customers.proceed_with_email?.require_tos||!1,b=C.useMemo(()=>{if(!F||!U&&G==="proceed_with_email"&&(!m?.email||!/^\S+@\S+\.\S+$/.test(m.email)||Z&&!m.registered&&(!m.sent_code||!m.code)||g&&!m.terms_agreed))return!1;if(_&&s){if(!s.country)return!1;const d=N();if(d==="platform_rates"&&(!s.zone||!s.rate)||d==="vendor_rates"&&!E)return!1}return!0},[F,U,G,m,Z,g,_,s,t,E]),B=C.useMemo(()=>o?Object.values(o).every(d=>d.payment_method==="offline_payment"):!1,[o]);return n?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(z)}}),React.createElement("div",{className:"vx-loading-screen ts-checkout-loading"},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"})))):l?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(z)}}),React.createElement("div",{className:"ts-no-posts"},React.createElement("p",null,l))):r==="editor"?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(z)}}),React.createElement("div",{className:"ts-form ts-checkout ts-checkout-regular"},React.createElement("div",{className:"ts-cart-head"},React.createElement("h1",null,p("Order summary","voxel-fse"))),React.createElement("div",{className:"checkout-section form-field-grid"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"or-group"},React.createElement("div",{className:"or-line"}),React.createElement("span",{className:"or-text"},p("Items","voxel-fse")),React.createElement("div",{className:"or-line"}))),React.createElement("div",{className:"ts-form-group"},React.createElement("ul",{className:"ts-cart-list simplify-ul"},React.createElement("li",null,React.createElement("div",{className:"cart-image",style:{width:"60px",height:"60px",backgroundColor:"#e0e0e0",borderRadius:"8px"}}),React.createElement("div",{className:"cart-item-details"},React.createElement("a",{href:"#"},p("Sample Product","voxel-fse")),React.createElement("span",null,p("Product description","voxel-fse")),React.createElement("span",null,"$99.00")),React.createElement("div",{className:"cart-stepper"},React.createElement("a",{href:"#",className:"ts-icon-btn ts-smaller"},j(H(e.minusIcon,"minusIcon"))),React.createElement("span",null,"1"),React.createElement("a",{href:"#",className:"ts-icon-btn ts-smaller"},j(H(e.plusIcon,"plusIcon")))))))),React.createElement("div",{className:"checkout-section"},React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify"},React.createElement("li",{className:"ts-total"},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,p("Subtotal","voxel-fse"))),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,"$99.00")))),React.createElement("a",{href:"#",className:"ts-btn ts-btn-2 form-btn"},p("Proceed to payment","voxel-fse"),j(H(e.checkoutIcon,"checkoutIcon")))))):F?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(z)}}),React.createElement("div",{className:"ts-form ts-checkout ts-checkout-regular"},te&&m&&S&&t&&React.createElement(Ue,{config:t,quickRegister:m,onQuickRegisterChange:S,authLink:t.auth_link,requireVerification:Z,loginIcon:H(e.loginIcon,"loginIcon"),emailIcon:H(e.emailIcon,"emailIcon"),context:r}),(U||G!=="proceed_with_email")&&React.createElement("div",{className:"ts-cart-head"},React.createElement("h1",null,p("Order summary","voxel-fse"))),React.createElement("div",{className:"checkout-section form-field-grid"},L?Object.values(I).map(d=>React.createElement("div",{key:d.key},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"or-group"},React.createElement("div",{className:"or-line"}),React.createElement("span",{className:"or-text"},p("Sold by","voxel-fse")," ",d.display_name),React.createElement("div",{className:"or-line"}))),React.createElement("div",{className:"ts-form-group"},React.createElement("ul",{className:"ts-cart-list simplify-ul"},Object.values(d.items).map(u=>React.createElement(ye,{key:u.key,item:u,attributes:e,onUpdateQuantity:i,onRemoveItem:c,context:r})))))):React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"or-group"},React.createElement("div",{className:"or-line"}),React.createElement("span",{className:"or-text"},p("Items","voxel-fse")),React.createElement("div",{className:"or-line"}))),React.createElement("div",{className:"ts-form-group"},React.createElement("ul",{className:"ts-cart-list simplify-ul"},Object.values(o).map(d=>React.createElement(ye,{key:d.key,item:d,attributes:e,onUpdateQuantity:i,onRemoveItem:c,context:r})))))),_&&s&&h&&t&&React.createElement(React.Fragment,null,React.createElement(qe,{shipping:s,onShippingChange:h,countries:V,context:r}),s.status==="completed"&&s.country&&React.createElement(React.Fragment,null,N()==="platform_rates"&&React.createElement(Ye,{config:t,shipping:s,onShippingChange:h,items:o,shippingIcon:H(e.shippingIcon,"shippingIcon"),currency:M,l10n:t.l10n,context:r}),N()==="vendor_rates"&&React.createElement(lt,{config:t,shipping:s,onShippingChange:h,items:o,vendors:I,shippingIcon:H(e.shippingIcon,"shippingIcon"),currency:M,l10n:t.l10n,context:r}))),(U||G==="proceed_with_email")&&React.createElement("div",{className:"checkout-section form-field-grid"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"or-group"},React.createElement("div",{className:"or-line"}),React.createElement("span",{className:"or-text"},p("Details","voxel-fse")),React.createElement("div",{className:"or-line"}))),R&&y&&React.createElement(it,{enabled:R.enabled,content:R.content,onToggle:()=>y({enabled:!R.enabled}),onChange:d=>y({content:d}),context:r}),!U&&G==="proceed_with_email"&&g&&m&&S&&React.createElement("div",{className:"tos-checkbox ts-form-group vx-1-1 switcher-label"},React.createElement("label",{onClick:d=>{d.preventDefault(),r==="frontend"&&S({terms_agreed:!m.terms_agreed})}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-checkbox"},React.createElement("input",{type:"checkbox",tabIndex:0,className:"hidden",checked:m.terms_agreed,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("p",{className:"field-info"},p("I agree to the Terms and Conditions and Privacy Policy","voxel-fse"))))),React.createElement("div",{className:"checkout-section"},f!==0&&React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify"},T!==null&&React.createElement("li",null,React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,p("Shipping","voxel-fse"))),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,ee(T,M)))),React.createElement("li",{className:"ts-total"},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,p("Subtotal","voxel-fse"))),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,ee(f+(T||0),M))))),U||G==="proceed_with_email"?React.createElement("a",{href:"#",className:`ts-btn ts-btn-2 form-btn ${b?"":"vx-disabled"}`,onClick:d=>{d.preventDefault(),r==="frontend"&&b&&a&&a()}},f===0||B?React.createElement(React.Fragment,null,p("Submit order","voxel-fse"),j(H(e.continueIcon,"continueIcon"))):React.createElement(React.Fragment,null,p("Proceed to payment","voxel-fse"),j(H(e.checkoutIcon,"checkoutIcon")))):React.createElement("a",{href:t?.auth_link||"#",className:"ts-btn ts-btn-2 form-btn"},j(H(e.userIcon,"userIcon")),p("Log in to continue","voxel-fse"))))):React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(z)}}),React.createElement("div",{className:"ts-form ts-checkout ts-checkout-regular"},React.createElement("div",{className:"vx-loading-screen"},React.createElement("div",{className:"ts-form-group ts-no-posts"},j(H(e.noProductsIcon,"noProductsIcon")),React.createElement("p",null,p("No products selected for checkout","voxel-fse"))))))}function dt(e){const t=(c,a)=>typeof c=="string"?c:typeof c=="number"?String(c):a,o=(c,a)=>{if(typeof c=="number")return c;if(typeof c=="string"){const s=parseFloat(c);if(!isNaN(s))return s}return c==null,a},r=(c,a)=>typeof c=="boolean"?c:c==="true"||c==="1"||c===1?!0:c==="false"||c==="0"||c===0?!1:a,n=(c,a)=>{if(c&&typeof c=="object"){const s=c;return{library:t(s.library,a.library),value:t(s.value,a.value)}}return a},l={library:"",value:""};return{icons:(c=>{if(!c||typeof c!="object")return{deleteIcon:l,noProductsIcon:l,loginIcon:l,emailIcon:l,userIcon:l,uploadIcon:l,shippingIcon:l,minusIcon:l,plusIcon:l,checkoutIcon:l,continueIcon:l};const a=c;return{deleteIcon:n(a.deleteIcon??a.delete_icon??a.ts_delete_icon,l),noProductsIcon:n(a.noProductsIcon??a.no_products_icon??a.nostock_ico,l),loginIcon:n(a.loginIcon??a.login_icon??a.ts_enter,l),emailIcon:n(a.emailIcon??a.email_icon??a.auth_email_ico,l),userIcon:n(a.userIcon??a.user_icon??a.auth_user_ico,l),uploadIcon:n(a.uploadIcon??a.upload_icon??a.ts_upload_ico,l),shippingIcon:n(a.shippingIcon??a.shipping_icon??a.ts_shipping_ico,l),minusIcon:n(a.minusIcon??a.minus_icon??a.ts_minus_icon,l),plusIcon:n(a.plusIcon??a.plus_icon??a.ts_plus_icon,l),checkoutIcon:n(a.checkoutIcon??a.checkout_icon??a.ts_checkout_icon,l),continueIcon:n(a.continueIcon??a.continue_icon??a.ts_continue_icon,l)}})(e.icons),sectionSpacing:o(e.sectionSpacing??e.section_spacing??e.field_spacing_value,null)??void 0,titleColor:t(e.titleColor??e.title_color??e.wt_color,"")||void 0,emptyCartGap:o(e.emptyCartGap??e.empty_cart_gap??e.ts_nopost_content_Gap,null)??void 0,emptyCartIconSize:o(e.emptyCartIconSize??e.empty_cart_icon_size??e.ts_nopost_ico_size,null)??void 0,emptyCartIconColor:t(e.emptyCartIconColor??e.empty_cart_icon_color??e.ts_nopost_ico_col,"")||void 0,emptyCartTextColor:t(e.emptyCartTextColor??e.empty_cart_text_color??e.ts_nopost_typo_col,"")||void 0,primaryBtnTextColor:t(e.primaryBtnTextColor??e.primary_btn_text_color??e.ts_sf_form_btn_c,"")||void 0,primaryBtnBgColor:t(e.primaryBtnBgColor??e.primary_btn_bg_color??e.ts_sf_form_btn_bg,"")||void 0,primaryBtnBorderColor:t(e.primaryBtnBorderColor??e.primary_btn_border_color,"")||void 0,primaryBtnRadius:o(e.primaryBtnRadius??e.primary_btn_radius??e.ts_sf_form_btn_radius,null)??void 0,primaryBtnIconSize:o(e.primaryBtnIconSize??e.primary_btn_icon_size??e.ts_sf_form_btn_icon_size,null)??void 0,primaryBtnIconColor:t(e.primaryBtnIconColor??e.primary_btn_icon_color??e.ts_sf_form_btn_icon_color,"")||void 0,primaryBtnIconSpacing:o(e.primaryBtnIconSpacing??e.primary_btn_icon_spacing??e.ts_sf_form_btn_icon_spacing,null)??void 0,primaryBtnTextColorHover:t(e.primaryBtnTextColorHover??e.primary_btn_text_color_hover??e.ts_sf_form_btn_c_h,"")||void 0,primaryBtnBgColorHover:t(e.primaryBtnBgColorHover??e.primary_btn_bg_color_hover??e.ts_sf_form_btn_bg_h,"")||void 0,primaryBtnBorderColorHover:t(e.primaryBtnBorderColorHover??e.primary_btn_border_color_hover??e.ts_sf_form_btn_border_h,"")||void 0,primaryBtnIconColorHover:t(e.primaryBtnIconColorHover??e.primary_btn_icon_color_hover??e.ts_sf_form_btn_icon_color_h,"")||void 0,secondaryBtnTextColor:t(e.secondaryBtnTextColor??e.secondary_btn_text_color??e.scnd_btn_c,"")||void 0,secondaryBtnBgColor:t(e.secondaryBtnBgColor??e.secondary_btn_bg_color??e.scnd_btn_bg,"")||void 0,secondaryBtnBorderColor:t(e.secondaryBtnBorderColor??e.secondary_btn_border_color,"")||void 0,secondaryBtnRadius:o(e.secondaryBtnRadius??e.secondary_btn_radius??e.scnd_btn_radius,null)??void 0,secondaryBtnIconSize:o(e.secondaryBtnIconSize??e.secondary_btn_icon_size??e.scnd_btn_icon_size,null)??void 0,secondaryBtnIconColor:t(e.secondaryBtnIconColor??e.secondary_btn_icon_color??e.scnd_btn_icon_color,"")||void 0,secondaryBtnIconSpacing:o(e.secondaryBtnIconSpacing??e.secondary_btn_icon_spacing??e.scnd_btn_icon_pad,null)??void 0,secondaryBtnTextColorHover:t(e.secondaryBtnTextColorHover??e.secondary_btn_text_color_hover??e.scnd_btn_c_h,"")||void 0,secondaryBtnBgColorHover:t(e.secondaryBtnBgColorHover??e.secondary_btn_bg_color_hover??e.scnd_btn_bg_h,"")||void 0,secondaryBtnBorderColorHover:t(e.secondaryBtnBorderColorHover??e.secondary_btn_border_color_hover??e.scnd_btn_border_h,"")||void 0,secondaryBtnIconColorHover:t(e.secondaryBtnIconColorHover??e.secondary_btn_icon_color_hover??e.scnd_btn_icon_color_h,"")||void 0,loaderColor1:t(e.loaderColor1??e.loader_color1??e.tm_color1,"")||void 0,loaderColor2:t(e.loaderColor2??e.loader_color2??e.tm_color2,"")||void 0,checkboxBorderColor:t(e.checkboxBorderColor??e.checkbox_border_color,"")||void 0,checkboxSelectedBgColor:t(e.checkboxSelectedBgColor??e.checkbox_selected_bg_color??e.ts_checkbox_checked,"")||void 0,cartItemSpacing:o(e.cartItemSpacing??e.cart_item_spacing??e.cart_spacing,null)??void 0,cartItemContentSpacing:o(e.cartItemContentSpacing??e.cart_item_content_spacing??e.cart_item_spacing,null)??void 0,cartPictureSize:o(e.cartPictureSize??e.cart_picture_size??e.ts_cart_img_size,null)??void 0,cartPictureRadius:o(e.cartPictureRadius??e.cart_picture_radius??e.ts_cart_img_radius,null)??void 0,cartTitleColor:t(e.cartTitleColor??e.cart_title_color??e.ts_cart_title_col,"")||void 0,cartSubtitleColor:t(e.cartSubtitleColor??e.cart_subtitle_color??e.ts_cart_sub_col,"")||void 0,iconBtnColor:t(e.iconBtnColor??e.icon_btn_color??e.ts_cart_btn_color,"")||void 0,iconBtnBgColor:t(e.iconBtnBgColor??e.icon_btn_bg_color??e.ts_cart_btn_bg,"")||void 0,iconBtnBorderColor:t(e.iconBtnBorderColor??e.icon_btn_border_color,"")||void 0,iconBtnRadius:o(e.iconBtnRadius??e.icon_btn_radius??e.ts_cart_btn_radius,null)??void 0,iconBtnValueSize:o(e.iconBtnValueSize??e.icon_btn_value_size??e.ts_cart_btn_val_size,null)??void 0,iconBtnValueColor:t(e.iconBtnValueColor??e.icon_btn_value_color??e.ts_cart_btn_val_col,"")||void 0,iconBtnColorHover:t(e.iconBtnColorHover??e.icon_btn_color_hover??e.ts_cart_btn_color_h,"")||void 0,iconBtnBgColorHover:t(e.iconBtnBgColorHover??e.icon_btn_bg_color_hover??e.ts_cart_btn_bg_h,"")||void 0,iconBtnBorderColorHover:t(e.iconBtnBorderColorHover??e.icon_btn_border_color_hover??e.ts_cart_btn_border_h,"")||void 0,dropdownBgColor:t(e.dropdownBgColor??e.dropdown_bg_color??e.pg_trs_bg,"")||void 0,dropdownTextColor:t(e.dropdownTextColor??e.dropdown_text_color??e.pg_trs_text,"")||void 0,dropdownBorderColor:t(e.dropdownBorderColor??e.dropdown_border_color,"")||void 0,dropdownRadius:o(e.dropdownRadius??e.dropdown_radius??e.pg_trs_radius,null)??void 0,dropdownHeight:o(e.dropdownHeight??e.dropdown_height??e.pg_trs_height,null)??void 0,dropdownIconColor:t(e.dropdownIconColor??e.dropdown_icon_color??e.pg_trs_ico,"")||void 0,dropdownIconSize:o(e.dropdownIconSize??e.dropdown_icon_size??e.pg_trs_ico_size,null)??void 0,dropdownIconSpacing:o(e.dropdownIconSpacing??e.dropdown_icon_spacing??e.pg_trs_ico_spacing,null)??void 0,dropdownHideChevron:r(e.dropdownHideChevron??e.dropdown_hide_chevron??e.pg_trs_chevron_hide,!1),dropdownChevronColor:t(e.dropdownChevronColor??e.dropdown_chevron_color??e.pg_trs_chevron_col,"")||void 0,dropdownBgColorHover:t(e.dropdownBgColorHover??e.dropdown_bg_color_hover??e.pg_trs_bg_h,"")||void 0,dropdownTextColorHover:t(e.dropdownTextColorHover??e.dropdown_text_color_hover??e.pg_trs_text_h,"")||void 0,dropdownBorderColorHover:t(e.dropdownBorderColorHover??e.dropdown_border_color_hover??e.pg_trs_border_h,"")||void 0,dropdownIconColorHover:t(e.dropdownIconColorHover??e.dropdown_icon_color_hover??e.pg_trs_ico_h,"")||void 0,dropdownBgColorFilled:t(e.dropdownBgColorFilled??e.dropdown_bg_color_filled??e.pg_trs_bg_f,"")||void 0,dropdownTextColorFilled:t(e.dropdownTextColorFilled??e.dropdown_text_color_filled??e.pg_trs_text_f,"")||void 0,dropdownIconColorFilled:t(e.dropdownIconColorFilled??e.dropdown_icon_color_filled??e.pg_trs_ico_f,"")||void 0,dropdownBorderColorFilled:t(e.dropdownBorderColorFilled??e.dropdown_border_color_filled??e.pg_trs_border_f,"")||void 0,shipToTextColor:t(e.shipToTextColor??e.ship_to_text_color??e.shipto_color,"")||void 0,shipToLinkColor:t(e.shipToLinkColor??e.ship_to_link_color??e.shipto_link_color,"")||void 0,dividerTextColor:t(e.dividerTextColor??e.divider_text_color??e.sd_color,"")||void 0,dividerLineColor:t(e.dividerLineColor??e.divider_line_color??e.sd_div_color,"")||void 0,dividerLineHeight:o(e.dividerLineHeight??e.divider_line_height??e.sd_div_height,null)??void 0,subtotalTextColor:t(e.subtotalTextColor??e.subtotal_text_color??e.calc_text_color_total,"")||void 0,fieldLabelColor:t(e.fieldLabelColor??e.field_label_color??e.auth_label_col,"")||void 0,fieldLabelLinkColor:t(e.fieldLabelLinkColor??e.field_label_link_color??e.auth_label_link,"")||void 0,inputPlaceholderColor:t(e.inputPlaceholderColor??e.input_placeholder_color??e.auth_placeholder_color,"")||void 0,inputValueColor:t(e.inputValueColor??e.input_value_color??e.auth_input_color,"")||void 0,inputBgColor:t(e.inputBgColor??e.input_bg_color??e.auth_input_bg,"")||void 0,inputBorderColor:t(e.inputBorderColor??e.input_border_color,"")||void 0,inputHeight:o(e.inputHeight??e.input_height??e.auth_input_height,null)??void 0,inputRadius:o(e.inputRadius??e.input_radius??e.auth_input_radius,null)??void 0,inputIconColor:t(e.inputIconColor??e.input_icon_color??e.auth_icon_color,"")||void 0,inputIconSize:o(e.inputIconSize??e.input_icon_size??e.auth_icon_size,null)??void 0,inputIconMargin:o(e.inputIconMargin??e.input_icon_margin??e.auth_icon_margin,null)??void 0,textareaRadius:o(e.textareaRadius??e.textarea_radius??e.auth_textarea_radius,null)??void 0,inputBgColorHover:t(e.inputBgColorHover??e.input_bg_color_hover??e.auth_input_bg_h,"")||void 0,inputBorderColorHover:t(e.inputBorderColorHover??e.input_border_color_hover??e.auth_input_border_h,"")||void 0,inputPlaceholderColorHover:t(e.inputPlaceholderColorHover??e.input_placeholder_color_hover??e.auth_placeholder_color_h,"")||void 0,inputValueColorHover:t(e.inputValueColorHover??e.input_value_color_hover??e.auth_input_color_h,"")||void 0,inputIconColorHover:t(e.inputIconColorHover??e.input_icon_color_hover??e.auth_icon_color_h,"")||void 0,inputBgColorActive:t(e.inputBgColorActive??e.input_bg_color_active??e.auth_input_bg_a,"")||void 0,inputBorderColorActive:t(e.inputBorderColorActive??e.input_border_color_active??e.auth_input_border_a,"")||void 0,inputPlaceholderColorActive:t(e.inputPlaceholderColorActive??e.input_placeholder_color_active??e.auth_placeholder_color_a,"")||void 0,inputValueColorActive:t(e.inputValueColorActive??e.input_value_color_active??e.auth_input_color_a,"")||void 0,cardsGap:o(e.cardsGap??e.cards_gap??e.ts_method_cards_gap,null)??void 0,cardsBgColor:t(e.cardsBgColor??e.cards_bg_color??e.ts_method_cards_bg,"")||void 0,cardsBorderColor:t(e.cardsBorderColor??e.cards_border_color,"")||void 0,cardsRadius:o(e.cardsRadius??e.cards_radius??e.ts_method_cards_radius,null)??void 0,cardsPrimaryColor:t(e.cardsPrimaryColor??e.cards_primary_color??e.ts_method_cards_col,"")||void 0,cardsSecondaryColor:t(e.cardsSecondaryColor??e.cards_secondary_color??e.ts_method_cards_scnd_col,"")||void 0,cardsPriceColor:t(e.cardsPriceColor??e.cards_price_color??e.ts_method_cards_price_col,"")||void 0,cardsImageRadius:o(e.cardsImageRadius??e.cards_image_radius??e.ts_method_cards_img_radius,null)??void 0,cardsImageSize:o(e.cardsImageSize??e.cards_image_size??e.ts_method_cards_img_size,null)??void 0,cardsSelectedBgColor:t(e.cardsSelectedBgColor??e.cards_selected_bg_color??e.ts_method_cards_bg_a,"")||void 0,cardsSelectedBorderColor:t(e.cardsSelectedBorderColor??e.cards_selected_border_color??e.ts_method_cards_border_a,"")||void 0,fileFieldGap:o(e.fileFieldGap??e.file_field_gap,null)??void 0,fileSelectIconColor:t(e.fileSelectIconColor??e.file_select_icon_color,"")||void 0,fileSelectIconSize:o(e.fileSelectIconSize??e.file_select_icon_size,null)??void 0,fileSelectBgColor:t(e.fileSelectBgColor??e.file_select_bg_color??e.file_select_bg,"")||void 0,fileSelectBorderColor:t(e.fileSelectBorderColor??e.file_select_border_color,"")||void 0,fileSelectRadius:o(e.fileSelectRadius??e.file_select_radius,null)??void 0,fileSelectTextColor:t(e.fileSelectTextColor??e.file_select_text_color,"")||void 0,addedFileRadius:o(e.addedFileRadius??e.added_file_radius,null)??void 0,addedFileBgColor:t(e.addedFileBgColor??e.added_file_bg_color??e.added_file_bg,"")||void 0,addedFileIconColor:t(e.addedFileIconColor??e.added_file_icon_color,"")||void 0,addedFileIconSize:o(e.addedFileIconSize??e.added_file_icon_size,null)??void 0,addedFileTextColor:t(e.addedFileTextColor??e.added_file_text_color,"")||void 0,removeFileBgColor:t(e.removeFileBgColor??e.remove_file_bg_color??e.remove_file_bg,"")||void 0,removeFileBgColorHover:t(e.removeFileBgColorHover??e.remove_file_bg_color_hover??e.remove_file_bg_h,"")||void 0,removeFileColor:t(e.removeFileColor??e.remove_file_color,"")||void 0,removeFileColorHover:t(e.removeFileColorHover??e.remove_file_color_hover??e.remove_file_color_h,"")||void 0,removeFileRadius:o(e.removeFileRadius??e.remove_file_radius,null)??void 0,removeFileSize:o(e.removeFileSize??e.remove_file_size,null)??void 0,removeFileIconSize:o(e.removeFileIconSize??e.remove_file_icon_size,null)??void 0,fileSelectIconColorHover:t(e.fileSelectIconColorHover??e.file_select_icon_color_hover??e.file_select_icon_color_h,"")||void 0,fileSelectBgColorHover:t(e.fileSelectBgColorHover??e.file_select_bg_color_hover??e.file_select_bg_h,"")||void 0,fileSelectBorderColorHover:t(e.fileSelectBorderColorHover??e.file_select_border_color_hover??e.file_select_border_h,"")||void 0,fileSelectTextColorHover:t(e.fileSelectTextColorHover??e.file_select_text_color_hover??e.file_select_text_color_h,"")||void 0}}function ut(){return Me()}function q(){const e=window;return typeof window<"u"&&e.Voxel_Config?.ajax_url?e.Voxel_Config.ajax_url:_e().replace("?vx=1","")}function pt(e){const t=e.querySelector("script.vxconfig");if(t&&t.textContent)try{const o=JSON.parse(t.textContent);return dt(o)}catch(o){console.error("Failed to parse vxconfig:",o)}return null}const $={deleteIcon:{library:"icon",value:"las la-trash-alt"},noProductsIcon:{library:"icon",value:"las la-box"},loginIcon:{library:"icon",value:"las la-sign-in-alt"},emailIcon:{library:"icon",value:"las la-envelope"},userIcon:{library:"icon",value:"las la-user"},uploadIcon:{library:"icon",value:"las la-cloud-upload-alt"},shippingIcon:{library:"icon",value:"las la-shipping-fast"},minusIcon:{library:"icon",value:"las la-minus"},plusIcon:{library:"icon",value:"las la-plus"},checkoutIcon:{library:"icon",value:"las la-arrow-right"},continueIcon:{library:"icon",value:"las la-arrow-right"}};function _t(e){return{blockId:"",deleteIcon:e.icons?.deleteIcon||$.deleteIcon,noProductsIcon:e.icons?.noProductsIcon||$.noProductsIcon,loginIcon:e.icons?.loginIcon||$.loginIcon,emailIcon:e.icons?.emailIcon||$.emailIcon,userIcon:e.icons?.userIcon||$.userIcon,uploadIcon:e.icons?.uploadIcon||$.uploadIcon,shippingIcon:e.icons?.shippingIcon||$.shippingIcon,minusIcon:e.icons?.minusIcon||$.minusIcon,plusIcon:e.icons?.plusIcon||$.plusIcon,checkoutIcon:e.icons?.checkoutIcon||$.checkoutIcon,continueIcon:e.icons?.continueIcon||$.continueIcon,sectionSpacing:e.sectionSpacing||40,sectionSpacing_tablet:null,sectionSpacing_mobile:null,titleTypography:{},titleColor:e.titleColor||"",emptyCartGap:e.emptyCartGap??null,emptyCartGap_tablet:null,emptyCartGap_mobile:null,emptyCartIconSize:e.emptyCartIconSize??null,emptyCartIconSize_tablet:null,emptyCartIconSize_mobile:null,emptyCartIconColor:e.emptyCartIconColor||"",emptyCartTypography:{},emptyCartTextColor:e.emptyCartTextColor||"",primaryBtnTypography:{},primaryBtnBorderType:"",primaryBtnBorderWidth:{},primaryBtnBorderColor:e.primaryBtnBorderColor||"",primaryBtnRadius:e.primaryBtnRadius??null,primaryBtnRadius_tablet:null,primaryBtnRadius_mobile:null,primaryBtnBoxShadow:{},primaryBtnTextColor:e.primaryBtnTextColor||"",primaryBtnBgColor:e.primaryBtnBgColor||"",primaryBtnIconSize:e.primaryBtnIconSize??null,primaryBtnIconSize_tablet:null,primaryBtnIconSize_mobile:null,primaryBtnIconColor:e.primaryBtnIconColor||"",primaryBtnIconSpacing:e.primaryBtnIconSpacing??null,primaryBtnIconSpacing_tablet:null,primaryBtnIconSpacing_mobile:null,primaryBtnTextColorHover:e.primaryBtnTextColorHover||"",primaryBtnBgColorHover:e.primaryBtnBgColorHover||"",primaryBtnBorderColorHover:e.primaryBtnBorderColorHover||"",primaryBtnBoxShadowHover:{},primaryBtnIconColorHover:e.primaryBtnIconColorHover||"",secondaryBtnTypography:{},secondaryBtnRadius:e.secondaryBtnRadius??null,secondaryBtnRadius_tablet:null,secondaryBtnRadius_mobile:null,secondaryBtnTextColor:e.secondaryBtnTextColor||"",secondaryBtnPadding:{},secondaryBtnPadding_tablet:{},secondaryBtnPadding_mobile:{},secondaryBtnBgColor:e.secondaryBtnBgColor||"",secondaryBtnBorderType:"",secondaryBtnBorderWidth:{},secondaryBtnBorderColor:e.secondaryBtnBorderColor||"",secondaryBtnIconSize:e.secondaryBtnIconSize??null,secondaryBtnIconSize_tablet:null,secondaryBtnIconSize_mobile:null,secondaryBtnIconSpacing:e.secondaryBtnIconSpacing??null,secondaryBtnIconSpacing_tablet:null,secondaryBtnIconSpacing_mobile:null,secondaryBtnIconColor:e.secondaryBtnIconColor||"",secondaryBtnTextColorHover:e.secondaryBtnTextColorHover||"",secondaryBtnBgColorHover:e.secondaryBtnBgColorHover||"",secondaryBtnBorderColorHover:e.secondaryBtnBorderColorHover||"",secondaryBtnIconColorHover:e.secondaryBtnIconColorHover||"",loaderColor1:e.loaderColor1||"",loaderColor2:e.loaderColor2||"",checkboxBorderColor:e.checkboxBorderColor||"",checkboxSelectedBgColor:e.checkboxSelectedBgColor||"",checkboxSelectedBoxShadow:{},cartItemSpacing:e.cartItemSpacing??null,cartItemSpacing_tablet:null,cartItemSpacing_mobile:null,cartItemContentSpacing:e.cartItemContentSpacing??null,cartItemContentSpacing_tablet:null,cartItemContentSpacing_mobile:null,cartPictureSize:e.cartPictureSize??null,cartPictureSize_tablet:null,cartPictureSize_mobile:null,cartPictureRadius:e.cartPictureRadius??null,cartPictureRadius_tablet:null,cartPictureRadius_mobile:null,cartTitleTypography:{},cartTitleColor:e.cartTitleColor||"",cartSubtitleTypography:{},cartSubtitleColor:e.cartSubtitleColor||"",iconBtnColor:e.iconBtnColor||"",iconBtnBgColor:e.iconBtnBgColor||"",iconBtnBorderType:"",iconBtnBorderWidth:{},iconBtnBorderColor:e.iconBtnBorderColor||"",iconBtnRadius:e.iconBtnRadius??null,iconBtnRadius_tablet:null,iconBtnRadius_mobile:null,iconBtnValueSize:e.iconBtnValueSize??null,iconBtnValueColor:e.iconBtnValueColor||"",iconBtnColorHover:e.iconBtnColorHover||"",iconBtnBgColorHover:e.iconBtnBgColorHover||"",iconBtnBorderColorHover:e.iconBtnBorderColorHover||"",dropdownTypography:{},dropdownBoxShadow:{},dropdownBgColor:e.dropdownBgColor||"",dropdownTextColor:e.dropdownTextColor||"",dropdownBorderType:"",dropdownBorderWidth:{},dropdownBorderColor:e.dropdownBorderColor||"",dropdownRadius:e.dropdownRadius??null,dropdownRadius_tablet:null,dropdownRadius_mobile:null,dropdownHeight:e.dropdownHeight??null,dropdownHeight_tablet:null,dropdownHeight_mobile:null,dropdownIconColor:e.dropdownIconColor||"",dropdownIconSize:e.dropdownIconSize??24,dropdownIconSize_tablet:null,dropdownIconSize_mobile:null,dropdownIconSpacing:e.dropdownIconSpacing??10,dropdownIconSpacing_tablet:null,dropdownIconSpacing_mobile:null,dropdownHideChevron:e.dropdownHideChevron||!1,dropdownChevronColor:e.dropdownChevronColor||"",dropdownBgColorHover:e.dropdownBgColorHover||"",dropdownTextColorHover:e.dropdownTextColorHover||"",dropdownBorderColorHover:e.dropdownBorderColorHover||"",dropdownIconColorHover:e.dropdownIconColorHover||"",dropdownBoxShadowHover:{},dropdownTypographyFilled:{},dropdownBgColorFilled:e.dropdownBgColorFilled||"",dropdownTextColorFilled:e.dropdownTextColorFilled||"",dropdownIconColorFilled:e.dropdownIconColorFilled||"",dropdownBorderColorFilled:e.dropdownBorderColorFilled||"",dropdownBorderWidthFilled:null,dropdownBoxShadowFilled:{},shipToTypography:{},shipToTextColor:e.shipToTextColor||"",shipToLinkColor:e.shipToLinkColor||"",dividerTypography:{},dividerTextColor:e.dividerTextColor||"",dividerLineColor:e.dividerLineColor||"",dividerLineHeight:e.dividerLineHeight??null,subtotalTypography:{},subtotalTextColor:e.subtotalTextColor||"",fieldLabelTypography:{},fieldLabelColor:e.fieldLabelColor||"",fieldLabelLinkColor:e.fieldLabelLinkColor||"",inputPlaceholderColor:e.inputPlaceholderColor||"",inputPlaceholderTypography:{},inputValueColor:e.inputValueColor||"",inputValueTypography:{},inputBgColor:e.inputBgColor||"",inputBorderType:"",inputBorderWidth:{},inputBorderColor:e.inputBorderColor||"",inputPadding:{},inputPadding_tablet:{},inputPadding_mobile:{},inputHeight:e.inputHeight??null,inputHeight_tablet:null,inputHeight_mobile:null,inputRadius:e.inputRadius??null,inputRadius_tablet:null,inputRadius_mobile:null,inputWithIconPadding:{},inputWithIconPadding_tablet:{},inputWithIconPadding_mobile:{},inputIconColor:e.inputIconColor||"",inputIconSize:e.inputIconSize??null,inputIconSize_tablet:null,inputIconSize_mobile:null,inputIconMargin:e.inputIconMargin??null,inputIconMargin_tablet:null,inputIconMargin_mobile:null,textareaPadding:{},textareaPadding_tablet:{},textareaPadding_mobile:{},textareaRadius:e.textareaRadius??null,textareaRadius_tablet:null,textareaRadius_mobile:null,inputBgColorHover:e.inputBgColorHover||"",inputBorderColorHover:e.inputBorderColorHover||"",inputPlaceholderColorHover:e.inputPlaceholderColorHover||"",inputValueColorHover:e.inputValueColorHover||"",inputIconColorHover:e.inputIconColorHover||"",inputBgColorActive:e.inputBgColorActive||"",inputBorderColorActive:e.inputBorderColorActive||"",inputPlaceholderColorActive:e.inputPlaceholderColorActive||"",inputValueColorActive:e.inputValueColorActive||"",cardsGap:e.cardsGap??null,cardsGap_tablet:null,cardsGap_mobile:null,cardsBgColor:e.cardsBgColor||"",cardsBorderType:"",cardsBorderWidth:{},cardsBorderColor:e.cardsBorderColor||"",cardsRadius:e.cardsRadius??null,cardsRadius_tablet:null,cardsRadius_mobile:null,cardsPrimaryTypography:{},cardsPrimaryColor:e.cardsPrimaryColor||"",cardsSecondaryTypography:{},cardsSecondaryColor:e.cardsSecondaryColor||"",cardsPriceTypography:{},cardsPriceColor:e.cardsPriceColor||"",cardsImageRadius:e.cardsImageRadius??null,cardsImageRadius_tablet:null,cardsImageRadius_mobile:null,cardsImageSize:e.cardsImageSize??null,cardsImageSize_tablet:null,cardsImageSize_mobile:null,cardsSelectedBgColor:e.cardsSelectedBgColor||"",cardsSelectedBorderColor:e.cardsSelectedBorderColor||"",cardsSelectedBoxShadow:{},cardsSelectedPrimaryTypography:{},fileFieldGap:e.fileFieldGap??null,fileFieldGap_tablet:null,fileFieldGap_mobile:null,fileSelectIconColor:e.fileSelectIconColor||"",fileSelectIconSize:e.fileSelectIconSize??null,fileSelectIconSize_tablet:null,fileSelectIconSize_mobile:null,fileSelectBgColor:e.fileSelectBgColor||"",fileSelectBorderType:"",fileSelectBorderWidth:{},fileSelectBorderColor:e.fileSelectBorderColor||"",fileSelectRadius:e.fileSelectRadius??null,fileSelectRadius_tablet:null,fileSelectRadius_mobile:null,fileSelectTypography:{},fileSelectTextColor:e.fileSelectTextColor||"",addedFileRadius:e.addedFileRadius??null,addedFileRadius_tablet:null,addedFileRadius_mobile:null,addedFileBgColor:e.addedFileBgColor||"",addedFileIconColor:e.addedFileIconColor||"",addedFileIconSize:e.addedFileIconSize??null,addedFileIconSize_tablet:null,addedFileIconSize_mobile:null,addedFileTypography:{},addedFileTextColor:e.addedFileTextColor||"",removeFileBgColor:e.removeFileBgColor||"",removeFileBgColorHover:e.removeFileBgColorHover||"",removeFileColor:e.removeFileColor||"",removeFileColorHover:e.removeFileColorHover||"",removeFileRadius:e.removeFileRadius??null,removeFileRadius_tablet:null,removeFileRadius_mobile:null,removeFileSize:e.removeFileSize??null,removeFileIconSize:e.removeFileIconSize??null,fileSelectIconColorHover:e.fileSelectIconColorHover||"",fileSelectBgColorHover:e.fileSelectBgColorHover||"",fileSelectBorderColorHover:e.fileSelectBorderColorHover||"",fileSelectTextColorHover:e.fileSelectTextColorHover||"",blockMargin:{},blockMargin_tablet:{},blockMargin_mobile:{},blockPadding:{},blockPadding_tablet:{},blockPadding_mobile:{},hideDesktop:!1,hideTablet:!1,hideMobile:!1,customClasses:"",customCSS:""}}async function mt(){const e=ut();try{const t=await fetch(`${e}voxel-fse/v1/cart/config`,{credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Failed to fetch cart config:",t),null}}async function ft(e,t){const o=q();try{const r=localStorage.getItem("voxel:guest_cart"),n=t?"products.get_cart_items":"products.get_guest_cart_items",l=new FormData;l.append("_wpnonce",e.nonce.cart),r&&l.append("guest_cart",r);const i=await fetch(`${o}?vx=1&action=${n}`,{method:"POST",credentials:"same-origin",body:l});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=await i.text();if(!c||c.trim()==="")return console.warn("Empty response from cart items endpoint"),{};let a;try{a=JSON.parse(c)}catch{throw console.error("Failed to parse cart items response:",c),new Error("Invalid JSON response from server")}return a.success?(t&&r&&localStorage.removeItem("voxel:guest_cart"),a.items||{}):(console.error("Failed to fetch cart items:",a.message),null)}catch(r){return console.error("Failed to fetch cart items:",r),null}}async function ht(e,t){const o=q();try{let r=null;try{const c=localStorage.getItem("voxel:direct_cart");c&&(r=JSON.parse(c)[t])}catch(c){console.error("Failed to parse direct cart:",c)}const n=new URL(`${o}`);n.searchParams.set("vx","1"),n.searchParams.set("action","products.get_direct_cart"),n.searchParams.set("_wpnonce",e.nonce.cart),r&&n.searchParams.set("item",JSON.stringify(r));const l=await fetch(n.toString(),{credentials:"same-origin"});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const i=await l.json();return i.success&&i.item?{[i.item.key]:i.item}:(console.error("Failed to fetch direct cart item:",i.message),{})}catch(r){return console.error("Failed to fetch direct cart item:",r),null}}function vt({attributes:e}){const[t,o]=C.useState(null),[r,n]=C.useState(null),[l,i]=C.useState(!0),[c,a]=C.useState(null),[s,h]=C.useState({first_name:"",last_name:"",country:null,state:"",address:"",zip:"",zone:null,rate:null,status:"pending_setup",vendors:{}}),[m,S]=C.useState({email:"",sending_code:!1,sent_code:!1,code:"",registered:!1,terms_agreed:!1}),[R,y]=C.useState({enabled:!1,content:""}),[z,I]=C.useState("cart"),L=async g=>{for(const b of g)try{const d=await(await fetch(b.url)).json();if(d?.[b.prop]){const u=d[b.prop];if(typeof u=="string")return document.cookie=`_vx_ccode=${u}; max-age:259200; path=/`,u.toUpperCase()}}catch(B){console.error("GeoIP provider error:",B)}return null},N=g=>new URLSearchParams(window.location.search).get(g),V=g=>{const b=new URL(window.location.href);b.searchParams.delete(g),window.history.replaceState({},"",b.toString())};C.useEffect(()=>{let g=!1;async function b(){const B=await mt();if(g)return;if(!B){a("Failed to load cart configuration"),i(!1);return}o(B);const d=N("checkout_item");if(d){I("direct_cart");const D=N("_item");if(D)try{const O=JSON.parse(atob(D));localStorage.setItem("voxel:direct_cart",JSON.stringify({[d]:O}))}catch(O){console.error("Failed to parse direct cart item:",O)}const A=await ht(B,d);!g&&A!==null&&n(A),i(!1);return}const u=B.shipping.saved_address,v=B.shipping.default_country,x=B.shipping.countries;if(u&&u.country&&x[u.country])h({first_name:u.first_name||"",last_name:u.last_name||"",country:u.country,state:u.state||"",address:u.address||"",zip:u.zip||"",zone:null,rate:null,status:"completed",vendors:{}}),u.country;else if(v&&x[v])h(D=>({...D,country:v,status:"completed"}));else if(B.geoip_providers.length>0){const D=await L(B.geoip_providers);if(D&&x[D])h(A=>({...A,country:D,status:"completed"}));else{const A=Object.keys(x);A.length>0?(A[0],h(O=>({...O,country:A[0],status:"completed"}))):h(O=>({...O,status:"completed"}))}}else{const D=Object.keys(x);D.length>0?(D[0],h(A=>({...A,country:D[0],status:"completed"}))):h(A=>({...A,status:"completed"}))}const k=await ft(B,B.is_logged_in);g||(n(k!==null?k:{}),i(!1))}return b(),()=>{g=!0}},[]);const _=C.useCallback(async(g,b)=>{if(!t||!r)return;const B=r[g];if(!B)return;const d={...r};d[g]={...B,_disabled:!0},n(d);try{const u=q(),v=t.is_logged_in||m.registered,x=v?"products.update_cart_item_quantity":"products.update_guest_cart_item_quantity",k=new FormData;if(k.append("item_key",g),k.append("item_quantity",String(b)),k.append("_wpnonce",t.nonce.cart),!v){const O=localStorage.getItem("voxel:guest_cart");O&&k.append("guest_cart",O)}const A=await(await fetch(`${u}?vx=1&action=${x}`,{method:"POST",credentials:"same-origin",body:k})).json();A.success&&A.item?(n(O=>O&&{...O,[g]:A.item}),v||E({...r,[g]:A.item})):(n(O=>O&&{...O,[g]:{...B,_disabled:!1}}),alert(A.message||"Failed to update quantity"))}catch(u){n(v=>v&&{...v,[g]:{...B,_disabled:!1}}),console.error("Failed to update quantity:",u)}},[t,r,m.registered]),f=C.useCallback(async g=>{if(!t||!r||!r[g])return;if(z==="direct_cart"){n({}),localStorage.removeItem("voxel:direct_cart"),V("checkout_item");return}const B={...r};delete B[g];try{const d=q();if(t.is_logged_in||m.registered){const v=new FormData;v.append("item_key",g),v.append("_wpnonce",t.nonce.cart);const k=await(await fetch(`${d}?vx=1&action=products.remove_cart_item`,{method:"POST",credentials:"same-origin",body:v})).json();k.success?n(B):alert(k.message||"Failed to remove item")}else n(B),E(B)}catch(d){console.error("Failed to remove item:",d)}},[t,r,m.registered]),E=g=>{if(Object.keys(g).length){const b={};Object.values(g).forEach(B=>{b[B.key]=B.value}),localStorage.setItem("voxel:guest_cart",JSON.stringify(b))}else localStorage.removeItem("voxel:guest_cart")},[T,F]=C.useState(!1),M=C.useCallback(async()=>{if(!t)return!1;const g=q(),b=new FormData;b.append("email",m.email),b.append("_wpnonce",t.nonce.checkout),t.guest_customers.proceed_with_email?.require_verification&&b.append("_confirmation_code",m.code),t.guest_customers.proceed_with_email?.require_tos&&b.append("terms_agreed",m.terms_agreed?"1":"0");const B=localStorage.getItem("voxel:guest_cart");if(B&&b.append("guest_cart",B),t.recaptcha.enabled&&t.recaptcha.key){const d=window.grecaptcha;if(d)try{const u=await new Promise(v=>{d.ready(async()=>{const x=await d.execute(t.recaptcha.key,{action:"quick_register"});v(x)})});b.append("_recaptcha",u)}catch(u){console.error("reCAPTCHA error:",u)}}try{const u=await(await fetch(`${g}?vx=1&action=products.quick_register.process`,{method:"POST",credentials:"same-origin",body:b})).json();if(u.success&&u.nonces)return o(v=>v&&{...v,nonce:u.nonces,is_logged_in:!0}),S(v=>({...v,registered:!0})),localStorage.removeItem("voxel:guest_cart"),!0;{const v=window;return v.Voxel?.alert?v.Voxel.alert(u.message||"Registration failed"):alert(u.message||"Registration failed"),!1}}catch(d){return console.error("Quick register error:",d),!1}},[t,m]),U=C.useCallback(async()=>{if(!(!t||!r)&&!T){F(!0);try{if(!(t.is_logged_in||m.registered)&&t.guest_customers.behavior==="proceed_with_email"&&!await M()){F(!1);return}const b=new FormData;b.append("source",z);const B=Object.values(r).map(k=>({key:k.key,value:k.value}));if(b.append("items",JSON.stringify(B)),R.enabled&&R.content&&b.append("order_notes",R.content),Object.values(r).some(k=>k.shipping.is_shippable)&&s.country){const k={address:{first_name:s.first_name,last_name:s.last_name,country:s.country,state:s.state,address:s.address,zip:s.zip}};t.shipping.responsibility==="platform"&&s.zone&&s.rate?k.method={zone:s.zone,rate:s.rate}:t.shipping.responsibility==="vendor"&&Object.keys(s.vendors).length>0&&(k.vendors=s.vendors),b.append("shipping",JSON.stringify(k))}b.append("redirect_to",window.location.href);const u=q(),x=await(await fetch(`${u}?vx=1&action=products.checkout&_wpnonce=${t.nonce.checkout}`,{method:"POST",credentials:"same-origin",body:b})).json();if(x.success&&x.redirect_url)window.location.href=x.redirect_url;else{const k=window;k.Voxel?.alert?k.Voxel.alert(x.message||"Checkout failed"):alert(x.message||"Checkout failed"),F(!1)}}catch(g){console.error("Checkout error:",g),F(!1)}}},[t,r,s,m,R,T,M]),G=C.useCallback(g=>{h(b=>({...b,...g}))},[]),te=C.useCallback(g=>{S(b=>({...b,...g}))},[]),Z=C.useCallback(g=>{y(b=>({...b,...g}))},[]);return React.createElement(st,{attributes:e,config:t,items:r,context:"frontend",isLoading:l,error:c,onUpdateQuantity:_,onRemoveItem:f,onCheckout:U,shipping:s,onShippingChange:G,quickRegister:m,onQuickRegisterChange:te,orderNotes:R,onOrderNotesChange:Z})}function J(){document.querySelectorAll(".voxel-fse-cart-summary-frontend, .vx-cart-summary-widget").forEach(t=>{if(t.dataset.reactMounted==="true")return;const o=pt(t);if(!o){console.warn("Cart Summary block: No vxconfig found");return}const r=_t(o);t.innerHTML="",t.dataset.reactMounted="true",ge.createRoot(t).render(React.createElement(vt,{attributes:r}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",J):J(),window.addEventListener("turbo:load",J),window.addEventListener("pjax:complete",J),document.addEventListener("voxel:markup-update",J)})(ReactDOM,React);
