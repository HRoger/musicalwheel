(function(pe,l){"use strict";function he(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!t.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}let $=!1;function X(){if($)return!0;if(!window.Voxel?.mixins?.base)return!1;const e=window.Voxel.mixins.base;return e.mounted&&!e._originalMounted?(e._originalMounted=e.mounted,e.mounted=function(){try{const t=this.$root?.$options?.el||this.$el;if(t){const n=t.closest?.(".elementor-element");if(n)this.widget_id=n.dataset?.id||"";else{const u=t.closest?.("[data-block-id]");this.widget_id=u&&u.dataset?.blockId||""}const o=t.closest?.(".elementor");if(o)this.post_id=o.dataset?.elementorId||"";else{const u=document.body.className.match(/postid-(\d+)/);this.post_id=u?u[1]:""}}e._originalMounted&&e._originalMounted!==e.mounted&&e._originalMounted.call(this)}catch(t){console.warn("[VoxelShim] Error in patched mounted():",t),this.widget_id="",this.post_id=""}},$=!0,console.log("[VoxelShim] Successfully patched Voxel.mixins.base.mounted"),!0):!1}function ee(){if(X())return;let e=0;const t=50,o=setInterval(()=>{if(e++,X()){clearInterval(o);return}e>=t&&(clearInterval(o),console.warn("[VoxelShim] Voxel.mixins.base not found after 5 seconds"))},100);typeof document<"u"&&document.addEventListener("voxel:ready",()=>{X(),clearInterval(o)},{once:!0})}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ee,{once:!0}):ee()),Object.entries({mountains:{viewBox:"0 0 1000 100",paths:[{d:"M473,67.3c-203.9,88.3-263.1-34-320.3,0C66,119.1,0,59.7,0,59.7V0h1000v59.7 c0,0-62.1,26.1-94.9,29.3c-32.8,3.3-62.8-12.3-75.8-22.1C806,49.6,745.3,8.7,694.9,4.7S492.4,59,473,67.3z",opacity:.33},{d:"M734,67.3c-45.5,0-77.2-23.2-129.1-39.1c-28.6-8.7-150.3-10.1-254,39.1 s-91.7-34.4-149.2,0C115.7,118.3,0,39.8,0,39.8V0h1000v36.5c0,0-28.2-18.5-92.1-18.5C810.2,18.1,775.7,67.3,734,67.3z",opacity:.66},{d:"M766.1,28.9c-200-57.5-266,65.5-395.1,19.5C242,1.8,242,5.4,184.8,20.6C128,35.8,132.3,44.9,89.9,52.5C28.6,63.7,0,0,0,0 h1000c0,0-9.9,40.9-83.6,48.1S829.6,47,766.1,28.9z"}]},drops:{viewBox:"0 0 283.5 27.8",paths:[{d:"M0 0v1.4c.6.7 1.1 1.4 1.4 2 2 3.8 2.2 6.6 1.8 10.8-.3 3.3-2.4 9.4 0 12.3 1.7 2 3.7 1.4 4.6-.9 1.4-3.8-.7-8.2-.6-12 .1-3.7 3.2-5.5 6.9-4.9 4 .6 4.8 4 4.9 7.4.1 1.8-1.1 7 0 8.5.6.8 1.6 1.2 2.4.5 1.4-1.1.1-5.4.1-6.9.1-3.7.3-8.6 4.1-10.5 5-2.5 6.2 1.6 5.4 5.6-.4 1.7-1 9.2 2.9 6.3 1.5-1.1.7-3.5.5-4.9-.4-2.4-.4-4.3 1-6.5.9-1.4 2.4-3.1 4.2-3 2.4.1 2.7 2.2 4 3.7 1.5 1.8 1.8 2.2 3 .1 1.1-1.9 1.2-2.8 3.6-3.3 1.3-.3 4.8-1.4 5.9-.5 1.5 1.1.6 2.8.4 4.3-.2 1.1-.6 4 1.8 3.4 1.7-.4-.3-4.1.6-5.6 1.3-2.2 5.8-1.4 7 .5 1.3 2.1.5 5.8.1 8.1s-1.2 5-.6 7.4c1.3 5.1 4.4.9 4.3-2.4-.1-4.4-2-8.8-.5-13 .9-2.4 4.6-6.6 7.7-4.5 2.7 1.8.5 7.8.2 10.3-.2 1.7-.8 4.6.2 6.2.9 1.4 2 1.5 2.6-.3.5-1.5-.9-4.5-1-6.1-.2-1.7-.4-3.7.2-5.4 1.8-5.6 3.5 2.4 6.3.6 1.4-.9 4.3-9.4 6.1-3.1.6 2.2-1.3 7.8.7 8.9 4.2 2.3 1.5-7.1 2.2-8 3.1-4 4.7 3.8 6.1 4.1 3.1.7 2.8-7.9 8.1-4.5 1.7 1.1 2.9 3.3 3.2 5.2.4 2.2-1 4.5-.6 6.6 1 4.3 4.4 1.5 4.4-1.7 0-2.7-3-8.3 1.4-9.1 4.4-.9 7.3 3.5 7.8 6.9.3 2-1.5 10.9 1.3 11.3 4.1.6-3.2-15.7 4.8-15.8 4.7-.1 2.8 4.1 3.9 6.6 1 2.4 2.1 1 2.3-.8.3-1.9-.9-3.2 1.3-4.3 5.9-2.9 5.9 5.4 5.5 8.5-.3 2-1.7 8.4 2 8.1 6.9-.5-2.8-16.9 4.8-18.7 4.7-1.2 6.1 3.6 6.3 7.1.1 1.7-1.2 8.1.6 9.1 3.5 2 1.9-7 2-8.4.2-4 1.2-9.6 6.4-9.8 4.7-.2 3.2 4.6 2.7 7.5-.4 2.2 1.3 8.6 3.8 4.4 1.1-1.9-.3-4.1-.3-6 0-1.7.4-3.2 1.3-4.6 1-1.6 2.9-3.5 5.1-2.9 2.5.6 2.3 4.1 4.1 4.9 1.9.8 1.6-.9 2.3-2.1 1.2-2.1 2.1-2.1 4.4-2.4 1.4-.2 3.6-1.5 4.9-.5 2.3 1.7-.7 4.4.1 6.5.6 1.5 2.1 1.7 2.8.3.7-1.4-1.1-3.4-.3-4.8 1.4-2.5 6.2-1.2 7.2 1 2.3 4.8-3.3 12-.2 16.3 3 4.1 3.9-2.8 3.8-4.8-.4-4.3-2.1-8.9 0-13.1 1.3-2.5 5.9-5.7 7.9-2.4 2 3.2-1.3 9.8-.8 13.4.5 4.4 3.5 3.3 2.7-.8-.4-1.9-2.4-10 .6-11.1 3.7-1.4 2.8 7.2 6.5.4 2.2-4.1 4.9-3.1 5.2 1.2.1 1.5-.6 3.1-.4 4.6.2 1.9 1.8 3.7 3.3 1.3 1-1.6-2.6-10.4 2.9-7.3 2.6 1.5 1.6 6.5 4.8 2.7 1.3-1.5 1.7-3.6 4-3.7 2.2-.1 4 2.3 4.8 4.1 1.3 2.9-1.5 8.4.9 10.3 4.2 3.3 3-5.5 2.7-6.9-.6-3.9 1-7.2 5.5-5 4.1 2.1 4.3 7.7 4.1 11.6 0 .8-.6 9.5 2.5 5.2 1.2-1.7-.1-7.7.1-9.6.3-2.9 1.2-5.5 4.3-6.2 4.5-1 7.7 1.5 7.4 5.8-.2 3.5-1.8 7.7-.5 11.1 1 2.7 3.6 2.8 5 .2 1.6-3.1 0-8.3-.4-11.6-.4-4.2-.2-7 1.8-10.8 0 0-.1.1-.1.2-.2.4-.3.7-.4.8v.1c-.1.2-.1.2 0 0v-.1l.4-.8c0-.1.1-.1.1-.2.2-.4.5-.8.8-1.2V0H0zM282.7 3.4z"}]},clouds:{viewBox:"0 0 283.5 27.8",paths:[{d:"M0 0v6.7c1.9-.8 4.7-1.4 8.5-1 9.5 1.1 11.1 6 11.1 6s2.1-.7 4.3-.2c2.1.5 2.8 2.6 2.8 2.6s.2-.5 1.4-.7c1.2-.2 1.7.2 1.7.2s0-2.1 1.9-2.8c1.9-.7 3.6.7 3.6.7s.7-2.9 3.1-4.1 4.7 0 4.7 0 1.2-.5 2.4 0 1.7 1.4 1.7 1.4h1.4c.7 0 1.2.7 1.2.7s.8-1.8 4-2.2c3.5-.4 5.3 2.4 6.2 4.4.4-.4 1-.7 1.8-.9 2.8-.7 4 .7 4 .7s1.7-5 11.1-6c9.5-1.1 12.3 3.9 12.3 3.9s1.2-4.8 5.7-5.7c4.5-.9 6.8 1.8 6.8 1.8s.6-.6 1.5-.9c.9-.2 1.9-.2 1.9-.2s5.2-6.4 12.6-3.3c7.3 3.1 4.7 9 4.7 9s1.9-.9 4 0 2.8 2.4 2.8 2.4 1.9-1.2 4.5-1.2 4.3 1.2 4.3 1.2.2-1 1.4-1.7 2.1-.7 2.1-.7-.5-3.1 2.1-5.5 5.7-1.4 5.7-1.4 1.5-2.3 4.2-1.1c2.7 1.2 1.7 5.2 1.7 5.2s.3-.1 1.3.5c.5.4.8.8.9 1.1.5-1.4 2.4-5.8 8.4-4 7.1 2.1 3.5 8.9 3.5 8.9s.8-.4 2 0 1.1 1.1 1.1 1.1 1.1-1.1 2.3-1.1 2.1.5 2.1.5 1.9-3.6 6.2-1.2 1.9 6.4 1.9 6.4 2.6-2.4 7.4 0c3.4 1.7 3.9 4.9 3.9 4.9s3.3-6.9 10.4-7.9 11.5 2.6 11.5 2.6.8 0 1.2.2c.4.2.9.9.9.9s4.4-3.1 8.3.2c1.9 1.7 1.5 5 1.5 5s.3-1.1 1.6-1.4c1.3-.3 2.3.2 2.3.2s-.1-1.2.5-1.9 1.9-.9 1.9-.9-4.7-9.3 4.4-13.4c5.6-2.5 9.2.9 9.2.9s5-6.2 15.9-6.2 16.1 8.1 16.1 8.1.7-.2 1.6-.4V0H0z"}]},zigzag:{viewBox:"0 0 1800 5.8",paths:[{d:"M5.4.4l5.4 5.3L16.5.4l5.4 5.3L27.5.4 33 5.7 38.6.4l5.5 5.4h.1L49.9.4l5.4 5.3L60.9.4l5.5 5.3L72 .4l5.5 5.3L83.1.4l5.4 5.3L94.1.4l5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3L161 .4l5.4 5.3L172 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3L261 .4l5.4 5.3L272 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3L361 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3L461 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1L550 .4l5.4 5.3L561 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2L650 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2L750 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2L850 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4V0H-.2v5.8z"}]},pyramids:{viewBox:"0 0 1000 100",paths:[{d:"M761.9,44.1L643.1,27.2L333.8,98L0,3.8V0l1000,0v3.9"}]},triangle:{viewBox:"0 0 1000 100",paths:[{d:"M500,98.9L0,6.1V0h1000v6.1L500,98.9z"}]},"triangle-asymmetrical":{viewBox:"0 0 1000 100",paths:[{d:"M738,99l262-93V0H0v5.6L738,99z"}]},tilt:{viewBox:"0 0 1000 100",paths:[{d:"M0,6V0h1000v100L0,6z"}]},"opacity-tilt":{viewBox:"0 0 2600 131.1",paths:[{d:"M0 0L2600 0 2600 69.1 0 0z"},{d:"M0 0L2600 0 2600 69.1 0 69.1z",opacity:.5},{d:"M2600 0L0 0 0 130.1 2600 69.1z",opacity:.25}]},curve:{viewBox:"0 0 1000 100",paths:[{d:"M1000,4.3V0H0v4.3C0.9,23.1,126.7,99.2,500,100S1000,22.7,1000,4.3z"}]},waves:{viewBox:"0 0 1000 100",paths:[{d:"M421.9,6.5c22.6-2.5,51.5,0.4,75.5,5.3c23.6,4.9,70.9,23.5,100.5,35.7c75.8,32.2,133.7,44.5,192.6,49.7 c23.6,2.1,48.7,3.5,103.4-2.5c54.7-6,106.2-25.6,106.2-25.6V0H0v30.3c0,0,72,32.6,158.4,30.5c39.2-0.7,92.8-6.7,134-22.4 c21.2-8.1,52.2-18.2,79.7-24.2C399.3,7.9,411.6,7.5,421.9,6.5z"}]},"wave-brush":{viewBox:"0 0 283.5 27.8",paths:[{d:"M283.5,9.7c0,0-7.3,4.3-14,4.6c-6.8,0.3-12.6,0-20.9-1.5c-11.3-2-33.1-10.1-44.7-5.7 s-12.1,4.6-18,7.4c-6.6,3.2-20,9.6-36.6,9.3C131.6,23.5,99.5,7.2,86.3,8c-1.4,0.1-6.6,0.8-10.5,2c-3.8,1.2-9.4,3.8-17,4.7 c-3.2,0.4-8.3,1.1-14.2,0.9c-1.5-0.1-6.3-0.4-12-1.6c-5.7-1.2-11-3.1-15.8-3.7C6.5,9.2,0,10.8,0,10.8V0h283.5V9.7z M260.8,11.3 c-0.7-1-2-0.4-4.3-0.4c-2.3,0-6.1-1.2-5.8-1.1c0.3,0.1,3.1,1.5,6,1.9C259.7,12.2,261.4,12.3,260.8,11.3z M242.4,8.6 c0,0-2.4-0.2-5.6-0.9c-3.2-0.8-10.3-2.8-15.1-3.5c-8.2-1.1-15.8,0-15.1,0.1c0.8,0.1,9.6-0.6,17.6,1.1c3.3,0.7,9.3,2.2,12.4,2.7 C239.9,8.7,242.4,8.6,242.4,8.6z M185.2,8.5c1.7-0.7-13.3,4.7-18.5,6.1c-2.1,0.6-6.2,1.6-10,2c-3.9,0.4-8.9,0.4-8.8,0.5 c0,0.2,5.8,0.8,11.2,0c5.4-0.8,5.2-1.1,7.6-1.6C170.5,14.7,183.5,9.2,185.2,8.5z M199.1,6.9c0.2,0-0.8-0.4-4.8,1.1 c-4,1.5-6.7,3.5-6.9,3.7c-0.2,0.1,3.5-1.8,6.6-3C197,7.5,199,6.9,199.1,6.9z M283,6c-0.1,0.1-1.9,1.1-4.8,2.5s-6.9,2.8-6.7,2.7 c0.2,0,3.5-0.6,7.4-2.5C282.8,6.8,283.1,5.9,283,6z M31.3,11.6c0.1-0.2-1.9-0.2-4.5-1.2s-5.4-1.6-7.8-2C15,7.6,7.3,8.5,7.7,8.6 C8,8.7,15.9,8.3,20.2,9.3c2.2,0.5,2.4,0.5,5.7,1.6S31.2,11.9,31.3,11.6z M73,9.2c0.4-0.1,3.5-1.6,8.4-2.6c4.9-1.1,8.9-0.5,8.9-0.8 c0-0.3-1-0.9-6.2-0.3S72.6,9.3,73,9.2z M71.6,6.7C71.8,6.8,75,5.4,77.3,5c2.3-0.3,1.9-0.5,1.9-0.6c0-0.1-1.1-0.2-2.7,0.2 C74.8,5.1,71.4,6.6,71.6,6.7z M93.6,4.4c0.1,0.2,3.5,0.8,5.6,1.8c2.1,1,1.8,0.6,1.9,0.5c0.1-0.1-0.8-0.8-2.4-1.3 C97.1,4.8,93.5,4.2,93.6,4.4z M65.4,11.1c-0.1,0.3,0.3,0.5,1.9-0.2s2.6-1.3,2.2-1.2s-0.9,0.4-2.5,0.8C65.3,10.9,65.5,10.8,65.4,11.1 z M34.5,12.4c-0.2,0,2.1,0.8,3.3,0.9c1.2,0.1,2,0.1,2-0.2c0-0.3-0.1-0.5-1.6-0.4C36.6,12.8,34.7,12.4,34.5,12.4z M152.2,21.1 c-0.1,0.1-2.4-0.3-7.5-0.3c-5,0-13.6-2.4-17.2-3.5c-3.6-1.1,10,3.9,16.5,4.1C150.5,21.6,152.3,21,152.2,21.1z"},{d:"M269.6,18c-0.1-0.1-4.6,0.3-7.2,0c-7.3-0.7-17-3.2-16.6-2.9c0.4,0.3,13.7,3.1,17,3.3 C267.7,18.8,269.7,18,269.6,18z"},{d:"M227.4,9.8c-0.2-0.1-4.5-1-9.5-1.2c-5-0.2-12.7,0.6-12.3,0.5c0.3-0.1,5.9-1.8,13.3-1.2 S227.6,9.9,227.4,9.8z"},{d:"M204.5,13.4c-0.1-0.1,2-1,3.2-1.1c1.2-0.1,2,0,2,0.3c0,0.3-0.1,0.5-1.6,0.4 C206.4,12.9,204.6,13.5,204.5,13.4z"},{d:"M201,10.6c0-0.1-4.4,1.2-6.3,2.2c-1.9,0.9-6.2,3.1-6.1,3.1c0.1,0.1,4.2-1.6,6.3-2.6 S201,10.7,201,10.6z"},{d:"M154.5,26.7c-0.1-0.1-4.6,0.3-7.2,0c-7.3-0.7-17-3.2-16.6-2.9c0.4,0.3,13.7,3.1,17,3.3 C152.6,27.5,154.6,26.8,154.5,26.7z"},{d:"M41.9,19.3c0,0,1.2-0.3,2.9-0.1c1.7,0.2,5.8,0.9,8.2,0.7c4.2-0.4,7.4-2.7,7-2.6 c-0.4,0-4.3,2.2-8.6,1.9c-1.8-0.1-5.1-0.5-6.7-0.4S41.9,19.3,41.9,19.3z"},{d:"M75.5,12.6c0.2,0.1,2-0.8,4.3-1.1c2.3-0.2,2.1-0.3,2.1-0.5c0-0.1-1.8-0.4-3.4,0 C76.9,11.5,75.3,12.5,75.5,12.6z"},{d:"M15.6,13.2c0-0.1,4.3,0,6.7,0.5c2.4,0.5,5,1.9,5,2c0,0.1-2.7-0.8-5.1-1.4 C19.9,13.7,15.7,13.3,15.6,13.2z"}]},arrow:{viewBox:"0 0 700 10",paths:[{d:"M350,10L340,0h20L350,10z"}]},split:{viewBox:"0 0 1000 20",paths:[{d:"M0,0v3c0,0,393.8,0,483.4,0c9.2,0,16.6,7.4,16.6,16.6c0-9.1,7.4-16.6,16.6-16.6C606.2,3,1000,3,1000,3V0H0z"}]},book:{viewBox:"0 0 1000 100",paths:[{d:"M194,99c186.7,0.7,305-78.3,306-97.2c1,18.9,119.3,97.9,306,97.2c114.3-0.3,194,0.3,194,0.3s0-91.7,0-100c0,0,0,0,0-0 L0,0v99.3C0,99.3,79.7,98.7,194,99z"}]}}).reduce((e,[t,n])=>(e[t]=n.paths[0].d,e),{});function fe(e){return!!(e&&e.value)}function ve(e,t){return fe(e)?e:t}function Ee(e,t){return!e||!t?.shipping_statuses?"vx-neutral":t.shipping_statuses[e]?.class||"vx-neutral"}function ye(e,t){return!e||!t?.shipping_statuses?e||"":t.shipping_statuses[e]?.label||e}function Re({orders:e,config:t,attributes:n,isLoading:o,onOrderSelect:u,currentPage:i,totalPages:d,onPageChange:N}){if(!e||e.length===0)return React.createElement("div",{className:"ts-no-posts"},ae(n.noResultsIcon),React.createElement("p",null,"No orders found"));const R=i<d,f=i>1||R;return React.createElement(React.Fragment,null,React.createElement("div",{className:"vx-order-ease"},React.createElement("div",{className:`vx-order-list${o?" vx-disabled":""}`},e.map(r=>React.createElement("div",{key:r.id,className:`vx-order-card vx-status-${r.status}`,onClick:w=>{w.preventDefault(),u(r.id)}},React.createElement("div",{className:"vx-order-meta vx-order-title"},r.customer.avatar&&React.createElement("div",{className:"vx-avatar",dangerouslySetInnerHTML:{__html:r.customer.avatar}}),React.createElement("span",{className:"order-badge vx-hide-mobile"},"#",r.id),React.createElement("b",null,r.customer.name," placed an order ",r.created_at)),React.createElement("div",{className:"vx-order-meta"},r.item_count>1&&React.createElement("span",{className:"vx-hide-mobile"},r.item_count," items"),typeof r.total=="number"?React.createElement("span",{className:"vx-hide-mobile"},S(r.total,r.currency)):typeof r.subtotal=="number"?React.createElement("span",{className:"vx-hide-mobile"},S(r.subtotal,r.currency)):null),r.status==="completed"&&r.shipping_status!==null?React.createElement("div",{className:`order-status ${Ee(r.shipping_status,t)}`},ye(r.shipping_status,t)):React.createElement("div",{className:`order-status ${J(r.status,t)}`},Z(r.status,t)))))),f&&React.createElement("div",{className:`vx-order-more${o?" vx-inert":""}`},React.createElement("a",{href:"#",className:`ts-load-more ts-btn ts-btn-1${i<2?" vx-disabled":""}`,onClick:r=>{r.preventDefault(),i>1&&N(i-1)}},b(k(n.backIcon,"backIcon")),"Previous"),React.createElement("a",{href:"#",className:`ts-load-more ts-btn ts-btn-1${R?"":" vx-disabled"}`,onClick:r=>{r.preventDefault(),R&&N(i+1)}},"Next",b(k(n.forwardIcon,"forwardIcon")))))}function ge(e,t){return e&&e.value?e.library==="svg"?e.value.startsWith("<svg")||e.value.startsWith("<?xml")?React.createElement("span",{className:"ts-icon-svg",dangerouslySetInnerHTML:{__html:e.value}}):React.createElement("img",{src:e.value,alt:"",className:"ts-icon-svg"}):React.createElement("i",{className:e.value}):null}function be({item:e,order:t,config:n,onCancelPromotion:o,isRunningAction:u,infoIcon:i}){const d=e.details?.promotion_package,N=l.useCallback(async w=>{w.preventDefault();const _=typeof Voxel_Config<"u"?Voxel_Config.l10n.confirmAction:"Are you sure you want to cancel this promotion?";window.confirm(_)&&await o()},[o]);if(!d)return null;const f=d.start_date&&d.end_date?`${d.start_date} - ${d.end_date}`:null,r=()=>{switch(d.status){case"cancelled":return"Promotion canceled";case"expired":return"Promotion has ended";case"active":return d.assigned_to_post?"Promotion is active":"Promotion details";default:return"Promotion details"}};return React.createElement("div",{className:"order-event"},React.createElement("div",{className:"order-event-icon vx-blue"},i?ge(i):React.createElement("i",{className:"las la-info-circle"})),React.createElement("b",null,r()),f&&React.createElement("span",null,f),React.createElement("div",{className:"further-actions"},d.post_link&&React.createElement("a",{href:d.post_link,target:"_blank",rel:"noopener noreferrer",className:"ts-btn ts-btn-1"},"View listing"),d.stats_link&&React.createElement("a",{href:d.stats_link,target:"_blank",rel:"noopener noreferrer",className:"ts-btn ts-btn-1"},"View stats"),d.status==="active"&&d.assigned_to_post&&React.createElement("a",{href:"#",className:`ts-btn ts-btn-1${u?" vx-pending":""}`,onClick:N},"Cancel promotion")))}function Ne({order:e,config:t,attributes:n,isLoading:o,onBack:u,onAction:i,onCancelPromotion:d,onMessage:N}){const[R,f]=l.useState(!1),[r,w]=l.useState({}),[_,p]=l.useState(!1),I=l.useRef(null);l.useEffect(()=>{window.scrollTo(0,0)},[e.id]);const B=t?.data_inputs?.content_length??128,D=l.useCallback(async()=>{f(!0);try{await d(e.id)}finally{f(!1)}},[e.id,d]),O=l.useCallback(async s=>{if(R)return;const E=async()=>{f(!0),await i(s.action),f(!1),p(!1),I.current?.blur()};if(typeof s.confirm=="string")if(typeof Voxel<"u"&&typeof Voxel.prompt=="function"){const c=s.confirm||Voxel_Config?.l10n?.confirmAction||"Are you sure?",g=Voxel_Config?.l10n?.yes||"Yes",h=Voxel_Config?.l10n?.no||"No";Voxel.prompt(c,"warning",[{label:g,onClick:()=>{E()}},{label:h,onClick:()=>{}}],7500)}else window.confirm(s.confirm)&&await E();else await E()},[i,R]),z=l.useCallback(s=>{w(E=>({...E,[s]:!E[s]}))},[]),L=t?.is_vendor||t?.is_admin||!1;return React.createElement("div",{className:"vx-order-ease"},React.createElement("div",{className:`single-order ${R||o?"vx-pending":""}`},React.createElement("div",{className:"vx-order-head"},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1 ts-go-back",onClick:s=>{s.preventDefault(),u()}},b(k(n.backIcon,"backIcon")),"Go back"),e.actions.dms.enabled&&e.customer.id&&e.actions.dms.vendor_target&&N&&React.createElement("a",{href:"#",className:"ts-btn ts-btn-1 has-tooltip","data-tooltip":L?"Message customer":"Message seller",onClick:s=>{s.preventDefault(),N(e)}},b(k(n.inboxIcon,"inboxIcon"))),e.actions.primary.length>0&&React.createElement(React.Fragment,null,e.actions.primary.map((s,E)=>React.createElement("a",{key:E,href:"#",className:"ts-btn ts-btn-2",onClick:c=>{c.preventDefault(),O(s)}},s.action.endsWith("vendor.approve")&&b(k(n.checkmarkIcon,"checkmarkIcon")),s.label))),e.actions.secondary.length>0&&React.createElement("div",{className:"ts-inline-filter"},React.createElement("a",{ref:I,href:"#",className:"ts-btn ts-btn-1 has-tooltip ts-popup-target","data-tooltip":"More actions",onClick:s=>{s.preventDefault(),p(!_)}},b(k(n.menuIcon,"menuIcon"))),_&&React.createElement("div",{className:"ts-field-popup ts-popup-active"},React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},e.actions.secondary.map((s,E)=>React.createElement("li",{key:E},React.createElement("a",{href:"#",className:"flexify",onClick:c=>{c.preventDefault(),O(s)}},React.createElement("span",null,s.label))))))))),React.createElement("div",{className:"order-timeline"},React.createElement("div",{className:"order-event"},e.customer.avatar&&React.createElement("a",{href:e.customer.link},React.createElement("div",{className:"vx-avatar big-avatar",dangerouslySetInnerHTML:{__html:e.customer.avatar}})),e.status.key==="completed"&&e.shipping.enabled?React.createElement("div",{className:`order-status ${e.shipping.status.class||"vx-neutral"}`},e.shipping.status.label||e.shipping.status.key):React.createElement("div",{className:`order-status ${J(e.status.key,t)}`},Z(e.status.key,t)),React.createElement("h3",null,e.customer.name," placed order #",e.id),React.createElement("span",null,e.created_at)),e.child_orders.length>0&&React.createElement("div",{className:"order-event ts-child-orders"},React.createElement("div",{className:"vx-order-list"},e.child_orders.map(s=>React.createElement("div",{key:s.id,className:`vx-order-card vx-status-${s.status}`},React.createElement("div",{className:"vx-order-meta vx-order-title"},s.vendor.avatar?React.createElement("div",{className:"vx-avatar",dangerouslySetInnerHTML:{__html:s.vendor.avatar}}):React.createElement("div",{className:"vx-avatar"},React.createElement("img",{src:"/wp-content/themes/voxel/assets/images/platform.jpg",alt:""})),React.createElement("b",null,s.item_count<=1?`One item sold by ${s.vendor.name}`:`${s.item_count} items sold by ${s.vendor.name}`)),React.createElement("div",{className:"vx-order-meta"},s.total!==null&&React.createElement("span",{className:"vx-hide-mobile"},S(s.total,s.currency))),s.shipping_status!==null?React.createElement("div",{className:`order-status ${t?.shipping_statuses?.[s.shipping_status]?.class||"vx-neutral"}`},t?.shipping_statuses?.[s.shipping_status]?.label||s.shipping_status):React.createElement("div",{className:`order-status ${J(s.status,t)}`},Z(s.status,t)))))),React.createElement("div",{className:"order-event"},React.createElement("div",{className:"order-event-box"},e.items.length>0&&React.createElement("ul",{className:"ts-cart-list simplify-ul"},e.items.map(s=>React.createElement("li",{key:s.id},React.createElement("div",{className:"cart-image"},React.createElement("img",{width:"150",height:"150",src:s.product.thumbnail_url||"/wp-content/themes/voxel/assets/images/platform.jpg",className:"ts-status-avatar",alt:s.product.label})),React.createElement("div",{className:"cart-item-details"},React.createElement("div",{className:"order-item-title"},React.createElement("a",{href:s.product.link},s.product.label),React.createElement("span",null,S(s.subtotal,s.currency))),React.createElement("span",null,s.product.description),React.createElement("span",{className:"cart-data-inputs",dangerouslySetInnerHTML:{__html:r[s.id]?s.data_inputs_markup:we(s.data_inputs_markup,B)}}),ke(s.data_inputs_markup,B)&&React.createElement("span",{className:"order-expand-details"},React.createElement("span",{onClick:()=>z(s.id)},r[s.id]?"Collapse ▴":"Expand ▾")),s.details?.promotion_package&&React.createElement(be,{item:s,order:e,config:t,onCancelPromotion:D,isRunningAction:R}))))),React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify"},e.pricing.subtotal!==null&&React.createElement("li",{className:"ts-cost--subtotal"},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,"Subtotal")),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,S(e.pricing.subtotal,e.pricing.currency)))),e.pricing.discount_amount!==null&&React.createElement("li",{className:"ts-cost--discount-amount"},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,"Discount")),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,S(e.pricing.discount_amount,e.pricing.currency)))),e.pricing.tax_amount!==null&&React.createElement("li",{className:"ts-cost--tax-amount"},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,"Tax")),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,S(e.pricing.tax_amount,e.pricing.currency)))),e.pricing.shipping_amount!==null&&React.createElement("li",{className:"ts-cost--shipping-amount"},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,"Shipping")),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,S(e.pricing.shipping_amount,e.pricing.currency)))),e.pricing.total!==null&&React.createElement("li",{className:"ts-total"},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,"Total")),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,S(e.pricing.total,e.pricing.currency)))),e.pricing.total!==null&&e.pricing.subscription_interval!==null&&React.createElement("li",{className:"ts-cost--schedule"},React.createElement("div",{className:"ts-item-name"}),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,"Renews ",e.pricing.subscription_interval)))),e.vendor.fees&&React.createElement("details",{className:"order-accordion"},React.createElement("summary",null,"Vendor fees",b(k(n.downIcon,"downIcon"))),React.createElement("div",{className:"details-body"},React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify ts-customer-details"},e.vendor.fees.breakdown.map((s,E)=>React.createElement("li",{key:E},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,s.label)),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,s.content)))),React.createElement("li",{className:"ts-total"},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,"Total")),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,S(e.vendor.fees.total,e.pricing.currency))))))),e.pricing.sections.map((s,E)=>React.createElement("details",{key:E,className:"order-accordion"},React.createElement("summary",null,s.label,b(k(n.downIcon,"downIcon"))),s.type==="list"&&s.items&&React.createElement("div",{className:"details-body"},React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify ts-customer-details"},s.items.map((c,g)=>React.createElement("li",{key:g,className:c.bold?"ts-total":""},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,c.label)),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,c.content)))))))),e.customer.customer_details&&e.customer.customer_details.length>0&&React.createElement("details",{className:"order-accordion"},React.createElement("summary",null,"Customer details",b(k(n.downIcon,"downIcon"))),React.createElement("div",{className:"details-body"},React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify ts-customer-details"},e.customer.customer_details.map((s,E)=>React.createElement("li",{key:E},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,s.label)),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,s.content))))))),e.customer.shipping_details&&e.customer.shipping_details.length>0&&React.createElement("details",{className:"order-accordion"},React.createElement("summary",null,"Shipping details",b(k(n.downIcon,"downIcon"))),React.createElement("div",{className:"details-body"},React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify ts-customer-details"},e.customer.shipping_details.map((s,E)=>React.createElement("li",{key:E},React.createElement("div",{className:"ts-item-name"},React.createElement("p",null,s.label)),React.createElement("div",{className:"ts-item-price"},React.createElement("p",null,s.content))))))),e.customer.order_notes&&e.customer.order_notes.length>0&&React.createElement("details",{className:"order-accordion"},React.createElement("summary",null,"Order notes",b(k(n.downIcon,"downIcon"))),React.createElement("div",{className:"details-body"},React.createElement("p",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:e.customer.order_notes}}))),e.vendor.notes_to_customer&&e.vendor.notes_to_customer.length>0&&React.createElement("details",{className:"order-accordion"},React.createElement("summary",null,"Notes to customer",b(k(n.downIcon,"downIcon"))),React.createElement("div",{className:"details-body"},React.createElement("p",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:e.vendor.notes_to_customer}}))))))))}function ke(e,t=128){return e.replace(/<[^>]*>/g,"").length>t}function we(e,t=128){const n=e.replace(/<[^>]*>/g,"");if(n.length<=t)return e;const u=n.substring(0,t).lastIndexOf(" "),i=u>t*.8?u:t;return n.substring(0,i)+"..."}const _e={searchIcon:{library:"icon",value:"las la-search"},noResultsIcon:{library:"svg",value:""},resetSearchIcon:{library:"icon",value:"las la-sync"},backIcon:{library:"icon",value:"las la-angle-left"},forwardIcon:{library:"icon",value:"las la-angle-right"},downIcon:{library:"icon",value:"las la-angle-down"},inboxIcon:{library:"icon",value:"las la-inbox"},checkmarkIcon:{library:"icon",value:"las la-check"},menuIcon:{library:"icon",value:"las la-ellipsis-h"},infoIcon:{library:"icon",value:"las la-info-circle"},filesIcon:{library:"icon",value:"las la-file"},trashIcon:{library:"icon",value:"las la-trash"},calendarIcon:{library:"icon",value:"las la-calendar"}},te='<svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" transform="rotate(0 0 0)"><path d="M3.25 5.5C3.25 4.25736 4.25736 3.25 5.5 3.25H18.5C19.7426 3.25 20.75 4.25736 20.75 5.5V18.5C20.75 19.7426 19.7426 20.75 18.5 20.75H5.5C4.25736 20.75 3.25 19.7426 3.25 18.5V5.5ZM9.75 7C9.75 6.58579 9.41421 6.25 9 6.25C8.58579 6.25 8.25 6.58579 8.25 7V8C8.25 10.0711 9.92893 11.75 12 11.75C14.0711 11.75 15.75 10.0711 15.75 8V7C15.75 6.58579 15.4142 6.25 15 6.25C14.5858 6.25 14.25 6.58579 14.25 7V8C14.25 9.24264 13.2426 10.25 12 10.25C10.7574 10.25 9.75 9.24264 9.75 8V7Z" fill="#343C54"></path></svg>';function k(e,t){return ve(e,_e[t]||{library:"",value:""})}function V(e){return typeof window>"u"?null:new URLSearchParams(window.location.search).get(e)}function F(e,t){if(typeof window>"u")return;const n=new URL(window.location.href);n.searchParams.set(e,String(t)),window.history.replaceState({},"",n.toString())}function x(e){if(typeof window>"u")return;const t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState({},"",t.toString())}function G(e,t){l.useEffect(()=>{function n(o){e.current&&!e.current.contains(o.target)&&t()}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[e,t])}function b(e,t){return!e||!e.value?null:e.library==="svg"?React.createElement("img",{src:e.value,alt:"",className:t}):React.createElement("i",{className:`${e.value} `})}function ae(e){return e&&e.value?b(e)||React.createElement("span",{dangerouslySetInnerHTML:{__html:te}}):React.createElement("span",{dangerouslySetInnerHTML:{__html:te}})}function se(e,t){let n=e;return Object.keys(t).forEach(o=>{n=n.replaceAll(o,String(t[o]))}),n}function S(e,t){const n=window;if(n.Voxel?.helpers?.currencyFormat)return n.Voxel.helpers.currencyFormat(e,t);try{return new Intl.NumberFormat(void 0,{style:"currency",currency:t.toUpperCase()}).format(e/100)}catch{return`${t} ${(e/100).toFixed(2)}`}}function J(e,t){return t?.statuses_ui&&t.statuses_ui[e]?.class||"vx-neutral"}function Z(e,t){return t?.statuses&&t.statuses[e]?.label||e}function xe({attributes:e,config:t,orders:n,currentOrder:o,context:u,isLoading:i,error:d,currentPage:N,totalPages:R,onSearch:f,onStatusFilter:r,onShippingStatusFilter:w,onProductTypeFilter:_,onOrderSelect:p,onOrderBack:I,onOrderAction:B,onPageChange:D,onCancelPromotion:O}){const z=l.useRef(!1),L=l.useRef(null),s=l.useRef(null),E=l.useRef(null),[c,g]=l.useState({searchQuery:"",statusFilter:null,shippingStatusFilter:null,productTypeFilter:null,statusDropdownOpen:!1,shippingStatusDropdownOpen:!1,productTypeDropdownOpen:!1,parentOrderId:null});l.useEffect(()=>{const v=`${(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"")}/wp-content/themes/voxel`;[{id:"voxel-commons-css",href:`${v}/assets/dist/commons.css`},{id:"voxel-forms-css",href:`${v}/assets/dist/forms.css`},{id:"voxel-popup-kit-css",href:`${v}/assets/dist/popup-kit.css`},{id:"voxel-orders-css",href:`${v}/assets/dist/orders.css`},{id:"voxel-line-awesome-css",href:`${v}/assets/icons/line-awesome/line-awesome.css`}].forEach(({id:A,href:q})=>{if(!document.getElementById(A)){const T=document.createElement("link");T.id=A,T.rel="stylesheet",T.href=q,document.head.appendChild(T)}})},[]),l.useEffect(()=>{if(z.current||u==="editor")return;z.current=!0;const a=V("status"),m=V("shipping_status"),v=V("product_type"),W=V("search"),A=V("order_id"),q=V("parent_id");if(g(T=>({...T,statusFilter:a&&t?.statuses?.[a]?a:null,shippingStatusFilter:m&&t?.shipping_statuses?.[m]?m:null,productTypeFilter:v||null,searchQuery:W||"",parentOrderId:q?parseInt(q,10):null})),A&&p){const T=parseInt(A,10);!isNaN(T)&&T>0&&p(T)}a&&r&&r(a),m&&w&&w(m),v&&_&&_(v),W&&f&&f(W)},[t,u,f,r,w,_,p]);const h=l.useCallback(a=>{const m=a.target.value;g(v=>({...v,searchQuery:m})),m?F("search",m):x("search"),f&&f(m)},[f]),y=l.useCallback(()=>{c.searchQuery===""&&c.statusFilter===null&&c.shippingStatusFilter===null&&c.productTypeFilter===null||(g(a=>({...a,searchQuery:"",statusFilter:null,shippingStatusFilter:null,productTypeFilter:null})),x("search"),x("status"),x("shipping_status"),x("product_type"),x("pg"),f&&f(""),r&&r(null),w&&w(null),_&&_(null))},[c,f,r,w,_]),C=l.useCallback(a=>{g(m=>({...m,statusFilter:a,statusDropdownOpen:!1})),a&&a!=="all"?F("status",a):x("status"),x("pg"),r&&r(a)},[r]),P=l.useCallback(a=>{g(m=>({...m,shippingStatusFilter:a,shippingStatusDropdownOpen:!1})),a&&a!=="all"?F("shipping_status",a):x("shipping_status"),x("pg"),w&&w(a)},[w]),M=l.useCallback(a=>{g(m=>({...m,productTypeFilter:a,productTypeDropdownOpen:!1})),a&&a!=="all"?F("product_type",a):x("product_type"),x("pg"),_&&_(a)},[_]),Q=l.useCallback(()=>{g(a=>({...a,statusDropdownOpen:!a.statusDropdownOpen,shippingStatusDropdownOpen:!1,productTypeDropdownOpen:!1}))},[]),ce=l.useCallback(()=>{g(a=>({...a,shippingStatusDropdownOpen:!a.shippingStatusDropdownOpen,statusDropdownOpen:!1,productTypeDropdownOpen:!1}))},[]),le=l.useCallback(()=>{g(a=>({...a,productTypeDropdownOpen:!a.productTypeDropdownOpen,statusDropdownOpen:!1,shippingStatusDropdownOpen:!1}))},[]),Oe=l.useCallback(()=>{g(a=>a.statusDropdownOpen?{...a,statusDropdownOpen:!1}:a)},[]),Le=l.useCallback(()=>{g(a=>a.shippingStatusDropdownOpen?{...a,shippingStatusDropdownOpen:!1}:a)},[]),Pe=l.useCallback(()=>{g(a=>a.productTypeDropdownOpen?{...a,productTypeDropdownOpen:!1}:a)},[]);G(L,Oe),G(s,Le),G(E,Pe);const Ve=l.useCallback(a=>{if(!t?.messages?.url)return;const m=a.current_user?.id===a.vendor?.id,v=new URL(t.messages.url);m?(v.searchParams.set("chat",`u${a.customer?.id}`),v.searchParams.set("text",se(t.messages.enquiry_text?.vendor||"Order #@order_id inquiry",{"@order_id":a.id}))):(v.searchParams.set("chat",a.actions?.dms?.vendor_target||`u${a.vendor?.id}`),v.searchParams.set("text",se(t.messages.enquiry_text?.customer||"Question about order #@order_id",{"@order_id":a.id}))),window.location.href=v.toString()},[t]),Fe=l.useCallback(a=>{F("order_id",a),p&&p(a)},[p]),He=l.useCallback(()=>{x("order_id"),x("parent_id"),c.parentOrderId&&p?(p(c.parentOrderId),g(a=>({...a,parentOrderId:null}))):I&&I()},[c.parentOrderId,p,I]),ze=l.useCallback(a=>{a>1?F("pg",a):x("pg"),D&&D(a)},[D]),re=l.useMemo(()=>c.statusFilter&&t?.statuses&&t.statuses[c.statusFilter]?.label||"Status",[c.statusFilter,t]),oe=l.useMemo(()=>c.shippingStatusFilter&&t?.shipping_statuses&&t.shipping_statuses[c.shippingStatusFilter]?.label||"Shipping",[c.shippingStatusFilter,t]),ie=l.useMemo(()=>c.productTypeFilter&&t?.product_types&&t.product_types.find(m=>m.key===c.productTypeFilter)?.label||"Product type",[c.productTypeFilter,t]);l.useMemo(()=>c.searchQuery!==""||c.statusFilter!==null||c.shippingStatusFilter!==null||c.productTypeFilter!==null,[c.searchQuery,c.statusFilter,c.shippingStatusFilter,c.productTypeFilter]);const de=l.useMemo(()=>t?.available_statuses&&t.available_statuses.length>0,[t]),ue=l.useMemo(()=>t?.available_shipping_statuses&&t.available_shipping_statuses.length>0,[t]),me=l.useMemo(()=>{const a={};return e.titleColor&&(a["--vx-orders-title-color"]=e.titleColor),e.subtitleColor&&(a["--vx-orders-subtitle-color"]=e.subtitleColor),e.cardBackground&&(a["--vx-orders-card-bg"]=e.cardBackground),e.cardBackgroundHover&&(a["--vx-orders-card-bg-hover"]=e.cardBackgroundHover),e.cardBorderRadius&&(a["--vx-orders-card-radius"]=`${e.cardBorderRadius}px`),a},[e]);return u==="editor"?React.createElement("div",{className:"voxel-fse-orders-inner",style:{display:"contents",...me}},!e.headHide&&React.createElement("div",{className:"widget-head"},React.createElement("h1",{style:e.titleColor?{color:e.titleColor}:void 0},e.ordersTitle||"Orders"),React.createElement("p",{style:e.subtitleColor?{color:e.subtitleColor}:void 0},e.ordersSubtitle||"View all orders related to your account")),de&&React.createElement("div",{className:"vx-order-filters ts-form"},React.createElement("div",{className:"ts-form-group ts-inline-filter order-keyword-search"},React.createElement("div",{className:"ts-input-icon flexify"},b(k(e.searchIcon,"searchIcon")),React.createElement("input",{type:"text",className:"inline-input",placeholder:"Search orders",value:c.searchQuery,onChange:h}))),React.createElement("div",{className:"ts-form-group ts-inline-filter order-status-search",ref:L},React.createElement("div",{className:`ts-filter ts-popup-target${c.statusFilter?" ts-filled":""}`,onClick:Q},React.createElement("div",{className:"ts-filter-text"},re),React.createElement("div",{className:"ts-down-icon"})),c.statusDropdownOpen&&t&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup"},React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:a=>{a.preventDefault(),C(null)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:!c.statusFilter,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,"All statuses"))),t.statuses&&Object.entries(t.statuses).map(([a,m])=>React.createElement("li",{key:a},React.createElement("a",{href:"#",className:"flexify",onClick:v=>{v.preventDefault(),C(a)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:c.statusFilter===a,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,m.label))))))))),ue&&React.createElement("div",{className:"ts-form-group ts-inline-filter order-shipping-status-search",ref:s},React.createElement("div",{className:`ts-filter ts-popup-target${c.shippingStatusFilter?" ts-filled":""}`,onClick:ce},React.createElement("div",{className:"ts-filter-text"},oe),React.createElement("div",{className:"ts-down-icon"})),c.shippingStatusDropdownOpen&&t&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup"},React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:a=>{a.preventDefault(),P(null)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:!c.shippingStatusFilter,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,"All shipping statuses"))),Object.entries(t.shipping_statuses).map(([a,m])=>React.createElement("li",{key:a},React.createElement("a",{href:"#",className:"flexify",onClick:v=>{v.preventDefault(),P(a)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:c.shippingStatusFilter===a,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,m.label))))))))),t&&t.product_types&&t.product_types.length>0&&React.createElement("div",{className:"ts-form-group ts-inline-filter order-product-type-search",ref:E},React.createElement("div",{className:`ts-filter ts-popup-target${c.productTypeFilter?" ts-filled":""}`,onClick:le},React.createElement("div",{className:"ts-filter-text"},ie),React.createElement("div",{className:"ts-down-icon"})),c.productTypeDropdownOpen&&t&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup"},React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:a=>{a.preventDefault(),M(null)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:!c.productTypeFilter,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,"All product types"))),t.product_types.map(a=>React.createElement("li",{key:a.key},React.createElement("a",{href:"#",className:"flexify",onClick:m=>{m.preventDefault(),M(a.key)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:c.productTypeFilter===a.key,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,a.label))))))))),React.createElement("div",{className:"ts-form-group order-reset-button"},React.createElement("a",{href:"#",className:"ts-filter",onClick:a=>{a.preventDefault(),y()}},b(k(e.resetSearchIcon,"resetSearchIcon"))))),React.createElement("div",{className:"ts-no-posts"},ae(e.noResultsIcon),React.createElement("p",null,"No orders found"))):React.createElement("div",{className:"voxel-fse-orders-inner",style:{display:"contents",...me}},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify({headHide:e.headHide,ordersTitle:e.ordersTitle,ordersSubtitle:e.ordersSubtitle,icons:{searchIcon:e.searchIcon,noResultsIcon:e.noResultsIcon,resetSearchIcon:e.resetSearchIcon,backIcon:e.backIcon,forwardIcon:e.forwardIcon,downIcon:e.downIcon,inboxIcon:e.inboxIcon,checkmarkIcon:e.checkmarkIcon,menuIcon:e.menuIcon,infoIcon:e.infoIcon,filesIcon:e.filesIcon,trashIcon:e.trashIcon,calendarIcon:e.calendarIcon}})}}),o?React.createElement(Ne,{order:o,config:t,attributes:e,isLoading:i,onBack:He,onAction:(a,m)=>{B&&B(o.id,a,m)},onMessage:Ve,onCancelPromotion:async a=>{O&&await O(a)}}):React.createElement(React.Fragment,null,!e.headHide&&React.createElement("div",{className:"widget-head"},React.createElement("h1",{style:e.titleColor?{color:e.titleColor}:void 0},e.ordersTitle||"Orders"),React.createElement("p",{style:e.subtitleColor?{color:e.subtitleColor}:void 0},e.ordersSubtitle||"View all orders related to your account")),de&&React.createElement("div",{className:"vx-order-filters ts-form"},React.createElement("div",{className:"ts-form-group ts-inline-filter order-keyword-search"},React.createElement("div",{className:"ts-input-icon flexify"},b(k(e.searchIcon,"searchIcon")),React.createElement("input",{type:"text",className:"inline-input",placeholder:"Search orders",value:c.searchQuery,onChange:h}))),React.createElement("div",{className:"ts-form-group ts-inline-filter order-status-search",ref:L},React.createElement("div",{className:`ts-filter ts-popup-target${c.statusFilter?" ts-filled":""}`,onClick:Q},React.createElement("div",{className:"ts-filter-text"},re),React.createElement("div",{className:"ts-down-icon"})),c.statusDropdownOpen&&t&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup"},React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:a=>{a.preventDefault(),C(null)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:!c.statusFilter,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,"All statuses"))),Object.entries(t.statuses).map(([a,m])=>React.createElement("li",{key:a},React.createElement("a",{href:"#",className:"flexify",onClick:v=>{v.preventDefault(),C(a)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:c.statusFilter===a,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,m.label))))))))),ue&&React.createElement("div",{className:"ts-form-group ts-inline-filter order-shipping-status-search",ref:s},React.createElement("div",{className:`ts-filter ts-popup-target${c.shippingStatusFilter?" ts-filled":""}`,onClick:ce},React.createElement("div",{className:"ts-filter-text"},oe),React.createElement("div",{className:"ts-down-icon"})),c.shippingStatusDropdownOpen&&t&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup"},React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:a=>{a.preventDefault(),P(null)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:!c.shippingStatusFilter,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,"All shipping statuses"))),Object.entries(t.shipping_statuses).map(([a,m])=>React.createElement("li",{key:a},React.createElement("a",{href:"#",className:"flexify",onClick:v=>{v.preventDefault(),P(a)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:c.shippingStatusFilter===a,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,m.label))))))))),t&&t.product_types&&t.product_types.length>0&&React.createElement("div",{className:"ts-form-group ts-inline-filter order-product-type-search",ref:E},React.createElement("div",{className:`ts-filter ts-popup-target${c.productTypeFilter?" ts-filled":""}`,onClick:le},React.createElement("div",{className:"ts-filter-text"},ie),React.createElement("div",{className:"ts-down-icon"})),c.productTypeDropdownOpen&&t&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup"},React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:a=>{a.preventDefault(),M(null)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:!c.productTypeFilter,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,"All product types"))),t.product_types.map(a=>React.createElement("li",{key:a.key},React.createElement("a",{href:"#",className:"flexify",onClick:m=>{m.preventDefault(),M(a.key)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:c.productTypeFilter===a.key,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,a.label))))))))),React.createElement("div",{className:"ts-form-group order-reset-button"},React.createElement("a",{href:"#",className:"ts-filter",onClick:a=>{a.preventDefault(),y()}},b(k(e.resetSearchIcon,"resetSearchIcon"))))),i&&React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"})),d&&!i&&React.createElement("div",{className:"ts-no-posts"},b(k(e.infoIcon,"infoIcon")),React.createElement("p",null,d)),!i&&!d&&React.createElement(Re,{orders:n,config:t,attributes:e,isLoading:i,onOrderSelect:Fe,currentPage:N,totalPages:R,onPageChange:ze})))}function j(){return he()}function U(){const e=window;return typeof window<"u"&&e.wpApiSettings?.nonce?e.wpApiSettings.nonce:""}function Ce(e){const t=e.querySelector("script.vxconfig");if(t&&t.textContent)try{return JSON.parse(t.textContent)}catch(n){console.error("Failed to parse vxconfig:",n)}return null}function Ie(e){const t={searchIcon:e.icons?.searchIcon??e.icons?.search_icon??{library:"icon",value:"las la-search"},noResultsIcon:e.icons?.noResultsIcon??e.icons?.no_results_icon??{library:"svg",value:""},resetSearchIcon:e.icons?.resetSearchIcon??e.icons?.reset_search_icon??{library:"icon",value:"las la-sync"},backIcon:e.icons?.backIcon??e.icons?.back_icon??{library:"icon",value:"las la-angle-left"},forwardIcon:e.icons?.forwardIcon??e.icons?.forward_icon??{library:"icon",value:"las la-angle-right"},downIcon:e.icons?.downIcon??e.icons?.down_icon??{library:"icon",value:"las la-angle-down"},inboxIcon:e.icons?.inboxIcon??e.icons?.inbox_icon??{library:"icon",value:"las la-inbox"},checkmarkIcon:e.icons?.checkmarkIcon??e.icons?.checkmark_icon??{library:"icon",value:"las la-check"},menuIcon:e.icons?.menuIcon??e.icons?.menu_icon??{library:"icon",value:"las la-ellipsis-h"},infoIcon:e.icons?.infoIcon??e.icons?.info_icon??{library:"icon",value:"las la-info-circle"},filesIcon:e.icons?.filesIcon??e.icons?.files_icon??{library:"icon",value:"las la-file"},trashIcon:e.icons?.trashIcon??e.icons?.trash_icon??{library:"icon",value:"las la-trash"},calendarIcon:e.icons?.calendarIcon??e.icons?.calendar_icon??{library:"icon",value:"las la-calendar"}};return{headHide:e.headHide??e.head_hide??!1,ordersTitle:e.ordersTitle??e.orders_title??"Orders",ordersSubtitle:e.ordersSubtitle??e.orders_subtitle??"View all orders related to your account",icons:t,titleColor:e.titleColor??e.title_color??"",subtitleColor:e.subtitleColor??e.subtitle_color??"",cardBackground:e.cardBackground??e.card_background??"",cardBackgroundHover:e.cardBackgroundHover??e.card_background_hover??"",cardBorderRadius:e.cardBorderRadius??e.card_border_radius??0,statusPendingColor:e.statusPendingColor??e.status_pending_color??"",statusCompletedColor:e.statusCompletedColor??e.status_completed_color??"",statusCancelledColor:e.statusCancelledColor??e.status_cancelled_color??"",statusRefundedColor:e.statusRefundedColor??e.status_refunded_color??"",primaryButtonBackground:e.primaryButtonBackground??e.primary_button_background??"",primaryButtonTextColor:e.primaryButtonTextColor??e.primary_button_text_color??"",secondaryButtonBackground:e.secondaryButtonBackground??e.secondary_button_background??"",secondaryButtonTextColor:e.secondaryButtonTextColor??e.secondary_button_text_color??"",filterBackground:e.filterBackground??e.filter_background??"",filterTextColor:e.filterTextColor??e.filter_text_color??""}}function Se(e){return{blockId:"",headHide:e.headHide||!1,ordersTitle:e.ordersTitle||"Orders",ordersSubtitle:e.ordersSubtitle||"View all orders related to your account",searchIcon:e.icons?.searchIcon||{library:"icon",value:"las la-search"},noResultsIcon:e.icons?.noResultsIcon||{library:"svg",value:""},resetSearchIcon:e.icons?.resetSearchIcon||{library:"icon",value:"las la-sync"},backIcon:e.icons?.backIcon||{library:"icon",value:"las la-angle-left"},forwardIcon:e.icons?.forwardIcon||{library:"icon",value:"las la-angle-right"},downIcon:e.icons?.downIcon||{library:"icon",value:"las la-angle-down"},inboxIcon:e.icons?.inboxIcon||{library:"icon",value:"las la-inbox"},checkmarkIcon:e.icons?.checkmarkIcon||{library:"icon",value:"las la-check"},menuIcon:e.icons?.menuIcon||{library:"icon",value:"las la-ellipsis-h"},infoIcon:e.icons?.infoIcon||{library:"icon",value:"las la-info-circle"},filesIcon:e.icons?.filesIcon||{library:"icon",value:"las la-file"},trashIcon:e.icons?.trashIcon||{library:"icon",value:"las la-trash"},calendarIcon:e.icons?.calendarIcon||{library:"icon",value:"las la-calendar"},titleTypography:{},subtitleTypography:{},titleColor:e.titleColor||"",subtitleColor:e.subtitleColor||"",cardBackground:e.cardBackground||"",cardBackgroundHover:e.cardBackgroundHover||"",cardBorderRadius:e.cardBorderRadius||0,cardPadding:{},cardPadding_tablet:{},cardPadding_mobile:{},statusPendingColor:e.statusPendingColor||"",statusCompletedColor:e.statusCompletedColor||"",statusCancelledColor:e.statusCancelledColor||"",statusRefundedColor:e.statusRefundedColor||"",primaryButtonBackground:e.primaryButtonBackground||"",primaryButtonBackgroundHover:"",primaryButtonTextColor:e.primaryButtonTextColor||"",primaryButtonTextColorHover:"",secondaryButtonBackground:e.secondaryButtonBackground||"",secondaryButtonBackgroundHover:"",secondaryButtonTextColor:e.secondaryButtonTextColor||"",secondaryButtonTextColorHover:"",filterBackground:e.filterBackground||"",filterBackgroundActive:"",filterTextColor:e.filterTextColor||"",filterTextColorActive:"",blockMargin:{},blockMargin_tablet:{},blockMargin_mobile:{},blockPadding:{},blockPadding_tablet:{},blockPadding_mobile:{},hideDesktop:!1,hideTablet:!1,hideMobile:!1,customClasses:"",customCSS:""}}async function Te(){const e=j(),t=U();try{const n={"Content-Type":"application/json"};t&&(n["X-WP-Nonce"]=t);const o=await fetch(`${e}voxel-fse/v1/orders/config`,{credentials:"same-origin",headers:n});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(n){return console.error("Failed to fetch orders config:",n),null}}async function K(e=1,t,n,o,u){const i=j(),d=U(),N=new URLSearchParams;N.set("page",String(e)),t&&N.set("status",t),n&&N.set("product_type",n),o&&N.set("search",o),u&&N.set("shipping_status",u);try{const R={"Content-Type":"application/json"};d&&(R["X-WP-Nonce"]=d);const f=await fetch(`${i}voxel-fse/v1/orders?${N.toString()}`,{credentials:"same-origin",headers:R});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const r=await f.json();return{orders:r.orders,total:r.total,totalPages:r.total_pages}}catch(R){return console.error("Failed to fetch orders:",R),{orders:[],total:0,totalPages:0}}}async function Y(e){const t=j(),n=U();try{const o={"Content-Type":"application/json"};n&&(o["X-WP-Nonce"]=n);const u=await fetch(`${t}voxel-fse/v1/orders/${e}`,{credentials:"same-origin",headers:o});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);return(await u.json()).order}catch(o){return console.error("Failed to fetch order:",o),null}}async function Me(e,t,n){const o=j(),u=U();try{const i={"Content-Type":"application/json"};u&&(i["X-WP-Nonce"]=u);const d=await fetch(`${o}voxel-fse/v1/orders/${e}/action`,{method:"POST",credentials:"same-origin",headers:i,body:JSON.stringify({action:t,...n})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return!0}catch(i){return console.error("Failed to execute order action:",i),!1}}async function Be(e,t){try{const n=window.Voxel_Config?.ajax_url||`${window.location.origin}/?vx=1`,o=new FormData;o.append("order_id",String(e)),t&&o.append("_wpnonce",t);const i=await(await fetch(`${n}&action=products.single_order.promotions.cancel_promotion`,{method:"POST",credentials:"same-origin",body:o})).json();if(!i.success){const d=i.message||window.Voxel_Config?.l10n?.ajaxError||"Failed to cancel promotion";return typeof window.Voxel?.alert=="function"?window.Voxel.alert(d,"error"):console.error(d),!1}return!0}catch(n){return console.error("Failed to cancel promotion:",n),!1}}function De({attributes:e}){const[t,n]=l.useState(null),[o,u]=l.useState([]),[i,d]=l.useState(null),[N,R]=l.useState(!0),[f,r]=l.useState(null),[w,_]=l.useState(1),[p,I]=l.useState({searchQuery:"",status:null,shippingStatus:null,productType:null,page:1});l.useEffect(()=>{let h=!1;async function y(){const C=await Te();h||(C?n(C):r("Failed to load orders configuration"))}return y(),()=>{h=!0}},[]),l.useEffect(()=>{if(!t)return;let h=!1;async function y(){R(!0);const C=await K(p.page,p.status,p.productType,p.searchQuery,p.shippingStatus);h||(u(C.orders),_(C.totalPages),R(!1))}return y(),()=>{h=!0}},[t,p]);const B=l.useCallback(h=>{I(y=>({...y,searchQuery:h,page:1}))},[]),D=l.useCallback(h=>{I(y=>({...y,status:h,page:1}))},[]),O=l.useCallback(h=>{I(y=>({...y,shippingStatus:h,page:1}))},[]),z=l.useCallback(h=>{I(y=>({...y,productType:h,page:1}))},[]),L=l.useCallback(async h=>{R(!0);const y=await Y(h);d(y),R(!1)},[]),s=l.useCallback(()=>{d(null)},[]),E=l.useCallback(async(h,y,C)=>{if(await Me(h,y,C)){if(i&&i.id===h){const Q=await Y(h);d(Q)}const M=await K(p.page,p.status,p.productType,p.searchQuery,p.shippingStatus);u(M.orders)}},[i,p]),c=l.useCallback(h=>{I(y=>({...y,page:h}))},[]),g=l.useCallback(async h=>{const y=t?.nonce;if(await Be(h,y)){if(i&&i.id===h){const M=await Y(h);d(M)}const P=await K(p.page,p.status,p.productType,p.searchQuery,p.shippingStatus);u(P.orders)}},[t?.nonce,i,p]);return t&&!t.current_user_id?React.createElement("div",{className:"vx-orders-widget"},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"}),React.createElement("p",null,"Please log in to view your orders."))):React.createElement(xe,{attributes:e,config:t,orders:o,currentOrder:i,context:"frontend",isLoading:N,error:f,currentPage:p.page,totalPages:w,onSearch:B,onStatusFilter:D,onShippingStatusFilter:O,onProductTypeFilter:z,onOrderSelect:L,onOrderBack:s,onOrderAction:E,onPageChange:c,onCancelPromotion:g})}function H(){document.querySelectorAll(".voxel-fse-orders-frontend, .vx-orders-widget").forEach(t=>{if(t.dataset.reactMounted==="true")return;const n=Ce(t);if(!n){console.warn("Orders block: No vxconfig found");return}const o=Ie(n),u=Se(o);t.innerHTML="",t.dataset.reactMounted="true",pe.createRoot(t).render(React.createElement(De,{attributes:u}))})}const ne={};window.VX_Orders={reinit:()=>H(),registerComponent:(e,t)=>{ne[e]=t},getComponent:e=>ne[e]||null},document.readyState==="loading"?document.addEventListener("DOMContentLoaded",H):H(),window.addEventListener("turbo:load",H),window.addEventListener("pjax:complete",H),typeof jQuery<"u"&&jQuery(document).on("voxel:markup-update",H)})(ReactDOM,React);
