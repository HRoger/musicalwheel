(function(G,v){"use strict";var H,O,F,k;H={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},O=["(","?"],F={")":["("],":":["?","?:"]},k=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;function Y(e){for(var t=[],r=[],n,s,o,l;n=e.match(k);){for(s=n[0],o=e.substr(0,n.index).trim(),o&&t.push(o);l=r.pop();){if(F[s]){if(F[s][0]===l){s=F[s][1]||s;break}}else if(O.indexOf(l)>=0||H[l]<H[s]){r.push(l);break}t.push(l)}F[s]||r.push(s),e=e.substr(n.index+s.length)}return e=e.trim(),e&&t.push(e),t.concat(r.reverse())}var $={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,r){if(e)throw t;return r}};function ee(e,t){var r=[],n,s,o,l,f,m;for(n=0;n<e.length;n++){if(f=e[n],l=$[f],l){for(s=l.length,o=Array(s);s--;)o[s]=r.pop();try{m=l.apply(null,o)}catch(p){return p}}else t.hasOwnProperty(f)?m=t[f]:m=+f;r.push(m)}return r[0]}function te(e){var t=Y(e);return function(r){return ee(t,r)}}function re(e){var t=te(e);return function(r){return+t({n:r})}}var q={contextDelimiter:"",onMissingKey:null};function ne(e){var t,r,n;for(t=e.split(";"),r=0;r<t.length;r++)if(n=t[r].trim(),n.indexOf("plural=")===0)return n.substr(7)}function j(e,t){var r;this.data=e,this.pluralForms={},this.options={};for(r in q)this.options[r]=t!==void 0&&r in t?t[r]:q[r]}j.prototype.getPluralForm=function(e,t){var r=this.pluralForms[e],n,s,o;return r||(n=this.data[e][""],o=n["Plural-Forms"]||n["plural-forms"]||n.plural_forms,typeof o!="function"&&(s=ne(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),o=re(s)),r=this.pluralForms[e]=o),r(t)},j.prototype.dcnpgettext=function(e,t,r,n,s){var o,l,f;return s===void 0?o=0:o=this.getPluralForm(e,s),l=r,t&&(l=t+this.options.contextDelimiter+r),f=this.data[e][l],f&&f[o]?f[o]:(this.options.onMissingKey&&this.options.onMissingKey(r,e),o===0?r:n)};var z={"":{plural_forms(e){return e===1?0:1}}},se=/^i18n\.(n?gettext|has_translation)(_|$)/,ae=(e,t,r)=>{const n=new j({}),s=new Set,o=()=>{s.forEach(a=>a())},l=a=>(s.add(a),()=>s.delete(a)),f=(a="default")=>n.data[a],m=(a,c="default")=>{n.data[c]={...n.data[c],...a},n.data[c][""]={...z[""],...n.data[c]?.[""]},delete n.pluralForms[c]},p=(a,c)=>{m(a,c),o()},y=(a,c="default")=>{n.data[c]={...n.data[c],...a,"":{...z[""],...n.data[c]?.[""],...a?.[""]}},delete n.pluralForms[c],o()},i=(a,c)=>{n.data={},n.pluralForms={},p(a,c)},u=(a="default",c,h,E,w)=>(n.data[a]||m(void 0,a),n.dcnpgettext(a,c,h,E,w)),g=a=>a||"default",b=(a,c)=>{let h=u(c,void 0,a);return r?(h=r.applyFilters("i18n.gettext",h,a,c),r.applyFilters("i18n.gettext_"+g(c),h,a,c)):h},R=(a,c,h)=>{let E=u(h,c,a);return r?(E=r.applyFilters("i18n.gettext_with_context",E,a,c,h),r.applyFilters("i18n.gettext_with_context_"+g(h),E,a,c,h)):E},S=(a,c,h,E)=>{let w=u(E,void 0,a,c,h);return r?(w=r.applyFilters("i18n.ngettext",w,a,c,h,E),r.applyFilters("i18n.ngettext_"+g(E),w,a,c,h,E)):w},A=(a,c,h,E,w)=>{let C=u(w,E,a,c,h);return r?(C=r.applyFilters("i18n.ngettext_with_context",C,a,c,h,E,w),r.applyFilters("i18n.ngettext_with_context_"+g(w),C,a,c,h,E,w)):C},N=()=>R("ltr","text direction")==="rtl",d=(a,c,h)=>{const E=c?c+""+a:a;let w=!!n.data?.[h??"default"]?.[E];return r&&(w=r.applyFilters("i18n.has_translation",w,a,c,h),w=r.applyFilters("i18n.has_translation_"+g(h),w,a,c,h)),w};if(r){const a=c=>{se.test(c)&&o()};r.addAction("hookAdded","core/i18n",a),r.addAction("hookRemoved","core/i18n",a)}return{getLocaleData:f,setLocaleData:p,addLocaleData:y,resetLocaleData:i,subscribe:l,__:b,_x:R,_n:S,_nx:A,isRTL:N,hasTranslation:d}};function ie(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var V=ie;function oe(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var M=oe;function le(e,t){return function(n,s,o,l=10){const f=e[t];if(!M(n)||!V(s))return;if(typeof o!="function"){console.error("The hook callback must be a function.");return}if(typeof l!="number"){console.error("If specified, the hook priority must be a number.");return}const m={callback:o,priority:l,namespace:s};if(f[n]){const p=f[n].handlers;let y;for(y=p.length;y>0&&!(l>=p[y-1].priority);y--);y===p.length?p[y]=m:p.splice(y,0,m),f.__current.forEach(i=>{i.name===n&&i.currentIndex>=y&&i.currentIndex++})}else f[n]={handlers:[m],runs:0};n!=="hookAdded"&&e.doAction("hookAdded",n,s,o,l)}}var U=le;function ce(e,t,r=!1){return function(s,o){const l=e[t];if(!M(s)||!r&&!V(o))return;if(!l[s])return 0;let f=0;if(r)f=l[s].handlers.length,l[s]={runs:l[s].runs,handlers:[]};else{const m=l[s].handlers;for(let p=m.length-1;p>=0;p--)m[p].namespace===o&&(m.splice(p,1),f++,l.__current.forEach(y=>{y.name===s&&y.currentIndex>=p&&y.currentIndex--}))}return s!=="hookRemoved"&&e.doAction("hookRemoved",s,o),f}}var I=ce;function ue(e,t){return function(n,s){const o=e[t];return typeof s<"u"?n in o&&o[n].handlers.some(l=>l.namespace===s):n in o}}var B=ue;function de(e,t,r,n){return function(o,...l){const f=e[t];f[o]||(f[o]={handlers:[],runs:0}),f[o].runs++;const m=f[o].handlers;if(!m||!m.length)return r?l[0]:void 0;const p={name:o,currentIndex:0};async function y(){try{f.__current.add(p);let u=r?l[0]:void 0;for(;p.currentIndex<m.length;)u=await m[p.currentIndex].callback.apply(null,l),r&&(l[0]=u),p.currentIndex++;return r?u:void 0}finally{f.__current.delete(p)}}function i(){try{f.__current.add(p);let u=r?l[0]:void 0;for(;p.currentIndex<m.length;)u=m[p.currentIndex].callback.apply(null,l),r&&(l[0]=u),p.currentIndex++;return r?u:void 0}finally{f.__current.delete(p)}}return(n?y:i)()}}var T=de;function fe(e,t){return function(){const n=e[t];return Array.from(n.__current).at(-1)?.name??null}}var W=fe;function pe(e,t){return function(n){const s=e[t];return typeof n>"u"?s.__current.size>0:Array.from(s.__current).some(o=>o.name===n)}}var X=pe;function he(e,t){return function(n){const s=e[t];if(M(n))return s[n]&&s[n].runs?s[n].runs:0}}var K=he,me=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=U(this,"actions"),this.addFilter=U(this,"filters"),this.removeAction=I(this,"actions"),this.removeFilter=I(this,"filters"),this.hasAction=B(this,"actions"),this.hasFilter=B(this,"filters"),this.removeAllActions=I(this,"actions",!0),this.removeAllFilters=I(this,"filters",!0),this.doAction=T(this,"actions",!1,!1),this.doActionAsync=T(this,"actions",!1,!0),this.applyFilters=T(this,"filters",!0,!1),this.applyFiltersAsync=T(this,"filters",!0,!0),this.currentAction=W(this,"actions"),this.currentFilter=W(this,"filters"),this.doingAction=X(this,"actions"),this.doingFilter=X(this,"filters"),this.didAction=K(this,"actions"),this.didFilter=K(this,"filters")}};function ve(){return new me}var ye=ve,Z=ye(),{addAction:Ce,addFilter:Se,removeAction:Fe,removeFilter:Le,hasAction:Ie,hasFilter:Te,removeAllActions:De,removeAllFilters:He,doAction:je,doActionAsync:Me,applyFilters:Ne,applyFiltersAsync:Pe,currentAction:Oe,currentFilter:ke,doingAction:qe,doingFilter:ze,didAction:Ve,didFilter:Ue,actions:Be,filters:We}=Z,_=ae(void 0,void 0,Z);_.getLocaleData.bind(_),_.setLocaleData.bind(_),_.resetLocaleData.bind(_),_.subscribe.bind(_);var x=_.__.bind(_);_._x.bind(_),_._n.bind(_),_._nx.bind(_),_.isRTL.bind(_),_.hasTranslation.bind(_);const D={"24h":x("24 hours","voxel-fse"),"7d":x("7 days","voxel-fse"),"30d":x("30 days","voxel-fse"),"12m":x("12 months","voxel-fse")},J=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor"},React.createElement("rect",{x:"4",y:"12",width:"4",height:"8",rx:"0.5"}),React.createElement("rect",{x:"10",y:"8",width:"4",height:"12",rx:"0.5"}),React.createElement("rect",{x:"16",y:"4",width:"4",height:"16",rx:"0.5"})),Q=e=>e?e.library&&e.value&&!e.value.includes(".")?React.createElement("i",{className:e.value,"aria-hidden":"true"}):e.value&&e.value.includes("<svg")?React.createElement("span",{dangerouslySetInnerHTML:{__html:e.value},"aria-hidden":"true"}):e.url?React.createElement("img",{src:e.url,alt:"","aria-hidden":"true",style:{width:"48px",height:"48px"}}):React.createElement(J,null):React.createElement(J,null);function we({attributes:e,context:t,vxconfig:r}){const[n,s]=v.useState(e.activeChart||"7d"),[o,l]=v.useState({"24h":{loaded:!1},"7d":{loaded:!1},"30d":{loaded:!1},"12m":{loaded:!1}}),[f,m]=v.useState(!1),[p,y]=v.useState(null),i=v.useRef(null),u=v.useRef(null),g=v.useRef({isDown:!1,startX:0,scrollLeft:0});v.useCallback(()=>typeof window<"u"&&window.wpApiSettings?.root?window.wpApiSettings.root:"/wp-json/",[]);const b=v.useCallback(async d=>{if(t!=="editor"&&r){m(!0);try{const a=new URLSearchParams({source:r.source,timeframe:d,view_type:r.viewType,_wpnonce:r.nonce});r.source==="post"&&r.postId&&a.append("post_id",String(r.postId));const h=`${window.Voxel_Config?.ajax_url||"/wp-admin/admin-ajax.php?"}&action=tracking.get_chart_data&${a.toString()}`,w=await(await fetch(h)).json();if(w.success&&w.data)l(C=>({...C,[d]:{loaded:!0,steps:w.data.steps,items:w.data.items,meta:w.data.meta}}));else{const C=w.message||window.Voxel_Config?.l10n?.ajaxError||"An error occurred";window.Voxel?.alert&&window.Voxel.alert(C,"error"),l(P=>({...P,[d]:{loaded:!0,error:!0}}))}}catch{const a=window.Voxel_Config?.l10n?.ajaxError||"An error occurred";window.Voxel?.alert&&window.Voxel.alert(a,"error"),l(c=>({...c,[d]:{loaded:!0,error:!0}}))}finally{m(!1)}}},[t,r]);v.useEffect(()=>{const d=o[n];d&&!d.loaded&&t==="frontend"&&b(n)},[n,o,t,b]),v.useEffect(()=>{const d=i.current;if(!d)return;const a=()=>{g.current.isDown=!1},c=()=>{g.current.isDown=!1},h=w=>{g.current.isDown=!0,g.current.startX=w.pageX-d.offsetLeft,g.current.scrollLeft=d.scrollLeft},E=w=>{if(!g.current.isDown)return;w.preventDefault();const P=w.pageX-d.offsetLeft-g.current.startX;d.scrollLeft=g.current.scrollLeft-P};return d.addEventListener("mouseup",a),d.addEventListener("mouseleave",c),d.addEventListener("mousedown",h),d.addEventListener("mousemove",E),requestAnimationFrame(()=>{d.scrollLeft=d.scrollWidth}),()=>{d.removeEventListener("mouseup",a),d.removeEventListener("mouseleave",c),d.removeEventListener("mousedown",h),d.removeEventListener("mousemove",E)}},[n]);const R=v.useCallback((d,a)=>{y(a);const c=u.current;if(!c)return;const h=d.currentTarget.getBoundingClientRect();c.style.top=`${h.top}px`,window.innerWidth-h.right>=c.offsetWidth+10?c.style.left=`${h.left+h.width+10}px`:c.style.left=`${h.left-c.offsetWidth-10}px`},[]),S=v.useCallback(()=>{y(null)},[]),A=o[n],N=()=>t!=="frontend"||!r?null:React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(r)}});return t==="editor"?React.createElement("div",{className:"ts-visits-chart voxel-fse-editor-preview"},React.createElement("ul",{className:"ts-generic-tabs simplify-ul flexify bar-chart-tabs"},Object.keys(D).map(d=>React.createElement("li",{key:d,className:n===d?"ts-tab-active":""},React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),s(d)}},D[d])))),React.createElement("div",{className:`ts-chart chart-${n}`},React.createElement("div",{className:"chart-contain"},React.createElement("div",{className:"chart-content"},React.createElement("div",{className:"bar-item-con bar-values"},React.createElement("span",null,"100"),React.createElement("span",null,"80"),React.createElement("span",null,"60"),React.createElement("span",null,"40"),React.createElement("span",null,"20"),React.createElement("span",null,"0"))),React.createElement("div",{className:"chart-content min-scroll min-scroll-h"},["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((d,a)=>React.createElement("div",{key:d,className:"bar-item-con"},React.createElement("div",{className:"bi-hold"},React.createElement("div",{className:"bar-item bar-animate",style:{height:`${20+Math.random()*60}%`}})),React.createElement("span",null,d)))))),React.createElement("div",{className:"voxel-fse-editor-info"},React.createElement("small",null,x("Source:","voxel-fse")," ",e.source," |"," ",x("Data:","voxel-fse")," ",e.viewType==="unique_views"?x("Unique views","voxel-fse"):x("Total views","voxel-fse")))):React.createElement(React.Fragment,null,N(),React.createElement("ul",{className:"ts-generic-tabs simplify-ul flexify bar-chart-tabs"},Object.keys(D).map(d=>React.createElement("li",{key:d,className:n===d?"ts-tab-active":""},React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),s(d)}},D[d])))),A&&React.createElement("div",{className:`ts-chart chart-${n}${f?" vx-pending":""}`},!A.loaded&&React.createElement("div",{className:"chart-contain"},React.createElement("div",{className:"ts-no-posts"},Q(e.chartIcon),React.createElement("p",null,x("Loading data","voxel-fse")))),A.loaded&&React.createElement(React.Fragment,null,A.meta?.has_activity&&A.items&&React.createElement("div",{className:"chart-contain"},React.createElement("div",{className:"chart-content"},React.createElement("div",{className:"bar-item-con bar-values"},A.steps?.map((d,a)=>React.createElement("span",{key:a},d)))),React.createElement("div",{className:"chart-content min-scroll min-scroll-h",ref:i},A.items.map((d,a)=>React.createElement("div",{key:a,className:"bar-item-con"},React.createElement("div",{className:"bi-hold"},React.createElement("div",{className:"bar-item bar-animate",style:{height:`${d.percent}%`},onMouseOver:c=>R(c,d),onMouseLeave:S})),React.createElement("span",null,d.label)))),React.createElement("ul",{ref:u,className:`flexify simplify-ul bar-item-data${p?" active":""}`},React.createElement("li",null,React.createElement("small",null,x("Views","voxel-fse")),p?.count||""),React.createElement("li",null,React.createElement("small",null,x("Unique views","voxel-fse")),p?.unique_count||""))),!A.meta?.has_activity&&React.createElement("div",{className:"ts-no-posts"},Q(e.chartIcon),React.createElement("p",null,x("No activity","voxel-fse"))))))}function ge(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!t.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}function Ee(e){const t=(i,u)=>typeof i=="string"?i:typeof i=="number"?String(i):u,r=(i,u)=>{if(typeof i=="number")return i;if(typeof i=="string"){const g=parseFloat(i);return isNaN(g)?u:g}return u},n=(i,u)=>typeof i=="boolean"?i:i==="yes"||i==="1"||i===1||i==="true"?!0:i==="no"||i==="0"||i===0||i==="false"?!1:u,s=i=>typeof i=="string"&&["post","user","site"].includes(i)?i:"post",o=i=>typeof i=="string"&&["24h","7d","30d","12m"].includes(i)?i:"7d",l=i=>typeof i=="string"&&["views","unique_views"].includes(i)?i:"views",f=i=>{const u=i&&typeof i=="object"?i:{};return{label:t(u.label,""),percent:r(u.percent,0)??0,count:t(u.count,"0"),unique_count:t(u.unique_count??u.uniqueCount,"0")}},m=i=>{const u=i&&typeof i=="object"?i:{};return{label:t(u.label,""),has_activity:n(u.has_activity??u.hasActivity,!1)}},p=i=>{const u=i&&typeof i=="object"?i:{};let g;Array.isArray(u.items)&&(g=u.items.map(f));let b;return Array.isArray(u.steps)&&(b=u.steps.map(R=>t(R,""))),{loaded:n(u.loaded,!1),error:u.error!==void 0?n(u.error,!1):void 0,steps:b,items:g,meta:u.meta?m(u.meta):void 0}},y=i=>{const u=i&&typeof i=="object"?i:{},g={loaded:!1},b=["24h","7d","30d","12m"],R={};for(const S of b)R[S]=u[S]?p(u[S]):{...g};return R};return{source:s(e.source??e.ts_source??e.statsSource),activeChart:o(e.activeChart??e.active_chart??e.ts_active_chart),viewType:l(e.viewType??e.view_type??e.ts_view_type),nonce:t(e.nonce,""),postId:r(e.postId??e.post_id,void 0),charts:y(e.charts)}}function _e(e){const t=e.querySelector("script.vxconfig");if(!t||!t.textContent)return console.error("Visit Chart: vxconfig not found"),null;try{const r=JSON.parse(t.textContent);return Ee(r)}catch(r){return console.error("Visit Chart: Failed to parse vxconfig",r),null}}function xe(e){return{blockId:"",source:e.source||"post",activeChart:e.activeChart||"7d",viewType:e.viewType||"views",chartIcon:{library:"",value:""},chevronRight:{library:"",value:""},chevronLeft:{library:"",value:""}}}function Ae(){const e=document.querySelector("[data-post-id]");if(e?.dataset.postId)return parseInt(e.dataset.postId,10);const r=document.body.className.match(/postid-(\d+)/);if(r)return parseInt(r[1],10);if(document.querySelector(".single-post")){const s=document.querySelector("article[id]");if(s?.id){const o=s.id.match(/post-(\d+)/);if(o)return parseInt(o[1],10)}}return null}async function be(e){try{const t=ge(),r=e==="post"?Ae():null,n=new URLSearchParams({source:e});r&&n.append("post_id",String(r));const s={},o=window.wpApiSettings?.nonce;o&&(s["X-WP-Nonce"]=o);const l=await fetch(`${t}voxel-fse/v1/visit-chart/context?${n.toString()}`,{credentials:"same-origin",headers:s});if(!l.ok){let m={};try{m=await l.json()}catch{}const p={code:m.code||`http_${l.status}`,message:m.message||l.statusText||"Request failed",status:l.status};if(l.status>=500){const y=window.Voxel_Config?.l10n?.ajaxError||"Failed to load chart context";window.Voxel?.alert&&window.Voxel.alert(y,"error")}return{success:!1,error:p}}return{success:!0,data:await l.json()}}catch{const t=window.Voxel_Config?.l10n?.ajaxError||"Failed to load chart context";return window.Voxel?.alert&&window.Voxel.alert(t,"error"),{success:!1,error:{code:"network_error",message:"Network error",status:0}}}}function Re({config:e,attributes:t}){const[r,n]=v.useState(e),[s,o]=v.useState(!0),[l,f]=v.useState(null);return v.useEffect(()=>{let m=!1;async function p(){o(!0),f(null);const y=await be(e.source);m||(y.success&&y.data?n({...e,nonce:y.data.nonce,postId:y.data.postId}):y.error&&f(y.error),o(!1))}return p(),()=>{m=!0}},[e]),s?v.createElement("div",{className:"ts-visits-chart vx-pending"},v.createElement("div",{className:"ts-no-posts"},v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.4}},v.createElement("rect",{x:"4",y:"12",width:"4",height:"8",rx:"0.5"}),v.createElement("rect",{x:"10",y:"8",width:"4",height:"12",rx:"0.5"}),v.createElement("rect",{x:"16",y:"4",width:"4",height:"16",rx:"0.5"})),v.createElement("p",null,"Loading data"))):l&&(l.status===401||l.status===403)?null:l?v.createElement("div",{className:"ts-visits-chart voxel-fse-error"},v.createElement("div",{className:"ts-no-posts"},v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.4}},v.createElement("rect",{x:"4",y:"12",width:"4",height:"8",rx:"0.5"}),v.createElement("rect",{x:"10",y:"8",width:"4",height:"12",rx:"0.5"}),v.createElement("rect",{x:"16",y:"4",width:"4",height:"16",rx:"0.5"})),v.createElement("p",null,"Error loading chart"))):v.createElement(we,{attributes:t,context:"frontend",vxconfig:r})}function L(){document.querySelectorAll(".voxel-fse-visit-chart-frontend").forEach(t=>{if(t.dataset.reactMounted==="true")return;const r=_e(t);if(!r){console.error("Visit Chart: Could not parse configuration");return}const n=xe(r);t.dataset.reactMounted="true";const s=t.querySelector(".voxel-fse-block-placeholder");s&&s.remove(),G.createRoot(t).render(v.createElement(Re,{config:r,attributes:n}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",L):L(),window.addEventListener("turbo:load",L),window.addEventListener("pjax:complete",L),typeof jQuery<"u"&&jQuery(document).on("voxel:markup-update",L)})(ReactDOM,React);
