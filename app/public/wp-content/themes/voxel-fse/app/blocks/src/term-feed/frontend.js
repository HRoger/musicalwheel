(function(L,v){"use strict";function k({text:e,icon:o="î —",className:t="",style:r={}}){return typeof window<"u"&&!window.wp?.blockEditor?null:v.createElement("div",{className:`voxel-empty-placeholder ${t}`,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e?"8px":"0",background:"rgb(213 216 220 / 80%)",borderRadius:"0",color:"#666",fontSize:"13px",height:"100%",minHeight:"45px",width:"100%",boxSizing:"border-box",...r}},v.createElement("span",{className:"placeholder-icon",style:{fontFamily:"eicons",fontSize:"24px",opacity:.3,lineHeight:1,fontStyle:"normal"}},o),e&&v.createElement("span",{className:"placeholder-text",style:{opacity:.6}},e))}function b(e,o,t){if(!e||!e.library||!e.value)return o??null;const{library:r,value:a}=e;return r==="icon"?React.createElement("i",{className:a,"aria-hidden":"true"}):r==="svg"?React.createElement("img",{src:a,alt:"",className:t,style:{width:"1em",height:"1em"}}):o??null}const C={chevronLeft:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M10.746 6.00002C10.746 5.69663 10.5632 5.42312 10.2829 5.30707C10.0026 5.19101 9.67996 5.25526 9.4655 5.46986L3.51254 11.4266C3.35184 11.5642 3.25 11.7685 3.25 11.9966V11.9982C3.24959 12.1906 3.32276 12.3831 3.46949 12.53L9.46548 18.5302C9.67994 18.7448 10.0026 18.809 10.2829 18.693C10.5632 18.5769 10.746 18.3034 10.746 18L10.746 12.7466L20.0014 12.7466C20.4156 12.7466 20.7514 12.4108 20.7514 11.9966C20.7514 11.5824 20.4156 11.2466 20.0014 11.2466L10.746 11.2466V6.00002Z",fill:"#343C54"})),chevronRight:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14.5359 5.46986C14.3214 5.25526 13.9988 5.19101 13.7185 5.30707C13.4382 5.42312 13.2554 5.69663 13.2554 6.00002V11.2466L4 11.2466C3.58579 11.2466 3.25 11.5824 3.25 11.9966C3.25 12.4108 3.58579 12.7466 4 12.7466L13.2554 12.7466V18C13.2554 18.3034 13.4382 18.5769 13.7185 18.693C13.9988 18.809 14.3214 18.7448 14.5359 18.5302L20.5319 12.53C20.6786 12.3831 20.7518 12.1905 20.7514 11.9981L20.7514 11.9966C20.7514 11.7685 20.6495 11.5642 20.4888 11.4266L14.5359 5.46986Z",fill:"#343C54"}))};function R(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const o=e.getAttribute("href");if(o)return o}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),o=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!o.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}let z=!1;function S(){if(z)return!0;if(!window.Voxel?.mixins?.base)return!1;const e=window.Voxel.mixins.base;return e.mounted&&!e._originalMounted?(e._originalMounted=e.mounted,e.mounted=function(){try{const o=this.$root?.$options?.el||this.$el;if(o){const t=o.closest?.(".elementor-element");if(t)this.widget_id=t.dataset?.id||"";else{const a=o.closest?.("[data-block-id]");this.widget_id=a&&a.dataset?.blockId||""}const r=o.closest?.(".elementor");if(r)this.post_id=r.dataset?.elementorId||"";else{const a=document.body.className.match(/postid-(\d+)/);this.post_id=a?a[1]:""}}e._originalMounted&&e._originalMounted!==e.mounted&&e._originalMounted.call(this)}catch(o){console.warn("[VoxelShim] Error in patched mounted():",o),this.widget_id="",this.post_id=""}},z=!0,console.log("[VoxelShim] Successfully patched Voxel.mixins.base.mounted"),!0):!1}function H(){if(S())return;let e=0;const o=50,r=setInterval(()=>{if(e++,S()){clearInterval(r);return}e>=o&&(clearInterval(r),console.warn("[VoxelShim] Voxel.mixins.base not found after 5 seconds"))},100);typeof document<"u"&&document.addEventListener("voxel:ready",()=>{S(),clearInterval(r)},{once:!0})}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",H,{once:!0}):H());function p(e,o,t,r,a="px"){const u=Array.isArray(r)?r:[r],c=[],_=[],m=[],l=B=>typeof a=="function"?a(B):`${B}${a}`;if(e[o]!==void 0&&e[o]!==""){const B=l(e[o]);c.push(`${t} { ${u.map(I=>`${I}: ${B}`).join("; ")}; }`)}const n=`${o}_tablet`;if(e[n]!==void 0&&e[n]!==""){const B=l(e[n]);_.push(`${t} { ${u.map(I=>`${I}: ${B}`).join("; ")}; }`)}const i=`${o}_mobile`;if(e[i]!==void 0&&e[i]!==""){const B=l(e[i]);m.push(`${t} { ${u.map(I=>`${I}: ${B}`).join("; ")}; }`)}let h=c.join(`
`);return _.length>0&&(h+=`
@media (max-width: 1024px) {
${_.join(`
`)}
}`),m.length>0&&(h+=`
@media (max-width: 767px) {
${m.join(`
`)}
}`),h}function W(e,o){const t=[];t.push(`${o} { position: relative; max-width: 100%; min-width: 0; overflow: hidden; }`);const r=`${o} .post-feed-nav .ts-icon-btn`,a=`${o} .post-feed-nav .ts-icon-btn:hover`,u=`${o} .post-feed-nav li:first-child`,c=`${o} .post-feed-nav li:last-child`,_=`${o} .post-feed-nav li`;if(t.push(p(e,"navHorizontalPosition",u,"margin-left")),t.push(p(e,"navHorizontalPosition",c,"margin-right")),t.push(p(e,"navVerticalPosition",_,"margin-top")),e.navButtonIconColor&&t.push(`${r} { --ts-icon-color: ${e.navButtonIconColor}; color: ${e.navButtonIconColor}; }`),t.push(p(e,"navButtonSize",r,["width","height"])),t.push(p(e,"navButtonIconSize",r,"--ts-icon-size")),e.navButtonBackground&&t.push(`${r} { background-color: ${e.navButtonBackground}; }`),t.push(p(e,"navBackdropBlur",r,"backdrop-filter",l=>`blur(${l}px)`)),e.navBorderType&&e.navBorderType!=="none"){const{top:l,right:n,bottom:i,left:h}=e.navBorderWidth||{top:0,right:0,bottom:0,left:0};t.push(`${r} { border-style: ${e.navBorderType}; border-width: ${l}px ${n}px ${i}px ${h}px; border-color: ${e.navBorderColor}; }`)}t.push(p(e,"navBorderRadius",r,"border-radius")),t.push(p(e,"navButtonSizeHover",a,["width","height"])),t.push(p(e,"navButtonIconSizeHover",a,"--ts-icon-size")),e.navButtonIconColorHover&&t.push(`${a} { --ts-icon-color: ${e.navButtonIconColorHover}; color: ${e.navButtonIconColorHover}; }`),e.navButtonBackgroundHover&&t.push(`${a} { background-color: ${e.navButtonBackgroundHover}; }`),e.navButtonBorderColorHover&&t.push(`${a} { border-color: ${e.navButtonBorderColorHover}; }`);const m=`${o} .post-feed-grid`;if(t.push(p(e,"itemGap",m,"gap")),e.layoutMode==="ts-feed-grid-default")t.push(p(e,"gridColumns",m,"grid-template-columns",l=>`repeat(${l}, minmax(0, 1fr))`));else if(e.layoutMode==="ts-feed-nowrap"){t.push(p(e,"scrollPadding",m,["padding-left","padding-right","scroll-padding"]));const l=`${m} > div:last-of-type`;t.push(p(e,"scrollPadding",l,"margin-right"));const n=`${o} .ts-feed-nowrap .ts-preview`;t.push(p(e,"carouselItemWidth",n,["width","min-width","flex-basis"],i=>`${i}${e.carouselItemWidthUnit||"%"}`)),t.push(p(e,"itemPadding",n,"padding"))}return t.filter(Boolean).join(`
`)}function $(){return{}}function A(e,o){const t={};return e.replaceAccentColor&&o&&(t["--e-global-color-accent"]=o),t}function N(){return{navListItemStyle:{},navButtonStyle:{}}}function M({attributes:e,terms:o,isLoading:t,error:r,context:a,cssSelector:u}){const c=v.useRef(null),_=v.useRef(null),m=v.useRef(null);v.useEffect(()=>{if(a==="editor")return;const s=_.current,d=m.current;if(!s||!d)return;s.classList.add("disabled"),d.classList.add("disabled");const f=c.current;if(!f||e.layoutMode!=="ts-feed-nowrap")return;const y=()=>{requestAnimationFrame(()=>{f&&f.scrollWidth>f.clientWidth&&(s.classList.remove("disabled"),d.classList.remove("disabled"))})};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[o,a,e.layoutMode,e.carouselItemWidth,e.itemGap,e.scrollPadding]);const l=v.useCallback(s=>{s.preventDefault();const d=c.current;if(!d)return;const y=d.querySelector(".ts-preview")?.scrollWidth||300;Math.abs(d.scrollLeft)<=10?d.scrollBy({left:d.scrollWidth-d.clientWidth-d.scrollLeft,behavior:"smooth"}):d.scrollBy({left:-y,behavior:"smooth"})},[]),n=v.useCallback(s=>{s.preventDefault();const d=c.current;if(!d)return;const y=d.querySelector(".ts-preview")?.scrollWidth||300;d.clientWidth+Math.abs(d.scrollLeft)+10>=d.scrollWidth?d.scrollBy({left:-d.scrollLeft,behavior:"smooth"}):d.scrollBy({left:y,behavior:"smooth"})},[]);v.useEffect(()=>{if(e.layoutMode!=="ts-feed-nowrap"||!e.carouselAutoplay||!c.current||a==="editor")return;const s=e.carouselAutoplayInterval||3e3;if(s<20)return;let d=!1;const f=c.current.closest(".voxel-fse-term-feed")||c.current,y=()=>{d=!0},x=()=>{d=!1};f?.addEventListener("mouseenter",y),f?.addEventListener("mouseleave",x);const J=setInterval(()=>{if(!d&&c.current){const T=c.current,Q=T.querySelector(".ts-preview")?.scrollWidth||300;T.scrollBy({left:Q,behavior:"smooth"})}},s);return()=>{clearInterval(J),f?.removeEventListener("mouseenter",y),f?.removeEventListener("mouseleave",x)}},[e.layoutMode,e.carouselAutoplay,e.carouselAutoplayInterval,a]);const i=v.useCallback(s=>{if(a!=="editor")return;const d=s.target.closest("a");d&&!d.closest(".post-feed-nav")&&(s.preventDefault(),s.stopPropagation())},[a]),h={source:e.source,manualTermIds:e.manualTerms?.map(s=>s.term_id)||[],taxonomy:e.taxonomy,parentTermId:e.parentTermId,order:e.order,perPage:e.perPage,hideEmpty:e.hideEmpty,hideEmptyPostType:e.hideEmptyPostType,cardTemplate:e.cardTemplate,layoutMode:e.layoutMode,carouselItemWidth:e.carouselItemWidth,carouselItemWidthUnit:e.carouselItemWidthUnit,carouselAutoplay:e.carouselAutoplay,carouselAutoplayInterval:e.carouselAutoplayInterval,gridColumns:e.gridColumns,itemGap:e.itemGap,scrollPadding:e.scrollPadding,itemPadding:e.itemPadding,replaceAccentColor:e.replaceAccentColor,navHorizontalPosition:e.navHorizontalPosition,navVerticalPosition:e.navVerticalPosition,navButtonIconColor:e.navButtonIconColor,navButtonSize:e.navButtonSize,navButtonIconSize:e.navButtonIconSize,navButtonBackground:e.navButtonBackground,navBackdropBlur:e.navBackdropBlur,navBorderType:e.navBorderType,navBorderWidth:e.navBorderWidth,navBorderColor:e.navBorderColor,navBorderRadius:e.navBorderRadius,navButtonSizeHover:e.navButtonSizeHover,navButtonIconSizeHover:e.navButtonIconSizeHover,navButtonIconColorHover:e.navButtonIconColorHover,navButtonBackgroundHover:e.navButtonBackgroundHover,navButtonBorderColorHover:e.navButtonBorderColorHover,rightChevronIcon:e.rightChevronIcon,leftChevronIcon:e.leftChevronIcon,responsive:{}},B=$(),{navListItemStyle:I,navButtonStyle:P}=N(),w=["post-feed-grid",e.layoutMode,e.layoutMode==="ts-feed-nowrap"?"min-scroll min-scroll-h":""].filter(Boolean).join(" "),E=u?W(e,u):"";return t?React.createElement("div",{className:"term-feed-content"},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(h)}}),React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"}))):r?React.createElement("div",{className:"term-feed-content"},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(h)}}),React.createElement("div",{className:"term-feed-error",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"48px",backgroundColor:"#fef2f2",color:"#991b1b"}},r)):!o||o.length===0?React.createElement("div",{className:"term-feed-content"},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(h)}}),a==="editor"&&React.createElement(k,null)):React.createElement("div",{className:"term-feed-content",onClickCapture:i},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(h)}}),E&&React.createElement("style",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("div",{ref:c,className:w,style:B,"data-auto-slide":e.carouselAutoplay?e.carouselAutoplayInterval:0},o.map(s=>React.createElement("div",{key:s.id,className:"ts-preview","data-term-id":s.id,style:A(e,s.color)},s.cardHtml?React.createElement("div",{dangerouslySetInnerHTML:{__html:s.cardHtml}}):React.createElement("div",{className:"ts-term-card"},s.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:s.icon}}),React.createElement("div",{className:"ts-term-name"},s.name),s.count>0&&React.createElement("div",{className:"ts-term-count"},s.count," ",s.count===1?"item":"items"))))),e.layoutMode==="ts-feed-nowrap"&&React.createElement("ul",{className:"simplify-ul flexify post-feed-nav"},React.createElement("li",{style:I},React.createElement("a",{ref:_,href:"#",className:"ts-icon-btn ts-prev-page","aria-label":"Previous",onClick:l,style:P},b(e.leftChevronIcon,C.chevronLeft))),React.createElement("li",{style:I},React.createElement("a",{ref:m,href:"#",className:"ts-icon-btn ts-next-page","aria-label":"Next",onClick:n,style:P},b(e.rightChevronIcon,C.chevronRight)))))}function V(){return R()}const j={top:0,right:0,bottom:0,left:0},F={library:"",value:""};function G(e){const o=(n,i)=>typeof n=="boolean"?n:n==="true"||n==="1"||n===1||n==="yes"?!0:n==="false"||n==="0"||n===0||n==="no"||n===""?!1:i,t=(n,i)=>typeof n=="string"?n:i,r=(n,i)=>{if(typeof n=="number")return n;if(typeof n=="string"){const h=parseFloat(n);return isNaN(h)?i:h}return i},a=n=>{if(typeof n=="number")return n;if(typeof n=="string"){const i=parseFloat(n);return isNaN(i)?void 0:i}},u=n=>{if(typeof n=="string"&&n!=="")return n},c=n=>{if(n&&typeof n=="object"){const i=n;return{library:t(i.library,""),value:t(i.value,"")}}return{...F}},_=n=>{if(n&&typeof n=="object"){const i=n;return{top:r(i.top,0),right:r(i.right,0),bottom:r(i.bottom,0),left:r(i.left,0)}}return{...j}},m=n=>n?Array.isArray(n)?n.map(i=>{if(typeof i=="number")return i;if(typeof i=="object"&&i!==null){const h=i.term_id;return r(h,0)}return r(i,0)}).filter(i=>i>0):[]:[],l=e.responsive??{};return{source:t(e.source??e.ts_source,"filters"),manualTermIds:m(e.manualTermIds??e.manual_term_ids??e.ts_manual_terms),taxonomy:t(e.taxonomy??e.ts_choose_taxonomy,""),parentTermId:r(e.parentTermId??e.parent_term_id??e.ts_parent_term_id,0),order:t(e.order??e.ts_order,"default"),perPage:r(e.perPage??e.per_page??e.ts_per_page,10),hideEmpty:o(e.hideEmpty??e.hide_empty??e.ts_hide_empty,!1),hideEmptyPostType:t(e.hideEmptyPostType??e.hide_empty_post_type??e.ts_hide_empty_pt,":all"),cardTemplate:t(e.cardTemplate??e.card_template??e.ts_card_template,"main"),layoutMode:t(e.layoutMode??e.layout_mode??e.ts_wrap_feed,"ts-feed-grid-default"),carouselItemWidth:r(e.carouselItemWidth??e.carousel_item_width??e.ts_nowrap_item_width,200),carouselItemWidthUnit:t(e.carouselItemWidthUnit??e.carousel_item_width_unit,"px"),carouselAutoplay:o(e.carouselAutoplay??e.carousel_autoplay,!1),carouselAutoplayInterval:r(e.carouselAutoplayInterval??e.carousel_autoplay_interval,3e3),gridColumns:r(e.gridColumns??e.grid_columns??e.ts_feed_column_no,3),itemGap:r(e.itemGap??e.item_gap??e.ts_feed_col_gap,20),scrollPadding:r(e.scrollPadding??e.scroll_padding??e.ts_scroll_padding,0),itemPadding:r(e.itemPadding??e.item_padding??e.ts_item_padding,0),replaceAccentColor:o(e.replaceAccentColor??e.replace_accent_color??e.mod_accent,!1),navHorizontalPosition:a(e.navHorizontalPosition??e.nav_horizontal_position??e.ts_fnav_btn_horizontal),navVerticalPosition:a(e.navVerticalPosition??e.nav_vertical_position??e.ts_fnav_btn_vertical),navButtonIconColor:u(e.navButtonIconColor??e.nav_button_icon_color??e.ts_fnav_btn_color),navButtonSize:a(e.navButtonSize??e.nav_button_size??e.ts_fnav_btn_size),navButtonIconSize:a(e.navButtonIconSize??e.nav_button_icon_size??e.ts_fnav_btn_icon_size),navButtonBackground:u(e.navButtonBackground??e.nav_button_background??e.ts_fnav_btn_nbg),navBackdropBlur:a(e.navBackdropBlur??e.nav_backdrop_blur??e.ts_fnav_blur),navBorderType:u(e.navBorderType??e.nav_border_type),navBorderWidth:e.navBorderWidth??e.nav_border_width?_(e.navBorderWidth??e.nav_border_width):void 0,navBorderColor:u(e.navBorderColor??e.nav_border_color),navBorderRadius:a(e.navBorderRadius??e.nav_border_radius??e.ts_fnav_btn_radius),navButtonSizeHover:a(e.navButtonSizeHover??e.nav_button_size_hover??e.ts_fnav_btn_size_h),navButtonIconSizeHover:a(e.navButtonIconSizeHover??e.nav_button_icon_size_hover??e.ts_fnav_btn_icon_size_h),navButtonIconColorHover:u(e.navButtonIconColorHover??e.nav_button_icon_color_hover??e.ts_fnav_btn_h),navButtonBackgroundHover:u(e.navButtonBackgroundHover??e.nav_button_background_hover??e.ts_fnav_btn_nbg_h),navButtonBorderColorHover:u(e.navButtonBorderColorHover??e.nav_button_border_color_hover??e.ts_fnav_border_c_h),rightChevronIcon:c(e.rightChevronIcon??e.right_chevron_icon??e.ts_chevron_right),leftChevronIcon:c(e.leftChevronIcon??e.left_chevron_icon??e.ts_chevron_left),responsive:{carouselItemWidth_tablet:l.carouselItemWidth_tablet,carouselItemWidth_mobile:l.carouselItemWidth_mobile,gridColumns_tablet:l.gridColumns_tablet,gridColumns_mobile:l.gridColumns_mobile,itemGap_tablet:l.itemGap_tablet,itemGap_mobile:l.itemGap_mobile,scrollPadding_tablet:l.scrollPadding_tablet,scrollPadding_mobile:l.scrollPadding_mobile,itemPadding_tablet:l.itemPadding_tablet,itemPadding_mobile:l.itemPadding_mobile,navHorizontalPosition_tablet:l.navHorizontalPosition_tablet,navHorizontalPosition_mobile:l.navHorizontalPosition_mobile,navVerticalPosition_tablet:l.navVerticalPosition_tablet,navVerticalPosition_mobile:l.navVerticalPosition_mobile,navButtonSize_tablet:l.navButtonSize_tablet,navButtonSize_mobile:l.navButtonSize_mobile,navButtonIconSize_tablet:l.navButtonIconSize_tablet,navButtonIconSize_mobile:l.navButtonIconSize_mobile,navBackdropBlur_tablet:l.navBackdropBlur_tablet,navBackdropBlur_mobile:l.navBackdropBlur_mobile,navBorderRadius_tablet:l.navBorderRadius_tablet,navBorderRadius_mobile:l.navBorderRadius_mobile,navButtonSizeHover_tablet:l.navButtonSizeHover_tablet,navButtonSizeHover_mobile:l.navButtonSizeHover_mobile,navButtonIconSizeHover_tablet:l.navButtonIconSizeHover_tablet,navButtonIconSizeHover_mobile:l.navButtonIconSizeHover_mobile}}}function U(e){const o=e.querySelector("script.vxconfig");if(o&&o.textContent)try{const t=JSON.parse(o.textContent);return G(t)}catch(t){console.error("Failed to parse vxconfig:",t)}return null}function D(e){return{blockId:"",source:e.source,manualTerms:e.manualTermIds.map(o=>({term_id:o})),taxonomy:e.taxonomy,parentTermId:e.parentTermId,order:e.order,perPage:e.perPage,hideEmpty:e.hideEmpty,hideEmptyPostType:e.hideEmptyPostType,cardTemplate:e.cardTemplate,layoutMode:e.layoutMode,carouselItemWidth:e.carouselItemWidth,carouselItemWidth_tablet:e.responsive?.carouselItemWidth_tablet,carouselItemWidth_mobile:e.responsive?.carouselItemWidth_mobile,carouselItemWidthUnit:e.carouselItemWidthUnit,carouselAutoplay:e.carouselAutoplay,carouselAutoplayInterval:e.carouselAutoplayInterval,gridColumns:e.gridColumns,gridColumns_tablet:e.responsive?.gridColumns_tablet,gridColumns_mobile:e.responsive?.gridColumns_mobile,itemGap:e.itemGap,itemGap_tablet:e.responsive?.itemGap_tablet,itemGap_mobile:e.responsive?.itemGap_mobile,scrollPadding:e.scrollPadding,scrollPadding_tablet:e.responsive?.scrollPadding_tablet,scrollPadding_mobile:e.responsive?.scrollPadding_mobile,itemPadding:e.itemPadding,itemPadding_tablet:e.responsive?.itemPadding_tablet,itemPadding_mobile:e.responsive?.itemPadding_mobile,replaceAccentColor:e.replaceAccentColor,navHorizontalPosition:e.navHorizontalPosition,navHorizontalPosition_tablet:e.responsive?.navHorizontalPosition_tablet,navHorizontalPosition_mobile:e.responsive?.navHorizontalPosition_mobile,navVerticalPosition:e.navVerticalPosition,navVerticalPosition_tablet:e.responsive?.navVerticalPosition_tablet,navVerticalPosition_mobile:e.responsive?.navVerticalPosition_mobile,navButtonIconColor:e.navButtonIconColor,navButtonSize:e.navButtonSize,navButtonSize_tablet:e.responsive?.navButtonSize_tablet,navButtonSize_mobile:e.responsive?.navButtonSize_mobile,navButtonIconSize:e.navButtonIconSize,navButtonIconSize_tablet:e.responsive?.navButtonIconSize_tablet,navButtonIconSize_mobile:e.responsive?.navButtonIconSize_mobile,navButtonBackground:e.navButtonBackground,navBackdropBlur:e.navBackdropBlur,navBackdropBlur_tablet:e.responsive?.navBackdropBlur_tablet,navBackdropBlur_mobile:e.responsive?.navBackdropBlur_mobile,navBorderType:e.navBorderType,navBorderWidth:e.navBorderWidth,navBorderColor:e.navBorderColor,navBorderRadius:e.navBorderRadius,navBorderRadius_tablet:e.responsive?.navBorderRadius_tablet,navBorderRadius_mobile:e.responsive?.navBorderRadius_mobile,navButtonSizeHover:e.navButtonSizeHover,navButtonSizeHover_tablet:e.responsive?.navButtonSizeHover_tablet,navButtonSizeHover_mobile:e.responsive?.navButtonSizeHover_mobile,navButtonIconSizeHover:e.navButtonIconSizeHover,navButtonIconSizeHover_tablet:e.responsive?.navButtonIconSizeHover_tablet,navButtonIconSizeHover_mobile:e.responsive?.navButtonIconSizeHover_mobile,navButtonIconColorHover:e.navButtonIconColorHover??"",navButtonBackgroundHover:e.navButtonBackgroundHover??"",navButtonBorderColorHover:e.navButtonBorderColorHover??"",rightChevronIcon:e.rightChevronIcon,leftChevronIcon:e.leftChevronIcon}}async function O(e){const o=V(),t=new URLSearchParams({source:e.source,card_template:e.cardTemplate});if(e.source==="manual"){if(e.manualTermIds.length===0)return[];t.set("term_ids",e.manualTermIds.join(","))}else{if(!e.taxonomy)return[];t.set("taxonomy",e.taxonomy),t.set("order",e.order),t.set("per_page",String(e.perPage)),e.parentTermId&&t.set("parent_term_id",String(e.parentTermId))}e.hideEmpty&&(t.set("hide_empty","1"),e.hideEmptyPostType!==":all"&&t.set("hide_empty_pt",e.hideEmptyPostType));try{const r={},a=window.wpApiSettings?.nonce;a&&(r["X-WP-Nonce"]=a);const u=await fetch(`${o}voxel-fse/v1/term-feed/terms?${t.toString()}`,{credentials:"same-origin",headers:r});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const c=await u.json();if(c.styles){const _=document.getElementById("vx-assets-cache")||document.head,m=document.createElement("div");m.innerHTML=c.styles,Array.from(m.children).forEach(l=>{if(l instanceof HTMLStyleElement||l instanceof HTMLLinkElement){const n=l.id||l.href;n&&!document.getElementById(n)&&_.appendChild(l)}})}return c.terms||[]}catch(r){return console.error("Failed to fetch terms:",r),[]}}function q({config:e,cssSelector:o}){const[t,r]=v.useState([]),[a,u]=v.useState(!0),[c,_]=v.useState(null);v.useEffect(()=>{let l=!1;async function n(){u(!0),_(null);try{const i=await O(e);l||r(i)}catch(i){l||_(i instanceof Error?i.message:"Failed to load terms")}finally{l||u(!1)}}return n(),()=>{l=!0}},[e]),v.useEffect(()=>{!a&&t.length>0&&requestAnimationFrame(()=>{document.dispatchEvent(new CustomEvent("voxel:markup-update")),window.jQuery&&window.jQuery(document).trigger("voxel:markup-update")})},[a,t]);const m=D(e);return React.createElement(M,{attributes:m,terms:t,isLoading:a,error:c,context:"frontend",cssSelector:o})}function g(){document.querySelectorAll(".voxel-fse-term-feed").forEach(o=>{if(o.dataset.hydrated==="true")return;const t=U(o);if(!t){console.error("No vxconfig found for term feed block");return}const r=Array.from(o.classList).find(c=>c.startsWith("voxel-fse-term-feed-")&&c!=="voxel-fse-term-feed"),a=r?`.${r}`:`.${o.classList[0]||"voxel-fse-term-feed"}`;o.dataset.hydrated="true",o.innerHTML="",L.createRoot(o).render(React.createElement(q,{config:t,cssSelector:a}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):g(),window.addEventListener("turbo:load",g),window.addEventListener("pjax:complete",g)})(ReactDOM,React);
