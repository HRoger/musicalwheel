/**
 * Timeline Block Frontend Styles
 *
 * This file ensures the Timeline block has frontend styles.
 * Voxel's social-feed.css is enqueued via Block_Loader.php,
 * but we need a frontend.css registered in block.json
 * so WordPress knows to load styles when the block is rendered.
 *
 * @package VoxelFSE
 */

/* Base container ensures width */
.voxel-fse-timeline-frontend {
	width: 100%;
}

/* Loading placeholder - shown before React hydrates */
.voxel-fse-timeline-placeholder {
	min-height: 100px;
}

/* No posts state */
.voxel-fse-timeline-frontend .ts-no-posts {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	padding: 40px 20px;
	text-align: center;
	color: var(--ts-shade-600, #666);
}

.voxel-fse-timeline-frontend .ts-no-posts svg {
	opacity: 0.5;
	margin-bottom: 12px;
}

/* Feed container */
.voxel-fse-timeline-frontend .vxfeed {
	width: 100%;
}

/* Filter section - inherits from Voxel's social-feed.css .vxf-filters */
/* Only add additional styles, don't override justify-content: space-between */

/* Ensure posts list renders properly */
.voxel-fse-timeline-frontend .vxf-posts {
	display: flex;
	flex-direction: column;
	gap: 20px;
}

/* Loading state uses Voxel standard .ts-no-posts + .ts-loader */

/* Load more button */
.voxel-fse-timeline-frontend .vxf-load-more {
	display: flex;
	justify-content: center;
	margin-top: 20px;
}

/* Textarea text color - matches Voxel's timeline-kit.php line 9-11 */
.vxf-content__textarea {
	color: var(--main-text) !important;
}

/* Footer icon vertical alignment - ensures like, repost, reply icons are centered */
.vxf-footer .vxf-actions {
	align-items: center;
}

.vxf-footer .vxf-actions .vxf-icon {
	display: flex;
	align-items: center;
	justify-content: center;
}

.vxf-footer .vxf-actions .vxf-icon svg {
	display: block;
}

/* Preloading state - faded opacity while refetching after attribute changes */
.vxfeed--loading {
	opacity: 0.45;
	pointer-events: none;
	transition: opacity 0.2s ease;
}

/* Edit mode styling */
.vxf-edit-mode {
	width: 100%;
}

.vxf-edit-mode .vxf-create-post {
	margin: 0;
	padding: 0;
}



/* Fix footer wrapper height - matches Voxel's inline style="height: auto;" */
.vxf-footer-wrapper {
	height: auto;
}

/*
 * Composer layout fix - Voxel's social-feed.css sets display:flow-root on
 * .vxf-create-post, which overrides .flexify's display:flex (loaded earlier
 * in commons.css). In Voxel's Vue, the transition-height component sets
 * explicit pixel height on the footer-wrapper, making the flow-root parent grow.
 *
 * In React we don't have transition-height, so we force display:flex with
 * flex-direction:column on the expanded composer. This ensures the flex
 * container naturally sizes to include the footer-wrapper (images + buttons).
 * Higher specificity selector (.voxel-fse-timeline-frontend .vxf-create-post)
 * guarantees this overrides both social-feed.css and commons.css.
 */
.voxel-fse-timeline-frontend .vxf-create-post.vxf-expanded {
	display: flex;
	flex-direction: column;
	flex-wrap: nowrap;
}

/*
 * Defensive overflow fixes - ensure post containers never clip content.
 * Voxel's social-feed.css does NOT set overflow:hidden on these,
 * but WordPress block wrappers or theme layout CSS might.
 */
.voxel-fse-timeline-frontend .vxf-subgrid,
.voxel-fse-timeline-frontend .vxf-post,
.voxel-fse-timeline-frontend .vxf-body,
.voxel-fse-timeline-frontend .vxf-footer {
	overflow: visible;
}

/* Ensure the block wrapper itself doesn't clip */
.voxel-fse-timeline-frontend {
	overflow: visible;
}
