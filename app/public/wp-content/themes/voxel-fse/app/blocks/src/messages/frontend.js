(function(zt,b,Ut){"use strict";var je,Ye,Ce,Qe;je={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},Ye=["(","?"],Ce={")":["("],":":["?","?:"]},Qe=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;function Vt(e){for(var t=[],r=[],a,n,s,i;a=e.match(Qe);){for(n=a[0],s=e.substr(0,a.index).trim(),s&&t.push(s);i=r.pop();){if(Ce[n]){if(Ce[n][0]===i){n=Ce[n][1]||n;break}}else if(Ye.indexOf(i)>=0||je[i]<je[n]){r.push(i);break}t.push(i)}Ce[n]||r.push(n),e=e.substr(a.index+n.length)}return e=e.trim(),e&&t.push(e),t.concat(r.reverse())}var Wt={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,r){if(e)throw t;return r}};function Kt(e,t){var r=[],a,n,s,i,l,c;for(a=0;a<e.length;a++){if(l=e[a],i=Wt[l],i){for(n=i.length,s=Array(n);n--;)s[n]=r.pop();try{c=i.apply(null,s)}catch(u){return u}}else t.hasOwnProperty(l)?c=t[l]:c=+l;r.push(c)}return r[0]}function Zt(e){var t=Vt(e);return function(r){return Kt(t,r)}}function Gt(e){var t=Zt(e);return function(r){return+t({n:r})}}var $e={contextDelimiter:"",onMissingKey:null};function Jt(e){var t,r,a;for(t=e.split(";"),r=0;r<t.length;r++)if(a=t[r].trim(),a.indexOf("plural=")===0)return a.substr(7)}function Fe(e,t){var r;this.data=e,this.pluralForms={},this.options={};for(r in $e)this.options[r]=t!==void 0&&r in t?t[r]:$e[r]}Fe.prototype.getPluralForm=function(e,t){var r=this.pluralForms[e],a,n,s;return r||(a=this.data[e][""],s=a["Plural-Forms"]||a["plural-forms"]||a.plural_forms,typeof s!="function"&&(n=Jt(a["Plural-Forms"]||a["plural-forms"]||a.plural_forms),s=Gt(n)),r=this.pluralForms[e]=s),r(t)},Fe.prototype.dcnpgettext=function(e,t,r,a,n){var s,i,l;return n===void 0?s=0:s=this.getPluralForm(e,n),i=r,t&&(i=t+this.options.contextDelimiter+r),l=this.data[e][i],l&&l[s]?l[s]:(this.options.onMissingKey&&this.options.onMissingKey(r,e),s===0?r:a)};var et={"":{plural_forms(e){return e===1?0:1}}},Xt=/^i18n\.(n?gettext|has_translation)(_|$)/,Yt=(e,t,r)=>{const a=new Fe({}),n=new Set,s=()=>{n.forEach(w=>w())},i=w=>(n.add(w),()=>n.delete(w)),l=(w="default")=>a.data[w],c=(w,p="default")=>{a.data[p]={...a.data[p],...w},a.data[p][""]={...et[""],...a.data[p]?.[""]},delete a.pluralForms[p]},u=(w,p)=>{c(w,p),s()},g=(w,p="default")=>{a.data[p]={...a.data[p],...w,"":{...et[""],...a.data[p]?.[""],...w?.[""]}},delete a.pluralForms[p],s()},C=(w,p)=>{a.data={},a.pluralForms={},u(w,p)},v=(w="default",p,y,E,I)=>(a.data[w]||c(void 0,w),a.dcnpgettext(w,p,y,E,I)),_=w=>w||"default",x=(w,p)=>{let y=v(p,void 0,w);return r?(y=r.applyFilters("i18n.gettext",y,w,p),r.applyFilters("i18n.gettext_"+_(p),y,w,p)):y},A=(w,p,y)=>{let E=v(y,p,w);return r?(E=r.applyFilters("i18n.gettext_with_context",E,w,p,y),r.applyFilters("i18n.gettext_with_context_"+_(y),E,w,p,y)):E},T=(w,p,y,E)=>{let I=v(E,void 0,w,p,y);return r?(I=r.applyFilters("i18n.ngettext",I,w,p,y,E),r.applyFilters("i18n.ngettext_"+_(E),I,w,p,y,E)):I},M=(w,p,y,E,I)=>{let H=v(I,E,w,p,y);return r?(H=r.applyFilters("i18n.ngettext_with_context",H,w,p,y,E,I),r.applyFilters("i18n.ngettext_with_context_"+_(I),H,w,p,y,E,I)):H},k=()=>A("ltr","text direction")==="rtl",L=(w,p,y)=>{const E=p?p+""+w:w;let I=!!a.data?.[y??"default"]?.[E];return r&&(I=r.applyFilters("i18n.has_translation",I,w,p,y),I=r.applyFilters("i18n.has_translation_"+_(y),I,w,p,y)),I};if(r){const w=p=>{Xt.test(p)&&s()};r.addAction("hookAdded","core/i18n",w),r.addAction("hookRemoved","core/i18n",w)}return{getLocaleData:l,setLocaleData:u,addLocaleData:g,resetLocaleData:C,subscribe:i,__:x,_x:A,_n:T,_nx:M,isRTL:k,hasTranslation:L}};function Qt(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var tt=Qt;function $t(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var Pe=$t;function er(e,t){return function(a,n,s,i=10){const l=e[t];if(!Pe(a)||!tt(n))return;if(typeof s!="function"){console.error("The hook callback must be a function.");return}if(typeof i!="number"){console.error("If specified, the hook priority must be a number.");return}const c={callback:s,priority:i,namespace:n};if(l[a]){const u=l[a].handlers;let g;for(g=u.length;g>0&&!(i>=u[g-1].priority);g--);g===u.length?u[g]=c:u.splice(g,0,c),l.__current.forEach(C=>{C.name===a&&C.currentIndex>=g&&C.currentIndex++})}else l[a]={handlers:[c],runs:0};a!=="hookAdded"&&e.doAction("hookAdded",a,n,s,i)}}var rt=er;function tr(e,t,r=!1){return function(n,s){const i=e[t];if(!Pe(n)||!r&&!tt(s))return;if(!i[n])return 0;let l=0;if(r)l=i[n].handlers.length,i[n]={runs:i[n].runs,handlers:[]};else{const c=i[n].handlers;for(let u=c.length-1;u>=0;u--)c[u].namespace===s&&(c.splice(u,1),l++,i.__current.forEach(g=>{g.name===n&&g.currentIndex>=u&&g.currentIndex--}))}return n!=="hookRemoved"&&e.doAction("hookRemoved",n,s),l}}var Re=tr;function rr(e,t){return function(a,n){const s=e[t];return typeof n<"u"?a in s&&s[a].handlers.some(i=>i.namespace===n):a in s}}var nt=rr;function nr(e,t,r,a){return function(s,...i){const l=e[t];l[s]||(l[s]={handlers:[],runs:0}),l[s].runs++;const c=l[s].handlers;if(!c||!c.length)return r?i[0]:void 0;const u={name:s,currentIndex:0};async function g(){try{l.__current.add(u);let v=r?i[0]:void 0;for(;u.currentIndex<c.length;)v=await c[u.currentIndex].callback.apply(null,i),r&&(i[0]=v),u.currentIndex++;return r?v:void 0}finally{l.__current.delete(u)}}function C(){try{l.__current.add(u);let v=r?i[0]:void 0;for(;u.currentIndex<c.length;)v=c[u.currentIndex].callback.apply(null,i),r&&(i[0]=v),u.currentIndex++;return r?v:void 0}finally{l.__current.delete(u)}}return(a?g:C)()}}var xe=nr;function ar(e,t){return function(){const a=e[t];return Array.from(a.__current).at(-1)?.name??null}}var at=ar;function sr(e,t){return function(a){const n=e[t];return typeof a>"u"?n.__current.size>0:Array.from(n.__current).some(s=>s.name===a)}}var st=sr;function or(e,t){return function(a){const n=e[t];if(Pe(a))return n[a]&&n[a].runs?n[a].runs:0}}var ot=or,ir=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=rt(this,"actions"),this.addFilter=rt(this,"filters"),this.removeAction=Re(this,"actions"),this.removeFilter=Re(this,"filters"),this.hasAction=nt(this,"actions"),this.hasFilter=nt(this,"filters"),this.removeAllActions=Re(this,"actions",!0),this.removeAllFilters=Re(this,"filters",!0),this.doAction=xe(this,"actions",!1,!1),this.doActionAsync=xe(this,"actions",!1,!0),this.applyFilters=xe(this,"filters",!0,!1),this.applyFiltersAsync=xe(this,"filters",!0,!0),this.currentAction=at(this,"actions"),this.currentFilter=at(this,"filters"),this.doingAction=st(this,"actions"),this.doingFilter=st(this,"filters"),this.didAction=ot(this,"actions"),this.didFilter=ot(this,"filters")}};function cr(){return new ir}var lr=cr,it=lr(),{addAction:na,addFilter:aa,removeAction:sa,removeFilter:oa,hasAction:ia,hasFilter:ca,removeAllActions:la,removeAllFilters:ua,doAction:ur,doActionAsync:fa,applyFilters:da,applyFiltersAsync:ha,currentAction:ma,currentFilter:pa,doingAction:va,doingFilter:ga,didAction:ya,didFilter:ba,actions:wa,filters:_a}=it,Z=Yt(void 0,void 0,it);Z.getLocaleData.bind(Z),Z.setLocaleData.bind(Z),Z.resetLocaleData.bind(Z),Z.subscribe.bind(Z);var N=Z.__.bind(Z);Z._x.bind(Z),Z._n.bind(Z),Z._nx.bind(Z),Z.isRTL.bind(Z),Z.hasTranslation.bind(Z);var ct=Object.create(null);function lt(e,t={}){const{since:r,version:a,alternative:n,plugin:s,link:i,hint:l}=t,c=s?` from ${s}`:"",u=r?` since version ${r}`:"",g=a?` and will be removed${c} in version ${a}`:"",C=n?` Please use ${n} instead.`:"",v=i?` See: ${i}`:"",_=l?` Note: ${l}`:"",x=`${e} is deprecated${u}${g}.${C}${v}${_}`;x in ct||(ur("deprecated",e,t,x),console.warn(x),ct[x]=!0)}function $(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fr=typeof Symbol=="function"&&Symbol.observable||"@@observable",ut=fr,ft=()=>Math.random().toString(36).substring(7).split("").join("."),dr={INIT:`@@redux/INIT${ft()}`,REPLACE:`@@redux/REPLACE${ft()}`},dt=dr;function hr(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ht(e,t,r){if(typeof e!="function")throw new Error($(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($(1));return r(ht)(e,t)}let a=e,n=t,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((T,M)=>{i.set(M,T)}))}function g(){if(c)throw new Error($(3));return n}function C(T){if(typeof T!="function")throw new Error($(4));if(c)throw new Error($(5));let M=!0;u();const k=l++;return i.set(k,T),function(){if(M){if(c)throw new Error($(6));M=!1,u(),i.delete(k),s=null}}}function v(T){if(!hr(T))throw new Error($(7));if(typeof T.type>"u")throw new Error($(8));if(typeof T.type!="string")throw new Error($(17));if(c)throw new Error($(9));try{c=!0,n=a(n,T)}finally{c=!1}return(s=i).forEach(k=>{k()}),T}function _(T){if(typeof T!="function")throw new Error($(10));a=T,v({type:dt.REPLACE})}function x(){const T=C;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error($(11));function k(){const w=M;w.next&&w.next(g())}return k(),{unsubscribe:T(k)}},[ut](){return this}}}return v({type:dt.INIT}),{dispatch:v,subscribe:C,getState:g,replaceReducer:_,[ut]:x}}function mr(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function pr(...e){return t=>(r,a)=>{const n=t(r,a);let s=()=>{throw new Error($(15))};const i={getState:n.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(i));return s=mr(...l)(n.dispatch),{...n,dispatch:s}}}var mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var De,pt;function gr(){if(pt)return De;pt=1;function e(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(l){return typeof l}:e=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(i)}function t(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function r(i,l){for(var c=0;c<l.length;c++){var u=l[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(i,u.key,u)}}function a(i,l,c){return l&&r(i.prototype,l),i}function n(i,l){var c=i._map,u=i._arrayTreeMap,g=i._objectTreeMap;if(c.has(l))return c.get(l);for(var C=Object.keys(l).sort(),v=Array.isArray(l)?u:g,_=0;_<C.length;_++){var x=C[_];if(v=v.get(x),v===void 0)return;var A=l[x];if(v=v.get(A),v===void 0)return}var T=v.get("_ekm_value");if(T)return c.delete(T[0]),T[0]=l,v.set("_ekm_value",T),c.set(l,T),T}var s=(function(){function i(l){if(t(this,i),this.clear(),l instanceof i){var c=[];l.forEach(function(g,C){c.push([C,g])}),l=c}if(l!=null)for(var u=0;u<l.length;u++)this.set(l[u][0],l[u][1])}return a(i,[{key:"set",value:function(c,u){if(c===null||e(c)!=="object")return this._map.set(c,u),this;for(var g=Object.keys(c).sort(),C=[c,u],v=Array.isArray(c)?this._arrayTreeMap:this._objectTreeMap,_=0;_<g.length;_++){var x=g[_];v.has(x)||v.set(x,new i),v=v.get(x);var A=c[x];v.has(A)||v.set(A,new i),v=v.get(A)}var T=v.get("_ekm_value");return T&&this._map.delete(T[0]),v.set("_ekm_value",C),this._map.set(c,C),this}},{key:"get",value:function(c){if(c===null||e(c)!=="object")return this._map.get(c);var u=n(this,c);if(u)return u[1]}},{key:"has",value:function(c){return c===null||e(c)!=="object"?this._map.has(c):n(this,c)!==void 0}},{key:"delete",value:function(c){return this.has(c)?(this.set(c,void 0),!0):!1}},{key:"forEach",value:function(c){var u=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;this._map.forEach(function(C,v){v!==null&&e(v)==="object"&&(C=C[1]),c.call(g,C,v,u)})}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}]),i})();return De=s,De}var yr=gr();const ue=vr(yr);function br(e){return!!e&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}var Ne={},B={},Te={},vt;function gt(){if(vt)return Te;vt=1,Object.defineProperty(Te,"__esModule",{value:!0});var e={all:Symbol("all"),error:Symbol("error"),fork:Symbol("fork"),join:Symbol("join"),race:Symbol("race"),call:Symbol("call"),cps:Symbol("cps"),subscribe:Symbol("subscribe")};return Te.default=e,Te}var yt;function bt(){if(yt)return B;yt=1,Object.defineProperty(B,"__esModule",{value:!0}),B.createChannel=B.subscribe=B.cps=B.apply=B.call=B.invoke=B.delay=B.race=B.join=B.fork=B.error=B.all=void 0;var e=gt(),t=r(e);function r(a){return a&&a.__esModule?a:{default:a}}return B.all=function(n){return{type:t.default.all,value:n}},B.error=function(n){return{type:t.default.error,error:n}},B.fork=function(n){for(var s=arguments.length,i=Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return{type:t.default.fork,iterator:n,args:i}},B.join=function(n){return{type:t.default.join,task:n}},B.race=function(n){return{type:t.default.race,competitors:n}},B.delay=function(n){return new Promise(function(s){setTimeout(function(){return s(!0)},n)})},B.invoke=function(n){for(var s=arguments.length,i=Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return{type:t.default.call,func:n,context:null,args:i}},B.call=function(n,s){for(var i=arguments.length,l=Array(i>2?i-2:0),c=2;c<i;c++)l[c-2]=arguments[c];return{type:t.default.call,func:n,context:s,args:l}},B.apply=function(n,s,i){return{type:t.default.call,func:n,context:s,args:i}},B.cps=function(n){for(var s=arguments.length,i=Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return{type:t.default.cps,func:n,args:i}},B.subscribe=function(n){return{type:t.default.subscribe,channel:n}},B.createChannel=function(n){var s=[],i=function(u){return s.push(u),function(){return s.splice(s.indexOf(u),1)}},l=function(u){return s.forEach(function(g){return g(u)})};return n(l),{subscribe:i}},B}var Le={},ee={},ke={},wt;function Me(){if(wt)return ke;wt=1,Object.defineProperty(ke,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol?"symbol":typeof s},t=gt(),r=a(t);function a(s){return s&&s.__esModule?s:{default:s}}var n={obj:function(i){return(typeof i>"u"?"undefined":e(i))==="object"&&!!i},all:function(i){return n.obj(i)&&i.type===r.default.all},error:function(i){return n.obj(i)&&i.type===r.default.error},array:Array.isArray,func:function(i){return typeof i=="function"},promise:function(i){return i&&n.func(i.then)},iterator:function(i){return i&&n.func(i.next)&&n.func(i.throw)},fork:function(i){return n.obj(i)&&i.type===r.default.fork},join:function(i){return n.obj(i)&&i.type===r.default.join},race:function(i){return n.obj(i)&&i.type===r.default.race},call:function(i){return n.obj(i)&&i.type===r.default.call},cps:function(i){return n.obj(i)&&i.type===r.default.cps},subscribe:function(i){return n.obj(i)&&i.type===r.default.subscribe},channel:function(i){return n.obj(i)&&n.func(i.subscribe)}};return ke.default=n,ke}var _t;function wr(){if(_t)return ee;_t=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.iterator=ee.array=ee.object=ee.error=ee.any=void 0;var e=Me(),t=r(e);function r(c){return c&&c.__esModule?c:{default:c}}var a=ee.any=function(u,g,C,v){return v(u),!0},n=ee.error=function(u,g,C,v,_){return t.default.error(u)?(_(u.error),!0):!1},s=ee.object=function(u,g,C,v,_){if(!t.default.all(u)||!t.default.obj(u.value))return!1;var x={},A=Object.keys(u.value),T=0,M=!1,k=function(p,y){M||(x[p]=y,T++,T===A.length&&v(x))},L=function(p,y){M||(M=!0,_(y))};return A.map(function(w){C(u.value[w],function(p){return k(w,p)},function(p){return L(w,p)})}),!0},i=ee.array=function(u,g,C,v,_){if(!t.default.all(u)||!t.default.array(u.value))return!1;var x=[],A=0,T=!1,M=function(w,p){T||(x[w]=p,A++,A===u.value.length&&v(x))},k=function(w,p){T||(T=!0,_(p))};return u.value.map(function(L,w){C(L,function(p){return M(w,p)},function(p){return k(w,p)})}),!0},l=ee.iterator=function(u,g,C,v,_){return t.default.iterator(u)?(C(u,g,_),!0):!1};return ee.default=[n,l,i,s,a],ee}var Ct;function _r(){if(Ct)return Le;Ct=1,Object.defineProperty(Le,"__esModule",{value:!0});var e=wr(),t=n(e),r=Me(),a=n(r);function n(l){return l&&l.__esModule?l:{default:l}}function s(l){if(Array.isArray(l)){for(var c=0,u=Array(l.length);c<l.length;c++)u[c]=l[c];return u}else return Array.from(l)}var i=function(){var c=arguments.length<=0||arguments[0]===void 0?[]:arguments[0],u=[].concat(s(c),s(t.default)),g=function C(v){var _=arguments.length<=1||arguments[1]===void 0?function(){}:arguments[1],x=arguments.length<=2||arguments[2]===void 0?function(){}:arguments[2],A=function(k){var L=function(y){return function(E){try{var I=y?k.throw(E):k.next(E),H=I.value,G=I.done;if(G)return _(H);w(H)}catch(Q){return x(Q)}}},w=function p(y){u.some(function(E){return E(y,p,C,L(!1),L(!0))})};L(!1)()},T=a.default.iterator(v)?v:regeneratorRuntime.mark(function M(){return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,v;case 2:return L.abrupt("return",L.sent);case 3:case"end":return L.stop()}},M,this)})();A(T)};return g};return Le.default=i,Le}var oe={},Ae={},Et;function Cr(){if(Et)return Ae;Et=1,Object.defineProperty(Ae,"__esModule",{value:!0});var e=function(){var r=[];return{subscribe:function(n){return r.push(n),function(){r=r.filter(function(s){return s!==n})}},dispatch:function(n){r.slice().forEach(function(s){return s(n)})}}};return Ae.default=e,Ae}var St;function Er(){if(St)return oe;St=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.race=oe.join=oe.fork=oe.promise=void 0;var e=Me(),t=s(e),r=bt(),a=Cr(),n=s(a);function s(v){return v&&v.__esModule?v:{default:v}}var i=oe.promise=function(_,x,A,T,M){return t.default.promise(_)?(_.then(x,M),!0):!1},l=new Map,c=oe.fork=function(_,x,A){if(!t.default.fork(_))return!1;var T=Symbol("fork"),M=(0,n.default)();l.set(T,M),A(_.iterator.apply(null,_.args),function(L){return M.dispatch(L)},function(L){return M.dispatch((0,r.error)(L))});var k=M.subscribe(function(){k(),l.delete(T)});return x(T),!0},u=oe.join=function(_,x,A,T,M){if(!t.default.join(_))return!1;var k=l.get(_.task);return k?(function(){var L=k.subscribe(function(w){L(),x(w)})})():M("join error : task not found"),!0},g=oe.race=function(_,x,A,T,M){if(!t.default.race(_))return!1;var k=!1,L=function(y,E,I){k||(k=!0,y[E]=I,x(y))},w=function(y){k||M(y)};return t.default.array(_.competitors)?(function(){var p=_.competitors.map(function(){return!1});_.competitors.forEach(function(y,E){A(y,function(I){return L(p,E,I)},w)})})():(function(){var p=Object.keys(_.competitors).reduce(function(y,E){return y[E]=!1,y},{});Object.keys(_.competitors).forEach(function(y){A(_.competitors[y],function(E){return L(p,y,E)},w)})})(),!0},C=function(_,x){if(!t.default.subscribe(_))return!1;if(!t.default.channel(_.channel))throw new Error('the first argument of "subscribe" must be a valid channel');var A=_.channel.subscribe(function(T){A&&A(),x(T)});return!0};return oe.default=[i,c,u,g,C],oe}var he={},Rt;function Sr(){if(Rt)return he;Rt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.cps=he.call=void 0;var e=Me(),t=r(e);function r(i){return i&&i.__esModule?i:{default:i}}function a(i){if(Array.isArray(i)){for(var l=0,c=Array(i.length);l<i.length;l++)c[l]=i[l];return c}else return Array.from(i)}var n=he.call=function(l,c,u,g,C){if(!t.default.call(l))return!1;try{c(l.func.apply(l.context,l.args))}catch(v){C(v)}return!0},s=he.cps=function(l,c,u,g,C){var v;return t.default.cps(l)?((v=l.func).call.apply(v,[null].concat(a(l.args),[function(_,x){_?C(_):c(x)}])),!0):!1};return he.default=[n,s],he}var xt;function Rr(){return xt||(xt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapControls=e.asyncControls=e.create=void 0;var t=bt();Object.keys(t).forEach(function(u){u!=="default"&&Object.defineProperty(e,u,{enumerable:!0,get:function(){return t[u]}})});var r=_r(),a=c(r),n=Er(),s=c(n),i=Sr(),l=c(i);function c(u){return u&&u.__esModule?u:{default:u}}e.create=a.default,e.asyncControls=s.default,e.wrapControls=l.default})(Ne)),Ne}var xr=Rr();function Tt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Lt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Tr(e){var t,r;return Lt(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(Lt(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function He(e){return Tr(e)&&typeof e.type=="string"}function Lr(e,t){return He(e)&&e.type===t}function kr(e={},t){const r=Object.entries(e).map(([s,i])=>(l,c,u,g,C)=>{if(!Lr(l,s))return!1;const v=i(l);return Tt(v)?v.then(g,C):g(v),!0}),a=(s,i)=>He(s)?(t(s),i(),!0):!1;r.push(a);const n=xr.create(r);return s=>new Promise((i,l)=>n(s,c=>{He(c)&&t(c),i(c)},l))}function Mr(e={}){return t=>{const r=kr(e,t.dispatch);return a=>n=>br(n)?r(n):a(n)}}var Ar=(e=!1)=>(...t)=>(...r)=>{const a=t.flat();return e&&a.reverse(),a.reduce((n,s)=>[s(...n)],r)[0]},Or=Ar(!0),Ir=Or;function jr(e,t){if(e===t)return!0;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;let n=0;for(;n<r.length;){const s=r[n],i=e[s];if(i===void 0&&!t.hasOwnProperty(s)||i!==t[s])return!1;n++}return!0}function Fr(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,a=e.length;r<a;r++)if(e[r]!==t[r])return!1;return!0}function kt(e,t){if(e&&t){if(e.constructor===Object&&t.constructor===Object)return jr(e,t);if(Array.isArray(e)&&Array.isArray(t))return Fr(e,t)}return e===t}var Be={exports:{}},Mt;function Pr(){return Mt||(Mt=1,(function(e){(function(t){e.exports?e.exports=t():window.idleCallbackShim=t()})(function(){var t,r,a,n,s=typeof window<"u"?window:typeof mt!=null?mt:this||{},i=s.cancelRequestAnimationFrame&&s.requestAnimationFrame||setTimeout,l=s.cancelRequestAnimationFrame||clearTimeout,c=[],u=0,g=!1,C=7,v=35,_=125,x=0,A=0,T=0,M={get didTimeout(){return!1},timeRemaining:function(){var q=C-(Date.now()-A);return q<0?0:q}},k=L(function(){C=22,_=66,v=0});function L(q){var U,P,D=99,W=function(){var K=Date.now()-P;K<D?U=setTimeout(W,D-K):(U=null,q())};return function(){P=Date.now(),U||(U=setTimeout(W,D))}}function w(){g&&(n&&l(n),a&&clearTimeout(a),g=!1)}function p(){_!=125&&(C=7,_=125,v=35,g&&(w(),I())),k()}function y(){n=null,a=setTimeout(H,0)}function E(){a=null,i(y)}function I(){g||(r=_-(Date.now()-A),t=Date.now(),g=!0,v&&r<v&&(r=v),r>9?a=setTimeout(E,r):(r=0,E()))}function H(){var q,U,P,D=C>9?9:1;if(A=Date.now(),g=!1,a=null,u>2||A-r-50<t)for(U=0,P=c.length;U<P&&M.timeRemaining()>D;U++)q=c.shift(),T++,q&&q(M);c.length?I():u=0}function G(q){return x++,c.push(q),I(),x}function Q(q){var U=q-1-T;c[U]&&(c[U]=null)}if(!s.requestIdleCallback||!s.cancelIdleCallback)s.requestIdleCallback=G,s.cancelIdleCallback=Q,s.document&&document.addEventListener&&(s.addEventListener("scroll",p,!0),s.addEventListener("resize",p),document.addEventListener("focus",p,!0),document.addEventListener("mouseover",p,!0),["click","keypress","touchstart","mousedown"].forEach(function(q){document.addEventListener(q,p,{capture:!0,passive:!0})}),s.MutationObserver&&new MutationObserver(p).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));else try{s.requestIdleCallback(function(){},{timeout:0})}catch{(function(U){var P,D;if(s.requestIdleCallback=function(W,K){return K&&typeof K.timeout=="number"?U(W,K.timeout):U(W)},s.IdleCallbackDeadline&&(P=IdleCallbackDeadline.prototype)){if(D=Object.getOwnPropertyDescriptor(P,"timeRemaining"),!D||!D.configurable||!D.get)return;Object.defineProperty(P,"timeRemaining",{value:function(){return D.get.call(this)},enumerable:!0,configurable:!0})}})(s.requestIdleCallback)}return{request:G,cancel:Q}})})(Be)),Be.exports}Pr();function Dr(){return typeof window>"u"?e=>{setTimeout(()=>e(Date.now()),0)}:window.requestIdleCallback}var At=Dr(),Nr=()=>{const e=new Map;let t=!1;const r=l=>{for(const[c,u]of e)if(e.delete(c),u(),typeof l=="number"||l.timeRemaining()<=0)break;if(e.size===0){t=!1;return}At(r)};return{add:(l,c)=>{e.set(l,c),t||(t=!0,At(r))},flush:l=>{const c=e.get(l);return c===void 0?!1:(e.delete(l),c(),!0)},cancel:l=>e.delete(l),reset:()=>{e.clear(),t=!1}}};function Hr(e){const t=Object.keys(e);return function(a={},n){const s={};let i=!1;for(const l of t){const c=e[l],u=a[l],g=c(u,n);s[l]=g,i=i||g!==u}return i?s:a}}function qe(e){return e.isRegistryControl=!0,e}var Br="@@data/SELECT",qr="@@data/RESOLVE_SELECT",zr="@@data/DISPATCH",Ur={[Br]:qe(e=>({storeKey:t,selectorName:r,args:a})=>e.select(t)[r](...a)),[qr]:qe(e=>({storeKey:t,selectorName:r,args:a})=>{const n=e.select(t)[r].hasResolver?"resolveSelect":"select";return e[n](t)[r](...a)}),[zr]:qe(e=>({storeKey:t,actionName:r,args:a})=>e.dispatch(t)[r](...a))},Vr=["@wordpress/block-directory","@wordpress/block-editor","@wordpress/block-library","@wordpress/blocks","@wordpress/boot","@wordpress/commands","@wordpress/workflows","@wordpress/components","@wordpress/core-commands","@wordpress/core-data","@wordpress/customize-widgets","@wordpress/data","@wordpress/edit-post","@wordpress/edit-site","@wordpress/edit-widgets","@wordpress/editor","@wordpress/font-list-route","@wordpress/format-library","@wordpress/patterns","@wordpress/preferences","@wordpress/reusable-blocks","@wordpress/route","@wordpress/router","@wordpress/routes","@wordpress/sync","@wordpress/theme","@wordpress/ui","@wordpress/dataviews","@wordpress/fields","@wordpress/lazy-editor","@wordpress/media-utils","@wordpress/upload-media","@wordpress/global-styles-ui","@wordpress/ui"],Wr=(e,t)=>{if(!Vr.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}". This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);return{lock:Kr,unlock:Zr}};function Kr(e,t){if(!e)throw new Error("Cannot lock an undefined object.");const r=e;Ee in r||(r[Ee]={}),Ot.set(r[Ee],t)}function Zr(e){if(!e)throw new Error("Cannot unlock an undefined object.");const t=e;if(!(Ee in t))throw new Error("Cannot unlock an object that was not locked before. ");return Ot.get(t[Ee])}var Ot=new WeakMap,Ee=Symbol("Private API ID"),{lock:ge,unlock:we}=Wr("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/data"),Gr=()=>e=>t=>Tt(t)?t.then(r=>{if(r)return e(r)}):e(t),Jr=Gr,Xr=(e,t)=>()=>r=>a=>{const n=e.select(t).getCachedResolvers();return Object.entries(n).forEach(([i,l])=>{const c=e.stores[t]?.resolvers?.[i];!c||!c.shouldInvalidate||l.forEach((u,g)=>{u!==void 0&&(u.status!=="finished"&&u.status!=="error"||c.shouldInvalidate(a,...g)&&e.dispatch(t).invalidateResolution(i,g))})}),r(a)},Yr=Xr;function Qr(e){return()=>t=>r=>typeof r=="function"?r(e):t(r)}var $r=e=>t=>(r={},a)=>{const n=a[e];if(n===void 0)return r;const s=t(r[n],a);return s===r[n]?r:{...r,[n]:s}};function me(e){if(e==null)return[];const t=e.length;let r=t;for(;r>0&&e[r-1]===void 0;)r--;return r===t?e:e.slice(0,r)}var en=$r("selectorName")((e=new ue,t)=>{switch(t.type){case"START_RESOLUTION":{const r=new ue(e);return r.set(me(t.args),{status:"resolving"}),r}case"FINISH_RESOLUTION":{const r=new ue(e);return r.set(me(t.args),{status:"finished"}),r}case"FAIL_RESOLUTION":{const r=new ue(e);return r.set(me(t.args),{status:"error",error:t.error}),r}case"START_RESOLUTIONS":{const r=new ue(e);for(const a of t.args)r.set(me(a),{status:"resolving"});return r}case"FINISH_RESOLUTIONS":{const r=new ue(e);for(const a of t.args)r.set(me(a),{status:"finished"});return r}case"FAIL_RESOLUTIONS":{const r=new ue(e);return t.args.forEach((a,n)=>{const s={status:"error",error:void 0},i=t.errors[n];i&&(s.error=i),r.set(me(a),s)}),r}case"INVALIDATE_RESOLUTION":{const r=new ue(e);return r.delete(me(t.args)),r}}return e}),tn=(e={},t)=>{switch(t.type){case"INVALIDATE_RESOLUTION_FOR_STORE":return{};case"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR":{if(t.selectorName in e){const{[t.selectorName]:r,...a}=e;return a}return e}case"START_RESOLUTION":case"FINISH_RESOLUTION":case"FAIL_RESOLUTION":case"START_RESOLUTIONS":case"FINISH_RESOLUTIONS":case"FAIL_RESOLUTIONS":case"INVALIDATE_RESOLUTION":return en(e,t);default:return e}},rn=tn,ze={};function nn(e){return[e]}function an(e){return!!e&&typeof e=="object"}function sn(){var e={clear:function(){e.head=null}};return e}function It(e,t,r){var a;if(e.length!==t.length)return!1;for(a=r;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function on(e,t){var r,a=t||nn;function n(l){var c=r,u=!0,g,C,v,_;for(g=0;g<l.length;g++){if(C=l[g],!an(C)){u=!1;break}c.has(C)?c=c.get(C):(v=new WeakMap,c.set(C,v),c=v)}return c.has(ze)||(_=sn(),_.isUniqueByDependants=u,c.set(ze,_)),c.get(ze)}function s(){r=new WeakMap}function i(){var l=arguments.length,c,u,g,C,v;for(C=new Array(l),g=0;g<l;g++)C[g]=arguments[g];for(v=a.apply(null,C),c=n(v),c.isUniqueByDependants||(c.lastDependants&&!It(v,c.lastDependants,0)&&c.clear(),c.lastDependants=v),u=c.head;u;){if(!It(u.args,C,1)){u=u.next;continue}return u!==c.head&&(u.prev.next=u.next,u.next&&(u.next.prev=u.prev),u.next=c.head,u.prev=null,c.head.prev=u,c.head=u),u.val}return u={val:e.apply(null,C)},C[0]=null,u.args=C,c.head&&(c.head.prev=u,u.next=c.head),c.head=u,u.val}return i.getDependants=a,i.clear=s,s(),i}function ye(e,t,r){const a=e[t];if(a)return a.get(me(r))}function cn(e,t,r){lt("wp.data.select( store ).getIsResolving",{since:"6.6",version:"6.8",alternative:"wp.data.select( store ).getResolutionState"});const a=ye(e,t,r);return a&&a.status==="resolving"}function ln(e,t,r){return ye(e,t,r)!==void 0}function un(e,t,r){const a=ye(e,t,r)?.status;return a==="finished"||a==="error"}function fn(e,t,r){return ye(e,t,r)?.status==="error"}function dn(e,t,r){const a=ye(e,t,r);return a?.status==="error"?a.error:null}function hn(e,t,r){return ye(e,t,r)?.status==="resolving"}function mn(e){return e}function pn(e){return Object.values(e).some(t=>Array.from(t._map.values()).some(r=>r[1]?.status==="resolving"))}var vn=on(e=>{const t={};return Object.values(e).forEach(r=>Array.from(r._map.values()).forEach(a=>{const n=a[1]?.status??"error";t[n]||(t[n]=0),t[n]++})),t},e=>[e]);const gn=Object.freeze(Object.defineProperty({__proto__:null,countSelectorsByStatus:vn,getCachedResolvers:mn,getIsResolving:cn,getResolutionError:dn,getResolutionState:ye,hasFinishedResolution:un,hasResolutionFailed:fn,hasResolvingSelectors:pn,hasStartedResolution:ln,isResolving:hn},Symbol.toStringTag,{value:"Module"}));function jt(e,t){return{type:"START_RESOLUTION",selectorName:e,args:t}}function Ft(e,t){return{type:"FINISH_RESOLUTION",selectorName:e,args:t}}function Pt(e,t,r){return{type:"FAIL_RESOLUTION",selectorName:e,args:t,error:r}}function yn(e,t){return{type:"START_RESOLUTIONS",selectorName:e,args:t}}function bn(e,t){return{type:"FINISH_RESOLUTIONS",selectorName:e,args:t}}function wn(e,t,r){return{type:"FAIL_RESOLUTIONS",selectorName:e,args:t,errors:r}}function _n(e,t){return{type:"INVALIDATE_RESOLUTION",selectorName:e,args:t}}function Cn(){return{type:"INVALIDATE_RESOLUTION_FOR_STORE"}}function En(e){return{type:"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR",selectorName:e}}const Sn=Object.freeze(Object.defineProperty({__proto__:null,failResolution:Pt,failResolutions:wn,finishResolution:Ft,finishResolutions:bn,invalidateResolution:_n,invalidateResolutionForStore:Cn,invalidateResolutionForStoreSelector:En,startResolution:jt,startResolutions:yn},Symbol.toStringTag,{value:"Module"}));var Ue=e=>{const t=[...e];for(let r=t.length-1;r>=0;r--)t[r]===void 0&&t.splice(r,1);return t},pe=(e,t)=>Object.fromEntries(Object.entries(e??{}).map(([r,a])=>[r,t(a,r)])),Rn=(e,t)=>t instanceof Map?Object.fromEntries(t):t instanceof window.HTMLElement?null:t;function xn(){const e={};return{isRunning(t,r){return e[t]&&e[t].get(Ue(r))},clear(t,r){e[t]&&e[t].delete(Ue(r))},markAsRunning(t,r){e[t]||(e[t]=new ue),e[t].set(Ue(r),!0)}}}function Oe(e,t){const r=new WeakMap;return{get(a){const n=e(a);if(!n)return null;let s=r.get(n);return s||(s=t(n,a),r.set(n,s)),s}}}function Ie(e,t){return new Proxy(e,{get:(r,a)=>t.get(a)||Reflect.get(r,a)})}function Dt(e,t){const r={},a={},n={privateActions:r,registerPrivateActions:i=>{Object.assign(r,i)},privateSelectors:a,registerPrivateSelectors:i=>{Object.assign(a,i)}},s={name:e,instantiate:i=>{const l=new Set,c=t.reducer,g=Tn(e,t,i,{registry:i,get dispatch(){return A},get select(){return I},get resolveSelect(){return G}});ge(g,n);const C=xn();function v(j){return(...V)=>Promise.resolve(g.dispatch(j(...V)))}const _={...pe(Sn,v),...pe(t.actions,v)},x=Ie(_,Oe(j=>r[j],v)),A=new Proxy(j=>g.dispatch(j),{get:(j,V)=>x[V]});ge(_,x);const T=t.resolvers?pe(t.resolvers,Mn):{};function M(j,V){j.isRegistrySelector&&(j.registry=i);const X=(...ie)=>{ie=Ve(j,ie);const se=g.__unstableOriginalGetState();return j.isRegistrySelector&&(j.registry=i),j(se.root,...ie)};X.__unstableNormalizeArgs=j.__unstableNormalizeArgs;const ae=T[V];return ae?An(X,V,ae,g,C,L):(X.hasResolver=!1,X)}function k(j){const V=(X,ae,...ie)=>{if(X){const le=t.selectors?.[X];le&&(ae=Ve(le,ae))}const se=g.__unstableOriginalGetState();return j(se.metadata,X,ae,...ie)};return V.hasResolver=!1,V}const L=pe(gn,k),w=pe(t.selectors,M),p={...L,...w},y=Oe(j=>a[j],M),E=Ie(p,y);for(const j of Object.keys(a))y.get(j);const I=new Proxy(j=>j(g.__unstableOriginalGetState()),{get:(j,V)=>E[V]});ge(p,E);const H=Ln(g,L),G=pe(w,H),Q=Ie(G,Oe(j=>y.get(j),H));ge(G,Q);const q=kn(g,L),U={...L,...pe(w,q)},P=Ie(U,Oe(j=>y.get(j),q));ge(U,P);const D=()=>p,W=()=>_,K=()=>G,ce=()=>U;g.__unstableOriginalGetState=g.getState,g.getState=()=>g.__unstableOriginalGetState().root;const te=g&&(j=>(l.add(j),()=>l.delete(j)));let J=g.__unstableOriginalGetState();return g.subscribe(()=>{const j=g.__unstableOriginalGetState(),V=j!==J;if(J=j,V)for(const X of l)X()}),{reducer:c,store:g,actions:_,selectors:p,resolvers:T,getSelectors:D,getResolveSelectors:K,getSuspendSelectors:ce,getActions:W,subscribe:te}}};return ge(s,n),s}function Tn(e,t,r,a){const n={...t.controls,...Ur},s=pe(n,C=>C.isRegistryControl?C(r):C),i=[Yr(r,e),Jr,Mr(s),Qr(a)],l=[pr(...i)];typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__&&l.push(window.__REDUX_DEVTOOLS_EXTENSION__({name:e,instanceId:e,serialize:{replacer:Rn}}));const{reducer:c,initialState:u}=t,g=Hr({metadata:rn,root:c});return ht(g,{root:u},Ir(l))}function Ln(e,t){return(r,a)=>r.hasResolver?(...n)=>new Promise((s,i)=>{const l=()=>t.hasFinishedResolution(a,n),c=v=>{if(t.hasResolutionFailed(a,n)){const x=t.getResolutionError(a,n);i(x)}else s(v)},u=()=>r.apply(null,n),g=u();if(l())return c(g);const C=e.subscribe(()=>{l()&&(C(),c(u()))})}):async(...n)=>r.apply(null,n)}function kn(e,t){return(r,a)=>r.hasResolver?(...n)=>{const s=r.apply(null,n);if(t.hasFinishedResolution(a,n)){if(t.hasResolutionFailed(a,n))throw t.getResolutionError(a,n);return s}throw new Promise(i=>{const l=e.subscribe(()=>{t.hasFinishedResolution(a,n)&&(i(),l())})})}:r}function Mn(e){return e.fulfill?e:{...e,fulfill:e}}function An(e,t,r,a,n,s){function i(c){n.isRunning(t,c)||s.hasStartedResolution(t,c)||(n.markAsRunning(t,c),setTimeout(async()=>{n.clear(t,c),a.dispatch(jt(t,c));try{if(!(typeof r.isFulfilled=="function"&&r.isFulfilled(a.getState(),...c))){const g=r.fulfill(...c);g&&await a.dispatch(g)}a.dispatch(Ft(t,c))}catch(u){a.dispatch(Pt(t,c,u))}},0))}const l=(...c)=>(c=Ve(e,c),i(c),e(...c));return l.hasResolver=!0,l}function Ve(e,t){return e.__unstableNormalizeArgs&&typeof e.__unstableNormalizeArgs=="function"&&t?.length?e.__unstableNormalizeArgs(t):t}var On={name:"core/data",instantiate(e){const t=a=>(n,...s)=>e.select(n)[a](...s),r=a=>(n,...s)=>e.dispatch(n)[a](...s);return{getSelectors(){return Object.fromEntries(["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"].map(a=>[a,t(a)]))},getActions(){return Object.fromEntries(["startResolution","finishResolution","invalidateResolution","invalidateResolutionForStore","invalidateResolutionForStoreSelector"].map(a=>[a,r(a)]))},subscribe(){return()=>()=>{}}}}},In=On;function Nt(){let e=!1,t=!1;const r=new Set,a=()=>Array.from(r).forEach(n=>n());return{get isPaused(){return e},subscribe(n){return r.add(n),()=>r.delete(n)},pause(){e=!0},resume(){e=!1,t&&(t=!1,a())},emit(){if(e){t=!0;return}a()}}}function Se(e){return typeof e=="string"?e:e.name}function jn(e={},t=null){const r={},a=Nt();let n=null;function s(){a.emit()}const i=(p,y)=>{if(!y)return a.subscribe(p);const E=Se(y),I=r[E];return I?I.subscribe(p):t?t.subscribe(p,y):a.subscribe(p)};function l(p){const y=Se(p);n?.add(y);const E=r[y];return E?E.getSelectors():t?.select(y)}function c(p,y){n=new Set;try{return p.call(this)}finally{y.current=Array.from(n),n=null}}function u(p){const y=Se(p);n?.add(y);const E=r[y];return E?E.getResolveSelectors():t&&t.resolveSelect(y)}function g(p){const y=Se(p);n?.add(y);const E=r[y];return E?E.getSuspendSelectors():t&&t.suspendSelect(y)}function C(p){const y=Se(p),E=r[y];return E?E.getActions():t&&t.dispatch(y)}function v(p){return Object.fromEntries(Object.entries(p).map(([y,E])=>typeof E!="function"?[y,E]:[y,function(){return k[y].apply(null,arguments)}]))}function _(p,y){if(r[p])return console.error('Store "'+p+'" is already registered.'),r[p];const E=y();if(typeof E.getSelectors!="function")throw new TypeError("store.getSelectors must be a function");if(typeof E.getActions!="function")throw new TypeError("store.getActions must be a function");if(typeof E.subscribe!="function")throw new TypeError("store.subscribe must be a function");E.emitter=Nt();const I=E.subscribe;if(E.subscribe=H=>{const G=E.emitter.subscribe(H),Q=I(()=>{if(E.emitter.isPaused){E.emitter.emit();return}H()});return()=>{Q?.(),G?.()}},r[p]=E,E.subscribe(s),t)try{we(E.store).registerPrivateActions(we(t).privateActionsOf(p)),we(E.store).registerPrivateSelectors(we(t).privateSelectorsOf(p))}catch{}return E}function x(p){_(p.name,()=>p.instantiate(k))}function A(p,y){lt("wp.data.registerGenericStore",{since:"5.9",alternative:"wp.data.register( storeDescriptor )"}),_(p,()=>y)}function T(p,y){if(!y.reducer)throw new TypeError("Must specify store reducer");return _(p,()=>Dt(p,y).instantiate(k)).store}function M(p){if(a.isPaused){p();return}a.pause(),Object.values(r).forEach(y=>y.emitter.pause());try{p()}finally{a.resume(),Object.values(r).forEach(y=>y.emitter.resume())}}let k={batch:M,stores:r,namespaces:r,subscribe:i,select:l,resolveSelect:u,suspendSelect:g,dispatch:C,use:L,register:x,registerGenericStore:A,registerStore:T,__unstableMarkListeningStores:c};function L(p,y){if(p)return k={...k,...p(k,y)},k}k.register(In);for(const[p,y]of Object.entries(e))k.register(Dt(p,y));t&&t.subscribe(s);const w=v(k);return ge(w,{privateActionsOf:p=>{try{return we(r[p].store).privateActions}catch{return{}}},privateSelectorsOf:p=>{try{return we(r[p].store).privateSelectors}catch{return{}}}}),w}var Ht=jn(),We=b.createContext(Ht);We.displayName="RegistryProviderContext";var{Consumer:Ca,Provider:Ea}=We;function Bt(){return b.useContext(We)}var Ke=b.createContext(!1);Ke.displayName="AsyncModeContext";var{Consumer:Sa,Provider:Ra}=Ke;function Fn(){return b.useContext(Ke)}var Ze=Nr();function Pn(e,t){if(!e||!t)return;const r=typeof e=="object"&&typeof t=="object"?Object.keys(e).filter(a=>e[a]!==t[a]):[];console.warn(`The \`useSelect\` hook returns different values when called with the same state and parameters.
This can lead to unnecessary re-renders and performance issues if not fixed.

Non-equal value keys: %s

`,r.join(", "))}function Dn(e,t){const r=e.select,a={};let n,s,i=!1,l,c,u;const g=new Map;function C(_){return e.stores[_]?.store?.getState?.()??{}}const v=_=>{const x=[..._],A=new Set;function T(k){if(i)for(const E of x)g.get(E)!==C(E)&&(i=!1);g.clear();const L=()=>{i=!1,k()},w=()=>{l?Ze.add(a,L):L()},p=[];function y(E){p.push(e.subscribe(w,E))}for(const E of x)y(E);return A.add(y),()=>{A.delete(y);for(const E of p.values())E?.();Ze.cancel(a)}}function M(k){for(const L of k)if(!x.includes(L)){x.push(L);for(const w of A)w(L)}}return{subscribe:T,updateStores:M}};return(_,x)=>{function A(){if(i&&_===n)return s;const M={current:null},k=e.__unstableMarkListeningStores(()=>_(r,e),M);if(globalThis.SCRIPT_DEBUG&&!u){const L=_(r,e);kt(k,L)||(Pn(k,L),u=!0)}if(c)c.updateStores(M.current);else{for(const L of M.current)g.set(L,C(L));c=v(M.current)}kt(s,k)||(s=k),n=_,i=!0}function T(){return A(),s}return l&&!x&&(i=!1,Ze.cancel(a)),A(),l=x,{subscribe:c.subscribe,getValue:T}}}function Nn(e){return Bt().select(e)}function Hn(e,t,r){const a=Bt(),n=Fn(),s=b.useMemo(()=>Dn(a),[a,e]),i=b.useCallback(t,r),{subscribe:l,getValue:c}=s(i,n),u=b.useSyncExternalStore(l,c,c);return b.useDebugValue(u),u}function Bn(e,t){const r=typeof e!="function",a=b.useRef(r);if(r!==a.current){const n=a.current?"static":"mapping",s=r?"static":"mapping";throw new Error(`Switching useSelect from ${n} to ${s} is not allowed`)}return r?Nn(e):Hn(!1,e,t)}var Ge=Ht;Ge.registerGenericStore,Ge.registerStore,Ge.use;function qn(e){const t=e||(typeof window<"u"?window.wp?.data?.select:null);if(!t)return"desktop";const r=t("core/editor");if(r&&typeof r.getDeviceType=="function"){const s=r.getDeviceType();if(s)return s.toLowerCase()}const a=t("core/edit-site");if(a&&typeof a.getDeviceType=="function"){const s=a.getDeviceType();if(s)return s.toLowerCase()}const n=t("core/edit-post");if(n&&typeof n.getDeviceType=="function"){const s=n.getDeviceType();if(s)return s.toLowerCase()}return"desktop"}function zn(){return Bn(e=>qn(e),[])}const Un=({isOpen:e,popupId:t,target:r,title:a="",icon:n="",saveLabel:s="Save",clearLabel:i="Clear",clearButton:l=!0,showHeader:c=!0,showFooter:u=!0,onSave:g,onClear:C,onClose:v,children:_,popupClass:x="",minWidth:A,headerActions:T})=>{const M=zn(),k=M==="mobile"||M==="tablet",L=b.useRef(null),w=b.useRef(null),[p,y]=b.useState({position:"absolute",left:"-9999px"}),E=b.useRef(""),I=b.useCallback(()=>{if(k||!w.current||!r||!L.current)return;const P=r,D=L.current,W=w.current,K=document.querySelector('iframe[name="editor-canvas"]'),ce=!!K;let te=0,J=0;if(ce&&K){const de=K.getBoundingClientRect();te=de.top,J=de.left}const j=ce?K?.contentDocument?.documentElement.clientWidth??document.body.clientWidth:document.body.clientWidth,V=P.getBoundingClientRect(),X=P.offsetWidth,ae=window.pageXOffset||document.documentElement.scrollLeft,ie=window.pageYOffset||document.documentElement.scrollTop,se={left:V.left+ae+J,top:V.top+ie+te},le=D.getBoundingClientRect(),o=window.getComputedStyle(W),f=parseFloat(o.minWidth)||0,d=A||f,m=Math.min(1140,j-40),h=Math.max(V.width,d||m),R=se.left+X/2>(j+J)/2+1;let S;R?S=se.left-h+X:S=se.left,S<0&&(S=10),S+h>j+J&&(S=j+J-h-10);let O=se.top+V.height;const z=window.innerHeight,F=V.bottom+te,Y=V.top+te;F+le.height>z&&Y-le.height>=0&&(O=se.top-le.height);const fe={top:`${O}px`,left:`${S}px`,width:`${h}px`,position:"absolute"},be=JSON.stringify(fe);be!==E.current&&(E.current=be,y(fe))},[r,A,k]);b.useEffect(()=>{if(!e)return;const P=D=>{D.key==="Escape"&&v()};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[e,v]);const H=!!document.querySelector('iframe[name="editor-canvas"]');if(b.useEffect(()=>{if(!e)return;const P=document.querySelector('iframe[name="editor-canvas"]'),D=P?.contentDocument,W=te=>{const J=te.target;if(!w.current?.contains(J)&&!(r&&r.contains(J))){if(P){const j=[".interface-interface-skeleton__sidebar",".block-editor-block-inspector",".components-popover",".components-modal__screen-overlay",".edit-post-sidebar",".interface-interface-skeleton__header",".interface-interface-skeleton__secondary-sidebar"];for(const V of j)if(J.closest(V))return}v()}},K=te=>{const J=te.target;r&&r.contains(J)||v()},ce=requestAnimationFrame(()=>{document.addEventListener("mousedown",W),P&&D?.addEventListener("mousedown",K)});return()=>{cancelAnimationFrame(ce),document.removeEventListener("mousedown",W),D?.removeEventListener("mousedown",K)}},[e,v,r]),b.useEffect(()=>{if(!e)return;requestAnimationFrame(()=>{requestAnimationFrame(()=>{I()})});const P=()=>I();window.addEventListener("scroll",P,!0);const D=()=>I();window.addEventListener("resize",D,!0);let W=null;return w.current&&(W=new ResizeObserver(()=>{requestAnimationFrame(()=>I())}),W.observe(w.current)),()=>{window.removeEventListener("scroll",P,!0),window.removeEventListener("resize",D,!0),W?.disconnect()}},[e,I]),!e)return null;const G=()=>b.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"currentColor"})),Q=document.querySelector('iframe[name="editor-canvas"]'),q=k&&Q?.contentDocument?.body?Q.contentDocument.body:document.body,U=k?{}:p;return Ut.createPortal(b.createElement("div",{className:`elementor vx-popup ${x}`.trim()},H&&!k&&b.createElement("style",null,".vx-popup .ts-popup-root > div::after { pointer-events: none !important; }"),b.createElement("div",{className:"ts-popup-root elementor-element"},b.createElement("div",{ref:L,className:"ts-form elementor-element",style:U},b.createElement("div",{className:"ts-field-popup-container"},b.createElement("div",{id:t,ref:w,className:"ts-field-popup triggers-blur"},c&&b.createElement("div",{className:"ts-popup-head flexify ts-sticky-top"},b.createElement("div",{className:"ts-popup-name flexify"},n&&b.createElement("span",{dangerouslySetInnerHTML:{__html:n}}),b.createElement("span",null,a)),b.createElement("ul",{className:"flexify simplify-ul"},T,b.createElement("li",{className:"flexify ts-popup-close"},b.createElement("a",{href:"#",onClick:P=>{P.preventDefault(),v()},className:"ts-icon-btn","aria-label":"Close"},b.createElement(G,null))))),b.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},_),u&&b.createElement("div",{className:"ts-popup-controller"},b.createElement("ul",{className:"flexify simplify-ul"},b.createElement("li",{className:"flexify ts-popup-close"},b.createElement("a",{href:"#",onClick:P=>{P.preventDefault(),v()},className:"ts-icon-btn","aria-label":"Close"},b.createElement(G,null))),l&&C&&b.createElement("li",{className:"flexify"},b.createElement("a",{href:"#",onClick:P=>{P.preventDefault(),C()},className:"ts-btn ts-btn-1"},i)),g&&b.createElement("li",{className:"flexify"},b.createElement("a",{href:"#",onClick:P=>{P.preventDefault(),g()},className:"ts-btn ts-btn-2"},s))))))))),q)};function qt(){return window.voxelFseCreatePost?.ajaxUrl?window.voxelFseCreatePost.ajaxUrl:window.Voxel_Config?.ajax_url?String(window.Voxel_Config.ajax_url):window.wpApiSettings?.root?`${window.wpApiSettings.root.replace(/\/wp-json\/?$/,"")}/?vx=1`:`${window.location.origin}/?vx=1`}typeof window<"u"&&typeof window._vx_file_upload_cache>"u"&&(window._vx_file_upload_cache=[]);function Vn({onBlur:e,onSave:t,multiple:r=!1,saveLabel:a="Save",children:n,minWidth:s=450,target:i}){const[l,c]=b.useState(!1),u=b.useRef(null),g=b.useRef(null),[C,v]=b.useState([]),[_,x]=b.useState(!0),[A,T]=b.useState(!1),[M,k]=b.useState(0),[L,w]=b.useState({}),[p,y]=b.useState(""),[E,I]=b.useState([]),[H,G]=b.useState(!1),[Q,q]=b.useState(!1),[U,P]=b.useState(0),[D,W]=b.useState(!1),K=async(m=0)=>{m>0?W(!0):x(!0);try{const R=qt(),S=new URLSearchParams({action:"list_media",offset:m.toString()}),O=`${R}&${S.toString()}`,z=await fetch(O,{method:"GET",credentials:"same-origin"});if(!z.ok)throw new Error(`HTTP error! status: ${z.status}`);const F=await z.json();F.success&&(v(Y=>m>0?[...Y,...F.data]:F.data),T(F.has_more),k(m+F.data.length))}catch(R){console.error("[MediaPopup] Error loading files:",R)}finally{x(!1),W(!1)}},ce=async(m=!1)=>{if(!p.trim()){I([]);return}try{const h=m?U:0;G(!m),W(m);const R=qt(),S=new URLSearchParams({action:"list_media",search:p,offset:h.toString()}),O=`${R}&${S.toString()}`,z=await fetch(O,{method:"GET",credentials:"same-origin"});if(!z.ok)throw new Error(`HTTP error! status: ${z.status}`);const F=await z.json();F.success?(I(Y=>m?[...Y,...F.data]:F.data),q(F.has_more),P(h+F.data.length)):I([])}catch{I([])}finally{G(!1),W(!1)}},te=m=>{w(r?h=>{const R={...h};return R[m.id]?delete R[m.id]:R[m.id]=m,R}:{[m.id]:m})},J=()=>{const m=Object.values(L).map(h=>"_id"in h&&h._id?{source:"new_upload",_id:h._id,file:h.item,name:h.name,type:h.type,preview:h.preview}:{source:"existing",id:h.id,name:h.name,type:h.type,preview:h.preview});t&&t(m),c(!1),w({})},j=()=>{c(!1),w({}),e&&e()},V=()=>{w({})},X=m=>m.type.startsWith("image/")&&m.preview?{backgroundImage:`url(${m.preview})`}:{},ae=m=>m.type.startsWith("image/"),ie=()=>{const m=window._vx_file_upload_cache;return Array.isArray(m)?[...m]:(window._vx_file_upload_cache=[],[])},se=m=>{const h=m._id||`upload-${m.name}`;w(R=>{const S={...R};if(S[h])delete S[h];else{if(!r)return{[h]:m};S[h]=m}return S})};b.useEffect(()=>{if(!p.trim()){I([]),P(0);return}const m=setTimeout(()=>{ce(!1)},300);return()=>clearTimeout(m)},[p]),b.useEffect(()=>{l&&g.current&&setTimeout(()=>{g.current?.focus()},100)},[l]),b.useEffect(()=>{K(0)},[]);const le=p.trim()?E:C,o=p.trim()?Q:A,f=p.trim()?H:_,d=m=>{m.preventDefault(),c(!0)};return React.createElement(React.Fragment,null,React.createElement("span",{ref:u,onMouseDown:d,style:{cursor:"pointer"}},n||React.createElement("a",{href:"#",onClick:m=>m.preventDefault(),className:"ts-btn ts-btn-4 form-btn"},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M5.5 3.25C4.25736 3.25 3.25 4.25736 3.25 5.5V18.5C3.25 19.7426 4.25736 20.75 5.5 20.75H18.5C19.7426 20.75 20.75 19.7426 20.75 18.5V5.5C20.75 4.25736 19.7426 3.25 18.5 3.25H5.5ZM6.20103 13.6808C7.10463 12.4977 8.88749 12.5025 9.78466 13.6905L11.0002 15.3001C11.3508 15.7643 12.0734 15.6701 12.2931 15.1315L14.2708 10.2852C14.9381 8.65008 17.1428 8.3859 18.1774 9.81704L18.9656 10.9072C19.1505 11.1629 19.25 11.4705 19.25 11.786V13.8608V18.5C19.25 18.9142 18.9142 19.25 18.5 19.25H5.5C5.08579 19.25 4.75 18.9142 4.75 18.5V18.0031V16.088C4.75 15.7589 4.85819 15.439 5.05792 15.1775L6.20103 13.6808ZM7.01953 8.55957C7.01953 7.66211 7.74707 6.93457 8.64453 6.93457H8.65453C9.55199 6.93457 10.2795 7.66211 10.2795 8.55957C10.2795 9.45703 9.55199 10.1846 8.65453 10.1846H8.64453C7.74707 10.1846 7.01953 9.45703 7.01953 8.55957Z",fill:"#343C54"})),React.createElement("span",null,"Media library"))),l&&React.createElement(Un,{isOpen:l,popupId:"media-library-popup",target:i||u.current,onClose:j,onSave:J,onClear:V,saveLabel:a,popupClass:"ts-media-library prmr-popup",showHeader:!1,minWidth:s},React.createElement("div",{className:"ts-sticky-top uib b-bottom"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M12.5 11H11.71L11.43 10.73C12.41 9.59 13 8.11 13 6.5C13 2.91 10.09 0 6.5 0C2.91 0 0 2.91 0 6.5C0 10.09 2.91 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z",fill:"currentColor"})),React.createElement("input",{ref:g,type:"text",className:"autofocus",placeholder:"Search files",value:p,onChange:m=>y(m.target.value)}))),React.createElement("div",{className:`ts-form-group min-scroll ts-list-container ${f?"vx-disabled":""}`},le.length>0||ie().length>0?React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-file-list"},ie().map(m=>{const h=m._id||`upload-${m.name}`;return React.createElement("div",{key:h,className:`ts-file ${L[h]?"selected":""} ${ae(m)?"ts-file-img":""}`,style:X(m),onClick:()=>se(m)},React.createElement("div",{className:"ts-file-info"},React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M9 0L0 5V13L9 18L18 13V5L9 0ZM16 12L9 16L2 12V6L9 2L16 6V12Z",fill:"currentColor"})),React.createElement("code",null,m.name)),React.createElement("div",{className:"ts-remove-file"},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M12.4239 3.25C12.2079 3.25 11.9908 3.33022 11.8251 3.49073L7.30978 7.88732C6.97375 8.21414 6.97375 8.74449 7.30978 9.07131C7.64581 9.39812 8.19149 9.39812 8.52752 9.07131L11.6739 6.00692L11.6739 15.9C11.6739 16.3556 12.0525 16.725 12.5197 16.725C12.9869 16.725 13.3655 16.3556 13.3655 15.9L13.3655 6.00692L16.5119 9.07131C16.8479 9.39812 17.3936 9.39812 17.7296 9.07131C18.0657 8.74449 18.0657 8.21414 17.7296 7.88732L13.2143 3.49073C13.0486 3.33022 12.8316 3.25 12.6156 3.25L12.4239 3.25Z",fill:"currentColor"}),React.createElement("path",{d:"M5.17188 16C5.17188 15.5858 4.84402 15.25 4.43948 15.25C4.03495 15.25 3.70709 15.5858 3.70709 16V16.0549C3.70703 16.8531 3.70698 17.5055 3.76469 18.0316C3.82466 18.5774 3.95363 19.0607 4.24635 19.4857C4.54794 19.9226 4.94971 20.2516 5.44348 20.4865C5.91891 20.7134 6.47396 20.8128 7.08817 20.857C7.68568 20.9 8.42494 20.9 9.33715 20.9H15.7023C16.6145 20.9 17.3538 20.9 17.9513 20.857C18.5655 20.8128 19.1206 20.7134 19.596 20.4865C20.0898 20.2516 20.4915 19.9226 20.7931 19.4857C21.0858 19.0607 21.2148 18.5774 21.2748 18.0316C21.3325 17.5055 21.3325 16.8531 21.3324 16.0549V16C21.3324 15.5858 21.0046 15.25 20.6 15.25C20.1955 15.25 19.8676 15.5858 19.8676 16C19.8676 16.8631 19.8666 17.4573 19.818 17.9105C19.7703 18.355 19.6812 18.5956 19.5524 18.7816C19.4153 18.9782 19.2355 19.1296 19.0087 19.2351C18.7906 19.3355 18.4991 19.4049 17.9944 19.4431C17.4776 19.4821 16.8019 19.4833 15.7397 19.4833H9.29978C8.23757 19.4833 7.56186 19.4821 7.04512 19.4431C6.54041 19.4049 6.24886 19.3355 6.03081 19.2351C5.80404 19.1296 5.62416 18.9782 5.48711 18.7816C5.35829 18.5956 5.26921 18.355 5.22145 17.9105C5.17292 17.4573 5.17188 16.8631 5.17188 16Z",fill:"currentColor"}))),React.createElement("div",{className:"ts-remove-file ts-select-file"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M19.5455 6.4965C19.9848 6.93584 19.9848 7.64815 19.5455 8.08749L10.1286 17.5043C9.6893 17.9437 8.97699 17.9437 8.53765 17.5043L4.45451 13.4212C4.01517 12.9819 4.01516 12.2695 4.4545 11.8302C4.89384 11.3909 5.60616 11.3909 6.0455 11.8302L9.33315 15.1179L17.9545 6.4965C18.3938 6.05716 19.1062 6.05716 19.5455 6.4965Z",fill:"#343C54"}))))}),le.map(m=>React.createElement("div",{key:m.id,className:`ts-file ${L[m.id]?"selected":""} ${ae(m)?"ts-file-img":""}`,style:X(m),onClick:()=>te(m)},React.createElement("div",{className:"ts-file-info"},React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M9 0L0 5V13L9 18L18 13V5L9 0ZM16 12L9 16L2 12V6L9 2L16 6V12Z",fill:"currentColor"})),React.createElement("code",null,m.name)),React.createElement("div",{className:"ts-remove-file ts-select-file"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M19.5455 6.4965C19.9848 6.93584 19.9848 7.64815 19.5455 8.08749L10.1286 17.5043C9.6893 17.9437 8.97699 17.9437 8.53765 17.5043L4.45451 13.4212C4.01517 12.9819 4.01516 12.2695 4.4545 11.8302C4.89384 11.3909 5.60616 11.3909 6.0455 11.8302L9.33315 15.1179L17.9545 6.4965C18.3938 6.05716 19.1062 6.05716 19.5455 6.4965Z",fill:"#343C54"})))))),o&&React.createElement("div",null,React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),m.stopPropagation(),p.trim()?ce(!0):K(M)},className:`ts-btn ts-btn-4 ${D?"vx-pending":""}`},React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z",fill:"#343C54"}),React.createElement("path",{d:"M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z",fill:"#343C54"})),"Load more"))):React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("p",null,f?"Loading files...":"No files found")))))}const re={search:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>',inbox:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"></path><path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"></path></svg>',chevronLeft:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>',menu:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"></path></svg>',reload:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path></svg>',send:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path></svg>',emoji:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd"></path></svg>',attach:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z" clip-rule="evenodd"></path></svg>',close:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',trash:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>',block:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"></path></svg>',gallery:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path><path d="M6 6.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"></path></svg>'};function ne(e,t){return e&&e.value?e.value:t}function Wn(e=8){const t="abcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let a=0;a<e;a++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}function Kn(e,t=300){let r=null;return((...a)=>{r&&clearTimeout(r),r=setTimeout(()=>e(...a),t)})}function Je(e){return new URLSearchParams(window.location.search).get(e)}function Zn(e,t){const r=new URL(window.location.href);r.searchParams.set(e,t),window.history.replaceState({},"",r.toString())}function Xe(e){const t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState({},"",t.toString())}function ve(e,t="error"){const r=window.Voxel;r?.alert?r.alert(e,t):console.error(`[messages] ${t}: ${e}`)}const Gn=[];function Jn({attributes:e,context:t,config:r,messagesConfig:a}){const[n,s]=b.useState({chats:{loading:!1,loadingMore:!1,list:t==="editor"?Gn:[],hasMore:!1,page:1},activeChat:null,search:{term:"",loading:!1,list:[]},emojis:{loading:!1,list:null,search:{term:"",list:[]},recents:[]},files:[],activePopup:null,dragActive:!1});b.useEffect(()=>{const o="voxel-messages-css";if(!document.getElementById(o)){const f=document.createElement("link");f.id=o,f.rel="stylesheet";const m=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");f.href=`${m}/wp-content/themes/voxel/assets/dist/messages.css?ver=1.7.5.2`,document.head.appendChild(f)}},[]);const i=b.useRef(null),l=b.useRef(null),c=b.useRef(null),u=b.useRef(null),g=b.useRef(null),C=b.useRef(null),v=b.useCallback(o=>{const f=window.Voxel_Config;return f?.ajax_url?`${f.ajax_url}&action=${o}`:`${f?.site_url||window.location.origin}/?vx=1&action=${o}`},[]),_=b.useCallback(()=>{i.current&&(i.current.scrollTop=i.current.scrollHeight)},[]),x=b.useCallback(()=>{!l.current||!c.current||(c.current.value=l.current.value,c.current.style.width=`${l.current.scrollWidth}px`,c.current.style.minWidth=`${l.current.scrollWidth}px`,c.current.style.maxWidth=`${l.current.scrollWidth}px`,l.current.style.height=`${c.current.scrollHeight}px`)},[]),A=b.useCallback(async(o=!1,f=1)=>{if(a){s(d=>({...d,chats:{...d.chats,loading:f===1,loadingMore:f>1}}));try{const d=new FormData;if(d.append("pg",String(f)),d.append("_wpnonce",a.nonce),o){const R=Je("chat");R&&d.append("load",R)}const h=await(await fetch(v("inbox.list_chats"),{method:"POST",body:d})).json();if(h.success){const R=h.list||h.data?.chats||[];if(s(S=>({...S,chats:{loading:!1,loadingMore:!1,list:f===1?R:[...S.chats.list,...R],hasMore:h.has_more||h.data?.has_more||!1,page:f}})),o){const S=R.find(O=>O.autoload);S?M(S):h.default_chat&&M(h.default_chat)}}else ve(h.message||"Failed to load chats","error"),s(R=>({...R,chats:{...R.chats,loading:!1,loadingMore:!1}}))}catch(d){console.error("[messages] Failed to load chats:",d),s(m=>({...m,chats:{...m.chats,loading:!1,loadingMore:!1}}))}}},[a,v]),T=b.useCallback(()=>{const o=n.chats.page+1;A(!1,o)},[n.chats.page,A]),M=b.useCallback(async o=>{const f=[o.author.type==="post"?o.author.id:"",o.target.type==="post"?"p":"u",o.target.id].join("");if(Zn("chat",f),s(d=>({...d,activeChat:{...o,messages:{loading:!0,loadingMore:!1,list:[],hasMore:!1},state:{content:""},processing:!1,follow_status:o.follow_status||{author:0,target:0}},files:[]})),!!a)try{const d=new FormData;d.append("author_type",o.author.type),d.append("author_id",String(o.author.id)),d.append("target_type",o.target.type),d.append("target_id",String(o.target.id)),d.append("_wpnonce",a.nonce);const h=await(await fetch(v("inbox.load_chat"),{method:"POST",body:d})).json();if(h.success){s(S=>S.activeChat?{...S,activeChat:{...S.activeChat,messages:{loading:!1,loadingMore:!1,list:h.list||[],hasMore:h.has_more||!1},is_new:!1,seen:!0,follow_status:{author:h.follow_status?.author??S.activeChat.follow_status?.author??0,target:h.follow_status?.target??S.activeChat.follow_status?.target??0}}}:S),setTimeout(()=>{_(),x(),l.current?.focus()},50);const R=Je("text");R&&(s(S=>S.activeChat?{...S,activeChat:{...S.activeChat,state:{content:R}}}:S),Xe("text"))}else ve(h.message||"Failed to load messages","error")}catch(d){console.error("[messages] Failed to load messages:",d)}},[a,v,_,x]),k=b.useCallback(()=>{Xe("chat"),s(o=>({...o,activeChat:null,files:[]}))},[]),L=b.useCallback(async()=>{if(!n.activeChat||!a||n.activeChat.messages.loadingMore)return;const o=i.current;if(!o)return;const f=o.scrollHeight-o.scrollTop;s(d=>d.activeChat?{...d,activeChat:{...d.activeChat,messages:{...d.activeChat.messages,loadingMore:!0}}}:d);try{const d=n.activeChat.messages.list[n.activeChat.messages.list.length-1],m=new FormData;d&&m.append("cursor",String(d.id)),m.append("author_type",n.activeChat.author.type),m.append("author_id",String(n.activeChat.author.id)),m.append("target_type",n.activeChat.target.type),m.append("target_id",String(n.activeChat.target.id)),m.append("_wpnonce",a.nonce);const R=await(await fetch(v("inbox.load_chat"),{method:"POST",body:m})).json();R.success&&(s(S=>S.activeChat?{...S,activeChat:{...S.activeChat,messages:{loading:!1,loadingMore:!1,list:[...S.activeChat.messages.list,...R.list||[]],hasMore:R.has_more||!1}}}:S),setTimeout(()=>{o&&(o.scrollTop=o.scrollHeight-f)},10))}catch(d){console.error("[messages] Failed to load more messages:",d),s(m=>m.activeChat?{...m,activeChat:{...m.activeChat,messages:{...m.activeChat.messages,loadingMore:!1}}}:m)}},[n.activeChat,a,v]),w=b.useCallback(async()=>{if(!n.activeChat||!a)return;const o=n.activeChat.state.content.trim(),f=n.files.length>0;if(!o&&!f)return;const d={id:Date.now(),content:o.replace(/(?:\r\n|\r|\n){2,}/g,"</p><p>").replace(/(?:\r\n|\r|\n)/g,"<br>"),has_content:o.length>0,time:N("Sending","voxel-fse"),sent_by:"author",seen:!1,sending:!0,tmp:!0,is_deleted:!1,is_hidden:!1};s(O=>O.activeChat?{...O,activeChat:{...O.activeChat,messages:{...O.activeChat.messages,list:[d,...O.activeChat.messages.list]},state:{content:""}},files:[]}:O);const m=new FormData,h={content:o},R="files",S=[];n.files.forEach(O=>{O.source==="new_upload"&&O.item?(m.append(`files[${R}][]`,O.item),S.push("uploaded_file")):O.source==="existing"&&O.id&&S.push(O.id)}),h[R]=S,m.append("fields",JSON.stringify(h)),m.append("sender_type",n.activeChat.author.type),m.append("sender_id",String(n.activeChat.author.id)),m.append("receiver_type",n.activeChat.target.type),m.append("receiver_id",String(n.activeChat.target.id)),m.append("_wpnonce",a.nonce),setTimeout(()=>{_(),x(),a.blur_on_send?l.current?.blur():l.current?.focus()},10);try{const z=await(await fetch(v("inbox.send_message"),{method:"POST",body:m})).json();z.success?(s(F=>{if(!F.activeChat)return F;const Y=F.activeChat.messages.list.map(de=>de.tmp&&de.id===d.id?{...z.message||de,tmp:!1,sending:!1}:de),fe={...F.activeChat,messages:{...F.activeChat.messages,list:Y},excerpt:z.message?.excerpt||F.activeChat.excerpt,time:z.message?.chat_time||F.activeChat.time},be=F.chats.list.filter(de=>de.key!==F.activeChat?.key);return be.unshift(fe),{...F,activeChat:fe,chats:{...F.chats,list:be}}}),delete window._vx_file_upload_cache,setTimeout(_,50)):(s(F=>F.activeChat?{...F,activeChat:{...F.activeChat,messages:{...F.activeChat.messages,list:F.activeChat.messages.list.filter(Y=>Y.id!==d.id)},state:{content:o}}}:F),ve(z.message||"Failed to send message","error"),setTimeout(x,10))}catch(O){console.error("[messages] Failed to send message:",O),s(z=>z.activeChat?{...z,activeChat:{...z.activeChat,messages:{...z.activeChat.messages,list:z.activeChat.messages.list.filter(F=>F.id!==d.id)},state:{content:o}}}:z)}},[n.activeChat,n.files,a,v,_,x]),p=b.useCallback(async o=>{if(!n.activeChat||!a||!window.confirm(N("Are you sure?","voxel-fse")))return;const f=new FormData;f.append("deleter_type",n.activeChat.author.type),f.append("deleter_id",String(n.activeChat.author.id)),f.append("message_id",String(o.id)),f.append("_wpnonce",a.nonce),s(d=>d.activeChat?{...d,activeChat:{...d.activeChat,messages:{...d.activeChat.messages,list:d.activeChat.messages.list.map(m=>m.id===o.id?{...m,processing:!0}:m)}}}:d);try{const m=await(await fetch(v("inbox.delete_message"),{method:"POST",body:f})).json();m.success?s(h=>h.activeChat?{...h,activeChat:{...h.activeChat,messages:{...h.activeChat.messages,list:h.activeChat.messages.list.map(R=>R.id===o.id?{...R,is_deleted:m.is_deleted,is_hidden:m.is_hidden,processing:!1}:R)}}}:h):(ve(m.message||"Failed to delete message","error"),s(h=>h.activeChat?{...h,activeChat:{...h.activeChat,messages:{...h.activeChat.messages,list:h.activeChat.messages.list.map(R=>R.id===o.id?{...R,processing:!1}:R)}}}:h))}catch(d){console.error("[messages] Failed to delete message:",d)}},[n.activeChat,a,v]),y=b.useCallback(async()=>{if(!n.activeChat||!a||!window.confirm(N("Are you sure?","voxel-fse")))return;const o=n.activeChat.follow_status?.author===-1,f=new FormData;f.append("sender_type",n.activeChat.author.type),f.append("sender_id",String(n.activeChat.author.id)),f.append("receiver_type",n.activeChat.target.type),f.append("receiver_id",String(n.activeChat.target.id)),o&&f.append("unblock","yes"),f.append("_wpnonce",a.nonce),s(d=>d.activeChat?{...d,activeChat:{...d.activeChat,processing:!0}}:d),g.current?.blur();try{const m=await(await fetch(v("inbox.block_chat"),{method:"POST",body:f})).json();m.success?(s(h=>h.activeChat?{...h,activeChat:{...h.activeChat,processing:!1,follow_status:{...h.activeChat.follow_status,author:m.status}}}:h),setTimeout(_,50)):(ve(m.message||"Failed to update block status","error"),s(h=>h.activeChat?{...h,activeChat:{...h.activeChat,processing:!1}}:h))}catch(d){console.error("[messages] Failed to block/unblock:",d)}},[n.activeChat,a,v,_]),E=b.useCallback(()=>n.activeChat?.follow_status?n.activeChat.follow_status.author===-1||n.activeChat.follow_status.target===-1:!1,[n.activeChat]),I=b.useCallback(async(o=!1)=>{if(!n.activeChat||!a||!window.confirm(N("Are you sure?","voxel-fse")))return;const f=new FormData;f.append("sender_type",n.activeChat.author.type),f.append("sender_id",String(n.activeChat.author.id)),f.append("receiver_type",n.activeChat.target.type),f.append("receiver_id",String(n.activeChat.target.id)),f.append("_wpnonce",a.nonce),s(d=>d.activeChat?{...d,activeChat:{...d.activeChat,processing:!0}}:d),g.current?.blur();try{const m=await(await fetch(v("inbox.clear_conversation"),{method:"POST",body:f})).json();m.success?(s(h=>{if(!h.activeChat)return h;const R=h.chats.list.filter(S=>S.key!==h.activeChat?.key);return o?{...h,activeChat:null,chats:{...h.chats,list:R}}:{...h,activeChat:{...h.activeChat,processing:!1,messages:{...h.activeChat.messages,list:[],hasMore:!1}},chats:{...h.chats,list:R}}}),o&&Xe("chat")):(ve(m.message||"Failed to clear conversation","error"),s(h=>h.activeChat?{...h,activeChat:{...h.activeChat,processing:!1}}:h))}catch(d){console.error("[messages] Failed to clear conversation:",d)}},[n.activeChat,a,v]),H=b.useCallback(async()=>{if(!a?.polling?.enabled)return;if(document.visibilityState!=="visible"){C.current=setTimeout(H,a.polling.frequency||3e4);return}const o=Math.round(Date.now()/1e3);try{await(await fetch(`${a.polling.url}?u=${a.user?.id||0}&v=${o}`)).text()==="1"?Q():C.current=setTimeout(H,a.polling.frequency||3e4)}catch(f){console.error("[messages] Polling failed:",f),C.current=setTimeout(H,a.polling.frequency||3e4)}},[a]),G=b.useCallback((o,f)=>{const d={...o,excerpt:f.excerpt,is_new:f.is_new,seen:f.seen,time:f.time};if(f.messages?.list&&o.messages?.list){f.messages.list.forEach(R=>{const S=o.messages.list.find(O=>O.id===R.id);S&&(S.seen=R.seen,S.is_deleted=R.is_deleted,S.is_hidden=R.is_hidden)});const m=o.messages.list[0]?.id||0,h=f.messages.list.filter(R=>R.id>m);h.length<15?d.messages={...o.messages,list:[...h,...o.messages.list],hasMore:f.messages.hasMore}:d.messages=f.messages}return d.last_id=f.last_id,d},[]),Q=b.useCallback(async()=>{if(a)try{const o=new FormData;o.append("pg","1"),o.append("_wpnonce",a.nonce);const f=Je("chat");f&&o.append("load",f);const m=await(await fetch(v("inbox.list_chats"),{method:"POST",body:o})).json();m.success&&s(h=>{const R=[],S=m.list||[];S.forEach(F=>{const Y=h.chats.list.findIndex(fe=>fe.key===F.key);if(Y!==-1){const fe=h.chats.list[Y],be=G(fe,F);R.push(be)}else R.push(F)});const O=h.chats.list.filter(F=>!S.find(Y=>Y.key===F.key)),z={...h,chats:{...h.chats,list:[...R,...O]}};if(h.activeChat){const F=R.find(Y=>Y.key===h.activeChat?.key);F&&(z.activeChat={...h.activeChat,...F,messages:F.messages||h.activeChat.messages,state:h.activeChat.state})}return z}),a.polling?.enabled&&(C.current=setTimeout(H,a.polling.frequency||3e4))}catch(o){console.error("[messages] Failed to refresh inbox:",o),a.polling?.enabled&&(C.current=setTimeout(H,a.polling.frequency||3e4))}},[a,v,G,H]),q=b.useCallback(async()=>{if(n.emojis.list!==null)return;s(f=>({...f,emojis:{...f.emojis,loading:!0}}));try{const f=a?.emojis?.url||"/wp-content/themes/voxel/assets/emojis.json",m=await(await fetch(f)).json();s(h=>({...h,emojis:{...h.emojis,loading:!1,list:m}}))}catch(f){console.error("[messages] Failed to load emojis:",f),s(d=>({...d,emojis:{...d.emojis,loading:!1}}))}const o=localStorage.getItem("voxel:recent_emojis");o&&s(f=>({...f,emojis:{...f.emojis,recents:[...o]}}))},[n.emojis.list,a]),U=b.useCallback(o=>{if(!l.current||!n.activeChat)return;const f=l.current;let d=n.activeChat.state.content;if(f.selectionStart!==null){const S=f.selectionStart,O=f.selectionEnd;d=d.substring(0,S)+o+d.substring(O),setTimeout(()=>{f.setSelectionRange(S+o.length,S+o.length),f.focus()},10)}else d+=o;s(S=>S.activeChat?{...S,activeChat:{...S.activeChat,state:{content:d}}}:S);let m=[];const h=localStorage.getItem("voxel:recent_emojis");h&&(m=[...h]),m=m.filter(S=>S!==o),m.unshift(o);const R=m.slice(0,16);localStorage.setItem("voxel:recent_emojis",R.join("")),s(S=>({...S,emojis:{...S.emojis,recents:R}}))},[n.activeChat]),P=b.useCallback(()=>{if(!n.emojis.list||!n.emojis.search.term.trim()){s(d=>({...d,emojis:{...d.emojis,search:{...d.emojis.search,list:[]}}}));return}const o=[],f=n.emojis.search.term.trim().toLowerCase();Object.values(n.emojis.list).some(d=>(d.some(m=>(m.name.toLowerCase().includes(f)&&o.push(m.emoji),o.length>=80)),o.length>=80)),s(d=>({...d,emojis:{...d.emojis,search:{...d.emojis.search,list:o}}}))},[n.emojis.list,n.emojis.search.term]),D=b.useCallback(o=>{const f=a?.files?.max_count||5,d=a?.files?.max_size;if(d&&o.size>d*1e3){const O=d,z=(d/1e3).toFixed(1);ve(N('File "%s" exceeds the maximum size limit (%s KB / %s MB)',"voxel-fse").replace("%s",o.name).replace("%s",String(O)).replace("%s",z),"error");return}const m=a?.files?.allowed_file_types;if(m&&m.length>0&&!m.includes(o.type)){ve(N('File "%s" is not an allowed file type',"voxel-fse").replace("%s",o.name),"error");return}const h={source:"new_upload",name:o.name,type:o.type,size:o.size,preview:URL.createObjectURL(o),item:o,_id:Wn(8)},R=window;R._vx_file_upload_cache||(R._vx_file_upload_cache=[]);const S=R._vx_file_upload_cache.find(O=>O.item?.name===o.name&&O.item?.type===o.type&&O.item?.size===o.size&&O.item?.lastModified===o.lastModified);S?s(O=>f===1?{...O,files:[S]}:O.files.length>=f?O:{...O,files:[...O.files,S]}):(R._vx_file_upload_cache.unshift(h),s(O=>f===1?{...O,files:[h]}:O.files.length>=f?O:{...O,files:[...O.files,h]}))},[a]),W=b.useCallback(o=>{const f=o.target.files;if(f){for(let d=0;d<f.length;d++)D(f[d]);o.target.value=""}},[D]),K=b.useCallback(o=>{o.preventDefault(),s(f=>({...f,dragActive:!1})),o.dataTransfer.items?[...o.dataTransfer.items].forEach(f=>{if(f.kind==="file"){const d=f.getAsFile();d&&D(d)}}):[...o.dataTransfer.files].forEach(f=>{D(f)})},[D]),ce=b.useCallback(o=>{s(f=>({...f,files:f.files.filter(d=>d._id!==o._id&&d.id!==o.id)})),o.source==="new_upload"&&URL.revokeObjectURL(o.preview)},[]),te=b.useCallback((o,f)=>{if(o.preventDefault(),!n.activeChat)return;const d=[];n.activeChat.messages.list.forEach(R=>{R.files&&R.files.forEach(S=>{S.is_image&&d.push({src:S.url,alt:S.alt||S.name})})});const m=d.findIndex(R=>R.src===f),h=window.VoxelLightbox;h&&h.open(d,Math.max(0,m))},[n.activeChat]),J=b.useCallback(o=>{const f=a?.files?.max_count||5,d={};n.files.forEach(h=>{h.source==="existing"&&h.id&&(d[h.id]=!0),h.source==="new_upload"&&h._id&&(d[h._id]=!0)});const m=[];o.forEach(h=>{h.source==="existing"&&h.id&&!d[h.id]&&m.push(h),h.source==="new_upload"&&h._id&&!d[h._id]&&m.push(h)}),s(h=>{const R=[...h.files,...m];return{...h,files:R.slice(0,f)}})},[a,n.files]),j=b.useMemo(()=>Kn(async(o,f)=>{try{const d=new FormData;d.append("search",o),d.append("_wpnonce",f);const h=await(await fetch(v("inbox.search_chats"),{method:"POST",body:d})).json();h.success&&s(R=>({...R,search:{...R.search,loading:!1,list:h.list||[]}}))}catch(d){console.error("[messages] Failed to search chats:",d),s(m=>({...m,search:{...m.search,loading:!1}}))}},300),[v]),V=b.useCallback(o=>{if(s(f=>({...f,search:{...f.search,term:o,loading:o.trim().length>0}})),!o.trim()||!a){s(f=>({...f,search:{term:o,loading:!1,list:[]}}));return}if(!n.chats.hasMore||o.trim().length<=2){const f=n.chats.list.filter(d=>d.target.name.toLowerCase().includes(o.trim().toLowerCase())).slice(0,10);s(d=>({...d,search:{term:o,loading:!1,list:f}}))}else j(o.trim(),a.nonce)},[a,n.chats.hasMore,n.chats.list,j]),X=b.useCallback(o=>{o.nativeEvent.isComposing||o.keyCode===229||o.shiftKey||o.key==="Enter"&&(o.preventDefault(),w())},[w]),ae=b.useCallback(o=>{s(f=>({...f,activeChat:f.activeChat?{...f.activeChat,state:{...f.activeChat.state,content:o}}:null})),setTimeout(x,10)},[x]),ie=b.useCallback(()=>{s(o=>({...o,activePopup:o.activePopup==="emoji"?null:"emoji"})),n.activePopup!=="emoji"&&q()},[n.activePopup,q]),se=b.useCallback(()=>{s(o=>({...o,activePopup:o.activePopup==="actions"?null:"actions"}))},[]);b.useEffect(()=>(t==="frontend"&&a&&(A(!0),a.polling?.enabled&&(C.current=setTimeout(H,a.polling.frequency||3e4)),setTimeout(q,100)),()=>{C.current&&clearTimeout(C.current)}),[t,a,A,H,q]),b.useEffect(()=>{n.emojis.search.term.trim()&&n.emojis.list&&P()},[n.emojis.search.term,n.emojis.list,P]);const le=JSON.stringify(r||{icons:e.icons,settings:{enableCalcHeight:e.enableCalcHeight,calcHeight:e.calcHeight}});return React.createElement(React.Fragment,null,React.createElement("textarea",{ref:c,style:{position:"absolute",visibility:"hidden",height:"auto",overflow:"hidden"},"aria-hidden":"true",tabIndex:-1}),React.createElement("input",{ref:u,type:"file",multiple:!0,accept:a?.files?.allowed_file_types?.join(",")||"*",style:{display:"none"},onChange:W}),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:le}}),React.createElement("div",{className:`ts-inbox ${n.dragActive?"drag-active":""}`,onDragOver:o=>{o.preventDefault(),s(f=>({...f,dragActive:!0}))},onDragLeave:()=>s(o=>({...o,dragActive:!1})),onDrop:K},React.createElement("div",{className:`inbox-left ${n.activeChat?"":"ts-no-chat"}`},n.chats.loading?React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{className:"ts-loader"})):n.chats.list.length?React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form ts-inbox-top"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.search,re.search)}}),React.createElement("input",{type:"text",value:n.search.term,onChange:o=>V(o.target.value),placeholder:N("Search inbox","voxel-fse"),className:"autofocus"}))),React.createElement("ul",{className:`ts-convo-list simplify-ul min-scroll ${n.search.loading?"vx-disabled":""}`},(n.search.term.trim()?n.search.list:n.chats.list).map(o=>React.createElement("li",{key:o.key||o.id,className:`
												${o.is_new?"ts-new-message":""}
												${o.seen?"":"ts-unread-message"}
												${n.activeChat?.id===o.id?"ts-active-chat":""}
											`},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),M(o)}},o.target.avatar&&React.createElement("div",{className:"convo-avatars"},React.createElement("div",{className:"convo-avatar",dangerouslySetInnerHTML:{__html:o.target.avatar}}),o.author.type==="post"&&React.createElement("div",{className:"post-avatar",dangerouslySetInnerHTML:{__html:o.author.avatar}})),React.createElement("div",{className:"message-details"},React.createElement("b",null,o.target.name),React.createElement("span",null,o.excerpt),React.createElement("span",null,o.time))))),n.chats.hasMore&&!n.search.term.trim()&&React.createElement("div",{className:"ts-btn-group"},React.createElement("div",{className:"n-load-more"},React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),T()},className:`ts-btn ts-btn-4 ${n.chats.loadingMore?"vx-pending":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.loadMore,re.reload)}}),N("Load more","voxel-fse")))))):React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.chat,re.inbox)}}),React.createElement("p",null,N("No chats available","voxel-fse")))),React.createElement("div",{className:`ts-message-body ${n.activeChat?.processing?"vx-disabled":""} ${n.activeChat?"":"ts-no-chat"}`},n.activeChat?React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-inbox-top add-spacing flexify"},React.createElement("div",{className:"convo-head"},React.createElement("div",{className:"ts-convo-name flexify"},React.createElement("a",{className:"convo-pic",href:n.activeChat.target.link},React.createElement("span",{dangerouslySetInnerHTML:{__html:n.activeChat.target.avatar}})),React.createElement("a",{className:"convo-name",href:n.activeChat.target.link},React.createElement("span",null,n.activeChat.target.name))),React.createElement("ul",{className:"flexify simplify-ul inbox-top-btns"},React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),k()},className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.back,re.chevronLeft)}}))),React.createElement("li",{className:"flexify ts-popup-target"},React.createElement("button",{ref:g,onClick:se,className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.more,re.menu)}})),n.activePopup==="actions"&&React.createElement("div",{className:"ts-popup-content ts-popup-visible"},React.createElement("ul",{className:"simplify-ul ts-popup-list"},React.createElement("li",null,React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),y(),s(f=>({...f,activePopup:null}))}},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.ban,re.block)}}),E()?N("Unblock user","voxel-fse"):N("Block user","voxel-fse"))),React.createElement("li",null,React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),I(!0),s(f=>({...f,activePopup:null}))}},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.clear,re.trash)}}),N("Clear conversation","voxel-fse"))))))))),E()&&React.createElement("div",{className:"ts-chat-blocked-notice"},React.createElement("p",null,N("This conversation is blocked.","voxel-fse"))),n.activeChat.messages.loading?React.createElement("div",{className:"start-convo"},React.createElement("span",{className:"ts-loader"})):n.activeChat.messages.list.length?React.createElement("div",{className:"ts-conversation-body min-scroll",ref:i},n.activeChat.messages.hasMore&&React.createElement("div",{className:"load-more-messages"},React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),L()},className:`ts-btn ts-btn-4 ${n.activeChat.messages.loadingMore?"vx-pending":""}`},n.activeChat.messages.loadingMore?N("Loading...","voxel-fse"):N("Load older messages","voxel-fse"))),React.createElement("ul",{className:"ts-message-list simplify-ul"},[...n.activeChat.messages.list].reverse().map(o=>React.createElement("li",{key:o.id,className:`
													ts-single-message
													ts-responder-${o.sent_by==="author"?2:1}
													ts-message-id-${o.id}
													${o.sent_by==="author"&&o.seen?"ts-message-seen":""}
													${o.tmp?"inserted-message":""}
													${o.is_deleted?"ts-message-deleted":""}
													${o.is_hidden?"ts-message-hidden":""}
													${o.processing?"vx-disabled":""}
												`},o.is_deleted?React.createElement(React.Fragment,null,React.createElement("p",{className:"vx-disabled"},N("Deleted","voxel-fse")),React.createElement("ul",{className:"flexify simplify-ul ms-info"},React.createElement("li",null,o.time))):o.is_hidden?React.createElement(React.Fragment,null,React.createElement("p",{className:"vx-disabled"},N("Hidden","voxel-fse")),React.createElement("ul",{className:"flexify simplify-ul ms-info"},React.createElement("li",null,o.time))):React.createElement(React.Fragment,null,o.files&&o.files.length>0&&React.createElement(React.Fragment,null,o.files.map((f,d)=>f.is_image?React.createElement("a",{key:`${o.id}-file-${d}`,href:f.url,className:"ts-image-attachment",onClick:m=>te(m,f.url)},React.createElement("img",{src:f.preview||f.url,alt:f.alt||f.name,width:f.width,height:f.height,loading:"lazy"})):React.createElement("p",{key:`${o.id}-file-${d}`},React.createElement("a",{href:f.url,target:"_blank",rel:"noopener noreferrer"},f.name)))),o.has_content&&React.createElement("p",{dangerouslySetInnerHTML:{__html:o.content}}),React.createElement("ul",{className:"flexify simplify-ul ms-info"},o.sent_by==="author"&&!o.tmp&&React.createElement(React.Fragment,null,React.createElement("li",{className:"message-actions"},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),p(o)}},N("Delete","voxel-fse"))),React.createElement("li",{className:"message-actions"},"")),React.createElement("li",null,o.sending?N("Sending","voxel-fse"):o.time)),o.sent_by==="author"&&o.seen&&a?.seen_badge?.enabled&&React.createElement("div",{className:"seen-badge"},N("Seen","voxel-fse"))))))):React.createElement("div",{className:"start-convo"},React.createElement("a",{href:n.activeChat.target.link},React.createElement("span",{dangerouslySetInnerHTML:{__html:n.activeChat.target.avatar}})),React.createElement("span",null,N("Start a conversation with","voxel-fse")),React.createElement("a",{href:n.activeChat.target.link},React.createElement("h4",null,n.activeChat.target.name))),n.files.length>0&&React.createElement("div",{className:"ts-file-attachments"},n.files.map(o=>React.createElement("div",{key:o._id||o.id,className:"ts-file-preview"},o.type.startsWith("image/")?React.createElement("img",{src:o.preview,alt:o.name}):React.createElement("span",null,o.name),React.createElement("button",{className:"ts-remove-file",onClick:()=>ce(o)},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.trash,re.close)}}))))),!E()&&React.createElement("div",{className:"ts-inbox-bottom"},React.createElement("div",{className:"flexify ts-convo-form"},React.createElement("span",{className:"active-avatar",dangerouslySetInnerHTML:{__html:n.activeChat.author.avatar}}),React.createElement("div",{className:"ts-popup-target"},React.createElement("button",{onClick:ie,className:"ts-icon-btn ts-emoji-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.emoji,re.emoji)}})),n.activePopup==="emoji"&&React.createElement("div",{className:"ts-popup-content ts-emoji-popup ts-popup-visible"},React.createElement("div",{className:"ts-form"},React.createElement("input",{type:"text",placeholder:N("Search emojis","voxel-fse"),value:n.emojis.search.term,onChange:o=>s(f=>({...f,emojis:{...f.emojis,search:{...f.emojis.search,term:o.target.value}}}))})),n.emojis.loading?React.createElement("div",{className:"ts-loader"}):React.createElement("div",{className:"ts-emoji-list"},n.emojis.recents.length>0&&!n.emojis.search.term.trim()&&React.createElement("div",{className:"ts-emoji-category"},React.createElement("span",null,N("Recent","voxel-fse")),React.createElement("div",{className:"ts-emoji-grid"},n.emojis.recents.map((o,f)=>React.createElement("button",{key:`recent-${f}`,onClick:()=>U(o)},o)))),n.emojis.search.term.trim()?React.createElement("div",{className:"ts-emoji-grid"},n.emojis.search.list.map((o,f)=>React.createElement("button",{key:`search-${f}`,onClick:()=>U(o)},o))):n.emojis.list&&Object.entries(n.emojis.list).map(([o,f])=>React.createElement("div",{key:o,className:"ts-emoji-category"},React.createElement("span",null,a?.l10n?.emoji_groups?.[o]||o),React.createElement("div",{className:"ts-emoji-grid"},f.map((d,m)=>React.createElement("button",{key:`${o}-${m}`,onClick:()=>U(d.emoji)},d.emoji)))))))),a?.files?.enabled!==!1&&React.createElement("button",{onClick:()=>u.current?.click(),className:"ts-icon-btn ts-attach-btn",title:N("Upload file","voxel-fse")},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.upload,re.attach)}})),a?.files?.enabled!==!1&&React.createElement(Vn,{multiple:!0,saveLabel:N("Add files","voxel-fse"),onSave:o=>{const f=o.map(d=>({source:d.source||"existing",id:d.id,_id:d.id?String(d.id):void 0,name:d.name,type:d.type||"",size:0,preview:d.preview||""}));J(f)}},React.createElement("button",{className:"ts-icon-btn ts-gallery-btn",title:N("Media library","voxel-fse")},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.gallery,re.gallery)}}))),React.createElement("div",{className:"compose-message min-scroll"},React.createElement("textarea",{ref:l,value:n.activeChat.state.content,onKeyDown:X,onChange:o=>ae(o.target.value)}),!n.activeChat.state.content&&React.createElement("span",{className:"compose-placeholder"},n.activeChat.author.type==="post"?N("Reply as","voxel-fse")+" "+n.activeChat.author.name:N("Your message","voxel-fse"))),React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),w()},className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.send,re.send)}}))))):React.createElement("div",{className:"ts-empty-user-tab"},n.chats.loading?React.createElement("span",{className:"ts-loader"}):React.createElement(React.Fragment,null,React.createElement("span",{dangerouslySetInnerHTML:{__html:ne(e.icons.chat,re.inbox)}}),React.createElement("p",null,N("No conversation selected","voxel-fse")))))))}const Xn={search:{library:"",value:""},chat:{library:"",value:""},loadMore:{library:"",value:""},back:{library:"",value:""},more:{library:"",value:""},user:{library:"",value:""},clear:{library:"",value:""},ban:{library:"",value:""},trash:{library:"",value:""},upload:{library:"",value:""},gallery:{library:"",value:""},emoji:{library:"",value:""},send:{library:"",value:""}};function Yn(e){const t=e.querySelector("script.vxconfig");if(t&&t.textContent)try{return JSON.parse(t.textContent)}catch(r){console.error("[messages] Failed to parse vxconfig:",r)}return null}function Qn(e){const t={search:e.icons?.search??e.icons?.searchIcon??{},chat:e.icons?.chat??e.icons?.chatIcon??{},back:e.icons?.back??e.icons?.backIcon??{},more:e.icons?.more??e.icons?.moreIcon??{},loadMore:e.icons?.loadMore??e.icons?.load_more??{},send:e.icons?.send??e.icons?.sendIcon??{},emoji:e.icons?.emoji??e.icons?.emojiIcon??{},upload:e.icons?.upload??e.icons?.uploadIcon??{},gallery:e.icons?.gallery??e.icons?.galleryIcon??{},user:e.icons?.user??e.icons?.userIcon??{},clear:e.icons?.clear??e.icons?.clearIcon??{},ban:e.icons?.ban??e.icons?.banIcon??{},trash:e.icons?.trash??e.icons?.trashIcon??{}},r={enableCalcHeight:e.settings?.enableCalcHeight??e.settings?.enable_calc_height??!1,calcHeight:e.settings?.calcHeight??e.settings?.calc_height??""};return{icons:t,settings:r}}function $n(e){const t=e.querySelector(".ts-inbox");if(t&&t.dataset.config)try{return JSON.parse(t.dataset.config)}catch(a){console.error("Failed to parse messages config:",a)}const r=window;return r.voxelMessagesConfig?r.voxelMessagesConfig:null}function ea(e){return{blockId:"",icons:e.icons||Xn,generalHeightUnit:"px",enableCalcHeight:e.settings?.enableCalcHeight||!1,calcHeight:e.settings?.calcHeight||"",generalBackground:"",generalBorderType:"default",generalBorderWidth:0,generalBorderColor:"",generalBorderRadius:0,generalBoxShadow:{},separatorColor:"",scrollbarColor:"",inboxMessagePadding:{top:"",right:"",bottom:"",left:""},inboxMessageTitleColor:"",inboxMessageTitleTypography:{},inboxMessageSubtitleColor:"",inboxMessageSubtitleTypography:{},inboxMessageSecondaryLogoBorder:{},inboxMessageHoverBg:"",inboxMessageHoverTitleColor:"",inboxMessageHoverSubtitleColor:"",inboxMessageActiveBg:"",inboxMessageActiveBorderColor:"",inboxMessageActiveTitleColor:"",inboxMessageActiveSubtitleColor:"",inboxMessageUnreadTitleTypography:{},inboxMessageNewAvatarBorder:{},inboxSearchTypography:{},inboxSearchValueColor:"",inboxSearchPlaceholderColor:"",inboxSearchIconColor:"",conversationTopTypography:{},conversationTopTextColor:"",conversationIntroNameTypography:{},conversationIntroNameColor:"",conversationIntroSubtitleTypography:{},conversationIntroSubtitleColor:"",conversationBodyMessagePadding:{top:"",right:"",bottom:"",left:""},conversationBodyMessageTypography:{},responder1Background:{},responder1Color:"",responder2Background:{},responder2Color:"",errorBackground:{},errorColor:"",messageInfoTypography:{},messageInfoDefaultColor:"",messageInfoDeleteColor:"",seenTypography:{},seenColor:"",composePlaceholderTypography:{},composePlaceholderColor:"",composeValueTypography:{},composeValueColor:"",iconButtonColor:"",iconButtonBackground:"",iconButtonBorderType:"default",iconButtonBorderWidth:0,iconButtonBorderColor:"",iconButtonHoverColor:"",iconButtonHoverBackground:"",iconButtonHoverBorderColor:"",tertiaryButtonIconColor:"",tertiaryButtonBackground:"",tertiaryButtonBorderType:"default",tertiaryButtonBorderWidth:0,tertiaryButtonBorderColor:"",tertiaryButtonTypography:{},tertiaryButtonTextColor:"",tertiaryButtonHoverIconColor:"",tertiaryButtonHoverBackground:"",tertiaryButtonHoverBorderColor:"",tertiaryButtonHoverTextColor:"",emptyIconSize:35,emptyIconColor:"",emptyTitleColor:"",emptyTitleTypography:{},loadingColor1:"",loadingColor2:""}}function ta({config:e,messagesConfig:t}){const r=ea(e);return React.createElement(Jn,{attributes:r,context:"frontend",config:e,messagesConfig:t})}function _e(){document.querySelectorAll(".voxel-fse-messages").forEach(t=>{if(t.dataset.hydrated==="true")return;const r=Yn(t);if(!r){console.error("[messages] No vxconfig found for messages block");return}const a=Qn(r),n=$n(t);t.dataset.hydrated="true",zt.createRoot(t).render(React.createElement(ta,{config:a,messagesConfig:n}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",_e):_e(),window.addEventListener("turbo:load",_e),window.addEventListener("pjax:complete",_e),document.addEventListener("voxel:markup-update",_e);const ra=window;ra.render_messages=_e})(ReactDOM,React,ReactDOM);
