/**
 * Nested Tabs Block - Editor Styles
 *
 * Editor-only styles for the block preview and controls.
 * Frontend styling inherits from Elementor's widget-nested-tabs.css
 *
 * @package VoxelFSE
 */

/* Block wrapper */
.vxfse-nested-tabs {
	position: relative;
}

/* Inspector Controls - Tab Items */
.vxfse-tabs-items-control {
	margin-bottom: 16px;
}

.vxfse-tabs-items-control .vxfse-control-label {
	font-weight: 600;
	margin-bottom: 8px;
}

.vxfse-tabs-items-list {
	display: flex;
	flex-direction: column;
	gap: 8px;
	margin-bottom: 12px;
}

.vxfse-tab-item-row {
	display: flex;
	align-items: flex-start;
	gap: 8px;
	padding: 12px;
	background: #f0f0f0;
	border-radius: 4px;
}

.vxfse-item-drag-handle {
	cursor: grab;
	padding: 4px;
	color: #757575;
}

.vxfse-item-drag-handle:active {
	cursor: grabbing;
}

.vxfse-item-content {
	flex: 1;
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.vxfse-item-content .components-text-control__input {
	padding: 8px;
}

.vxfse-item-actions {
	display: flex;
	flex-direction: column;
	gap: 4px;
}

.vxfse-item-actions .components-button {
	min-width: 28px;
	height: 28px;
	padding: 0;
}

.vxfse-add-item-button {
	width: 100%;
	justify-content: center;
}

/* Section Dividers */
.vxfse-section-divider {
	display: flex;
	align-items: center;
	margin: 16px 0 12px;
	font-size: 11px;
	font-weight: 600;
	text-transform: uppercase;
	letter-spacing: 0.5px;
	color: #757575;
}

.vxfse-section-divider::before,
.vxfse-section-divider::after {
	content: '';
	flex: 1;
	height: 1px;
	background: #ddd;
}

.vxfse-section-divider::before {
	margin-right: 8px;
}

.vxfse-section-divider::after {
	margin-left: 8px;
}

/* Editor Preview - Base Tabs Structure */
.vxfse-nested-tabs .e-n-tabs {
	display: flex;
	flex-direction: var(--n-tabs-direction, column);
	gap: var(--n-tabs-gap, 0);
}

.vxfse-nested-tabs .e-n-tabs-heading {
	display: flex;
	flex-direction: var(--n-tabs-heading-direction, row);
	flex-wrap: var(--n-tabs-heading-wrap, wrap);
	justify-content: var(--n-tabs-heading-justify-content, flex-start);
	width: var(--n-tabs-heading-width, initial);
	gap: var(--n-tabs-title-gap, 0);
	overflow-x: var(--n-tabs-heading-overflow-x, initial);
}

.vxfse-nested-tabs .e-n-tab-title {
	display: flex;
	flex-direction: var(--n-tabs-title-direction, row);
	align-items: var(--n-tabs-title-align-items, center);
	justify-content: var(--n-tabs-title-justify-content, center);
	gap: var(--n-tabs-icon-gap, 8px);
	padding: var(--n-tabs-title-padding-top, 15px) var(--n-tabs-title-padding-right, 20px) var(--n-tabs-title-padding-bottom, 15px) var(--n-tabs-title-padding-left, 20px);
	border-radius: var(--n-tabs-title-border-radius, 0);
	background: var(--n-tabs-title-background-color, transparent);
	color: var(--n-tabs-title-color, inherit);
	border: none;
	cursor: pointer;
	transition: all var(--n-tabs-title-transition, 0.3s) ease;
	flex-grow: var(--n-tabs-title-flex-grow, 0);
	flex-shrink: 0;
	width: var(--n-tabs-title-width, initial);
	white-space: var(--n-tabs-title-white-space, initial);
	order: var(--n-tabs-title-order, initial);
	/* Ensure clicks are not blocked by Gutenberg overlays */
	pointer-events: auto !important;
	position: relative;
	z-index: 10;
}

.vxfse-nested-tabs .e-n-tab-title:hover {
	background: var(--n-tabs-title-background-color-hover, var(--n-tabs-title-background-color, transparent));
	color: var(--n-tabs-title-color-hover, var(--n-tabs-title-color, inherit));
}

.vxfse-nested-tabs .e-n-tab-title.e-active {
	background: var(--n-tabs-title-background-color-active, var(--n-tabs-title-background-color, transparent));
	color: var(--n-tabs-title-color-active, var(--n-tabs-title-color, inherit));
}

.vxfse-nested-tabs .e-n-tab-icon {
	display: flex;
	align-items: center;
	font-size: var(--n-tabs-icon-size, 16px);
	color: var(--n-tabs-icon-color, inherit);
	order: var(--n-tabs-icon-order, initial);
}

.vxfse-nested-tabs .e-n-tab-title:hover .e-n-tab-icon {
	color: var(--n-tabs-icon-color-hover, var(--n-tabs-icon-color, inherit));
}

.vxfse-nested-tabs .e-n-tab-title.e-active .e-n-tab-icon {
	color: var(--n-tabs-icon-color-active, var(--n-tabs-icon-color, inherit));
}

.vxfse-nested-tabs .e-n-tab-title-text {
	font-size: var(--n-tabs-title-font-size, inherit);
}

.vxfse-nested-tabs .e-n-tabs-content {
	flex: 1;
	background: var(--n-tabs-content-background-color, transparent);
	border-radius: var(--n-tabs-content-border-radius, 0);
	padding: var(--n-tabs-content-padding, 0);
}

.vxfse-nested-tabs .e-n-tabs-content > .e-con {
	display: none;
	order: var(--n-tabs-title-order, initial);
}

.vxfse-nested-tabs .e-n-tabs-content > .e-con.e-active {
	display: block;
}

/* Content Placeholder */
.vxfse-nested-tabs .vxfse-content-placeholder {
	padding: 40px 20px;
	text-align: center;
	background: #f8f9fa;
	border: 2px dashed #ddd;
	border-radius: 4px;
	color: #666;
	font-style: italic;
}

/* Tab Panel Visibility - Editor */
/* Each inner block (core/group with vxfse-tab-panel class) represents a tab's content */
.vxfse-nested-tabs .e-n-tabs-content > .wp-block {
	display: none;
}

/* Show active tab panel based on data-active-tab attribute */
.vxfse-nested-tabs[data-active-tab="0"] .e-n-tabs-content > .wp-block:nth-child(1),
.vxfse-nested-tabs[data-active-tab="1"] .e-n-tabs-content > .wp-block:nth-child(2),
.vxfse-nested-tabs[data-active-tab="2"] .e-n-tabs-content > .wp-block:nth-child(3),
.vxfse-nested-tabs[data-active-tab="3"] .e-n-tabs-content > .wp-block:nth-child(4),
.vxfse-nested-tabs[data-active-tab="4"] .e-n-tabs-content > .wp-block:nth-child(5),
.vxfse-nested-tabs[data-active-tab="5"] .e-n-tabs-content > .wp-block:nth-child(6),
.vxfse-nested-tabs[data-active-tab="6"] .e-n-tabs-content > .wp-block:nth-child(7),
.vxfse-nested-tabs[data-active-tab="7"] .e-n-tabs-content > .wp-block:nth-child(8),
.vxfse-nested-tabs[data-active-tab="8"] .e-n-tabs-content > .wp-block:nth-child(9),
.vxfse-nested-tabs[data-active-tab="9"] .e-n-tabs-content > .wp-block:nth-child(10) {
	display: block;
}

/* Tab panel minimum height in editor for better UX */
.vxfse-nested-tabs .e-n-tabs-content > .wp-block {
	min-height: 100px;
}

/* Active tab panel styling in editor */
.vxfse-nested-tabs .e-n-tabs-content > .wp-block.is-selected,
.vxfse-nested-tabs .e-n-tabs-content > .wp-block:focus-within {
	outline: 2px solid var(--wp-admin-theme-color, #007cba);
	outline-offset: 2px;
}

/* Visibility Classes */
.vxfse-hide-desktop {
	display: none !important;
}

@media (max-width: 1024px) {
	.vxfse-hide-tablet {
		display: none !important;
	}
	.vxfse-hide-desktop {
		display: block !important;
	}
}

@media (max-width: 767px) {
	.vxfse-hide-mobile {
		display: none !important;
	}
	.vxfse-hide-tablet {
		display: block !important;
	}
}
