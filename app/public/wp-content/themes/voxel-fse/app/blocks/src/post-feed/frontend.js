(function(qe,h){"use strict";var ae,ge,q,ve;ae={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},ge=["(","?"],q={")":["("],":":["?","?:"]},ve=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;function Ve(e){for(var t=[],o=[],l,i,n,r;l=e.match(ve);){for(i=l[0],n=e.substr(0,l.index).trim(),n&&t.push(n);r=o.pop();){if(q[i]){if(q[i][0]===r){i=q[i][1]||i;break}}else if(ge.indexOf(r)>=0||ae[r]<ae[i]){o.push(r);break}t.push(r)}q[i]||o.push(i),e=e.substr(l.index+i.length)}return e=e.trim(),e&&t.push(e),t.concat(o.reverse())}var Je={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,o){if(e)throw t;return o}};function Ze(e,t){var o=[],l,i,n,r,c,v;for(l=0;l<e.length;l++){if(c=e[l],r=Je[c],r){for(i=r.length,n=Array(i);i--;)n[i]=o.pop();try{v=r.apply(null,n)}catch(a){return a}}else t.hasOwnProperty(c)?v=t[c]:v=+c;o.push(v)}return o[0]}function Qe(e){var t=Ve(e);return function(o){return Ze(t,o)}}function Ke(e){var t=Qe(e);return function(o){return+t({n:o})}}var _e={contextDelimiter:"",onMissingKey:null};function Xe(e){var t,o,l;for(t=e.split(";"),o=0;o<t.length;o++)if(l=t[o].trim(),l.indexOf("plural=")===0)return l.substr(7)}function ce(e,t){var o;this.data=e,this.pluralForms={},this.options={};for(o in _e)this.options[o]=t!==void 0&&o in t?t[o]:_e[o]}ce.prototype.getPluralForm=function(e,t){var o=this.pluralForms[e],l,i,n;return o||(l=this.data[e][""],n=l["Plural-Forms"]||l["plural-forms"]||l.plural_forms,typeof n!="function"&&(i=Xe(l["Plural-Forms"]||l["plural-forms"]||l.plural_forms),n=Ke(i)),o=this.pluralForms[e]=n),o(t)},ce.prototype.dcnpgettext=function(e,t,o,l,i){var n,r,c;return i===void 0?n=0:n=this.getPluralForm(e,i),r=o,t&&(r=t+this.options.contextDelimiter+o),c=this.data[e][r],c&&c[n]?c[n]:(this.options.onMissingKey&&this.options.onMissingKey(o,e),n===0?o:l)};var ye={"":{plural_forms(e){return e===1?0:1}}},Ye=/^i18n\.(n?gettext|has_translation)(_|$)/,eo=(e,t,o)=>{const l=new ce({}),i=new Set,n=()=>{i.forEach(p=>p())},r=p=>(i.add(p),()=>i.delete(p)),c=(p="default")=>l.data[p],v=(p,f="default")=>{l.data[f]={...l.data[f],...p},l.data[f][""]={...ye[""],...l.data[f]?.[""]},delete l.pluralForms[f]},a=(p,f)=>{v(p,f),n()},P=(p,f="default")=>{l.data[f]={...l.data[f],...p,"":{...ye[""],...l.data[f]?.[""],...p?.[""]}},delete l.pluralForms[f],n()},C=(p,f)=>{l.data={},l.pluralForms={},a(p,f)},s=(p="default",f,y,k,_)=>(l.data[p]||v(void 0,p),l.dcnpgettext(p,f,y,k,_)),T=p=>p||"default",G=(p,f)=>{let y=s(f,void 0,p);return o?(y=o.applyFilters("i18n.gettext",y,p,f),o.applyFilters("i18n.gettext_"+T(f),y,p,f)):y},L=(p,f,y)=>{let k=s(y,f,p);return o?(k=o.applyFilters("i18n.gettext_with_context",k,p,f,y),o.applyFilters("i18n.gettext_with_context_"+T(y),k,p,f,y)):k},F=(p,f,y,k)=>{let _=s(k,void 0,p,f,y);return o?(_=o.applyFilters("i18n.ngettext",_,p,f,y,k),o.applyFilters("i18n.ngettext_"+T(k),_,p,f,y,k)):_},J=(p,f,y,k,_)=>{let D=s(_,k,p,f,y);return o?(D=o.applyFilters("i18n.ngettext_with_context",D,p,f,y,k,_),o.applyFilters("i18n.ngettext_with_context_"+T(_),D,p,f,y,k,_)):D},fe=()=>L("ltr","text direction")==="rtl",le=(p,f,y)=>{const k=f?f+""+p:p;let _=!!l.data?.[y??"default"]?.[k];return o&&(_=o.applyFilters("i18n.has_translation",_,p,f,y),_=o.applyFilters("i18n.has_translation_"+T(y),_,p,f,y)),_};if(o){const p=f=>{Ye.test(f)&&n()};o.addAction("hookAdded","core/i18n",p),o.addAction("hookRemoved","core/i18n",p)}return{getLocaleData:c,setLocaleData:a,addLocaleData:P,resetLocaleData:C,subscribe:r,__:G,_x:L,_n:F,_nx:J,isRTL:fe,hasTranslation:le}};function oo(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var $e=oo;function no(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var de=no;function to(e,t){return function(l,i,n,r=10){const c=e[t];if(!de(l)||!$e(i))return;if(typeof n!="function"){console.error("The hook callback must be a function.");return}if(typeof r!="number"){console.error("If specified, the hook priority must be a number.");return}const v={callback:n,priority:r,namespace:i};if(c[l]){const a=c[l].handlers;let P;for(P=a.length;P>0&&!(r>=a[P-1].priority);P--);P===a.length?a[P]=v:a.splice(P,0,v),c.__current.forEach(C=>{C.name===l&&C.currentIndex>=P&&C.currentIndex++})}else c[l]={handlers:[v],runs:0};l!=="hookAdded"&&e.doAction("hookAdded",l,i,n,r)}}var Ie=to;function lo(e,t,o=!1){return function(i,n){const r=e[t];if(!de(i)||!o&&!$e(n))return;if(!r[i])return 0;let c=0;if(o)c=r[i].handlers.length,r[i]={runs:r[i].runs,handlers:[]};else{const v=r[i].handlers;for(let a=v.length-1;a>=0;a--)v[a].namespace===n&&(v.splice(a,1),c++,r.__current.forEach(P=>{P.name===i&&P.currentIndex>=a&&P.currentIndex--}))}return i!=="hookRemoved"&&e.doAction("hookRemoved",i,n),c}}var ee=lo;function io(e,t){return function(l,i){const n=e[t];return typeof i<"u"?l in n&&n[l].handlers.some(r=>r.namespace===i):l in n}}var Se=io;function so(e,t,o,l){return function(n,...r){const c=e[t];c[n]||(c[n]={handlers:[],runs:0}),c[n].runs++;const v=c[n].handlers;if(!v||!v.length)return o?r[0]:void 0;const a={name:n,currentIndex:0};async function P(){try{c.__current.add(a);let s=o?r[0]:void 0;for(;a.currentIndex<v.length;)s=await v[a.currentIndex].callback.apply(null,r),o&&(r[0]=s),a.currentIndex++;return o?s:void 0}finally{c.__current.delete(a)}}function C(){try{c.__current.add(a);let s=o?r[0]:void 0;for(;a.currentIndex<v.length;)s=v[a.currentIndex].callback.apply(null,r),o&&(r[0]=s),a.currentIndex++;return o?s:void 0}finally{c.__current.delete(a)}}return(l?P:C)()}}var oe=so;function ro(e,t){return function(){const l=e[t];return Array.from(l.__current).at(-1)?.name??null}}var xe=ro;function ao(e,t){return function(l){const i=e[t];return typeof l>"u"?i.__current.size>0:Array.from(i.__current).some(n=>n.name===l)}}var Ce=ao;function co(e,t){return function(l){const i=e[t];if(de(l))return i[l]&&i[l].runs?i[l].runs:0}}var ke=co,po=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=Ie(this,"actions"),this.addFilter=Ie(this,"filters"),this.removeAction=ee(this,"actions"),this.removeFilter=ee(this,"filters"),this.hasAction=Se(this,"actions"),this.hasFilter=Se(this,"filters"),this.removeAllActions=ee(this,"actions",!0),this.removeAllFilters=ee(this,"filters",!0),this.doAction=oe(this,"actions",!1,!1),this.doActionAsync=oe(this,"actions",!1,!0),this.applyFilters=oe(this,"filters",!0,!1),this.applyFiltersAsync=oe(this,"filters",!0,!0),this.currentAction=xe(this,"actions"),this.currentFilter=xe(this,"filters"),this.doingAction=Ce(this,"actions"),this.doingFilter=Ce(this,"filters"),this.didAction=ke(this,"actions"),this.didFilter=ke(this,"filters")}};function fo(){return new po}var uo=fo,Pe=uo(),{addAction:wo,addFilter:Ao,removeAction:No,removeFilter:Eo,hasAction:zo,hasFilter:Ho,removeAllActions:Bo,removeAllFilters:Lo,doAction:Fo,doActionAsync:Mo,applyFilters:Go,applyFiltersAsync:Do,currentAction:Wo,currentFilter:Oo,doingAction:jo,doingFilter:bo,didAction:Uo,didFilter:qo,actions:Vo,filters:Jo}=Pe,R=eo(void 0,void 0,Pe);R.getLocaleData.bind(R),R.setLocaleData.bind(R),R.resetLocaleData.bind(R),R.subscribe.bind(R);var z=R.__.bind(R);R._x.bind(R),R._n.bind(R),R._nx.bind(R),R.isRTL.bind(R),R.hasTranslation.bind(R);function ne(e){if(!e)return"";const t=[];if(e.fontFamily&&t.push(`font-family: ${e.fontFamily};`),e.fontSize!==void 0){const o=e.fontSizeUnit||"px";t.push(`font-size: ${e.fontSize}${o};`)}if(e.fontWeight&&t.push(`font-weight: ${e.fontWeight};`),e.fontStyle&&e.fontStyle!=="default"&&t.push(`font-style: ${e.fontStyle};`),e.textDecoration&&e.textDecoration!=="none"&&t.push(`text-decoration: ${e.textDecoration};`),e.lineHeight!==void 0){const o=e.lineHeightUnit||"";t.push(`line-height: ${e.lineHeight}${o};`)}if(e.letterSpacing!==void 0){const o=e.letterSpacingUnit||"px";t.push(`letter-spacing: ${e.letterSpacing}${o};`)}if(e.wordSpacing!==void 0){const o=e.wordSpacingUnit||"px";t.push(`word-spacing: ${e.wordSpacing}${o};`)}return e.textTransform&&e.textTransform!=="none"&&t.push(`text-transform: ${e.textTransform};`),t.join(" ")}function te(e){return e?!!(e.fontFamily||e.fontSize!==void 0||e.fontWeight||e.fontStyle&&e.fontStyle!=="default"||e.textDecoration&&e.textDecoration!=="none"||e.lineHeight!==void 0||e.letterSpacing!==void 0||e.wordSpacing!==void 0||e.textTransform&&e.textTransform!=="none"):!1}function pe(e,t){if(!e)return"";const o=e.top!==void 0&&e.top!==""?e.top:void 0,l=e.right!==void 0&&e.right!==""?e.right:void 0,i=e.bottom!==void 0&&e.bottom!==""?e.bottom:void 0,n=e.left!==void 0&&e.left!==""?e.left:void 0;if(o===void 0&&l===void 0&&i===void 0&&n===void 0)return"";const r=[];return o!==void 0&&r.push(`${t}-top: ${o};`),l!==void 0&&r.push(`${t}-right: ${l};`),i!==void 0&&r.push(`${t}-bottom: ${i};`),n!==void 0&&r.push(`${t}-left: ${n};`),r.join(" ")}function mo(e,t){const o=[],l=[],i=[],n=`[data-block-id="${t}"]`;if(o.push(`${n} { position: relative; max-width: 100%; min-width: 0; overflow: hidden; }`),te(e.counterTypography)){const a=ne(e.counterTypography);a&&o.push(`${n} .result-count { ${a} }`)}if(e.counterTextColor&&o.push(`${n} .result-count { color: ${e.counterTextColor}; }`),e.counterBottomSpacing!==void 0&&o.push(`${n} .post-feed-header { margin-bottom: ${e.counterBottomSpacing}px; }`),e.counterBottomSpacing_tablet!==void 0&&l.push(`${n} .post-feed-header { margin-bottom: ${e.counterBottomSpacing_tablet}px; }`),e.counterBottomSpacing_mobile!==void 0&&i.push(`${n} .post-feed-header { margin-bottom: ${e.counterBottomSpacing_mobile}px; }`),te(e.orderByTypography)){const a=ne(e.orderByTypography);a&&o.push(`${n} .vxf-sort { ${a} }`)}if(e.orderByTextColor&&o.push(`${n} .vxf-sort { --ts-shade-3: ${e.orderByTextColor}; }`),e.orderByTextColorHover&&o.push(`${n} .vxf-sort { --ts-shade-2: ${e.orderByTextColorHover}; }`),e.noResultsContentGap!==void 0&&o.push(`${n} .ts-no-posts { gap: ${e.noResultsContentGap}px; }`),e.noResultsContentGap_tablet!==void 0&&l.push(`${n} .ts-no-posts { gap: ${e.noResultsContentGap_tablet}px; }`),e.noResultsContentGap_mobile!==void 0&&i.push(`${n} .ts-no-posts { gap: ${e.noResultsContentGap_mobile}px; }`),e.noResultsIconSize!==void 0&&o.push(`${n} .ts-no-posts > svg, ${n} .ts-no-posts > i { --ts-icon-size: ${e.noResultsIconSize}px; width: ${e.noResultsIconSize}px; height: ${e.noResultsIconSize}px; font-size: ${e.noResultsIconSize}px; }`),e.noResultsIconSize_tablet!==void 0&&l.push(`${n} .ts-no-posts > svg, ${n} .ts-no-posts > i { --ts-icon-size: ${e.noResultsIconSize_tablet}px; width: ${e.noResultsIconSize_tablet}px; height: ${e.noResultsIconSize_tablet}px; font-size: ${e.noResultsIconSize_tablet}px; }`),e.noResultsIconSize_mobile!==void 0&&i.push(`${n} .ts-no-posts > svg, ${n} .ts-no-posts > i { --ts-icon-size: ${e.noResultsIconSize_mobile}px; width: ${e.noResultsIconSize_mobile}px; height: ${e.noResultsIconSize_mobile}px; font-size: ${e.noResultsIconSize_mobile}px; }`),e.noResultsIconColor&&o.push(`${n} .ts-no-posts > svg, ${n} .ts-no-posts > i { --ts-icon-color: ${e.noResultsIconColor}; color: ${e.noResultsIconColor}; fill: ${e.noResultsIconColor}; }`),te(e.noResultsTypography)){const a=ne(e.noResultsTypography);a&&o.push(`${n} .ts-no-posts p { ${a} }`)}if(e.noResultsTextColor&&o.push(`${n} .ts-no-posts p { color: ${e.noResultsTextColor}; }`),e.noResultsLinkColor&&o.push(`${n} .ts-no-posts a { color: ${e.noResultsLinkColor}; }`),e.paginationTopMargin!==void 0&&o.push(`${n} .feed-pagination { margin-top: ${e.paginationTopMargin}px; }`),e.paginationTopMargin_tablet!==void 0&&l.push(`${n} .feed-pagination { margin-top: ${e.paginationTopMargin_tablet}px; }`),e.paginationTopMargin_mobile!==void 0&&i.push(`${n} .feed-pagination { margin-top: ${e.paginationTopMargin_mobile}px; }`),te(e.paginationTypography)){const a=ne(e.paginationTypography);a&&o.push(`${n} .feed-pagination .ts-btn { ${a} }`)}if(e.paginationPadding){const a=pe(e.paginationPadding,"padding");a&&o.push(`${n} .feed-pagination .ts-btn { ${a} }`)}if(e.paginationHeight!==void 0&&o.push(`${n} .feed-pagination .ts-btn { height: ${e.paginationHeight}px; }`),e.paginationHeight_tablet!==void 0&&l.push(`${n} .feed-pagination .ts-btn { height: ${e.paginationHeight_tablet}px; }`),e.paginationHeight_mobile!==void 0&&i.push(`${n} .feed-pagination .ts-btn { height: ${e.paginationHeight_mobile}px; }`),e.paginationWidth!==void 0&&e.paginationWidth>0){const a=e.paginationWidthUnit||"%";o.push(`${n} .feed-pagination .ts-btn { width: ${e.paginationWidth}${a}; }`)}else e.paginationWidth;e.paginationIconTextSpacing!==void 0&&o.push(`${n} .feed-pagination .ts-btn { gap: ${e.paginationIconTextSpacing}px; }`);const r=e.paginationBorder||{};if(r.borderType&&r.borderType!=="none"&&r.borderType!==""){o.push(`${n} .feed-pagination .ts-btn { border-style: ${r.borderType}; }`);const a=pe(r.borderWidth,"border-width");o.push(`${n} .feed-pagination .ts-btn { ${a||"border-width: 1px;"} }`),r.borderColor&&o.push(`${n} .feed-pagination .ts-btn { border-color: ${r.borderColor}; }`)}e.paginationJustify&&o.push(`${n} .feed-pagination { justify-content: ${e.paginationJustify}; }`),e.paginationSpacing!==void 0&&o.push(`${n} .feed-pagination { gap: ${e.paginationSpacing}px; }`),e.paginationSpacing_tablet!==void 0&&l.push(`${n} .feed-pagination { gap: ${e.paginationSpacing_tablet}px; }`),e.paginationSpacing_mobile!==void 0&&i.push(`${n} .feed-pagination { gap: ${e.paginationSpacing_mobile}px; }`),e.paginationBorderRadius!==void 0&&o.push(`${n} .feed-pagination .ts-btn { border-radius: ${e.paginationBorderRadius}px; }`),e.paginationBorderRadius_tablet!==void 0&&l.push(`${n} .feed-pagination .ts-btn { border-radius: ${e.paginationBorderRadius_tablet}px; }`),e.paginationBorderRadius_mobile!==void 0&&i.push(`${n} .feed-pagination .ts-btn { border-radius: ${e.paginationBorderRadius_mobile}px; }`),e.paginationTextColor&&o.push(`${n} .feed-pagination .ts-btn { color: ${e.paginationTextColor}; }`),e.paginationBackgroundColor&&o.push(`${n} .feed-pagination .ts-btn { background-color: ${e.paginationBackgroundColor}; }`),e.paginationIconSize!==void 0&&o.push(`${n} .feed-pagination .ts-btn svg, ${n} .feed-pagination .ts-btn i { --ts-icon-size: ${e.paginationIconSize}px; width: ${e.paginationIconSize}px; height: ${e.paginationIconSize}px; font-size: ${e.paginationIconSize}px; }`),e.paginationIconSize_tablet!==void 0&&l.push(`${n} .feed-pagination .ts-btn svg, ${n} .feed-pagination .ts-btn i { --ts-icon-size: ${e.paginationIconSize_tablet}px; width: ${e.paginationIconSize_tablet}px; height: ${e.paginationIconSize_tablet}px; font-size: ${e.paginationIconSize_tablet}px; }`),e.paginationIconSize_mobile!==void 0&&i.push(`${n} .feed-pagination .ts-btn svg, ${n} .feed-pagination .ts-btn i { --ts-icon-size: ${e.paginationIconSize_mobile}px; width: ${e.paginationIconSize_mobile}px; height: ${e.paginationIconSize_mobile}px; font-size: ${e.paginationIconSize_mobile}px; }`),e.paginationIconColor&&o.push(`${n} .feed-pagination .ts-btn svg, ${n} .feed-pagination .ts-btn i { --ts-icon-color: ${e.paginationIconColor}; color: ${e.paginationIconColor}; fill: ${e.paginationIconColor}; }`),e.paginationTextColorHover&&o.push(`${n} .feed-pagination .ts-btn:hover { color: ${e.paginationTextColorHover}; }`),e.paginationBackgroundColorHover&&o.push(`${n} .feed-pagination .ts-btn:hover { background-color: ${e.paginationBackgroundColorHover}; }`),e.paginationBorderColorHover&&o.push(`${n} .feed-pagination .ts-btn:hover { border-color: ${e.paginationBorderColorHover}; }`),e.paginationIconColorHover&&o.push(`${n} .feed-pagination .ts-btn:hover svg, ${n} .feed-pagination .ts-btn:hover i { --ts-icon-color: ${e.paginationIconColorHover}; color: ${e.paginationIconColorHover}; fill: ${e.paginationIconColorHover}; }`),e.carouselNavHorizontalPosition!==void 0&&(o.push(`${n} .post-feed-nav .ts-prev-page { left: ${e.carouselNavHorizontalPosition}px; }`),o.push(`${n} .post-feed-nav .ts-next-page { right: ${e.carouselNavHorizontalPosition}px; }`)),e.carouselNavHorizontalPosition_tablet!==void 0&&(l.push(`${n} .post-feed-nav .ts-prev-page { left: ${e.carouselNavHorizontalPosition_tablet}px; }`),l.push(`${n} .post-feed-nav .ts-next-page { right: ${e.carouselNavHorizontalPosition_tablet}px; }`)),e.carouselNavHorizontalPosition_mobile!==void 0&&(i.push(`${n} .post-feed-nav .ts-prev-page { left: ${e.carouselNavHorizontalPosition_mobile}px; }`),i.push(`${n} .post-feed-nav .ts-next-page { right: ${e.carouselNavHorizontalPosition_mobile}px; }`)),e.carouselNavVerticalPosition!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn { top: ${e.carouselNavVerticalPosition}%; transform: translateY(-50%); }`),e.carouselNavVerticalPosition_tablet!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn { top: ${e.carouselNavVerticalPosition_tablet}%; transform: translateY(-50%); }`),e.carouselNavVerticalPosition_mobile!==void 0&&i.push(`${n} .post-feed-nav .ts-icon-btn { top: ${e.carouselNavVerticalPosition_mobile}%; transform: translateY(-50%); }`),e.carouselNavIconColor&&o.push(`${n} .post-feed-nav .ts-icon-btn svg, ${n} .post-feed-nav .ts-icon-btn i { --ts-icon-color: ${e.carouselNavIconColor}; color: ${e.carouselNavIconColor}; fill: ${e.carouselNavIconColor}; }`),e.carouselNavButtonSize!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn { width: ${e.carouselNavButtonSize}px; height: ${e.carouselNavButtonSize}px; }`),e.carouselNavButtonSize_tablet!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn { width: ${e.carouselNavButtonSize_tablet}px; height: ${e.carouselNavButtonSize_tablet}px; }`),e.carouselNavButtonSize_mobile!==void 0&&i.push(`${n} .post-feed-nav .ts-icon-btn { width: ${e.carouselNavButtonSize_mobile}px; height: ${e.carouselNavButtonSize_mobile}px; }`),e.carouselNavIconSize!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn svg, ${n} .post-feed-nav .ts-icon-btn i { --ts-icon-size: ${e.carouselNavIconSize}px; width: ${e.carouselNavIconSize}px; height: ${e.carouselNavIconSize}px; font-size: ${e.carouselNavIconSize}px; }`),e.carouselNavIconSize_tablet!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn svg, ${n} .post-feed-nav .ts-icon-btn i { --ts-icon-size: ${e.carouselNavIconSize_tablet}px; width: ${e.carouselNavIconSize_tablet}px; height: ${e.carouselNavIconSize_tablet}px; font-size: ${e.carouselNavIconSize_tablet}px; }`),e.carouselNavIconSize_mobile!==void 0&&i.push(`${n} .post-feed-nav .ts-icon-btn svg, ${n} .post-feed-nav .ts-icon-btn i { --ts-icon-size: ${e.carouselNavIconSize_mobile}px; width: ${e.carouselNavIconSize_mobile}px; height: ${e.carouselNavIconSize_mobile}px; font-size: ${e.carouselNavIconSize_mobile}px; }`),e.carouselNavBackground&&o.push(`${n} .post-feed-nav .ts-icon-btn { background-color: ${e.carouselNavBackground}; }`),e.carouselNavBackdropBlur!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.carouselNavBackdropBlur}px); -webkit-backdrop-filter: blur(${e.carouselNavBackdropBlur}px); }`);const c=e.carouselNavBorder||{};if(c.borderType&&c.borderType!=="none"&&c.borderType!==""){o.push(`${n} .post-feed-nav .ts-icon-btn { border-style: ${c.borderType}; }`);const a=pe(c.borderWidth,"border-width");o.push(`${n} .post-feed-nav .ts-icon-btn { ${a||"border-width: 1px;"} }`),c.borderColor&&o.push(`${n} .post-feed-nav .ts-icon-btn { border-color: ${c.borderColor}; }`)}if(e.carouselNavBorderRadius!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn { border-radius: ${e.carouselNavBorderRadius}px; }`),e.carouselNavBorderRadius_tablet!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn { border-radius: ${e.carouselNavBorderRadius_tablet}px; }`),e.carouselNavBorderRadius_mobile!==void 0&&i.push(`${n} .post-feed-nav .ts-icon-btn { border-radius: ${e.carouselNavBorderRadius_mobile}px; }`),e.carouselNavButtonSizeHover!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover { width: ${e.carouselNavButtonSizeHover}px; height: ${e.carouselNavButtonSizeHover}px; }`),e.carouselNavButtonSizeHover_tablet!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn:hover { width: ${e.carouselNavButtonSizeHover_tablet}px; height: ${e.carouselNavButtonSizeHover_tablet}px; }`),e.carouselNavButtonSizeHover_mobile!==void 0&&i.push(`${n} .post-feed-nav .ts-icon-btn:hover { width: ${e.carouselNavButtonSizeHover_mobile}px; height: ${e.carouselNavButtonSizeHover_mobile}px; }`),e.carouselNavIconSizeHover!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover svg, ${n} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-size: ${e.carouselNavIconSizeHover}px; width: ${e.carouselNavIconSizeHover}px; height: ${e.carouselNavIconSizeHover}px; font-size: ${e.carouselNavIconSizeHover}px; }`),e.carouselNavIconSizeHover_tablet!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn:hover svg, ${n} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-size: ${e.carouselNavIconSizeHover_tablet}px; width: ${e.carouselNavIconSizeHover_tablet}px; height: ${e.carouselNavIconSizeHover_tablet}px; font-size: ${e.carouselNavIconSizeHover_tablet}px; }`),e.carouselNavIconSizeHover_mobile!==void 0&&i.push(`${n} .post-feed-nav .ts-icon-btn:hover svg, ${n} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-size: ${e.carouselNavIconSizeHover_mobile}px; width: ${e.carouselNavIconSizeHover_mobile}px; height: ${e.carouselNavIconSizeHover_mobile}px; font-size: ${e.carouselNavIconSizeHover_mobile}px; }`),e.carouselNavIconColorHover&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover svg, ${n} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-color: ${e.carouselNavIconColorHover}; color: ${e.carouselNavIconColorHover}; fill: ${e.carouselNavIconColorHover}; }`),e.carouselNavBackgroundHover&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover { background-color: ${e.carouselNavBackgroundHover}; }`),e.carouselNavBorderColorHover&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover { border-color: ${e.carouselNavBorderColorHover}; }`),e.loadingStyle==="opacity"&&e.loadingOpacity!==void 0&&o.push(`${n}.vx-loading .post-feed-grid.vx-opacity { opacity: ${e.loadingOpacity}; }`),e.loadingStyle==="skeleton"){o.push(`${n}.vx-loading .post-feed-grid.vx-skeleton .ts-preview > div { opacity: 0; }`);const a=`${n}.vx-loading .post-feed-grid.vx-skeleton .ts-preview`;if((e.skeletonBackgroundType||"classic")==="gradient"){const C=e.skeletonGradientColor||"#000000",s=e.skeletonGradientLocation??0,T=e.skeletonGradientSecondColor||"#ffffff",G=e.skeletonGradientSecondLocation??100;let L;e.skeletonGradientType==="radial"?L=`radial-gradient(at ${e.skeletonGradientPosition||"center center"}, ${C} ${s}%, ${T} ${G}%)`:L=`linear-gradient(${e.skeletonGradientAngle??180}deg, ${C} ${s}%, ${T} ${G}%)`,o.push(`${a} { background-image: ${L}; background-repeat: no-repeat; background-size: cover; }`)}else{const C=[];e.skeletonBackgroundColor&&C.push(`background-color: ${e.skeletonBackgroundColor};`),e.skeletonBackgroundImage?.url&&(C.push(`background-image: url(${e.skeletonBackgroundImage.url});`),C.push(`background-repeat: ${e.skeletonBgImageRepeat||"no-repeat"};`),C.push(`background-size: ${e.skeletonBgImageSize||"cover"};`),e.skeletonBgImagePosition&&C.push(`background-position: ${e.skeletonBgImagePosition};`),e.skeletonBgImageAttachment&&C.push(`background-attachment: ${e.skeletonBgImageAttachment};`)),C.length>0&&o.push(`${a} { ${C.join(" ")} }`)}}let v=o.join(`
`);return l.length>0&&(v+=`
@media (max-width: 1024px) {
${l.join(`
`)}
}`),i.length>0&&(v+=`
@media (max-width: 767px) {
${i.join(`
`)}
}`),v}function ho({text:e,icon:t="î —",className:o="",style:l={}}){return typeof window<"u"&&!window.wp?.blockEditor?null:h.createElement("div",{className:`voxel-empty-placeholder ${o}`,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e?"8px":"0",background:"rgb(213 216 220 / 80%)",borderRadius:"0",color:"#666",fontSize:"13px",height:"100%",minHeight:"45px",width:"100%",boxSizing:"border-box",...l}},h.createElement("span",{className:"placeholder-icon",style:{fontFamily:"eicons",fontSize:"24px",opacity:.3,lineHeight:1,fontStyle:"normal"}},t),e&&h.createElement("span",{className:"placeholder-text",style:{opacity:.6}},e))}function go({variant:e="inline",className:t="",ariaLabel:o="Loading",text:l,ref:i}){return e==="inline"?React.createElement("span",{ref:i,className:`ts-loader ${t}`,role:"status","aria-label":o}):e==="centered"?React.createElement("div",{className:`ts-no-posts ${t}`},React.createElement("span",{ref:i,className:"ts-loader",role:"status","aria-label":o}),l&&React.createElement("p",null,l)):e==="fullpage"?React.createElement("div",{className:`vx-loading-screen ${t}`},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{ref:i,className:"ts-loader",role:"status","aria-label":o}))):e==="button"?React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{ref:i,className:"ts-loader",role:"status","aria-label":o}),l&&React.createElement("span",null,l)):React.createElement("span",{ref:i,className:`ts-loader ${t}`,role:"status","aria-label":o})}const H={loadMore:'<svg fill="none" viewBox="0 0 25 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z" fill="currentColor"/><path d="M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z" fill="currentColor"/></svg>',noResults:'<svg viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z" fill="currentColor"/></svg>',leftArrow:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 12H5m0 0l7 7m-7-7l7-7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',rightArrow:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5 12h14m0 0l-7-7m7 7l-7 7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',leftChevron:'<svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.746 6.00002C10.746 5.69663 10.5632 5.42312 10.2829 5.30707C10.0026 5.19101 9.67996 5.25526 9.4655 5.46986L3.51254 11.4266C3.35184 11.5642 3.25 11.7685 3.25 11.9966V11.9982C3.24959 12.1906 3.32276 12.3831 3.46949 12.53L9.46548 18.5302C9.67994 18.7448 10.0026 18.809 10.2829 18.693C10.5632 18.5769 10.746 18.3034 10.746 18L10.746 12.7466L20.0014 12.7466C20.4156 12.7466 20.7514 12.4108 20.7514 11.9966C20.7514 11.5824 20.4156 11.2466 20.0014 11.2466L10.746 11.2466V6.00002Z" fill="#343C54"/></svg>',rightChevron:'<svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.5359 5.46986C14.3214 5.25526 13.9988 5.19101 13.7185 5.30707C13.4382 5.42312 13.2554 5.69663 13.2554 6.00002V11.2466L4 11.2466C3.58579 11.2466 3.25 11.5824 3.25 11.9966C3.25 12.4108 3.58579 12.7466 4 12.7466L13.2554 12.7466V18C13.2554 18.3034 13.4382 18.5769 13.7185 18.693C13.9988 18.809 14.3214 18.7448 14.5359 18.5302L20.5319 12.53C20.6786 12.3831 20.7518 12.1905 20.7514 11.9981L20.7514 11.9966C20.7514 11.7685 20.6495 11.5642 20.4888 11.4266L14.5359 5.46986Z" fill="#343C54"/></svg>'};function Re(e){let t=document.getElementById("vx-assets-cache");t||(t=document.createElement("div"),t.id="vx-assets-cache",t.style.display="none",document.body.appendChild(t));const o=[];return e.querySelectorAll('link[rel="stylesheet"]').forEach(l=>{if(l.id&&!document.querySelector(`#vx-assets-cache #${CSS.escape(l.id)}`)){const n=l.cloneNode(!0);t.appendChild(n),o.push(new Promise(r=>{n.onload=()=>r(),n.onerror=()=>r()}))}}),Promise.all(o).then(()=>{})}function vo(e){let t=document.getElementById("vx-assets-cache");t||(t=document.createElement("div"),t.id="vx-assets-cache",t.style.display="none",document.body.appendChild(t)),e.querySelectorAll('script[type="text/javascript"]').forEach(o=>{o.id&&(document.querySelectorAll(`script[id="${CSS.escape(o.id)}"]`).length>=2?o.remove():t.appendChild(o))})}function B(e,t){return!e||!e.value?t:e.library==="svg"?e.value:`<i class="${e.value}"></i>`}function _o(e){if(!e||!e.trim())return[];const o=new DOMParser().parseFromString(`<div class="parse-wrapper">${e}</div>`,"text/html"),l=o.querySelectorAll(".ts-preview");if(l.length>0)return Array.from(l).map(n=>({html:n.innerHTML,postId:n.getAttribute("data-post-id")}));const i=o.querySelector(".parse-wrapper");if(i){const n=new Set(["div","article","section","li"]),r=Array.from(i.children).filter(c=>{const v=c.tagName.toLowerCase();return n.has(v)});if(r.length>0)return r.map(c=>({html:c.outerHTML,postId:c.getAttribute("data-post-id")}))}return[]}function yo(e,t){const o=[],l=`[data-block-id="${t}"]`,i=[],n=[];if(e.layoutMode==="grid"&&(e.columns&&o.push(`${l} .post-feed-grid { grid-template-columns: repeat(${e.columns}, minmax(0, 1fr)); }`),e.columns_tablet&&i.push(`${l} .post-feed-grid { grid-template-columns: repeat(${e.columns_tablet}, minmax(0, 1fr)); }`),e.columns_mobile&&n.push(`${l} .post-feed-grid { grid-template-columns: repeat(${e.columns_mobile}, minmax(0, 1fr)); }`)),e.itemGap!==void 0&&o.push(`${l} .post-feed-grid { grid-gap: ${e.itemGap}px; }`),e.itemGap_tablet!==void 0&&i.push(`${l} .post-feed-grid { grid-gap: ${e.itemGap_tablet}px; }`),e.itemGap_mobile!==void 0&&n.push(`${l} .post-feed-grid { grid-gap: ${e.itemGap_mobile}px; }`),e.layoutMode==="carousel"){const c=e.carouselItemWidthUnit||"px";e.carouselItemWidth&&o.push(`${l} .post-feed-grid > div { width: ${e.carouselItemWidth}${c}; min-width: ${e.carouselItemWidth}${c}; }`),e.scrollPadding&&o.push(`${l} .post-feed-grid { padding: 0 ${e.scrollPadding}px; scroll-padding: ${e.scrollPadding}px; }`),e.itemPadding&&o.push(`${l} .post-feed-grid > .ts-preview { padding: ${e.itemPadding}px; }`),e.carouselItemWidth_tablet&&i.push(`${l} .post-feed-grid > div { width: ${e.carouselItemWidth_tablet}${c}; min-width: ${e.carouselItemWidth_tablet}${c}; }`),e.scrollPadding_tablet&&i.push(`${l} .post-feed-grid { padding: 0 ${e.scrollPadding_tablet}px; scroll-padding: ${e.scrollPadding_tablet}px; }`),e.itemPadding_tablet&&i.push(`${l} .post-feed-grid > .ts-preview { padding: ${e.itemPadding_tablet}px; }`),e.carouselItemWidth_mobile&&n.push(`${l} .post-feed-grid > div { width: ${e.carouselItemWidth_mobile}${c}; min-width: ${e.carouselItemWidth_mobile}${c}; }`),e.scrollPadding_mobile&&n.push(`${l} .post-feed-grid { padding: 0 ${e.scrollPadding_mobile}px; scroll-padding: ${e.scrollPadding_mobile}px; }`),e.itemPadding_mobile&&n.push(`${l} .post-feed-grid > .ts-preview { padding: ${e.itemPadding_mobile}px; }`)}let r=o.join(`
`);return i.length>0&&(r+=`
@media (max-width: 1024px) {
${i.join(`
`)}
}`),n.length>0&&(r+=`
@media (max-width: 767px) {
${n.join(`
`)}
}`),r}function $o({attributes:e,context:t,editorFilters:o,containerElement:l,initialHtml:i,initialMeta:n}){const r=h.useRef(null),c=h.useRef(null),v=h.useRef(!1),a=h.useRef(!1),P=h.useRef(0),C=t==="frontend"&&i!==null&&i!==void 0,[s,T]=h.useState(()=>C&&n?{loading:!1,page:1,results:i??"",totalCount:n.totalCount,displayCount:n.displayCount,hasPrev:n.hasPrev,hasNext:n.hasNext,hasResults:n.hasResults}:{loading:!0,page:1,results:"",totalCount:0,displayCount:"0",hasPrev:!1,hasNext:!1,hasResults:!1}),[G,L]=h.useState({}),[F,J]=h.useState(e.postType||""),fe=h.useCallback(d=>{if(t!=="editor")return;const u=d.target.closest("a");u&&!u.closest(".post-feed-nav")&&!u.closest(".feed-pagination")&&!u.closest(".ts-action-wrap")&&(d.preventDefault(),d.stopPropagation())},[t]);h.useEffect(()=>{t==="editor"&&e.postType&&e.postType!==F&&J(e.postType)},[t,e.postType,F]);const le=h.useRef(void 0);h.useEffect(()=>{if(t!=="editor"||!o)return;const d=le.current;JSON.stringify(d)!==JSON.stringify(o)&&(le.current=o,L(o),e.postType&&(async()=>{const g=new URLSearchParams({type:e.postType,pg:"1",limit:String(e.postsPerPage)});e.displayDetails&&g.set("__get_total_count","yes"),o&&typeof o=="object"&&Object.entries(o).forEach(([I,x])=>{I!=="postType"&&x!=null&&x!==""&&g.set(I,String(x))});let $=window.Voxel_Config?.home_url;if(!$){const I=window.wpApiSettings?.root;if(I)$=I.replace(/\/wp-json\/?$/,"");else{const x=window.location.pathname,w=x.indexOf("/wp-admin"),N=w>0?x.substring(0,w):"";$=window.location.origin+N}}g.set("action","search_posts");const S=`${$}/?vx=1&${g.toString()}`;try{T(Q=>({...Q,loading:!0}));const I={Accept:"text/html"},x=window.wpApiSettings?.nonce;x&&(I["X-WP-Nonce"]=x);const w=await fetch(S,{method:"GET",credentials:"same-origin",headers:I});if(!w.ok)throw new Error(`HTTP error: ${w.status}`);const N=await w.text(),O=new DOMParser().parseFromString(`<div>${N}</div>`,"text/html"),M=O.querySelector("script.info"),De=M?.getAttribute("data-has-prev")==="true",se=M?.getAttribute("data-has-next")==="true",j=M?.getAttribute("data-has-results")==="true",me=parseInt(M?.getAttribute("data-total-count")||"0",10),he=M?.getAttribute("data-display-count")||"0";await Re(O);let Z=N.replace(/<script class="info"[^>]*><\/script>/g,"");Z=Z.replace(/<link[^>]*rel="stylesheet"[^>]*>/g,""),T(Q=>({...Q,loading:!1,page:1,results:Z,totalCount:me,displayCount:he,hasPrev:De,hasNext:se,hasResults:j}))}catch(I){console.error("[PostFeedComponent] Editor filter sync fetch failed:",I),T(x=>({...x,loading:!1,hasResults:!1}))}})())},[t,o,e.postType,e.postsPerPage,e.displayDetails]);const p=`vx-${e.loadingStyle}`;h.useEffect(()=>{const d=l||c.current;d&&(s.loading?d.classList.add("vx-loading"):d.classList.remove("vx-loading"))},[s.loading,l]);const f=`post-feed-grid ts-feed-grid-default ${p} ${e.source==="search-form"?"sf-post-feed vx-event-scroll":""}`.trim(),y=yo(e,e.blockId),k=mo(e,e.blockId),_=h.useCallback(async(d=1,u=!1,m,g)=>{T($=>({...$,loading:!0})),t==="frontend"&&(window.dispatchEvent(new CustomEvent("voxel-fse:feed-loading",{detail:{sourceId:e.blockId,searchFormId:e.searchFormId}})),document.querySelector(".elementor-widget-ts-map")?.classList.add("map-pending"));try{const $=g||F||e.postType||"";if(t==="editor"&&e.source==="search-form"&&!$){T(A=>({...A,loading:!1,hasResults:!1}));return}const S=new URLSearchParams({type:$,pg:String(d),limit:String(e.postsPerPage)});e.displayDetails&&S.set("__get_total_count","yes"),e.source==="manual"&&e.manualPostIds.length>0&&S.set("post__in",e.manualPostIds.join(",")),e.excludePosts&&S.set("exclude",e.excludePosts),e.priorityFilter&&(S.set("priority_min",String(e.priorityMin||0)),S.set("priority_max",String(e.priorityMax||0))),e.offset&&e.offset>0&&S.set("offset",String(e.offset)),e.cardTemplate&&e.cardTemplate!=="main"&&S.set("__template_id",e.cardTemplate),a.current&&(S.set("__load_markers","yes"),P.current>0&&S.set("__load_additional_markers",String(P.current)));const I=m||{...e.filters,...G};I&&typeof I=="object"&&Object.entries(I).forEach(([A,E])=>{A!=="postType"&&E!=null&&E!==""&&S.set(A,String(E))});let x=window.Voxel_Config?.home_url;if(!x){const A=window.wpApiSettings?.root;if(A)x=A.replace(/\/wp-json\/?$/,"");else{const E=window.location.pathname,X=E.indexOf("/wp-admin"),Y=X>0?E.substring(0,X):"";x=window.location.origin+Y}}S.set("action","search_posts");const w=`${x}/?vx=1&${S.toString()}`,N={Accept:"text/html"},ue=window.wpApiSettings?.nonce;ue&&(N["X-WP-Nonce"]=ue);const O=await fetch(w,{method:"GET",credentials:"same-origin",headers:N});if(!O.ok)throw new Error(`HTTP error: ${O.status} ${O.statusText}`);const M=await O.text(),se=new DOMParser().parseFromString(`<div>${M}</div>`,"text/html"),j=se.querySelector("script.info"),me=j?.getAttribute("data-has-prev")==="true",he=j?.getAttribute("data-has-next")==="true",Z=j?.getAttribute("data-has-results")==="true",Q=parseInt(j?.getAttribute("data-total-count")||"0",10),Po=j?.getAttribute("data-display-count")||"0";await Re(se);let K=M.replace(/<script class="info"[^>]*><\/script>/g,"");if(!K.includes("vx:post-feed.css-css")){const A=window.Voxel_Config;A?.ajax_url&&(K=`<link rel="stylesheet" id="vx:post-feed.css-css" href="${`${A.ajax_url.replace(/\?vx=1.*$/,"")}wp-content/themes/voxel/assets/dist/post-feed.css?ver=1.7.5.2`}" type="text/css" media="all">`+K)}requestAnimationFrame(()=>{T(A=>({...A,loading:!1,page:d,results:u?A.results+K:K,totalCount:Q,displayCount:Po,hasPrev:me,hasNext:he,hasResults:Z})),t==="frontend"&&(window.dispatchEvent(new CustomEvent("voxel-fse:feed-loaded",{detail:{sourceId:e.blockId,searchFormId:e.searchFormId}})),document.querySelector(".elementor-widget-ts-map")?.classList.remove("map-pending")),setTimeout(()=>{const A=l||c.current;if(A&&vo(A),window.jQuery&&window.jQuery(document).trigger("voxel:markup-update"),document.dispatchEvent(new CustomEvent("voxel:markup-update")),t==="frontend"&&e.source==="search-form"){const E=l||c.current;if(E){const X=E.querySelectorAll(".post-feed-grid .ts-marker-wrapper > .map-marker"),Y=[];X.forEach(Ro=>{const re=Ro,We=re.dataset.position,Oe=re.dataset.postId;if(!We||!Oe)return;const[je,be]=We.split(",").map(parseFloat);if(isNaN(je)||isNaN(be))return;const Ue=re.parentElement,To=Ue?Ue.innerHTML:re.outerHTML;Y.push({postId:Oe,lat:je,lng:be,template:To})}),Y.length>0&&window.dispatchEvent(new CustomEvent("voxel-fse:post-feed-markers",{detail:{sourceBlockId:e.blockId,markers:Y},bubbles:!0}))}}},0)})}catch($){console.error("[PostFeedComponent] Failed to fetch posts:",$),$ instanceof TypeError&&(console.error("[PostFeedComponent] TypeError details - likely CORS or network issue"),console.error("[PostFeedComponent] Current location:",window.location.href),console.error("[PostFeedComponent] Target URL was:",`${window.location.origin}${window.location.pathname.includes("/wp-admin")?window.location.pathname.split("/wp-admin")[0]:""}/?vx=1`)),T(S=>({...S,loading:!1,hasResults:!1})),t==="frontend"&&(window.dispatchEvent(new CustomEvent("voxel-fse:feed-loaded",{detail:{sourceId:e.blockId,searchFormId:e.searchFormId}})),document.querySelector(".elementor-widget-ts-map")?.classList.remove("map-pending"))}},[e,t,G,F]);h.useEffect(()=>{if(t!=="frontend"||e.source!=="search-form")return;const d=u=>{const m=u;if(m.detail?.targetId!==e.blockId)return;const{postType:g,filters:$}=m.detail;m.detail.hasMapWidget!==void 0&&(a.current=m.detail.hasMapWidget),m.detail.mapAdditionalMarkers!==void 0&&(P.current=m.detail.mapAdditionalMarkers),L($),g&&J(g),_(1,!1,$,g)};return window.addEventListener("voxel-search-submit",d),()=>window.removeEventListener("voxel-search-submit",d)},[t,e.source,e.blockId,_]),h.useEffect(()=>{if(!(v.current&&t==="frontend")){if(C){v.current=!0,requestAnimationFrame(()=>{window.jQuery&&window.jQuery(document).trigger("voxel:markup-update"),document.dispatchEvent(new CustomEvent("voxel:markup-update"))});return}if(e.source!=="search-form")v.current=!0,_(1);else if(t==="editor"&&e.postType)_(1);else if(t==="frontend"&&e.source==="search-form"){document.querySelector(".voxel-fse-map")&&(a.current=!0),v.current=!0;const u=new URL(window.location.href),m=u.searchParams.get("type")||u.searchParams.get("post_type"),g={};u.searchParams.forEach((S,I)=>{if(!(I==="type"||I==="post_type"||I==="pg"||I==="page"))if(I.startsWith("filter_")){const x=I.replace("filter_","");try{g[x]=JSON.parse(S)}catch{g[x]=S}}else try{g[I]=JSON.parse(S)}catch{g[I]=S}});let $=m||e.postType;if(!$&&e.searchFormId){const S=[`#${e.searchFormId}`,`[data-id="${e.searchFormId}"]`,`.voxel-fse-search-form-${e.searchFormId}`];let I=null;for(const x of S)try{if(I=document.querySelector(x),I)break}catch{}if(I){const x=I.getAttribute("data-post-types");if(x)try{const w=JSON.parse(x);Array.isArray(w)&&w.length>0&&($=w[0])}catch(w){console.error("[PostFeed] Failed to parse data-post-types:",w)}if(!$){const w=I.querySelector("script.vxconfig");if(w?.textContent)try{const N=JSON.parse(w.textContent);N.postTypes&&N.postTypes.length>0&&($=N.postTypes[0].key)}catch(N){console.error("[PostFeed] Failed to parse Search Form vxconfig:",N)}}}}$&&(m&&J(m),Object.keys(g).length>0&&L(g),_(1,!1,Object.keys(g).length>0?g:void 0,$))}}},[t,e.source,e.postType,e.blockId,e.searchFormId]);const D=h.useRef(e.postsPerPage),we=h.useRef(e.pagination),Ae=h.useRef(e.displayDetails),Ne=h.useRef(e.cardTemplate);h.useEffect(()=>{if(t!=="editor")return;const d=D.current!==e.postsPerPage||we.current!==e.pagination||Ae.current!==e.displayDetails||Ne.current!==e.cardTemplate;D.current=e.postsPerPage,we.current=e.pagination,Ae.current=e.displayDetails,Ne.current=e.cardTemplate,d&&e.postType&&_(1)},[t,e.postsPerPage,e.pagination,e.displayDetails,e.cardTemplate,e.postType]);const Ee=h.useCallback(()=>{!s.loading&&s.hasNext&&_(s.page+1,!0)},[s.loading,s.hasNext,s.page,_]),ie=h.useCallback(()=>{const d=l||c.current;d&&d.scrollIntoView({behavior:"smooth",block:"start"})},[l]),ze=h.useCallback(()=>{!s.loading&&s.hasPrev&&(_(s.page-1),setTimeout(ie,100))},[s.loading,s.hasPrev,s.page,_,ie]),He=h.useCallback(()=>{!s.loading&&s.hasNext&&(_(s.page+1),setTimeout(ie,100))},[s.loading,s.hasNext,s.page,_,ie]),b=h.useMemo(()=>e.layoutMode!=="carousel"||!s.results?[]:_o(s.results),[e.layoutMode,s.results]),W=h.useRef(null),Be=h.useRef(null),Le=h.useRef(null);h.useEffect(()=>{if(t==="editor")return;const d=Be.current,u=Le.current;if(!d||!u)return;d.classList.add("disabled"),u.classList.add("disabled");const m=W.current;if(!m||e.layoutMode!=="carousel")return;const g=()=>{!m||m.clientWidth<1||m.scrollWidth>m.clientWidth&&(d.classList.remove("disabled"),u.classList.remove("disabled"))};requestAnimationFrame(g);let $=null;return typeof ResizeObserver<"u"&&($=new ResizeObserver(()=>{requestAnimationFrame(g)}),$.observe(m)),window.addEventListener("resize",g),()=>{$?.disconnect(),window.removeEventListener("resize",g)}},[b.length,t,e.layoutMode,e.carouselItemWidth,e.itemGap,e.scrollPadding]);const U=h.useCallback(d=>{const u=W.current;if(!u)return;const m=u.querySelector(".ts-preview");if(!m)return;let g;d==="next"?(g=m.scrollWidth,u.clientWidth+Math.abs(u.scrollLeft)+10>=u.scrollWidth&&(g=-u.scrollLeft)):(g=-m.scrollWidth,Math.abs(u.scrollLeft)<=10&&(g=u.scrollWidth-u.clientWidth-u.scrollLeft)),u.scrollBy({left:g,behavior:"smooth"})},[]),Co=h.useCallback(d=>{d.preventDefault(),U("prev")},[U]),ko=h.useCallback(d=>{d.preventDefault(),U("next")},[U]);h.useEffect(()=>{if(!e.carouselAutoSlide||e.layoutMode!=="carousel")return;const d=e.carouselAutoSlideInterval||3e3;if(d<20)return;let u=!1;const m=W.current?.closest(".voxel-fse-post-feed-frontend")||W.current?.closest(".ts-post-feed"),g=()=>{u=!0},$=()=>{u=!1};m?.addEventListener("mouseenter",g),m?.addEventListener("mouseleave",$);const S=setInterval(()=>{!u&&W.current&&U("next")},d);return()=>{clearInterval(S),m?.removeEventListener("mouseenter",g),m?.removeEventListener("mouseleave",$)}},[e.carouselAutoSlide,e.carouselAutoSlideInterval,e.layoutMode,U]);const Fe={blockId:e.blockId,source:e.source,searchFormId:e.searchFormId,postType:e.postType,manualPostIds:e.manualPostIds,filters:e.filters,excludePosts:e.excludePosts||"",priorityFilter:e.priorityFilter||!1,priorityMin:e.priorityMin||0,priorityMax:e.priorityMax||0,offset:e.offset||0,cardTemplate:e.cardTemplate||"main",pagination:e.pagination,postsPerPage:e.postsPerPage,displayDetails:e.displayDetails,noResultsLabel:e.noResultsLabel,layoutMode:e.layoutMode,columns:e.columns,columns_tablet:e.columns_tablet,columns_mobile:e.columns_mobile,itemGap:e.itemGap,itemGap_tablet:e.itemGap_tablet,itemGap_mobile:e.itemGap_mobile,carouselItemWidth:e.carouselItemWidth,carouselItemWidth_tablet:e.carouselItemWidth_tablet,carouselItemWidth_mobile:e.carouselItemWidth_mobile,carouselItemWidthUnit:e.carouselItemWidthUnit,carouselAutoSlide:e.carouselAutoSlide,scrollPadding:e.scrollPadding,scrollPadding_tablet:e.scrollPadding_tablet,scrollPadding_mobile:e.scrollPadding_mobile,itemPadding:e.itemPadding,itemPadding_tablet:e.itemPadding_tablet,itemPadding_mobile:e.itemPadding_mobile,loadingStyle:e.loadingStyle,loadingOpacity:e.loadingOpacity,icons:{loadMore:e.loadMoreIcon,noResults:e.noResultsIcon,rightArrow:e.rightArrowIcon,leftArrow:e.leftArrowIcon,rightChevron:e.rightChevronIcon,leftChevron:e.leftChevronIcon,reset:e.resetIcon}},Me=`post-feed-grid ts-feed-nowrap min-scroll min-scroll-h ${p} vx-event-autoslide vx-event-scroll`.trim(),Ge=e.layoutMode==="carousel"&&b.length>0?React.createElement("ul",{className:"simplify-ul flexify post-feed-nav"},React.createElement("li",null,React.createElement("a",{ref:Be,href:"#",className:"ts-icon-btn ts-prev-page","aria-label":z("Previous","voxel-fse"),onClick:Co},React.createElement("span",{dangerouslySetInnerHTML:{__html:B(e.leftChevronIcon,H.leftChevron)}}))),React.createElement("li",null,React.createElement("a",{ref:Le,href:"#",className:"ts-icon-btn ts-next-page","aria-label":z("Next","voxel-fse"),onClick:ko},React.createElement("span",{dangerouslySetInnerHTML:{__html:B(e.rightChevronIcon,H.rightChevron)}})))):null;if(t==="editor"){const d=!e.postType&&!s.loading&&!s.results,u=s.loading&&e.postType;return React.createElement("div",{ref:c,className:`ts-post-feed ${s.loading?"vx-loading":""}`,"data-block-id":e.blockId,onClickCapture:fe},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(Fe)}}),y&&React.createElement("style",{dangerouslySetInnerHTML:{__html:y}}),k&&React.createElement("style",{dangerouslySetInnerHTML:{__html:k}}),e.displayDetails&&React.createElement("div",{className:"post-feed-header flexify"},React.createElement("span",{className:`result-count ${!s.hasResults||s.totalCount===0,""}`},s.hasResults?s.displayCount:z("Showing results","voxel-fse"))),!d&&!u&&s.results?e.layoutMode==="carousel"&&b.length>0?React.createElement("div",{ref:W,className:Me,"data-auto-slide":e.carouselAutoSlide?String(e.carouselAutoSlideInterval||3e3):"0"},b.map((m,g)=>React.createElement("div",{key:g,className:"ts-preview","data-post-id":m.postId||void 0,dangerouslySetInnerHTML:{__html:m.html}}))):React.createElement("div",{ref:r,className:f,dangerouslySetInnerHTML:{__html:s.results}}):d?React.createElement("div",{ref:r,className:f},React.createElement(ho,null)):null,u&&React.createElement("div",{className:"ts-no-posts"},React.createElement(go,{variant:"inline",ariaLabel:"Loading posts..."})),React.createElement("div",{className:`ts-no-posts ${d||u||s.hasResults?"hidden":""}`,dangerouslySetInnerHTML:{__html:`${B(e.noResultsIcon,H.noResults)}<p>${e.noResultsLabel}</p>`}}),e.pagination!=="none"&&React.createElement("div",{className:"feed-pagination flexify"},e.pagination==="prev_next"&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large ts-load-prev ${s.hasPrev?"":"disabled"}`,onClick:m=>{m.preventDefault(),ze()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:B(e.leftArrowIcon,H.leftArrow)}}),React.createElement("span",null,z("Previous","voxel-fse"))),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large btn-icon-right ts-load-next ${s.hasNext?"":"disabled"}`,onClick:m=>{m.preventDefault(),He()}},React.createElement("span",null,z("Next","voxel-fse")),React.createElement("span",{dangerouslySetInnerHTML:{__html:B(e.rightArrowIcon,H.rightArrow)}}))),e.pagination==="load_more"&&s.hasNext&&React.createElement("a",{href:"#",className:"ts-btn ts-btn-1 ts-btn-large ts-load-more",onClick:m=>{m.preventDefault(),Ee()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:B(e.loadMoreIcon,H.loadMore)}}),React.createElement("span",null,z("Load more","voxel-fse")))),Ge)}return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(Fe)}}),y&&React.createElement("style",{dangerouslySetInnerHTML:{__html:y}}),k&&React.createElement("style",{dangerouslySetInnerHTML:{__html:k}}),e.displayDetails&&React.createElement("div",{className:"post-feed-header"},React.createElement("span",{className:`result-count ${!s.hasResults||s.totalCount===0?"hidden":""}`},s.displayCount)),e.layoutMode==="carousel"&&b.length>0?React.createElement("div",{ref:W,className:Me,"data-auto-slide":e.carouselAutoSlide?String(e.carouselAutoSlideInterval||3e3):"0"},b.map((d,u)=>React.createElement("div",{key:u,className:"ts-preview","data-post-id":d.postId||void 0,dangerouslySetInnerHTML:{__html:d.html}}))):React.createElement("div",{ref:r,className:f,dangerouslySetInnerHTML:{__html:s.results}}),s.loading&&!s.results&&t==="frontend"&&React.createElement("div",{className:"ts-form ts-loading",style:{display:"flex",justifyContent:"center",padding:"40px 0"}},React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{className:"ts-loader"}))),React.createElement("div",{className:`ts-no-posts ${s.hasResults||s.loading?"hidden":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:B(e.noResultsIcon,H.noResults)}}),React.createElement("p",null,e.noResultsLabel,e.source==="search-form"&&React.createElement(React.Fragment,null," ",React.createElement("a",{href:"#",className:"ts-feed-reset",onClick:d=>{d.preventDefault();const u=new CustomEvent("voxel-search-clear",{detail:{postType:F||e.postType,searchFormId:e.searchFormId},bubbles:!0});window.dispatchEvent(u)}},z("Reset filters?","voxel-fse"))))),e.pagination!=="none"&&React.createElement("div",{className:`feed-pagination flexify ${!s.hasPrev&&!s.hasNext?"hidden":""}`},e.pagination==="prev_next"&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large ts-load-prev ${s.hasPrev?"":"disabled"}`,onClick:d=>{d.preventDefault(),s.hasPrev&&!s.loading&&ze()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:B(e.leftArrowIcon,H.leftArrow)}}),React.createElement("span",null,z("Previous","voxel-fse"))),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large btn-icon-right ts-load-next ${s.hasNext?"":"disabled"}`,onClick:d=>{d.preventDefault(),s.hasNext&&!s.loading&&He()}},React.createElement("span",null,z("Next","voxel-fse")),React.createElement("span",{dangerouslySetInnerHTML:{__html:B(e.rightArrowIcon,H.rightArrow)}}))),e.pagination==="load_more"&&React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large ts-load-more ${s.hasNext?"":"hidden"}`,onClick:d=>{d.preventDefault(),s.hasNext&&!s.loading&&Ee()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:B(e.loadMoreIcon,H.loadMore)}}),React.createElement("span",null,z("Load more","voxel-fse")))),Ge)}function Io(e){const t=e.querySelector("script.vxconfig");if(!t?.textContent)return console.error("[post-feed] No vxconfig found"),null;try{return JSON.parse(t.textContent)}catch(o){return console.error("[post-feed] Failed to parse vxconfig:",o),null}}function So(e){const t={},o=e.filters??e.filter??{};typeof o=="object"&&!Array.isArray(o)&&Object.entries(o).forEach(([i,n])=>{t[i]=n});const l={loadMore:e.icons?.loadMore??e.icons?.load_more??{},noResults:e.icons?.noResults??e.icons?.no_results??{},rightArrow:e.icons?.rightArrow??e.icons?.right_arrow??{},leftArrow:e.icons?.leftArrow??e.icons?.left_arrow??{},rightChevron:e.icons?.rightChevron??e.icons?.right_chevron??{},leftChevron:e.icons?.leftChevron??e.icons?.left_chevron??{},reset:e.icons?.reset??{}};return{blockId:e.blockId??e.block_id??"",source:e.source??"custom-query",searchFormId:e.searchFormId??e.search_form_id??"",postType:e.postType??e.post_type??"",manualPostIds:Array.isArray(e.manualPostIds)?e.manualPostIds:Array.isArray(e.manual_post_ids)?e.manual_post_ids:[],filters:t,excludePosts:e.excludePosts??e.exclude_posts??"",priorityFilter:e.priorityFilter??e.priority_filter??!1,priorityMin:e.priorityMin??e.priority_min??0,priorityMax:e.priorityMax??e.priority_max??0,offset:e.offset??0,cardTemplate:e.cardTemplate??e.card_template??"main",pagination:e.pagination??"none",postsPerPage:e.postsPerPage??e.posts_per_page??12,displayDetails:e.displayDetails??e.display_details??!1,noResultsLabel:e.noResultsLabel??e.no_results_label??"There are no results matching your search",layoutMode:e.layoutMode??e.layout_mode??"grid",columns:e.columns??3,columns_tablet:e.columns_tablet??e.columnsTablet??2,columns_mobile:e.columns_mobile??e.columnsMobile??1,itemGap:e.itemGap??e.item_gap??20,itemGap_tablet:e.itemGap_tablet??e.itemGapTablet??20,itemGap_mobile:e.itemGap_mobile??e.itemGapMobile??15,carouselItemWidth:e.carouselItemWidth??e.carousel_item_width??300,carouselItemWidth_tablet:e.carouselItemWidth_tablet??e.carouselItemWidthTablet??250,carouselItemWidth_mobile:e.carouselItemWidth_mobile??e.carouselItemWidthMobile??200,carouselItemWidthUnit:e.carouselItemWidthUnit??e.carousel_item_width_unit??"px",carouselAutoSlide:e.carouselAutoSlide??e.carousel_auto_slide??!1,carouselAutoSlideInterval:e.carouselAutoSlideInterval??e.carousel_auto_slide_interval??3e3,scrollPadding:e.scrollPadding??e.scroll_padding??0,scrollPadding_tablet:e.scrollPadding_tablet??e.scrollPaddingTablet??0,scrollPadding_mobile:e.scrollPadding_mobile??e.scrollPaddingMobile??0,itemPadding:e.itemPadding??e.item_padding??0,itemPadding_tablet:e.itemPadding_tablet??e.itemPaddingTablet??0,itemPadding_mobile:e.itemPadding_mobile??e.itemPaddingMobile??0,loadingStyle:e.loadingStyle??e.loading_style??"opacity",loadingOpacity:e.loadingOpacity??e.loading_opacity??.5,skeletonBackgroundColor:e.skeletonBackgroundColor??"",skeletonBackgroundType:e.skeletonBackgroundType??"classic",skeletonBackgroundImage:e.skeletonBackgroundImage??void 0,skeletonBgImagePosition:e.skeletonBgImagePosition??void 0,skeletonBgImageAttachment:e.skeletonBgImageAttachment??void 0,skeletonBgImageRepeat:e.skeletonBgImageRepeat??void 0,skeletonBgImageSize:e.skeletonBgImageSize??void 0,skeletonGradientColor:e.skeletonGradientColor??void 0,skeletonGradientLocation:e.skeletonGradientLocation??0,skeletonGradientSecondColor:e.skeletonGradientSecondColor??void 0,skeletonGradientSecondLocation:e.skeletonGradientSecondLocation??100,skeletonGradientType:e.skeletonGradientType??"linear",skeletonGradientAngle:e.skeletonGradientAngle??180,skeletonGradientPosition:e.skeletonGradientPosition??"center center",icons:l}}function xo(e){return{blockId:e.blockId,source:e.source,searchFormId:e.searchFormId,postType:e.postType,manualPostIds:e.manualPostIds,filters:e.filters,excludePosts:e.excludePosts,priorityFilter:e.priorityFilter,priorityMin:e.priorityMin,priorityMax:e.priorityMax,offset:e.offset,cardTemplate:e.cardTemplate,pagination:e.pagination,postsPerPage:e.postsPerPage,displayDetails:e.displayDetails,noResultsLabel:e.noResultsLabel,layoutMode:e.layoutMode,columns:e.columns,columns_tablet:e.columns_tablet,columns_mobile:e.columns_mobile,itemGap:e.itemGap,itemGap_tablet:e.itemGap_tablet,itemGap_mobile:e.itemGap_mobile,carouselItemWidth:e.carouselItemWidth,carouselItemWidth_tablet:e.carouselItemWidth_tablet,carouselItemWidth_mobile:e.carouselItemWidth_mobile,carouselItemWidthUnit:e.carouselItemWidthUnit,carouselAutoSlide:e.carouselAutoSlide,carouselAutoSlideInterval:e.carouselAutoSlideInterval,scrollPadding:e.scrollPadding,scrollPadding_tablet:e.scrollPadding_tablet,scrollPadding_mobile:e.scrollPadding_mobile,itemPadding:e.itemPadding,itemPadding_tablet:e.itemPadding_tablet,itemPadding_mobile:e.itemPadding_mobile,loadingStyle:e.loadingStyle,loadingOpacity:e.loadingOpacity,skeletonBackgroundColor:e.skeletonBackgroundColor||"",skeletonBackgroundType:e.skeletonBackgroundType||"classic",skeletonBackgroundImage:e.skeletonBackgroundImage,skeletonBgImagePosition:e.skeletonBgImagePosition,skeletonBgImageAttachment:e.skeletonBgImageAttachment,skeletonBgImageRepeat:e.skeletonBgImageRepeat,skeletonBgImageSize:e.skeletonBgImageSize,skeletonGradientColor:e.skeletonGradientColor,skeletonGradientLocation:e.skeletonGradientLocation??0,skeletonGradientSecondColor:e.skeletonGradientSecondColor,skeletonGradientSecondLocation:e.skeletonGradientSecondLocation??100,skeletonGradientType:e.skeletonGradientType||"linear",skeletonGradientAngle:e.skeletonGradientAngle??180,skeletonGradientPosition:e.skeletonGradientPosition||"center center",loadMoreIcon:e.icons?.loadMore||{},noResultsIcon:e.icons?.noResults||{},rightArrowIcon:e.icons?.rightArrow||{},leftArrowIcon:e.icons?.leftArrow||{},rightChevronIcon:e.icons?.rightChevron||{},leftChevronIcon:e.icons?.leftChevron||{},resetIcon:e.icons?.reset||{},counterTypography:{},counterTextColor:"",orderByTypography:{},orderByTextColor:"",orderByTextColorHover:"",noResultsHideScreen:!1,noResultsIconColor:"",noResultsTypography:{},noResultsTextColor:"",noResultsLinkColor:"",paginationTypography:{},paginationPadding:{},paginationWidth:100,paginationWidthUnit:"%",paginationJustify:"center",paginationBorder:{},paginationTextColor:"",paginationBackgroundColor:"",paginationIconColor:"",paginationTextColorHover:"",paginationBackgroundColorHover:"",paginationBorderColorHover:"",paginationIconColorHover:"",carouselNavIconColor:"",carouselNavBackground:"",carouselNavBorder:{},carouselNavIconColorHover:"",carouselNavBackgroundHover:"",carouselNavBorderColorHover:"",hideDesktop:!1,hideTablet:!1,hideMobile:!1,customClasses:"",customCSS:""}}async function V(){const e=document.querySelectorAll(".voxel-fse-post-feed-frontend:not([data-react-mounted])");for(const t of e){t.setAttribute("data-react-mounted","true");const o=Io(t);if(o)try{const l=So(o),i=xo(l);let n=null,r=null;const c=t.querySelector("script.vxconfig-hydrate");if(c?.textContent)try{const a=JSON.parse(c.textContent);typeof a.html=="string"&&(n=a.html,r={hasResults:a.hasResults??!1,hasPrev:a.hasPrev??!1,hasNext:a.hasNext??!1,totalCount:a.totalCount??0,displayCount:a.displayCount??"0"})}catch(a){console.error("[post-feed] Failed to parse vxconfig-hydrate:",a)}qe.createRoot(t).render(React.createElement($o,{attributes:i,config:null,context:"frontend",containerElement:t,initialHtml:n,initialMeta:r})),requestAnimationFrame(()=>{typeof window.render_post_feeds=="function"&&window.render_post_feeds(),window.jQuery&&window.jQuery(document).trigger("voxel:markup-update"),document.dispatchEvent(new CustomEvent("voxel:markup-update"))})}catch(l){console.error("[post-feed] Initialization failed:",l)}}}function Te(){window.addEventListener("voxel-search-submit",e=>{const t=e;if(!t.detail){console.warn("[post-feed] Received voxel-search-submit with no detail");return}const{targetId:o,postType:l,filters:i}=t.detail;window.dispatchEvent(new CustomEvent("voxel-fse:filter-update",{detail:{targetId:o,postType:l,filters:i}}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{V(),Te()}):(V(),Te()),window.addEventListener("turbo:load",V),document.addEventListener("voxel:markup-update",V),window.VoxelFSEPostFeed={init:V}})(ReactDOM,React);
