(function(Ee,m,He){"use strict";var ie,ce,W,de;ie={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},ce=["(","?"],W={")":["("],":":["?","?:"]},de=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;function ze(e){for(var i=[],o=[],t,l,n,a;t=e.match(de);){for(l=t[0],n=e.substr(0,t.index).trim(),n&&i.push(n);a=o.pop();){if(W[l]){if(W[l][0]===a){l=W[l][1]||l;break}}else if(ce.indexOf(a)>=0||ie[a]<ie[l]){o.push(a);break}i.push(a)}W[l]||o.push(l),e=e.substr(t.index+l.length)}return e=e.trim(),e&&i.push(e),i.concat(o.reverse())}var Ae={"!":function(e){return!e},"*":function(e,i){return e*i},"/":function(e,i){return e/i},"%":function(e,i){return e%i},"+":function(e,i){return e+i},"-":function(e,i){return e-i},"<":function(e,i){return e<i},"<=":function(e,i){return e<=i},">":function(e,i){return e>i},">=":function(e,i){return e>=i},"==":function(e,i){return e===i},"!=":function(e,i){return e!==i},"&&":function(e,i){return e&&i},"||":function(e,i){return e||i},"?:":function(e,i,o){if(e)throw i;return o}};function ke(e,i){var o=[],t,l,n,a,r,s;for(t=0;t<e.length;t++){if(r=e[t],a=Ae[r],a){for(l=a.length,n=Array(l);l--;)n[l]=o.pop();try{s=a.apply(null,n)}catch(p){return p}}else i.hasOwnProperty(r)?s=i[r]:s=+r;o.push(s)}return o[0]}function Fe(e){var i=ze(e);return function(o){return ke(i,o)}}function Me(e){var i=Fe(e);return function(o){return+i({n:o})}}var pe={contextDelimiter:"",onMissingKey:null};function Be(e){var i,o,t;for(i=e.split(";"),o=0;o<i.length;o++)if(t=i[o].trim(),t.indexOf("plural=")===0)return t.substr(7)}function le(e,i){var o;this.data=e,this.pluralForms={},this.options={};for(o in pe)this.options[o]=i!==void 0&&o in i?i[o]:pe[o]}le.prototype.getPluralForm=function(e,i){var o=this.pluralForms[e],t,l,n;return o||(t=this.data[e][""],n=t["Plural-Forms"]||t["plural-forms"]||t.plural_forms,typeof n!="function"&&(l=Be(t["Plural-Forms"]||t["plural-forms"]||t.plural_forms),n=Me(l)),o=this.pluralForms[e]=n),o(i)},le.prototype.dcnpgettext=function(e,i,o,t,l){var n,a,r;return l===void 0?n=0:n=this.getPluralForm(e,l),a=o,i&&(a=i+this.options.contextDelimiter+o),r=this.data[e][a],r&&r[n]?r[n]:(this.options.onMissingKey&&this.options.onMissingKey(o,e),n===0?o:t)};var fe={"":{plural_forms(e){return e===1?0:1}}},Le=/^i18n\.(n?gettext|has_translation)(_|$)/,De=(e,i,o)=>{const t=new le({}),l=new Set,n=()=>{l.forEach(d=>d())},a=d=>(l.add(d),()=>l.delete(d)),r=(d="default")=>t.data[d],s=(d,c="default")=>{t.data[c]={...t.data[c],...d},t.data[c][""]={...fe[""],...t.data[c]?.[""]},delete t.pluralForms[c]},p=(d,c)=>{s(d,c),n()},$=(d,c="default")=>{t.data[c]={...t.data[c],...d,"":{...fe[""],...t.data[c]?.[""],...d?.[""]}},delete t.pluralForms[c],n()},E=(d,c)=>{t.data={},t.pluralForms={},p(d,c)},y=(d="default",c,u,h,v)=>(t.data[d]||s(void 0,d),t.dcnpgettext(d,c,u,h,v)),H=d=>d||"default",X=(d,c)=>{let u=y(c,void 0,d);return o?(u=o.applyFilters("i18n.gettext",u,d,c),o.applyFilters("i18n.gettext_"+H(c),u,d,c)):u},ee=(d,c,u)=>{let h=y(u,c,d);return o?(h=o.applyFilters("i18n.gettext_with_context",h,d,c,u),o.applyFilters("i18n.gettext_with_context_"+H(u),h,d,c,u)):h},oe=(d,c,u,h)=>{let v=y(h,void 0,d,c,u);return o?(v=o.applyFilters("i18n.ngettext",v,d,c,u,h),o.applyFilters("i18n.ngettext_"+H(h),v,d,c,u,h)):v},O=(d,c,u,h,v)=>{let M=y(v,h,d,c,u);return o?(M=o.applyFilters("i18n.ngettext_with_context",M,d,c,u,h,v),o.applyFilters("i18n.ngettext_with_context_"+H(v),M,d,c,u,h,v)):M},j=()=>ee("ltr","text direction")==="rtl",L=(d,c,u)=>{const h=c?c+""+d:d;let v=!!t.data?.[u??"default"]?.[h];return o&&(v=o.applyFilters("i18n.has_translation",v,d,c,u),v=o.applyFilters("i18n.has_translation_"+H(u),v,d,c,u)),v};if(o){const d=c=>{Le.test(c)&&n()};o.addAction("hookAdded","core/i18n",d),o.addAction("hookRemoved","core/i18n",d)}return{getLocaleData:r,setLocaleData:p,addLocaleData:$,resetLocaleData:E,subscribe:a,__:X,_x:ee,_n:oe,_nx:O,isRTL:j,hasTranslation:L}};function We(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var ue=We;function be(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var se=be;function Oe(e,i){return function(t,l,n,a=10){const r=e[i];if(!se(t)||!ue(l))return;if(typeof n!="function"){console.error("The hook callback must be a function.");return}if(typeof a!="number"){console.error("If specified, the hook priority must be a number.");return}const s={callback:n,priority:a,namespace:l};if(r[t]){const p=r[t].handlers;let $;for($=p.length;$>0&&!(a>=p[$-1].priority);$--);$===p.length?p[$]=s:p.splice($,0,s),r.__current.forEach(E=>{E.name===t&&E.currentIndex>=$&&E.currentIndex++})}else r[t]={handlers:[s],runs:0};t!=="hookAdded"&&e.doAction("hookAdded",t,l,n,a)}}var he=Oe;function je(e,i,o=!1){return function(l,n){const a=e[i];if(!se(l)||!o&&!ue(n))return;if(!a[l])return 0;let r=0;if(o)r=a[l].handlers.length,a[l]={runs:a[l].runs,handlers:[]};else{const s=a[l].handlers;for(let p=s.length-1;p>=0;p--)s[p].namespace===n&&(s.splice(p,1),r++,a.__current.forEach($=>{$.name===l&&$.currentIndex>=p&&$.currentIndex--}))}return l!=="hookRemoved"&&e.doAction("hookRemoved",l,n),r}}var Z=je;function Ge(e,i){return function(t,l){const n=e[i];return typeof l<"u"?t in n&&n[t].handlers.some(a=>a.namespace===l):t in n}}var me=Ge;function Ue(e,i,o,t){return function(n,...a){const r=e[i];r[n]||(r[n]={handlers:[],runs:0}),r[n].runs++;const s=r[n].handlers;if(!s||!s.length)return o?a[0]:void 0;const p={name:n,currentIndex:0};async function $(){try{r.__current.add(p);let y=o?a[0]:void 0;for(;p.currentIndex<s.length;)y=await s[p.currentIndex].callback.apply(null,a),o&&(a[0]=y),p.currentIndex++;return o?y:void 0}finally{r.__current.delete(p)}}function E(){try{r.__current.add(p);let y=o?a[0]:void 0;for(;p.currentIndex<s.length;)y=s[p.currentIndex].callback.apply(null,a),o&&(a[0]=y),p.currentIndex++;return o?y:void 0}finally{r.__current.delete(p)}}return(t?$:E)()}}var K=Ue;function qe(e,i){return function(){const t=e[i];return Array.from(t.__current).at(-1)?.name??null}}var ge=qe;function Ve(e,i){return function(t){const l=e[i];return typeof t>"u"?l.__current.size>0:Array.from(l.__current).some(n=>n.name===t)}}var ve=Ve;function Je(e,i){return function(t){const l=e[i];if(se(t))return l[t]&&l[t].runs?l[t].runs:0}}var _e=Je,Ze=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=he(this,"actions"),this.addFilter=he(this,"filters"),this.removeAction=Z(this,"actions"),this.removeFilter=Z(this,"filters"),this.hasAction=me(this,"actions"),this.hasFilter=me(this,"filters"),this.removeAllActions=Z(this,"actions",!0),this.removeAllFilters=Z(this,"filters",!0),this.doAction=K(this,"actions",!1,!1),this.doActionAsync=K(this,"actions",!1,!0),this.applyFilters=K(this,"filters",!0,!1),this.applyFiltersAsync=K(this,"filters",!0,!0),this.currentAction=ge(this,"actions"),this.currentFilter=ge(this,"filters"),this.doingAction=ve(this,"actions"),this.doingFilter=ve(this,"filters"),this.didAction=_e(this,"actions"),this.didFilter=_e(this,"filters")}};function Ke(){return new Ze}var Qe=Ke,$e=Qe(),{addAction:uo,addFilter:ho,removeAction:mo,removeFilter:go,hasAction:vo,hasFilter:_o,removeAllActions:$o,removeAllFilters:yo,doAction:xo,doActionAsync:Io,applyFilters:So,applyFiltersAsync:Ro,currentAction:Po,currentFilter:To,doingAction:wo,doingFilter:No,didAction:Co,didFilter:Eo,actions:Ho,filters:zo}=$e,g=De(void 0,void 0,$e);g.getLocaleData.bind(g),g.setLocaleData.bind(g),g.resetLocaleData.bind(g),g.subscribe.bind(g);var k=g.__.bind(g);g._x.bind(g),g._n.bind(g),g._nx.bind(g),g.isRTL.bind(g),g.hasTranslation.bind(g);function Q(e){if(!e)return"";const i=[];if(e.fontFamily&&i.push(`font-family: ${e.fontFamily};`),e.fontSize!==void 0){const o=e.fontSizeUnit||"px";i.push(`font-size: ${e.fontSize}${o};`)}if(e.fontWeight&&i.push(`font-weight: ${e.fontWeight};`),e.fontStyle&&e.fontStyle!=="default"&&i.push(`font-style: ${e.fontStyle};`),e.textDecoration&&e.textDecoration!=="none"&&i.push(`text-decoration: ${e.textDecoration};`),e.lineHeight!==void 0){const o=e.lineHeightUnit||"";i.push(`line-height: ${e.lineHeight}${o};`)}if(e.letterSpacing!==void 0){const o=e.letterSpacingUnit||"px";i.push(`letter-spacing: ${e.letterSpacing}${o};`)}if(e.wordSpacing!==void 0){const o=e.wordSpacingUnit||"px";i.push(`word-spacing: ${e.wordSpacing}${o};`)}return e.textTransform&&e.textTransform!=="none"&&i.push(`text-transform: ${e.textTransform};`),i.join(" ")}function Y(e){return e?!!(e.fontFamily||e.fontSize!==void 0||e.fontWeight||e.fontStyle&&e.fontStyle!=="default"||e.textDecoration&&e.textDecoration!=="none"||e.lineHeight!==void 0||e.letterSpacing!==void 0||e.wordSpacing!==void 0||e.textTransform&&e.textTransform!=="none"):!1}function Ye(e,i){if(!e)return"";const o=e.top!==void 0&&e.top!==""?e.top:void 0,t=e.right!==void 0&&e.right!==""?e.right:void 0,l=e.bottom!==void 0&&e.bottom!==""?e.bottom:void 0,n=e.left!==void 0&&e.left!==""?e.left:void 0;if(o===void 0&&t===void 0&&l===void 0&&n===void 0)return"";const a=[];return o!==void 0&&a.push(`${i}-top: ${o};`),t!==void 0&&a.push(`${i}-right: ${t};`),l!==void 0&&a.push(`${i}-bottom: ${l};`),n!==void 0&&a.push(`${i}-left: ${n};`),a.join(" ")}function Xe(e,i){const o=[],t=[],l=[],n=`[data-block-id="${i}"]`;if(Y(e.counterTypography)){const r=Q(e.counterTypography);r&&o.push(`${n} .result-count { ${r} }`)}if(e.counterTextColor&&o.push(`${n} .result-count { color: ${e.counterTextColor}; }`),e.counterBottomSpacing!==void 0&&o.push(`${n} .post-feed-header { margin-bottom: ${e.counterBottomSpacing}px; }`),e.counterBottomSpacing_tablet!==void 0&&t.push(`${n} .post-feed-header { margin-bottom: ${e.counterBottomSpacing_tablet}px; }`),e.counterBottomSpacing_mobile!==void 0&&l.push(`${n} .post-feed-header { margin-bottom: ${e.counterBottomSpacing_mobile}px; }`),Y(e.orderByTypography)){const r=Q(e.orderByTypography);r&&o.push(`${n} .vxf-sort { ${r} }`)}if(e.orderByTextColor&&o.push(`${n} .vxf-sort { --ts-shade-3: ${e.orderByTextColor}; }`),e.orderByTextColorHover&&o.push(`${n} .vxf-sort { --ts-shade-2: ${e.orderByTextColorHover}; }`),e.noResultsContentGap!==void 0&&o.push(`${n} .ts-no-posts { gap: ${e.noResultsContentGap}px; }`),e.noResultsContentGap_tablet!==void 0&&t.push(`${n} .ts-no-posts { gap: ${e.noResultsContentGap_tablet}px; }`),e.noResultsContentGap_mobile!==void 0&&l.push(`${n} .ts-no-posts { gap: ${e.noResultsContentGap_mobile}px; }`),e.noResultsIconSize!==void 0&&o.push(`${n} .ts-no-posts > svg, ${n} .ts-no-posts > i { --ts-icon-size: ${e.noResultsIconSize}px; width: ${e.noResultsIconSize}px; height: ${e.noResultsIconSize}px; font-size: ${e.noResultsIconSize}px; }`),e.noResultsIconSize_tablet!==void 0&&t.push(`${n} .ts-no-posts > svg, ${n} .ts-no-posts > i { --ts-icon-size: ${e.noResultsIconSize_tablet}px; width: ${e.noResultsIconSize_tablet}px; height: ${e.noResultsIconSize_tablet}px; font-size: ${e.noResultsIconSize_tablet}px; }`),e.noResultsIconSize_mobile!==void 0&&l.push(`${n} .ts-no-posts > svg, ${n} .ts-no-posts > i { --ts-icon-size: ${e.noResultsIconSize_mobile}px; width: ${e.noResultsIconSize_mobile}px; height: ${e.noResultsIconSize_mobile}px; font-size: ${e.noResultsIconSize_mobile}px; }`),e.noResultsIconColor&&o.push(`${n} .ts-no-posts > svg, ${n} .ts-no-posts > i { --ts-icon-color: ${e.noResultsIconColor}; color: ${e.noResultsIconColor}; fill: ${e.noResultsIconColor}; }`),Y(e.noResultsTypography)){const r=Q(e.noResultsTypography);r&&o.push(`${n} .ts-no-posts p { ${r} }`)}if(e.noResultsTextColor&&o.push(`${n} .ts-no-posts p { color: ${e.noResultsTextColor}; }`),e.noResultsLinkColor&&o.push(`${n} .ts-no-posts a { color: ${e.noResultsLinkColor}; }`),e.paginationTopMargin!==void 0&&o.push(`${n} .feed-pagination { margin-top: ${e.paginationTopMargin}px; }`),e.paginationTopMargin_tablet!==void 0&&t.push(`${n} .feed-pagination { margin-top: ${e.paginationTopMargin_tablet}px; }`),e.paginationTopMargin_mobile!==void 0&&l.push(`${n} .feed-pagination { margin-top: ${e.paginationTopMargin_mobile}px; }`),Y(e.paginationTypography)){const r=Q(e.paginationTypography);r&&o.push(`${n} .feed-pagination .ts-btn { ${r} }`)}if(e.paginationPadding){const r=Ye(e.paginationPadding,"padding");r&&o.push(`${n} .feed-pagination .ts-btn { ${r} }`)}if(e.paginationHeight!==void 0&&o.push(`${n} .feed-pagination .ts-btn { height: ${e.paginationHeight}px; }`),e.paginationHeight_tablet!==void 0&&t.push(`${n} .feed-pagination .ts-btn { height: ${e.paginationHeight_tablet}px; }`),e.paginationHeight_mobile!==void 0&&l.push(`${n} .feed-pagination .ts-btn { height: ${e.paginationHeight_mobile}px; }`),e.paginationWidth!==void 0&&e.paginationWidth>0){const r=e.paginationWidthUnit||"%";o.push(`${n} .feed-pagination .ts-btn { width: ${e.paginationWidth}${r}; }`)}else e.paginationWidth;e.paginationIconTextSpacing!==void 0&&o.push(`${n} .feed-pagination .ts-btn { gap: ${e.paginationIconTextSpacing}px; }`),e.paginationBorderType&&(o.push(`${n} .feed-pagination .ts-btn { border-style: ${e.paginationBorderType}; }`),e.paginationBorderType!=="none"&&o.push(`${n} .feed-pagination .ts-btn { border-width: 1px; }`)),e.paginationJustify&&o.push(`${n} .feed-pagination { justify-content: ${e.paginationJustify}; }`),e.paginationSpacing!==void 0&&o.push(`${n} .feed-pagination { gap: ${e.paginationSpacing}px; }`),e.paginationSpacing_tablet!==void 0&&t.push(`${n} .feed-pagination { gap: ${e.paginationSpacing_tablet}px; }`),e.paginationSpacing_mobile!==void 0&&l.push(`${n} .feed-pagination { gap: ${e.paginationSpacing_mobile}px; }`),e.paginationBorderRadius!==void 0&&o.push(`${n} .feed-pagination .ts-btn { border-radius: ${e.paginationBorderRadius}px; }`),e.paginationBorderRadius_tablet!==void 0&&t.push(`${n} .feed-pagination .ts-btn { border-radius: ${e.paginationBorderRadius_tablet}px; }`),e.paginationBorderRadius_mobile!==void 0&&l.push(`${n} .feed-pagination .ts-btn { border-radius: ${e.paginationBorderRadius_mobile}px; }`),e.paginationTextColor&&o.push(`${n} .feed-pagination .ts-btn { color: ${e.paginationTextColor}; }`),e.paginationBackgroundColor&&o.push(`${n} .feed-pagination .ts-btn { background-color: ${e.paginationBackgroundColor}; }`),e.paginationIconSize!==void 0&&o.push(`${n} .feed-pagination .ts-btn svg, ${n} .feed-pagination .ts-btn i { --ts-icon-size: ${e.paginationIconSize}px; width: ${e.paginationIconSize}px; height: ${e.paginationIconSize}px; font-size: ${e.paginationIconSize}px; }`),e.paginationIconSize_tablet!==void 0&&t.push(`${n} .feed-pagination .ts-btn svg, ${n} .feed-pagination .ts-btn i { --ts-icon-size: ${e.paginationIconSize_tablet}px; width: ${e.paginationIconSize_tablet}px; height: ${e.paginationIconSize_tablet}px; font-size: ${e.paginationIconSize_tablet}px; }`),e.paginationIconSize_mobile!==void 0&&l.push(`${n} .feed-pagination .ts-btn svg, ${n} .feed-pagination .ts-btn i { --ts-icon-size: ${e.paginationIconSize_mobile}px; width: ${e.paginationIconSize_mobile}px; height: ${e.paginationIconSize_mobile}px; font-size: ${e.paginationIconSize_mobile}px; }`),e.paginationIconColor&&o.push(`${n} .feed-pagination .ts-btn svg, ${n} .feed-pagination .ts-btn i { --ts-icon-color: ${e.paginationIconColor}; color: ${e.paginationIconColor}; fill: ${e.paginationIconColor}; }`),e.paginationTextColorHover&&o.push(`${n} .feed-pagination .ts-btn:hover { color: ${e.paginationTextColorHover}; }`),e.paginationBackgroundColorHover&&o.push(`${n} .feed-pagination .ts-btn:hover { background-color: ${e.paginationBackgroundColorHover}; }`),e.paginationBorderColorHover&&o.push(`${n} .feed-pagination .ts-btn:hover { border-color: ${e.paginationBorderColorHover}; }`),e.paginationIconColorHover&&o.push(`${n} .feed-pagination .ts-btn:hover svg, ${n} .feed-pagination .ts-btn:hover i { --ts-icon-color: ${e.paginationIconColorHover}; color: ${e.paginationIconColorHover}; fill: ${e.paginationIconColorHover}; }`),e.carouselNavHorizontalPosition!==void 0&&(o.push(`${n} .post-feed-nav .ts-prev-page { left: ${e.carouselNavHorizontalPosition}px; }`),o.push(`${n} .post-feed-nav .ts-next-page { right: ${e.carouselNavHorizontalPosition}px; }`)),e.carouselNavHorizontalPosition_tablet!==void 0&&(t.push(`${n} .post-feed-nav .ts-prev-page { left: ${e.carouselNavHorizontalPosition_tablet}px; }`),t.push(`${n} .post-feed-nav .ts-next-page { right: ${e.carouselNavHorizontalPosition_tablet}px; }`)),e.carouselNavHorizontalPosition_mobile!==void 0&&(l.push(`${n} .post-feed-nav .ts-prev-page { left: ${e.carouselNavHorizontalPosition_mobile}px; }`),l.push(`${n} .post-feed-nav .ts-next-page { right: ${e.carouselNavHorizontalPosition_mobile}px; }`)),e.carouselNavVerticalPosition!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn { top: ${e.carouselNavVerticalPosition}%; transform: translateY(-50%); }`),e.carouselNavVerticalPosition_tablet!==void 0&&t.push(`${n} .post-feed-nav .ts-icon-btn { top: ${e.carouselNavVerticalPosition_tablet}%; transform: translateY(-50%); }`),e.carouselNavVerticalPosition_mobile!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn { top: ${e.carouselNavVerticalPosition_mobile}%; transform: translateY(-50%); }`),e.carouselNavIconColor&&o.push(`${n} .post-feed-nav .ts-icon-btn svg, ${n} .post-feed-nav .ts-icon-btn i { --ts-icon-color: ${e.carouselNavIconColor}; color: ${e.carouselNavIconColor}; fill: ${e.carouselNavIconColor}; }`),e.carouselNavButtonSize!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn { width: ${e.carouselNavButtonSize}px; height: ${e.carouselNavButtonSize}px; }`),e.carouselNavButtonSize_tablet!==void 0&&t.push(`${n} .post-feed-nav .ts-icon-btn { width: ${e.carouselNavButtonSize_tablet}px; height: ${e.carouselNavButtonSize_tablet}px; }`),e.carouselNavButtonSize_mobile!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn { width: ${e.carouselNavButtonSize_mobile}px; height: ${e.carouselNavButtonSize_mobile}px; }`),e.carouselNavIconSize!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn svg, ${n} .post-feed-nav .ts-icon-btn i { --ts-icon-size: ${e.carouselNavIconSize}px; width: ${e.carouselNavIconSize}px; height: ${e.carouselNavIconSize}px; font-size: ${e.carouselNavIconSize}px; }`),e.carouselNavIconSize_tablet!==void 0&&t.push(`${n} .post-feed-nav .ts-icon-btn svg, ${n} .post-feed-nav .ts-icon-btn i { --ts-icon-size: ${e.carouselNavIconSize_tablet}px; width: ${e.carouselNavIconSize_tablet}px; height: ${e.carouselNavIconSize_tablet}px; font-size: ${e.carouselNavIconSize_tablet}px; }`),e.carouselNavIconSize_mobile!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn svg, ${n} .post-feed-nav .ts-icon-btn i { --ts-icon-size: ${e.carouselNavIconSize_mobile}px; width: ${e.carouselNavIconSize_mobile}px; height: ${e.carouselNavIconSize_mobile}px; font-size: ${e.carouselNavIconSize_mobile}px; }`),e.carouselNavBackground&&o.push(`${n} .post-feed-nav .ts-icon-btn { background-color: ${e.carouselNavBackground}; }`),e.carouselNavBackdropBlur!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.carouselNavBackdropBlur}px); -webkit-backdrop-filter: blur(${e.carouselNavBackdropBlur}px); }`),e.carouselNavBorderType&&(o.push(`${n} .post-feed-nav .ts-icon-btn { border-style: ${e.carouselNavBorderType}; }`),e.carouselNavBorderType!=="none"&&o.push(`${n} .post-feed-nav .ts-icon-btn { border-width: 1px; }`)),e.carouselNavBorderRadius!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn { border-radius: ${e.carouselNavBorderRadius}px; }`),e.carouselNavBorderRadius_tablet!==void 0&&t.push(`${n} .post-feed-nav .ts-icon-btn { border-radius: ${e.carouselNavBorderRadius_tablet}px; }`),e.carouselNavBorderRadius_mobile!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn { border-radius: ${e.carouselNavBorderRadius_mobile}px; }`),e.carouselNavButtonSizeHover!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover { width: ${e.carouselNavButtonSizeHover}px; height: ${e.carouselNavButtonSizeHover}px; }`),e.carouselNavButtonSizeHover_tablet!==void 0&&t.push(`${n} .post-feed-nav .ts-icon-btn:hover { width: ${e.carouselNavButtonSizeHover_tablet}px; height: ${e.carouselNavButtonSizeHover_tablet}px; }`),e.carouselNavButtonSizeHover_mobile!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn:hover { width: ${e.carouselNavButtonSizeHover_mobile}px; height: ${e.carouselNavButtonSizeHover_mobile}px; }`),e.carouselNavIconSizeHover!==void 0&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover svg, ${n} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-size: ${e.carouselNavIconSizeHover}px; width: ${e.carouselNavIconSizeHover}px; height: ${e.carouselNavIconSizeHover}px; font-size: ${e.carouselNavIconSizeHover}px; }`),e.carouselNavIconSizeHover_tablet!==void 0&&t.push(`${n} .post-feed-nav .ts-icon-btn:hover svg, ${n} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-size: ${e.carouselNavIconSizeHover_tablet}px; width: ${e.carouselNavIconSizeHover_tablet}px; height: ${e.carouselNavIconSizeHover_tablet}px; font-size: ${e.carouselNavIconSizeHover_tablet}px; }`),e.carouselNavIconSizeHover_mobile!==void 0&&l.push(`${n} .post-feed-nav .ts-icon-btn:hover svg, ${n} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-size: ${e.carouselNavIconSizeHover_mobile}px; width: ${e.carouselNavIconSizeHover_mobile}px; height: ${e.carouselNavIconSizeHover_mobile}px; font-size: ${e.carouselNavIconSizeHover_mobile}px; }`),e.carouselNavIconColorHover&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover svg, ${n} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-color: ${e.carouselNavIconColorHover}; color: ${e.carouselNavIconColorHover}; fill: ${e.carouselNavIconColorHover}; }`),e.carouselNavBackgroundHover&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover { background-color: ${e.carouselNavBackgroundHover}; }`),e.carouselNavBorderColorHover&&o.push(`${n} .post-feed-nav .ts-icon-btn:hover { border-color: ${e.carouselNavBorderColorHover}; }`),e.loadingStyle==="opacity"&&e.loadingOpacity!==void 0&&o.push(`${n} .post-feed-grid.vx-opacity { opacity: ${e.loadingOpacity}; }`);let a=o.join(`
`);return t.length>0&&(a+=`
@media (max-width: 1024px) {
${t.join(`
`)}
}`),l.length>0&&(a+=`
@media (max-width: 767px) {
${l.join(`
`)}
}`),a}function eo({text:e,icon:i="î —",className:o="",style:t={}}){return m.createElement("div",{className:`voxel-empty-placeholder ${o}`,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e?"8px":"0",background:"rgb(213 216 220 / 80%)",borderRadius:"0",color:"#666",fontSize:"13px",height:"45px",width:"100%",...t}},m.createElement("span",{className:"placeholder-icon",style:{fontFamily:"eicons",fontSize:"24px",opacity:.3,lineHeight:1,fontStyle:"normal"}},i),e&&m.createElement("span",{className:"placeholder-text",style:{opacity:.6}},e))}const ye=He.forwardRef(({variant:e="inline",className:i="",ariaLabel:o="Loading",text:t},l)=>e==="inline"?React.createElement("span",{ref:l,className:`ts-loader ${i}`,role:"status","aria-label":o}):e==="centered"?React.createElement("div",{className:`ts-no-posts ${i}`},React.createElement("span",{ref:l,className:"ts-loader",role:"status","aria-label":o}),t&&React.createElement("p",null,t)):e==="fullpage"?React.createElement("div",{className:`vx-loading-screen ${i}`},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{ref:l,className:"ts-loader",role:"status","aria-label":o}))):e==="button"?React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{ref:l,className:"ts-loader",role:"status","aria-label":o}),t&&React.createElement("span",null,t)):React.createElement("span",{ref:l,className:`ts-loader ${i}`,role:"status","aria-label":o}));ye.displayName="Loader";const N={loadMore:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',noResults:'<svg viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z" fill="currentColor"/></svg>',leftArrow:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 12H5m0 0l7 7m-7-7l7-7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',rightArrow:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5 12h14m0 0l-7-7m7 7l-7 7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',leftChevron:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15 19l-7-7 7-7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',rightChevron:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 5l7 7-7 7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>'};function xe(e){let i=document.getElementById("vx-assets-cache");i||(i=document.createElement("div"),i.id="vx-assets-cache",i.style.display="none",document.body.appendChild(i));const o=[];return e.querySelectorAll('link[rel="stylesheet"]').forEach(t=>{if(t.id&&!document.querySelector(`#vx-assets-cache #${CSS.escape(t.id)}`)){const n=t.cloneNode(!0);i.appendChild(n),o.push(new Promise(a=>{n.onload=()=>a(),n.onerror=()=>a()}))}}),Promise.all(o).then(()=>{})}function oo(e){let i=document.getElementById("vx-assets-cache");i||(i=document.createElement("div"),i.id="vx-assets-cache",i.style.display="none",document.body.appendChild(i)),e.querySelectorAll('script[type="text/javascript"]').forEach(o=>{o.id&&(document.querySelectorAll(`script[id="${CSS.escape(o.id)}"]`).length>=2?o.remove():i.appendChild(o))})}function C(e,i){return!e||!e.value?i:e.library==="svg"?e.value:`<i class="${e.value}"></i>`}function no(e,i){const o=[],t=`[data-block-id="${i}"]`,l=[],n=[];if(e.layoutMode==="grid"&&(e.columns&&o.push(`${t} .post-feed-grid { grid-template-columns: repeat(${e.columns}, minmax(0, 1fr)); }`),e.columns_tablet&&l.push(`${t} .post-feed-grid { grid-template-columns: repeat(${e.columns_tablet}, minmax(0, 1fr)); }`),e.columns_mobile&&n.push(`${t} .post-feed-grid { grid-template-columns: repeat(${e.columns_mobile}, minmax(0, 1fr)); }`)),e.itemGap!==void 0&&o.push(`${t} .post-feed-grid { gap: ${e.itemGap}px; }`),e.itemGap_tablet!==void 0&&l.push(`${t} .post-feed-grid { gap: ${e.itemGap_tablet}px; }`),e.itemGap_mobile!==void 0&&n.push(`${t} .post-feed-grid { gap: ${e.itemGap_mobile}px; }`),e.layoutMode==="carousel"){const r=e.carouselItemWidthUnit||"px";e.carouselItemWidth&&o.push(`${t} .post-feed-grid > div, ${t} .post-feed-grid > .ts-preview { width: ${e.carouselItemWidth}${r}; min-width: ${e.carouselItemWidth}${r}; flex: 0 0 ${e.carouselItemWidth}${r}; scroll-snap-align: start; }`),e.carouselItemWidth_tablet&&l.push(`${t} .post-feed-grid > div, ${t} .post-feed-grid > .ts-preview { width: ${e.carouselItemWidth_tablet}${r}; min-width: ${e.carouselItemWidth_tablet}${r}; flex: 0 0 ${e.carouselItemWidth_tablet}${r}; }`),e.carouselItemWidth_mobile&&n.push(`${t} .post-feed-grid > div, ${t} .post-feed-grid > .ts-preview { width: ${e.carouselItemWidth_mobile}${r}; min-width: ${e.carouselItemWidth_mobile}${r}; flex: 0 0 ${e.carouselItemWidth_mobile}${r}; }`),e.scrollPadding&&o.push(`${t} .post-feed-grid { padding: 0 ${e.scrollPadding}px; scroll-padding: ${e.scrollPadding}px; }`),e.scrollPadding_tablet&&l.push(`${t} .post-feed-grid { padding: 0 ${e.scrollPadding_tablet}px; scroll-padding: ${e.scrollPadding_tablet}px; }`),e.scrollPadding_mobile&&n.push(`${t} .post-feed-grid { padding: 0 ${e.scrollPadding_mobile}px; scroll-padding: ${e.scrollPadding_mobile}px; }`),e.itemPadding&&o.push(`${t} .post-feed-grid > .ts-preview { padding: ${e.itemPadding}px; }`),e.itemPadding_tablet&&l.push(`${t} .post-feed-grid > .ts-preview { padding: ${e.itemPadding_tablet}px; }`),e.itemPadding_mobile&&n.push(`${t} .post-feed-grid > .ts-preview { padding: ${e.itemPadding_mobile}px; }`)}let a=o.join(`
`);return l.length>0&&(a+=`
@media (max-width: 1024px) {
${l.join(`
`)}
}`),n.length>0&&(a+=`
@media (max-width: 767px) {
${n.join(`
`)}
}`),a}function to({attributes:e,config:i,context:o,editorFilters:t,containerElement:l}){const n=m.useRef(null),a=m.useRef(null),r=m.useRef(!1),[s,p]=m.useState({loading:!0,page:1,results:"",totalCount:0,displayCount:"0",hasPrev:!1,hasNext:!1,hasResults:!1}),[$,E]=m.useState({}),[y,H]=m.useState(e.postType||"");m.useEffect(()=>{o==="editor"&&e.postType&&e.postType!==y&&H(e.postType)},[o,e.postType,y]);const X=m.useRef(void 0);m.useEffect(()=>{if(o!=="editor"||!t)return;const f=X.current;JSON.stringify(f)!==JSON.stringify(t)&&(X.current=t,E(t),e.postType&&(async()=>{const P=new URLSearchParams({type:e.postType,pg:"1",limit:String(e.postsPerPage)});e.displayDetails&&P.set("__get_total_count","yes"),t&&typeof t=="object"&&Object.entries(t).forEach(([T,S])=>{T!=="postType"&&S!=null&&S!==""&&P.set(T,String(S))});let x=window.Voxel_Config?.home_url;if(!x){const T=window.wpApiSettings?.root;if(T)x=T.replace(/\/wp-json\/?$/,"");else{const S=window.location.pathname,G=S.indexOf("/wp-admin"),A=G>0?S.substring(0,G):"";x=window.location.origin+A}}P.set("action","search_posts");const I=`${x}/?vx=1&${P.toString()}`;try{p(q=>({...q,loading:!0}));const T=await fetch(I,{method:"GET",credentials:"same-origin",headers:{Accept:"text/html"}});if(!T.ok)throw new Error(`HTTP error: ${T.status}`);const S=await T.text(),A=new DOMParser().parseFromString(`<div>${S}</div>`,"text/html"),F=A.querySelector("script.info"),Re=F?.getAttribute("data-has-prev")==="true",ne=F?.getAttribute("data-has-next")==="true",B=F?.getAttribute("data-has-results")==="true",ae=parseInt(F?.getAttribute("data-total-count")||"0",10),re=F?.getAttribute("data-display-count")||"0";await xe(A);let U=S.replace(/<script class="info"[^>]*><\/script>/g,"");U=U.replace(/<link[^>]*rel="stylesheet"[^>]*>/g,""),p(q=>({...q,loading:!1,page:1,results:U,totalCount:ae,displayCount:re,hasPrev:Re,hasNext:ne,hasResults:B}))}catch(T){console.error("[PostFeedComponent] Editor filter sync fetch failed:",T),p(S=>({...S,loading:!1,hasResults:!1}))}})())},[o,t,e.postType,e.postsPerPage,e.displayDetails]);const ee=e.layoutMode==="carousel"?"ts-feed-nowrap":"ts-feed-grid-default",oe=s.loading?`vx-${e.loadingStyle}`:"",O=`post-feed-grid ${ee} ${oe} vx-opacity ${e.source==="search-form"?"sf-post-feed vx-event-scroll":""}`.trim(),j=e.layoutMode==="carousel"?{display:"flex",flexWrap:"nowrap",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch"}:{display:"grid"},L=no(e,e.blockId),d=Xe(e,e.blockId),c=m.useCallback(async(f=1,w=!1,_,P)=>{p(x=>({...x,loading:!0}));try{const x=P||y||e.postType||"";if(o==="editor"&&e.source==="search-form"&&!x){p(R=>({...R,loading:!1,hasResults:!1}));return}const I=new URLSearchParams({type:x,pg:String(f),limit:String(e.postsPerPage)});e.displayDetails&&I.set("__get_total_count","yes"),e.source==="manual"&&e.manualPostIds.length>0&&I.set("post__in",e.manualPostIds.join(",")),e.excludePosts&&I.set("exclude",e.excludePosts),e.priorityFilter&&(I.set("priority_min",String(e.priorityMin||0)),I.set("priority_max",String(e.priorityMax||0))),e.offset&&e.offset>0&&I.set("offset",String(e.offset)),e.cardTemplate&&e.cardTemplate!=="main"&&I.set("template",e.cardTemplate);const T=_||{...e.filters,...$};T&&typeof T=="object"&&Object.entries(T).forEach(([R,z])=>{R!=="postType"&&z!=null&&z!==""&&I.set(R,String(z))});let S=window.Voxel_Config?.home_url;if(!S){const R=window.wpApiSettings?.root;if(R)S=R.replace(/\/wp-json\/?$/,"");else{const z=window.location.pathname,J=z.indexOf("/wp-admin"),D=J>0?z.substring(0,J):"";S=window.location.origin+D}}I.set("action","search_posts");const G=`${S}/?vx=1&${I.toString()}`,A=await fetch(G,{method:"GET",credentials:"same-origin",headers:{Accept:"text/html"}});if(!A.ok)throw new Error(`HTTP error: ${A.status} ${A.statusText}`);const F=await A.text(),ne=new DOMParser().parseFromString(`<div>${F}</div>`,"text/html"),B=ne.querySelector("script.info"),ae=B?.getAttribute("data-has-prev")==="true",re=B?.getAttribute("data-has-next")==="true",U=B?.getAttribute("data-has-results")==="true",q=parseInt(B?.getAttribute("data-total-count")||"0",10),co=B?.getAttribute("data-display-count")||"0";await xe(ne);let V=F.replace(/<script class="info"[^>]*><\/script>/g,"");if(!V.includes("vx:post-feed.css-css")){const R=window.Voxel_Config;R?.ajax_url&&(V=`<link rel="stylesheet" id="vx:post-feed.css-css" href="${`${R.ajax_url.replace(/\?vx=1.*$/,"")}wp-content/themes/voxel/assets/dist/post-feed.css?ver=1.7.5.2`}" type="text/css" media="all">`+V)}requestAnimationFrame(()=>{p(R=>({...R,loading:!1,page:f,results:w?R.results+V:V,totalCount:q,displayCount:co,hasPrev:ae,hasNext:re,hasResults:U})),setTimeout(()=>{const R=l||a.current;if(R&&oo(R),window.jQuery&&window.jQuery(document).trigger("voxel:markup-update"),o==="frontend"&&e.source==="search-form"){const z=l||a.current;if(z){const J=z.querySelectorAll(".post-feed-grid .ts-marker-wrapper > .map-marker"),D=[];J.forEach(po=>{const te=po,Pe=te.dataset.position,Te=te.dataset.postId;if(!Pe||!Te)return;const[we,Ne]=Pe.split(",").map(parseFloat);if(isNaN(we)||isNaN(Ne))return;const Ce=te.parentElement,fo=Ce?Ce.innerHTML:te.outerHTML;D.push({postId:Te,lat:we,lng:Ne,template:fo})}),D.length>0&&(console.log("[PostFeed] Dispatching",D.length,"markers to Map block"),window.dispatchEvent(new CustomEvent("voxel-fse:post-feed-markers",{detail:{sourceBlockId:e.blockId,markers:D},bubbles:!0})))}}},0)})}catch(x){console.error("[PostFeedComponent] Failed to fetch posts:",x),x instanceof TypeError&&(console.error("[PostFeedComponent] TypeError details - likely CORS or network issue"),console.error("[PostFeedComponent] Current location:",window.location.href),console.error("[PostFeedComponent] Target URL was:",`${window.location.origin}${window.location.pathname.includes("/wp-admin")?window.location.pathname.split("/wp-admin")[0]:""}/?vx=1`)),p(I=>({...I,loading:!1,hasResults:!1}))}},[e,o,$,y]);m.useEffect(()=>{if(o!=="frontend"||e.source!=="search-form")return;const f=w=>{const _=w;if(_.detail?.targetId!==e.blockId)return;const{postType:P,filters:x}=_.detail;E(x),P&&H(P),c(1,!1,x,P)};return window.addEventListener("voxel-search-submit",f),()=>window.removeEventListener("voxel-search-submit",f)},[o,e.source,e.blockId,c]),m.useEffect(()=>{if(!(r.current&&o==="frontend")){if(e.source!=="search-form")r.current=!0,c(1);else if(o==="editor"&&e.postType)c(1);else if(o==="frontend"&&e.source==="search-form"){const f=new URL(window.location.href),w=f.searchParams.get("post_type"),_={};if(f.searchParams.forEach((P,x)=>{if(x.startsWith("filter_")){const I=x.replace("filter_","");try{_[I]=JSON.parse(P)}catch{_[I]=P}}}),r.current=!0,w)H(w),E(_),c(1,!1,_,w);else{const P=new CustomEvent("voxel-fse:post-feed-ready",{detail:{blockId:e.blockId,searchFormId:e.searchFormId},bubbles:!0});window.dispatchEvent(P)}}}},[o,e.source,e.postType,e.blockId,e.searchFormId]);const u=m.useCallback(()=>{!s.loading&&s.hasNext&&c(s.page+1,!0)},[s.loading,s.hasNext,s.page,c]),h=m.useCallback(()=>{const f=l||a.current;f&&f.scrollIntoView({behavior:"smooth",block:"start"})},[l]),v=m.useCallback(()=>{!s.loading&&s.hasPrev&&(c(s.page-1),setTimeout(h,100))},[s.loading,s.hasPrev,s.page,c,h]),M=m.useCallback(()=>{!s.loading&&s.hasNext&&(c(s.page+1),setTimeout(h,100))},[s.loading,s.hasNext,s.page,c,h]),ao=m.useCallback(()=>{if(n.current){const f=n.current.clientWidth*.8;n.current.scrollBy({left:-f,behavior:"smooth"})}},[]),ro=m.useCallback(()=>{if(n.current){const f=n.current.clientWidth*.8;n.current.scrollBy({left:f,behavior:"smooth"})}},[]),Se={blockId:e.blockId,source:e.source,searchFormId:e.searchFormId,postType:e.postType,manualPostIds:e.manualPostIds,filters:e.filters,excludePosts:e.excludePosts||"",priorityFilter:e.priorityFilter||!1,priorityMin:e.priorityMin||0,priorityMax:e.priorityMax||0,offset:e.offset||0,cardTemplate:e.cardTemplate||"main",pagination:e.pagination,postsPerPage:e.postsPerPage,displayDetails:e.displayDetails,noResultsLabel:e.noResultsLabel,layoutMode:e.layoutMode,columns:e.columns,columns_tablet:e.columns_tablet,columns_mobile:e.columns_mobile,itemGap:e.itemGap,itemGap_tablet:e.itemGap_tablet,itemGap_mobile:e.itemGap_mobile,carouselItemWidth:e.carouselItemWidth,carouselItemWidth_tablet:e.carouselItemWidth_tablet,carouselItemWidth_mobile:e.carouselItemWidth_mobile,carouselItemWidthUnit:e.carouselItemWidthUnit,carouselAutoSlide:e.carouselAutoSlide,scrollPadding:e.scrollPadding,scrollPadding_tablet:e.scrollPadding_tablet,scrollPadding_mobile:e.scrollPadding_mobile,itemPadding:e.itemPadding,itemPadding_tablet:e.itemPadding_tablet,itemPadding_mobile:e.itemPadding_mobile,loadingStyle:e.loadingStyle,loadingOpacity:e.loadingOpacity,icons:{loadMore:e.loadMoreIcon,noResults:e.noResultsIcon,rightArrow:e.rightArrowIcon,leftArrow:e.leftArrowIcon,rightChevron:e.rightChevronIcon,leftChevron:e.leftChevronIcon,reset:e.resetIcon}};if(o==="editor"){const f=!e.postType&&!s.loading&&!s.results,w=s.loading&&e.postType;return React.createElement("div",{ref:a,className:`ts-post-feed ${oe}`,"data-block-id":e.blockId},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(Se)}}),L&&React.createElement("style",{dangerouslySetInnerHTML:{__html:L}}),d&&React.createElement("style",{dangerouslySetInnerHTML:{__html:d}}),e.displayDetails&&React.createElement("div",{className:"post-feed-header flexify"},React.createElement("span",{className:`result-count ${!s.hasResults||s.totalCount===0,""}`},s.hasResults?s.displayCount:k("Showing results","voxel-fse"))),!f&&!w&&s.results?React.createElement("div",{className:`${O} ${e.layoutMode==="carousel"?"min-scroll min-scroll-h":""}`,style:j,dangerouslySetInnerHTML:{__html:s.results}}):f?React.createElement("div",{className:`${O} ${e.layoutMode==="carousel"?"min-scroll min-scroll-h":""}`,style:j},React.createElement(eo,null)):null,w&&React.createElement("div",{className:"ts-no-posts"},React.createElement(ye,{variant:"inline",ariaLabel:"Loading posts..."})),React.createElement("div",{className:`ts-no-posts ${f||w||s.hasResults?"hidden":""}`,dangerouslySetInnerHTML:{__html:`${C(e.noResultsIcon,N.noResults)}<p>${e.noResultsLabel}</p>`}}),e.pagination!=="none"&&React.createElement("div",{className:"feed-pagination flexify"},e.pagination==="prev_next"&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large ts-load-prev ${s.hasPrev?"":"disabled"}`,onClick:_=>{_.preventDefault(),v()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.leftArrowIcon,N.leftArrow)}}),React.createElement("span",null,k("Previous","voxel-fse"))),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large btn-icon-right ts-load-next ${s.hasNext?"":"disabled"}`,onClick:_=>{_.preventDefault(),M()}},React.createElement("span",null,k("Next","voxel-fse")),React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.rightArrowIcon,N.rightArrow)}}))),e.pagination==="load_more"&&s.hasNext&&React.createElement("a",{href:"#",className:"ts-btn ts-btn-1 ts-btn-large ts-load-more",onClick:_=>{_.preventDefault(),u()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.loadMoreIcon,N.loadMore)}}),React.createElement("span",null,k("Load more","voxel-fse")))),e.layoutMode==="carousel"&&React.createElement("ul",{className:"simplify-ul flexify post-feed-nav"},React.createElement("li",null,React.createElement("a",{href:"#",className:"ts-icon-btn ts-prev-page disabled","aria-label":"Previous",onClick:_=>_.preventDefault()},React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.leftChevronIcon,N.leftChevron)}}))),React.createElement("li",null,React.createElement("a",{href:"#",className:"ts-icon-btn ts-next-page disabled","aria-label":"Next",onClick:_=>_.preventDefault()},React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.rightChevronIcon,N.rightChevron)}})))))}return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(Se)}}),L&&React.createElement("style",{dangerouslySetInnerHTML:{__html:L}}),d&&React.createElement("style",{dangerouslySetInnerHTML:{__html:d}}),e.displayDetails&&React.createElement("div",{className:"post-feed-header"},React.createElement("span",{className:`result-count ${!s.hasResults||s.totalCount===0?"hidden":""}`},s.displayCount)),React.createElement("div",{ref:n,className:`${O} ${e.layoutMode==="carousel"?"min-scroll min-scroll-h":""}`,style:j,"data-auto-slide":e.carouselAutoSlide?"3000":"0",dangerouslySetInnerHTML:{__html:s.results}}),React.createElement("div",{className:`ts-no-posts ${s.hasResults||s.loading?"hidden":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.noResultsIcon,N.noResults)}}),React.createElement("p",null,e.noResultsLabel,e.source==="search-form"&&React.createElement(React.Fragment,null," ",React.createElement("a",{href:"#",className:"ts-feed-reset",onClick:f=>{f.preventDefault();const w=new CustomEvent("voxel-search-clear",{detail:{postType:y||e.postType,searchFormId:e.searchFormId},bubbles:!0});window.dispatchEvent(w)}},k("Reset filters?","voxel-fse"))))),e.pagination!=="none"&&React.createElement("div",{className:`feed-pagination flexify ${!s.hasPrev&&!s.hasNext?"hidden":""}`},e.pagination==="prev_next"&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large ts-load-prev ${s.hasPrev?"":"disabled"}`,onClick:f=>{f.preventDefault(),s.hasPrev&&!s.loading&&v()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.leftArrowIcon,N.leftArrow)}}),React.createElement("span",null,k("Previous","voxel-fse"))),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large btn-icon-right ts-load-next ${s.hasNext?"":"disabled"}`,onClick:f=>{f.preventDefault(),s.hasNext&&!s.loading&&M()}},React.createElement("span",null,k("Next","voxel-fse")),React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.rightArrowIcon,N.rightArrow)}}))),e.pagination==="load_more"&&React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large ts-load-more ${s.hasNext?"":"hidden"}`,onClick:f=>{f.preventDefault(),s.hasNext&&!s.loading&&u()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.loadMoreIcon,N.loadMore)}}),React.createElement("span",null,k("Load more","voxel-fse")))),e.layoutMode==="carousel"&&React.createElement("ul",{className:`simplify-ul flexify post-feed-nav ${s.hasResults?"":"hidden"}`},React.createElement("li",null,React.createElement("a",{href:"#",className:"ts-icon-btn ts-prev-page","aria-label":"Previous",onClick:f=>{f.preventDefault(),ao()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.leftChevronIcon,N.leftChevron)}}))),React.createElement("li",null,React.createElement("a",{href:"#",className:"ts-icon-btn ts-next-page","aria-label":"Next",onClick:f=>{f.preventDefault(),ro()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:C(e.rightChevronIcon,N.rightChevron)}})))))}function io(e){const i=e.querySelector("script.vxconfig");if(!i?.textContent)return console.error("[post-feed] No vxconfig found"),null;try{return JSON.parse(i.textContent)}catch(o){return console.error("[post-feed] Failed to parse vxconfig:",o),null}}function lo(e){const i={},o=e.filters??e.filter??{};typeof o=="object"&&!Array.isArray(o)&&Object.entries(o).forEach(([l,n])=>{i[l]=n});const t={loadMore:e.icons?.loadMore??e.icons?.load_more??{},noResults:e.icons?.noResults??e.icons?.no_results??{},rightArrow:e.icons?.rightArrow??e.icons?.right_arrow??{},leftArrow:e.icons?.leftArrow??e.icons?.left_arrow??{},rightChevron:e.icons?.rightChevron??e.icons?.right_chevron??{},leftChevron:e.icons?.leftChevron??e.icons?.left_chevron??{},reset:e.icons?.reset??{}};return{blockId:e.blockId??e.block_id??"",source:e.source??"custom-query",searchFormId:e.searchFormId??e.search_form_id??"",postType:e.postType??e.post_type??"",manualPostIds:Array.isArray(e.manualPostIds)?e.manualPostIds:Array.isArray(e.manual_post_ids)?e.manual_post_ids:[],filters:i,excludePosts:e.excludePosts??e.exclude_posts??"",priorityFilter:e.priorityFilter??e.priority_filter??!1,priorityMin:e.priorityMin??e.priority_min??0,priorityMax:e.priorityMax??e.priority_max??0,offset:e.offset??0,cardTemplate:e.cardTemplate??e.card_template??"main",pagination:e.pagination??"none",postsPerPage:e.postsPerPage??e.posts_per_page??12,displayDetails:e.displayDetails??e.display_details??!1,noResultsLabel:e.noResultsLabel??e.no_results_label??"No results found",layoutMode:e.layoutMode??e.layout_mode??"grid",columns:e.columns??3,columns_tablet:e.columns_tablet??e.columnsTablet??2,columns_mobile:e.columns_mobile??e.columnsMobile??1,itemGap:e.itemGap??e.item_gap??25,itemGap_tablet:e.itemGap_tablet??e.itemGapTablet??20,itemGap_mobile:e.itemGap_mobile??e.itemGapMobile??15,carouselItemWidth:e.carouselItemWidth??e.carousel_item_width??300,carouselItemWidth_tablet:e.carouselItemWidth_tablet??e.carouselItemWidthTablet??250,carouselItemWidth_mobile:e.carouselItemWidth_mobile??e.carouselItemWidthMobile??200,carouselItemWidthUnit:e.carouselItemWidthUnit??e.carousel_item_width_unit??"px",carouselAutoSlide:e.carouselAutoSlide??e.carousel_auto_slide??!1,scrollPadding:e.scrollPadding??e.scroll_padding??0,scrollPadding_tablet:e.scrollPadding_tablet??e.scrollPaddingTablet??0,scrollPadding_mobile:e.scrollPadding_mobile??e.scrollPaddingMobile??0,itemPadding:e.itemPadding??e.item_padding??0,itemPadding_tablet:e.itemPadding_tablet??e.itemPaddingTablet??0,itemPadding_mobile:e.itemPadding_mobile??e.itemPaddingMobile??0,loadingStyle:e.loadingStyle??e.loading_style??"opacity",loadingOpacity:e.loadingOpacity??e.loading_opacity??.5,icons:t}}function so(e){return{blockId:e.blockId,source:e.source,searchFormId:e.searchFormId,postType:e.postType,manualPostIds:e.manualPostIds,filters:e.filters,excludePosts:e.excludePosts,priorityFilter:e.priorityFilter,priorityMin:e.priorityMin,priorityMax:e.priorityMax,offset:e.offset,cardTemplate:e.cardTemplate,pagination:e.pagination,postsPerPage:e.postsPerPage,displayDetails:e.displayDetails,noResultsLabel:e.noResultsLabel,layoutMode:e.layoutMode,columns:e.columns,columns_tablet:e.columns_tablet,columns_mobile:e.columns_mobile,itemGap:e.itemGap,itemGap_tablet:e.itemGap_tablet,itemGap_mobile:e.itemGap_mobile,carouselItemWidth:e.carouselItemWidth,carouselItemWidth_tablet:e.carouselItemWidth_tablet,carouselItemWidth_mobile:e.carouselItemWidth_mobile,carouselItemWidthUnit:e.carouselItemWidthUnit,carouselAutoSlide:e.carouselAutoSlide,scrollPadding:e.scrollPadding,scrollPadding_tablet:e.scrollPadding_tablet,scrollPadding_mobile:e.scrollPadding_mobile,itemPadding:e.itemPadding,itemPadding_tablet:e.itemPadding_tablet,itemPadding_mobile:e.itemPadding_mobile,loadingStyle:e.loadingStyle,loadingOpacity:e.loadingOpacity,loadMoreIcon:e.icons?.loadMore||{},noResultsIcon:e.icons?.noResults||{},rightArrowIcon:e.icons?.rightArrow||{},leftArrowIcon:e.icons?.leftArrow||{},rightChevronIcon:e.icons?.rightChevron||{},leftChevronIcon:e.icons?.leftChevron||{},resetIcon:e.icons?.reset||{},counterTypography:{},counterTextColor:"",orderByTypography:{},orderByTextColor:"",orderByTextColorHover:"",noResultsHideScreen:!1,noResultsIconColor:"",noResultsTypography:{},noResultsTextColor:"",noResultsLinkColor:"",paginationTypography:{},paginationPadding:{},paginationWidth:100,paginationWidthUnit:"%",paginationJustify:"center",paginationBorderType:"",paginationTextColor:"",paginationBackgroundColor:"",paginationIconColor:"",paginationTextColorHover:"",paginationBackgroundColorHover:"",paginationBorderColorHover:"",paginationIconColorHover:"",carouselNavIconColor:"",carouselNavBackground:"",carouselNavBorderType:"",carouselNavIconColorHover:"",carouselNavBackgroundHover:"",carouselNavBorderColorHover:"",hideDesktop:!1,hideTablet:!1,hideMobile:!1,customClasses:"",customCSS:""}}async function b(){const e=document.querySelectorAll(".voxel-fse-post-feed-frontend:not([data-react-mounted])");for(const i of e){i.setAttribute("data-react-mounted","true");const o=io(i);if(o)try{const t=lo(o),l=so(t);Ee.createRoot(i).render(React.createElement(to,{attributes:l,config:null,context:"frontend",containerElement:i})),requestAnimationFrame(()=>{typeof window.render_post_feeds=="function"&&window.render_post_feeds(),window.jQuery&&window.jQuery(document).trigger("voxel:markup-update")})}catch(t){console.error("[post-feed] Initialization failed:",t)}}}function Ie(){window.addEventListener("voxel-search-submit",e=>{const i=e;if(!i.detail){console.warn("[post-feed] Received voxel-search-submit with no detail");return}const{targetId:o,postType:t,filters:l}=i.detail;window.dispatchEvent(new CustomEvent("voxel-fse:filter-update",{detail:{targetId:o,postType:t,filters:l}}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{b(),Ie()}):(b(),Ie()),window.addEventListener("turbo:load",b),document.addEventListener("voxel:markup-update",b),window.VoxelFSEPostFeed={init:b}})(ReactDOM,React,wp.element);
