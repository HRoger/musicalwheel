(function(U,S){"use strict";var H,z,R,C;H={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},z=["(","?"],R={")":["("],":":["?","?:"]},C=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;function V(e){for(var t=[],n=[],i,o,r,s;i=e.match(C);){for(o=i[0],r=e.substr(0,i.index).trim(),r&&t.push(r);s=n.pop();){if(R[o]){if(R[o][0]===s){o=R[o][1]||o;break}}else if(z.indexOf(s)>=0||H[s]<H[o]){n.push(s);break}t.push(s)}R[o]||n.push(o),e=e.substr(i.index+o.length)}return e=e.trim(),e&&t.push(e),t.concat(n.reverse())}var W={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,n){if(e)throw t;return n}};function J(e,t){var n=[],i,o,r,s,c,f;for(i=0;i<e.length;i++){if(c=e[i],s=W[c],s){for(o=s.length,r=Array(o);o--;)r[o]=n.pop();try{f=s.apply(null,r)}catch(a){return a}}else t.hasOwnProperty(c)?f=t[c]:f=+c;n.push(f)}return n[0]}function q(e){var t=V(e);return function(n){return J(t,n)}}function K(e){var t=q(e);return function(n){return+t({n})}}var w={contextDelimiter:"",onMissingKey:null};function Z(e){var t,n,i;for(t=e.split(";"),n=0;n<t.length;n++)if(i=t[n].trim(),i.indexOf("plural=")===0)return i.substr(7)}function F(e,t){var n;this.data=e,this.pluralForms={},this.options={};for(n in w)this.options[n]=t!==void 0&&n in t?t[n]:w[n]}F.prototype.getPluralForm=function(e,t){var n=this.pluralForms[e],i,o,r;return n||(i=this.data[e][""],r=i["Plural-Forms"]||i["plural-forms"]||i.plural_forms,typeof r!="function"&&(o=Z(i["Plural-Forms"]||i["plural-forms"]||i.plural_forms),r=K(o)),n=this.pluralForms[e]=r),n(t)},F.prototype.dcnpgettext=function(e,t,n,i,o){var r,s,c;return o===void 0?r=0:r=this.getPluralForm(e,o),s=n,t&&(s=t+this.options.contextDelimiter+n),c=this.data[e][s],c&&c[r]?c[r]:(this.options.onMissingKey&&this.options.onMissingKey(n,e),r===0?n:i)};var k={"":{plural_forms(e){return e===1?0:1}}},X=/^i18n\.(n?gettext|has_translation)(_|$)/,Q=(e,t,n)=>{const i=new F({}),o=new Set,r=()=>{o.forEach(l=>l())},s=l=>(o.add(l),()=>o.delete(l)),c=(l="default")=>i.data[l],f=(l,d="default")=>{i.data[d]={...i.data[d],...l},i.data[d][""]={...k[""],...i.data[d]?.[""]},delete i.pluralForms[d]},a=(l,d)=>{f(l,d),r()},h=(l,d="default")=>{i.data[d]={...i.data[d],...l,"":{...k[""],...i.data[d]?.[""],...l?.[""]}},delete i.pluralForms[d],r()},u=(l,d)=>{i.data={},i.pluralForms={},a(l,d)},p=(l="default",d,_,y,b)=>(i.data[l]||f(void 0,l),i.dcnpgettext(l,d,_,y,b)),m=l=>l||"default",Se=(l,d)=>{let _=p(d,void 0,l);return n?(_=n.applyFilters("i18n.gettext",_,l,d),n.applyFilters("i18n.gettext_"+m(d),_,l,d)):_},B=(l,d,_)=>{let y=p(_,d,l);return n?(y=n.applyFilters("i18n.gettext_with_context",y,l,d,_),n.applyFilters("i18n.gettext_with_context_"+m(_),y,l,d,_)):y},$e=(l,d,_,y)=>{let b=p(y,void 0,l,d,_);return n?(b=n.applyFilters("i18n.ngettext",b,l,d,_,y),n.applyFilters("i18n.ngettext_"+m(y),b,l,d,_,y)):b},xe=(l,d,_,y,b)=>{let A=p(b,y,l,d,_);return n?(A=n.applyFilters("i18n.ngettext_with_context",A,l,d,_,y,b),n.applyFilters("i18n.ngettext_with_context_"+m(b),A,l,d,_,y,b)):A},Ee=()=>B("ltr","text direction")==="rtl",Ae=(l,d,_)=>{const y=d?d+""+l:l;let b=!!i.data?.[_??"default"]?.[y];return n&&(b=n.applyFilters("i18n.has_translation",b,l,d,_),b=n.applyFilters("i18n.has_translation_"+m(_),b,l,d,_)),b};if(n){const l=d=>{X.test(d)&&r()};n.addAction("hookAdded","core/i18n",l),n.addAction("hookRemoved","core/i18n",l)}return{getLocaleData:c,setLocaleData:a,addLocaleData:h,resetLocaleData:u,subscribe:s,__:Se,_x:B,_n:$e,_nx:xe,isRTL:Ee,hasTranslation:Ae}};function Y(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var L=Y;function ee(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var T=ee;function te(e,t){return function(i,o,r,s=10){const c=e[t];if(!T(i)||!L(o))return;if(typeof r!="function"){console.error("The hook callback must be a function.");return}if(typeof s!="number"){console.error("If specified, the hook priority must be a number.");return}const f={callback:r,priority:s,namespace:o};if(c[i]){const a=c[i].handlers;let h;for(h=a.length;h>0&&!(s>=a[h-1].priority);h--);h===a.length?a[h]=f:a.splice(h,0,f),c.__current.forEach(u=>{u.name===i&&u.currentIndex>=h&&u.currentIndex++})}else c[i]={handlers:[f],runs:0};i!=="hookAdded"&&e.doAction("hookAdded",i,o,r,s)}}var G=te;function ne(e,t,n=!1){return function(o,r){const s=e[t];if(!T(o)||!n&&!L(r))return;if(!s[o])return 0;let c=0;if(n)c=s[o].handlers.length,s[o]={runs:s[o].runs,handlers:[]};else{const f=s[o].handlers;for(let a=f.length-1;a>=0;a--)f[a].namespace===r&&(f.splice(a,1),c++,s.__current.forEach(h=>{h.name===o&&h.currentIndex>=a&&h.currentIndex--}))}return o!=="hookRemoved"&&e.doAction("hookRemoved",o,r),c}}var $=ne;function re(e,t){return function(i,o){const r=e[t];return typeof o<"u"?i in r&&r[i].handlers.some(s=>s.namespace===o):i in r}}var I=re;function ie(e,t,n,i){return function(r,...s){const c=e[t];c[r]||(c[r]={handlers:[],runs:0}),c[r].runs++;const f=c[r].handlers;if(!f||!f.length)return n?s[0]:void 0;const a={name:r,currentIndex:0};async function h(){try{c.__current.add(a);let p=n?s[0]:void 0;for(;a.currentIndex<f.length;)p=await f[a.currentIndex].callback.apply(null,s),n&&(s[0]=p),a.currentIndex++;return n?p:void 0}finally{c.__current.delete(a)}}function u(){try{c.__current.add(a);let p=n?s[0]:void 0;for(;a.currentIndex<f.length;)p=f[a.currentIndex].callback.apply(null,s),n&&(s[0]=p),a.currentIndex++;return n?p:void 0}finally{c.__current.delete(a)}}return(i?h:u)()}}var x=ie;function oe(e,t){return function(){const i=e[t];return Array.from(i.__current).at(-1)?.name??null}}var D=oe;function se(e,t){return function(i){const o=e[t];return typeof i>"u"?o.__current.size>0:Array.from(o.__current).some(r=>r.name===i)}}var N=se;function ae(e,t){return function(i){const o=e[t];if(T(i))return o[i]&&o[i].runs?o[i].runs:0}}var M=ae,ce=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=G(this,"actions"),this.addFilter=G(this,"filters"),this.removeAction=$(this,"actions"),this.removeFilter=$(this,"filters"),this.hasAction=I(this,"actions"),this.hasFilter=I(this,"filters"),this.removeAllActions=$(this,"actions",!0),this.removeAllFilters=$(this,"filters",!0),this.doAction=x(this,"actions",!1,!1),this.doActionAsync=x(this,"actions",!1,!0),this.applyFilters=x(this,"filters",!0,!1),this.applyFiltersAsync=x(this,"filters",!0,!0),this.currentAction=D(this,"actions"),this.currentFilter=D(this,"filters"),this.doingAction=N(this,"actions"),this.doingFilter=N(this,"filters"),this.didAction=M(this,"actions"),this.didFilter=M(this,"filters")}};function le(){return new ce}var de=le,O=de(),{addAction:He,addFilter:Fe,removeAction:Te,removeFilter:ze,hasAction:Ce,hasFilter:we,removeAllActions:ke,removeAllFilters:Le,doAction:Ge,doActionAsync:Ie,applyFilters:De,applyFiltersAsync:Ne,currentAction:Me,currentFilter:Oe,doingAction:Pe,doingFilter:je,didAction:Be,didFilter:Ue,actions:Ve,filters:We}=O,g=Q(void 0,void 0,O);g.getLocaleData.bind(g),g.setLocaleData.bind(g),g.resetLocaleData.bind(g),g.subscribe.bind(g);var v=g.__.bind(g);g._x.bind(g),g._n.bind(g),g._nx.bind(g),g.isRTL.bind(g),g.hasTranslation.bind(g);const P=[{key:"excellent",label:v("Excellent","voxel-fse"),score:2},{key:"very_good",label:v("Very good","voxel-fse"),score:1},{key:"good",label:v("Good","voxel-fse"),score:0},{key:"fair",label:v("Fair","voxel-fse"),score:-1},{key:"poor",label:v("Poor","voxel-fse"),score:-2}];function ue(e){const t={};return e.columns&&e.columns>1&&(t.gridTemplateColumns=`repeat(${e.columns}, 1fr)`),e.itemGap!==void 0&&e.itemGap>0&&(t.gap=`${e.itemGap}px`),t}function fe({attributes:e,statsData:t,isLoading:n,error:i,context:o,postId:r}){const s=ue(e),c={statMode:e.statMode,columns:e.columns,itemGap:e.itemGap,iconSize:e.iconSize,iconSpacing:e.iconSpacing,labelTypography:e.labelTypography,labelColor:e.labelColor,scoreTypography:e.scoreTypography,scoreColor:e.scoreColor,chartBgColor:e.chartBgColor,chartHeight:e.chartHeight,chartRadius:e.chartRadius};if(n)return React.createElement("div",{className:"ts-review-bars",style:s},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"})));if(i)return React.createElement("div",{className:"ts-review-bars vxfse-error",style:s},React.createElement("div",{className:"vxfse-error-state"},React.createElement("span",null,v("Error loading review stats","voxel-fse"))));if(!t)return e.statMode==="by_category"?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(c)}}),React.createElement("div",{className:"ts-review-bars",style:s})):React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(c)}}),React.createElement("div",{className:"ts-review-bars",style:s},P.map(a=>React.createElement("div",{key:a.key,className:`ts-percentage-bar ${a.key}`},React.createElement("div",{className:"ts-bar-data"},React.createElement("p",null,a.label,React.createElement("span",null,"0%"))),React.createElement("div",{className:"ts-bar-chart"},React.createElement("div",{style:{width:"0%"}}))))));if(e.statMode==="by_category")return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(c)}}),React.createElement("div",{className:"ts-review-bars",style:s},t.byCategory.map(a=>{const h=Math.round((a.score+3)*10)/10,u=h/5*100;return React.createElement("div",{key:a.key,className:"ts-percentage-bar",style:a.color?{"--ts-accent-1":a.color}:void 0},React.createElement("div",{className:"ts-bar-data"},a.icon&&React.createElement("span",{className:"ts-category-icon",dangerouslySetInnerHTML:{__html:a.icon}}),React.createElement("p",null,a.label,React.createElement("span",null,h.toFixed(1)," / 5"))),React.createElement("div",{className:"ts-bar-chart"},React.createElement("div",{style:{width:`${u}%`}})))})));const f=[...t.ratingLevels||P].reverse();return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(c)}}),React.createElement("div",{className:"ts-review-bars",style:s},f.map(a=>{const h=t.overall[a.key]||0;return React.createElement("div",{key:a.key,className:`ts-percentage-bar ${a.key}`,style:a.color?{"--ts-accent-1":a.color}:void 0},React.createElement("div",{className:"ts-bar-data"},React.createElement("p",null,a.label,React.createElement("span",null,Math.round(h),"%"))),React.createElement("div",{className:"ts-bar-chart"},React.createElement("div",{style:{width:`${h}%`}})))})))}function j(e){if(!e)return"";let t="";if(e.fontFamily&&(t+=`font-family: ${e.fontFamily}; `),e.fontSize){const n=e.fontSizeUnit||"px";t+=`font-size: ${e.fontSize}${n}; `}if(e.fontWeight&&(t+=`font-weight: ${e.fontWeight}; `),e.fontStyle&&(t+=`font-style: ${e.fontStyle}; `),e.textTransform&&(t+=`text-transform: ${e.textTransform}; `),e.textDecoration&&(t+=`text-decoration: ${e.textDecoration}; `),e.lineHeight){const n=e.lineHeightUnit||"";t+=`line-height: ${e.lineHeight}${n}; `}if(e.letterSpacing){const n=e.letterSpacingUnit||"px";t+=`letter-spacing: ${e.letterSpacing}${n}; `}return t}function pe(e,t){const n=[],i=[],o=[],r=`.vxfse-review-stats-${t}`;if(e.columns&&n.push(`${r} .ts-review-bars { grid-template-columns: repeat(${e.columns}, 1fr); }`),e.columns_tablet!==void 0&&i.push(`${r} .ts-review-bars { grid-template-columns: repeat(${e.columns_tablet}, 1fr); }`),e.columns_mobile!==void 0&&o.push(`${r} .ts-review-bars { grid-template-columns: repeat(${e.columns_mobile}, 1fr); }`),e.itemGap!==void 0&&n.push(`${r} .ts-review-bars { grid-gap: ${e.itemGap}px; }`),e.itemGap_tablet!==void 0&&i.push(`${r} .ts-review-bars { grid-gap: ${e.itemGap_tablet}px; }`),e.itemGap_mobile!==void 0&&o.push(`${r} .ts-review-bars { grid-gap: ${e.itemGap_mobile}px; }`),e.iconSize&&(n.push(`${r} .ts-bar-data i { font-size: ${e.iconSize}px; }`),n.push(`${r} .ts-bar-data svg { width: ${e.iconSize}px; height: ${e.iconSize}px; }`)),e.iconSize_tablet!==void 0&&(i.push(`${r} .ts-bar-data i { font-size: ${e.iconSize_tablet}px; }`),i.push(`${r} .ts-bar-data svg { width: ${e.iconSize_tablet}px; height: ${e.iconSize_tablet}px; }`)),e.iconSize_mobile!==void 0&&(o.push(`${r} .ts-bar-data i { font-size: ${e.iconSize_mobile}px; }`),o.push(`${r} .ts-bar-data svg { width: ${e.iconSize_mobile}px; height: ${e.iconSize_mobile}px; }`)),e.iconSpacing!==void 0&&(n.push(`${r} .ts-bar-data i { margin-right: ${e.iconSpacing}px; }`),n.push(`${r} .ts-bar-data svg { margin-right: ${e.iconSpacing}px; }`)),e.labelTypography){const c=j(e.labelTypography);c&&n.push(`${r} .ts-bar-data p { ${c} }`)}if(e.labelColor&&n.push(`${r} .ts-bar-data p { color: ${e.labelColor}; }`),e.scoreTypography){const c=j(e.scoreTypography);c&&n.push(`${r} .ts-bar-data p span { ${c} }`)}e.scoreColor&&n.push(`${r} .ts-bar-data p span { color: ${e.scoreColor}; }`),e.chartBgColor&&n.push(`${r} .ts-bar-chart { background-color: ${e.chartBgColor}; }`),e.chartHeight!==void 0&&n.push(`${r} .ts-bar-chart { height: ${e.chartHeight}px; }`),e.chartHeight_tablet!==void 0&&i.push(`${r} .ts-bar-chart { height: ${e.chartHeight_tablet}px; }`),e.chartHeight_mobile!==void 0&&o.push(`${r} .ts-bar-chart { height: ${e.chartHeight_mobile}px; }`),e.chartRadius!==void 0&&n.push(`${r} .ts-bar-chart { border-radius: ${e.chartRadius}px; }`),e.chartRadius_tablet!==void 0&&i.push(`${r} .ts-bar-chart { border-radius: ${e.chartRadius_tablet}px; }`),e.chartRadius_mobile!==void 0&&o.push(`${r} .ts-bar-chart { border-radius: ${e.chartRadius_mobile}px; }`);let s="";return n.length>0&&(s+=n.join(`
`)),i.length>0&&(s+=`
@media (max-width: 1024px) {
${i.join(`
`)}
}`),o.length>0&&(s+=`
@media (max-width: 767px) {
${o.join(`
`)}
}`),s}function he(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!t.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}function me(e){const t=(u,p)=>typeof u=="string"?u:typeof u=="number"?String(u):p,n=(u,p)=>{if(typeof u=="number")return u;if(typeof u=="string"){const m=parseFloat(u);if(!isNaN(m))return m}return p},i=(u,p)=>{if(typeof u=="object"&&u!==null){const m=u;return{desktop:m.desktop!==void 0?n(m.desktop,p):p,tablet:m.tablet!==void 0?n(m.tablet,p):void 0,mobile:m.mobile!==void 0?n(m.mobile,p):void 0}}return typeof u=="number"?{desktop:u}:{desktop:p}},o=(u,p)=>{if(typeof u=="object"&&u!==null){const m=u;return{desktop:m.desktop!==void 0?t(m.desktop,p):p,tablet:m.tablet!==void 0?t(m.tablet,p):void 0,mobile:m.mobile!==void 0?t(m.mobile,p):void 0}}return typeof u=="string"?{desktop:u}:{desktop:p}},r=u=>{if(!u)return;const p=parseFloat(u);return isNaN(p)?void 0:p},s=i(e.columns??e.ts_rs_column_no,1),c=o(e.itemGap??e.item_gap??e.ts_rs_col_gap,""),f=o(e.iconSize??e.icon_size??e.ts_review_icon_size,""),a=o(e.chartHeight??e.chart_height??e.ts_chart_height,""),h=o(e.chartRadius??e.chart_radius??e.ts_chart_rad,"");return{statMode:t(e.statMode??e.stat_mode,"overall"),columns:s.desktop,columns_tablet:s.tablet,columns_mobile:s.mobile,itemGap:typeof e.itemGap=="number"?e.itemGap:r(c.desktop)??0,itemGap_tablet:typeof e.itemGap_tablet=="number"?e.itemGap_tablet:r(c.tablet),itemGap_mobile:typeof e.itemGap_mobile=="number"?e.itemGap_mobile:r(c.mobile),iconSize:typeof e.iconSize=="number"?e.iconSize:r(f.desktop)??0,iconSize_tablet:typeof e.iconSize_tablet=="number"?e.iconSize_tablet:r(f.tablet),iconSize_mobile:typeof e.iconSize_mobile=="number"?e.iconSize_mobile:r(f.mobile),iconSpacing:e.iconSpacing!==void 0?n(e.iconSpacing,void 0):e.icon_spacing!==void 0?n(e.icon_spacing,void 0):e.ts_review_icon_spacing!==void 0?n(e.ts_review_icon_spacing,void 0):void 0,labelTypography:e.labelTypography??e.label_typography??e.ts_review_typo??{},labelColor:t(e.labelColor??e.label_color??e.ts_review_typo_color,""),scoreTypography:e.scoreTypography??e.score_typography??e.ts_review_score??{},scoreColor:t(e.scoreColor??e.score_color??e.ts_review_score_color,""),chartBgColor:t(e.chartBgColor??e.chart_bg_color??e.ts_review_chart_bg,""),chartHeight:typeof e.chartHeight=="number"?e.chartHeight:r(a.desktop)??0,chartHeight_tablet:typeof e.chartHeight_tablet=="number"?e.chartHeight_tablet:r(a.tablet),chartHeight_mobile:typeof e.chartHeight_mobile=="number"?e.chartHeight_mobile:r(a.mobile),chartRadius:typeof e.chartRadius=="number"?e.chartRadius:r(h.desktop)??0,chartRadius_tablet:typeof e.chartRadius_tablet=="number"?e.chartRadius_tablet:r(h.tablet),chartRadius_mobile:typeof e.chartRadius_mobile=="number"?e.chartRadius_mobile:r(h.mobile)}}function _e(){return he()}function ge(){const e=window.voxelCurrentPost;if(e?.id)return e.id;const t=document.body.className.split(" ");for(const o of t)if(o.startsWith("postid-")||o.startsWith("page-id-")){const r=parseInt(o.replace("postid-","").replace("page-id-",""),10);if(!isNaN(r))return r}const n=window.wp;if(n?.data?.select){const o=n.data.select("core/editor")?.getCurrentPostId?.();if(o)return o}const i=document.querySelector('article[id^="post-"]');if(i){const o=parseInt(i.id.replace("post-",""),10);if(!isNaN(o))return o}return null}function ye(e){const t=e.querySelector("script.vxconfig");if(t?.textContent)try{const n=JSON.parse(t.textContent);return me(n)}catch(n){console.error("Failed to parse vxconfig:",n)}return null}function be(e,t){return{blockId:t,statMode:e.statMode||"overall",columns:e.columns||1,columns_tablet:e.columns_tablet,columns_mobile:e.columns_mobile,itemGap:e.itemGap||0,itemGap_tablet:e.itemGap_tablet,itemGap_mobile:e.itemGap_mobile,iconSize:e.iconSize||0,iconSize_tablet:e.iconSize_tablet,iconSize_mobile:e.iconSize_mobile,iconSpacing:e.iconSpacing,labelTypography:e.labelTypography||{},labelColor:e.labelColor||"",scoreTypography:e.scoreTypography||{},scoreColor:e.scoreColor||"",chartBgColor:e.chartBgColor||"",chartHeight:e.chartHeight||0,chartHeight_tablet:e.chartHeight_tablet,chartHeight_mobile:e.chartHeight_mobile,chartRadius:e.chartRadius||0,chartRadius_tablet:e.chartRadius_tablet,chartRadius_mobile:e.chartRadius_mobile,hideDesktop:!1,hideTablet:!1,hideMobile:!1,customClasses:""}}async function ve(e){const n=`${_e()}voxel-fse/v1/review-stats?post_id=${e}`,i={},o=window.wpApiSettings?.nonce;o&&(i["X-WP-Nonce"]=o);const r=await fetch(n,{credentials:"same-origin",headers:i});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Error(s.message||`HTTP error ${r.status}`)}return r.json()}function Re({attributes:e,postId:t}){const[n,i]=S.useState(null),[o,r]=S.useState(!0),[s,c]=S.useState(null);S.useEffect(()=>{let a=!1;async function h(){r(!0),c(null);try{const u=await ve(t);a||i(u)}catch(u){a||c(u instanceof Error?u.message:"Failed to load review stats")}finally{a||r(!1)}}return h(),()=>{a=!0}},[t]);const f=pe(e,e.blockId||"");return React.createElement(React.Fragment,null,f&&React.createElement("style",{dangerouslySetInnerHTML:{__html:f}}),React.createElement(fe,{attributes:e,statsData:n,isLoading:o,error:s,context:"frontend",postId:t}))}function E(){document.querySelectorAll(".vxfse-review-stats").forEach(t=>{if(t.dataset.hydrated==="true")return;const n=ye(t);if(!n)return;const i=ge();if(!i)return;const o=t.dataset.blockId||"",r=be(n,o);t.dataset.hydrated="true",t.innerHTML="",U.createRoot(t).render(React.createElement(Re,{attributes:r,postId:i}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",E):E(),window.addEventListener("turbo:load",E),window.addEventListener("pjax:complete",E)})(ReactDOM,React);
