(function(){"use strict";function y(n){const o=(t,s)=>typeof t=="string"?t:s,a=(t,s)=>{if(typeof t=="number")return t;if(typeof t=="string"){const i=parseFloat(t);if(!isNaN(i))return i}return s},r=t=>({id:o(t.id??t.tab_id,""),title:o(t.title??t.tab_title,""),cssId:o(t.cssId??t.css_id??t.element_id,""),icon:t.icon??t.tab_icon??null,iconActive:t.iconActive??t.icon_active??t.tab_icon_active??null}),f=n.tabs??n.tab_items??[],u=Array.isArray(f)?f.map(t=>r(t)):[],l=n.layout??{},h={direction:o(l.direction??n.tabsDirection??n.tabs_direction,"block-start"),justifyHorizontal:o(l.justifyHorizontal??n.tabsJustifyHorizontal??n.tabs_justify_horizontal,"start"),justifyVertical:o(l.justifyVertical??n.tabsJustifyVertical??n.tabs_justify_vertical,"start"),titleAlignment:o(l.titleAlignment??n.titleAlignment??n.title_alignment,"start"),horizontalScroll:o(l.horizontalScroll??n.horizontalScroll??n.horizontal_scroll,"disable"),breakpoint:o(l.breakpoint??n.breakpointSelector??n.breakpoint_selector,"none")},b=n.icons??{},g={position:o(b.position??n.iconPosition??n.icon_position,"inline-start")},e=n.animations??{},c={transitionDuration:a(e.transitionDuration??n.transitionDuration??n.transition_duration??n.hover_transition,.3),hoverAnimation:o(e.hoverAnimation??n.hoverAnimation??n.hover_animation,"")};return{tabs:u,layout:h,icons:g,animations:c}}function m(n){const o=n.dataset.vxconfig;if(o)try{const a=JSON.parse(o);return y(a)}catch(a){console.error("[NestedTabs] Failed to parse vxconfig:",a)}return null}function A(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function v(){const n=window.innerWidth;return n<768?"mobile":n<1025?"tablet":"desktop"}function k(n){const o=m(n);if(!o){console.error("[NestedTabs] No vxconfig found");return}const a=n.querySelector(".e-n-tabs");if(!a)return;const r=Array.from(a.querySelectorAll(".e-n-tab-title")),f=Array.from(a.querySelectorAll(".e-n-tabs-content > .e-con, .e-n-tabs-content > .vxfse-tab-panel, .e-n-tabs-content > .wp-block-group"));a.dataset.touchMode=A()?"true":"false";function u(e,c=!1){e<0||e>=r.length||(r.forEach((t,s)=>{const i=s===e;t.classList.toggle("e-active",i),t.setAttribute("aria-selected",i?"true":"false"),t.setAttribute("tabindex",i?"0":"-1")}),f.forEach((t,s)=>{const i=s===e;t.classList.toggle("e-active",i),i?t.removeAttribute("hidden"):t.setAttribute("hidden","")}),r.forEach((t,s)=>{const i=t.querySelector(".e-n-tab-icon");if(!i)return;const p=i.querySelectorAll("i");p.length===2&&(p[0].style.display=s===e?"none":"",p[1].style.display=s===e?"":"none")}),c&&r[e]?.focus())}function l(e){e.preventDefault();const c=e.currentTarget,t=r.indexOf(c);t!==-1&&u(t)}function h(e){const c=e.target,t=r.indexOf(c);if(t===-1)return;const s=["inline-start","inline-end"].includes(o.layout.direction);let i=t;switch(e.key){case"ArrowRight":s||(e.preventDefault(),i=(t+1)%r.length);break;case"ArrowLeft":s||(e.preventDefault(),i=(t-1+r.length)%r.length);break;case"ArrowDown":s&&(e.preventDefault(),i=(t+1)%r.length);break;case"ArrowUp":s&&(e.preventDefault(),i=(t-1+r.length)%r.length);break;case"Home":e.preventDefault(),i=0;break;case"End":e.preventDefault(),i=r.length-1;break;case"Enter":case" ":e.preventDefault(),u(t);return;default:return}i!==t&&u(i,!0)}function b(){const e=v(),c=o.layout.breakpoint==="mobile"&&e==="mobile"||o.layout.breakpoint==="tablet"&&(e==="mobile"||e==="tablet");a.classList.toggle("e-n-tabs-accordion-mode",c)}r.forEach(e=>{e.addEventListener("click",l),e.addEventListener("keydown",h)}),o.layout.breakpoint!=="none"&&(window.addEventListener("resize",b),b()),!r.some(e=>e.classList.contains("e-active"))&&r.length>0?u(0):f.forEach((e,c)=>{r[c]?.classList.contains("e-active")?e.removeAttribute("hidden"):e.setAttribute("hidden","")}),n.dataset.initialized="true"}function d(){document.querySelectorAll(".vxfse-nested-tabs:not([data-initialized])").forEach(k)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d(),window.addEventListener("turbo:load",d),window.addEventListener("pjax:complete",d)})();
