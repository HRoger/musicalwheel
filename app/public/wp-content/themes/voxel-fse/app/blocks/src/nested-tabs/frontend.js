(function(){"use strict";function g(e){const o=(t,r)=>typeof t=="string"?t:r,a=(t,r)=>{if(typeof t=="number")return t;if(typeof t=="string"){const i=parseFloat(t);if(!isNaN(i))return i}return r},s=t=>({id:o(t.id??t.tab_id,""),title:o(t.title??t.tab_title,""),cssId:o(t.cssId??t.css_id??t.element_id,""),icon:t.icon??t.tab_icon??null,iconActive:t.iconActive??t.icon_active??t.tab_icon_active??null}),f=e.tabs??e.tab_items??[],u=Array.isArray(f)?f.map(t=>s(t)):[],l=e.layout??{},p={direction:o(l.direction??e.tabsDirection??e.tabs_direction,"block-start"),justifyHorizontal:o(l.justifyHorizontal??e.tabsJustifyHorizontal??e.tabs_justify_horizontal,"start"),justifyVertical:o(l.justifyVertical??e.tabsJustifyVertical??e.tabs_justify_vertical,"start"),titleAlignment:o(l.titleAlignment??e.titleAlignment??e.title_alignment,"start"),horizontalScroll:o(l.horizontalScroll??e.horizontalScroll??e.horizontal_scroll,"disable"),breakpoint:o(l.breakpoint??e.breakpointSelector??e.breakpoint_selector,"none")},b=e.icons??{},y={position:o(b.position??e.iconPosition??e.icon_position,"inline-start")},n=e.animations??{},c={transitionDuration:a(n.transitionDuration??e.transitionDuration??e.transition_duration??e.hover_transition,.3),hoverAnimation:o(n.hoverAnimation??e.hoverAnimation??e.hover_animation,"")};return{tabs:u,layout:p,icons:y,animations:c}}function m(e){const o=e.dataset.vxconfig;if(o)try{const a=JSON.parse(o);return g(a)}catch(a){console.error("[NestedTabs] Failed to parse vxconfig:",a)}return null}function v(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function A(){const e=window.innerWidth;return e<768?"mobile":e<1025?"tablet":"desktop"}function k(e){const o=m(e);if(!o){console.error("[NestedTabs] No vxconfig found");return}const a=e.querySelector(".e-n-tabs");if(!a)return;const s=Array.from(a.querySelectorAll(".e-n-tab-title")),f=Array.from(a.querySelectorAll(".e-n-tabs-content > .e-con, .e-n-tabs-content > .vxfse-tab-panel, .e-n-tabs-content > .wp-block-group"));a.dataset.touchMode=v()?"true":"false";function u(n,c=!1){n<0||n>=s.length||(s.forEach((t,r)=>{const i=r===n;t.classList.toggle("e-active",i),t.setAttribute("aria-selected",i?"true":"false"),t.setAttribute("tabindex",i?"0":"-1")}),f.forEach((t,r)=>{const i=r===n;t.classList.toggle("e-active",i),t.style.display=i?"block":"none"}),s.forEach((t,r)=>{const i=t.querySelector(".e-n-tab-icon");if(!i)return;const h=i.querySelectorAll("i");h.length===2&&(h[0].style.display=r===n?"none":"",h[1].style.display=r===n?"":"none")}),c&&s[n]?.focus())}function l(n){n.preventDefault();const c=n.currentTarget,t=s.indexOf(c);t!==-1&&u(t)}function p(n){const c=n.target,t=s.indexOf(c);if(t===-1)return;const r=["inline-start","inline-end"].includes(o.layout.direction);let i=t;switch(n.key){case"ArrowRight":r||(n.preventDefault(),i=(t+1)%s.length);break;case"ArrowLeft":r||(n.preventDefault(),i=(t-1+s.length)%s.length);break;case"ArrowDown":r&&(n.preventDefault(),i=(t+1)%s.length);break;case"ArrowUp":r&&(n.preventDefault(),i=(t-1+s.length)%s.length);break;case"Home":n.preventDefault(),i=0;break;case"End":n.preventDefault(),i=s.length-1;break;case"Enter":case" ":n.preventDefault(),u(t);return;default:return}i!==t&&u(i,!0)}function b(){const n=A(),c=o.layout.breakpoint==="mobile"&&n==="mobile"||o.layout.breakpoint==="tablet"&&(n==="mobile"||n==="tablet");a.classList.toggle("e-n-tabs-accordion-mode",c)}s.forEach(n=>{n.addEventListener("click",l),n.addEventListener("keydown",p)}),o.layout.breakpoint!=="none"&&(window.addEventListener("resize",b),b()),!s.some(n=>n.classList.contains("e-active"))&&s.length>0?u(0):f.forEach((n,c)=>{const t=s[c]?.classList.contains("e-active");n.style.display=t?"block":"none"}),e.dataset.initialized="true"}function d(){document.querySelectorAll(".vxfse-nested-tabs:not([data-initialized])").forEach(k)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d(),window.addEventListener("turbo:load",d),window.addEventListener("pjax:complete",d)})();
