(function(un,u,Me,dn){"use strict";function Oe(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!t.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}function _e({text:e,icon:t="î —",className:n="",style:r={}}){return typeof window<"u"&&!window.wp?.blockEditor?null:u.createElement("div",{className:`voxel-empty-placeholder ${n}`,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e?"8px":"0",background:"rgb(213 216 220 / 80%)",borderRadius:"0",color:"#666",fontSize:"13px",height:"45px",width:"100%",...r}},u.createElement("span",{className:"placeholder-icon",style:{fontFamily:"eicons",fontSize:"24px",opacity:.3,lineHeight:1,fontStyle:"normal"}},t),e&&u.createElement("span",{className:"placeholder-text",style:{opacity:.6}},e))}function fn(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var ft=fn;function pn(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var qe=pn;function mn(e,t){return function(r,s,o,l=10){const a=e[t];if(!qe(r)||!ft(s))return;if(typeof o!="function"){console.error("The hook callback must be a function.");return}if(typeof l!="number"){console.error("If specified, the hook priority must be a number.");return}const i={callback:o,priority:l,namespace:s};if(a[r]){const c=a[r].handlers;let d;for(d=c.length;d>0&&!(l>=c[d-1].priority);d--);d===c.length?c[d]=i:c.splice(d,0,i),a.__current.forEach(v=>{v.name===r&&v.currentIndex>=d&&v.currentIndex++})}else a[r]={handlers:[i],runs:0};r!=="hookAdded"&&e.doAction("hookAdded",r,s,o,l)}}var pt=mn;function hn(e,t,n=!1){return function(s,o){const l=e[t];if(!qe(s)||!n&&!ft(o))return;if(!l[s])return 0;let a=0;if(n)a=l[s].handlers.length,l[s]={runs:l[s].runs,handlers:[]};else{const i=l[s].handlers;for(let c=i.length-1;c>=0;c--)i[c].namespace===o&&(i.splice(c,1),a++,l.__current.forEach(d=>{d.name===s&&d.currentIndex>=c&&d.currentIndex--}))}return s!=="hookRemoved"&&e.doAction("hookRemoved",s,o),a}}var Pe=hn;function yn(e,t){return function(r,s){const o=e[t];return typeof s<"u"?r in o&&o[r].handlers.some(l=>l.namespace===s):r in o}}var mt=yn;function vn(e,t,n,r){return function(o,...l){const a=e[t];a[o]||(a[o]={handlers:[],runs:0}),a[o].runs++;const i=a[o].handlers;if(!i||!i.length)return n?l[0]:void 0;const c={name:o,currentIndex:0};async function d(){try{a.__current.add(c);let p=n?l[0]:void 0;for(;c.currentIndex<i.length;)p=await i[c.currentIndex].callback.apply(null,l),n&&(l[0]=p),c.currentIndex++;return n?p:void 0}finally{a.__current.delete(c)}}function v(){try{a.__current.add(c);let p=n?l[0]:void 0;for(;c.currentIndex<i.length;)p=i[c.currentIndex].callback.apply(null,l),n&&(l[0]=p),c.currentIndex++;return n?p:void 0}finally{a.__current.delete(c)}}return(r?d:v)()}}var Ae=vn;function gn(e,t){return function(){const r=e[t];return Array.from(r.__current).at(-1)?.name??null}}var ht=gn;function bn(e,t){return function(r){const s=e[t];return typeof r>"u"?s.__current.size>0:Array.from(s.__current).some(o=>o.name===r)}}var yt=bn;function En(e,t){return function(r){const s=e[t];if(qe(r))return s[r]&&s[r].runs?s[r].runs:0}}var vt=En,wn=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=pt(this,"actions"),this.addFilter=pt(this,"filters"),this.removeAction=Pe(this,"actions"),this.removeFilter=Pe(this,"filters"),this.hasAction=mt(this,"actions"),this.hasFilter=mt(this,"filters"),this.removeAllActions=Pe(this,"actions",!0),this.removeAllFilters=Pe(this,"filters",!0),this.doAction=Ae(this,"actions",!1,!1),this.doActionAsync=Ae(this,"actions",!1,!0),this.applyFilters=Ae(this,"filters",!0,!1),this.applyFiltersAsync=Ae(this,"filters",!0,!0),this.currentAction=ht(this,"actions"),this.currentFilter=ht(this,"filters"),this.doingAction=yt(this,"actions"),this.doingFilter=yt(this,"filters"),this.didAction=vt(this,"actions"),this.didFilter=vt(this,"filters")}};function Sn(){return new wn}var Rn=Sn,Cn=Rn(),{addAction:el,addFilter:tl,removeAction:nl,removeFilter:rl,hasAction:sl,hasFilter:ll,removeAllActions:al,removeAllFilters:ol,doAction:kn,doActionAsync:il,applyFilters:cl,applyFiltersAsync:ul,currentAction:dl,currentFilter:fl,doingAction:pl,doingFilter:ml,didAction:hl,didFilter:yl,actions:vl,filters:gl}=Cn,gt=Object.create(null);function bt(e,t={}){const{since:n,version:r,alternative:s,plugin:o,link:l,hint:a}=t,i=o?` from ${o}`:"",c=n?` since version ${n}`:"",d=r?` and will be removed${i} in version ${r}`:"",v=s?` Please use ${s} instead.`:"",p=l?` See: ${l}`:"",g=a?` Note: ${a}`:"",b=`${e} is deprecated${c}${d}.${v}${p}${g}`;b in gt||(kn("deprecated",e,t,b),console.warn(b),gt[b]=!0)}function ae(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Nn=typeof Symbol=="function"&&Symbol.observable||"@@observable",Et=Nn,wt=()=>Math.random().toString(36).substring(7).split("").join("."),_n={INIT:`@@redux/INIT${wt()}`,REPLACE:`@@redux/REPLACE${wt()}`},St=_n;function xn(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Rt(e,t,n){if(typeof e!="function")throw new Error(ae(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ae(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ae(1));return n(Rt)(e,t)}let r=e,s=t,o=new Map,l=o,a=0,i=!1;function c(){l===o&&(l=new Map,o.forEach((C,k)=>{l.set(k,C)}))}function d(){if(i)throw new Error(ae(3));return s}function v(C){if(typeof C!="function")throw new Error(ae(4));if(i)throw new Error(ae(5));let k=!0;c();const E=a++;return l.set(E,C),function(){if(k){if(i)throw new Error(ae(6));k=!1,c(),l.delete(E),o=null}}}function p(C){if(!xn(C))throw new Error(ae(7));if(typeof C.type>"u")throw new Error(ae(8));if(typeof C.type!="string")throw new Error(ae(17));if(i)throw new Error(ae(9));try{i=!0,s=r(s,C)}finally{i=!1}return(o=l).forEach(E=>{E()}),C}function g(C){if(typeof C!="function")throw new Error(ae(10));r=C,p({type:St.REPLACE})}function b(){const C=v;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(ae(11));function E(){const N=k;N.next&&N.next(d())}return E(),{unsubscribe:C(E)}},[Et](){return this}}}return p({type:St.INIT}),{dispatch:p,subscribe:v,getState:d,replaceReducer:g,[Et]:b}}function Tn(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function In(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(ae(15))};const l={getState:s.getState,dispatch:(i,...c)=>o(i,...c)},a=e.map(i=>i(l));return o=Tn(...a)(s.dispatch),{...s,dispatch:o}}}var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ze,kt;function Mn(){if(kt)return ze;kt=1;function e(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(a){return typeof a}:e=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e(l)}function t(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function n(l,a){for(var i=0;i<a.length;i++){var c=a[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}function r(l,a,i){return a&&n(l.prototype,a),l}function s(l,a){var i=l._map,c=l._arrayTreeMap,d=l._objectTreeMap;if(i.has(a))return i.get(a);for(var v=Object.keys(a).sort(),p=Array.isArray(a)?c:d,g=0;g<v.length;g++){var b=v[g];if(p=p.get(b),p===void 0)return;var _=a[b];if(p=p.get(_),p===void 0)return}var C=p.get("_ekm_value");if(C)return i.delete(C[0]),C[0]=a,p.set("_ekm_value",C),i.set(a,C),C}var o=(function(){function l(a){if(t(this,l),this.clear(),a instanceof l){var i=[];a.forEach(function(d,v){i.push([v,d])}),a=i}if(a!=null)for(var c=0;c<a.length;c++)this.set(a[c][0],a[c][1])}return r(l,[{key:"set",value:function(i,c){if(i===null||e(i)!=="object")return this._map.set(i,c),this;for(var d=Object.keys(i).sort(),v=[i,c],p=Array.isArray(i)?this._arrayTreeMap:this._objectTreeMap,g=0;g<d.length;g++){var b=d[g];p.has(b)||p.set(b,new l),p=p.get(b);var _=i[b];p.has(_)||p.set(_,new l),p=p.get(_)}var C=p.get("_ekm_value");return C&&this._map.delete(C[0]),p.set("_ekm_value",v),this._map.set(i,v),this}},{key:"get",value:function(i){if(i===null||e(i)!=="object")return this._map.get(i);var c=s(this,i);if(c)return c[1]}},{key:"has",value:function(i){return i===null||e(i)!=="object"?this._map.has(i):s(this,i)!==void 0}},{key:"delete",value:function(i){return this.has(i)?(this.set(i,void 0),!0):!1}},{key:"forEach",value:function(i){var c=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;this._map.forEach(function(v,p){p!==null&&e(p)==="object"&&(v=v[1]),i.call(d,v,p,c)})}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}]),l})();return ze=o,ze}var On=Mn();const he=Ln(On);function Pn(e){return!!e&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}var Ke={},ne={},Fe={},Nt;function _t(){if(Nt)return Fe;Nt=1,Object.defineProperty(Fe,"__esModule",{value:!0});var e={all:Symbol("all"),error:Symbol("error"),fork:Symbol("fork"),join:Symbol("join"),race:Symbol("race"),call:Symbol("call"),cps:Symbol("cps"),subscribe:Symbol("subscribe")};return Fe.default=e,Fe}var xt;function Tt(){if(xt)return ne;xt=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.createChannel=ne.subscribe=ne.cps=ne.apply=ne.call=ne.invoke=ne.delay=ne.race=ne.join=ne.fork=ne.error=ne.all=void 0;var e=_t(),t=n(e);function n(r){return r&&r.__esModule?r:{default:r}}return ne.all=function(s){return{type:t.default.all,value:s}},ne.error=function(s){return{type:t.default.error,error:s}},ne.fork=function(s){for(var o=arguments.length,l=Array(o>1?o-1:0),a=1;a<o;a++)l[a-1]=arguments[a];return{type:t.default.fork,iterator:s,args:l}},ne.join=function(s){return{type:t.default.join,task:s}},ne.race=function(s){return{type:t.default.race,competitors:s}},ne.delay=function(s){return new Promise(function(o){setTimeout(function(){return o(!0)},s)})},ne.invoke=function(s){for(var o=arguments.length,l=Array(o>1?o-1:0),a=1;a<o;a++)l[a-1]=arguments[a];return{type:t.default.call,func:s,context:null,args:l}},ne.call=function(s,o){for(var l=arguments.length,a=Array(l>2?l-2:0),i=2;i<l;i++)a[i-2]=arguments[i];return{type:t.default.call,func:s,context:o,args:a}},ne.apply=function(s,o,l){return{type:t.default.call,func:s,context:o,args:l}},ne.cps=function(s){for(var o=arguments.length,l=Array(o>1?o-1:0),a=1;a<o;a++)l[a-1]=arguments[a];return{type:t.default.cps,func:s,args:l}},ne.subscribe=function(s){return{type:t.default.subscribe,channel:s}},ne.createChannel=function(s){var o=[],l=function(c){return o.push(c),function(){return o.splice(o.indexOf(c),1)}},a=function(c){return o.forEach(function(d){return d(c)})};return s(a),{subscribe:l}},ne}var Ve={},oe={},De={},It;function je(){if(It)return De;It=1,Object.defineProperty(De,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol?"symbol":typeof o},t=_t(),n=r(t);function r(o){return o&&o.__esModule?o:{default:o}}var s={obj:function(l){return(typeof l>"u"?"undefined":e(l))==="object"&&!!l},all:function(l){return s.obj(l)&&l.type===n.default.all},error:function(l){return s.obj(l)&&l.type===n.default.error},array:Array.isArray,func:function(l){return typeof l=="function"},promise:function(l){return l&&s.func(l.then)},iterator:function(l){return l&&s.func(l.next)&&s.func(l.throw)},fork:function(l){return s.obj(l)&&l.type===n.default.fork},join:function(l){return s.obj(l)&&l.type===n.default.join},race:function(l){return s.obj(l)&&l.type===n.default.race},call:function(l){return s.obj(l)&&l.type===n.default.call},cps:function(l){return s.obj(l)&&l.type===n.default.cps},subscribe:function(l){return s.obj(l)&&l.type===n.default.subscribe},channel:function(l){return s.obj(l)&&s.func(l.subscribe)}};return De.default=s,De}var Lt;function An(){if(Lt)return oe;Lt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.iterator=oe.array=oe.object=oe.error=oe.any=void 0;var e=je(),t=n(e);function n(i){return i&&i.__esModule?i:{default:i}}var r=oe.any=function(c,d,v,p){return p(c),!0},s=oe.error=function(c,d,v,p,g){return t.default.error(c)?(g(c.error),!0):!1},o=oe.object=function(c,d,v,p,g){if(!t.default.all(c)||!t.default.obj(c.value))return!1;var b={},_=Object.keys(c.value),C=0,k=!1,E=function(y,f){k||(b[y]=f,C++,C===_.length&&p(b))},x=function(y,f){k||(k=!0,g(f))};return _.map(function(N){v(c.value[N],function(y){return E(N,y)},function(y){return x(N,y)})}),!0},l=oe.array=function(c,d,v,p,g){if(!t.default.all(c)||!t.default.array(c.value))return!1;var b=[],_=0,C=!1,k=function(N,y){C||(b[N]=y,_++,_===c.value.length&&p(b))},E=function(N,y){C||(C=!0,g(y))};return c.value.map(function(x,N){v(x,function(y){return k(N,y)},function(y){return E(N,y)})}),!0},a=oe.iterator=function(c,d,v,p,g){return t.default.iterator(c)?(v(c,d,g),!0):!1};return oe.default=[s,a,l,o,r],oe}var Mt;function Fn(){if(Mt)return Ve;Mt=1,Object.defineProperty(Ve,"__esModule",{value:!0});var e=An(),t=s(e),n=je(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}function o(a){if(Array.isArray(a)){for(var i=0,c=Array(a.length);i<a.length;i++)c[i]=a[i];return c}else return Array.from(a)}var l=function(){var i=arguments.length<=0||arguments[0]===void 0?[]:arguments[0],c=[].concat(o(i),o(t.default)),d=function v(p){var g=arguments.length<=1||arguments[1]===void 0?function(){}:arguments[1],b=arguments.length<=2||arguments[2]===void 0?function(){}:arguments[2],_=function(E){var x=function(f){return function(h){try{var w=f?E.throw(h):E.next(h),I=w.value,S=w.done;if(S)return g(I);N(I)}catch(O){return b(O)}}},N=function y(f){c.some(function(h){return h(f,y,v,x(!1),x(!0))})};x(!1)()},C=r.default.iterator(p)?p:regeneratorRuntime.mark(function k(){return regeneratorRuntime.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,p;case 2:return x.abrupt("return",x.sent);case 3:case"end":return x.stop()}},k,this)})();_(C)};return d};return Ve.default=l,Ve}var pe={},He={},Ot;function Vn(){if(Ot)return He;Ot=1,Object.defineProperty(He,"__esModule",{value:!0});var e=function(){var n=[];return{subscribe:function(s){return n.push(s),function(){n=n.filter(function(o){return o!==s})}},dispatch:function(s){n.slice().forEach(function(o){return o(s)})}}};return He.default=e,He}var Pt;function Dn(){if(Pt)return pe;Pt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.race=pe.join=pe.fork=pe.promise=void 0;var e=je(),t=o(e),n=Tt(),r=Vn(),s=o(r);function o(p){return p&&p.__esModule?p:{default:p}}var l=pe.promise=function(g,b,_,C,k){return t.default.promise(g)?(g.then(b,k),!0):!1},a=new Map,i=pe.fork=function(g,b,_){if(!t.default.fork(g))return!1;var C=Symbol("fork"),k=(0,s.default)();a.set(C,k),_(g.iterator.apply(null,g.args),function(x){return k.dispatch(x)},function(x){return k.dispatch((0,n.error)(x))});var E=k.subscribe(function(){E(),a.delete(C)});return b(C),!0},c=pe.join=function(g,b,_,C,k){if(!t.default.join(g))return!1;var E=a.get(g.task);return E?(function(){var x=E.subscribe(function(N){x(),b(N)})})():k("join error : task not found"),!0},d=pe.race=function(g,b,_,C,k){if(!t.default.race(g))return!1;var E=!1,x=function(f,h,w){E||(E=!0,f[h]=w,b(f))},N=function(f){E||k(f)};return t.default.array(g.competitors)?(function(){var y=g.competitors.map(function(){return!1});g.competitors.forEach(function(f,h){_(f,function(w){return x(y,h,w)},N)})})():(function(){var y=Object.keys(g.competitors).reduce(function(f,h){return f[h]=!1,f},{});Object.keys(g.competitors).forEach(function(f){_(g.competitors[f],function(h){return x(y,f,h)},N)})})(),!0},v=function(g,b){if(!t.default.subscribe(g))return!1;if(!t.default.channel(g.channel))throw new Error('the first argument of "subscribe" must be a valid channel');var _=g.channel.subscribe(function(C){_&&_(),b(C)});return!0};return pe.default=[l,i,c,d,v],pe}var ye={},At;function jn(){if(At)return ye;At=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.cps=ye.call=void 0;var e=je(),t=n(e);function n(l){return l&&l.__esModule?l:{default:l}}function r(l){if(Array.isArray(l)){for(var a=0,i=Array(l.length);a<l.length;a++)i[a]=l[a];return i}else return Array.from(l)}var s=ye.call=function(a,i,c,d,v){if(!t.default.call(a))return!1;try{i(a.func.apply(a.context,a.args))}catch(p){v(p)}return!0},o=ye.cps=function(a,i,c,d,v){var p;return t.default.cps(a)?((p=a.func).call.apply(p,[null].concat(r(a.args),[function(g,b){g?v(g):i(b)}])),!0):!1};return ye.default=[s,o],ye}var Ft;function Hn(){return Ft||(Ft=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapControls=e.asyncControls=e.create=void 0;var t=Tt();Object.keys(t).forEach(function(c){c!=="default"&&Object.defineProperty(e,c,{enumerable:!0,get:function(){return t[c]}})});var n=Fn(),r=i(n),s=Dn(),o=i(s),l=jn(),a=i(l);function i(c){return c&&c.__esModule?c:{default:c}}e.create=r.default,e.asyncControls=o.default,e.wrapControls=a.default})(Ke)),Ke}var Bn=Hn();function Vt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Dt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Wn(e){var t,n;return Dt(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(Dt(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Ge(e){return Wn(e)&&typeof e.type=="string"}function Un(e,t){return Ge(e)&&e.type===t}function qn(e={},t){const n=Object.entries(e).map(([o,l])=>(a,i,c,d,v)=>{if(!Un(a,o))return!1;const p=l(a);return Vt(p)?p.then(d,v):d(p),!0}),r=(o,l)=>Ge(o)?(t(o),l(),!0):!1;n.push(r);const s=Bn.create(n);return o=>new Promise((l,a)=>s(o,i=>{Ge(i)&&t(i),l(i)},a))}function zn(e={}){return t=>{const n=qn(e,t.dispatch);return r=>s=>Pn(s)?n(s):r(s)}}var Kn=(e=!1)=>(...t)=>(...n)=>{const r=t.flat();return e&&r.reverse(),r.reduce((s,o)=>[o(...s)],n)[0]},Gn=Kn(!0),Zn=Gn;function Jn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;let s=0;for(;s<n.length;){const o=n[s],l=e[o];if(l===void 0&&!t.hasOwnProperty(o)||l!==t[o])return!1;s++}return!0}function Xn(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function jt(e,t){if(e&&t){if(e.constructor===Object&&t.constructor===Object)return Jn(e,t);if(Array.isArray(e)&&Array.isArray(t))return Xn(e,t)}return e===t}var Ze={exports:{}},Ht;function Qn(){return Ht||(Ht=1,(function(e){(function(t){e.exports?e.exports=t():window.idleCallbackShim=t()})(function(){var t,n,r,s,o=typeof window<"u"?window:typeof Ct!=null?Ct:this||{},l=o.cancelRequestAnimationFrame&&o.requestAnimationFrame||setTimeout,a=o.cancelRequestAnimationFrame||clearTimeout,i=[],c=0,d=!1,v=7,p=35,g=125,b=0,_=0,C=0,k={get didTimeout(){return!1},timeRemaining:function(){var B=v-(Date.now()-_);return B<0?0:B}},E=x(function(){v=22,g=66,p=0});function x(B){var L,W,A=99,U=function(){var Z=Date.now()-W;Z<A?L=setTimeout(U,A-Z):(L=null,B())};return function(){W=Date.now(),L||(L=setTimeout(U,A))}}function N(){d&&(s&&a(s),r&&clearTimeout(r),d=!1)}function y(){g!=125&&(v=7,g=125,p=35,d&&(N(),w())),E()}function f(){s=null,r=setTimeout(I,0)}function h(){r=null,l(f)}function w(){d||(n=g-(Date.now()-_),t=Date.now(),d=!0,p&&n<p&&(n=p),n>9?r=setTimeout(h,n):(n=0,h()))}function I(){var B,L,W,A=v>9?9:1;if(_=Date.now(),d=!1,r=null,c>2||_-n-50<t)for(L=0,W=i.length;L<W&&k.timeRemaining()>A;L++)B=i.shift(),C++,B&&B(k);i.length?w():c=0}function S(B){return b++,i.push(B),w(),b}function O(B){var L=B-1-C;i[L]&&(i[L]=null)}if(!o.requestIdleCallback||!o.cancelIdleCallback)o.requestIdleCallback=S,o.cancelIdleCallback=O,o.document&&document.addEventListener&&(o.addEventListener("scroll",y,!0),o.addEventListener("resize",y),document.addEventListener("focus",y,!0),document.addEventListener("mouseover",y,!0),["click","keypress","touchstart","mousedown"].forEach(function(B){document.addEventListener(B,y,{capture:!0,passive:!0})}),o.MutationObserver&&new MutationObserver(y).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));else try{o.requestIdleCallback(function(){},{timeout:0})}catch{(function(L){var W,A;if(o.requestIdleCallback=function(U,Z){return Z&&typeof Z.timeout=="number"?L(U,Z.timeout):L(U)},o.IdleCallbackDeadline&&(W=IdleCallbackDeadline.prototype)){if(A=Object.getOwnPropertyDescriptor(W,"timeRemaining"),!A||!A.configurable||!A.get)return;Object.defineProperty(W,"timeRemaining",{value:function(){return A.get.call(this)},enumerable:!0,configurable:!0})}})(o.requestIdleCallback)}return{request:S,cancel:O}})})(Ze)),Ze.exports}Qn();function Yn(){return typeof window>"u"?e=>{setTimeout(()=>e(Date.now()),0)}:window.requestIdleCallback}var Bt=Yn(),$n=()=>{const e=new Map;let t=!1;const n=a=>{for(const[i,c]of e)if(e.delete(i),c(),typeof a=="number"||a.timeRemaining()<=0)break;if(e.size===0){t=!1;return}Bt(n)};return{add:(a,i)=>{e.set(a,i),t||(t=!0,Bt(n))},flush:a=>{const i=e.get(a);return i===void 0?!1:(e.delete(a),i(),!0)},cancel:a=>e.delete(a),reset:()=>{e.clear(),t=!1}}};function er(e){const t=Object.keys(e);return function(r={},s){const o={};let l=!1;for(const a of t){const i=e[a],c=r[a],d=i(c,s);o[a]=d,l=l||d!==c}return l?o:r}}function Je(e){return e.isRegistryControl=!0,e}var tr="@@data/SELECT",nr="@@data/RESOLVE_SELECT",rr="@@data/DISPATCH",sr={[tr]:Je(e=>({storeKey:t,selectorName:n,args:r})=>e.select(t)[n](...r)),[nr]:Je(e=>({storeKey:t,selectorName:n,args:r})=>{const s=e.select(t)[n].hasResolver?"resolveSelect":"select";return e[s](t)[n](...r)}),[rr]:Je(e=>({storeKey:t,actionName:n,args:r})=>e.dispatch(t)[n](...r))},lr=["@wordpress/block-directory","@wordpress/block-editor","@wordpress/block-library","@wordpress/blocks","@wordpress/boot","@wordpress/commands","@wordpress/workflows","@wordpress/components","@wordpress/core-commands","@wordpress/core-data","@wordpress/customize-widgets","@wordpress/data","@wordpress/edit-post","@wordpress/edit-site","@wordpress/edit-widgets","@wordpress/editor","@wordpress/font-list-route","@wordpress/format-library","@wordpress/patterns","@wordpress/preferences","@wordpress/reusable-blocks","@wordpress/route","@wordpress/router","@wordpress/routes","@wordpress/sync","@wordpress/theme","@wordpress/ui","@wordpress/dataviews","@wordpress/fields","@wordpress/lazy-editor","@wordpress/media-utils","@wordpress/upload-media","@wordpress/global-styles-ui","@wordpress/ui"],ar=(e,t)=>{if(!lr.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}". This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);return{lock:or,unlock:ir}};function or(e,t){if(!e)throw new Error("Cannot lock an undefined object.");const n=e;xe in n||(n[xe]={}),Wt.set(n[xe],t)}function ir(e){if(!e)throw new Error("Cannot unlock an undefined object.");const t=e;if(!(xe in t))throw new Error("Cannot unlock an object that was not locked before. ");return Wt.get(t[xe])}var Wt=new WeakMap,xe=Symbol("Private API ID"),{lock:Ee,unlock:ke}=ar("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/data"),cr=()=>e=>t=>Vt(t)?t.then(n=>{if(n)return e(n)}):e(t),ur=cr,dr=(e,t)=>()=>n=>r=>{const s=e.select(t).getCachedResolvers();return Object.entries(s).forEach(([l,a])=>{const i=e.stores[t]?.resolvers?.[l];!i||!i.shouldInvalidate||a.forEach((c,d)=>{c!==void 0&&(c.status!=="finished"&&c.status!=="error"||i.shouldInvalidate(r,...d)&&e.dispatch(t).invalidateResolution(l,d))})}),n(r)},fr=dr;function pr(e){return()=>t=>n=>typeof n=="function"?n(e):t(n)}var mr=e=>t=>(n={},r)=>{const s=r[e];if(s===void 0)return n;const o=t(n[s],r);return o===n[s]?n:{...n,[s]:o}};function ve(e){if(e==null)return[];const t=e.length;let n=t;for(;n>0&&e[n-1]===void 0;)n--;return n===t?e:e.slice(0,n)}var hr=mr("selectorName")((e=new he,t)=>{switch(t.type){case"START_RESOLUTION":{const n=new he(e);return n.set(ve(t.args),{status:"resolving"}),n}case"FINISH_RESOLUTION":{const n=new he(e);return n.set(ve(t.args),{status:"finished"}),n}case"FAIL_RESOLUTION":{const n=new he(e);return n.set(ve(t.args),{status:"error",error:t.error}),n}case"START_RESOLUTIONS":{const n=new he(e);for(const r of t.args)n.set(ve(r),{status:"resolving"});return n}case"FINISH_RESOLUTIONS":{const n=new he(e);for(const r of t.args)n.set(ve(r),{status:"finished"});return n}case"FAIL_RESOLUTIONS":{const n=new he(e);return t.args.forEach((r,s)=>{const o={status:"error",error:void 0},l=t.errors[s];l&&(o.error=l),n.set(ve(r),o)}),n}case"INVALIDATE_RESOLUTION":{const n=new he(e);return n.delete(ve(t.args)),n}}return e}),yr=(e={},t)=>{switch(t.type){case"INVALIDATE_RESOLUTION_FOR_STORE":return{};case"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR":{if(t.selectorName in e){const{[t.selectorName]:n,...r}=e;return r}return e}case"START_RESOLUTION":case"FINISH_RESOLUTION":case"FAIL_RESOLUTION":case"START_RESOLUTIONS":case"FINISH_RESOLUTIONS":case"FAIL_RESOLUTIONS":case"INVALIDATE_RESOLUTION":return hr(e,t);default:return e}},vr=yr,Xe={};function gr(e){return[e]}function br(e){return!!e&&typeof e=="object"}function Er(){var e={clear:function(){e.head=null}};return e}function Ut(e,t,n){var r;if(e.length!==t.length)return!1;for(r=n;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function wr(e,t){var n,r=t||gr;function s(a){var i=n,c=!0,d,v,p,g;for(d=0;d<a.length;d++){if(v=a[d],!br(v)){c=!1;break}i.has(v)?i=i.get(v):(p=new WeakMap,i.set(v,p),i=p)}return i.has(Xe)||(g=Er(),g.isUniqueByDependants=c,i.set(Xe,g)),i.get(Xe)}function o(){n=new WeakMap}function l(){var a=arguments.length,i,c,d,v,p;for(v=new Array(a),d=0;d<a;d++)v[d]=arguments[d];for(p=r.apply(null,v),i=s(p),i.isUniqueByDependants||(i.lastDependants&&!Ut(p,i.lastDependants,0)&&i.clear(),i.lastDependants=p),c=i.head;c;){if(!Ut(c.args,v,1)){c=c.next;continue}return c!==i.head&&(c.prev.next=c.next,c.next&&(c.next.prev=c.prev),c.next=i.head,c.prev=null,i.head.prev=c,i.head=c),c.val}return c={val:e.apply(null,v)},v[0]=null,c.args=v,i.head&&(i.head.prev=c,c.next=i.head),i.head=c,c.val}return l.getDependants=r,l.clear=o,o(),l}function we(e,t,n){const r=e[t];if(r)return r.get(ve(n))}function Sr(e,t,n){bt("wp.data.select( store ).getIsResolving",{since:"6.6",version:"6.8",alternative:"wp.data.select( store ).getResolutionState"});const r=we(e,t,n);return r&&r.status==="resolving"}function Rr(e,t,n){return we(e,t,n)!==void 0}function Cr(e,t,n){const r=we(e,t,n)?.status;return r==="finished"||r==="error"}function kr(e,t,n){return we(e,t,n)?.status==="error"}function Nr(e,t,n){const r=we(e,t,n);return r?.status==="error"?r.error:null}function _r(e,t,n){return we(e,t,n)?.status==="resolving"}function xr(e){return e}function Tr(e){return Object.values(e).some(t=>Array.from(t._map.values()).some(n=>n[1]?.status==="resolving"))}var Ir=wr(e=>{const t={};return Object.values(e).forEach(n=>Array.from(n._map.values()).forEach(r=>{const s=r[1]?.status??"error";t[s]||(t[s]=0),t[s]++})),t},e=>[e]);const Lr=Object.freeze(Object.defineProperty({__proto__:null,countSelectorsByStatus:Ir,getCachedResolvers:xr,getIsResolving:Sr,getResolutionError:Nr,getResolutionState:we,hasFinishedResolution:Cr,hasResolutionFailed:kr,hasResolvingSelectors:Tr,hasStartedResolution:Rr,isResolving:_r},Symbol.toStringTag,{value:"Module"}));function qt(e,t){return{type:"START_RESOLUTION",selectorName:e,args:t}}function zt(e,t){return{type:"FINISH_RESOLUTION",selectorName:e,args:t}}function Kt(e,t,n){return{type:"FAIL_RESOLUTION",selectorName:e,args:t,error:n}}function Mr(e,t){return{type:"START_RESOLUTIONS",selectorName:e,args:t}}function Or(e,t){return{type:"FINISH_RESOLUTIONS",selectorName:e,args:t}}function Pr(e,t,n){return{type:"FAIL_RESOLUTIONS",selectorName:e,args:t,errors:n}}function Ar(e,t){return{type:"INVALIDATE_RESOLUTION",selectorName:e,args:t}}function Fr(){return{type:"INVALIDATE_RESOLUTION_FOR_STORE"}}function Vr(e){return{type:"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR",selectorName:e}}const Dr=Object.freeze(Object.defineProperty({__proto__:null,failResolution:Kt,failResolutions:Pr,finishResolution:zt,finishResolutions:Or,invalidateResolution:Ar,invalidateResolutionForStore:Fr,invalidateResolutionForStoreSelector:Vr,startResolution:qt,startResolutions:Mr},Symbol.toStringTag,{value:"Module"}));var Qe=e=>{const t=[...e];for(let n=t.length-1;n>=0;n--)t[n]===void 0&&t.splice(n,1);return t},ge=(e,t)=>Object.fromEntries(Object.entries(e??{}).map(([n,r])=>[n,t(r,n)])),jr=(e,t)=>t instanceof Map?Object.fromEntries(t):t instanceof window.HTMLElement?null:t;function Hr(){const e={};return{isRunning(t,n){return e[t]&&e[t].get(Qe(n))},clear(t,n){e[t]&&e[t].delete(Qe(n))},markAsRunning(t,n){e[t]||(e[t]=new he),e[t].set(Qe(n),!0)}}}function Be(e,t){const n=new WeakMap;return{get(r){const s=e(r);if(!s)return null;let o=n.get(s);return o||(o=t(s,r),n.set(s,o)),o}}}function We(e,t){return new Proxy(e,{get:(n,r)=>t.get(r)||Reflect.get(n,r)})}function Gt(e,t){const n={},r={},s={privateActions:n,registerPrivateActions:l=>{Object.assign(n,l)},privateSelectors:r,registerPrivateSelectors:l=>{Object.assign(r,l)}},o={name:e,instantiate:l=>{const a=new Set,i=t.reducer,d=Br(e,t,l,{registry:l,get dispatch(){return _},get select(){return w},get resolveSelect(){return S}});Ee(d,s);const v=Hr();function p(P){return(...R)=>Promise.resolve(d.dispatch(P(...R)))}const g={...ge(Dr,p),...ge(t.actions,p)},b=We(g,Be(P=>n[P],p)),_=new Proxy(P=>d.dispatch(P),{get:(P,R)=>b[R]});Ee(g,b);const C=t.resolvers?ge(t.resolvers,qr):{};function k(P,R){P.isRegistrySelector&&(P.registry=l);const V=(...Q)=>{Q=Ye(P,Q);const se=d.__unstableOriginalGetState();return P.isRegistrySelector&&(P.registry=l),P(se.root,...Q)};V.__unstableNormalizeArgs=P.__unstableNormalizeArgs;const H=C[R];return H?zr(V,R,H,d,v,x):(V.hasResolver=!1,V)}function E(P){const R=(V,H,...Q)=>{if(V){const Y=t.selectors?.[V];Y&&(H=Ye(Y,H))}const se=d.__unstableOriginalGetState();return P(se.metadata,V,H,...Q)};return R.hasResolver=!1,R}const x=ge(Lr,E),N=ge(t.selectors,k),y={...x,...N},f=Be(P=>r[P],k),h=We(y,f);for(const P of Object.keys(r))f.get(P);const w=new Proxy(P=>P(d.__unstableOriginalGetState()),{get:(P,R)=>h[R]});Ee(y,h);const I=Wr(d,x),S=ge(N,I),O=We(S,Be(P=>f.get(P),I));Ee(S,O);const B=Ur(d,x),L={...x,...ge(N,B)},W=We(L,Be(P=>f.get(P),B));Ee(L,W);const A=()=>y,U=()=>g,Z=()=>S,J=()=>L;d.__unstableOriginalGetState=d.getState,d.getState=()=>d.__unstableOriginalGetState().root;const re=d&&(P=>(a.add(P),()=>a.delete(P)));let $=d.__unstableOriginalGetState();return d.subscribe(()=>{const P=d.__unstableOriginalGetState(),R=P!==$;if($=P,R)for(const V of a)V()}),{reducer:i,store:d,actions:g,selectors:y,resolvers:C,getSelectors:A,getResolveSelectors:Z,getSuspendSelectors:J,getActions:U,subscribe:re}}};return Ee(o,s),o}function Br(e,t,n,r){const s={...t.controls,...sr},o=ge(s,v=>v.isRegistryControl?v(n):v),l=[fr(n,e),ur,zn(o),pr(r)],a=[In(...l)];typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__&&a.push(window.__REDUX_DEVTOOLS_EXTENSION__({name:e,instanceId:e,serialize:{replacer:jr}}));const{reducer:i,initialState:c}=t,d=er({metadata:vr,root:i});return Rt(d,{root:c},Zn(a))}function Wr(e,t){return(n,r)=>n.hasResolver?(...s)=>new Promise((o,l)=>{const a=()=>t.hasFinishedResolution(r,s),i=p=>{if(t.hasResolutionFailed(r,s)){const b=t.getResolutionError(r,s);l(b)}else o(p)},c=()=>n.apply(null,s),d=c();if(a())return i(d);const v=e.subscribe(()=>{a()&&(v(),i(c()))})}):async(...s)=>n.apply(null,s)}function Ur(e,t){return(n,r)=>n.hasResolver?(...s)=>{const o=n.apply(null,s);if(t.hasFinishedResolution(r,s)){if(t.hasResolutionFailed(r,s))throw t.getResolutionError(r,s);return o}throw new Promise(l=>{const a=e.subscribe(()=>{t.hasFinishedResolution(r,s)&&(l(),a())})})}:n}function qr(e){return e.fulfill?e:{...e,fulfill:e}}function zr(e,t,n,r,s,o){function l(i){s.isRunning(t,i)||o.hasStartedResolution(t,i)||(s.markAsRunning(t,i),setTimeout(async()=>{s.clear(t,i),r.dispatch(qt(t,i));try{if(!(typeof n.isFulfilled=="function"&&n.isFulfilled(r.getState(),...i))){const d=n.fulfill(...i);d&&await r.dispatch(d)}r.dispatch(zt(t,i))}catch(c){r.dispatch(Kt(t,i,c))}},0))}const a=(...i)=>(i=Ye(e,i),l(i),e(...i));return a.hasResolver=!0,a}function Ye(e,t){return e.__unstableNormalizeArgs&&typeof e.__unstableNormalizeArgs=="function"&&t?.length?e.__unstableNormalizeArgs(t):t}var Kr={name:"core/data",instantiate(e){const t=r=>(s,...o)=>e.select(s)[r](...o),n=r=>(s,...o)=>e.dispatch(s)[r](...o);return{getSelectors(){return Object.fromEntries(["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"].map(r=>[r,t(r)]))},getActions(){return Object.fromEntries(["startResolution","finishResolution","invalidateResolution","invalidateResolutionForStore","invalidateResolutionForStoreSelector"].map(r=>[r,n(r)]))},subscribe(){return()=>()=>{}}}}},Gr=Kr;function Zt(){let e=!1,t=!1;const n=new Set,r=()=>Array.from(n).forEach(s=>s());return{get isPaused(){return e},subscribe(s){return n.add(s),()=>n.delete(s)},pause(){e=!0},resume(){e=!1,t&&(t=!1,r())},emit(){if(e){t=!0;return}r()}}}function Te(e){return typeof e=="string"?e:e.name}function Zr(e={},t=null){const n={},r=Zt();let s=null;function o(){r.emit()}const l=(y,f)=>{if(!f)return r.subscribe(y);const h=Te(f),w=n[h];return w?w.subscribe(y):t?t.subscribe(y,f):r.subscribe(y)};function a(y){const f=Te(y);s?.add(f);const h=n[f];return h?h.getSelectors():t?.select(f)}function i(y,f){s=new Set;try{return y.call(this)}finally{f.current=Array.from(s),s=null}}function c(y){const f=Te(y);s?.add(f);const h=n[f];return h?h.getResolveSelectors():t&&t.resolveSelect(f)}function d(y){const f=Te(y);s?.add(f);const h=n[f];return h?h.getSuspendSelectors():t&&t.suspendSelect(f)}function v(y){const f=Te(y),h=n[f];return h?h.getActions():t&&t.dispatch(f)}function p(y){return Object.fromEntries(Object.entries(y).map(([f,h])=>typeof h!="function"?[f,h]:[f,function(){return E[f].apply(null,arguments)}]))}function g(y,f){if(n[y])return console.error('Store "'+y+'" is already registered.'),n[y];const h=f();if(typeof h.getSelectors!="function")throw new TypeError("store.getSelectors must be a function");if(typeof h.getActions!="function")throw new TypeError("store.getActions must be a function");if(typeof h.subscribe!="function")throw new TypeError("store.subscribe must be a function");h.emitter=Zt();const w=h.subscribe;if(h.subscribe=I=>{const S=h.emitter.subscribe(I),O=w(()=>{if(h.emitter.isPaused){h.emitter.emit();return}I()});return()=>{O?.(),S?.()}},n[y]=h,h.subscribe(o),t)try{ke(h.store).registerPrivateActions(ke(t).privateActionsOf(y)),ke(h.store).registerPrivateSelectors(ke(t).privateSelectorsOf(y))}catch{}return h}function b(y){g(y.name,()=>y.instantiate(E))}function _(y,f){bt("wp.data.registerGenericStore",{since:"5.9",alternative:"wp.data.register( storeDescriptor )"}),g(y,()=>f)}function C(y,f){if(!f.reducer)throw new TypeError("Must specify store reducer");return g(y,()=>Gt(y,f).instantiate(E)).store}function k(y){if(r.isPaused){y();return}r.pause(),Object.values(n).forEach(f=>f.emitter.pause());try{y()}finally{r.resume(),Object.values(n).forEach(f=>f.emitter.resume())}}let E={batch:k,stores:n,namespaces:n,subscribe:l,select:a,resolveSelect:c,suspendSelect:d,dispatch:v,use:x,register:b,registerGenericStore:_,registerStore:C,__unstableMarkListeningStores:i};function x(y,f){if(y)return E={...E,...y(E,f)},E}E.register(Gr);for(const[y,f]of Object.entries(e))E.register(Gt(y,f));t&&t.subscribe(o);const N=p(E);return Ee(N,{privateActionsOf:y=>{try{return ke(n[y].store).privateActions}catch{return{}}},privateSelectorsOf:y=>{try{return ke(n[y].store).privateSelectors}catch{return{}}}}),N}var Jt=Zr(),$e=u.createContext(Jt);$e.displayName="RegistryProviderContext";var{Consumer:bl,Provider:El}=$e;function Xt(){return u.useContext($e)}var et=u.createContext(!1);et.displayName="AsyncModeContext";var{Consumer:wl,Provider:Sl}=et;function Jr(){return u.useContext(et)}var tt=$n();function Xr(e,t){if(!e||!t)return;const n=typeof e=="object"&&typeof t=="object"?Object.keys(e).filter(r=>e[r]!==t[r]):[];console.warn(`The \`useSelect\` hook returns different values when called with the same state and parameters.
This can lead to unnecessary re-renders and performance issues if not fixed.

Non-equal value keys: %s

`,n.join(", "))}function Qr(e,t){const n=e.select,r={};let s,o,l=!1,a,i,c;const d=new Map;function v(g){return e.stores[g]?.store?.getState?.()??{}}const p=g=>{const b=[...g],_=new Set;function C(E){if(l)for(const h of b)d.get(h)!==v(h)&&(l=!1);d.clear();const x=()=>{l=!1,E()},N=()=>{a?tt.add(r,x):x()},y=[];function f(h){y.push(e.subscribe(N,h))}for(const h of b)f(h);return _.add(f),()=>{_.delete(f);for(const h of y.values())h?.();tt.cancel(r)}}function k(E){for(const x of E)if(!b.includes(x)){b.push(x);for(const N of _)N(x)}}return{subscribe:C,updateStores:k}};return(g,b)=>{function _(){if(l&&g===s)return o;const k={current:null},E=e.__unstableMarkListeningStores(()=>g(n,e),k);if(globalThis.SCRIPT_DEBUG&&!c){const x=g(n,e);jt(E,x)||(Xr(E,x),c=!0)}if(i)i.updateStores(k.current);else{for(const x of k.current)d.set(x,v(x));i=p(k.current)}jt(o,E)||(o=E),s=g,l=!0}function C(){return _(),o}return a&&!b&&(l=!1,tt.cancel(r)),_(),a=b,{subscribe:i.subscribe,getValue:C}}}function Yr(e){return Xt().select(e)}function $r(e,t,n){const r=Xt(),s=Jr(),o=u.useMemo(()=>Qr(r),[r,e]),l=u.useCallback(t,n),{subscribe:a,getValue:i}=o(l,s),c=u.useSyncExternalStore(a,i,i);return u.useDebugValue(c),c}function es(e,t){const n=typeof e!="function",r=u.useRef(n);if(n!==r.current){const s=r.current?"static":"mapping",o=n?"static":"mapping";throw new Error(`Switching useSelect from ${s} to ${o} is not allowed`)}return n?Yr(e):$r(!1,e,t)}var nt=Jt;nt.registerGenericStore,nt.registerStore,nt.use;function ts({attributes:e,postTypes:t,context:n,onSubmit:r,onPostTypeChange:s,onFilterChange:o}){const[l,a]=u.useState(()=>({currentPostType:e.postTypes[0]||"",filterValues:{},activeFilterCount:0,portalActive:!1,loading:!1,resetting:!1,narrowedValues:null,narrowingFilters:!1,lastModifiedFilter:null})),i=u.useRef(!1),c=u.useRef(!1),d=u.useRef(null),v=u.useMemo(()=>t.find(y=>y.key===l.currentPostType),[t,l.currentPostType]),p=u.useMemo(()=>e.filterLists[l.currentPostType]||[],[e.filterLists,l.currentPostType]);u.useEffect(()=>{e.postTypes.length>0&&!e.postTypes.includes(l.currentPostType)&&a(y=>({...y,currentPostType:e.postTypes[0],filterValues:{}}))},[e.postTypes,l.currentPostType]),u.useEffect(()=>{if(!v?.filters)return;const y={};let f=!1;v.filters.forEach(h=>{h.key in l.filterValues||h.value!==null&&h.value!==void 0&&(y[h.key]=h.value,f=!0)}),f&&a(h=>({...h,filterValues:{...h.filterValues,...y}}))},[v?.filters,l.currentPostType]),u.useEffect(()=>{if(n!=="editor"||l.resetting||!v?.filters)return;(e.filterLists?.[l.currentPostType]||[]).forEach(f=>{const h=l.filterValues[f.filterKey];f.defaultValueEnabled&&f.defaultValue!==void 0&&f.defaultValue!==""&&f.defaultValue!==null?h!==f.defaultValue&&h!==null&&a(w=>({...w,filterValues:{...w.filterValues,[f.filterKey]:f.defaultValue}})):h!=null&&a(w=>({...w,filterValues:{...w.filterValues,[f.filterKey]:void 0}}))})},[n,l.currentPostType,e.filterLists,l.resetting,v?.filters]),u.useEffect(()=>{const y=Object.values(l.filterValues).filter(f=>f!=null&&f!==""&&f!==!1).length;a(f=>({...f,activeFilterCount:y}))},[l.filterValues]);const g=u.useCallback(y=>{a(f=>f.currentPostType===y?f:{...f,currentPostType:y,filterValues:{}}),n==="editor"&&s&&s(y),n==="editor"&&o&&o({}),n==="frontend"&&window.dispatchEvent(new CustomEvent("voxel-search-form-post-type-changed",{detail:{searchFormId:e.blockId,postType:y}})),n==="frontend"&&r&&(c.current&&e.updateUrl!==!1&&Qt({},y),c.current=!0,setTimeout(()=>{r({postType:y})},50))},[n,r,s,o,e.updateUrl]),b=u.useCallback((y,f)=>{c.current=!0,a(h=>{const w={...h.filterValues,[y]:f};return n==="editor"&&o&&setTimeout(()=>o(w),0),{...h,filterValues:w,lastModifiedFilter:y}})},[n,o]),_=u.useCallback((y=!1)=>{const f={};v?.filters?.forEach(w=>{w.resets_to!==null&&w.resets_to!==void 0?f[w.key]=w.resets_to:f[w.key]=null});const h=Object.values(f).filter(w=>w!=null&&w!=="").length;if(a(w=>({...w,filterValues:f,activeFilterCount:h,resetting:!0,portalActive:y?!1:w.portalActive,narrowedValues:null,lastModifiedFilter:null})),setTimeout(()=>{a(w=>({...w,resetting:!1}))},100),n==="editor"&&o&&o(f),n==="frontend"){e.updateUrl!==!1&&ns(l.currentPostType);const w=new CustomEvent("voxel-search-clear",{detail:{postType:l.currentPostType}});window.dispatchEvent(w)}},[n,l.currentPostType,o,e.updateUrl,v?.filters]),C=u.useCallback(()=>{a(y=>({...y,portalActive:!y.portalActive}))},[]),k=u.useCallback(async()=>{if(!e.adaptiveFiltering||n!=="frontend")return;if(i.current){i.current=!1;return}const y=p.filter(w=>w.type==="range"||w.type==="terms");if(y.length===0)return;const f=new URLSearchParams;f.set("type",l.currentPostType),l.lastModifiedFilter&&f.set("_last_modified",l.lastModifiedFilter),Object.entries(l.filterValues).forEach(([w,I])=>{I!=null&&I!==""&&(Array.isArray(I)?f.set(w,I.join(",")):typeof I=="object"?f.set(w,JSON.stringify(I)):f.set(w,String(I)))});const h=[];y.forEach(w=>{if(w.type==="terms"){const I=v?.filters?.find(S=>S.key===w.filterKey);if(I?.props?.terms){const S=O=>{O.forEach(B=>{B.term_taxonomy_id&&h.push(B.term_taxonomy_id),B.children&&Array.isArray(B.children)&&S(B.children)})};S(I.props.terms)}}}),a(w=>({...w,narrowingFilters:!0}));try{const w=Oe(),I=await fetch(`${w}voxel-fse/v1/search-form/narrow-filters?${f.toString()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({term_taxonomy_ids:h})});if(!I.ok)throw new Error(`HTTP ${I.status}`);const S=await I.json();S.success&&S.data?(a(O=>({...O,narrowedValues:{ranges:S.data.ranges||{},terms:S.data.terms||{}},narrowingFilters:!1})),i.current=!0):a(O=>({...O,narrowingFilters:!1}))}catch(w){console.error("[useSearchForm] Adaptive filtering error:",w),a(I=>({...I,narrowingFilters:!1}))}},[e.adaptiveFiltering,n,p,l.currentPostType,l.filterValues,v]);u.useEffect(()=>{if(!(!e.adaptiveFiltering||n!=="frontend"))return d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{k()},300),()=>{d.current&&clearTimeout(d.current)}},[l.filterValues,e.adaptiveFiltering,n,k]);const E=u.useCallback((y,f)=>{a(h=>({...h,loading:!0})),r&&r({postType:f,...y}),n==="frontend"&&e.updateUrl!==!1&&c.current&&Qt(y,f),a(h=>({...h,loading:!1}))},[n,r,e.updateUrl]),x=u.useRef(null);u.useEffect(()=>{if(e.searchOn==="change"&&n==="frontend"){const y=JSON.stringify({type:l.currentPostType,filters:l.filterValues});if(x.current===y)return;if(x.current===null){x.current=y;return}x.current=y;const f=setTimeout(()=>{E(l.filterValues,l.currentPostType)},300);return()=>{clearTimeout(f)}}},[l.filterValues,l.currentPostType,e.searchOn,n,E]),u.useEffect(()=>{if(n!=="frontend")return;const y=h=>{h.detail?.searchFormId===e.blockId&&a(I=>({...I,loading:!0}))},f=h=>{h.detail?.searchFormId===e.blockId&&a(I=>({...I,loading:!1}))};return window.addEventListener("voxel-fse:feed-loading",y),window.addEventListener("voxel-fse:feed-loaded",f),()=>{window.removeEventListener("voxel-fse:feed-loading",y),window.removeEventListener("voxel-fse:feed-loaded",f)}},[n,e.blockId]);const N=u.useCallback(()=>{c.current=!0,E(l.filterValues,l.currentPostType)},[E,l.filterValues,l.currentPostType]);return{state:l,setCurrentPostType:g,setFilterValue:b,clearAll:_,togglePortal:C,submit:N,currentPostTypeConfig:v,filterConfigs:p,narrowedValues:l.narrowedValues,narrowingFilters:l.narrowingFilters}}function ns(e){const t=new URL(window.location.href),n=[];t.searchParams.forEach((r,s)=>{(s.startsWith("filter_")||s==="post_type")&&n.push(s),s==="type"&&!e&&n.push(s),s!=="type"&&s!=="page"&&s!=="pg"&&n.push(s)}),n.forEach(r=>t.searchParams.delete(r)),e&&t.searchParams.set("type",e),window.history.replaceState({},"",t.toString())}function rs(e,t){return Object.hasOwn(t,e)}function Qt(e,t){const n=new URL(window.location.href),r=[];n.searchParams.forEach((s,o)=>{(o.startsWith("filter_")||o==="post_type")&&r.push(o),(o==="type"||rs(o,e))&&r.push(o)}),r.forEach(s=>n.searchParams.delete(s)),t&&n.searchParams.set("type",t),Object.entries(e).forEach(([s,o])=>{if(!(o==null||o==="")&&!(typeof o=="string"&&o==="..")&&!(typeof o=="object"&&!Array.isArray(o)&&!Object.values(o).some(i=>i!=null&&i!=="")))if(Array.isArray(o)){const l=o.join(",");l&&n.searchParams.set(s,l)}else typeof o=="object"?n.searchParams.set(s,JSON.stringify(o)):n.searchParams.set(s,String(o))}),window.history.replaceState({},"",n.toString())}function rt(e){return typeof e=="string"&&e.includes("@tags()")}function Yt(e){if(!rt(e))return e;const t=e.match(/@tags\(\)(.*?)@endtags\(\)/s);return t?t[1]:e}async function $t(e,t={}){try{return(await dn({path:"/voxel-fse/v1/dynamic-data/render",method:"POST",data:{expression:e,context:t}})).rendered}catch(n){return console.error("Failed to render dynamic tag:",n),e}}function st(){return typeof document>"u"?!1:document.body.classList.contains("logged-in")}function ss(){return typeof document>"u"?[]:Array.from(document.body.classList).filter(n=>n.startsWith("role-")||["administrator","editor","author","contributor","subscriber"].includes(n)).map(n=>n.replace("role-",""))}function ls(e){const t=e.filterKey;switch(t){case"user:logged_in":return st();case"user:logged_out":return!st();case"user:role":{if(!st())return!1;const n=ss(),r=e.value||"";switch(e.operator){case"equals":return n.includes(r);case"not_equals":return!n.includes(r);default:return n.includes(r)}}default:return console.warn(`Unknown visibility rule type: ${t}`),!0}}function as(e){return!e||e.length===0?!0:e.every(t=>ls(t))}function os(e){const{rowVisibility:t="show",visibilityRules:n=[]}=e;if(!n||n.length===0)return!0;const r=as(n);return t==="hide"?!r:r}function ie({isOpen:e,target:t,title:n="",icon:r,saveLabel:s="Save",clearLabel:o="Clear",showClear:l=!0,showSave:a=!0,onSave:i,onClear:c,onClose:d,children:v,className:p="",popupStyle:g}){const b=u.useRef(null),_=u.useRef(null),[C,k]=u.useState({position:"absolute",top:"-9999px",left:"-9999px"}),E=u.useRef(""),x=u.useCallback((f=!1)=>{if(!_.current||!t.current||!b.current)return;const h=t.current,w=b.current,I=_.current,S=document.body.clientWidth,O=h.getBoundingClientRect(),B=h.offsetWidth,L={left:O.left+window.pageXOffset,top:O.top+window.pageYOffset},W=w.getBoundingClientRect(),A=window.getComputedStyle(I),U=parseFloat(A.minWidth)||0,Z=I.querySelector(".pika-single");let J;if(Z){const ue=Z.classList.contains("is-range")||Z.querySelectorAll(".pika-lendar").length>1||I.closest(".ts-booking-date-range")!==null;J=Math.max(ue?640:420,U)}else J=Math.max(O.width,U);const re=L.left+B/2,$=S/2;let P;re>$+1?P=L.left-J+B:P=L.left;const R=window.innerHeight,V=W.height;let H=L.top+O.height;const Q=O.bottom+V>R,se=O.top-V>=0;Q&&se&&(H=L.top-V);const Y={top:`${H}px`,left:`${P}px`,width:`${J}px`,position:"absolute"},le=JSON.stringify(Y);le!==E.current&&(E.current=le,f?k(Y):requestAnimationFrame(()=>k(Y)))},[t]);if(u.useEffect(()=>{if(!e)return;const f=w=>{const I=w.target;if(_.current?.contains(I))return;const S=[".interface-interface-skeleton__sidebar",".block-editor-block-inspector",".components-popover",".components-modal__screen-overlay",".edit-post-sidebar"];for(const O of S)if(I.closest(O))return;d()},h=requestAnimationFrame(()=>{document.addEventListener("mousedown",f)});return()=>{cancelAnimationFrame(h),document.removeEventListener("mousedown",f)}},[e,d]),u.useEffect(()=>{if(!e)return;const f=h=>{h.key==="Escape"&&d()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[e,d]),u.useEffect(()=>{if(!e)return;x(!0);const f=()=>x();window.addEventListener("scroll",f,!0);const h=()=>x();window.addEventListener("resize",h,!0);let w=null;return _.current&&(w=new ResizeObserver(()=>x(!0)),w.observe(_.current)),()=>{window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",h,!0),w?.disconnect()}},[e,x]),!e)return null;const N=()=>React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"currentColor"})),y=()=>React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"}));return Me.createPortal(React.createElement("div",{className:`elementor vx-popup ${p}`.trim()},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form elementor-element",style:C,ref:b},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:_,style:g},n&&React.createElement("div",{className:"ts-popup-head flexify ts-sticky-top"},React.createElement("div",{className:"ts-popup-name flexify"},r&&React.createElement("span",{dangerouslySetInnerHTML:{__html:r}}),React.createElement("span",null,n)),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),d()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(N,null))))),React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},v),a||l?React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),d()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(N,null))),l&&c&&React.createElement("li",{className:"flexify hide-d",onClick:f=>{f.preventDefault(),c()}},React.createElement("a",{href:"#",className:"ts-icon-btn"},React.createElement(y,null))),l&&c&&React.createElement("li",{className:"flexify hide-m",onClick:f=>{f.preventDefault(),c()}},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1"},o)),a&&React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),i()},className:"ts-btn ts-btn-2"},s)))):React.createElement("div",{className:"ts-popup-controller hide-d"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),d()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(N,null)))))))))),document.body)}const lt=({value:e,onChange:t,onSelect:n,pickerConfig:r,onPickerReady:s})=>{const o=u.useRef(null),l=u.useRef(null),a=u.useRef(null),i=u.useRef(t),c=u.useRef(n);i.current=t,c.current=n,u.useEffect(()=>{if(!o.current||!l.current)return;const v=window.Pikaday;if(!v){console.error("Pikaday not loaded - window.Pikaday is undefined");return}const p=requestAnimationFrame(()=>{a.current=new v({field:l.current,container:o.current,bound:!1,firstDay:1,keyboardInput:!1,defaultDate:e||void 0,onSelect:g=>{i.current(g),c.current&&c.current(g)},...r}),s&&a.current&&s(a.current)});return()=>{cancelAnimationFrame(p),setTimeout(()=>{a.current?.destroy(),a.current=null},200)}},[]),u.useEffect(()=>{a.current&&(e&&a.current.setDate(e,!0),a.current.draw(!0))},[e]);const d=r?.numberOfMonths>=2;return u.createElement("div",{className:`ts-booking-date ts-form-group${d?" ts-booking-date-range":""}`,ref:o},u.createElement("input",{type:"hidden",ref:l}))};function at(e,t,n){if(!e||!e.library||!e.value)return t??null;const{library:r,value:s}=e;return r==="icon"?React.createElement("i",{className:s,"aria-hidden":"true"}):r==="svg"?React.createElement("img",{src:s,alt:"",className:n,style:{width:"1em",height:"1em"}}):t??null}const ce={search:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z",fill:"#343C54"})),close:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M5.9545 5.95548C6.39384 5.51614 7.10616 5.51614 7.5455 5.95548L11.999 10.409L16.4524 5.95561C16.8918 5.51627 17.6041 5.51627 18.0434 5.95561C18.4827 6.39495 18.4827 7.10726 18.0434 7.5466L13.59 12L18.0434 16.4534C18.4827 16.8927 18.4827 17.605 18.0434 18.0444C17.6041 18.4837 16.8918 18.4837 16.4524 18.0444L11.999 13.591L7.5455 18.0445C7.10616 18.4839 6.39384 18.4839 5.9545 18.0445C5.51517 17.6052 5.51516 16.8929 5.9545 16.4535L10.408 12L5.9545 7.54647C5.51516 7.10713 5.51517 6.39482 5.9545 5.95548Z",fill:"#343C54"})),reload:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z",fill:"#343C54"}),React.createElement("path",{d:"M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z",fill:"#343C54"})),filterslider:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M8.89789 3.25C10.3318 3.25 11.5358 4.23471 11.8704 5.56481H20.3125C20.7267 5.56481 21.0625 5.90059 21.0625 6.31481C21.0625 6.72902 20.7267 7.06481 20.3125 7.06481H11.8705C11.536 8.3951 10.332 9.38 8.89789 9.38C7.46381 9.38 6.25976 8.3951 5.92527 7.06481H4.3125C3.89829 7.06481 3.5625 6.72902 3.5625 6.31481C3.5625 5.90059 3.89829 5.56481 4.3125 5.56481H5.92537C6.26 4.23471 7.46395 3.25 8.89789 3.25Z",fill:"#343C54"}),React.createElement("path",{d:"M12.737 12.7503H4.3125C3.89829 12.7503 3.5625 12.4145 3.5625 12.0003C3.5625 11.5861 3.89829 11.2503 4.3125 11.2503H12.7369C13.0714 9.91998 14.2754 8.93506 15.7095 8.93506C17.1436 8.93506 18.3477 9.91998 18.6822 11.2503H20.3125C20.7267 11.2503 21.0625 11.5861 21.0625 12.0003C21.0625 12.4145 20.7267 12.7503 20.3125 12.7503H18.682C18.3474 14.0804 17.1435 15.0651 15.7095 15.0651C14.2756 15.0651 13.0717 14.0804 12.737 12.7503Z",fill:"#343C54"}),React.createElement("path",{d:"M12.5932 16.9354C12.2587 15.605 11.0546 14.6201 9.62055 14.6201C8.18645 14.6201 6.9824 15.605 6.64792 16.9354H4.3125C3.89829 16.9354 3.5625 17.2711 3.5625 17.6854C3.5625 18.0996 3.89829 18.4354 4.3125 18.4354H6.64804C6.98268 19.7654 8.18662 20.7501 9.62055 20.7501C11.0545 20.7501 12.2584 19.7654 12.5931 18.4354H20.3125C20.7267 18.4354 21.0625 18.0996 21.0625 17.6854C21.0625 17.2711 20.7267 16.9354 20.3125 16.9354H12.5932Z",fill:"#343C54"})),marker:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C7.58172 2 4 5.58172 4 10C4 12.9646 5.43348 15.8125 7.5 18C9.16667 19.7708 11 21 12 21C13 21 14.8333 19.7708 16.5 18C18.5665 15.8125 20 12.9646 20 10C20 5.58172 16.4183 2 12 2ZM12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",fill:"#343C54"})),crosshairs:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12.5523 2 13 2.44772 13 3V4.06189C16.6187 4.51314 19.4869 7.38128 19.9381 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H19.9381C19.4869 16.6187 16.6187 19.4869 13 19.9381V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V19.9381C7.38128 19.4869 4.51314 16.6187 4.06189 13H3C2.44772 13 2 12.5523 2 12C2 11.4477 2.44772 11 3 11H4.06189C4.51314 7.38128 7.38128 4.51314 11 4.06189V3C11 2.44772 11.4477 2 12 2ZM6.07089 11C6.50618 8.48991 8.48991 6.50618 11 6.07089V8C11 8.55228 11.4477 9 12 9C12.5523 9 13 8.55228 13 8V6.07089C15.5101 6.50618 17.4938 8.48991 17.9291 11H16C15.4477 11 15 11.4477 15 12C15 12.5523 15.4477 13 16 13H17.9291C17.4938 15.5101 15.5101 17.4938 13 17.9291V16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16V17.9291C8.48991 17.4938 6.50618 15.5101 6.07089 13H8C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11H6.07089Z",fill:"#343C54"})),grid:React.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("rect",{x:"3",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"3",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"3",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}))};function is(e,t){const n={},r=[t];return e.width&&e.width>0&&(n.width=`${e.width}%`,n.flexGrow=0,n.flexShrink=0),e.hideFilter&&r.push("vx-hidden"),e.alignContent&&(n.justifyContent=e.alignContent),e.hideLabel&&r.push("hide-label"),{style:n,className:r.join(" ")}}function te(e,t){return is(e,t)}function de(e){const t={},n=["ts-field-popup","triggers-blur"];return e.customPopupEnabled&&(e.popupMinWidth&&e.popupMinWidth>0&&(t.minWidth=`${e.popupMinWidth}px`),e.popupMaxWidth&&e.popupMaxWidth>0&&(t.maxWidth=`${e.popupMaxWidth}px`),e.popupMaxHeight&&e.popupMaxHeight>0&&(t.maxHeight=`${e.popupMaxHeight}px`),e.popupCenterPosition&&n.push("ts-popup-centered")),{style:t,className:n.join(" ")}}let en=!1;function ot(){if(en)return!0;if(!window.Voxel?.mixins?.base)return!1;const e=window.Voxel.mixins.base;return e.mounted&&!e._originalMounted?(e._originalMounted=e.mounted,e.mounted=function(){try{const t=this.$root?.$options?.el||this.$el;if(t){const n=t.closest?.(".elementor-element");if(n)this.widget_id=n.dataset?.id||"";else{const s=t.closest?.("[data-block-id]");this.widget_id=s&&s.dataset?.blockId||""}const r=t.closest?.(".elementor");if(r)this.post_id=r.dataset?.elementorId||"";else{const s=document.body.className.match(/postid-(\d+)/);this.post_id=s?s[1]:""}}e._originalMounted&&e._originalMounted!==e.mounted&&e._originalMounted.call(this)}catch(t){console.warn("[VoxelShim] Error in patched mounted():",t),this.widget_id="",this.post_id=""}},en=!0,console.log("[VoxelShim] Successfully patched Voxel.mixins.base.mounted"),!0):!1}function tn(){if(ot())return;let e=0;const t=50,r=setInterval(()=>{if(e++,ot()){clearInterval(r);return}e>=t&&(clearInterval(r),console.warn("[VoxelShim] Voxel.mixins.base not found after 5 seconds"))},100);typeof document<"u"&&document.addEventListener("voxel:ready",()=>{ot(),clearInterval(r)},{once:!0})}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",tn,{once:!0}):tn()),typeof window<"u"&&typeof window._vx_file_upload_cache>"u"&&(window._vx_file_upload_cache=[]);function cs({config:e,filterData:t,value:n,onChange:r,blockId:s}){const o=s?`voxel-popup-${s}`:"",l=u.useRef(null),a=u.useRef(null),[i,c]=u.useState(!1),[d,v]=u.useState(""),[p,g]=u.useState(""),b=typeof n=="string"?n:"",_=t.props?.placeholder||t.label||"Type keywords...",C=e.displayAs||t.props?.display_as||"popup",k=t.icon||"";u.useEffect(()=>{g(b)},[b]),u.useEffect(()=>{i&&(v(b),setTimeout(()=>{a.current?.focus()},50))},[i,b]);const E=W=>{g(W.target.value)},x=u.useCallback(()=>{const W=p.trim();r(W.length>0?W:"")},[p,r]),N=u.useCallback(W=>{W.key==="Enter"&&(W.preventDefault(),x())},[x]),y=W=>{v(W.target.value)},f=u.useCallback(()=>{c(!0)},[]),h=u.useCallback(()=>{const W=d.trim();r(W.length>0?W:""),c(!1)},[d,r]),w=u.useCallback(()=>{v(""),r("")},[r]),I=u.useCallback(W=>{W.key==="Enter"&&(W.preventDefault(),h())},[h]);if(C==="inline"){const{style:W,className:A}=te(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:A,style:W},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:"ts-input-icon flexify"},k&&React.createElement("span",{dangerouslySetInnerHTML:{__html:k}}),React.createElement("input",{type:"text",value:p,onChange:E,onBlur:x,onKeyDown:N,placeholder:_,className:"inline-input"})))}const S=b.trim().length>0,{style:O,className:B}=te(e,"ts-form-group"),L=de(e);return React.createElement("div",{className:B,style:O},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:l,className:`ts-filter ts-popup-target ${S?"ts-filled":""}`,onClick:f,onMouseDown:W=>W.preventDefault(),role:"button",tabIndex:0},k&&React.createElement("span",{dangerouslySetInnerHTML:{__html:k}}),React.createElement("div",{className:"ts-filter-text"},S?b:_)),React.createElement(ie,{isOpen:i,target:l,title:"",icon:k,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:h,onClear:w,onClose:()=>c(!1),className:`${o}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:L.style},React.createElement("div",{className:"ts-input-icon ts-sticky-top flexify"},React.createElement("span",null,ce.search),React.createElement("input",{ref:a,type:"text",value:d,onChange:y,onKeyDown:I,placeholder:_,className:"autofocus border-none"}))))}const us=()=>window.noUiSlider;function nn(e){if(e==null||e==="")return[];if(Array.isArray(e))return e.map(Number).filter(r=>!isNaN(r));if(typeof e=="string"&&e.includes("..")){const n=e.split(".."),r=[];if(n[0]!==""){const s=Number(n[0]);isNaN(s)||r.push(s)}if(n[1]!==""){const s=Number(n[1]);isNaN(s)||r.push(s)}return r}const t=Number(e);return isNaN(t)?[]:[t]}function ds({config:e,filterData:t,value:n,onChange:r,blockId:s,narrowedValues:o,isNarrowing:l}){const a=[s?`voxel-popup-${s}`:"",e.id?`elementor-repeater-item-${e.id}`:""].filter(Boolean).join(" "),i=u.useRef(null),c=u.useRef(null),d=u.useRef(null),[v,p]=u.useState(!1),g=t.props||{},b=g.range_start??g.min??0,_=g.range_end??g.max??100,C=g.step_size??g.step??1,k=g.placeholder||t.label||"Range",E=e.displayAs||t.props?.display_as||"popup",x=g.handles||"single",N=g.compare||"in_range",y=e.filterKey,f=o?.ranges?.[y],h=f?.min??b,w=f?.max??_,I=typeof g.format=="object"?g.format:{numeric:!1,prefix:"",suffix:""},S=I.prefix||"",O=I.suffix||"",B=t.icon||"",L=x==="single"?[N==="in_range"?w:h]:N==="in_range"?[h,w]:[h,h],W=nn(n),A=W.length>0?W:L,[U,Z]=u.useState(A),J=u.useCallback(D=>{const G=I.numeric?D.toLocaleString():String(D);return`${S}${G}${O}`},[I.numeric,S,O]),re=u.useCallback(D=>D.map(G=>J(G)).join(" â€” "),[J]),$=n!=null&&n!=="",P=$?re(W.length>0?W:U):k,R=re(U),V=u.useCallback(()=>{if(!c.current||d.current)return;let D,G;x==="single"?(G=N==="in_range"?[1,0]:[0,1],D=[...U]):(G=N==="in_range"?[0,1,0]:[1,0,1],D=[...U]);const j=us();if(!j){console.error("noUiSlider not loaded - window.noUiSlider is undefined");return}j.create(c.current,{start:D,connect:G,range:{min:h,max:w},step:C,behaviour:"tap-drag"}),d.current=c.current.noUiSlider,d.current.on("update",ee=>{Z(ee.map(q=>Number(q)))}),requestAnimationFrame(()=>{d.current&&d.current.set(D,!1)})},[x,N,U,h,w,C]),H=u.useCallback(()=>{d.current&&(d.current.destroy(),d.current=null)},[]);u.useEffect(()=>{const D=nn(n),G=D.length>0?D:L;Z(G),d.current&&(d.current.set(G,!1),requestAnimationFrame(()=>{d.current&&d.current.set(G,!1)}))},[n,h,w,x,N]),u.useEffect(()=>{if(v&&E==="popup"){const D=setTimeout(()=>{V()},100);return()=>clearTimeout(D)}return()=>{E==="popup"&&H()}},[v,E,V,H]),u.useEffect(()=>{if(E==="inline")return V(),()=>H()},[E,V,H]),u.useEffect(()=>{if(!d.current||!f)return;const D=U.map(G=>G<h?h:G>w?w:G);d.current.updateOptions({range:{min:h,max:w},start:D}),Z(D)},[f,h,w,x]);const Q=u.useCallback(()=>{p(!0)},[]),se=u.useCallback(D=>!D.length||D.some(G=>typeof G!="number")?!1:D.join("..")!==L.join(".."),[L]),Y=u.useCallback(D=>se(D)?D.join(".."):null,[se]),le=D=>{const j=[D.target.value===""?h:Number(D.target.value),U[1]??w];Z(j),d.current&&d.current.set(j),E==="minmax"&&r(Y(j))},ue=D=>{const G=D.target.value===""?w:Number(D.target.value),j=[U[0]??h,G];Z(j),d.current&&d.current.set(j),E==="minmax"&&r(Y(j))},z=u.useCallback(()=>{r(Y(U)),p(!1)},[U,Y,r]),m=u.useCallback(()=>{Z(L),d.current&&d.current.set(L),r(null)},[L,r]),M=()=>React.createElement("div",{className:"ts-minmax"},React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(h),value:U[0]??h,onChange:le,min:h,max:typeof U[1]=="number"?U[1]:w,step:C}),React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(w),value:U[1]??w,onChange:ue,min:typeof U[0]=="number"?U[0]:h,max:w,step:C})),T=()=>React.createElement("div",{className:`range-slider-wrapper${l?" ts-loading":""}`},React.createElement("div",{className:"range-value"},R),React.createElement("div",{ref:c,className:"range-slider"}),f&&(f.min!==b||f.max!==_)&&React.createElement("div",{className:"range-narrowed-indicator"},React.createElement("small",null,"Showing ",J(h)," â€” ",J(w)," based on current results")));if(E==="minmax"&&x==="double"){const{style:D,className:G}=te(e,"ts-form-group");return React.createElement("div",{className:G,style:D},!e.hideLabel&&React.createElement("label",null,t.label),M())}if(E==="inline"){const{style:D,className:G}=te(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:G,style:D},!e.hideLabel&&React.createElement("label",null,t.label),T())}const{style:F,className:K}=te(e,"ts-form-group"),X=de(e);return React.createElement("div",{className:K,style:F},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${$?"ts-filled":""}`,onClick:Q,onMouseDown:D=>D.preventDefault(),role:"button",tabIndex:0},B&&React.createElement("span",{dangerouslySetInnerHTML:{__html:B}}),React.createElement("div",{className:"ts-filter-text"},P),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:v,target:i,title:"",icon:B,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:z,onClear:m,onClose:()=>p(!1),className:`${a}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:X.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,t.label,t.description&&React.createElement("small",null,t.description)),T())))}function fs(e,t){let n=null;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}function ps({config:e,filterData:t,value:n,onChange:r,blockId:s}){const o=s?`voxel-popup-${s}`:"",l=t.props||{},a=typeof l.range_start=="number"?l.range_start:0,i=typeof l.range_end=="number"?l.range_end:1e3,c=typeof l.step_size=="number"?l.step_size:1,d=typeof l.precision=="number"?l.precision:0,v=l.placeholder||t.label||"Any",p=e.displayAs||l.display_as||"popup",g=t.icon||"",b=u.useRef(null),_=u.useRef(null),[C,k]=u.useState(!1),[E,x]=u.useState(typeof n=="number"?n:""),N=u.useCallback(P=>{if(P===""||typeof P!="number"||isNaN(P))return"";let R=P;return R<a&&(R=a),R>i&&(R=i),Number(R.toFixed(d))},[a,i,d]),y=u.useCallback(P=>typeof P=="number",[]),f=u.useCallback(P=>{const R=N(P);y(R)?r(R):r("")},[N,y,r]),h=u.useMemo(()=>fs(P=>f(P),300),[f]);u.useEffect(()=>{x(typeof n=="number"?n:"")},[n]),u.useEffect(()=>{C&&x(typeof n=="number"?n:"")},[C,n]);const w=P=>{P.preventDefault();let R;typeof E!="number"?R=a:(R=N(E+c),typeof R!="number"&&(R=a)),x(R),p==="inline"&&h(R)},I=P=>{P.preventDefault();let R;typeof E!="number"?R=a:(R=N(E-c),typeof R!="number"&&(R=a)),x(R),p==="inline"&&h(R)},S=P=>{const R=P.target.value;if(R===""){x(""),p==="inline"&&h("");return}const V=parseFloat(R);if(!isNaN(V)){const H=N(V);x(H),p==="inline"&&h(H)}},O=u.useCallback(()=>{f(E)},[E,f]),B=u.useCallback(()=>{k(!0)},[]),L=u.useCallback(()=>{f(E),k(!1)},[E,f]),W=u.useCallback(()=>{x(""),r(""),_.current?.focus()},[r]),A=typeof n=="number"?n:null,U=P=>React.createElement("div",{className:"ts-stepper-input flexify"},React.createElement("button",{type:"button",className:`ts-stepper-left ts-icon-btn${P?" inline-btn-ts":""}`,onClick:I},React.createElement("i",{className:"las la-minus"})),React.createElement("input",{ref:_,type:"number",className:"ts-input-box",min:a,max:i,step:c,value:E,onChange:S,onBlur:P?O:void 0,placeholder:v}),React.createElement("button",{type:"button",className:`ts-stepper-right ts-icon-btn${P?" inline-btn-ts":""}`,onClick:w},React.createElement("i",{className:"las la-plus"})));if(p==="inline"){const{style:P,className:R}=te(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:R,style:P},!e.hideLabel&&React.createElement("label",null,t.label),U(!0))}const Z=typeof n=="number",{style:J,className:re}=te(e,"ts-form-group"),$=de(e);return React.createElement("div",{className:re,style:J},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:b,className:`ts-filter ts-popup-target ${Z?"ts-filled":""}`,onClick:B,onMouseDown:P=>P.preventDefault(),role:"button",tabIndex:0},g&&React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),React.createElement("div",{className:"ts-filter-text"},A!==null?A:v),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:C,target:b,title:"",icon:g,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:L,onClear:W,onClose:()=>k(!1),className:`${o}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:$.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,t.label,t.description&&React.createElement("small",null,t.description)),U(!1))))}function ms(e){return e==null||e===""?[]:typeof e=="string"?e.split(",").map(t=>t.trim()).filter(t=>t!==""):Array.isArray(e)?e.length>0&&typeof e[0]=="string"?e:e.length>0&&typeof e[0]=="number"?e.map(String):[]:[]}function it(e){return e.length===0?null:e.join(",")}function hs({config:e,filterData:t,value:n,onChange:r,blockId:s,narrowedValues:o,isNarrowing:l}){const a=s?`voxel-popup-${s}`:"",i=u.useRef(null),c=u.useRef(null),[d,v]=u.useState(!1),[p,g]=u.useState(""),b=t.props||{},_=b.multiple??!0,C=b.taxonomy_label??"",k=b.placeholder||t.label||C||"Select",E=e.displayAs||b.display_as||"popup",x=e.hideEmptyTerms??b.hide_empty_terms??!1,N=b.per_page??20,[y,f]=u.useState(1),h=t.icon||"",w=b.taxonomy||e.filterKey,I=o?.terms?.[w],S=u.useCallback(m=>{const M=(T,F,K)=>{const X={...T,parentRef:F||void 0,hasSelection:!1,depth:K};return T.children&&T.children.length>0&&(X.children=T.children.map(D=>M(D,X,K+1))),X};return m.map(T=>M(T,null,0))},[]),O=u.useMemo(()=>{const m=b.terms||[];return S(m)},[b,S]),B=u.useMemo(()=>{const m=new Map,M=T=>{m.set(T.slug,T),T.children&&T.children.forEach(F=>M(F))};return O.forEach(T=>M(T)),m},[O]),L=u.useMemo(()=>{const m=[],M=T=>{T.forEach(F=>{x&&I&&F.term_taxonomy_id&&I[F.term_taxonomy_id]===0||(m.push(F),F.children&&F.children.length>0&&M(F.children))})};return M(O),m},[O,x,I]),W=u.useCallback(m=>!I||!m.term_taxonomy_id?null:I[m.term_taxonomy_id]??null,[I]),A=u.useMemo(()=>ms(n),[n]),U=u.useCallback(m=>m.slug?A.includes(m.slug):!1,[A]),Z=u.useMemo(()=>L.filter(m=>m.slug&&A.includes(m.slug)),[L,A]),J=u.useMemo(()=>{const m=N*y;return L.slice(0,m)},[L,N,y]),re=L.length>N*y,$=u.useMemo(()=>{if(!p)return J;const m=p.toLowerCase();return L.filter(M=>M.label.toLowerCase().includes(m))},[L,J,p]);u.useEffect(()=>{d&&(g(""),L.length>=15&&setTimeout(()=>c.current?.focus(),50))},[d,L.length]);const P=u.useCallback(()=>{v(!0)},[]),R=u.useCallback(m=>{const M=m.slug;if(M)if(_){let T=[...A];if(T.includes(M)){T=T.filter(K=>K!==M);let F=m.parentRef;for(;F;)F.children?.some(X=>T.includes(X.slug)||X.hasSelection)||(F.hasSelection=!1),F=F.parentRef;r(it(T))}else{T.push(M);let F=m.parentRef;for(;F;)T=T.filter(X=>X!==F.slug),F.hasSelection=!0,F=F.parentRef;const K=new Set;T.forEach(X=>{const D=B.get(X);if(!D)return;let G=D.parentRef;const j=[];let ee=!1;for(;G;){if(G.slug===M){ee=!0;break}j.push(G),G=G.parentRef}ee&&(K.add(D.slug),j.forEach(q=>{q.hasSelection=!1}))}),T=T.filter(X=>!K.has(X)),r(it(T))}}else r(it([M])),E!=="inline"&&v(!1)},[_,A,r,B,E]),V=u.useCallback(()=>{v(!1)},[]),H=u.useCallback(()=>{r(null)},[r]),Q=A.length>0,se=Q&&Z[0]?.label||k,Y=Z.length>1?Z.length-1:0;if(E==="inline"){const{style:m,className:M}=te(e,"ts-form-group inline-terms-wrapper ts-inline-filter min-scroll");return React.createElement("div",{className:`${M}${l?" ts-loading":""}`,style:m},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:"ts-term-dropdown ts-multilevel-dropdown inline-multilevel"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},J.map(T=>{const F=U(T),K=W(T),X=K===0;return React.createElement("li",{key:T.slug,className:`${F?"ts-selected":""}${X?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:D=>{D.preventDefault(),X||R(T)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${_?"checkbox":"radio"}`},React.createElement("input",{type:_?"checkbox":"radio",checked:F,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,T.depth>0?"â€” ".repeat(T.depth):"",T.label),K!==null&&React.createElement("span",{className:"ts-term-count"},"(",K,")"),T.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:T.icon}})))}),re&&React.createElement("li",{className:"ts-term-centered"},React.createElement("a",{href:"#",onClick:T=>{T.preventDefault(),f(F=>F+1)},className:"flexify"},React.createElement("div",{className:"ts-term-icon"},ce.reload||React.createElement("span",null,"â†»")),React.createElement("span",null,"Load more"))))))}if(E==="buttons"){const{style:m,className:M}=te(e,"ts-form-group");return React.createElement("div",{className:M,style:m},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},L.map(T=>{const F=U(T);return React.createElement("li",{key:T.slug,className:`flexify ${F?"adb-selected":""}`,onClick:()=>R(T)},T.label)})))}const{style:le,className:ue}=te(e,"ts-form-group"),z=de(e);return React.createElement("div",{className:ue,style:le},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${Q?"ts-filled":""}`,onClick:P,onMouseDown:m=>m.preventDefault(),role:"button",tabIndex:0},h&&React.createElement("span",{dangerouslySetInnerHTML:{__html:h}}),React.createElement("div",{className:"ts-filter-text"},se,Y>0&&React.createElement("span",{className:"term-count"},"+",Y)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:d,target:i,title:"",icon:h,saveLabel:"Save",clearLabel:"Clear",showClear:!0,showSave:_,onSave:V,onClear:H,onClose:()=>v(!1),className:`${a}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:z.style},L.length>=15&&React.createElement("div",{className:"ts-sticky-top uib b-bottom"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("span",null,ce.search),React.createElement("input",{ref:c,type:"text",value:p,onChange:m=>g(m.target.value),placeholder:"Search",className:"autofocus"}))),React.createElement("div",{className:`ts-term-dropdown ts-multilevel-dropdown ts-md-group${l?" ts-loading":""}`},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},$.map(m=>{const M=U(m),T=W(m),F=T===0;return React.createElement("li",{key:m.slug,className:`${M?"ts-selected":""}${F?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:K=>{K.preventDefault(),F||R(m)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${_?"checkbox":"radio"}`},React.createElement("input",{type:_?"checkbox":"radio",checked:M,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,m.depth>0?"â€” ".repeat(m.depth):"",m.label),T!==null&&React.createElement("span",{className:"ts-term-count"},"(",T,")"),m.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:m.icon}})))}),!p&&re&&React.createElement("li",{className:"ts-term-centered"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),f(M=>M+1)},className:"flexify"},React.createElement("div",{className:"ts-term-icon"},ce.reload||React.createElement("span",null,"â†»")),React.createElement("span",null,"Load more")))),$.length===0&&React.createElement("div",{className:"ts-empty-user-tab"},h&&React.createElement("span",{dangerouslySetInnerHTML:{__html:h}}),React.createElement("p",null,"No results found")))))}const ys=()=>window.noUiSlider;function Se(e){return!e||!e.address?null:e.method==="radius"&&e.lat!==void 0&&e.lng!==void 0?`${e.address};${e.lat},${e.lng},${e.radius||10}`:e.swlat!==void 0&&e.swlng!==void 0&&e.nelat!==void 0&&e.nelng!==void 0?`${e.address};${e.swlat},${e.swlng}..${e.nelat},${e.nelng}`:e.lat!==void 0&&e.lng!==void 0?`${e.address};${e.lat},${e.lng},${e.radius||10}`:e.address}function vs(e,t){if(e==null||e==="")return null;if(typeof e=="string"){const n=e.indexOf(";");if(n===-1)return{address:e};const r=e.substring(0,n),s=e.substring(n+1);if(s.includes("..")){const l=s.split(".."),a=l[0].split(","),i=l[1].split(",");return{address:r,method:"area",swlat:Number(a[0]),swlng:Number(a[1]),nelat:Number(i[0]),nelng:Number(i[1])}}const o=s.split(",");return{address:r,method:"radius",lat:Number(o[0]),lng:Number(o[1]),radius:o[2]?Number(o[2]):t}}return typeof e=="object"?e:null}function gs({config:e,filterData:t,value:n,onChange:r,blockId:s}){const o=s?`voxel-popup-${s}`:"",l=u.useRef(null),a=u.useRef(null),i=u.useRef(null),c=u.useRef(null),d=u.useRef(null),[v,p]=u.useState(!1),[g,b]=u.useState(!1),_=u.useRef(null),C=t.props||{},k=C.radius||{},E=k.default??10,x=k.min??0,N=k.max??100,y=k.step??1,f=k.units||"km",h=C.display_proximity_as||"popup",w=C.placeholder||t.label||"Location",I=C.default_search_method||"area";(C.l10n||{}).visibleArea;const O=e.displayAs||t.props?.display_as||"popup",B=t.icon||"",L=vs(n,E)||{},[W,A]=u.useState(L.address||""),[U,Z]=u.useState(L.radius||E),J=u.useCallback(q=>Math.round(q*1e6)/1e6,[]),re=u.useCallback(q=>`${q}${f==="mi"?"mi":"km"}`,[f]),$=u.useCallback(()=>{if(!c.current||d.current)return;const q=ys();if(!q){console.error("noUiSlider not loaded - window.noUiSlider is undefined");return}q.create(c.current,{start:U,connect:[!0,!1],step:y,range:{min:x,max:N},behaviour:"tap-drag"}),d.current=c.current.noUiSlider,d.current.on("update",fe=>{Z(Math.round(Number(fe[0])))}),d.current.on("change",fe=>{const me=Math.round(Number(fe[0]));h==="inline"&&L.lat&&r(Se({...L,radius:me}))})},[U,y,x,N,h,L,r]),P=u.useCallback(()=>{d.current&&(d.current.destroy(),d.current=null)},[]);u.useEffect(()=>{if(h==="inline"&&L.lat){const q=setTimeout(()=>$(),50);return()=>{clearTimeout(q),P()}}},[h,L.lat,$,P]),u.useEffect(()=>{if(g){const q=setTimeout(()=>$(),50);return()=>clearTimeout(q)}return()=>P()},[g,$,P]),u.useEffect(()=>{const q=L.radius||E;Z(q),d.current&&d.current.set([q])},[L.radius,E]);const R=u.useCallback(()=>{if(i.current||!a.current||typeof window>"u")return;const q=window.Voxel?.Maps;if(!q){console.warn("Voxel.Maps not available for autocomplete");return}q.await(()=>{if(i.current)return;const fe=e.autocomplete||{};i.current=new q.Autocomplete(a.current,me=>{if(me){const on=me.viewport.getSouthWest(),cn=me.viewport.getNorthEast(),$s={address:me.address,method:I,swlat:J(on.getLatitude()),swlng:J(on.getLongitude()),nelat:J(cn.getLatitude()),nelng:J(cn.getLongitude()),lat:J(me.latlng.getLatitude()),lng:J(me.latlng.getLongitude()),radius:L.radius||E};A(me.address),r(Se($s)),O==="popup"&&p(!1)}else A(""),r(null)},fe)})},[e.autocomplete,r,O,E,I,L.radius,J]);u.useEffect(()=>{(v||O==="inline")&&(A(L.address||""),v&&setTimeout(()=>a.current?.focus(),50))},[v,O,L.address]);const V=u.useCallback(()=>{p(!0)},[]),H=u.useCallback(()=>{R()},[R]),Q=q=>{A(q.target.value),O==="inline"&&(q.target.value?r(Se({...L,address:q.target.value})):r(null))},se=q=>{q.preventDefault(),q.stopPropagation(),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(fe=>{const me={address:"Current Location",method:"radius",lat:fe.coords.latitude,lng:fe.coords.longitude,radius:E};A("Current Location"),r(Se(me)),O==="popup"&&p(!1)},fe=>{console.error("Geolocation error:",fe)})},Y=u.useCallback(()=>{r(W?Se({...L,address:W}):null),p(!1)},[W,L,r]),le=u.useCallback(()=>{A(""),r(null)},[r]),ue=u.useCallback(q=>{q.key==="Enter"&&(q.preventDefault(),Y())},[Y]),z=u.useCallback(()=>{L.lat&&r(Se({...L,radius:U})),b(!1)},[L,U,r]),m=u.useCallback(()=>{Z(E),d.current&&d.current.set([E]),L.lat&&r(Se({...L,radius:E}))},[E,L,r]),M=!!L.address||!!L.lat,T=M?L.address||"Location set":w,F=()=>React.createElement("div",{className:"ts-input-icon flexify",style:{position:"relative"}},B&&React.createElement("span",{dangerouslySetInnerHTML:{__html:B}}),React.createElement("input",{ref:a,type:"text",className:"inline-input",placeholder:w,value:W,onChange:Q,onKeyDown:ue,onFocus:H}),React.createElement("a",{href:"#",className:"inline-user-location ts-icon-btn",onClick:se,title:"Use my location","aria-label":"Use my location"},ce.crosshairs)),K=()=>React.createElement("div",{className:"range-slider-wrapper"},React.createElement("div",{className:"range-value"},re(U)),React.createElement("div",{ref:c,className:"range-slider"})),X=()=>!L.lat||h==="inline"?null:React.createElement("div",{className:"ts-form-group ts-proximity-filter"},React.createElement("label",null,C.proximity_label||"Radius"),React.createElement("div",{ref:_,className:`ts-filter ts-popup-target ${L.radius?"ts-filled":""}`,onClick:()=>b(!0),onMouseDown:q=>q.preventDefault(),role:"button",tabIndex:0},React.createElement("div",{className:"ts-filter-text"},re(L.radius||E)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:g,target:_,title:"",saveLabel:"Save",clearLabel:"Reset",showClear:!0,onSave:z,onClear:m,onClose:()=>b(!1),className:`${o}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ee.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,C.proximity_label||"Search radius"),K()))),D=()=>h!=="inline"||!L.lat?null:React.createElement("div",{className:"ts-form-group ts-inline-proximity"},React.createElement("label",null,C.proximity_label||"Radius",": ",re(U)),React.createElement("div",{ref:c,className:"range-slider"}));if(O==="inline"){const{style:q,className:fe}=te(e,"ts-form-group ts-inline-filter");return React.createElement(React.Fragment,null,React.createElement("div",{className:fe,style:q},!e.hideLabel&&React.createElement("label",null,t.label),F()),D(),X())}const{style:G,className:j}=te(e,"ts-form-group"),ee=de(e);return React.createElement(React.Fragment,null,React.createElement("div",{className:j,style:G},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:l,className:`ts-filter ts-popup-target ${M?"ts-filled":""}`,onClick:V,onMouseDown:q=>q.preventDefault(),role:"button",tabIndex:0},B&&React.createElement("span",{dangerouslySetInnerHTML:{__html:B}}),React.createElement("div",{className:"ts-filter-text"},T),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:v,target:l,title:"",icon:B,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:Y,onClear:le,onClose:()=>p(!1),className:`${o}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ee.style},React.createElement("div",{className:"ts-form-group"},F()))),D(),X())}function bs(e){if(e==null||e==="")return{date:"",slots:1};if(typeof e=="string")return{date:e,slots:1};if(typeof e=="object"){const t=e;return{date:t.date||"",slots:t.slots||1}}return{date:"",slots:1}}const Ie=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},Re=e=>{if(!e)return null;const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},Ce=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}catch{return e}};function Es({config:e,filterData:t,value:n,onChange:r,blockId:s}){const o=[s?`voxel-popup-${s}`:"",e.id?`elementor-repeater-item-${e.id}`:""].filter(Boolean).join(" "),l=u.useRef(null),a=u.useRef(null),[i,c]=u.useState(!1),d=u.useRef(null),v=u.useRef(null),p=t.props||{},b=(p.inputMode||"date-range")==="date-range",_=p.l10n||{},C=_.pickDate||t.label||"Choose date",k=p.presets||[],E=t.icon||"",x=bs(n),N=x.date,y=x.slots;let f="",h="";b&&N&&N.includes("..")?[f,h]=N.split(".."):!b&&N&&(f=N);const[w,I]=u.useState(()=>Ie(f)),[S,O]=u.useState(()=>Ie(h)),[B,L]=u.useState("start"),[W,A]=u.useState(y);d.current=w,v.current=S;const U=u.useCallback(z=>{const m=d.current,M=v.current,T=a.current;if(!m||M||!T)return;const F=z.target,K=F.tagName==="TD"?F:F.closest("td");if(!K||K.classList.contains("is-empty")||K.classList.contains("is-disabled"))return;const X=K.querySelector(".pika-button");if(!X||X.disabled)return;K.classList.add("is-endrange");const D=new Date(parseInt(X.getAttribute("data-pika-year")||"0"),parseInt(X.getAttribute("data-pika-month")||"0"),parseInt(X.getAttribute("data-pika-day")||"0")),G=864e5,j=new Date(D.getTime()-G);for(;j>m;){const ee=`.pika-button[data-pika-year="${j.getFullYear()}"][data-pika-month="${j.getMonth()}"][data-pika-day="${j.getDate()}"]`;T.el.querySelector(ee)?.parentElement?.classList.add("is-inrange"),j.setTime(j.getTime()-G)}K.addEventListener("mouseleave",()=>{T.el.querySelectorAll("td.is-inrange:not(.is-disabled)").forEach(q=>q.classList.remove("is-inrange")),K.classList.remove("is-endrange")},{once:!0})},[]);u.useEffect(()=>{if(i){if(b&&N&&N.includes("..")){const[z,m]=N.split("..");I(Ie(z)),O(Ie(m))}else!b&&N&&I(Ie(N));A(y),L("start")}},[i,b,N,y]);const Z=u.useCallback(()=>{c(!0)},[]),J=u.useCallback(z=>{if(b&&z&&a.current)if(B==="start")I(z),O(null),L("end"),a.current.setStartRange(z),a.current.setEndRange(null),a.current.draw();else if(w&&z<w)I(z),O(null),a.current.setStartRange(z),a.current.setEndRange(null),a.current.draw();else{O(z),L("start"),a.current.setEndRange(z),a.current.draw();const m=Re(w),M=Re(z);m&&M&&(r(`${m}..${M}`),c(!1))}else I(z)},[b,B,w,r]);u.useCallback(z=>{A(Number(z.target.value)||1)},[]);const re=u.useCallback(z=>{if(b){const m=Re(w),M=Re(S);m&&M&&r(`${m}..${M}`)}else{const M=Re(z!==void 0?z:w);M&&r(M)}c(!1)},[b,w,S,r]),$=u.useCallback(()=>{I(null),O(null),A(1),r(null),a.current&&(a.current.setStartRange(null),a.current.setEndRange(null))},[r]),P=u.useCallback(z=>{r(z)},[r]),R=u.useCallback(()=>typeof n=="string"&&n.includes(".."),[n]),V=b?!!(f&&h):!!N,H=b?R():!!n,Q=u.useCallback(z=>n===z,[n]),se=u.useMemo(()=>{if(b&&k.length>0){if(R()){const z=Ce(f),m=Ce(h);return`${z} - ${m}`}return C}if(!V)return C;if(b){const z=Ce(f),m=Ce(h),M=`${z} â€” ${m}`;return y>1?`${M} (${y})`:M}else{const z=Ce(N);return y>1?`${z} (${y})`:z}},[b,k.length,R,V,f,h,N,y,C]),{style:Y,className:le}=te(e,"ts-form-group"),ue=de(e);return React.createElement(React.Fragment,null,b&&k.map(z=>React.createElement("div",{key:z.key,className:le,style:Y},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter ${Q(z.key)?"ts-filled":""}`,onClick:()=>P(z.key),role:"button",tabIndex:0},React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,z.label))))),React.createElement("div",{className:le,style:Y},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:l,className:`ts-filter ts-popup-target ${H?"ts-filled":""}`,onClick:Z,onMouseDown:z=>z.preventDefault(),role:"button",tabIndex:0},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("div",{className:"ts-filter-text"},se),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:i,target:l,title:"",icon:E,saveLabel:_.save||"Save",clearLabel:_.clear||"Clear",showSave:b,onSave:re,onClear:$,onClose:()=>c(!1),className:`${o}${b?" ts-availability-wrapper xl-height xl-width":" md-width xl-height"}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ue.style},b&&React.createElement("div",{className:"ts-popup-head flexify"},React.createElement("div",{className:"ts-popup-name flexify"},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("span",null,React.createElement("span",{className:B==="start"?"chosen":"",onClick:()=>L("start"),style:{cursor:"pointer"}},w?Ce(Re(w)):_.checkIn||"Check-in"),React.createElement("span",null," â€” "),React.createElement("span",{className:B==="end"?"chosen":"",onClick:()=>L("end"),style:{cursor:"pointer"}},S?Ce(Re(S)):_.checkOut||"Check-out")))),React.createElement(lt,{value:w,onChange:J,...!b&&{onSelect:re},pickerConfig:{minDate:new Date,...b?{numberOfMonths:2,theme:"pika-range",onDraw:z=>z.el.addEventListener("mouseover",U)}:{}},onPickerReady:z=>{a.current=z,b&&w&&(z.setStartRange(w),S&&z.setEndRange(S))}}))))}function ws(e,t){if(e==null||e==="")return{from:"",to:""};if(typeof e=="string"){if(t&&e.includes("..")){const n=e.split("..");return{from:n[0]||"",to:n[1]||""}}return{from:e,to:""}}return{from:"",to:""}}function ct(e,t,n){return!e&&!t?null:n?e&&t?`${e}..${t}`:e?`${e}..`:t?`..${t}`:null:e||null}const be=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},Le=e=>{if(!e)return null;const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},Ne=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}catch{return e}},rn=e=>e?e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"";function Ss(e){return typeof e=="string"&&e.includes("..")}function sn({config:e,filterData:t,value:n,onChange:r,blockId:s}){const o=s?`voxel-popup-${s}`:"",l=u.useRef(null),a=t.props||{},i=a.inputMode==="date-range"||a.inputMode===void 0,c=a.l10n||{},d=c.from||"From",v=c.to||"To",p=c.pickDate||"Choose date",g=i?a.presets||[]:[],b=a.displayValue||{start:null,end:null},_=t.icon||"",C=ws(n,i),k=C.from,E=C.to,[x,N]=u.useState(!1),[y,f]=u.useState(!1),[h,w]=u.useState(()=>be(k)),[I,S]=u.useState("start"),[O,B]=u.useState(()=>be(k)),[L,W]=u.useState(()=>be(E)),A=u.useRef(null),U=u.useCallback(()=>{w(be(k)),f(!0)},[k]),Z=u.useCallback((j="start")=>{const ee=be(k),q=be(E);B(ee),W(q),S(j==="end"&&!q?"start":j),f(!0)},[k,E]),J=u.useCallback(j=>{w(j)},[]),re=u.useCallback(j=>{N(!0);const q=Le(j!==void 0?j:h)||"";r(ct(q,"",!1)),f(!1)},[h,r]),$=u.useCallback(()=>{N(!0),w(null),r(null)},[r]),P=u.useRef(I);P.current=I;const R=u.useRef(O);R.current=O;const V=u.useRef(L);V.current=L;const H=u.useCallback(j=>{B(j),R.current=j,A.current&&(A.current.setStartRange(j),V.current&&j&&j>V.current&&(W(null),V.current=null,A.current.setEndRange(null)))},[]),Q=u.useCallback(j=>{W(j),V.current=j,A.current&&A.current.setEndRange(j)},[]),se=u.useCallback(()=>{N(!0);let j=Le(R.current)||"",ee=Le(V.current)||"";j&&!ee&&(ee=j),r(ct(j,ee,!0)),f(!1)},[r]),Y=u.useCallback(()=>{N(!0),H(null),Q(null),S("start"),A.current&&A.current.draw(!0),r(null)},[r,H,Q]),le=u.useCallback(j=>{P.current==="start"?(H(j),S("end")):(Q(j),S("start"),setTimeout(()=>{N(!0);const ee=Le(R.current)||"";let q=Le(j)||"";ee&&!q&&(q=ee),r(ct(ee,q,!0)),f(!1)},0)),A.current&&A.current.draw(!0)},[H,Q,r]),ue=u.useCallback(j=>{A.current=j;const ee=be(k),q=be(E);ee&&j.setStartRange(ee),q&&j.setEndRange(q),j.draw(!0)},[k,E]),z=u.useMemo(()=>({numberOfMonths:2,theme:"pika-range",disableDayFn:j=>!!(P.current==="end"&&R.current&&j<R.current),selectDayFn:j=>R.current&&j.toDateString()===R.current.toDateString()||V.current&&j.toDateString()===V.current.toDateString()||void 0}),[]),m=u.useCallback(j=>{N(!0),r(n===j?null:j)},[n,r]),M=i?Ss(n):n!=null&&n!=="",T=u.useMemo(()=>{if(!M)return p;if(i){const ee=x?Ne(k):b.start||Ne(k),q=x?Ne(E):b.end||Ne(E);return ee&&q?`${ee} - ${q}`:ee||p}return(x?Ne(k):b.start||Ne(k))||p},[M,i,k,E,p,x,b]),F=O?rn(O):d,K=L?rn(L):v,{style:X,className:D}=te(e,"ts-form-group"),G=de(e);return React.createElement(React.Fragment,null,g.map(j=>React.createElement("div",{key:j.key,className:D,style:X},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter${n===j.key?" ts-filled":""}`,onClick:()=>m(j.key),role:"button",tabIndex:0},React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,j.label))))),React.createElement("div",{className:D,style:X},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:l,className:`ts-filter ts-popup-target${M?" ts-filled":""}`,onClick:i?()=>Z("start"):U,onMouseDown:j=>j.preventDefault(),role:"button",tabIndex:0},_&&React.createElement("span",{dangerouslySetInnerHTML:{__html:_}}),React.createElement("div",{className:"ts-filter-text"},T),React.createElement("div",{className:"ts-down-icon"})),!i&&React.createElement(ie,{isOpen:y,target:l,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:re,onClear:$,onClose:()=>f(!1),className:`${o} md-width xl-height${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:G.style},React.createElement(lt,{value:h,onChange:J,onSelect:re})),i&&React.createElement(ie,{isOpen:y,target:l,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:se,onClear:Y,onClose:()=>f(!1),className:`${o} ts-availability-wrapper xl-width xl-height${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:G.style},React.createElement("div",{className:"ts-popup-head flexify"},React.createElement("div",{className:"ts-popup-name flexify"},_&&React.createElement("span",{dangerouslySetInnerHTML:{__html:_}}),React.createElement("span",null,React.createElement("span",{className:I==="start"?"chosen":"",onClick:()=>S("start"),style:{cursor:"pointer"}},F),O&&React.createElement(React.Fragment,null,React.createElement("span",null," â€” "),React.createElement("span",{className:I==="end"?"chosen":"",onClick:()=>S("end"),style:{cursor:"pointer"}},K))))),React.createElement(lt,{value:null,onChange:()=>{},onSelect:le,pickerConfig:z,onPickerReady:ue}))))}function Rs({config:e,filterData:t,value:n,onChange:r}){const s=n!=null&&n!==!1&&n!==""&&n!==0,o=d=>{d.preventDefault(),r(s?null:1)},l=t.props?.placeholder||t.label||"Open now";if(e.openInPopup||t.props?.openInPopup||!1){const{style:d,className:v}=te(e,"ts-form-group"),p=t.icon||"";return React.createElement("div",{className:v,style:d},React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter ts-popup-target${s?" ts-filled":""}`,onClick:o,role:"button",tabIndex:0},p&&React.createElement("span",{dangerouslySetInnerHTML:{__html:p}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,l))))}const{style:i,className:c}=te(e,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:c,style:i},React.createElement("label",{className:"ts-keep-visible"},React.createElement("div",{className:"switch-slider"},React.createElement("div",{className:"onoffswitch"},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:s,onChange:o,tabIndex:0}),React.createElement("label",{className:"onoffswitch-label",onClick:o}))),l))}function ln(e){return typeof e!="string"||!e?null:e.split("(")[0]}function an(e){return Math.round(e*1e5)/1e5}function Cs({config:e,filterData:t,value:n,onChange:r,blockId:s,allFilterValues:o,allFiltersData:l,postFeedId:a}){const i=s?`voxel-popup-${s}`:"",c=u.useRef(null),[d,v]=u.useState(!1),[p,g]=u.useState(!1),b=t.props||{},_=e.displayAs||t.props?.display_as||"popup",C=b.placeholder||t.label||"Order By",k=u.useMemo(()=>{const R=b.choices||{};return Array.isArray(R)?R:Object.entries(R).map(([V,H])=>({key:V,label:H.label||H,placeholder:H.placeholder||H.label||H,icon:H.icon||"",requires_location:H.requires_location||!1,has_location:H.has_location||!1}))},[b.choices]),E=t.icon||"",x=u.useMemo(()=>l&&l.find(R=>R.type==="location")||null,[l]),N=u.useMemo(()=>{if(!x||!o)return null;const R=o[x.key];return!R||typeof R!="object"?null:R},[x,o]),y=u.useCallback(R=>{if(N){const{lat:V,lng:H,method:Q,address:se}=N;if(V&&H){if(Q==="radius"){R(V,H),g(!1);return}R(V,H),g(!1);return}if(se&&window.Voxel?.Maps?.getGeocoder){window.Voxel.Maps.getGeocoder().geocode(se,Y=>{Y?R(Y.latlng?.getLatitude?.()||Y.lat,Y.latlng?.getLongitude?.()||Y.lng):f(R),g(!1)});return}}f(R)},[N]),f=u.useCallback(R=>{if(!navigator.geolocation){g(!1);return}navigator.geolocation.getCurrentPosition(V=>{const H=an(V.coords.latitude),Q=an(V.coords.longitude);R(H,Q),g(!1)},()=>{const V=window.Voxel_Config;window.Voxel?.alert&&V?.l10n?.positionFail&&window.Voxel.alert(V.l10n.positionFail,"error"),g(!1)})},[]),h=ln(n),w=k.find(R=>R.key===h)?.requires_location;u.useEffect(()=>{if(!w||!N)return;const{lat:R,lng:V,method:H}=N;H==="radius"&&R&&V&&h&&r(`${h}(${R},${V})`)},[N?.lat,N?.lng]);const I=u.useCallback(()=>{v(!0)},[]),S=u.useCallback(R=>{R.requires_location?(g(R.key),y((V,H)=>{r(R.key+`(${V},${H})`),v(!1)})):(r(R.key),v(!1))},[r,y]),O=u.useCallback(R=>{R.requires_location?(g(R.key),y((V,H)=>{r(R.key+`(${V},${H})`)})):r(R.key)},[r,y]),B=u.useCallback(()=>{r(null)},[r]),L=typeof n=="string"?n:"",W=!!L,A=ln(L),U=k.find(R=>R.key===A),Z=U?.label||C;u.useEffect(()=>{U?.requires_location&&!U?.has_location&&A&&(_==="buttons"?S(U):O(U))},[]);const J=R=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},k.map(V=>{const H=A===V.key,Q=p===V.key;return React.createElement("li",{key:V.key,className:H?"ts-selected":""},React.createElement("a",{href:"#",className:`flexify${Q?" vx-pending":""}`,onClick:se=>{se.preventDefault(),R(V)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:V.key,checked:H,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,V.label),V.icon&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:V.icon}}))))})));if(_==="buttons"){const{style:R,className:V}=te(e,"ts-form-group");return React.createElement("div",{className:V,style:R},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},k.map(H=>{const Q=A===H.key,se=p===H.key;return React.createElement("li",{key:H.key,className:`flexify${Q?" adb-selected":""}${se?" vx-pending":""}`,onClick:()=>O(H)},H.placeholder||H.label)})))}if(_==="alt-btn")return React.createElement(React.Fragment,null,k.map(R=>{const V=A===R.key,H=p===R.key,{style:Q,className:se}=te(e,"ts-form-group");return React.createElement("div",{key:R.key,className:se,style:Q},!e.hideLabel&&React.createElement("label",null,R.label),React.createElement("div",{className:`ts-filter${V?" ts-filled":""}${H?" vx-pending":""}`,onClick:()=>O(R)},R.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:R.icon}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,R.placeholder||R.label))))}));if(_==="post-feed"&&a){const R=`[data-block-id="${a}"] .post-feed-header, .elementor-element-${a} .post-feed-header`,V=document.querySelector(R);if(V&&!V.querySelector(".vxf-sort"))return Me.createPortal(React.createElement(ks,{filterData:t,filterIcon:E,placeholder:C,options:k,currentKey:A,hasValue:W,displayValue:Z,loading:p,selectDropdownChoice:S,handleClear:B,renderRadioList:J,popupClassName:i,config:e}),V)}const{style:re,className:$}=te(e,"ts-form-group"),P=de(e);return React.createElement("div",{className:$,style:re},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:c,className:`ts-filter ts-popup-target${W?" ts-filled":""}`,onClick:I,onMouseDown:R=>R.preventDefault(),role:"button",tabIndex:0},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("div",{className:"ts-filter-text"},Z),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:d,target:c,title:"",icon:E,saveLabel:"Save",clearLabel:"Clear",showClear:W,showSave:!1,onSave:()=>v(!1),onClear:B,onClose:()=>v(!1),className:`hide-head ${i}${e.popupCenterPosition?" ts-popup-centered":""}`.trim(),popupStyle:P.style},J(S)))}function ks({filterData:e,filterIcon:t,placeholder:n,options:r,currentKey:s,hasValue:o,displayValue:l,loading:a,selectDropdownChoice:i,handleClear:c,renderRadioList:d,popupClassName:v,config:p}){const g=u.useRef(null),[b,_]=u.useState(!1),C=de(p);return React.createElement("div",{className:`vxf-sort ts-popup-target${o?" ts-filled":""}`,ref:g},React.createElement("a",{href:"#",onClick:k=>{k.preventDefault(),_(!b)}},o?l:n,React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:b,target:g,title:"",icon:t,saveLabel:"Save",clearLabel:"Clear",showClear:o,showSave:!1,onSave:()=>_(!1),onClear:()=>{c(),_(!1)},onClose:()=>_(!1),className:`hide-d ${v}${p.popupCenterPosition?" ts-popup-centered":""}`.trim(),popupStyle:C.style},d(k=>{i(k),_(!1)})))}function Ns({config:e,filterData:t,value:n,onChange:r,blockId:s}){const o=s?`voxel-popup-${s}`:"",[l,a]=u.useState(!1),i=u.useRef(null),c=t.props||{},d=e.displayAs||t.props?.display_as||"popup",v=c.placeholder||t.label||"Status",p=u.useMemo(()=>{const I=c.choices||{};return Array.isArray(I)?I:Object.entries(I).map(([S,O])=>({key:S,label:O.label||O}))},[c.choices]),g=t.icon||"",b=u.useCallback(I=>{r(I),a(!1)},[r]),_=u.useCallback(()=>{r(""),a(!1)},[r]),C=u.useCallback(()=>{a(!0)},[]),k=typeof n=="string"?n:"",E=!!k,x=p.find(I=>I.key===k),N=E&&x?.label||v,y=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},p.map(I=>{const S=k===I.key;return React.createElement("li",{key:I.key},React.createElement("a",{href:"#",className:"flexify",onClick:O=>{O.preventDefault(),b(I.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:I.key,checked:S,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,I.label),g&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}))))})));if(d==="buttons")return React.createElement(React.Fragment,null,p.map(I=>{const S=k===I.key,{style:O,className:B}=te(e,"ts-form-group");return React.createElement("div",{key:I.key,className:B,style:O},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter${S?" ts-filled":""}`,onClick:()=>r(I.key)},g&&React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,I.label))))}));const{style:f,className:h}=te(e,"ts-form-group"),w=de(e);return React.createElement("div",{className:h,style:f},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${E?"ts-filled":""}`,onClick:C,onMouseDown:I=>I.preventDefault(),role:"button",tabIndex:0},g&&React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),React.createElement("div",{className:"ts-filter-text"},N),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:l,target:i,title:"",icon:g,saveLabel:"Save",showSave:!1,showClear:E,onClear:_,onSave:()=>a(!1),onClose:()=>a(!1),className:`hide-head ${o}${e.popupCenterPosition?" ts-popup-centered":""}`.trim(),popupStyle:w.style},y()))}function _s(e){const{userId:t,skip:n=!1}=e,[r,s]=u.useState(null),[o,l]=u.useState(!1),[a,i]=u.useState(null),c=u.useCallback(async()=>{if(!t||n){s(null);return}l(!0),i(null);try{const d=Oe(),v=await fetch(`${d}voxel-fse/v1/search-form/user-data?user_id=${t}`);if(v.ok){const p=await v.json();s({id:p.id,name:p.name,avatar:p.avatar||""})}else s({id:t,name:"Unknown",avatar:""}),i("User not found")}catch(d){console.error("useUserData: Error fetching user data:",d),s({id:t,name:"Unknown",avatar:""}),i(d instanceof Error?d.message:"Failed to fetch user data")}finally{l(!1)}},[t,n]);return u.useEffect(()=>{c()},[c]),{userData:r,isLoading:o,error:a,refetch:c}}function xs({config:e,filterData:t,value:n}){const r=u.useRef(null),s=t.props||{},o=t.icon||"",l=s.user;let a;n!==void 0?a=n:t.value!==null&&t.value!==void 0?a=t.value:a=null;const i=a?Number(a):null,c=i!==null&&!isNaN(i)&&i>0,d=!!l?.name,{userData:v,isLoading:p}=_s({userId:c?i:null,skip:d}),g=d?{name:l.name,avatar:l.avatar||""}:v;if(!c)return null;const b=g?.name||(p?"Loading...":"Unknown"),{style:_,className:C}=te(e,"ts-form-group");return React.createElement("div",{className:C,style:_},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:r,className:`ts-filter ts-popup-target ts-filled${p?" ts-loading":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:o}}),React.createElement("div",{className:"ts-filter-text"},b)))}function Ts({config:e,filterData:t,value:n,onChange:r,blockId:s}){const o=u.useRef(null),l=s?`voxel-popup-${s}`:"",i=(t.props||{}).post,c=t.icon||"";let d=null;n!==void 0?n===null?d=null:typeof n=="number"?d=n:typeof n=="string"&&n!==""&&(d=Number(n)):t.value!==null&&t.value!==void 0&&(d=typeof t.value=="number"?t.value:Number(t.value));const v=d!==null&&!isNaN(d)&&d>0,p=u.useCallback(()=>{r(null)},[r]);if(!v)return null;const g=i?.title||"Unknown",{style:b,className:_}=te(e,"ts-form-group"),C=de(e);return React.createElement("div",{className:_,style:b},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:"ts-filter ts-popup-target ts-filled",role:"button",tabIndex:0},c&&React.createElement("span",{dangerouslySetInnerHTML:{__html:c}}),React.createElement("div",{className:"ts-filter-text"},g),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:!1,target:o,showClear:!0,showSave:!1,onSave:()=>{},onClear:p,onClose:()=>{},className:`${l}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:C.style}))}function ut({config:e,filterData:t,value:n,onChange:r}){const[s,o]=u.useState(!1),[l,a]=u.useState(""),[i,c]=u.useState([]),[d,v]=u.useState(!1),p=u.useRef(null),g=t.props||{},b=g.placeholder||t.label||"Following",_=g.user,C=t.icon||"",k=S=>{const O=S.target.value;a(O),O.length>=2?(v(!0),setTimeout(()=>{c([]),v(!1)},300)):c([])},E=(S,O)=>{r({id:S,name:O}),o(!1),a("")},x=S=>{S.preventDefault(),o(!s)};u.useEffect(()=>{const S=O=>{p.current&&!p.current.contains(O.target)&&o(!1)};return s&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[s]);let N=null;if(n!==void 0){const S=n;S===null?N=null:typeof S=="number"?N=S:typeof S=="object"&&S?.id&&(N=S.id)}else t.value!==null&&t.value!==void 0&&(N=typeof t.value=="number"?t.value:Number(t.value));const y=N!==null&&!isNaN(N)&&N>0;let f=b;if(y){const S=n;S&&typeof S=="object"&&S.name?f=S.name:_?.name&&(f=_.name)}const{style:h,className:w}=te(e,"ts-form-group"),I=de(e);return React.createElement("div",{className:w,style:h,ref:p},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter ts-popup-target ${y?"ts-filled":""}`,onClick:x,onMouseDown:S=>S.preventDefault(),role:"button",tabIndex:0},C&&React.createElement("span",{dangerouslySetInnerHTML:{__html:C}}),React.createElement("div",{className:"ts-filter-text"},f),React.createElement("div",{className:"ts-down-icon"})),s&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:I.className,style:I.style},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,ce.search),React.createElement("input",{type:"text",className:"inline-input",value:l,onChange:k,placeholder:"Search..."}))),d?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):i.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},i.map(S=>React.createElement("li",{key:S.id},React.createElement("a",{href:"#",className:"flexify",onClick:O=>{O.preventDefault(),E(S.id,S.name)}},React.createElement("span",null,S.name)))))):l.length>=2?React.createElement("div",{className:"ts-empty-user-list"},React.createElement("span",null,"No results found")):null))))}function Is({config:e,filterData:t,value:n,onChange:r}){const[s,o]=u.useState(!1),[l,a]=u.useState(""),[i,c]=u.useState([]),[d,v]=u.useState(!1),p=u.useRef(null),g=t.props||{},b=g.placeholder||t.label||"Following Post",_=g.post,C=t.icon||"",k=S=>{const O=S.target.value;a(O),O.length>=2?(v(!0),setTimeout(()=>{c([]),v(!1)},300)):c([])},E=(S,O)=>{r({id:S,title:O}),o(!1),a("")},x=S=>{S.preventDefault(),o(!s)};u.useEffect(()=>{const S=O=>{p.current&&!p.current.contains(O.target)&&o(!1)};return s&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[s]);let N=null;if(n!==void 0){const S=n;S===null?N=null:typeof S=="number"?N=S:typeof S=="object"&&S?.id&&(N=S.id)}else t.value!==null&&t.value!==void 0&&(N=typeof t.value=="number"?t.value:Number(t.value));const y=N!==null&&!isNaN(N)&&N>0;let f=b;if(y){const S=n;S&&typeof S=="object"&&S.title?f=S.title:_?.title&&(f=_.title)}const{style:h,className:w}=te(e,"ts-form-group"),I=de(e);return React.createElement("div",{className:w,style:h,ref:p},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter ts-popup-target ${y?"ts-filled":""}`,onClick:x,onMouseDown:S=>S.preventDefault(),role:"button",tabIndex:0},C&&React.createElement("span",{dangerouslySetInnerHTML:{__html:C}}),React.createElement("div",{className:"ts-filter-text"},f),React.createElement("div",{className:"ts-down-icon"})),s&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:I.className,style:I.style},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,ce.search),React.createElement("input",{type:"text",className:"inline-input",value:l,onChange:k,placeholder:"Search posts..."}))),d?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):i.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},i.map(S=>React.createElement("li",{key:S.id},React.createElement("a",{href:"#",className:"flexify",onClick:O=>{O.preventDefault(),E(S.id,S.title)}},React.createElement("span",null,S.title)))))):l.length>=2?React.createElement("div",{className:"ts-empty-user-list"},React.createElement("span",null,"No posts found")):null))))}function Ls({config:e,filterData:t,value:n,onChange:r}){const s=t.props||{},o=s.openInPopup===!0,l=s.placeholder||t.label||"",a=t.icon||"",i=n!=null&&n!==""&&n!==!1,c=p=>{p.preventDefault(),r(i?"":1)};if(o){const{style:p,className:g}=te(e,"ts-form-group");return React.createElement("div",{className:g,style:p},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter${i?" ts-filled":""}`,onClick:c,onMouseDown:b=>b.preventDefault(),role:"button",tabIndex:0},a&&React.createElement("span",{dangerouslySetInnerHTML:{__html:a}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,l))))}const{style:d,className:v}=te(e,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:v,style:d},React.createElement("label",{className:"ts-keep-visible"},React.createElement("div",{className:"switch-slider"},React.createElement("div",{className:"onoffswitch"},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:i,onChange:c,tabIndex:0}),React.createElement("label",{className:"onoffswitch-label",onClick:c}))),l))}function Ms({config:e,filterData:t}){const n=t.description||"",{style:r,className:s}=te(e,"ts-form-group ui-heading");return React.createElement("div",{className:s,style:r},React.createElement("label",null,e.label||t.label,n&&React.createElement("small",null,n)))}function Os({postTypes:e,currentPostType:t,onChange:n,blockId:r,style:s}){const o=r?`voxel-popup-${r}`:"",[l,a]=u.useState(!1),i=u.useRef(null),c=u.useCallback(C=>{n(C),a(!1)},[n]),d=u.useCallback(()=>{a(!0)},[]),v=e.find(C=>C.key===t),p=v?.label||"Select type",g=!!t,b=v?.icon||"",_=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},e.map(C=>{const k=t===C.key;return React.createElement("li",{key:C.key},React.createElement("a",{href:"#",className:"flexify",onClick:E=>{E.preventDefault(),c(C.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:k,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,C.label),React.createElement("div",{className:"ts-term-icon ts-pull-right"},C.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:C.icon}}))))})));return React.createElement("div",{className:"ts-form-group choose-cpt-filter",style:s},React.createElement("label",null,"Post type"),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${g?"ts-filled":""}`,onClick:d,onMouseDown:C=>C.preventDefault(),role:"button",tabIndex:0},b&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b}}),React.createElement("div",{className:"ts-filter-text"},p),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:l,target:i,title:"",icon:b,saveLabel:"Save",showSave:!1,showClear:!1,onSave:()=>a(!1),onClose:()=>a(!1),className:`hide-head ${o}`.trim()},_()))}const Ps={"common:is_empty":(e,t)=>t==null||t==="","common:is_not_empty":(e,t)=>t!=null&&t!=="","text:equals":(e,t)=>t===e.value,"text:not_equals":(e,t)=>t!==e.value,"text:contains":(e,t)=>typeof t!="string"||!e.value?!1:new RegExp(e.value,"i").test(t),"taxonomy:contains":(e,t)=>typeof t!="string"||!e.value?!1:t.split(",").includes(e.value),"taxonomy:not_contains":(e,t)=>typeof t!="string"||!e.value?!0:!t.split(",").includes(e.value),"number:equals":(e,t)=>{const n=parseFloat(String(t)),r=parseFloat(e.value||"0");return n===r},"number:not_equals":(e,t)=>{const n=parseFloat(String(t)),r=parseFloat(e.value||"0");return n!==r},"number:gt":(e,t)=>{const n=parseFloat(String(t)),r=parseFloat(e.value||"0");return n>r},"number:gte":(e,t)=>{const n=parseFloat(String(t)),r=parseFloat(e.value||"0");return n>=r},"number:lt":(e,t)=>{const n=parseFloat(String(t)),r=parseFloat(e.value||"0");return n<r},"number:lte":(e,t)=>{const n=parseFloat(String(t)),r=parseFloat(e.value||"0");return n<=r}};function As(e,t,n){const r=Ps[e.type];if(!r)return console.warn(`[filterConditions] Unknown condition type: ${e.type}`),!1;let s=t;return n==="order-by"&&typeof t=="string"&&t.length>0&&(s=t.split("(")[0]),r(e,s)}function Fs(e,t="show",n,r){if(!e||e.length===0)return!0;let s=!1;return e.forEach(o=>{if(!o.length)return;let l=!0;o.forEach(a=>{const i=n[a.source],d=r[a.source]?.type;As(a,i,d)||(l=!1)}),l&&(s=!0)}),t==="hide"?!s:s}function Vs(e,t,n){return Fs(e.conditions,e.conditions_behavior||"show",t,n)}function Ds(){const e=()=>{if(typeof window>"u")return"desktop";const r=window.innerWidth;return r<=767?"mobile":r<=1024?"tablet":"desktop"},[t,n]=u.useState(e);return u.useEffect(()=>{const r=()=>{n(e())};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function js({attributes:e,postTypes:t,context:n,editorDeviceType:r,onSubmit:s,onPostTypeChange:o,onFilterChange:l}){const a=u.useRef(null),i=u.useRef(null),{state:c,setCurrentPostType:d,setFilterValue:v,togglePortal:p,submit:g,clearAll:b,narrowedValues:_,narrowingFilters:C}=ts({attributes:e,postTypes:t,context:n,onSubmit:s,onPostTypeChange:o,onFilterChange:l}),k=es(m=>{if(n!=="editor")return null;const{isListViewOpened:M,isEditorSidebarOpened:T}=m("core/edit-post");return{leftVisible:M?.()??!1,rightVisible:T?.()??!1}}),E=u.useMemo(()=>{if(n!=="editor"||!k||r&&r!=="desktop")return{width:"100%",left:"0",right:"0",zIndex:9999};const m=k.leftVisible?350:0,M=k.rightVisible?280:0;return m===0&&M===0?{}:{width:`calc(100% - ${m+M}px)`,left:`${m}px`,right:`${M}px`,zIndex:9999}},[n,k,r]),[x,N]=u.useState(""),[y,f]=u.useState("");u.useEffect(()=>{const m=async()=>{const T=e.searchButtonText??"";if(rt(T)){const F=Yt(T),K=await $t(F);N(K)}else N(T)},M=async()=>{const T=e.resetButtonText??"Reset";if(rt(T)){const F=Yt(T),K=await $t(F);f(K)}else f(T)};m(),M()},[e.searchButtonText,e.resetButtonText]),u.useEffect(()=>{if(!c.portalActive)return;const m=M=>{M.key==="Escape"&&p()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[c.portalActive,p]),u.useEffect(()=>{if(!c.portalActive)return;const m=T=>{const F=T.target;a.current?.contains(F)||n==="editor"&&(F.closest(".interface-interface-skeleton__sidebar")||F.closest(".edit-post-sidebar")||F.closest(".block-editor-block-inspector")||F.closest(".components-popover")||F.closest(".components-modal"))||p()},M=requestAnimationFrame(()=>{document.addEventListener("mousedown",m)});return()=>{cancelAnimationFrame(M),document.removeEventListener("mousedown",m)}},[c.portalActive,p,n]),u.useEffect(()=>{if(n!=="frontend")return;const m=M=>{const T=M;T.detail?.searchFormId&&T.detail.searchFormId!==e.blockId||b()};return window.addEventListener("voxel-search-clear",m),()=>window.removeEventListener("voxel-search-clear",m)},[n,e.blockId,b]),u.useEffect(()=>{if(n!=="frontend")return;const m=M=>{const{searchFormId:T,postType:F}=M.detail||{};T===e.blockId&&F&&d(F)};return window.addEventListener("voxel-switch-post-type",m),()=>window.removeEventListener("voxel-switch-post-type",m)},[n,e.blockId,d]);const h=t.find(m=>m.key===c.currentPostType),w=e.filterLists?.[c.currentPostType]||[],I=m=>{g()},S=(m=!1)=>{b(m)},O={};h?.filters?.forEach(m=>{O[m.key]=m});const B=m=>{if(!(n==="frontend"?os(m):!0))return null;const T=m;if(n==="frontend"&&T.conditions&&!Vs(T,c.filterValues,O))return null;const F=h?.filters?.find(G=>G.key===m.filterKey);if(!F)return null;const K=m.defaultValueEnabled&&m.defaultValue!==void 0&&m.defaultValue!==""&&!(F.type==="range"&&m.defaultValue===".."),X={...F,value:K?m.defaultValue:F.value},D={config:m,filterData:X,value:c.filterValues[m.filterKey],onChange:G=>v(m.filterKey,G),narrowedValues:_,isNarrowing:C,blockId:e.blockId,context:n};switch(F.type){case"keywords":return React.createElement(cs,{key:m.id,...D});case"range":return React.createElement(ds,{key:m.id,...D});case"stepper":return React.createElement(ps,{key:m.id,...D});case"terms":return React.createElement(hs,{key:m.id,...D});case"location":return React.createElement(gs,{key:m.id,...D});case"availability":return React.createElement(Es,{key:m.id,...D});case"date":return React.createElement(sn,{key:m.id,...D});case"recurring-date":return React.createElement(sn,{key:m.id,...D});case"open-now":return React.createElement(Rs,{key:m.id,...D});case"order-by":return React.createElement(Cs,{key:m.id,...D,allFilterValues:c.filterValues,allFiltersData:h?.filters,postFeedId:e.postToFeedId});case"post-status":return React.createElement(Ns,{key:m.id,...D});case"user":return React.createElement(xs,{key:m.id,...D});case"relations":return React.createElement(Ts,{key:m.id,...D});case"following":return React.createElement(ut,{key:m.id,...D});case"followed-by":return React.createElement(ut,{key:m.id,...D});case"following-user":return React.createElement(ut,{key:m.id,...D});case"following-post":return React.createElement(Is,{key:m.id,...D});case"switcher":return React.createElement(Ls,{key:m.id,...D});case"ui-heading":return React.createElement(Ms,{key:m.id,...D});default:return null}},L=(m=!0)=>React.createElement("div",{className:"ts-filter-wrapper flexify"},e.showPostTypeFilter&&t.length>1&&React.createElement(Os,{postTypes:t,currentPostType:c.currentPostType,onChange:d,style:z()}),w.map(M=>B(M)),m&&e.showSearchButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-submit",id:"sf_submit",style:ue("search")},React.createElement("button",{type:"button",onClick:()=>I(),className:`ts-btn ts-btn-2 ts-btn-large ts-search-btn ${c.loading&&!c.resetting?"ts-loading-btn":""}`},c.loading&&!c.resetting&&React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{className:"ts-loader"})),at(e.searchButtonIcon,ce.search),x&&x)),m&&e.showResetButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-reset",style:ue("reset")},React.createElement("a",{href:"#",onClick:M=>{M.preventDefault(),S(!1)},className:"ts-filter",role:"button"},at(e.resetButtonIcon,ce.reload),y&&React.createElement("div",{className:"ts-filter-text"},y)))),W=Ds(),A=n==="editor"&&r?r:W,U=A==="desktop"&&(e.mfSwitcherDesktop??!1)||A==="tablet"&&(e.mfSwitcherTablet??!1)||A==="mobile"&&(e.mfSwitcherMobile??!1),Z=()=>A==="desktop"?e.mfSwitcherDesktopDefault??"feed":A==="tablet"?e.mfSwitcherTabletDefault??"feed":e.mfSwitcherMobileDefault??"feed",[J,re]=u.useState(Z),$=u.useRef(null);u.useEffect(()=>{re(Z())},[A,e.mfSwitcherDesktopDefault,e.mfSwitcherTabletDefault,e.mfSwitcherMobileDefault]);const P=(m,M)=>{if(!m)return null;const T=i.current?.ownerDocument||document,F=T.getElementById(m);if(F)return F;const K=M==="map"?"voxel-fse-map-":"voxel-fse-post-feed-",X=m.replace(/^#/,""),D=`.${K}${X}`,G=T.querySelector(D);return G||null},R=()=>{re("feed");const m=A,M=P(e.postToMapId||"","map"),T=P(e.postToFeedId||"","feed");if(M){M.classList.add(`vx-hidden-${m}`);const F=M.closest(".voxel-fse-flex-container");F&&F.classList.add(`vx-hidden-${m}`);const K=M.querySelector(".ts-map");K&&$.current&&(K.style.height=$.current.height,K.style.minHeight=$.current.minHeight)}if(T){T.classList.remove(`vx-hidden-${m}`);const F=T.closest(".voxel-fse-flex-container");F&&F.classList.remove(`vx-hidden-${m}`)}},V=()=>{re("map");const m=A,M=P(e.postToMapId||"","map"),T=P(e.postToFeedId||"","feed");if(T){T.classList.add(`vx-hidden-${m}`);const F=T.closest(".voxel-fse-flex-container");F&&F.classList.add(`vx-hidden-${m}`)}if(M){M.classList.remove(`vx-hidden-${m}`);const F=M.closest(".voxel-fse-flex-container");F&&F.classList.remove(`vx-hidden-${m}`);const K=M.querySelector(".ts-map");if(K){$.current||($.current={height:K.style.height||"",minHeight:K.style.minHeight||""});const X=M.style.getPropertyValue("--vx-map-height");X?(K.style.height=X,K.style.minHeight=X):requestAnimationFrame(()=>{const D=M.getBoundingClientRect().top;K.style.height=`calc(100vh - ${Math.round(D)}px)`,K.style.minHeight=`calc(100vh - ${Math.round(D)}px)`})}}};u.useEffect(()=>{U&&(J==="feed"?R():V())},[A,J,U,e.postToMapId,e.postToFeedId]);const H=()=>{if(!U)return null;const m=[e.mfSwitcherDesktop?"":"vx-hidden-desktop",e.mfSwitcherTablet?"":"vx-hidden-tablet",e.mfSwitcherMobile?"":"vx-hidden-mobile"].filter(Boolean).join(" "),M=React.createElement("div",{className:`ts-switcher-btn ${m}`,style:n==="editor"?E:{}},React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ${J==="feed"?`vx-hidden-${A}`:""}`,onClick:T=>{T.preventDefault(),R()},role:"button"},ce.grid,"List view"),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ${J==="map"?`vx-hidden-${A}`:""}`,onClick:T=>{T.preventDefault(),V()},role:"button"},ce.marker,"Map view"));return n==="editor"?M:Me.createPortal(React.createElement("div",{className:`voxel-fse-search-form-${e.blockId}`,"data-voxel-id":e.blockId},M),document.body)},Q=A==="desktop"&&(e.formToggleDesktop??!1)||A==="tablet"&&(e.formToggleTablet??!0)||A==="mobile"&&(e.formToggleMobile??!0),se=Q,Y=!Q,le={postTypes:t.map(m=>({key:m.key,label:m.label,filters:m.filters})),currentPostType:c.currentPostType,filterLists:e.filterLists||{},portalMode:e.portalMode||{desktop:!1,tablet:!1,mobile:!1},showPostTypeFilter:e.showPostTypeFilter??!0,showSearchButton:e.showSearchButton??!0,showResetButton:e.showResetButton??!1,searchButtonText:e.searchButtonText||"",resetButtonText:e.resetButtonText||"",formToggleDesktop:e.formToggleDesktop??!1,formToggleTablet:e.formToggleTablet??!0,formToggleMobile:e.formToggleMobile??!0,searchButtonWidth:e.searchButtonWidth,searchButtonWidth_tablet:e.searchButtonWidth_tablet,searchButtonWidth_mobile:e.searchButtonWidth_mobile,searchButtonWidthUnit:e.searchButtonWidthUnit||"%",resetButtonWidth:e.resetButtonWidth,resetButtonWidth_tablet:e.resetButtonWidth_tablet,resetButtonWidth_mobile:e.resetButtonWidth_mobile,resetButtonWidthUnit:e.resetButtonWidthUnit||"%"},ue=m=>{const M=m==="search"?e.searchButtonWidthUnit||"%":e.resetButtonWidthUnit||"%";let T;return m==="search"?A==="mobile"?T=e.searchButtonWidth_mobile??e.searchButtonWidth_tablet??e.searchButtonWidth:A==="tablet"?T=e.searchButtonWidth_tablet??e.searchButtonWidth:T=e.searchButtonWidth:A==="mobile"?T=e.resetButtonWidth_mobile??e.resetButtonWidth_tablet??e.resetButtonWidth:A==="tablet"?T=e.resetButtonWidth_tablet??e.resetButtonWidth:T=e.resetButtonWidth,T!==void 0?{width:`${T}${M}`,flexGrow:0,flexShrink:0}:{}},z=()=>{let m;return A==="mobile"?m=e.postTypeFilterWidth_mobile??e.postTypeFilterWidth_tablet??e.postTypeFilterWidth:A==="tablet"?m=e.postTypeFilterWidth_tablet??e.postTypeFilterWidth:m=e.postTypeFilterWidth,m!==void 0?{width:`${m}%`,flexGrow:0,flexShrink:0}:{}};return React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form ts-search-widget","data-v-app":"",ref:i},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(le)}}),se&&React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),p()},onMouseDown:m=>m.preventDefault(),className:`ts-filter-toggle ts-btn ts-btn-1 ${c.activeFilterCount>0?"ts-filled":""}`,role:"button","aria-expanded":c.portalActive},ce.filterslider,React.createElement("div",{className:"ts-toggle-text"},"Filter results"),c.activeFilterCount>0&&React.createElement("span",{className:"ts-filter-count"},c.activeFilterCount))),React.createElement("form",{method:"GET",onSubmit:m=>(m.preventDefault(),!1)},Y&&React.createElement("div",{className:"ts-inline-filters"},L())),React.createElement("div",{className:"hidden"},React.createElement("div",{className:"ts-search-portal"}))),c.portalActive&&Me.createPortal(React.createElement("div",{className:`ts-search-portal vx-popup elementor voxel-fse-search-form-${e.blockId}`,"data-voxel-id":e.blockId},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form ts-search-widget no-render elementor-element"},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:a},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},L())),React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),p()},className:"ts-icon-btn",role:"button","aria-label":"Close"},at(e.closeIcon,ce.close))),React.createElement("li",{className:"flexify hide-d"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),S(!0)},className:"ts-icon-btn",role:"button"},ce.reload)),React.createElement("li",{className:"flexify hide-m"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),S(!0)},className:"ts-btn ts-btn-1",role:"button"},"Clear")),React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),I(),p()},className:"ts-btn ts-btn-2",role:"button"},"Search"))))))))),document.body),H())}function Hs(){return Oe()}async function Bs(e){if(!e||e.length===0)return[];const n=`${Hs()}voxel-fse/v1/search-form/frontend-config?post_types=${encodeURIComponent(e.join(","))}`;try{const r=await fetch(n,{credentials:"same-origin",headers:{"X-WP-Nonce":window.wpApiSettings?.nonce||""}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){return console.error("Failed to fetch post types:",r),[]}}function Ws(e){const t=e.querySelector("script.vxconfig");if(!t?.textContent)return null;try{const n=JSON.parse(t.textContent),r=Array.isArray(n.postTypes)?n.postTypes.map(s=>s.key):[];return{blockId:e.id||"",postTypes:r,showPostTypeFilter:n.showPostTypeFilter??!0,filterLists:n.filterLists||{},onSubmit:"refresh",postToFeedId:"",postToMapId:"",searchOn:"submit",showSearchButton:n.showSearchButton??!0,searchButtonText:n.searchButtonText||"Search",searchButtonIcon:{library:"",value:""},searchButtonWidth:n.searchButtonWidth,searchButtonWidth_tablet:n.searchButtonWidth_tablet,searchButtonWidth_mobile:n.searchButtonWidth_mobile,searchButtonWidthUnit:n.searchButtonWidthUnit||"%",showResetButton:n.showResetButton??!1,resetButtonText:n.resetButtonText||"Reset",resetButtonIcon:{library:"",value:""},resetButtonWidth:n.resetButtonWidth,resetButtonWidth_tablet:n.resetButtonWidth_tablet,resetButtonWidth_mobile:n.resetButtonWidth_mobile,resetButtonWidthUnit:n.resetButtonWidthUnit||"%",voxelIntegration:!0,adaptiveFiltering:!1,portalMode:n.portalMode||{desktop:!1,tablet:!0,mobile:!0},formToggleDesktop:n.formToggleDesktop??!1,formToggleTablet:n.formToggleTablet??!0,formToggleMobile:n.formToggleMobile??!0,toggleText:"Filter results",toggleIcon:{library:"",value:""}}}catch(n){return console.error("Failed to parse search form vxconfig:",n),null}}function Us({attributes:e}){const[t,n]=u.useState([]),[r,s]=u.useState(!0),[o,l]=u.useState(null);if(u.useEffect(()=>{let c=!1;async function d(){s(!0),l(null);try{const v=await Bs(e.postTypes||[]);c||n(v)}catch(v){c||l(v instanceof Error?v.message:"Failed to load")}finally{c||s(!1)}}return d(),()=>{c=!0}},[e.postTypes]),r)return React.createElement("div",{className:"ts-form ts-search-widget"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"}))));if(o)return React.createElement("div",{className:"ts-form ts-search-widget voxel-fse-error"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("span",null,"Error loading search form")));const a=t.filter(c=>e.postTypes?.includes(c.key)),i=c=>{console.log("Search form submitted (editor preview):",c)};return React.createElement(js,{attributes:e,postTypes:a,context:"frontend",onSubmit:i})}const dt=new Set;function qs(e){if(!e)return;e.querySelectorAll(".ts-search-widget, .voxel-fse-search-form").forEach(n=>{if(n.dataset.hydrated==="true")return;const r=Ws(n);r&&(n.innerHTML="",n.dataset.hydrated="true",wp.element.render(React.createElement(Us,{attributes:r}),n),dt.add(n))})}function zs(e){if(!e)return;e.querySelectorAll(".ts-search-widget, .voxel-fse-search-form").forEach(n=>{dt.has(n)&&(wp.element.unmountComponentAtNode(n),dt.delete(n))})}function Ks({attributes:e,templateContent:t,isLoading:n,error:r,context:s}){const o=u.useRef(null),l=["ts-print-template-content"];e.customClasses&&l.push(e.customClasses);const a={templateId:e.templateId||"",customClasses:e.customClasses||""};return u.useEffect(()=>{if(!t||!o.current)return;const i=setTimeout(()=>{qs(o.current)},50);return()=>{clearTimeout(i),zs(o.current)}},[t]),n?React.createElement("div",{className:l.join(" ")},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),s==="editor"&&React.createElement(_e,null)):r?React.createElement("div",{className:l.join(" ")},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),s==="editor"&&React.createElement(_e,null)):e.templateId?s==="editor"&&typeof e.templateId=="string"&&e.templateId.startsWith("@tags()")?React.createElement("div",{className:l.join(" ")},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),React.createElement(_e,null)):React.createElement("div",{className:l.join(" "),ref:o},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),t?React.createElement("div",{className:"ts-print-template-rendered",dangerouslySetInnerHTML:{__html:t}}):s==="editor"?React.createElement(_e,null):null):React.createElement("div",{className:l.join(" ")},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),s==="editor"&&React.createElement(_e,null))}function Gs(e){const t=(n,r)=>typeof n=="string"?n:typeof n=="number"?String(n):r;return{templateId:t(e.templateId??e.template_id??e.ts_template_id,""),customClasses:t(e.customClasses??e.custom_classes,"")}}function Zs(){return Oe()}function Js(e){const t=e.querySelector("script.vxconfig");if(t&&t.textContent)try{const n=JSON.parse(t.textContent);return Gs(n)}catch(n){console.error("Failed to parse vxconfig:",n)}return null}async function Xs(e){if(!e.startsWith("@tags()"))return e;const t=e.match(/@tags\(\)(.*?)@endtags\(\)/s);if(!t)return e;const n=t[1].trim();if(n==="@post(id)"){const s=document.body.className.match(/postid-(\d+)/);if(s)return s[1];const o=window.location.pathname.match(/\/(\d+)\/?$/);if(o)return o[1]}return console.warn("Dynamic tag not fully supported:",n),""}async function Qs(e){const t=Zs();let n=e;if(e.startsWith("@tags()")&&(n=await Xs(e),!n))return console.warn("Could not resolve dynamic template ID"),null;if(n.includes("//"))return console.warn("FSE templates require authentication and cannot be fetched on frontend:",n),null;const r=parseInt(n,10);if(isNaN(r)||r<=0)return console.warn("Invalid template ID:",n),null;try{const s=await fetch(`${t}wp/v2/pages/${r}`);if(s.ok){const o=await s.json();return o.content?.rendered||o.content?.raw||null}}catch{}try{const s=await fetch(`${t}wp/v2/blocks/${r}`);if(s.ok){const o=await s.json();return o.content?.rendered||o.content?.raw||null}}catch{}try{const s=await fetch(`${t}wp/v2/posts/${r}`);if(s.ok){const o=await s.json();return o.content?.rendered||o.content?.raw||null}}catch{}return console.error("Template not found in any source:",r),null}function Ys({config:e}){const[t,n]=u.useState(null),[r,s]=u.useState(!0),[o,l]=u.useState(null);u.useEffect(()=>{let i=!1;async function c(){if(!e.templateId){s(!1);return}s(!0),l(null);try{const d=await Qs(e.templateId);i||(d!==null?n(d):l("Template not found"))}catch(d){i||l(d instanceof Error?d.message:"Failed to load template")}finally{i||s(!1)}}return c(),()=>{i=!0}},[e.templateId]);const a={blockId:"",templateId:e.templateId,customClasses:e.customClasses};return React.createElement(Ks,{attributes:a,templateContent:t,isLoading:r,error:o,context:"frontend"})}function Ue(){document.querySelectorAll(".voxel-fse-print-template").forEach(t=>{if(t.dataset.hydrated==="true")return;const n=Js(t);if(!n){console.error("No vxconfig found for print template block");return}t.dataset.hydrated="true",t.innerHTML="",un.createRoot(t).render(React.createElement(Ys,{config:n}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ue):Ue(),window.addEventListener("turbo:load",Ue),window.addEventListener("pjax:complete",Ue)})(ReactDOM,React,ReactDOM,wp.apiFetch);
