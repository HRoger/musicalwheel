(function(Zt,a,et,Jt){"use strict";function ze(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!t.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}function Ae({text:e,icon:t="î —",className:r="",style:n={}}){return a.createElement("div",{className:`voxel-empty-placeholder ${r}`,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e?"8px":"0",background:"rgb(213 216 220 / 80%)",borderRadius:"0",color:"#666",fontSize:"13px",height:"45px",width:"100%",...n}},a.createElement("span",{className:"placeholder-icon",style:{fontFamily:"eicons",fontSize:"24px",opacity:.3,lineHeight:1,fontStyle:"normal"}},t),e&&a.createElement("span",{className:"placeholder-text",style:{opacity:.6}},e))}function Xt({attributes:e,postTypes:t,context:r,onSubmit:n,onPostTypeChange:l,onFilterChange:u}){const[i,p]=a.useState(()=>({currentPostType:e.postTypes[0]||"",filterValues:{},activeFilterCount:0,portalActive:!1,loading:!1,resetting:!1,narrowedValues:null,narrowingFilters:!1,lastModifiedFilter:null})),d=a.useRef(!1),m=a.useRef(null),f=a.useMemo(()=>t.find(b=>b.key===i.currentPostType),[t,i.currentPostType]),R=a.useMemo(()=>e.filterLists[i.currentPostType]||[],[e.filterLists,i.currentPostType]);a.useEffect(()=>{e.postTypes.length>0&&!e.postTypes.includes(i.currentPostType)&&p(b=>({...b,currentPostType:e.postTypes[0],filterValues:{}}))},[e.postTypes,i.currentPostType]),a.useEffect(()=>{if(!f?.filters)return;const b={};let w=!1;f.filters.forEach(_=>{_.key in i.filterValues||_.value!==null&&_.value!==void 0&&(b[_.key]=_.value,w=!0)}),w&&p(_=>({..._,filterValues:{..._.filterValues,...b}}))},[f?.filters,i.currentPostType]),a.useEffect(()=>{if(r!=="editor"||i.resetting||!f?.filters)return;(e.filterLists?.[i.currentPostType]||[]).forEach(w=>{const _=i.filterValues[w.filterKey];w.defaultValueEnabled&&w.defaultValue!==void 0&&w.defaultValue!==""&&w.defaultValue!==null?_!==w.defaultValue&&_!==null&&p(y=>({...y,filterValues:{...y.filterValues,[w.filterKey]:w.defaultValue}})):_!=null&&p(y=>({...y,filterValues:{...y.filterValues,[w.filterKey]:void 0}}))})},[r,i.currentPostType,e.filterLists,i.resetting,f?.filters]),a.useEffect(()=>{const b=Object.values(i.filterValues).filter(w=>w!=null&&w!==""&&w!==!1).length;p(w=>({...w,activeFilterCount:b}))},[i.filterValues]);const v=a.useCallback(b=>{p(w=>w.currentPostType===b?w:{...w,currentPostType:b,filterValues:{}}),r==="editor"&&l&&l(b),r==="editor"&&u&&u({}),r==="frontend"&&n&&(e.updateUrl!==!1&&yt({},b),setTimeout(()=>{n({postType:b})},50))},[r,n,l,u,e.updateUrl]),E=a.useCallback((b,w)=>{p(_=>{const y={..._.filterValues,[b]:w};return r==="editor"&&u&&setTimeout(()=>u(y),0),{..._,filterValues:y,lastModifiedFilter:b}})},[r,u]),B=a.useCallback((b=!1)=>{const w={};f?.filters?.forEach(y=>{y.resets_to!==null&&y.resets_to!==void 0?w[y.key]=y.resets_to:w[y.key]=null});const _=Object.values(w).filter(y=>y!=null&&y!=="").length;if(p(y=>({...y,filterValues:w,activeFilterCount:_,resetting:!0,portalActive:b?!1:y.portalActive,narrowedValues:null,lastModifiedFilter:null})),setTimeout(()=>{p(y=>({...y,resetting:!1}))},100),r==="editor"&&u&&u(w),r==="frontend"){e.updateUrl!==!1&&Gt(i.currentPostType);const y=new CustomEvent("voxel-search-clear",{detail:{postType:i.currentPostType}});window.dispatchEvent(y)}},[r,i.currentPostType,u,e.updateUrl,f?.filters]),T=a.useCallback(()=>{p(b=>({...b,portalActive:!b.portalActive}))},[]),L=a.useCallback(async()=>{if(!e.adaptiveFiltering||r!=="frontend")return;if(d.current){d.current=!1;return}const b=R.filter(y=>y.type==="range"||y.type==="terms");if(b.length===0)return;const w=new URLSearchParams;w.set("type",i.currentPostType),i.lastModifiedFilter&&w.set("_last_modified",i.lastModifiedFilter),Object.entries(i.filterValues).forEach(([y,k])=>{k!=null&&k!==""&&(Array.isArray(k)?w.set(y,k.join(",")):typeof k=="object"?w.set(y,JSON.stringify(k)):w.set(y,String(k)))});const _=[];b.forEach(y=>{if(y.type==="terms"){const k=f?.filters?.find(S=>S.key===y.filterKey);if(k?.props?.terms){const S=x=>{x.forEach(h=>{h.term_taxonomy_id&&_.push(h.term_taxonomy_id),h.children&&Array.isArray(h.children)&&S(h.children)})};S(k.props.terms)}}}),p(y=>({...y,narrowingFilters:!0}));try{const y=ze(),k=await fetch(`${y}voxel-fse/v1/search-form/narrow-filters?${w.toString()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({term_taxonomy_ids:_})});if(!k.ok)throw new Error(`HTTP ${k.status}`);const S=await k.json();S.success&&S.data?(p(x=>({...x,narrowedValues:{ranges:S.data.ranges||{},terms:S.data.terms||{}},narrowingFilters:!1})),d.current=!0):p(x=>({...x,narrowingFilters:!1}))}catch(y){console.error("[useSearchForm] Adaptive filtering error:",y),p(k=>({...k,narrowingFilters:!1}))}},[e.adaptiveFiltering,r,R,i.currentPostType,i.filterValues,f]);a.useEffect(()=>{if(!(!e.adaptiveFiltering||r!=="frontend"))return m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{L()},300),()=>{m.current&&clearTimeout(m.current)}},[i.filterValues,e.adaptiveFiltering,r,L]);const D=a.useCallback((b,w)=>{p(_=>({..._,loading:!0})),n&&n({postType:w,...b}),r==="frontend"&&e.updateUrl!==!1&&yt(b,w),p(_=>({..._,loading:!1}))},[r,n,e.updateUrl]);a.useEffect(()=>{if(e.searchOn==="change"&&r==="frontend"){const b=setTimeout(()=>{D(i.filterValues,i.currentPostType)},300);return()=>{clearTimeout(b)}}},[i.filterValues,i.currentPostType,e.searchOn,r,D]);const M=a.useCallback(()=>{D(i.filterValues,i.currentPostType)},[D,i.filterValues,i.currentPostType]);return{state:i,setCurrentPostType:v,setFilterValue:E,clearAll:B,togglePortal:T,submit:M,currentPostTypeConfig:f,filterConfigs:R,narrowedValues:i.narrowedValues,narrowingFilters:i.narrowingFilters}}function Gt(e){const t=new URL(window.location.href),r=[];t.searchParams.forEach((n,l)=>{(l.startsWith("filter_")||l==="post_type")&&r.push(l),l==="type"&&!e&&r.push(l),l!=="type"&&l!=="page"&&l!=="pg"&&r.push(l)}),r.forEach(n=>t.searchParams.delete(n)),e&&t.searchParams.set("type",e),window.history.replaceState({},"",t.toString())}function Yt(e,t){return Object.hasOwn(t,e)}function yt(e,t){const r=new URL(window.location.href),n=[];r.searchParams.forEach((l,u)=>{(u.startsWith("filter_")||u==="post_type")&&n.push(u),(u==="type"||Yt(u,e))&&n.push(u)}),n.forEach(l=>r.searchParams.delete(l)),t&&r.searchParams.set("type",t),Object.entries(e).forEach(([l,u])=>{u!=null&&u!==""&&(Array.isArray(u)?r.searchParams.set(l,u.join(",")):typeof u=="object"?r.searchParams.set(l,JSON.stringify(u)):r.searchParams.set(l,String(u)))}),window.history.replaceState({},"",r.toString())}function tt(e){return typeof e=="string"&&e.includes("@tags()")}function Et(e){if(!tt(e))return e;const t=e.match(/@tags\(\)(.*?)@endtags\(\)/s);return t?t[1]:e}async function bt(e,t={}){try{return(await Jt({path:"/voxel-fse/v1/dynamic-data/render",method:"POST",data:{expression:e,context:t}})).rendered}catch(r){return console.error("Failed to render dynamic tag:",r),e}}function rt(){return typeof document>"u"?!1:document.body.classList.contains("logged-in")}function Qt(){return typeof document>"u"?[]:Array.from(document.body.classList).filter(r=>r.startsWith("role-")||["administrator","editor","author","contributor","subscriber"].includes(r)).map(r=>r.replace("role-",""))}function $t(e){const t=e.filterKey;switch(t){case"user:logged_in":return rt();case"user:logged_out":return!rt();case"user:role":{if(!rt())return!1;const r=Qt(),n=e.value||"";switch(e.operator){case"equals":return r.includes(n);case"not_equals":return!r.includes(n);default:return r.includes(n)}}default:return console.warn(`Unknown visibility rule type: ${t}`),!0}}function er(e){return!e||e.length===0?!0:e.every(t=>$t(t))}function tr(e){const{rowVisibility:t="show",visibilityRules:r=[]}=e;if(!r||r.length===0)return!0;const n=er(r);return t==="hide"?!n:n}function Ee({isOpen:e,target:t,title:r="",icon:n,saveLabel:l="Save",clearLabel:u="Clear",showClear:i=!0,showSave:p=!0,onSave:d,onClear:m,onClose:f,children:R,className:v="",popupStyle:E}){const B=a.useRef(null),T=a.useRef(null),[L,D]=a.useState({position:"absolute",top:"-9999px",left:"-9999px"}),M=a.useRef(""),b=a.useCallback((y=!1)=>{if(!T.current||!t.current||!B.current)return;const k=t.current,S=B.current,x=T.current,h=document.body.clientWidth,C=k.getBoundingClientRect(),U=k.offsetWidth,X={left:C.left+window.pageXOffset,top:C.top+window.pageYOffset},O=S.getBoundingClientRect(),Q=window.getComputedStyle(x),z=parseFloat(Q.minWidth)||0,J=x.querySelector(".pika-single");let j;if(J){const Y=J.classList.contains("is-range")||J.querySelectorAll(".pika-lendar").length>1||x.closest(".ts-booking-date-range")!==null;j=Math.max(Y?640:420,z)}else j=Math.max(C.width,z);const G=X.left+U/2,de=h/2;let fe;G>de+1?fe=X.left-j+U:fe=X.left;const K=window.innerHeight,se=O.height;let oe=X.top+C.height;const H=C.bottom+se>K,g=C.top-se>=0;H&&g&&(oe=X.top-se);const V={top:`${oe}px`,left:`${fe}px`,width:`${j}px`,position:"absolute"},F=JSON.stringify(V);F!==M.current&&(M.current=F,y?D(V):requestAnimationFrame(()=>D(V)))},[t]);if(a.useEffect(()=>{if(!e)return;const y=S=>{const x=S.target;if(T.current?.contains(x))return;const h=[".interface-interface-skeleton__sidebar",".block-editor-block-inspector",".components-popover",".components-modal__screen-overlay",".edit-post-sidebar"];for(const C of h)if(x.closest(C))return;f()},k=requestAnimationFrame(()=>{document.addEventListener("mousedown",y)});return()=>{cancelAnimationFrame(k),document.removeEventListener("mousedown",y)}},[e,f]),a.useEffect(()=>{if(!e)return;const y=k=>{k.key==="Escape"&&f()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[e,f]),a.useEffect(()=>{if(!e)return;b(!0);const y=()=>b();window.addEventListener("scroll",y,!0);const k=()=>b();window.addEventListener("resize",k,!0);let S=null;return T.current&&(S=new ResizeObserver(()=>b(!0)),S.observe(T.current)),()=>{window.removeEventListener("scroll",y,!0),window.removeEventListener("resize",k,!0),S?.disconnect()}},[e,b]),!e)return null;const w=()=>React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"currentColor"})),_=()=>React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"}));return et.createPortal(React.createElement("div",{className:`elementor vx-popup ${v}`.trim()},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form elementor-element",style:L,ref:B},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:T,style:E},r&&React.createElement("div",{className:"ts-popup-head flexify ts-sticky-top"},React.createElement("div",{className:"ts-popup-name flexify"},n&&React.createElement("span",{dangerouslySetInnerHTML:{__html:n}}),React.createElement("span",null,r)),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:y=>{y.preventDefault(),f()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(w,null))))),React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},R),p||i?React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:y=>{y.preventDefault(),f()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(w,null))),i&&m&&React.createElement("li",{className:"flexify hide-d",onClick:y=>{y.preventDefault(),m()}},React.createElement("a",{href:"#",className:"ts-icon-btn"},React.createElement(_,null))),i&&m&&React.createElement("li",{className:"flexify hide-m",onClick:y=>{y.preventDefault(),m()}},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1"},u)),p&&React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:y=>{y.preventDefault(),d()},className:"ts-btn ts-btn-2"},l)))):React.createElement("div",{className:"ts-popup-controller hide-d"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:y=>{y.preventDefault(),f()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(w,null)))))))))),document.body)}const Be=({value:e,onChange:t,onSelect:r,pickerConfig:n,onPickerReady:l})=>{const u=a.useRef(null),i=a.useRef(null),p=a.useRef(null),d=a.useRef(t),m=a.useRef(r);return d.current=t,m.current=r,a.useEffect(()=>{if(!u.current||!i.current)return;const f=window.Pikaday;if(!f){console.error("Pikaday not loaded - window.Pikaday is undefined");return}const R=requestAnimationFrame(()=>{p.current=new f({field:i.current,container:u.current,bound:!1,firstDay:1,keyboardInput:!1,numberOfMonths:2,defaultDate:e||void 0,onSelect:v=>{d.current(v),m.current&&m.current(v)},...n}),l&&p.current&&l(p.current)});return()=>{cancelAnimationFrame(R),setTimeout(()=>{p.current?.destroy(),p.current=null},200)}},[]),a.useEffect(()=>{p.current&&(e&&p.current.setDate(e,!0),p.current.draw(!0))},[e]),a.createElement("div",{className:"ts-booking-date ts-booking-date-range ts-form-group",ref:u},a.createElement("input",{type:"hidden",ref:i}))};function nt(e,t,r){if(!e||!e.library||!e.value)return t??null;const{library:n,value:l}=e;return n==="icon"?React.createElement("i",{className:l,"aria-hidden":"true"}):n==="svg"?React.createElement("img",{src:l,alt:"",className:r,style:{width:"1em",height:"1em"}}):t??null}const Se={search:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z",fill:"#343C54"})),close:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M5.9545 5.95548C6.39384 5.51614 7.10616 5.51614 7.5455 5.95548L11.999 10.409L16.4524 5.95561C16.8918 5.51627 17.6041 5.51627 18.0434 5.95561C18.4827 6.39495 18.4827 7.10726 18.0434 7.5466L13.59 12L18.0434 16.4534C18.4827 16.8927 18.4827 17.605 18.0434 18.0444C17.6041 18.4837 16.8918 18.4837 16.4524 18.0444L11.999 13.591L7.5455 18.0445C7.10616 18.4839 6.39384 18.4839 5.9545 18.0445C5.51517 17.6052 5.51516 16.8929 5.9545 16.4535L10.408 12L5.9545 7.54647C5.51516 7.10713 5.51517 6.39482 5.9545 5.95548Z",fill:"#343C54"})),reload:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z",fill:"#343C54"}),React.createElement("path",{d:"M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z",fill:"#343C54"})),filterslider:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M8.89789 3.25C10.3318 3.25 11.5358 4.23471 11.8704 5.56481H20.3125C20.7267 5.56481 21.0625 5.90059 21.0625 6.31481C21.0625 6.72902 20.7267 7.06481 20.3125 7.06481H11.8705C11.536 8.3951 10.332 9.38 8.89789 9.38C7.46381 9.38 6.25976 8.3951 5.92527 7.06481H4.3125C3.89829 7.06481 3.5625 6.72902 3.5625 6.31481C3.5625 5.90059 3.89829 5.56481 4.3125 5.56481H5.92537C6.26 4.23471 7.46395 3.25 8.89789 3.25Z",fill:"#343C54"}),React.createElement("path",{d:"M12.737 12.7503H4.3125C3.89829 12.7503 3.5625 12.4145 3.5625 12.0003C3.5625 11.5861 3.89829 11.2503 4.3125 11.2503H12.7369C13.0714 9.91998 14.2754 8.93506 15.7095 8.93506C17.1436 8.93506 18.3477 9.91998 18.6822 11.2503H20.3125C20.7267 11.2503 21.0625 11.5861 21.0625 12.0003C21.0625 12.4145 20.7267 12.7503 20.3125 12.7503H18.682C18.3474 14.0804 17.1435 15.0651 15.7095 15.0651C14.2756 15.0651 13.0717 14.0804 12.737 12.7503Z",fill:"#343C54"}),React.createElement("path",{d:"M12.5932 16.9354C12.2587 15.605 11.0546 14.6201 9.62055 14.6201C8.18645 14.6201 6.9824 15.605 6.64792 16.9354H4.3125C3.89829 16.9354 3.5625 17.2711 3.5625 17.6854C3.5625 18.0996 3.89829 18.4354 4.3125 18.4354H6.64804C6.98268 19.7654 8.18662 20.7501 9.62055 20.7501C11.0545 20.7501 12.2584 19.7654 12.5931 18.4354H20.3125C20.7267 18.4354 21.0625 18.0996 21.0625 17.6854C21.0625 17.2711 20.7267 16.9354 20.3125 16.9354H12.5932Z",fill:"#343C54"})),marker:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C7.58172 2 4 5.58172 4 10C4 12.9646 5.43348 15.8125 7.5 18C9.16667 19.7708 11 21 12 21C13 21 14.8333 19.7708 16.5 18C18.5665 15.8125 20 12.9646 20 10C20 5.58172 16.4183 2 12 2ZM12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",fill:"#343C54"})),crosshairs:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12.5523 2 13 2.44772 13 3V4.06189C16.6187 4.51314 19.4869 7.38128 19.9381 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H19.9381C19.4869 16.6187 16.6187 19.4869 13 19.9381V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V19.9381C7.38128 19.4869 4.51314 16.6187 4.06189 13H3C2.44772 13 2 12.5523 2 12C2 11.4477 2.44772 11 3 11H4.06189C4.51314 7.38128 7.38128 4.51314 11 4.06189V3C11 2.44772 11.4477 2 12 2ZM6.07089 11C6.50618 8.48991 8.48991 6.50618 11 6.07089V8C11 8.55228 11.4477 9 12 9C12.5523 9 13 8.55228 13 8V6.07089C15.5101 6.50618 17.4938 8.48991 17.9291 11H16C15.4477 11 15 11.4477 15 12C15 12.5523 15.4477 13 16 13H17.9291C17.4938 15.5101 15.5101 17.4938 13 17.9291V16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16V17.9291C8.48991 17.4938 6.50618 15.5101 6.07089 13H8C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11H6.07089Z",fill:"#343C54"})),grid:React.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("rect",{x:"3",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"3",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"3",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}))};function rr(e,t){const r={},n=[t];return e.width&&e.width>0&&(r.width=`${e.width}%`,r.flexGrow=0,r.flexShrink=0),e.hideFilter&&n.push("vx-hidden"),e.alignContent&&(r.justifyContent=e.alignContent),e.hideLabel&&n.push("hide-label"),{style:r,className:n.join(" ")}}function ne(e,t){return rr(e,t)}function Ce(e){const t={},r=["ts-field-popup","triggers-blur"];return e.customPopupEnabled&&(e.popupMinWidth&&e.popupMinWidth>0&&(t.minWidth=`${e.popupMinWidth}px`),e.popupMaxWidth&&e.popupMaxWidth>0&&(t.maxWidth=`${e.popupMaxWidth}px`),e.popupMaxHeight&&e.popupMaxHeight>0&&(t.maxHeight=`${e.popupMaxHeight}px`),e.popupCenterPosition&&r.push("ts-popup-centered")),{style:t,className:r.join(" ")}}let wt=!1;function st(){if(wt)return!0;if(!window.Voxel?.mixins?.base)return!1;const e=window.Voxel.mixins.base;return e.mounted&&!e._originalMounted?(e._originalMounted=e.mounted,e.mounted=function(){try{const t=this.$root?.$options?.el||this.$el;if(t){const r=t.closest?.(".elementor-element");if(r)this.widget_id=r.dataset?.id||"";else{const l=t.closest?.("[data-block-id]");this.widget_id=l&&l.dataset?.blockId||""}const n=t.closest?.(".elementor");if(n)this.post_id=n.dataset?.elementorId||"";else{const l=document.body.className.match(/postid-(\d+)/);this.post_id=l?l[1]:""}}e._originalMounted&&e._originalMounted!==e.mounted&&e._originalMounted.call(this)}catch(t){console.warn("[VoxelShim] Error in patched mounted():",t),this.widget_id="",this.post_id=""}},wt=!0,console.log("[VoxelShim] Successfully patched Voxel.mixins.base.mounted"),!0):!1}function St(){if(st())return;let e=0;const t=50,n=setInterval(()=>{if(e++,st()){clearInterval(n);return}e>=t&&(clearInterval(n),console.warn("[VoxelShim] Voxel.mixins.base not found after 5 seconds"))},100);typeof document<"u"&&document.addEventListener("voxel:ready",()=>{st(),clearInterval(n)},{once:!0})}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",St,{once:!0}):St()),Object.entries({mountains:{viewBox:"0 0 1000 100",paths:[{d:"M473,67.3c-203.9,88.3-263.1-34-320.3,0C66,119.1,0,59.7,0,59.7V0h1000v59.7 c0,0-62.1,26.1-94.9,29.3c-32.8,3.3-62.8-12.3-75.8-22.1C806,49.6,745.3,8.7,694.9,4.7S492.4,59,473,67.3z",opacity:.33},{d:"M734,67.3c-45.5,0-77.2-23.2-129.1-39.1c-28.6-8.7-150.3-10.1-254,39.1 s-91.7-34.4-149.2,0C115.7,118.3,0,39.8,0,39.8V0h1000v36.5c0,0-28.2-18.5-92.1-18.5C810.2,18.1,775.7,67.3,734,67.3z",opacity:.66},{d:"M766.1,28.9c-200-57.5-266,65.5-395.1,19.5C242,1.8,242,5.4,184.8,20.6C128,35.8,132.3,44.9,89.9,52.5C28.6,63.7,0,0,0,0 h1000c0,0-9.9,40.9-83.6,48.1S829.6,47,766.1,28.9z"}]},drops:{viewBox:"0 0 283.5 27.8",paths:[{d:"M0 0v1.4c.6.7 1.1 1.4 1.4 2 2 3.8 2.2 6.6 1.8 10.8-.3 3.3-2.4 9.4 0 12.3 1.7 2 3.7 1.4 4.6-.9 1.4-3.8-.7-8.2-.6-12 .1-3.7 3.2-5.5 6.9-4.9 4 .6 4.8 4 4.9 7.4.1 1.8-1.1 7 0 8.5.6.8 1.6 1.2 2.4.5 1.4-1.1.1-5.4.1-6.9.1-3.7.3-8.6 4.1-10.5 5-2.5 6.2 1.6 5.4 5.6-.4 1.7-1 9.2 2.9 6.3 1.5-1.1.7-3.5.5-4.9-.4-2.4-.4-4.3 1-6.5.9-1.4 2.4-3.1 4.2-3 2.4.1 2.7 2.2 4 3.7 1.5 1.8 1.8 2.2 3 .1 1.1-1.9 1.2-2.8 3.6-3.3 1.3-.3 4.8-1.4 5.9-.5 1.5 1.1.6 2.8.4 4.3-.2 1.1-.6 4 1.8 3.4 1.7-.4-.3-4.1.6-5.6 1.3-2.2 5.8-1.4 7 .5 1.3 2.1.5 5.8.1 8.1s-1.2 5-.6 7.4c1.3 5.1 4.4.9 4.3-2.4-.1-4.4-2-8.8-.5-13 .9-2.4 4.6-6.6 7.7-4.5 2.7 1.8.5 7.8.2 10.3-.2 1.7-.8 4.6.2 6.2.9 1.4 2 1.5 2.6-.3.5-1.5-.9-4.5-1-6.1-.2-1.7-.4-3.7.2-5.4 1.8-5.6 3.5 2.4 6.3.6 1.4-.9 4.3-9.4 6.1-3.1.6 2.2-1.3 7.8.7 8.9 4.2 2.3 1.5-7.1 2.2-8 3.1-4 4.7 3.8 6.1 4.1 3.1.7 2.8-7.9 8.1-4.5 1.7 1.1 2.9 3.3 3.2 5.2.4 2.2-1 4.5-.6 6.6 1 4.3 4.4 1.5 4.4-1.7 0-2.7-3-8.3 1.4-9.1 4.4-.9 7.3 3.5 7.8 6.9.3 2-1.5 10.9 1.3 11.3 4.1.6-3.2-15.7 4.8-15.8 4.7-.1 2.8 4.1 3.9 6.6 1 2.4 2.1 1 2.3-.8.3-1.9-.9-3.2 1.3-4.3 5.9-2.9 5.9 5.4 5.5 8.5-.3 2-1.7 8.4 2 8.1 6.9-.5-2.8-16.9 4.8-18.7 4.7-1.2 6.1 3.6 6.3 7.1.1 1.7-1.2 8.1.6 9.1 3.5 2 1.9-7 2-8.4.2-4 1.2-9.6 6.4-9.8 4.7-.2 3.2 4.6 2.7 7.5-.4 2.2 1.3 8.6 3.8 4.4 1.1-1.9-.3-4.1-.3-6 0-1.7.4-3.2 1.3-4.6 1-1.6 2.9-3.5 5.1-2.9 2.5.6 2.3 4.1 4.1 4.9 1.9.8 1.6-.9 2.3-2.1 1.2-2.1 2.1-2.1 4.4-2.4 1.4-.2 3.6-1.5 4.9-.5 2.3 1.7-.7 4.4.1 6.5.6 1.5 2.1 1.7 2.8.3.7-1.4-1.1-3.4-.3-4.8 1.4-2.5 6.2-1.2 7.2 1 2.3 4.8-3.3 12-.2 16.3 3 4.1 3.9-2.8 3.8-4.8-.4-4.3-2.1-8.9 0-13.1 1.3-2.5 5.9-5.7 7.9-2.4 2 3.2-1.3 9.8-.8 13.4.5 4.4 3.5 3.3 2.7-.8-.4-1.9-2.4-10 .6-11.1 3.7-1.4 2.8 7.2 6.5.4 2.2-4.1 4.9-3.1 5.2 1.2.1 1.5-.6 3.1-.4 4.6.2 1.9 1.8 3.7 3.3 1.3 1-1.6-2.6-10.4 2.9-7.3 2.6 1.5 1.6 6.5 4.8 2.7 1.3-1.5 1.7-3.6 4-3.7 2.2-.1 4 2.3 4.8 4.1 1.3 2.9-1.5 8.4.9 10.3 4.2 3.3 3-5.5 2.7-6.9-.6-3.9 1-7.2 5.5-5 4.1 2.1 4.3 7.7 4.1 11.6 0 .8-.6 9.5 2.5 5.2 1.2-1.7-.1-7.7.1-9.6.3-2.9 1.2-5.5 4.3-6.2 4.5-1 7.7 1.5 7.4 5.8-.2 3.5-1.8 7.7-.5 11.1 1 2.7 3.6 2.8 5 .2 1.6-3.1 0-8.3-.4-11.6-.4-4.2-.2-7 1.8-10.8 0 0-.1.1-.1.2-.2.4-.3.7-.4.8v.1c-.1.2-.1.2 0 0v-.1l.4-.8c0-.1.1-.1.1-.2.2-.4.5-.8.8-1.2V0H0zM282.7 3.4z"}]},clouds:{viewBox:"0 0 283.5 27.8",paths:[{d:"M0 0v6.7c1.9-.8 4.7-1.4 8.5-1 9.5 1.1 11.1 6 11.1 6s2.1-.7 4.3-.2c2.1.5 2.8 2.6 2.8 2.6s.2-.5 1.4-.7c1.2-.2 1.7.2 1.7.2s0-2.1 1.9-2.8c1.9-.7 3.6.7 3.6.7s.7-2.9 3.1-4.1 4.7 0 4.7 0 1.2-.5 2.4 0 1.7 1.4 1.7 1.4h1.4c.7 0 1.2.7 1.2.7s.8-1.8 4-2.2c3.5-.4 5.3 2.4 6.2 4.4.4-.4 1-.7 1.8-.9 2.8-.7 4 .7 4 .7s1.7-5 11.1-6c9.5-1.1 12.3 3.9 12.3 3.9s1.2-4.8 5.7-5.7c4.5-.9 6.8 1.8 6.8 1.8s.6-.6 1.5-.9c.9-.2 1.9-.2 1.9-.2s5.2-6.4 12.6-3.3c7.3 3.1 4.7 9 4.7 9s1.9-.9 4 0 2.8 2.4 2.8 2.4 1.9-1.2 4.5-1.2 4.3 1.2 4.3 1.2.2-1 1.4-1.7 2.1-.7 2.1-.7-.5-3.1 2.1-5.5 5.7-1.4 5.7-1.4 1.5-2.3 4.2-1.1c2.7 1.2 1.7 5.2 1.7 5.2s.3-.1 1.3.5c.5.4.8.8.9 1.1.5-1.4 2.4-5.8 8.4-4 7.1 2.1 3.5 8.9 3.5 8.9s.8-.4 2 0 1.1 1.1 1.1 1.1 1.1-1.1 2.3-1.1 2.1.5 2.1.5 1.9-3.6 6.2-1.2 1.9 6.4 1.9 6.4 2.6-2.4 7.4 0c3.4 1.7 3.9 4.9 3.9 4.9s3.3-6.9 10.4-7.9 11.5 2.6 11.5 2.6.8 0 1.2.2c.4.2.9.9.9.9s4.4-3.1 8.3.2c1.9 1.7 1.5 5 1.5 5s.3-1.1 1.6-1.4c1.3-.3 2.3.2 2.3.2s-.1-1.2.5-1.9 1.9-.9 1.9-.9-4.7-9.3 4.4-13.4c5.6-2.5 9.2.9 9.2.9s5-6.2 15.9-6.2 16.1 8.1 16.1 8.1.7-.2 1.6-.4V0H0z"}]},zigzag:{viewBox:"0 0 1800 5.8",paths:[{d:"M5.4.4l5.4 5.3L16.5.4l5.4 5.3L27.5.4 33 5.7 38.6.4l5.5 5.4h.1L49.9.4l5.4 5.3L60.9.4l5.5 5.3L72 .4l5.5 5.3L83.1.4l5.4 5.3L94.1.4l5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3L161 .4l5.4 5.3L172 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3L261 .4l5.4 5.3L272 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3L361 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3L461 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1L550 .4l5.4 5.3L561 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2L650 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2L750 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2L850 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4V0H-.2v5.8z"}]},pyramids:{viewBox:"0 0 1000 100",paths:[{d:"M761.9,44.1L643.1,27.2L333.8,98L0,3.8V0l1000,0v3.9"}]},triangle:{viewBox:"0 0 1000 100",paths:[{d:"M500,98.9L0,6.1V0h1000v6.1L500,98.9z"}]},"triangle-asymmetrical":{viewBox:"0 0 1000 100",paths:[{d:"M738,99l262-93V0H0v5.6L738,99z"}]},tilt:{viewBox:"0 0 1000 100",paths:[{d:"M0,6V0h1000v100L0,6z"}]},"opacity-tilt":{viewBox:"0 0 2600 131.1",paths:[{d:"M0 0L2600 0 2600 69.1 0 0z"},{d:"M0 0L2600 0 2600 69.1 0 69.1z",opacity:.5},{d:"M2600 0L0 0 0 130.1 2600 69.1z",opacity:.25}]},curve:{viewBox:"0 0 1000 100",paths:[{d:"M1000,4.3V0H0v4.3C0.9,23.1,126.7,99.2,500,100S1000,22.7,1000,4.3z"}]},waves:{viewBox:"0 0 1000 100",paths:[{d:"M421.9,6.5c22.6-2.5,51.5,0.4,75.5,5.3c23.6,4.9,70.9,23.5,100.5,35.7c75.8,32.2,133.7,44.5,192.6,49.7 c23.6,2.1,48.7,3.5,103.4-2.5c54.7-6,106.2-25.6,106.2-25.6V0H0v30.3c0,0,72,32.6,158.4,30.5c39.2-0.7,92.8-6.7,134-22.4 c21.2-8.1,52.2-18.2,79.7-24.2C399.3,7.9,411.6,7.5,421.9,6.5z"}]},"wave-brush":{viewBox:"0 0 283.5 27.8",paths:[{d:"M283.5,9.7c0,0-7.3,4.3-14,4.6c-6.8,0.3-12.6,0-20.9-1.5c-11.3-2-33.1-10.1-44.7-5.7 s-12.1,4.6-18,7.4c-6.6,3.2-20,9.6-36.6,9.3C131.6,23.5,99.5,7.2,86.3,8c-1.4,0.1-6.6,0.8-10.5,2c-3.8,1.2-9.4,3.8-17,4.7 c-3.2,0.4-8.3,1.1-14.2,0.9c-1.5-0.1-6.3-0.4-12-1.6c-5.7-1.2-11-3.1-15.8-3.7C6.5,9.2,0,10.8,0,10.8V0h283.5V9.7z M260.8,11.3 c-0.7-1-2-0.4-4.3-0.4c-2.3,0-6.1-1.2-5.8-1.1c0.3,0.1,3.1,1.5,6,1.9C259.7,12.2,261.4,12.3,260.8,11.3z M242.4,8.6 c0,0-2.4-0.2-5.6-0.9c-3.2-0.8-10.3-2.8-15.1-3.5c-8.2-1.1-15.8,0-15.1,0.1c0.8,0.1,9.6-0.6,17.6,1.1c3.3,0.7,9.3,2.2,12.4,2.7 C239.9,8.7,242.4,8.6,242.4,8.6z M185.2,8.5c1.7-0.7-13.3,4.7-18.5,6.1c-2.1,0.6-6.2,1.6-10,2c-3.9,0.4-8.9,0.4-8.8,0.5 c0,0.2,5.8,0.8,11.2,0c5.4-0.8,5.2-1.1,7.6-1.6C170.5,14.7,183.5,9.2,185.2,8.5z M199.1,6.9c0.2,0-0.8-0.4-4.8,1.1 c-4,1.5-6.7,3.5-6.9,3.7c-0.2,0.1,3.5-1.8,6.6-3C197,7.5,199,6.9,199.1,6.9z M283,6c-0.1,0.1-1.9,1.1-4.8,2.5s-6.9,2.8-6.7,2.7 c0.2,0,3.5-0.6,7.4-2.5C282.8,6.8,283.1,5.9,283,6z M31.3,11.6c0.1-0.2-1.9-0.2-4.5-1.2s-5.4-1.6-7.8-2C15,7.6,7.3,8.5,7.7,8.6 C8,8.7,15.9,8.3,20.2,9.3c2.2,0.5,2.4,0.5,5.7,1.6S31.2,11.9,31.3,11.6z M73,9.2c0.4-0.1,3.5-1.6,8.4-2.6c4.9-1.1,8.9-0.5,8.9-0.8 c0-0.3-1-0.9-6.2-0.3S72.6,9.3,73,9.2z M71.6,6.7C71.8,6.8,75,5.4,77.3,5c2.3-0.3,1.9-0.5,1.9-0.6c0-0.1-1.1-0.2-2.7,0.2 C74.8,5.1,71.4,6.6,71.6,6.7z M93.6,4.4c0.1,0.2,3.5,0.8,5.6,1.8c2.1,1,1.8,0.6,1.9,0.5c0.1-0.1-0.8-0.8-2.4-1.3 C97.1,4.8,93.5,4.2,93.6,4.4z M65.4,11.1c-0.1,0.3,0.3,0.5,1.9-0.2s2.6-1.3,2.2-1.2s-0.9,0.4-2.5,0.8C65.3,10.9,65.5,10.8,65.4,11.1 z M34.5,12.4c-0.2,0,2.1,0.8,3.3,0.9c1.2,0.1,2,0.1,2-0.2c0-0.3-0.1-0.5-1.6-0.4C36.6,12.8,34.7,12.4,34.5,12.4z M152.2,21.1 c-0.1,0.1-2.4-0.3-7.5-0.3c-5,0-13.6-2.4-17.2-3.5c-3.6-1.1,10,3.9,16.5,4.1C150.5,21.6,152.3,21,152.2,21.1z"},{d:"M269.6,18c-0.1-0.1-4.6,0.3-7.2,0c-7.3-0.7-17-3.2-16.6-2.9c0.4,0.3,13.7,3.1,17,3.3 C267.7,18.8,269.7,18,269.6,18z"},{d:"M227.4,9.8c-0.2-0.1-4.5-1-9.5-1.2c-5-0.2-12.7,0.6-12.3,0.5c0.3-0.1,5.9-1.8,13.3-1.2 S227.6,9.9,227.4,9.8z"},{d:"M204.5,13.4c-0.1-0.1,2-1,3.2-1.1c1.2-0.1,2,0,2,0.3c0,0.3-0.1,0.5-1.6,0.4 C206.4,12.9,204.6,13.5,204.5,13.4z"},{d:"M201,10.6c0-0.1-4.4,1.2-6.3,2.2c-1.9,0.9-6.2,3.1-6.1,3.1c0.1,0.1,4.2-1.6,6.3-2.6 S201,10.7,201,10.6z"},{d:"M154.5,26.7c-0.1-0.1-4.6,0.3-7.2,0c-7.3-0.7-17-3.2-16.6-2.9c0.4,0.3,13.7,3.1,17,3.3 C152.6,27.5,154.6,26.8,154.5,26.7z"},{d:"M41.9,19.3c0,0,1.2-0.3,2.9-0.1c1.7,0.2,5.8,0.9,8.2,0.7c4.2-0.4,7.4-2.7,7-2.6 c-0.4,0-4.3,2.2-8.6,1.9c-1.8-0.1-5.1-0.5-6.7-0.4S41.9,19.3,41.9,19.3z"},{d:"M75.5,12.6c0.2,0.1,2-0.8,4.3-1.1c2.3-0.2,2.1-0.3,2.1-0.5c0-0.1-1.8-0.4-3.4,0 C76.9,11.5,75.3,12.5,75.5,12.6z"},{d:"M15.6,13.2c0-0.1,4.3,0,6.7,0.5c2.4,0.5,5,1.9,5,2c0,0.1-2.7-0.8-5.1-1.4 C19.9,13.7,15.7,13.3,15.6,13.2z"}]},arrow:{viewBox:"0 0 700 10",paths:[{d:"M350,10L340,0h20L350,10z"}]},split:{viewBox:"0 0 1000 20",paths:[{d:"M0,0v3c0,0,393.8,0,483.4,0c9.2,0,16.6,7.4,16.6,16.6c0-9.1,7.4-16.6,16.6-16.6C606.2,3,1000,3,1000,3V0H0z"}]},book:{viewBox:"0 0 1000 100",paths:[{d:"M194,99c186.7,0.7,305-78.3,306-97.2c1,18.9,119.3,97.9,306,97.2c114.3-0.3,194,0.3,194,0.3s0-91.7,0-100c0,0,0,0,0-0 L0,0v99.3C0,99.3,79.7,98.7,194,99z"}]}}).reduce((e,[t,r])=>(e[t]=r.paths[0].d,e),{}),typeof window<"u"&&typeof window._vx_file_upload_cache>"u"&&(window._vx_file_upload_cache=[]);function nr({config:e,filterData:t,value:r,onChange:n,blockId:l}){const u=l?`voxel-popup-${l}`:"",i=a.useRef(null),p=a.useRef(null),[d,m]=a.useState(!1),[f,R]=a.useState(""),v=typeof r=="string"?r:"",E=t.props?.placeholder||t.label||"Type keywords...",B=e.displayAs||t.props?.display_as||"inline",T=t.icon||"";a.useEffect(()=>{d&&(R(v),setTimeout(()=>{p.current?.focus()},50))},[d,v]);const L=h=>{n(h.target.value)},D=h=>{R(h.target.value)},M=a.useCallback(()=>{m(!0)},[]),b=a.useCallback(()=>{n(f),m(!1)},[f,n]),w=a.useCallback(()=>{R(""),n("")},[n]),_=a.useCallback(h=>{h.key==="Enter"&&(h.preventDefault(),b())},[b]);if(B==="inline"){const{style:h,className:C}=ne(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:C,style:h},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:"ts-input-icon flexify"},T&&React.createElement("span",{dangerouslySetInnerHTML:{__html:T}}),React.createElement("input",{type:"text",value:v,onChange:L,placeholder:E,className:"inline-input"})))}const y=v.length>0,{style:k,className:S}=ne(e,"ts-form-group"),x=Ce(e);return React.createElement("div",{className:S,style:k},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${y?"ts-filled":""}`,onClick:M,onMouseDown:h=>h.preventDefault(),role:"button",tabIndex:0},T&&React.createElement("span",{dangerouslySetInnerHTML:{__html:T}}),React.createElement("div",{className:"ts-filter-text"},y?v:E)),React.createElement(Ee,{isOpen:d,target:i,title:"",icon:T,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:b,onClear:w,onClose:()=>m(!1),className:`${u}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:x.style},React.createElement("div",{className:"ts-input-icon ts-sticky-top flexify"},React.createElement("span",null,Se.search),React.createElement("input",{ref:p,type:"text",value:f,onChange:D,onKeyDown:_,placeholder:E,className:"autofocus border-none"}))))}var Te;(function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"})(Te||(Te={}));var be;(function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"})(be||(be={}));function sr(e){return je(e)&&typeof e.from=="function"}function je(e){return typeof e=="object"&&typeof e.to=="function"}function Ct(e){e.parentElement.removeChild(e)}function at(e){return e!=null}function xt(e){e.preventDefault()}function ar(e){return e.filter(function(t){return this[t]?!1:this[t]=!0},{})}function lr(e,t){return Math.round(e/t)*t}function or(e,t){var r=e.getBoundingClientRect(),n=e.ownerDocument,l=n.documentElement,u=kt(n);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(u.x=0),t?r.top+u.y-l.clientTop:r.left+u.x-l.clientLeft}function xe(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Rt(e,t,r){r>0&&(ge(e,t),setTimeout(function(){Ke(e,t)},r))}function Nt(e){return Math.max(Math.min(e,100),0)}function qe(e){return Array.isArray(e)?e:[e]}function ir(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function ge(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function Ke(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function cr(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function kt(e){var t=window.pageXOffset!==void 0,r=(e.compatMode||"")==="CSS1Compat",n=t?window.pageXOffset:r?e.documentElement.scrollLeft:e.body.scrollLeft,l=t?window.pageYOffset:r?e.documentElement.scrollTop:e.body.scrollTop;return{x:n,y:l}}function ur(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function dr(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch{}return e}function fr(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function lt(e,t){return 100/(t-e)}function ot(e,t,r){return t*100/(e[r+1]-e[r])}function pr(e,t){return ot(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}function mr(e,t){return t*(e[1]-e[0])/100+e[0]}function Oe(e,t){for(var r=1;e>=t[r];)r+=1;return r}function hr(e,t,r){if(r>=e.slice(-1)[0])return 100;var n=Oe(r,e),l=e[n-1],u=e[n],i=t[n-1],p=t[n];return i+pr([l,u],r)/lt(i,p)}function vr(e,t,r){if(r>=100)return e.slice(-1)[0];var n=Oe(r,t),l=e[n-1],u=e[n],i=t[n-1],p=t[n];return mr([l,u],(r-i)*lt(i,p))}function gr(e,t,r,n){if(n===100)return n;var l=Oe(n,e),u=e[l-1],i=e[l];return r?n-u>(i-u)/2?i:u:t[l-1]?e[l-1]+lr(n-e[l-1],t[l-1]):n}var Tt=(function(){function e(t,r,n){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=r;var l,u=[];for(Object.keys(t).forEach(function(i){u.push([qe(t[i]),i])}),u.sort(function(i,p){return i[0][0]-p[0][0]}),l=0;l<u.length;l++)this.handleEntryPoint(u[l][1],u[l][0]);for(this.xNumSteps=this.xSteps.slice(0),l=0;l<this.xNumSteps.length;l++)this.handleStepPoint(l,this.xNumSteps[l])}return e.prototype.getDistance=function(t){for(var r=[],n=0;n<this.xNumSteps.length-1;n++)r[n]=ot(this.xVal,t,n);return r},e.prototype.getAbsoluteDistance=function(t,r,n){var l=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[l+1];)l++;else t===this.xPct[this.xPct.length-1]&&(l=this.xPct.length-2);!n&&t===this.xPct[l+1]&&l++,r===null&&(r=[]);var u,i=1,p=r[l],d=0,m=0,f=0,R=0;for(n?u=(t-this.xPct[l])/(this.xPct[l+1]-this.xPct[l]):u=(this.xPct[l+1]-t)/(this.xPct[l+1]-this.xPct[l]);p>0;)d=this.xPct[l+1+R]-this.xPct[l+R],r[l+R]*i+100-u*100>100?(m=d*u,i=(p-100*u)/r[l+R],u=1):(m=r[l+R]*d/100*i,i=0),n?(f=f-m,this.xPct.length+R>=1&&R--):(f=f+m,this.xPct.length-R>=1&&R++),p=r[l+R]*i;return t+f},e.prototype.toStepping=function(t){return t=hr(this.xVal,this.xPct,t),t},e.prototype.fromStepping=function(t){return vr(this.xVal,this.xPct,t)},e.prototype.getStep=function(t){return t=gr(this.xPct,this.xSteps,this.snap,t),t},e.prototype.getDefaultStep=function(t,r,n){var l=Oe(t,this.xPct);return(t===100||r&&t===this.xPct[l-1])&&(l=Math.max(l-1,1)),(this.xVal[l]-this.xVal[l-1])/n},e.prototype.getNearbySteps=function(t){var r=Oe(t,this.xPct);return{stepBefore:{startValue:this.xVal[r-2],step:this.xNumSteps[r-2],highestStep:this.xHighestCompleteStep[r-2]},thisStep:{startValue:this.xVal[r-1],step:this.xNumSteps[r-1],highestStep:this.xHighestCompleteStep[r-1]},stepAfter:{startValue:this.xVal[r],step:this.xNumSteps[r],highestStep:this.xHighestCompleteStep[r]}}},e.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(ir);return Math.max.apply(null,t)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(t){return this.getStep(this.toStepping(t))},e.prototype.handleEntryPoint=function(t,r){var n;if(t==="min"?n=0:t==="max"?n=100:n=parseFloat(t),!xe(n)||!xe(r[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(r[0]);var l=Number(r[1]);n?this.xSteps.push(isNaN(l)?!1:l):isNaN(l)||(this.xSteps[0]=l),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(t,r){if(r){if(this.xVal[t]===this.xVal[t+1]){this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t];return}this.xSteps[t]=ot([this.xVal[t],this.xVal[t+1]],r,0)/lt(this.xPct[t],this.xPct[t+1]);var n=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],l=Math.ceil(Number(n.toFixed(3))-1),u=this.xVal[t]+this.xNumSteps[t]*l;this.xHighestCompleteStep[t]=u}},e})(),Lt={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},Mt={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Le={tooltips:".__tooltips",aria:".__aria"};function yr(e,t){if(!xe(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function Er(e,t){if(!xe(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function br(e,t){if(!xe(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function wr(e,t){if(!xe(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function Sr(e,t){if(typeof t!="object"||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(t.min===void 0||t.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new Tt(t,e.snap||!1,e.singleStep)}function Cr(e,t){if(t=qe(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function xr(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function Rr(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function Nr(e,t){if(typeof t!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function Vt(e,t){var r=[!1],n;if(t==="lower"?t=[!0,!1]:t==="upper"&&(t=[!1,!0]),t===!0||t===!1){for(n=1;n<e.handles;n++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function kr(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function _t(e,t){if(!xe(t))throw new Error("noUiSlider: 'margin' option must be numeric.");t!==0&&(e.margin=e.spectrum.getDistance(t))}function Tr(e,t){if(!xe(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Lr(e,t){var r;if(!xe(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&!(t.length===2||xe(t[0])||xe(t[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(t!==0){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],r=0;r<e.spectrum.xNumSteps.length-1;r++)if(e.padding[0][r]<0||e.padding[1][r]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=t[0]+t[1],l=e.spectrum.xVal[0],u=e.spectrum.xVal[e.spectrum.xVal.length-1];if(n/(u-l)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Mr(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Vr(e,t){if(typeof t!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var r=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,l=t.indexOf("fixed")>=0,u=t.indexOf("snap")>=0,i=t.indexOf("hover")>=0,p=t.indexOf("unconstrained")>=0,d=t.indexOf("invert-connects")>=0,m=t.indexOf("drag-all")>=0,f=t.indexOf("smooth-steps")>=0;if(l){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");_t(e,e.start[1]-e.start[0])}if(d&&e.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(p&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:r||u,drag:n,dragAll:m,smoothSteps:f,fixed:l,snap:u,hover:i,unconstrained:p,invertConnects:d}}function _r(e,t){if(t!==!1)if(t===!0||je(t)){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(t)}else{if(t=qe(t),t.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach(function(n){if(typeof n!="boolean"&&!je(n))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=t}}function Pr(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function Ir(e,t){if(!je(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function Fr(e,t){if(!sr(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=t}function Dr(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function Ar(e,t){e.documentElement=t}function Br(e,t){if(typeof t!="string"&&t!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function Or(e,t){if(typeof t!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(t).forEach(function(r){e.cssClasses[r]=e.cssPrefix+t[r]})):e.cssClasses=t}function Pt(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Lt,format:Lt},r={step:{r:!1,t:yr},keyboardPageMultiplier:{r:!1,t:Er},keyboardMultiplier:{r:!1,t:br},keyboardDefaultStep:{r:!1,t:wr},start:{r:!0,t:Cr},connect:{r:!0,t:Vt},direction:{r:!0,t:Mr},snap:{r:!1,t:xr},animate:{r:!1,t:Rr},animationDuration:{r:!1,t:Nr},range:{r:!0,t:Sr},orientation:{r:!1,t:kr},margin:{r:!1,t:_t},limit:{r:!1,t:Tr},padding:{r:!1,t:Lr},behaviour:{r:!0,t:Vr},ariaFormat:{r:!1,t:Ir},format:{r:!1,t:Fr},tooltips:{r:!1,t:_r},keyboardSupport:{r:!0,t:Dr},documentElement:{r:!1,t:Ar},cssPrefix:{r:!0,t:Br},cssClasses:{r:!0,t:Or},handleAttributes:{r:!1,t:Pr}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Mt,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(r).forEach(function(d){if(!at(e[d])&&n[d]===void 0){if(r[d].r)throw new Error("noUiSlider: '"+d+"' is required.");return}r[d].t(t,at(e[d])?e[d]:n[d])}),t.pips=e.pips;var l=document.createElement("div"),u=l.style.msTransform!==void 0,i=l.style.transform!==void 0;t.transformRule=i?"transform":u?"msTransform":"webkitTransform";var p=[["left","top"],["right","bottom"]];return t.style=p[t.dir][t.ort],t}function Hr(e,t,r){var n=ur(),l=fr(),u=l&&dr(),i=e,p,d,m,f,R,v,E=t.spectrum,B=[],T=[],L=[],D=0,M={},b=!1,w=e.ownerDocument,_=t.documentElement||w.documentElement,y=w.body,k=w.dir==="rtl"||t.ort===1?0:100;function S(s,o){var c=w.createElement("div");return o&&ge(c,o),s.appendChild(c),c}function x(s,o){var c=S(s,t.cssClasses.origin),N=S(c,t.cssClasses.handle);if(S(N,t.cssClasses.touchArea),N.setAttribute("data-handle",String(o)),t.keyboardSupport&&(N.setAttribute("tabindex","0"),N.addEventListener("keydown",function(I){return ke(I,o)})),t.handleAttributes!==void 0){var P=t.handleAttributes[o];Object.keys(P).forEach(function(I){N.setAttribute(I,P[I])})}return N.setAttribute("role","slider"),N.setAttribute("aria-orientation",t.ort?"vertical":"horizontal"),o===0?ge(N,t.cssClasses.handleLower):o===t.handles-1&&ge(N,t.cssClasses.handleUpper),c.handle=N,c}function h(s,o){return o?S(s,t.cssClasses.connect):!1}function C(s,o){d=S(o,t.cssClasses.connects),m=[],f=[],f.push(h(d,s[0]));for(var c=0;c<t.handles;c++)m.push(x(o,c)),L[c]=c,f.push(h(d,s[c+1]))}function U(s){ge(s,t.cssClasses.target),t.dir===0?ge(s,t.cssClasses.ltr):ge(s,t.cssClasses.rtl),t.ort===0?ge(s,t.cssClasses.horizontal):ge(s,t.cssClasses.vertical);var o=getComputedStyle(s).direction;return o==="rtl"?ge(s,t.cssClasses.textDirectionRtl):ge(s,t.cssClasses.textDirectionLtr),S(s,t.cssClasses.base)}function X(s,o){return!t.tooltips||!t.tooltips[o]?!1:S(s.firstChild,t.cssClasses.tooltip)}function O(){return i.hasAttribute("disabled")}function Q(s){var o=m[s];return o.hasAttribute("disabled")}function z(s){s!=null?(m[s].setAttribute("disabled",""),m[s].handle.removeAttribute("tabindex")):(i.setAttribute("disabled",""),m.forEach(function(o){o.handle.removeAttribute("tabindex")}))}function J(s){s!=null?(m[s].removeAttribute("disabled"),m[s].handle.setAttribute("tabindex","0")):(i.removeAttribute("disabled"),m.forEach(function(o){o.removeAttribute("disabled"),o.handle.setAttribute("tabindex","0")}))}function j(){v&&(_e("update"+Le.tooltips),v.forEach(function(s){s&&Ct(s)}),v=null)}function G(){j(),v=m.map(X),we("update"+Le.tooltips,function(s,o,c){if(!(!v||!t.tooltips)&&v[o]!==!1){var N=s[o];t.tooltips[o]!==!0&&(N=t.tooltips[o].to(c[o])),v[o].innerHTML=N}})}function de(){_e("update"+Le.aria),we("update"+Le.aria,function(s,o,c,N,P){L.forEach(function(I){var W=m[I],A=De(T,I,0,!0,!0,!0),ae=De(T,I,100,!0,!0,!0),le=P[I],ce=String(t.ariaFormat.to(c[I]));A=E.fromStepping(A).toFixed(1),ae=E.fromStepping(ae).toFixed(1),le=E.fromStepping(le).toFixed(1),W.children[0].setAttribute("aria-valuemin",A),W.children[0].setAttribute("aria-valuemax",ae),W.children[0].setAttribute("aria-valuenow",le),W.children[0].setAttribute("aria-valuetext",ce)})})}function fe(s){if(s.mode===Te.Range||s.mode===Te.Steps)return E.xVal;if(s.mode===Te.Count){if(s.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var o=s.values-1,c=100/o,N=[];o--;)N[o]=o*c;return N.push(100),K(N,s.stepped)}return s.mode===Te.Positions?K(s.values,s.stepped):s.mode===Te.Values?s.stepped?s.values.map(function(P){return E.fromStepping(E.getStep(E.toStepping(P)))}):s.values:[]}function K(s,o){return s.map(function(c){return E.fromStepping(o?E.getStep(c):c)})}function se(s){function o(le,ce){return Number((le+ce).toFixed(7))}var c=fe(s),N={},P=E.xVal[0],I=E.xVal[E.xVal.length-1],W=!1,A=!1,ae=0;return c=ar(c.slice().sort(function(le,ce){return le-ce})),c[0]!==P&&(c.unshift(P),W=!0),c[c.length-1]!==I&&(c.push(I),A=!0),c.forEach(function(le,ce){var ue,te,pe,ye=le,me=c[ce+1],ve,mt,ht,vt,jt,gt,qt,Kt=s.mode===Te.Steps;for(Kt&&(ue=E.xNumSteps[ce]),ue||(ue=me-ye),me===void 0&&(me=ye),ue=Math.max(ue,1e-7),te=ye;te<=me;te=o(te,ue)){for(ve=E.toStepping(te),mt=ve-ae,jt=mt/(s.density||1),gt=Math.round(jt),qt=mt/gt,pe=1;pe<=gt;pe+=1)ht=ae+pe*qt,N[ht.toFixed(5)]=[E.fromStepping(ht),0];vt=c.indexOf(te)>-1?be.LargeValue:Kt?be.SmallValue:be.NoValue,!ce&&W&&te!==me&&(vt=0),te===me&&A||(N[ve.toFixed(5)]=[te,vt]),ae=ve}}),N}function oe(s,o,c){var N,P,I=w.createElement("div"),W=(N={},N[be.None]="",N[be.NoValue]=t.cssClasses.valueNormal,N[be.LargeValue]=t.cssClasses.valueLarge,N[be.SmallValue]=t.cssClasses.valueSub,N),A=(P={},P[be.None]="",P[be.NoValue]=t.cssClasses.markerNormal,P[be.LargeValue]=t.cssClasses.markerLarge,P[be.SmallValue]=t.cssClasses.markerSub,P),ae=[t.cssClasses.valueHorizontal,t.cssClasses.valueVertical],le=[t.cssClasses.markerHorizontal,t.cssClasses.markerVertical];ge(I,t.cssClasses.pips),ge(I,t.ort===0?t.cssClasses.pipsHorizontal:t.cssClasses.pipsVertical);function ce(te,pe){var ye=pe===t.cssClasses.value,me=ye?ae:le,ve=ye?W:A;return pe+" "+me[t.ort]+" "+ve[te]}function ue(te,pe,ye){if(ye=o?o(pe,ye):ye,ye!==be.None){var me=S(I,!1);me.className=ce(ye,t.cssClasses.marker),me.style[t.style]=te+"%",ye>be.NoValue&&(me=S(I,!1),me.className=ce(ye,t.cssClasses.value),me.setAttribute("data-value",String(pe)),me.style[t.style]=te+"%",me.innerHTML=String(c.to(pe)))}}return Object.keys(s).forEach(function(te){ue(te,s[te][0],s[te][1])}),I}function H(){R&&(Ct(R),R=null)}function g(s){H();var o=se(s),c=s.filter,N=s.format||{to:function(P){return String(Math.round(P))}};return R=i.appendChild(oe(o,c,N)),R}function V(){var s=p.getBoundingClientRect(),o="offset"+["Width","Height"][t.ort];return t.ort===0?s.width||p[o]:s.height||p[o]}function F(s,o,c,N){var P=function(W){var A=Y(W,N.pageOffset,N.target||o);if(!A||O()&&!N.doNotReject||cr(i,t.cssClasses.tap)&&!N.doNotReject||s===n.start&&A.buttons!==void 0&&A.buttons>1||N.hover&&A.buttons)return!1;u||A.preventDefault(),A.calcPoint=A.points[t.ort],c(A,N)},I=[];return s.split(" ").forEach(function(W){o.addEventListener(W,P,u?{passive:!0}:!1),I.push([W,P])}),I}function Y(s,o,c){var N=s.type.indexOf("touch")===0,P=s.type.indexOf("mouse")===0,I=s.type.indexOf("pointer")===0,W=0,A=0;if(s.type.indexOf("MSPointer")===0&&(I=!0),s.type==="mousedown"&&!s.buttons&&!s.touches)return!1;if(N){var ae=function(ue){var te=ue.target;return te===c||c.contains(te)||s.composed&&s.composedPath().shift()===c};if(s.type==="touchstart"){var le=Array.prototype.filter.call(s.touches,ae);if(le.length>1)return!1;W=le[0].pageX,A=le[0].pageY}else{var ce=Array.prototype.find.call(s.changedTouches,ae);if(!ce)return!1;W=ce.pageX,A=ce.pageY}}return o=o||kt(w),(P||I)&&(W=s.clientX+o.x,A=s.clientY+o.y),s.pageOffset=o,s.points=[W,A],s.cursor=P||I,s}function re(s){var o=s-or(p,t.ort),c=o*100/V();return c=Nt(c),t.dir?100-c:c}function ee(s){var o=100,c=!1;return m.forEach(function(N,P){if(!Q(P)){var I=T[P],W=Math.abs(I-s),A=W===100&&o===100,ae=W<o,le=W<=o&&s>I;(ae||le||A)&&(c=P,o=W)}}),c}function he(s,o){s.type==="mouseout"&&s.target.nodeName==="HTML"&&s.relatedTarget===null&&Re(s,o)}function Me(s,o){if(navigator.appVersion.indexOf("MSIE 9")===-1&&s.buttons===0&&o.buttonsProperty!==0)return Re(s,o);var c=(t.dir?-1:1)*(s.calcPoint-o.startCalcPoint),N=c*100/o.baseSize;Bt(c>0,N,o.locations,o.handleNumbers,o.connect)}function Re(s,o){o.handle&&(Ke(o.handle,t.cssClasses.active),D-=1),o.listeners.forEach(function(c){_.removeEventListener(c[0],c[1])}),D===0&&(Ke(i,t.cssClasses.drag),pt(),s.cursor&&(y.style.cursor="",y.removeEventListener("selectstart",xt))),t.events.smoothSteps&&(o.handleNumbers.forEach(function(c){Fe(c,T[c],!0,!0,!1,!1)}),o.handleNumbers.forEach(function(c){ie("update",c)})),o.handleNumbers.forEach(function(c){ie("change",c),ie("set",c),ie("end",c)})}function q(s,o){if(!o.handleNumbers.some(Q)){var c;if(o.handleNumbers.length===1){var N=m[o.handleNumbers[0]];c=N.children[0],D+=1,ge(c,t.cssClasses.active)}s.stopPropagation();var P=[],I=F(n.move,_,Me,{target:s.target,handle:c,connect:o.connect,listeners:P,startCalcPoint:s.calcPoint,baseSize:V(),pageOffset:s.pageOffset,handleNumbers:o.handleNumbers,buttonsProperty:s.buttons,locations:T.slice()}),W=F(n.end,_,Re,{target:s.target,handle:c,listeners:P,doNotReject:!0,handleNumbers:o.handleNumbers}),A=F("mouseout",_,he,{target:s.target,handle:c,listeners:P,doNotReject:!0,handleNumbers:o.handleNumbers});P.push.apply(P,I.concat(W,A)),s.cursor&&(y.style.cursor=getComputedStyle(s.target).cursor,m.length>1&&ge(i,t.cssClasses.drag),y.addEventListener("selectstart",xt,!1)),o.handleNumbers.forEach(function(ae){ie("start",ae)})}}function $(s){s.stopPropagation();var o=re(s.calcPoint),c=ee(o);c!==!1&&(t.events.snap||Rt(i,t.cssClasses.tap,t.animationDuration),Fe(c,o,!0,!0),pt(),ie("slide",c,!0),ie("update",c,!0),t.events.snap?q(s,{handleNumbers:[c]}):(ie("change",c,!0),ie("set",c,!0)))}function Ve(s){var o=re(s.calcPoint),c=E.getStep(o),N=E.fromStepping(c);Object.keys(M).forEach(function(P){P.split(".")[0]==="hover"&&M[P].forEach(function(I){I.call($e,N)})})}function ke(s,o){if(O()||Q(o))return!1;var c=["Left","Right"],N=["Down","Up"],P=["PageDown","PageUp"],I=["Home","End"];t.dir&&!t.ort?c.reverse():t.ort&&!t.dir&&(N.reverse(),P.reverse());var W=s.key.replace("Arrow",""),A=W===P[0],ae=W===P[1],le=W===N[0]||W===c[0]||A,ce=W===N[1]||W===c[1]||ae,ue=W===I[0],te=W===I[1];if(!le&&!ce&&!ue&&!te)return!0;s.preventDefault();var pe;if(ce||le){var ye=le?0:1,me=Wt(o),ve=me[ye];if(ve===null)return!1;ve===!1&&(ve=E.getDefaultStep(T[o],le,t.keyboardDefaultStep)),ae||A?ve*=t.keyboardPageMultiplier:ve*=t.keyboardMultiplier,ve=Math.max(ve,1e-7),ve=(le?-1:1)*ve,pe=B[o]+ve}else te?pe=t.spectrum.xVal[t.spectrum.xVal.length-1]:pe=t.spectrum.xVal[0];return Fe(o,E.toStepping(pe),!0,!0),ie("slide",o),ie("update",o),ie("change",o),ie("set",o),!1}function Z(s){s.fixed||m.forEach(function(o,c){F(n.start,o.children[0],q,{handleNumbers:[c]})}),s.tap&&F(n.start,p,$,{}),s.hover&&F(n.move,p,Ve,{hover:!0}),s.drag&&f.forEach(function(o,c){if(!(o===!1||c===0||c===f.length-1)){var N=m[c-1],P=m[c],I=[o],W=[N,P],A=[c-1,c];ge(o,t.cssClasses.draggable),s.fixed&&(I.push(N.children[0]),I.push(P.children[0])),s.dragAll&&(W=m,A=L),I.forEach(function(ae){F(n.start,ae,q,{handles:W,handleNumbers:A,connect:o})})}})}function we(s,o){M[s]=M[s]||[],M[s].push(o),s.split(".")[0]==="update"&&m.forEach(function(c,N){ie("update",N)})}function Ne(s){return s===Le.aria||s===Le.tooltips}function _e(s){var o=s&&s.split(".")[0],c=o?s.substring(o.length):s;Object.keys(M).forEach(function(N){var P=N.split(".")[0],I=N.substring(P.length);(!o||o===P)&&(!c||c===I)&&(!Ne(I)||c===I)&&delete M[N]})}function ie(s,o,c){Object.keys(M).forEach(function(N){var P=N.split(".")[0];s===P&&M[N].forEach(function(I){I.call($e,B.map(t.format.to),o,B.slice(),c||!1,T.slice(),$e)})})}function De(s,o,c,N,P,I,W){var A;return m.length>1&&!t.events.unconstrained&&(N&&o>0&&(A=E.getAbsoluteDistance(s[o-1],t.margin,!1),c=Math.max(c,A)),P&&o<m.length-1&&(A=E.getAbsoluteDistance(s[o+1],t.margin,!0),c=Math.min(c,A))),m.length>1&&t.limit&&(N&&o>0&&(A=E.getAbsoluteDistance(s[o-1],t.limit,!1),c=Math.min(c,A)),P&&o<m.length-1&&(A=E.getAbsoluteDistance(s[o+1],t.limit,!0),c=Math.max(c,A))),t.padding&&(o===0&&(A=E.getAbsoluteDistance(0,t.padding[0],!1),c=Math.max(c,A)),o===m.length-1&&(A=E.getAbsoluteDistance(100,t.padding[1],!0),c=Math.min(c,A))),W||(c=E.getStep(c)),c=Nt(c),c===s[o]&&!I?!1:c}function ft(s,o){var c=t.ort;return(c?o:s)+", "+(c?s:o)}function Bt(s,o,c,N,P){var I=c.slice(),W=N[0],A=t.events.smoothSteps,ae=[!s,s],le=[s,!s];N=N.slice(),s&&N.reverse(),N.length>1?N.forEach(function(ue,te){var pe=De(I,ue,I[ue]+o,ae[te],le[te],!1,A);pe===!1?o=0:(o=pe-I[ue],I[ue]=pe)}):ae=le=[!0];var ce=!1;N.forEach(function(ue,te){ce=Fe(ue,c[ue]+o,ae[te],le[te],!1,A)||ce}),ce&&(N.forEach(function(ue){ie("update",ue),ie("slide",ue)}),P!=null&&ie("drag",W))}function Ot(s,o){return t.dir?100-s-o:s}function Mn(s,o){T[s]=o,B[s]=E.fromStepping(o);var c=Ot(o,0)-k,N="translate("+ft(c+"%","0")+")";if(m[s].style[t.transformRule]=N,t.events.invertConnects&&T.length>1){var P=T.every(function(I,W,A){return W===0||I>=A[W-1]});if(b!==!P){Dn();return}}We(s),We(s+1),b&&(We(s-1),We(s+2))}function pt(){L.forEach(function(s){var o=T[s]>50?-1:1,c=3+(m.length+o*s);m[s].style.zIndex=String(c)})}function Fe(s,o,c,N,P,I){return P||(o=De(T,s,o,c,N,!1,I)),o===!1?!1:(Mn(s,o),!0)}function We(s){if(f[s]){var o=T.slice();b&&o.sort(function(A,ae){return A-ae});var c=0,N=100;s!==0&&(c=o[s-1]),s!==f.length-1&&(N=o[s]);var P=N-c,I="translate("+ft(Ot(c,P)+"%","0")+")",W="scale("+ft(P/100,"1")+")";f[s].style[t.transformRule]=I+" "+W}}function Ht(s,o){return s===null||s===!1||s===void 0||(typeof s=="number"&&(s=String(s)),s=t.format.from(s),s!==!1&&(s=E.toStepping(s)),s===!1||isNaN(s))?T[o]:s}function Qe(s,o,c){var N=qe(s),P=T[0]===void 0;o=o===void 0?!0:o,t.animate&&!P&&Rt(i,t.cssClasses.tap,t.animationDuration),L.forEach(function(A){Fe(A,Ht(N[A],A),!0,!1,c)});var I=L.length===1?0:1;if(P&&E.hasNoSize()&&(c=!0,T[0]=0,L.length>1)){var W=100/(L.length-1);L.forEach(function(A){T[A]=A*W})}for(;I<L.length;++I)L.forEach(function(A){Fe(A,T[A],!0,!0,c)});pt(),L.forEach(function(A){ie("update",A),N[A]!==null&&o&&ie("set",A)})}function Vn(s){Qe(t.start,s)}function _n(s,o,c,N){if(s=Number(s),!(s>=0&&s<L.length))throw new Error("noUiSlider: invalid handle number, got: "+s);Fe(s,Ht(o,s),!0,!0,N),ie("update",s),c&&ie("set",s)}function Ut(s){if(s===void 0&&(s=!1),s)return B.length===1?B[0]:B.slice(0);var o=B.map(t.format.to);return o.length===1?o[0]:o}function Pn(){for(_e(Le.aria),_e(Le.tooltips),Object.keys(t.cssClasses).forEach(function(s){Ke(i,t.cssClasses[s])});i.firstChild;)i.removeChild(i.firstChild);delete i.noUiSlider}function Wt(s){var o=T[s],c=E.getNearbySteps(o),N=B[s],P=c.thisStep.step,I=null;if(t.snap)return[N-c.stepBefore.startValue||null,c.stepAfter.startValue-N||null];P!==!1&&N+P>c.stepAfter.startValue&&(P=c.stepAfter.startValue-N),N>c.thisStep.startValue?I=c.thisStep.step:c.stepBefore.step===!1?I=!1:I=N-c.stepBefore.highestStep,o===100?P=null:o===0&&(I=null);var W=E.countStepDecimals();return P!==null&&P!==!1&&(P=Number(P.toFixed(W))),I!==null&&I!==!1&&(I=Number(I.toFixed(W))),[I,P]}function In(){return L.map(Wt)}function Fn(s,o){var c=Ut(),N=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];N.forEach(function(I){s[I]!==void 0&&(r[I]=s[I])});var P=Pt(r);N.forEach(function(I){s[I]!==void 0&&(t[I]=P[I])}),E=P.spectrum,t.margin=P.margin,t.limit=P.limit,t.padding=P.padding,t.pips?g(t.pips):H(),t.tooltips?G():j(),T=[],Qe(at(s.start)?s.start:c,o),s.connect&&zt()}function zt(){for(;d.firstChild;)d.removeChild(d.firstChild);for(var s=0;s<=t.handles;s++)f[s]=h(d,t.connect[s]),We(s);Z({drag:t.events.drag,fixed:!0})}function Dn(){b=!b,Vt(t,t.connect.map(function(s){return!s})),zt()}function An(){p=U(i),C(t.connect,p),Z(t.events),Qe(t.start),t.pips&&g(t.pips),t.tooltips&&G(),de()}An();var $e={destroy:Pn,steps:In,on:we,off:_e,get:Ut,set:Qe,setHandle:_n,reset:Vn,disable:z,enable:J,__moveHandles:function(s,o,c){Bt(s,o,T,c)},options:r,updateOptions:Fn,target:i,removePips:H,removeTooltips:j,getPositions:function(){return T.slice()},getTooltips:function(){return v},getOrigins:function(){return m},pips:g};return $e}function Ur(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var r=Pt(t),n=Hr(e,r,t);return e.noUiSlider=n,n}const It={__spectrum:Tt,cssClasses:Mt,create:Ur};function Ft(e,t,r){if(e==null||e==="")return{min:t,max:r};if(typeof e=="string"&&e.includes("..")){const n=e.split(".."),l=n[0]!==""?Number(n[0]):t,u=n[1]!==""?Number(n[1]):r;return{min:isNaN(l)?t:l,max:isNaN(u)?r:u}}if(typeof e=="object"){const n=e;return{min:n.min??t,max:n.max??r}}return typeof e=="number"?{min:e,max:r}:{min:t,max:r}}function Wr({config:e,filterData:t,value:r,onChange:n,blockId:l,narrowedValues:u,isNarrowing:i}){const p=[l?`voxel-popup-${l}`:"",e.id?`elementor-repeater-item-${e.id}`:""].filter(Boolean).join(" "),d=a.useRef(null),m=a.useRef(null),f=a.useRef(null),[R,v]=a.useState(!1),E=t.props||{},B=E.min??0,T=E.max??100,L=E.step??1,D=E.placeholder||t.label||"Range",M=e.displayAs||t.props?.display_as||"popup",b=E.handles||"double",w=E.compare||"in_range",_=e.filterKey,y=u?.ranges?.[_],k=y?.min??B,S=y?.max??T,x=E.format||"number",h=E.prefix||(typeof x=="object"?x.prefix:"")||"",C=E.suffix||(typeof x=="object"?x.suffix:"")||"",U=t.icon||"",X=Ft(r,k,S),[O,Q]=a.useState(X.min),[z,J]=a.useState(X.max),j=a.useCallback(q=>x==="price"?`${h}${q.toLocaleString()}${C}`:`${h}${q}${C}`,[x,h,C]),G=r!=null&&r!==""&&(X.min!==k||X.max!==S),de=G?`${j(X.min)} â€” ${j(X.max)}`:D,fe=`${j(O)} â€” ${j(z)}`,K=a.useCallback(()=>{if(!m.current||f.current)return;const q=O,$=z;let Ve,ke;b==="double"?(Ve=[q,$],ke=!0):w==="in_range"?(Ve=[$],ke=[!1,!0]):(Ve=[q],ke=[!0,!1]),It.create(m.current,{start:Ve,connect:ke,range:{min:k,max:S},step:L,behaviour:"tap-drag"}),f.current=m.current.noUiSlider,f.current.on("update",Z=>{b==="double"?(Q(Math.round(Number(Z[0]))),J(Math.round(Number(Z[1])))):w==="in_range"?J(Math.round(Number(Z[0]))):Q(Math.round(Number(Z[0])))}),requestAnimationFrame(()=>{f.current&&(b==="double"?f.current.set([q,$],!1):f.current.set([q],!1))})},[b,w,O,z,k,S,L]),se=a.useCallback(()=>{f.current&&(f.current.destroy(),f.current=null)},[]);a.useEffect(()=>{const q=Ft(r,k,S);if(Q(q.min),J(q.max),f.current){const $=b==="double"?[q.min,q.max]:[q.min];f.current.set($,!1),requestAnimationFrame(()=>{f.current&&f.current.set($,!1)})}},[r,k,S,b]),a.useEffect(()=>{if(R&&M==="popup"){const q=setTimeout(()=>{K()},100);return()=>clearTimeout(q)}return()=>{M==="popup"&&se()}},[R,M,K,se]),a.useEffect(()=>{if(M==="inline")return K(),()=>se()},[M,K,se]),a.useEffect(()=>{if(!f.current||!y)return;f.current.updateOptions({range:{min:k,max:S}},!0);let q=O,$=z;q<k&&(q=k),q>S&&(q=S),b==="double"&&($<k&&($=k),$>S&&($=S),q>$&&(q=$)),b==="double"?f.current.set([q,$]):f.current.set([q]),Q(q),J($)},[y,k,S,b]);const oe=a.useCallback(()=>{v(!0)},[]),H=a.useCallback((q,$)=>q===k&&$===S?null:b==="double"?`${q}..${$}`:w==="greater_than"||w==="in_range"?`${q}..`:`..${$}`,[b,w,k,S]),g=q=>{const $=q.target.value===""?k:Number(q.target.value);Q($),f.current&&f.current.set(b==="double"?[$,z]:[$]),M==="minmax"&&n(H($,z))},V=q=>{const $=q.target.value===""?S:Number(q.target.value);J($),f.current&&f.current.set([O,$]),M==="minmax"&&n(H(O,$))},F=a.useCallback(()=>{n(H(O,z)),v(!1)},[O,z,H,n]),Y=a.useCallback(()=>{Q(k),J(S),f.current&&f.current.set(b==="double"?[k,S]:[k]),n(null)},[k,S,b,n]),re=()=>React.createElement("div",{className:"ts-minmax"},React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(k),value:O,onChange:g,min:k,max:z,step:L}),b==="double"&&React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(S),value:z,onChange:V,min:O,max:S,step:L})),ee=()=>React.createElement("div",{className:`range-slider-wrapper${i?" ts-loading":""}`},React.createElement("div",{className:"range-value"},fe),React.createElement("div",{ref:m,className:"range-slider"}),y&&(y.min!==B||y.max!==T)&&React.createElement("div",{className:"range-narrowed-indicator"},React.createElement("small",null,"Showing ",j(k)," â€” ",j(S)," based on current results")));if(M==="minmax"&&b==="double"){const{style:q,className:$}=ne(e,"ts-form-group");return React.createElement("div",{className:$,style:q},!e.hideLabel&&React.createElement("label",null,t.label),re())}if(M==="inline"){const{style:q,className:$}=ne(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:$,style:q},!e.hideLabel&&React.createElement("label",null,t.label),ee())}const{style:he,className:Me}=ne(e,"ts-form-group"),Re=Ce(e);return React.createElement("div",{className:Me,style:he},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:d,className:`ts-filter ts-popup-target ${G?"ts-filled":""}`,onClick:oe,onMouseDown:q=>q.preventDefault(),role:"button",tabIndex:0},U&&React.createElement("span",{dangerouslySetInnerHTML:{__html:U}}),React.createElement("div",{className:"ts-filter-text"},de),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:R,target:d,title:"",icon:U,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:F,onClear:Y,onClose:()=>v(!1),className:`${p}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:Re.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,t.label,t.description&&React.createElement("small",null,t.description)),ee())))}function zr(e,t){let r=null;return function(...n){r&&clearTimeout(r),r=setTimeout(()=>e.apply(this,n),t)}}function jr({config:e,filterData:t,value:r,onChange:n,blockId:l}){const u=l?`voxel-popup-${l}`:"",i=t.props||{},p=i.min??0,d=i.max??99,m=i.step??1,f=i.default??p,R=i.placeholder||t.label||"Any",v=e.displayAs||t.props?.display_as||"popup",E=t.icon||"",B=a.useRef(null),[T,L]=a.useState(!1),D=typeof r=="number"?r:f,[M,b]=a.useState(D),w=a.useMemo(()=>zr(z=>n(z),300),[n]);a.useEffect(()=>{b(typeof r=="number"?r:f)},[r,f]),a.useEffect(()=>{T&&b(D)},[T,D]);const _=z=>{z.preventDefault();const J=Math.max(p,M-m);b(J),v==="inline"&&w(J)},y=z=>{z.preventDefault();const J=Math.min(d,M+m);b(J),v==="inline"&&w(J)},k=z=>{const J=parseInt(z.target.value,10);if(!isNaN(J)){const j=Math.min(d,Math.max(p,J));b(j),v==="inline"&&w(j)}},S=a.useCallback(()=>{L(!0)},[]),x=a.useCallback(()=>{n(M),L(!1)},[M,n]),h=a.useCallback(()=>{b(f),n(f)},[f,n]),C=()=>React.createElement("div",{className:"ts-stepper-input flexify"},React.createElement("button",{type:"button",className:"ts-stepper-left ts-icon-btn inline-btn-ts",onClick:_},React.createElement("i",{className:"las la-minus"})),React.createElement("input",{type:"number",className:"ts-input-box",min:p,max:d,step:m,value:M,onChange:k,placeholder:R}),React.createElement("button",{type:"button",className:"ts-stepper-right ts-icon-btn inline-btn-ts",onClick:y},React.createElement("i",{className:"las la-plus"})));if(v==="inline"){const{style:z,className:J}=ne(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:J,style:z},!e.hideLabel&&React.createElement("label",null,t.label),C())}const U=D!==f,{style:X,className:O}=ne(e,"ts-form-group"),Q=Ce(e);return React.createElement("div",{className:O,style:X},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:B,className:`ts-filter ts-popup-target ${U?"ts-filled":""}`,onClick:S,onMouseDown:z=>z.preventDefault(),role:"button",tabIndex:0},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("div",{className:"ts-filter-text"},U?M:R),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:T,target:B,title:"",icon:E,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:x,onClear:h,onClose:()=>L(!1),className:`${u}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:Q.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,t.label,t.description&&React.createElement("small",null,t.description)),C())))}function qr(e){return e==null||e===""?[]:typeof e=="string"?e.split(",").map(t=>t.trim()).filter(t=>t!==""):Array.isArray(e)?e.length>0&&typeof e[0]=="string"?e:e.length>0&&typeof e[0]=="number"?e.map(String):[]:[]}function it(e){return e.length===0?null:e.join(",")}function Kr({config:e,filterData:t,value:r,onChange:n,blockId:l,narrowedValues:u,isNarrowing:i}){const p=l?`voxel-popup-${l}`:"",d=a.useRef(null),m=a.useRef(null),[f,R]=a.useState(!1),[v,E]=a.useState(""),B=t.props||{},T=B.multiple??!0,L=B.placeholder||t.label||"Select",D=e.displayAs||B.display_as||"popup",M=e.hideEmptyTerms??B.hide_empty_terms??!1,b=t.icon||"",w=B.taxonomy||e.filterKey,_=u?.terms?.[w],y=a.useCallback(H=>{const g=(V,F,Y)=>{const re={...V,parentRef:F||void 0,hasSelection:!1,depth:Y};return V.children&&V.children.length>0&&(re.children=V.children.map(ee=>g(ee,re,Y+1))),re};return H.map(V=>g(V,null,0))},[]),k=a.useMemo(()=>{const H=B.terms||[];return y(H)},[B,y]),S=a.useMemo(()=>{const H=new Map,g=V=>{H.set(V.slug,V),V.children&&V.children.forEach(F=>g(F))};return k.forEach(V=>g(V)),H},[k]),x=a.useMemo(()=>{const H=[],g=V=>{V.forEach(F=>{M&&_&&F.term_taxonomy_id&&_[F.term_taxonomy_id]===0||(H.push(F),F.children&&F.children.length>0&&g(F.children))})};return g(k),H},[k,M,_]),h=a.useCallback(H=>!_||!H.term_taxonomy_id?null:_[H.term_taxonomy_id]??null,[_]),C=a.useMemo(()=>qr(r),[r]),U=a.useCallback(H=>H.slug?C.includes(H.slug):!1,[C]),X=a.useMemo(()=>x.filter(H=>H.slug&&C.includes(H.slug)),[x,C]),O=a.useMemo(()=>{if(!v)return x;const H=v.toLowerCase();return x.filter(g=>g.label.toLowerCase().includes(H))},[x,v]);a.useEffect(()=>{f&&(E(""),x.length>=15&&setTimeout(()=>m.current?.focus(),50))},[f,x.length]);const Q=a.useCallback(()=>{R(!0)},[]),z=a.useCallback(H=>{const g=H.slug;if(g)if(T){let V=[...C];if(V.includes(g)){V=V.filter(Y=>Y!==g);let F=H.parentRef;for(;F;)F.children?.some(re=>V.includes(re.slug)||re.hasSelection)||(F.hasSelection=!1),F=F.parentRef;n(it(V))}else{V.push(g);let F=H.parentRef;for(;F;)V=V.filter(re=>re!==F.slug),F.hasSelection=!0,F=F.parentRef;const Y=new Set;V.forEach(re=>{const ee=S.get(re);if(!ee)return;let he=ee.parentRef;const Me=[];let Re=!1;for(;he;){if(he.slug===g){Re=!0;break}Me.push(he),he=he.parentRef}Re&&(Y.add(ee.slug),Me.forEach(q=>{q.hasSelection=!1}))}),V=V.filter(re=>!Y.has(re)),n(it(V))}}else n(it([g])),D!=="inline"&&R(!1)},[T,C,n,S,D]),J=a.useCallback(()=>{R(!1)},[]),j=a.useCallback(()=>{n(null)},[n]),G=C.length>0,de=G&&X[0]?.label||L,fe=X.length>1?X.length-1:0;if(D==="inline"){const{style:H,className:g}=ne(e,"ts-form-group inline-terms-wrapper ts-inline-filter min-scroll");return React.createElement("div",{className:`${g}${i?" ts-loading":""}`,style:H},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:"ts-term-dropdown ts-multilevel-dropdown inline-multilevel"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},x.map(V=>{const F=U(V),Y=h(V),re=Y===0;return React.createElement("li",{key:V.slug,className:`${F?"ts-selected":""}${re?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:ee=>{ee.preventDefault(),re||z(V)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${T?"checkbox":"radio"}`},React.createElement("input",{type:T?"checkbox":"radio",checked:F,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,V.depth>0?"â€” ".repeat(V.depth):"",V.label),Y!==null&&React.createElement("span",{className:"ts-term-count"},"(",Y,")"),V.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:V.icon}})))}))))}if(D==="buttons"){const{style:H,className:g}=ne(e,"ts-form-group");return React.createElement("div",{className:g,style:H},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},x.map(V=>{const F=U(V);return React.createElement("li",{key:V.slug,className:`flexify ${F?"adb-selected":""}`,onClick:()=>z(V)},V.label)})))}const{style:K,className:se}=ne(e,"ts-form-group"),oe=Ce(e);return React.createElement("div",{className:se,style:K},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:d,className:`ts-filter ts-popup-target ${G?"ts-filled":""}`,onClick:Q,onMouseDown:H=>H.preventDefault(),role:"button",tabIndex:0},b&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b}}),React.createElement("div",{className:"ts-filter-text"},de,fe>0&&React.createElement("span",{className:"term-count"},"+",fe)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:f,target:d,title:"",icon:b,saveLabel:"Save",clearLabel:"Clear",showClear:!0,showSave:T,onSave:J,onClear:j,onClose:()=>R(!1),className:`${p}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:oe.style},x.length>=15&&React.createElement("div",{className:"ts-sticky-top uib b-bottom"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("span",null,Se.search),React.createElement("input",{ref:m,type:"text",value:v,onChange:H=>E(H.target.value),placeholder:"Search",className:"autofocus"}))),React.createElement("div",{className:`ts-term-dropdown ts-multilevel-dropdown ts-md-group${i?" ts-loading":""}`},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},O.map(H=>{const g=U(H),V=h(H),F=V===0;return React.createElement("li",{key:H.slug,className:`${g?"ts-selected":""}${F?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:Y=>{Y.preventDefault(),F||z(H)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${T?"checkbox":"radio"}`},React.createElement("input",{type:T?"checkbox":"radio",checked:g,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,H.depth>0?"â€” ".repeat(H.depth):"",H.label),V!==null&&React.createElement("span",{className:"ts-term-count"},"(",V,")"),H.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:H.icon}})))})),O.length===0&&React.createElement("div",{className:"ts-empty-user-tab"},b&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b}}),React.createElement("p",null,"No results found")))))}function Pe(e){return!e||!e.address?null:e.swlat!==void 0&&e.swlng!==void 0&&e.nelat!==void 0&&e.nelng!==void 0?`${e.address};${e.swlat},${e.swlng}..${e.nelat},${e.nelng}`:e.lat!==void 0&&e.lng!==void 0?`${e.address};${e.lat},${e.lng},${e.radius||25}`:e.address}function Zr(e,t){if(e==null||e==="")return null;if(typeof e=="string"){const r=e.indexOf(";");if(r===-1)return{address:e};const n=e.substring(0,r),l=e.substring(r+1);if(l.includes("..")){const i=l.split(".."),p=i[0].split(","),d=i[1].split(",");return{address:n,swlat:Number(p[0]),swlng:Number(p[1]),nelat:Number(d[0]),nelng:Number(d[1])}}const u=l.split(",");return{address:n,lat:Number(u[0]),lng:Number(u[1]),radius:u[2]?Number(u[2]):t}}return typeof e=="object"?e:null}function Jr({config:e,filterData:t,value:r,onChange:n,blockId:l}){const u=l?`voxel-popup-${l}`:"",i=a.useRef(null),p=a.useRef(null),d=a.useRef(null),m=a.useRef(null),f=a.useRef(null),[R,v]=a.useState(!1),[E,B]=a.useState(!1),T=a.useRef(null),L=t.props||{},D=L.radius||{},M=D.default??25,b=D.min??1,w=D.max??100,_=D.step??1,y=L.units||"km",k=L.display_proximity_as||"popup",S=L.placeholder||t.label||"Location",x=e.displayAs||t.props?.display_as||"popup",h=t.icon||"",C=Zr(r,M)||{},[U,X]=a.useState(C.address||""),[O,Q]=a.useState(C.radius||M),z=a.useCallback(Z=>Math.round(Z*1e6)/1e6,[]),J=a.useCallback(Z=>`${Z}${y==="mi"?"mi":"km"}`,[y]),j=a.useCallback(()=>{!m.current||f.current||(It.create(m.current,{start:O,connect:[!0,!1],step:_,range:{min:b,max:w},behaviour:"tap-drag"}),f.current=m.current.noUiSlider,f.current.on("update",Z=>{Q(Math.round(Number(Z[0])))}),f.current.on("change",Z=>{const we=Math.round(Number(Z[0]));k==="inline"&&C.lat&&n(Pe({...C,radius:we}))}))},[O,_,b,w,k,C,n]),G=a.useCallback(()=>{f.current&&(f.current.destroy(),f.current=null)},[]);a.useEffect(()=>{if(k==="inline"&&C.lat){const Z=setTimeout(()=>j(),50);return()=>{clearTimeout(Z),G()}}},[k,C.lat,j,G]),a.useEffect(()=>{if(E){const Z=setTimeout(()=>j(),50);return()=>clearTimeout(Z)}return()=>G()},[E,j,G]),a.useEffect(()=>{const Z=C.radius||M;Q(Z),f.current&&f.current.set([Z])},[C.radius,M]);const de=a.useCallback(()=>{if(d.current||!p.current||typeof window>"u")return;const Z=window.Voxel?.Maps;if(!Z){console.warn("Voxel.Maps not available for autocomplete");return}Z.await(()=>{if(d.current)return;const we=e.autocomplete||{};d.current=new Z.Autocomplete(p.current,Ne=>{if(Ne){const _e=Ne.viewport.getSouthWest(),ie=Ne.viewport.getNorthEast(),De={address:Ne.address,swlat:z(_e.getLatitude()),swlng:z(_e.getLongitude()),nelat:z(ie.getLatitude()),nelng:z(ie.getLongitude()),lat:z(Ne.latlng.getLatitude()),lng:z(Ne.latlng.getLongitude()),radius:C.radius||M};X(Ne.address),n(Pe(De)),x==="popup"&&v(!1)}else X(""),n(null)},we)})},[e.autocomplete,n,x,M,C.radius,z]);a.useEffect(()=>{(R||x==="inline")&&(X(C.address||""),R&&setTimeout(()=>p.current?.focus(),50))},[R,x,C.address]);const fe=a.useCallback(()=>{v(!0)},[]),K=a.useCallback(()=>{de()},[de]),se=Z=>{X(Z.target.value),x==="inline"&&(Z.target.value?n(Pe({...C,address:Z.target.value})):n(null))},oe=Z=>{Z.preventDefault(),Z.stopPropagation(),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(we=>{const Ne={address:"Current Location",lat:we.coords.latitude,lng:we.coords.longitude,radius:M};X("Current Location"),n(Pe(Ne)),x==="popup"&&v(!1)},we=>{console.error("Geolocation error:",we)})},H=a.useCallback(()=>{n(U?Pe({...C,address:U}):null),v(!1)},[U,C,n]),g=a.useCallback(()=>{X(""),n(null)},[n]),V=a.useCallback(Z=>{Z.key==="Enter"&&(Z.preventDefault(),H())},[H]),F=a.useCallback(()=>{C.lat&&n(Pe({...C,radius:O})),B(!1)},[C,O,n]),Y=a.useCallback(()=>{Q(M),f.current&&f.current.set([M]),C.lat&&n(Pe({...C,radius:M}))},[M,C,n]),re=!!C.address||!!C.lat,ee=re?C.address||"Location set":S,he=()=>React.createElement("div",{className:"ts-input-icon flexify",style:{position:"relative"}},h&&React.createElement("span",{dangerouslySetInnerHTML:{__html:h}}),React.createElement("input",{ref:p,type:"text",className:"inline-input",placeholder:S,value:U,onChange:se,onKeyDown:V,onFocus:K}),React.createElement("a",{href:"#",className:"inline-user-location ts-icon-btn",onClick:oe,title:"Use my location","aria-label":"Use my location"},Se.crosshairs)),Me=()=>React.createElement("div",{className:"range-slider-wrapper"},React.createElement("div",{className:"range-value"},J(O)),React.createElement("div",{ref:m,className:"range-slider"})),Re=()=>!C.lat||k==="inline"?null:React.createElement("div",{className:"ts-form-group ts-proximity-filter"},React.createElement("label",null,L.proximity_label||"Radius"),React.createElement("div",{ref:T,className:`ts-filter ts-popup-target ${C.radius?"ts-filled":""}`,onClick:()=>B(!0),onMouseDown:Z=>Z.preventDefault(),role:"button",tabIndex:0},React.createElement("div",{className:"ts-filter-text"},J(C.radius||M)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:E,target:T,title:"",saveLabel:"Save",clearLabel:"Reset",showClear:!0,onSave:F,onClear:Y,onClose:()=>B(!1),className:`${u}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ke.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,L.proximity_label||"Search radius"),Me()))),q=()=>k!=="inline"||!C.lat?null:React.createElement("div",{className:"ts-form-group ts-inline-proximity"},React.createElement("label",null,L.proximity_label||"Radius",": ",J(O)),React.createElement("div",{ref:m,className:"range-slider"}));if(x==="inline"){const{style:Z,className:we}=ne(e,"ts-form-group ts-inline-filter");return React.createElement(React.Fragment,null,React.createElement("div",{className:we,style:Z},!e.hideLabel&&React.createElement("label",null,t.label),he()),q(),Re())}const{style:$,className:Ve}=ne(e,"ts-form-group"),ke=Ce(e);return React.createElement(React.Fragment,null,React.createElement("div",{className:Ve,style:$},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${re?"ts-filled":""}`,onClick:fe,onMouseDown:Z=>Z.preventDefault(),role:"button",tabIndex:0},h&&React.createElement("span",{dangerouslySetInnerHTML:{__html:h}}),React.createElement("div",{className:"ts-filter-text"},ee),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:R,target:i,title:"",icon:h,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:H,onClear:g,onClose:()=>v(!1),className:`${u}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ke.style},React.createElement("div",{className:"ts-form-group"},he()))),q(),Re())}function Xr(e){if(e==null||e==="")return{date:"",slots:1};if(typeof e=="string")return{date:e,slots:1};if(typeof e=="object"){const t=e;return{date:t.date||"",slots:t.slots||1}}return{date:"",slots:1}}const He=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},Ie=e=>{if(!e)return null;const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},Ue=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}catch{return e}};function Gr({config:e,filterData:t,value:r,onChange:n,blockId:l}){const u=[l?`voxel-popup-${l}`:"",e.id?`elementor-repeater-item-${e.id}`:""].filter(Boolean).join(" "),i=a.useRef(null),p=a.useRef(null),[d,m]=a.useState(!1),f=t.props||{},v=(f.inputMode||"date-range")==="date-range",E=f.l10n||{},B=E.pickDate||t.label||"Select dates",T=t.icon||"",L=Xr(r),D=L.date,M=L.slots;let b="",w="";v&&D&&D.includes("..")?[b,w]=D.split(".."):!v&&D&&(b=D);const[_,y]=a.useState(()=>He(b)),[k,S]=a.useState(()=>He(w)),[x,h]=a.useState("start"),[C,U]=a.useState(M);a.useEffect(()=>{if(d){if(v&&D&&D.includes("..")){const[K,se]=D.split("..");y(He(K)),S(He(se))}else!v&&D&&y(He(D));U(M),h("start")}},[d,v,D,M]);const X=a.useCallback(()=>{m(!0)},[]),O=a.useCallback(K=>{if(v&&K&&p.current)if(x==="start")y(K),h("end"),p.current.setStartRange(K),p.current.setEndRange(null),p.current.draw();else if(_&&K<_)y(K),S(null),p.current.setStartRange(K),p.current.setEndRange(null),p.current.draw();else{S(K),h("start"),p.current.setEndRange(K),p.current.draw();const se=Ie(_),oe=Ie(K);se&&oe&&(n(`${se}..${oe}`),m(!1))}else y(K)},[v,x,_,n]);a.useCallback(K=>{U(Number(K.target.value)||1)},[]);const Q=a.useCallback(K=>{if(v){const se=Ie(_),oe=Ie(k);se&&oe&&n(`${se}..${oe}`)}else{const oe=Ie(K!==void 0?K:_);oe&&n(oe)}m(!1)},[v,_,k,n]),z=a.useCallback(()=>{y(null),S(null),U(1),n(null),p.current&&(p.current.setStartRange(null),p.current.setEndRange(null))},[n]),J=v?!!(b&&w):!!D,j=a.useMemo(()=>{if(!J)return B;if(v){const K=Ue(b),se=Ue(w),oe=`${K} â€” ${se}`;return M>1?`${oe} (${M})`:oe}else{const K=Ue(D);return M>1?`${K} (${M})`:K}},[v,J,b,w,D,M,B]),{style:G,className:de}=ne(e,"ts-form-group"),fe=Ce(e);return React.createElement("div",{className:de,style:G},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${J?"ts-filled":""}`,onClick:X,onMouseDown:K=>K.preventDefault(),role:"button",tabIndex:0},T&&React.createElement("span",{dangerouslySetInnerHTML:{__html:T}}),React.createElement("div",{className:"ts-filter-text"},j),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:d,target:i,title:"",icon:T,saveLabel:E.save||"Save",clearLabel:E.clear||"Clear",showSave:v,onSave:Q,onClear:z,onClose:()=>m(!1),className:`${u}${v?" ts-availability-wrapper xl-height xl-width":" md-width xl-height"}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:fe.style},v&&React.createElement("div",{className:"ts-popup-head flexify"},React.createElement("div",{className:"ts-popup-name flexify"},T&&React.createElement("span",{dangerouslySetInnerHTML:{__html:T}}),React.createElement("span",null,React.createElement("span",{className:x==="start"?"chosen":"",onClick:()=>h("start"),style:{cursor:"pointer"}},_?Ue(Ie(_)):E.checkIn||"Check-in"),React.createElement("span",null," â€” "),React.createElement("span",{className:x==="end"?"chosen":"",onClick:()=>h("end"),style:{cursor:"pointer"}},k?Ue(Ie(k)):E.checkOut||"Check-out")))),React.createElement(Be,{value:_,onChange:O,...!v&&{onSelect:Q},pickerConfig:{minDate:new Date,...v?{theme:"pika-range"}:{}},onPickerReady:K=>{p.current=K,v&&_&&(K.setStartRange(_),k&&K.setEndRange(k))}})))}function Yr(e,t){if(e==null||e==="")return{from:"",to:""};if(typeof e=="string"){if(t&&e.includes("..")){const r=e.split("..");return{from:r[0]||"",to:r[1]||""}}return{from:e,to:""}}if(typeof e=="object"){const r=e;return{from:r.from||"",to:r.to||""}}return{from:"",to:""}}function Ze(e,t,r){return!e&&!t?null:r?e&&t?`${e}..${t}`:e?`${e}..`:t?`..${t}`:null:e||null}const Je=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},Dt=e=>{if(!e)return null;const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},Xe=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}catch{return e}};function Qr({config:e,filterData:t,value:r,onChange:n,blockId:l}){const u=l?`voxel-popup-${l}`:"",i=a.useRef(null),p=t.props||{},d=p.enable_range??!1,m=p.placeholder||t.label||"Select date",f=t.icon||"",R=Yr(r,d),v=R.from,E=R.to,[B,T]=a.useState(!1),[L,D]=a.useState(!1),[M,b]=a.useState(()=>Je(v)),[w,_]=a.useState(()=>Je(E)),y=a.useCallback(()=>{b(Je(v)),T(!0)},[v]),k=a.useCallback(()=>{_(Je(E)),D(!0)},[E]),S=a.useCallback(G=>{b(G)},[]),x=a.useCallback(G=>{_(G)},[]),h=a.useCallback(G=>{const fe=Dt(G!==void 0?G:M)||"";n(Ze(fe,E,d)),T(!1)},[M,d,E,n]),C=a.useCallback(G=>{const fe=Dt(G!==void 0?G:w)||"";n(Ze(v,fe,d)),D(!1)},[w,v,d,n]),U=a.useCallback(()=>{b(null),n(Ze("",E,d))},[d,E,n]),X=a.useCallback(()=>{_(null),n(Ze(v,"",d))},[v,d,n]),O=d?!!v||!!E:!!v,Q=a.useMemo(()=>{if(!O)return m;if(d){const G=[];return v&&G.push(Xe(v)),E&&G.push(Xe(E)),G.join(" - ")||m}return Xe(v)||m},[O,d,v,E,m]),{style:z,className:J}=ne(e,"ts-form-group"),j=Ce(e);return React.createElement("div",{className:J,style:z},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${O?"ts-filled":""}`,onClick:y,onMouseDown:G=>G.preventDefault(),role:"button",tabIndex:0},f&&React.createElement("span",{dangerouslySetInnerHTML:{__html:f}}),React.createElement("div",{className:"ts-filter-text"},Q),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:B,target:i,title:d?"From":"",icon:f,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:h,onClear:U,onClose:()=>T(!1),className:`${u}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:j.style},React.createElement(Be,{value:M,onChange:S,onSelect:h}),d&&React.createElement("div",{className:"ts-form-group",style:{marginTop:"12px",borderTop:"1px solid var(--ts-shade-5)",paddingTop:"12px"}},React.createElement("label",null,"To"),React.createElement("div",{className:`ts-filter ts-popup-target ${E?"ts-filled":""}`,onClick:G=>{G.stopPropagation(),T(!1),setTimeout(()=>k(),100)},role:"button",tabIndex:0},f&&React.createElement("span",{dangerouslySetInnerHTML:{__html:f}}),React.createElement("div",{className:"ts-filter-text"},E?Xe(E):"Select end date")))),d&&React.createElement(Ee,{isOpen:L,target:i,title:"To",icon:f,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:C,onClear:X,onClose:()=>D(!1),className:`${u}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:j.style},React.createElement(Be,{value:w,onChange:x,onSelect:C})))}const Ge=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},At=e=>{if(!e)return null;const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},ct=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}catch{return e}};function $r({config:e,filterData:t,value:r,onChange:n,blockId:l}){const u=l?`voxel-popup-${l}`:"",i=a.useRef(null),d=(t.props||{}).placeholder||t.label||"Date",m=t.icon||"",f=r||{},R=f.from||"",v=f.to||"",[E,B]=a.useState(!1),[T,L]=a.useState(!1),[D,M]=a.useState(()=>Ge(R)),[b,w]=a.useState(()=>Ge(v)),_=a.useCallback(()=>{M(Ge(R)),B(!0)},[R]),y=a.useCallback(()=>{w(Ge(v)),L(!0)},[v]),k=a.useCallback(j=>{M(j)},[]),S=a.useCallback(j=>{w(j)},[]),x=a.useCallback(j=>{const de=At(j!==void 0?j:D)||"";n({from:de,to:v}),B(!1)},[D,v,n]),h=a.useCallback(j=>{const de=At(j!==void 0?j:b)||"";n({from:R,to:de}),L(!1)},[b,R,n]),C=a.useCallback(()=>{M(null),n({from:"",to:v})},[v,n]),U=a.useCallback(()=>{w(null),n({from:R,to:""})},[R,n]),X=!!R||!!v,O=a.useMemo(()=>{if(!X)return d;const j=[];return R&&j.push(ct(R)),v&&j.push(ct(v)),j.join(" - ")||d},[X,R,v,d]),{style:Q,className:z}=ne(e,"ts-form-group"),J=Ce(e);return React.createElement("div",{className:z,style:Q},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${X?"ts-filled":""}`,onClick:_,onMouseDown:j=>j.preventDefault(),role:"button",tabIndex:0},m&&React.createElement("span",{dangerouslySetInnerHTML:{__html:m}}),React.createElement("div",{className:"ts-filter-text"},O),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:E,target:i,title:"From",icon:m,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:x,onClear:C,onClose:()=>B(!1),className:`${u}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:J.style},React.createElement(Be,{value:D,onChange:k,onSelect:x}),React.createElement("div",{className:"ts-form-group",style:{marginTop:"12px",borderTop:"1px solid var(--ts-shade-5)",paddingTop:"12px"}},React.createElement("label",null,"To"),React.createElement("div",{className:`ts-filter ts-popup-target ${v?"ts-filled":""}`,onClick:j=>{j.stopPropagation(),B(!1),setTimeout(()=>y(),100)},role:"button",tabIndex:0},m&&React.createElement("span",{dangerouslySetInnerHTML:{__html:m}}),React.createElement("div",{className:"ts-filter-text"},v?ct(v):"Select end date")))),React.createElement(Ee,{isOpen:T,target:i,title:"To",icon:m,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:h,onClear:U,onClose:()=>L(!1),className:`${u}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:J.style},React.createElement(Be,{value:b,onChange:S,onSelect:h})))}function en({config:e,filterData:t,value:r,onChange:n}){const l=r===!0||r==="true"||r==="1",u=m=>{m.preventDefault(),n(!l)},i=t.props?.placeholder||t.label||"Open now",{style:p,className:d}=ne(e,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:d,style:p},React.createElement("label",null,React.createElement("div",{className:"switch-slider"},React.createElement("div",{className:"onoffswitch",onClick:u},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:l,readOnly:!0}),React.createElement("label",{className:"onoffswitch-label",onClick:u}))),i))}function tn({config:e,filterData:t,value:r,onChange:n,blockId:l}){const u=l?`voxel-popup-${l}`:"",i=a.useRef(null),[p,d]=a.useState(!1),m=t.props||{},f=e.displayAs||t.props?.display_as||"popup",R=m.placeholder||t.label||"Order By",v=a.useMemo(()=>{const x=m.choices||{};return Array.isArray(x)?x:Object.entries(x).map(([h,C])=>({key:h,label:C.label||C,placeholder:C.placeholder||C.label||C,icon:C.icon||""}))},[m.choices]),E=t.icon||"",B=a.useCallback(()=>{d(!0)},[]),T=a.useCallback(x=>{n(x),f==="popup"&&d(!1)},[n,f]),L=a.useCallback(()=>{n(null)},[n]),D=typeof r=="string"?r:"",M=!!D,b=v.find(x=>x.key===D),w=b?.placeholder||b?.label||R,_=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},v.map(x=>{const h=D===x.key;return React.createElement("li",{key:x.key,className:h?"ts-selected":""},React.createElement("a",{href:"#",className:"flexify",onClick:C=>{C.preventDefault(),T(x.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:x.key,checked:h,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,x.label),x.icon&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:x.icon}}))))})));if(f==="buttons"){const{style:x,className:h}=ne(e,"ts-form-group");return React.createElement("div",{className:h,style:x},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},v.map(C=>{const U=D===C.key;return React.createElement("li",{key:C.key,className:`flexify${U?" adb-selected":""}`,onClick:()=>T(C.key)},C.placeholder||C.label)})))}if(f==="alt-btn")return React.createElement(React.Fragment,null,v.map(x=>{const h=D===x.key,{style:C,className:U}=ne(e,"ts-form-group");return React.createElement("div",{key:x.key,className:U,style:C},!e.hideLabel&&React.createElement("label",null,x.label),React.createElement("div",{className:`ts-filter${h?" ts-filled":""}`,onClick:()=>T(x.key)},x.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:x.icon}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,x.placeholder||x.label))))}));const{style:y,className:k}=ne(e,"ts-form-group"),S=Ce(e);return React.createElement("div",{className:k,style:y},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${M?"ts-filled":""}`,onClick:B,onMouseDown:x=>x.preventDefault(),role:"button",tabIndex:0},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("div",{className:"ts-filter-text"},w),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:p,target:i,title:"",icon:E,saveLabel:"Save",clearLabel:"Clear",showClear:M,showSave:!1,onSave:()=>d(!1),onClear:L,onClose:()=>d(!1),className:`hide-head ${u}${e.popupCenterPosition?" ts-popup-centered":""}`.trim(),popupStyle:S.style},_()))}function rn({config:e,filterData:t,value:r,onChange:n,blockId:l}){const u=l?`voxel-popup-${l}`:"",[i,p]=a.useState(!1),d=a.useRef(null),m=t.props||{},f=e.displayAs||t.props?.display_as||"popup",R=m.placeholder||t.label||"Status",v=a.useMemo(()=>{const S=m.choices||{};return Array.isArray(S)?S:Object.entries(S).map(([x,h])=>({key:x,label:h.label||h}))},[m.choices]),E=t.icon||"",B=a.useCallback(S=>{n(S),p(!1)},[n]),T=a.useCallback(()=>{p(!0)},[]),L=typeof r=="string"?r:"",D=!!L,M=v.find(S=>S.key===L),b=D&&M?.label||R,w=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},v.map(S=>{const x=L===S.key;return React.createElement("li",{key:S.key},React.createElement("a",{href:"#",className:"flexify",onClick:h=>{h.preventDefault(),B(S.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:S.key,checked:x,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,S.label),E&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}))))})));if(f==="buttons")return React.createElement(React.Fragment,null,v.map(S=>{const x=L===S.key,{style:h,className:C}=ne(e,"ts-form-group");return React.createElement("div",{key:S.key,className:C,style:h},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter${x?" ts-filled":""}`,onClick:()=>n(S.key)},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,S.label))))}));const{style:_,className:y}=ne(e,"ts-form-group"),k=Ce(e);return React.createElement("div",{className:y,style:_},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:d,className:`ts-filter ts-popup-target ${D?"ts-filled":""}`,onClick:T,onMouseDown:S=>S.preventDefault(),role:"button",tabIndex:0},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("div",{className:"ts-filter-text"},b),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:i,target:d,title:"",icon:E,saveLabel:"Save",showSave:!1,showClear:!1,onSave:()=>p(!1),onClose:()=>p(!1),className:`hide-head ${u}${e.popupCenterPosition?" ts-popup-centered":""}`.trim(),popupStyle:k.style},w()))}function nn(e){const{userId:t,skip:r=!1}=e,[n,l]=a.useState(null),[u,i]=a.useState(!1),[p,d]=a.useState(null),m=a.useCallback(async()=>{if(!t||r){l(null);return}i(!0),d(null);try{const f=ze(),R=await fetch(`${f}voxel-fse/v1/search-form/user-data?user_id=${t}`);if(R.ok){const v=await R.json();l({id:v.id,name:v.name,avatar:v.avatar||""})}else l({id:t,name:"Unknown",avatar:""}),d("User not found")}catch(f){console.error("useUserData: Error fetching user data:",f),l({id:t,name:"Unknown",avatar:""}),d(f instanceof Error?f.message:"Failed to fetch user data")}finally{i(!1)}},[t,r]);return a.useEffect(()=>{m()},[m]),{userData:n,isLoading:u,error:p,refetch:m}}function sn({config:e,filterData:t,value:r}){const n=a.useRef(null),l=t.props||{},u=t.icon||"",i=l.user;let p;r!==void 0?p=r:t.value!==null&&t.value!==void 0?p=t.value:p=null;const d=p?Number(p):null,m=d!==null&&!isNaN(d)&&d>0,f=!!i?.name,{userData:R,isLoading:v}=nn({userId:m?d:null,skip:f}),E=f?{name:i.name,avatar:i.avatar||""}:R;if(!m)return null;const B=E?.name||(v?"Loading...":"Unknown"),{style:T,className:L}=ne(e,"ts-form-group");return React.createElement("div",{className:L,style:T},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:n,className:`ts-filter ts-popup-target ts-filled${v?" ts-loading":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:u}}),React.createElement("div",{className:"ts-filter-text"},B)))}function an({config:e,filterData:t,value:r,onChange:n,blockId:l}){const u=l?`voxel-popup-${l}`:"",i=a.useRef(null),p=a.useRef(null),[d,m]=a.useState(!1),[f,R]=a.useState(""),[v,E]=a.useState([]),[B,T]=a.useState(!1),L=t.props||{},D=L.placeholder||t.label||"Related",M=L.post,b=t.icon||"";a.useEffect(()=>{d&&(R(""),E([]),setTimeout(()=>p.current?.focus(),50))},[d]);const w=a.useCallback(()=>{m(!0)},[]),_=a.useCallback(O=>{const Q=O.target.value;R(Q),Q.length>=2?(T(!0),setTimeout(()=>{E([]),T(!1)},300)):E([])},[]),y=a.useCallback((O,Q)=>{n({id:O,title:Q}),m(!1),R("")},[n]),k=a.useCallback(()=>{n(null),R(""),E([])},[n]);let S=null;if(r!==void 0){const O=r;O===null?S=null:typeof O=="number"?S=O:typeof O=="object"&&O?.id&&(S=O.id)}else t.value!==null&&t.value!==void 0&&(S=typeof t.value=="number"?t.value:Number(t.value));const x=S!==null&&!isNaN(S)&&S>0;let h=D;if(x){const O=r;O&&typeof O=="object"&&O.title?h=O.title:M?.title&&(h=M.title)}const{style:C,className:U}=ne(e,"ts-form-group"),X=Ce(e);return React.createElement("div",{className:U,style:C},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${x?"ts-filled":""}`,onClick:w,onMouseDown:O=>O.preventDefault(),role:"button",tabIndex:0},b&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b}}),React.createElement("div",{className:"ts-filter-text"},h),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:d,target:i,title:"",icon:b,saveLabel:"Save",clearLabel:"Clear",showClear:x,showSave:!1,onSave:()=>m(!1),onClear:k,onClose:()=>m(!1),className:`${u}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:X.style},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,Se.search),React.createElement("input",{ref:p,type:"text",className:"inline-input",value:f,onChange:_,placeholder:"Search..."}))),B?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):v.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},v.map(O=>React.createElement("li",{key:O.id},React.createElement("a",{href:"#",className:"flexify",onClick:Q=>{Q.preventDefault(),y(O.id,O.title)}},React.createElement("span",null,O.title)))))):f.length>=2?React.createElement("div",{className:"ts-empty-user-tab"},b&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b}}),React.createElement("p",null,"No results found")):null))}function ut({config:e,filterData:t,value:r,onChange:n}){const[l,u]=a.useState(!1),[i,p]=a.useState(""),[d,m]=a.useState([]),[f,R]=a.useState(!1),v=a.useRef(null),E=t.props||{},B=E.placeholder||t.label||"Following",T=E.user,L=t.icon||"",D=h=>{const C=h.target.value;p(C),C.length>=2?(R(!0),setTimeout(()=>{m([]),R(!1)},300)):m([])},M=(h,C)=>{n({id:h,name:C}),u(!1),p("")},b=h=>{h.preventDefault(),u(!l)};a.useEffect(()=>{const h=C=>{v.current&&!v.current.contains(C.target)&&u(!1)};return l&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[l]);let w=null;if(r!==void 0){const h=r;h===null?w=null:typeof h=="number"?w=h:typeof h=="object"&&h?.id&&(w=h.id)}else t.value!==null&&t.value!==void 0&&(w=typeof t.value=="number"?t.value:Number(t.value));const _=w!==null&&!isNaN(w)&&w>0;let y=B;if(_){const h=r;h&&typeof h=="object"&&h.name?y=h.name:T?.name&&(y=T.name)}const{style:k,className:S}=ne(e,"ts-form-group"),x=Ce(e);return React.createElement("div",{className:S,style:k,ref:v},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter ts-popup-target ${_?"ts-filled":""}`,onClick:b,onMouseDown:h=>h.preventDefault(),role:"button",tabIndex:0},L&&React.createElement("span",{dangerouslySetInnerHTML:{__html:L}}),React.createElement("div",{className:"ts-filter-text"},y),React.createElement("div",{className:"ts-down-icon"})),l&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:x.className,style:x.style},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,Se.search),React.createElement("input",{type:"text",className:"inline-input",value:i,onChange:D,placeholder:"Search..."}))),f?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):d.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},d.map(h=>React.createElement("li",{key:h.id},React.createElement("a",{href:"#",className:"flexify",onClick:C=>{C.preventDefault(),M(h.id,h.name)}},React.createElement("span",null,h.name)))))):i.length>=2?React.createElement("div",{className:"ts-empty-user-list"},React.createElement("span",null,"No results found")):null))))}function ln({config:e,filterData:t,value:r,onChange:n}){const[l,u]=a.useState(!1),[i,p]=a.useState(""),[d,m]=a.useState([]),[f,R]=a.useState(!1),v=a.useRef(null),E=t.props||{},B=E.placeholder||t.label||"Following Post",T=E.post,L=t.icon||"",D=h=>{const C=h.target.value;p(C),C.length>=2?(R(!0),setTimeout(()=>{m([]),R(!1)},300)):m([])},M=(h,C)=>{n({id:h,title:C}),u(!1),p("")},b=h=>{h.preventDefault(),u(!l)};a.useEffect(()=>{const h=C=>{v.current&&!v.current.contains(C.target)&&u(!1)};return l&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[l]);let w=null;if(r!==void 0){const h=r;h===null?w=null:typeof h=="number"?w=h:typeof h=="object"&&h?.id&&(w=h.id)}else t.value!==null&&t.value!==void 0&&(w=typeof t.value=="number"?t.value:Number(t.value));const _=w!==null&&!isNaN(w)&&w>0;let y=B;if(_){const h=r;h&&typeof h=="object"&&h.title?y=h.title:T?.title&&(y=T.title)}const{style:k,className:S}=ne(e,"ts-form-group"),x=Ce(e);return React.createElement("div",{className:S,style:k,ref:v},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter ts-popup-target ${_?"ts-filled":""}`,onClick:b,onMouseDown:h=>h.preventDefault(),role:"button",tabIndex:0},L&&React.createElement("span",{dangerouslySetInnerHTML:{__html:L}}),React.createElement("div",{className:"ts-filter-text"},y),React.createElement("div",{className:"ts-down-icon"})),l&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:x.className,style:x.style},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,Se.search),React.createElement("input",{type:"text",className:"inline-input",value:i,onChange:D,placeholder:"Search posts..."}))),f?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):d.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},d.map(h=>React.createElement("li",{key:h.id},React.createElement("a",{href:"#",className:"flexify",onClick:C=>{C.preventDefault(),M(h.id,h.title)}},React.createElement("span",null,h.title)))))):i.length>=2?React.createElement("div",{className:"ts-empty-user-list"},React.createElement("span",null,"No posts found")):null))))}function on({config:e,filterData:t,value:r,onChange:n}){const l=r===!0||r==="true"||r==="1",u=d=>{d.preventDefault(),n(!l)},{style:i,className:p}=ne(e,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:p,style:i},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("label",{className:`onoffswitch ts-${l?"on":"off"}`,onClick:u},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:l,readOnly:!0}),React.createElement("span",{className:"onoffswitch-trigger"})))}function cn({config:e,filterData:t}){const r=t.props?.description||"",{style:n,className:l}=ne(e,"ts-form-group ui-heading");return React.createElement("div",{className:l,style:n},React.createElement("label",null,e.label||t.label,r&&React.createElement("small",null,r)))}function un({postTypes:e,currentPostType:t,onChange:r,blockId:n,style:l}){const u=n?`voxel-popup-${n}`:"",[i,p]=a.useState(!1),d=a.useRef(null),m=a.useCallback(L=>{r(L),p(!1)},[r]),f=a.useCallback(()=>{p(!0)},[]),R=e.find(L=>L.key===t),v=R?.label||"Select type",E=!!t,B=R?.icon||"",T=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},e.map(L=>{const D=t===L.key;return React.createElement("li",{key:L.key},React.createElement("a",{href:"#",className:"flexify",onClick:M=>{M.preventDefault(),m(L.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:D,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,L.label),React.createElement("div",{className:"ts-term-icon ts-pull-right"},L.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:L.icon}}))))})));return React.createElement("div",{className:"ts-form-group choose-cpt-filter",style:l},React.createElement("label",null,"Post type"),React.createElement("div",{ref:d,className:`ts-filter ts-popup-target ${E?"ts-filled":""}`,onClick:f,onMouseDown:L=>L.preventDefault(),role:"button",tabIndex:0},B&&React.createElement("span",{dangerouslySetInnerHTML:{__html:B}}),React.createElement("div",{className:"ts-filter-text"},v),React.createElement("div",{className:"ts-down-icon"})),React.createElement(Ee,{isOpen:i,target:d,title:"",icon:B,saveLabel:"Save",showSave:!1,showClear:!1,onSave:()=>p(!1),onClose:()=>p(!1),className:`hide-head ${u}`.trim()},T()))}const dn={"common:is_empty":(e,t)=>t==null||t==="","common:is_not_empty":(e,t)=>t!=null&&t!=="","text:equals":(e,t)=>t===e.value,"text:not_equals":(e,t)=>t!==e.value,"text:contains":(e,t)=>typeof t!="string"||!e.value?!1:new RegExp(e.value,"i").test(t),"taxonomy:contains":(e,t)=>typeof t!="string"||!e.value?!1:t.split(",").includes(e.value),"taxonomy:not_contains":(e,t)=>typeof t!="string"||!e.value?!0:!t.split(",").includes(e.value),"number:equals":(e,t)=>{const r=parseFloat(String(t)),n=parseFloat(e.value||"0");return r===n},"number:not_equals":(e,t)=>{const r=parseFloat(String(t)),n=parseFloat(e.value||"0");return r!==n},"number:gt":(e,t)=>{const r=parseFloat(String(t)),n=parseFloat(e.value||"0");return r>n},"number:gte":(e,t)=>{const r=parseFloat(String(t)),n=parseFloat(e.value||"0");return r>=n},"number:lt":(e,t)=>{const r=parseFloat(String(t)),n=parseFloat(e.value||"0");return r<n},"number:lte":(e,t)=>{const r=parseFloat(String(t)),n=parseFloat(e.value||"0");return r<=n}};function fn(e,t,r){const n=dn[e.type];if(!n)return console.warn(`[filterConditions] Unknown condition type: ${e.type}`),!1;let l=t;return r==="order-by"&&typeof t=="string"&&t.length>0&&(l=t.split("(")[0]),n(e,l)}function pn(e,t="show",r,n){if(!e||e.length===0)return!0;let l=!1;return e.forEach(u=>{if(!u.length)return;let i=!0;u.forEach(p=>{const d=r[p.source],f=n[p.source]?.type;fn(p,d,f)||(i=!1)}),i&&(l=!0)}),t==="hide"?!l:l}function mn(e,t,r){return pn(e.conditions,e.conditions_behavior||"show",t,r)}function hn(){const e=()=>{if(typeof window>"u")return"desktop";const n=window.innerWidth;return n<=767?"mobile":n<=1024?"tablet":"desktop"},[t,r]=a.useState(e);return a.useEffect(()=>{const n=()=>{r(e())};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function vn({attributes:e,postTypes:t,context:r,editorDeviceType:n,onSubmit:l,onPostTypeChange:u,onFilterChange:i}){a.useRef(null);const p=a.useRef(null),{state:d,setCurrentPostType:m,setFilterValue:f,togglePortal:R,submit:v,clearAll:E,narrowedValues:B,narrowingFilters:T}=Xt({attributes:e,postTypes:t,context:r,onSubmit:l,onPostTypeChange:u,onFilterChange:i}),[L,D]=a.useState(""),[M,b]=a.useState("");a.useEffect(()=>{const g=async()=>{const F=e.searchButtonText??"";if(tt(F)){const Y=Et(F),re=await bt(Y);D(re)}else D(F)},V=async()=>{const F=e.resetButtonText??"Reset";if(tt(F)){const Y=Et(F),re=await bt(Y);b(re)}else b(F)};g(),V()},[e.searchButtonText,e.resetButtonText]),a.useEffect(()=>{if(!d.portalActive)return;const g=V=>{V.key==="Escape"&&R()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[d.portalActive,R]),a.useEffect(()=>{if(!d.portalActive)return;const g=F=>{const Y=F.target;p.current?.contains(Y)||r==="editor"&&(Y.closest(".interface-interface-skeleton__sidebar")||Y.closest(".edit-post-sidebar")||Y.closest(".block-editor-block-inspector")||Y.closest(".components-popover")||Y.closest(".components-modal"))||R()},V=requestAnimationFrame(()=>{document.addEventListener("mousedown",g)});return()=>{cancelAnimationFrame(V),document.removeEventListener("mousedown",g)}},[d.portalActive,R,r]),a.useEffect(()=>{if(r!=="frontend")return;const g=V=>{const F=V;F.detail?.searchFormId&&F.detail.searchFormId!==e.blockId||E()};return window.addEventListener("voxel-search-clear",g),()=>window.removeEventListener("voxel-search-clear",g)},[r,e.blockId,E]);const w=t.find(g=>g.key===d.currentPostType),_=e.filterLists?.[d.currentPostType]||[],y=g=>{v()},k=(g=!1)=>{E(g)},S={};w?.filters?.forEach(g=>{S[g.key]=g});const x=g=>{if(!(r==="frontend"?tr(g):!0))return null;const F=g;if(r==="frontend"&&F.conditions&&!mn(F,d.filterValues,S))return null;const Y=w?.filters?.find(he=>he.key===g.filterKey);if(!Y)return null;const re={...Y,value:g.defaultValueEnabled&&g.defaultValue!==void 0?g.defaultValue:Y.value},ee={config:g,filterData:re,value:d.filterValues[g.filterKey],onChange:he=>f(g.filterKey,he),narrowedValues:B,isNarrowing:T,blockId:e.blockId,context:r};switch(Y.type){case"keywords":return React.createElement(nr,{key:g.id,...ee});case"range":return React.createElement(Wr,{key:g.id,...ee});case"stepper":return React.createElement(jr,{key:g.id,...ee});case"terms":return React.createElement(Kr,{key:g.id,...ee});case"location":return React.createElement(Jr,{key:g.id,...ee});case"availability":return React.createElement(Gr,{key:g.id,...ee});case"date":return React.createElement(Qr,{key:g.id,...ee});case"recurring-date":return React.createElement($r,{key:g.id,...ee});case"open-now":return React.createElement(en,{key:g.id,...ee});case"order-by":return React.createElement(tn,{key:g.id,...ee});case"post-status":return React.createElement(rn,{key:g.id,...ee});case"user":return React.createElement(sn,{key:g.id,...ee});case"relations":return React.createElement(an,{key:g.id,...ee});case"following":return React.createElement(ut,{key:g.id,...ee});case"followed-by":return React.createElement(ut,{key:g.id,...ee});case"following-user":return React.createElement(ut,{key:g.id,...ee});case"following-post":return React.createElement(ln,{key:g.id,...ee});case"switcher":return React.createElement(on,{key:g.id,...ee});case"ui-heading":return React.createElement(cn,{key:g.id,...ee});default:return null}},h=(g=!0)=>React.createElement("div",{className:"ts-filter-wrapper flexify"},e.showPostTypeFilter&&t.length>1&&React.createElement(un,{postTypes:t,currentPostType:d.currentPostType,onChange:m,style:H()}),_.map(V=>x(V)),g&&e.showSearchButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-submit",id:"sf_submit",style:oe("search")},React.createElement("button",{type:"button",onClick:()=>y(),className:`ts-btn ts-btn-2 ts-btn-large ts-search-btn ${d.loading&&!d.resetting?"ts-loading-btn":""}`},d.loading&&!d.resetting&&React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{className:"ts-loader"})),nt(e.searchButtonIcon,Se.search),L&&L)),g&&e.showResetButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-reset",style:oe("reset")},React.createElement("a",{href:"#",onClick:V=>{V.preventDefault(),k(!1)},className:"ts-filter",role:"button"},nt(e.resetButtonIcon,Se.reload),M&&React.createElement("div",{className:"ts-filter-text"},M)))),C=hn(),U=r==="editor"&&n?n:C,X=U==="desktop"&&(e.mfSwitcherDesktop??!1)||U==="tablet"&&(e.mfSwitcherTablet??!1)||U==="mobile"&&(e.mfSwitcherMobile??!1),O=()=>U==="desktop"?e.mfSwitcherDesktopDefault??"feed":U==="tablet"?e.mfSwitcherTabletDefault??"feed":e.mfSwitcherMobileDefault??"feed",[Q,z]=a.useState(O);a.useEffect(()=>{z(O())},[U,e.mfSwitcherDesktopDefault,e.mfSwitcherTabletDefault,e.mfSwitcherMobileDefault]);const J=()=>{z("feed");const g=U,V=document.getElementById(e.postToMapId||""),F=document.getElementById(e.postToFeedId||"");V&&V.classList.add(`vx-hidden-${g}`),F&&F.classList.remove(`vx-hidden-${g}`)},j=()=>{z("map");const g=U,V=document.getElementById(e.postToMapId||""),F=document.getElementById(e.postToFeedId||"");V&&V.classList.remove(`vx-hidden-${g}`),F&&F.classList.add(`vx-hidden-${g}`)},G=()=>{if(!X||r==="editor")return null;const g=[e.mfSwitcherDesktop?"":"vx-hidden-desktop",e.mfSwitcherTablet?"":"vx-hidden-tablet",e.mfSwitcherMobile?"":"vx-hidden-mobile"].filter(Boolean).join(" ");return et.createPortal(React.createElement("div",{className:`ts-switcher-btn ${g}`},React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ${Q==="feed"?`vx-hidden-${U}`:""}`,onClick:V=>{V.preventDefault(),J()},role:"button"},Se.grid,"List view"),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ${Q==="map"?`vx-hidden-${U}`:""}`,onClick:V=>{V.preventDefault(),j()},role:"button"},Se.marker,"Map view")),document.body)},de=U==="desktop"&&(e.formToggleDesktop??!1)||U==="tablet"&&(e.formToggleTablet??!0)||U==="mobile"&&(e.formToggleMobile??!0),fe=de,K=!de,se={postTypes:t.map(g=>({key:g.key,label:g.label,filters:g.filters})),currentPostType:d.currentPostType,filterLists:e.filterLists||{},portalMode:e.portalMode||{desktop:!1,tablet:!1,mobile:!1},showPostTypeFilter:e.showPostTypeFilter??!0,showSearchButton:e.showSearchButton??!0,showResetButton:e.showResetButton??!1,searchButtonText:e.searchButtonText||"",resetButtonText:e.resetButtonText||"",formToggleDesktop:e.formToggleDesktop??!1,formToggleTablet:e.formToggleTablet??!0,formToggleMobile:e.formToggleMobile??!0,searchButtonWidth:e.searchButtonWidth,searchButtonWidth_tablet:e.searchButtonWidth_tablet,searchButtonWidth_mobile:e.searchButtonWidth_mobile,searchButtonWidthUnit:e.searchButtonWidthUnit||"%",resetButtonWidth:e.resetButtonWidth,resetButtonWidth_tablet:e.resetButtonWidth_tablet,resetButtonWidth_mobile:e.resetButtonWidth_mobile,resetButtonWidthUnit:e.resetButtonWidthUnit||"%"},oe=g=>{const V=g==="search"?e.searchButtonWidthUnit||"%":e.resetButtonWidthUnit||"%";let F;return g==="search"?U==="mobile"?F=e.searchButtonWidth_mobile??e.searchButtonWidth_tablet??e.searchButtonWidth:U==="tablet"?F=e.searchButtonWidth_tablet??e.searchButtonWidth:F=e.searchButtonWidth:U==="mobile"?F=e.resetButtonWidth_mobile??e.resetButtonWidth_tablet??e.resetButtonWidth:U==="tablet"?F=e.resetButtonWidth_tablet??e.resetButtonWidth:F=e.resetButtonWidth,F!==void 0?{width:`${F}${V}`,flexGrow:0,flexShrink:0}:{}},H=()=>{let g;return U==="mobile"?g=e.postTypeFilterWidth_mobile??e.postTypeFilterWidth_tablet??e.postTypeFilterWidth:U==="tablet"?g=e.postTypeFilterWidth_tablet??e.postTypeFilterWidth:g=e.postTypeFilterWidth,g!==void 0?{width:`${g}%`,flexGrow:0,flexShrink:0}:{}};return React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form ts-search-widget","data-v-app":""},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(se)}}),fe&&React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("a",{href:"#",onClick:g=>{g.preventDefault(),R()},onMouseDown:g=>g.preventDefault(),className:`ts-filter-toggle ts-btn ts-btn-1 ${d.activeFilterCount>0?"ts-filled":""}`,role:"button","aria-expanded":d.portalActive},Se.filterslider,React.createElement("div",{className:"ts-toggle-text"},"Filter results"),d.activeFilterCount>0&&React.createElement("span",{className:"ts-filter-count"},d.activeFilterCount))),React.createElement("form",{method:"GET",onSubmit:g=>(g.preventDefault(),!1)},K&&React.createElement("div",{className:"ts-inline-filters"},h())),React.createElement("div",{className:"hidden"},React.createElement("div",{className:"ts-search-portal"}))),d.portalActive&&et.createPortal(React.createElement("div",{className:`ts-search-portal vx-popup elementor voxel-fse-search-form-${e.blockId}`,"data-voxel-id":e.blockId},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form ts-search-widget no-render elementor-element"},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:p},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},h())),React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:g=>{g.preventDefault(),R()},className:"ts-icon-btn",role:"button","aria-label":"Close"},nt(e.closeIcon,Se.close))),React.createElement("li",{className:"flexify hide-d"},React.createElement("a",{href:"#",onClick:g=>{g.preventDefault(),k(!0)},className:"ts-icon-btn",role:"button"},Se.reload)),React.createElement("li",{className:"flexify hide-m"},React.createElement("a",{href:"#",onClick:g=>{g.preventDefault(),k(!0)},className:"ts-btn ts-btn-1",role:"button"},"Clear")),React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:g=>{g.preventDefault(),y(),R()},className:"ts-btn ts-btn-2",role:"button"},"Search"))))))))),document.body),G())}function gn(){return ze()}async function yn(e){if(!e||e.length===0)return[];const r=`${gn()}voxel-fse/v1/search-form/frontend-config?post_types=${encodeURIComponent(e.join(","))}`;try{const n=await fetch(r,{credentials:"same-origin",headers:{"X-WP-Nonce":window.wpApiSettings?.nonce||""}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to fetch post types:",n),[]}}function En(e){const t=e.querySelector("script.vxconfig");if(!t?.textContent)return null;try{const r=JSON.parse(t.textContent),n=Array.isArray(r.postTypes)?r.postTypes.map(l=>l.key):[];return{blockId:e.id||"",postTypes:n,showPostTypeFilter:r.showPostTypeFilter??!0,filterLists:r.filterLists||{},onSubmit:"refresh",postToFeedId:"",postToMapId:"",searchOn:"submit",showSearchButton:r.showSearchButton??!0,searchButtonText:r.searchButtonText||"Search",searchButtonIcon:{library:"",value:""},searchButtonWidth:r.searchButtonWidth,searchButtonWidth_tablet:r.searchButtonWidth_tablet,searchButtonWidth_mobile:r.searchButtonWidth_mobile,searchButtonWidthUnit:r.searchButtonWidthUnit||"%",showResetButton:r.showResetButton??!1,resetButtonText:r.resetButtonText||"Reset",resetButtonIcon:{library:"",value:""},resetButtonWidth:r.resetButtonWidth,resetButtonWidth_tablet:r.resetButtonWidth_tablet,resetButtonWidth_mobile:r.resetButtonWidth_mobile,resetButtonWidthUnit:r.resetButtonWidthUnit||"%",voxelIntegration:!0,adaptiveFiltering:!1,portalMode:r.portalMode||{desktop:!1,tablet:!0,mobile:!0},formToggleDesktop:r.formToggleDesktop??!1,formToggleTablet:r.formToggleTablet??!0,formToggleMobile:r.formToggleMobile??!0,toggleText:"Filter results",toggleIcon:{library:"",value:""}}}catch(r){return console.error("Failed to parse search form vxconfig:",r),null}}function bn({attributes:e}){const[t,r]=a.useState([]),[n,l]=a.useState(!0),[u,i]=a.useState(null);if(a.useEffect(()=>{let m=!1;async function f(){l(!0),i(null);try{const R=await yn(e.postTypes||[]);m||r(R)}catch(R){m||i(R instanceof Error?R.message:"Failed to load")}finally{m||l(!1)}}return f(),()=>{m=!0}},[e.postTypes]),n)return React.createElement("div",{className:"ts-form ts-search-widget"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"}))));if(u)return React.createElement("div",{className:"ts-form ts-search-widget voxel-fse-error"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("span",null,"Error loading search form")));const p=t.filter(m=>e.postTypes?.includes(m.key)),d=m=>{console.log("Search form submitted (editor preview):",m)};return React.createElement(vn,{attributes:e,postTypes:p,context:"frontend",onSubmit:d})}const dt=new Set;function wn(e){if(!e)return;e.querySelectorAll(".ts-search-widget, .voxel-fse-search-form").forEach(r=>{if(r.dataset.hydrated==="true")return;const n=En(r);n&&(r.innerHTML="",r.dataset.hydrated="true",wp.element.render(React.createElement(bn,{attributes:n}),r),dt.add(r))})}function Sn(e){if(!e)return;e.querySelectorAll(".ts-search-widget, .voxel-fse-search-form").forEach(r=>{dt.has(r)&&(wp.element.unmountComponentAtNode(r),dt.delete(r))})}function Cn({attributes:e,templateContent:t,isLoading:r,error:n,context:l}){const u=a.useRef(null),i=["ts-print-template-content"];e.hideDesktop&&i.push("hide-desktop"),e.hideTablet&&i.push("hide-tablet"),e.hideMobile&&i.push("hide-mobile"),e.customClasses&&i.push(e.customClasses);const p={templateId:e.templateId||"",hideDesktop:e.hideDesktop??!1,hideTablet:e.hideTablet??!1,hideMobile:e.hideMobile??!1,customClasses:e.customClasses||""};return a.useEffect(()=>{if(!t||!u.current)return;const d=setTimeout(()=>{wn(u.current)},50);return()=>{clearTimeout(d),Sn(u.current)}},[t]),r?React.createElement("div",{className:i.join(" ")},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(p)}}),React.createElement(Ae,null)):n?React.createElement("div",{className:i.join(" ")},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(p)}}),React.createElement(Ae,null)):e.templateId?l==="editor"&&typeof e.templateId=="string"&&e.templateId.startsWith("@tags()")?React.createElement("div",{className:i.join(" ")},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(p)}}),React.createElement(Ae,null)):React.createElement("div",{className:i.join(" "),ref:u},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(p)}}),t?React.createElement("div",{className:"ts-print-template-rendered",dangerouslySetInnerHTML:{__html:t}}):React.createElement(Ae,null)):React.createElement("div",{className:i.join(" ")},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(p)}}),React.createElement(Ae,null))}function xn(e){const t=(n,l)=>typeof n=="string"?n:typeof n=="number"?String(n):l,r=(n,l)=>typeof n=="boolean"?n:n==="true"||n==="1"||n===1||n==="yes"?!0:n==="false"||n==="0"||n===0||n==="no"||n===""?!1:l;return{templateId:t(e.templateId??e.template_id??e.ts_template_id,""),hideDesktop:r(e.hideDesktop??e.hide_desktop,!1),hideTablet:r(e.hideTablet??e.hide_tablet,!1),hideMobile:r(e.hideMobile??e.hide_mobile,!1),customClasses:t(e.customClasses??e.custom_classes,"")}}function Rn(){return ze()}function Nn(e){const t=e.querySelector("script.vxconfig");if(t&&t.textContent)try{const r=JSON.parse(t.textContent);return xn(r)}catch(r){console.error("Failed to parse vxconfig:",r)}return null}async function kn(e){if(!e.startsWith("@tags()"))return e;const t=e.match(/@tags\(\)(.*?)@endtags\(\)/s);if(!t)return e;const r=t[1].trim();if(r==="@post(id)"){const l=document.body.className.match(/postid-(\d+)/);if(l)return l[1];const u=window.location.pathname.match(/\/(\d+)\/?$/);if(u)return u[1]}return console.warn("Dynamic tag not fully supported:",r),""}async function Tn(e){const t=Rn();let r=e;if(e.startsWith("@tags()")&&(r=await kn(e),!r))return console.warn("Could not resolve dynamic template ID"),null;if(r.includes("//"))return console.warn("FSE templates require authentication and cannot be fetched on frontend:",r),null;const n=parseInt(r,10);if(isNaN(n)||n<=0)return console.warn("Invalid template ID:",r),null;try{const l=await fetch(`${t}wp/v2/pages/${n}`);if(l.ok){const u=await l.json();return u.content?.rendered||u.content?.raw||null}}catch{}try{const l=await fetch(`${t}wp/v2/blocks/${n}`);if(l.ok){const u=await l.json();return u.content?.rendered||u.content?.raw||null}}catch{}try{const l=await fetch(`${t}wp/v2/posts/${n}`);if(l.ok){const u=await l.json();return u.content?.rendered||u.content?.raw||null}}catch{}return console.error("Template not found in any source:",n),null}function Ln({config:e}){const[t,r]=a.useState(null),[n,l]=a.useState(!0),[u,i]=a.useState(null);a.useEffect(()=>{let d=!1;async function m(){if(!e.templateId){l(!1);return}l(!0),i(null);try{const f=await Tn(e.templateId);d||(f!==null?r(f):i("Template not found"))}catch(f){d||i(f instanceof Error?f.message:"Failed to load template")}finally{d||l(!1)}}return m(),()=>{d=!0}},[e.templateId]);const p={blockId:"",templateId:e.templateId,hideDesktop:e.hideDesktop,hideTablet:e.hideTablet,hideMobile:e.hideMobile,customClasses:e.customClasses};return React.createElement(Cn,{attributes:p,templateContent:t,isLoading:n,error:u,context:"frontend"})}function Ye(){document.querySelectorAll(".voxel-fse-print-template").forEach(t=>{if(t.dataset.hydrated==="true")return;const r=Nn(t);if(!r){console.error("No vxconfig found for print template block");return}t.dataset.hydrated="true",t.innerHTML="",Zt.createRoot(t).render(React.createElement(Ln,{config:r}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ye):Ye(),window.addEventListener("turbo:load",Ye),window.addEventListener("pjax:complete",Ye)})(ReactDOM,React,ReactDOM,wp.apiFetch);
