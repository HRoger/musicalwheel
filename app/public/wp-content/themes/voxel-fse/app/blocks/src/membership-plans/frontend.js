(function(ee,x){"use strict";var j,T,S,O;j={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},T=["(","?"],S={")":["("],":":["?","?:"]},O=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;function te(e){for(var t=[],r=[],n,i,a,l;n=e.match(O);){for(i=n[0],a=e.substr(0,n.index).trim(),a&&t.push(a);l=r.pop();){if(S[i]){if(S[i][0]===l){i=S[i][1]||i;break}}else if(T.indexOf(l)>=0||j[l]<j[i]){r.push(l);break}t.push(l)}S[i]||r.push(i),e=e.substr(n.index+i.length)}return e=e.trim(),e&&t.push(e),t.concat(r.reverse())}var ne={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,r){if(e)throw t;return r}};function re(e,t){var r=[],n,i,a,l,u,m;for(n=0;n<e.length;n++){if(u=e[n],l=ne[u],l){for(i=l.length,a=Array(i);i--;)a[i]=r.pop();try{m=l.apply(null,a)}catch(d){return d}}else t.hasOwnProperty(u)?m=t[u]:m=+u;r.push(m)}return r[0]}function ie(e){var t=te(e);return function(r){return re(t,r)}}function le(e){var t=ie(e);return function(r){return+t({n:r})}}var N={contextDelimiter:"",onMissingKey:null};function se(e){var t,r,n;for(t=e.split(";"),r=0;r<t.length;r++)if(n=t[r].trim(),n.indexOf("plural=")===0)return n.substr(7)}function D(e,t){var r;this.data=e,this.pluralForms={},this.options={};for(r in N)this.options[r]=t!==void 0&&r in t?t[r]:N[r]}D.prototype.getPluralForm=function(e,t){var r=this.pluralForms[e],n,i,a;return r||(n=this.data[e][""],a=n["Plural-Forms"]||n["plural-forms"]||n.plural_forms,typeof a!="function"&&(i=se(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),a=le(i)),r=this.pluralForms[e]=a),r(t)},D.prototype.dcnpgettext=function(e,t,r,n,i){var a,l,u;return i===void 0?a=0:a=this.getPluralForm(e,i),l=r,t&&(l=t+this.options.contextDelimiter+r),u=this.data[e][l],u&&u[a]?u[a]:(this.options.onMissingKey&&this.options.onMissingKey(r,e),a===0?r:n)};var B={"":{plural_forms(e){return e===1?0:1}}},oe=/^i18n\.(n?gettext|has_translation)(_|$)/,ae=(e,t,r)=>{const n=new D({}),i=new Set,a=()=>{i.forEach(s=>s())},l=s=>(i.add(s),()=>i.delete(s)),u=(s="default")=>n.data[s],m=(s,f="default")=>{n.data[f]={...n.data[f],...s},n.data[f][""]={...B[""],...n.data[f]?.[""]},delete n.pluralForms[f]},d=(s,f)=>{m(s,f),a()},h=(s,f="default")=>{n.data[f]={...n.data[f],...s,"":{...B[""],...n.data[f]?.[""],...s?.[""]}},delete n.pluralForms[f],a()},_=(s,f)=>{n.data={},n.pluralForms={},d(s,f)},A=(s="default",f,p,w,b)=>(n.data[s]||m(void 0,s),n.dcnpgettext(s,f,p,w,b)),g=s=>s||"default",R=(s,f)=>{let p=A(f,void 0,s);return r?(p=r.applyFilters("i18n.gettext",p,s,f),r.applyFilters("i18n.gettext_"+g(f),p,s,f)):p},c=(s,f,p)=>{let w=A(p,f,s);return r?(w=r.applyFilters("i18n.gettext_with_context",w,s,f,p),r.applyFilters("i18n.gettext_with_context_"+g(p),w,s,f,p)):w},o=(s,f,p,w)=>{let b=A(w,void 0,s,f,p);return r?(b=r.applyFilters("i18n.ngettext",b,s,f,p,w),r.applyFilters("i18n.ngettext_"+g(w),b,s,f,p,w)):b},E=(s,f,p,w,b)=>{let C=A(b,w,s,f,p);return r?(C=r.applyFilters("i18n.ngettext_with_context",C,s,f,p,w,b),r.applyFilters("i18n.ngettext_with_context_"+g(b),C,s,f,p,w,b)):C},F=()=>c("ltr","text direction")==="rtl",y=(s,f,p)=>{const w=f?f+""+s:s;let b=!!n.data?.[p??"default"]?.[w];return r&&(b=r.applyFilters("i18n.has_translation",b,s,f,p),b=r.applyFilters("i18n.has_translation_"+g(p),b,s,f,p)),b};if(r){const s=f=>{oe.test(f)&&a()};r.addAction("hookAdded","core/i18n",s),r.addAction("hookRemoved","core/i18n",s)}return{getLocaleData:u,setLocaleData:d,addLocaleData:h,resetLocaleData:_,subscribe:l,__:R,_x:c,_n:o,_nx:E,isRTL:F,hasTranslation:y}};function ce(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var V=ce;function ue(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var M=ue;function de(e,t){return function(n,i,a,l=10){const u=e[t];if(!M(n)||!V(i))return;if(typeof a!="function"){console.error("The hook callback must be a function.");return}if(typeof l!="number"){console.error("If specified, the hook priority must be a number.");return}const m={callback:a,priority:l,namespace:i};if(u[n]){const d=u[n].handlers;let h;for(h=d.length;h>0&&!(l>=d[h-1].priority);h--);h===d.length?d[h]=m:d.splice(h,0,m),u.__current.forEach(_=>{_.name===n&&_.currentIndex>=h&&_.currentIndex++})}else u[n]={handlers:[m],runs:0};n!=="hookAdded"&&e.doAction("hookAdded",n,i,a,l)}}var z=de;function fe(e,t,r=!1){return function(i,a){const l=e[t];if(!M(i)||!r&&!V(a))return;if(!l[i])return 0;let u=0;if(r)u=l[i].handlers.length,l[i]={runs:l[i].runs,handlers:[]};else{const m=l[i].handlers;for(let d=m.length-1;d>=0;d--)m[d].namespace===a&&(m.splice(d,1),u++,l.__current.forEach(h=>{h.name===i&&h.currentIndex>=d&&h.currentIndex--}))}return i!=="hookRemoved"&&e.doAction("hookRemoved",i,a),u}}var I=fe;function pe(e,t){return function(n,i){const a=e[t];return typeof i<"u"?n in a&&a[n].handlers.some(l=>l.namespace===i):n in a}}var J=pe;function me(e,t,r,n){return function(a,...l){const u=e[t];u[a]||(u[a]={handlers:[],runs:0}),u[a].runs++;const m=u[a].handlers;if(!m||!m.length)return r?l[0]:void 0;const d={name:a,currentIndex:0};async function h(){try{u.__current.add(d);let A=r?l[0]:void 0;for(;d.currentIndex<m.length;)A=await m[d.currentIndex].callback.apply(null,l),r&&(l[0]=A),d.currentIndex++;return r?A:void 0}finally{u.__current.delete(d)}}function _(){try{u.__current.add(d);let A=r?l[0]:void 0;for(;d.currentIndex<m.length;)A=m[d.currentIndex].callback.apply(null,l),r&&(l[0]=A),d.currentIndex++;return r?A:void 0}finally{u.__current.delete(d)}}return(n?h:_)()}}var P=me;function ye(e,t){return function(){const n=e[t];return Array.from(n.__current).at(-1)?.name??null}}var K=ye;function he(e,t){return function(n){const i=e[t];return typeof n>"u"?i.__current.size>0:Array.from(i.__current).some(a=>a.name===n)}}var U=he;function ge(e,t){return function(n){const i=e[t];if(M(n))return i[n]&&i[n].runs?i[n].runs:0}}var W=ge,_e=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=z(this,"actions"),this.addFilter=z(this,"filters"),this.removeAction=I(this,"actions"),this.removeFilter=I(this,"filters"),this.hasAction=J(this,"actions"),this.hasFilter=J(this,"filters"),this.removeAllActions=I(this,"actions",!0),this.removeAllFilters=I(this,"filters",!0),this.doAction=P(this,"actions",!1,!1),this.doActionAsync=P(this,"actions",!1,!0),this.applyFilters=P(this,"filters",!0,!1),this.applyFiltersAsync=P(this,"filters",!0,!0),this.currentAction=K(this,"actions"),this.currentFilter=K(this,"filters"),this.doingAction=U(this,"actions"),this.doingFilter=U(this,"filters"),this.didAction=W(this,"actions"),this.didFilter=W(this,"filters")}};function be(){return new _e}var ve=be,Z=ve(),{addAction:He,addFilter:je,removeAction:De,removeFilter:Me,hasAction:Ge,hasFilter:Te,removeAllActions:Oe,removeAllFilters:Ne,doAction:Be,doActionAsync:Ve,applyFilters:ze,applyFiltersAsync:Je,currentAction:Ke,currentFilter:Ue,doingAction:We,doingFilter:Ze,didAction:qe,didFilter:Qe,actions:$e,filters:Xe}=Z,v=ae(void 0,void 0,Z);v.getLocaleData.bind(v),v.setLocaleData.bind(v),v.resetLocaleData.bind(v),v.subscribe.bind(v);var k=v.__.bind(v);v._x.bind(v),v._n.bind(v),v._nx.bind(v),v.isRTL.bind(v),v.hasTranslation.bind(v);const q={library:"",value:""},we={image:null,features:[]};function L({text:e,icon:t="î —",className:r="",style:n={}}){return typeof window<"u"&&!window.wp?.blockEditor?null:x.createElement("div",{className:`voxel-empty-placeholder ${r}`,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e?"8px":"0",background:"rgb(213 216 220 / 80%)",borderRadius:"0",color:"#666",fontSize:"13px",height:"45px",width:"100%",...n}},x.createElement("span",{className:"placeholder-icon",style:{fontFamily:"eicons",fontSize:"24px",opacity:.3,lineHeight:1,fontStyle:"normal"}},t),e&&x.createElement("span",{className:"placeholder-text",style:{opacity:.6}},e))}function Q(e,t,r){if(!e||!e.library||!e.value)return t??null;const{library:n,value:i}=e;return n==="icon"?React.createElement("i",{className:i,"aria-hidden":"true"}):n==="svg"?React.createElement("img",{src:i,alt:"",className:r,style:{width:"1em",height:"1em"}}):t??null}const $={checkmark:React.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),chevronRightSmall:React.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M9 18l6-6-6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))};function Ae(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!t.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}let X=!1;function G(){if(X)return!0;if(!window.Voxel?.mixins?.base)return!1;const e=window.Voxel.mixins.base;return e.mounted&&!e._originalMounted?(e._originalMounted=e.mounted,e.mounted=function(){try{const t=this.$root?.$options?.el||this.$el;if(t){const r=t.closest?.(".elementor-element");if(r)this.widget_id=r.dataset?.id||"";else{const i=t.closest?.("[data-block-id]");this.widget_id=i&&i.dataset?.blockId||""}const n=t.closest?.(".elementor");if(n)this.post_id=n.dataset?.elementorId||"";else{const i=document.body.className.match(/postid-(\d+)/);this.post_id=i?i[1]:""}}e._originalMounted&&e._originalMounted!==e.mounted&&e._originalMounted.call(this)}catch(t){console.warn("[VoxelShim] Error in patched mounted():",t),this.widget_id="",this.post_id=""}},X=!0,console.log("[VoxelShim] Successfully patched Voxel.mixins.base.mounted"),!0):!1}function Y(){if(G())return;let e=0;const t=50,n=setInterval(()=>{if(e++,G()){clearInterval(n);return}e>=t&&(clearInterval(n),console.warn("[VoxelShim] Voxel.mixins.base not found after 5 seconds"))},100);typeof document<"u"&&document.addEventListener("voxel:ready",()=>{G(),clearInterval(n)},{once:!0})}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Y,{once:!0}):Y());const xe="voxel:direct_cart";function Ee(e,t){e.preventDefault();const r=e.currentTarget,n=t.current;if(!n){console.error("[MembershipPlans] Plan container not found");return}n.classList.add("vx-pending");const i=r.href,a=window.jQuery;if(!a){console.error("[MembershipPlans] jQuery not available"),n.classList.remove("vx-pending");return}a.get(i).always(function(l){if(l.success)l.type==="dialog"&&l.dialog?(l.dialog.actions.forEach(function(u){(u.confirm_switch||u.confirm_cancel)&&(u.onClick=function(m){m.preventDefault(),n.classList.add("vx-pending"),u.link&&a.get(u.link).always(function(d){if(d.success)d.redirect_to&&(window.location.href=d.redirect_to);else{const h=d.message||window.Voxel_Config?.l10n?.ajaxError||"An error occurred";window.Voxel?.alert?window.Voxel.alert(h,"error"):console.error("[MembershipPlans] Error:",h)}n.classList.remove("vx-pending")})})}),window.Voxel?.dialog?window.Voxel.dialog(l.dialog):console.error("[MembershipPlans] Voxel.dialog not available")):l.type==="checkout"&&l.item&&l.checkout_link?(localStorage.setItem(xe,JSON.stringify({[l.item.key]:l.item.value})),window.location.href=l.checkout_link):l.type==="redirect"&&l.redirect_to?window.location.href=l.redirect_to:l.redirect_url&&(window.location.href=l.redirect_url);else{const u=l.message||window.Voxel_Config?.l10n?.ajaxError||"An error occurred";window.Voxel?.alert?window.Voxel.alert(u,"error"):console.error("[MembershipPlans] Error:",u)}n.classList.remove("vx-pending")})}function Re(e,t){const r=e.key==="default"?"default":e.key.split("@")[0],n=t[r]||we;return{...e,image:n.image?.url||e.image,features:n.features.length>0?n.features:e.features}}function Ce({price:e,groupId:t,isActiveGroup:r,isCurrentPlan:n,buttonText:i,buttonClass:a,pricingAlign:l,descAlign:u,listAlign:m,arrowIconElement:d,context:h}){const _=x.useRef(null),A=x.useCallback(g=>{if(h==="editor"){g.preventDefault();return}if(n){g.preventDefault();return}Ee(g,_)},[h,n]);return React.createElement("div",{ref:_,className:`ts-plan-container ${r?"":"hidden"}`,"data-group":t},e.image&&React.createElement("div",{className:"ts-plan-image flexify"},typeof e.image=="string"?e.image.startsWith("<")?React.createElement("span",{dangerouslySetInnerHTML:{__html:e.image}}):React.createElement("img",{src:e.image,alt:e.label}):null),React.createElement("div",{className:"ts-plan-body"},React.createElement("div",{className:"ts-plan-details"},React.createElement("span",{className:"ts-plan-name"},e.label)),React.createElement("div",{className:"ts-plan-pricing",style:{justifyContent:l}},e.isFree?React.createElement("span",{className:"ts-plan-price"},k("Free","voxel-fse")):React.createElement(React.Fragment,null,e.discountAmount?React.createElement(React.Fragment,null,React.createElement("span",{className:"ts-plan-price"},e.discountAmount),React.createElement("span",{className:"ts-plan-price"},React.createElement("s",null,e.amount))):React.createElement("span",{className:"ts-plan-price"},e.amount),e.period&&React.createElement("div",{className:"ts-price-period"},"/ ",e.period),e.trialDays!=null&&e.trialDays>0&&React.createElement("p",{className:"ts-price-trial"},k("%d-day free trial","voxel-fse").replace("%d",String(e.trialDays))))),e.description&&React.createElement("div",{className:"ts-plan-desc",style:{textAlign:u}},React.createElement("p",{dangerouslySetInnerHTML:{__html:e.description.replace(/\n/g,"<br />")}})),e.features.length>0&&React.createElement("div",{className:"ts-plan-features",style:{justifyContent:m}},React.createElement("ul",{className:"simplify-ul"},e.features.filter(g=>g.rowVisibility!=="hide").map((g,R)=>React.createElement("li",{key:R},Q(g.icon,$.checkmark),React.createElement("span",null,g.text))))),React.createElement("div",{className:"ts-plan-footer"},React.createElement("a",{href:e.link||"#",className:a,rel:n?void 0:"nofollow",onClick:A},i,!n&&d))))}function Se({attributes:e,apiData:t,isLoading:r,error:n,context:i,onTabChange:a}){const[l,u]=x.useState("");x.useEffect(()=>{!l&&e.priceGroups.length>0&&u(e.priceGroups[0].id)},[l,e.priceGroups]),x.useEffect(()=>{const y="voxel-pricing-plan-css";if(!document.getElementById(y)){const s=document.createElement("link");s.id=y,s.rel="stylesheet";const p=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");s.href=`${p}/wp-content/themes/voxel/assets/dist/pricing-plan.css?ver=1.7.5.2`,document.head.appendChild(s)}},[]);const m=x.useCallback((y,s)=>{y.preventDefault(),u(s),a?.(s)},[a]),d={priceGroups:e.priceGroups??[],planConfigs:e.planConfigs??{},arrowIcon:e.arrowIcon??q,style:{plansColumns:e.plansColumns??3,plansColumns_tablet:e.plansColumns_tablet,plansColumns_mobile:e.plansColumns_mobile,plansGap:e.plansGap??20,tabsDisabled:e.tabsDisabled??!1,tabsJustify:e.tabsJustify??"flex-start",pricingAlign:e.pricingAlign??"flex-start",contentAlign:e.contentAlign??"flex-start",descAlign:e.descAlign??"left",listAlign:e.listAlign??"flex-start"}},h=Q(e.arrowIcon,$.chevronRightSmall);if(r)return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),i==="editor"&&React.createElement(L,null));if(n)return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),i==="editor"&&React.createElement(L,null));if(e.priceGroups.length===0)return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),i==="editor"&&React.createElement(L,null));if(!e.priceGroups.some(y=>y.prices&&y.prices.length>0))return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),i==="editor"&&React.createElement(L,null));const A=y=>{if(!t)return[];const s=[];return y.prices.forEach(f=>{const w=t.priceGroups.find(b=>b.prices.some(C=>C.key===f))?.prices.find(b=>b.key===f);w&&s.push(Re(w,e.planConfigs))}),s},g=y=>{if(!t?.userMembership)return!1;const s=t.userMembership;return y==="default"?s.type==="default"&&s.planKey==="default"&&!s.isInitialState:s.type==="order"&&s.priceKey===y&&!s.isSubscriptionCanceled},R=y=>g(y)?k("Current plan","voxel-fse"):t?.userMembership?.type==="order"?k("Switch to plan","voxel-fse"):k("Buy plan","voxel-fse"),c=y=>g(y)?"ts-btn ts-btn-1 ts-btn-large vx-pick-plan":"ts-btn ts-btn-2 ts-btn-large vx-pick-plan",o={"--ts-plans-columns":e.plansColumns,"--ts-plans-gap":`${e.plansGap}px`},E=l||(e.priceGroups[0]?.id??""),F=e.priceGroups.filter(y=>y.rowVisibility!=="hide");return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),!e.tabsDisabled&&F.length>1&&React.createElement("ul",{className:"ts-plan-tabs simplify-ul flexify ts-generic-tabs",style:{justifyContent:e.tabsJustify}},F.map(y=>React.createElement("li",{key:y.id,className:y.id===E?"ts-tab-active":""},React.createElement("a",{href:"#","data-id":y.id,onClick:s=>m(s,y.id)},y.label)))),React.createElement("div",{className:"ts-plans-list ts-paid-members-plans",style:o},F.map(y=>{const s=A(y),f=y.id===E;return s.map(p=>React.createElement(Ce,{key:`${y.id}-${p.key}`,price:p,groupId:y.id,isActiveGroup:f,isCurrentPlan:g(p.key),buttonText:R(p.key),buttonClass:c(p.key),pricingAlign:e.pricingAlign,descAlign:e.descAlign,listAlign:e.listAlign,arrowIconElement:h,context:i}))})))}function ke(e){const t=(c,o)=>typeof c=="string"?c:typeof c=="number"?String(c):o,r=(c,o)=>{if(typeof c=="number")return c;if(typeof c=="string"){const E=parseFloat(c);return isNaN(E)?o:E}return o},n=(c,o)=>typeof c=="boolean"?c:c==="yes"||c==="1"||c===1?!0:c==="no"||c==="0"||c===0?!1:o,i=c=>{if(c&&typeof c=="object"&&!Array.isArray(c)){const o=c;return{library:t(o.library,""),value:t(o.value,"")}}return{library:"",value:""}},a=c=>{if(c&&typeof c=="object"&&!Array.isArray(c)){const o=c;return{text:t(o.text??o.feature_text,""),icon:i(o.icon??o.feature_ico)}}return{text:"",icon:{library:"",value:""}}},l=c=>{if(c&&typeof c=="object"&&!Array.isArray(c)){const o=c,E=o.image;return{image:E?{id:r(E.id,0),url:t(E.url,"")}:null,features:Array.isArray(o.features)?o.features.map(a):[]}}return{image:null,features:[]}},u=c=>{if(c&&typeof c=="object"&&!Array.isArray(c)){const o=c;return{id:t(o.id??o._id,""),label:t(o.label??o.group_label,""),prices:Array.isArray(o.prices)?o.prices.map(E=>t(E,"")):[]}}return{id:"",label:"",prices:[]}},m=c=>{const o=c&&typeof c=="object"&&!Array.isArray(c)?c:{};return{plansColumns:r(o.plansColumns??o.plans_columns??o.ts_plans_columns,3),plansColumns_tablet:o.plansColumns_tablet!==void 0?r(o.plansColumns_tablet,void 0):void 0,plansColumns_mobile:o.plansColumns_mobile!==void 0?r(o.plansColumns_mobile,void 0):void 0,plansGap:r(o.plansGap??o.plans_gap??o.pplans_gap,20),tabsDisabled:n(o.tabsDisabled??o.tabs_disabled??o.pltabs_disable,!1),tabsJustify:t(o.tabsJustify??o.tabs_justify??o.pltabs_justify,"flex-start"),pricingAlign:t(o.pricingAlign??o.pricing_align,"flex-start"),contentAlign:t(o.contentAlign??o.content_align,"flex-start"),descAlign:t(o.descAlign??o.desc_align,"left"),listAlign:t(o.listAlign??o.list_align,"flex-start")}},d=e.priceGroups??e.price_groups??e.ts_price_groups,h=Array.isArray(d)?d.map(u):[],_=e.planConfigs??e.plan_configs,A={};if(_&&typeof _=="object"&&!Array.isArray(_)){const c=_;for(const o of Object.keys(c))A[o]=l(c[o])}const g=i(e.arrowIcon??e.arrow_icon??e.ts_arrow_right),R=m(e.style);return{priceGroups:h,planConfigs:A,arrowIcon:g,style:R}}function Fe(){return Ae()}function Ie(e){const t=e.querySelector("script.vxconfig");if(t&&t.textContent)try{const r=JSON.parse(t.textContent);return ke(r)}catch(r){console.error("Failed to parse vxconfig:",r)}return null}async function Pe(){const e=Fe(),t={},r=window.wpApiSettings?.nonce;r&&(t["X-WP-Nonce"]=r);const n=await fetch(`${e}voxel-fse/v1/membership-plans`,{credentials:"same-origin",headers:t});if(!n.ok)throw new Error(`Failed to fetch plans data: ${n.statusText}`);return await n.json()}function Le({config:e,dataset:t}){const[r,n]=x.useState(null),[i,a]=x.useState(!0),[l,u]=x.useState(null);x.useEffect(()=>{let d=!1;async function h(){a(!0),u(null);try{const _=await Pe();d||n(_)}catch(_){d||u(_ instanceof Error?_.message:"Failed to load plans data")}finally{d||a(!1)}}return h(),()=>{d=!0}},[]);const m={blockId:t.blockId||"",priceGroups:e.priceGroups,planConfigs:e.planConfigs,arrowIcon:e.arrowIcon??q,visibilityBehavior:t.visibilityBehavior||"show",visibilityRules:t.visibilityRules?JSON.parse(t.visibilityRules):[],loopEnabled:t.loopEnabled==="true",loopSource:t.loopSource||"",loopProperty:t.loopProperty||"",loopLimit:t.loopLimit||"",loopOffset:t.loopOffset||"",plansColumns:e.style.plansColumns??3,plansColumns_tablet:e.style.plansColumns_tablet,plansColumns_mobile:e.style.plansColumns_mobile,plansGap:e.style.plansGap??20,plansBorderRadius:0,bodyPadding:20,bodyContentGap:15,imagePadding:{top:"0",right:"0",bottom:"0",left:"0"},imageHeight:0,pricingAlign:e.style.pricingAlign??"flex-start",contentAlign:e.style.contentAlign??"flex-start",descAlign:e.style.descAlign??"left",listAlign:e.style.listAlign??"flex-start",listGap:10,listIconSize:18,listIconRightPad:8,tabsDisabled:e.style.tabsDisabled??!1,tabsJustify:e.style.tabsJustify??"flex-start",tabsPadding:{top:"0",right:"0",bottom:"0",left:"0"},tabsMargin:{top:"0",right:"15",bottom:"15",left:"0"},tabsBorderRadius:0,primaryBtnRadius:5,primaryBtnHeight:0,primaryBtnIconSize:18,primaryBtnIconPad:8,secondaryBtnRadius:5,secondaryBtnHeight:0,secondaryBtnIconSize:18,secondaryBtnIconPad:8};return React.createElement(Se,{attributes:m,apiData:r,isLoading:i,error:l,context:"frontend"})}function H(){document.querySelectorAll(".voxel-fse-membership-plans").forEach(t=>{if(t.dataset.hydrated==="true")return;const r=Ie(t);if(!r){console.error("No vxconfig found for membership plans block");return}t.dataset.hydrated="true",t.innerHTML="",ee.createRoot(t).render(React.createElement(Le,{config:r,dataset:t.dataset}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",H):H(),window.addEventListener("turbo:load",H),window.addEventListener("pjax:complete",H)})(ReactDOM,React);
