(function(g,u){"use strict";function f({text:e,icon:o="î —",className:n="",style:r={}}){return u.createElement("div",{className:`voxel-empty-placeholder ${n}`,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e?"8px":"0",background:"rgb(213 216 220 / 80%)",borderRadius:"0",color:"#666",fontSize:"13px",height:"45px",...r}},u.createElement("span",{className:"placeholder-icon",style:{fontFamily:"eicons",fontSize:"24px",opacity:.3,lineHeight:1,fontStyle:"normal"}},o),e&&u.createElement("span",{className:"placeholder-text",style:{opacity:.6}},e))}function y(e){const o={};return e.aspectRatio&&(o.aspectRatio=e.aspectRatio),o}function x(e){return{}}function S(e){const o={};e.captionTextColor&&(o.color=e.captionTextColor),e.captionBackgroundColor&&(o.backgroundColor=e.captionBackgroundColor);const n=e.captionSpacing;return n?.size!==void 0&&(o.marginBlockStart=`${n.size}${n.unit||"px"}`),o}function v(e){const o=[];if(e.image.id){const n=e.imageSize||"large";o.push(`attachment-${n}`),o.push(`size-${n}`),o.push(`wp-image-${e.image.id}`)}return e.hoverAnimation&&o.push(`elementor-animation-${e.hoverAnimation}`),o.join(" ")}function k(e){return e.captionSource==="custom"?e.caption||"":e.captionSource==="attachment"&&e.image.alt||""}function j(e){return e.captionSource!=="none"}function C(e){return e.linkTo==="none"?null:e.linkTo==="custom"?e.link.url||null:e.linkTo==="file"&&e.image.url||null}function T({attributes:e,context:o,onSelectImage:n}){const r=y(e),d=x(),_=S(e),a=v(e),c=k(e),h=j(e),b=C(e),s=[];e.hideDesktop&&s.push("vx-hidden-desktop"),e.hideTablet&&s.push("vx-hidden-tablet"),e.hideMobile&&s.push("vx-hidden-mobile"),e.customClasses&&s.push(e.customClasses);const m=["voxel-fse-image-wrapper",`voxel-fse-image-wrapper-${e.blockId}`,...s].filter(Boolean).join(" ");if(!e.image.url)return o==="editor"?React.createElement("div",{className:m,style:d},React.createElement(f,null)):null;const i=React.createElement("img",{src:e.image.url,alt:e.image.alt,title:e.image.alt||"",loading:"lazy",className:a||void 0,style:r});let l=i;if(b){const t={href:b,className:"elementor-clickable"};e.linkTo==="file"&&e.openLightbox!=="no"&&(t["data-elementor-open-lightbox"]=e.openLightbox),e.linkTo==="custom"&&(e.link.target&&(t.target=e.link.target),e.link.rel&&(t.rel=e.link.rel)),l=React.createElement("a",{...t},i)}return h?React.createElement("div",{className:m,style:d},React.createElement("figure",{className:"wp-caption"},l,c&&React.createElement("figcaption",{className:"widget-image-caption wp-caption-text",style:_},c))):React.createElement("div",{className:m,style:d},l)}function z(e){const o=(i,l)=>typeof i=="string"?i:typeof i=="number"?String(i):l,n=(i,l)=>{if(typeof i=="number")return i;if(typeof i=="string"){const t=parseFloat(i);if(!isNaN(t))return t}return l},r=(i,l)=>typeof i=="boolean"?i:i==="true"||i==="1"||i===1?!0:i==="false"||i==="0"||i===0?!1:l,d=i=>{const l={id:0,url:"",alt:"",width:0,height:0};if(!i||typeof i!="object")return l;const t=i;return{id:n(t.id,0)??0,url:o(t.url,""),alt:o(t.alt,""),width:n(t.width,0)??0,height:n(t.height,0)??0}},_=i=>{const l={url:"",target:"",rel:""};if(!i||typeof i!="object")return l;const t=i;return{url:o(t.url,""),target:o(t.target??t._target,""),rel:o(t.rel??t.nofollow,"")}},a=i=>{const l={size:void 0,unit:"px"};if(!i||typeof i!="object")return l;const t=i;return{size:n(t.size,void 0),unit:o(t.unit,"px")}},c=i=>{const l={};if(!i||typeof i!="object")return l;const t=i;return{top:t.top!==void 0?n(t.top,void 0):void 0,right:t.right!==void 0?n(t.right,void 0):void 0,bottom:t.bottom!==void 0?n(t.bottom,void 0):void 0,left:t.left!==void 0?n(t.left,void 0):void 0,unit:o(t.unit,"px"),isLinked:r(t.isLinked??t.is_linked,!0)}},h=i=>{const l={};if(!i||typeof i!="object")return l;const t=i;return{blur:n(t.blur,void 0),brightness:n(t.brightness,void 0),contrast:n(t.contrast,void 0),saturation:n(t.saturation,void 0),hue:n(t.hue,void 0)}},b=i=>{const l={};if(!i||typeof i!="object")return l;const t=i;return{horizontal:n(t.horizontal,void 0),vertical:n(t.vertical,void 0),blur:n(t.blur,void 0),spread:n(t.spread,void 0),color:o(t.color,""),position:o(t.position,"")}},s=i=>{const l={};if(!i||typeof i!="object")return l;const t=i;return{fontFamily:o(t.fontFamily??t.font_family,""),fontSize:a(t.fontSize??t.font_size),fontWeight:o(t.fontWeight??t.font_weight,""),textTransform:o(t.textTransform??t.text_transform,""),fontStyle:o(t.fontStyle??t.font_style,""),textDecoration:o(t.textDecoration??t.text_decoration,""),lineHeight:a(t.lineHeight??t.line_height),letterSpacing:a(t.letterSpacing??t.letter_spacing),wordSpacing:a(t.wordSpacing??t.word_spacing)}},m=i=>{const l={};if(!i||typeof i!="object")return l;const t=i;return{horizontal:n(t.horizontal,void 0),vertical:n(t.vertical,void 0),blur:n(t.blur,void 0),color:o(t.color,"")}};return{image:d(e.image),imageSize:o(e.imageSize??e.image_size,"full"),customWidth:n(e.customWidth??e.custom_width,void 0),customHeight:n(e.customHeight??e.custom_height,void 0),captionSource:o(e.captionSource??e.caption_source,"none"),caption:o(e.caption,""),linkTo:o(e.linkTo??e.link_to,"none"),link:_(e.link),openLightbox:o(e.openLightbox??e.open_lightbox,"default"),imageAlign:o(e.imageAlign??e.image_align??e.align,""),imageAlign_tablet:o(e.imageAlign_tablet??e.image_align_tablet,""),imageAlign_mobile:o(e.imageAlign_mobile??e.image_align_mobile,""),width:a(e.width),width_tablet:a(e.width_tablet),width_mobile:a(e.width_mobile),maxWidth:a(e.maxWidth??e.max_width??e.space),maxWidth_tablet:a(e.maxWidth_tablet??e.max_width_tablet??e.space_tablet),maxWidth_mobile:a(e.maxWidth_mobile??e.max_width_mobile??e.space_mobile),height:a(e.height),height_tablet:a(e.height_tablet),height_mobile:a(e.height_mobile),objectFit:o(e.objectFit??e.object_fit,""),objectFit_tablet:o(e.objectFit_tablet??e.object_fit_tablet,""),objectFit_mobile:o(e.objectFit_mobile??e.object_fit_mobile,""),objectPosition:o(e.objectPosition??e.object_position,"center center"),opacity:n(e.opacity,void 0),cssFilters:h(e.cssFilters??e.css_filters??e._css_filters),opacityHover:n(e.opacityHover??e.opacity_hover,void 0),cssFiltersHover:h(e.cssFiltersHover??e.css_filters_hover),transitionDuration:n(e.transitionDuration??e.transition_duration??e.background_hover_transition,void 0),hoverAnimation:o(e.hoverAnimation??e.hover_animation,""),borderType:o(e.borderType??e.border_type??e.image_border,""),borderWidth:c(e.borderWidth??e.border_width??e.image_border_width),borderColor:o(e.borderColor??e.border_color??e.image_border_color,""),borderRadius:c(e.borderRadius??e.border_radius??e.image_border_radius),borderRadius_tablet:c(e.borderRadius_tablet??e.border_radius_tablet??e.image_border_radius_tablet),borderRadius_mobile:c(e.borderRadius_mobile??e.border_radius_mobile??e.image_border_radius_mobile),boxShadow:b(e.boxShadow??e.box_shadow??e.image_box_shadow),aspectRatio:o(e.aspectRatio??e.aspect_ratio,""),captionAlign:o(e.captionAlign??e.caption_align,""),captionTextColor:o(e.captionTextColor??e.caption_text_color??e.text_color,""),captionBackgroundColor:o(e.captionBackgroundColor??e.caption_background_color,""),captionTypography:s(e.captionTypography??e.caption_typography),captionTextShadow:m(e.captionTextShadow??e.caption_text_shadow),captionSpacing:a(e.captionSpacing??e.caption_spacing??e.caption_space),hideDesktop:r(e.hideDesktop??e.hide_desktop,!1),hideTablet:r(e.hideTablet??e.hide_tablet,!1),hideMobile:r(e.hideMobile??e.hide_mobile,!1),customClasses:o(e.customClasses??e.custom_classes,"")}}function R(e){const o=e.querySelector("script.vxconfig");if(o&&o.textContent)try{const n=JSON.parse(o.textContent);return z(n)}catch(n){console.error("[voxel-fse/image] Failed to parse vxconfig:",n)}return null}function A(e){return{blockId:"",image:e.image,imageSize:e.imageSize,customWidth:e.customWidth,customHeight:e.customHeight,captionSource:e.captionSource,caption:e.caption,linkTo:e.linkTo,link:e.link,openLightbox:e.openLightbox,imageAlign:e.imageAlign,imageAlign_tablet:e.imageAlign_tablet,imageAlign_mobile:e.imageAlign_mobile,width:e.width,width_tablet:e.width_tablet,width_mobile:e.width_mobile,maxWidth:e.maxWidth,maxWidth_tablet:e.maxWidth_tablet,maxWidth_mobile:e.maxWidth_mobile,height:e.height,height_tablet:e.height_tablet,height_mobile:e.height_mobile,objectFit:e.objectFit,objectFit_tablet:e.objectFit_tablet,objectFit_mobile:e.objectFit_mobile,objectPosition:e.objectPosition,objectPosition_tablet:void 0,objectPosition_mobile:void 0,opacity:e.opacity,cssFilters:e.cssFilters,opacityHover:e.opacityHover,cssFiltersHover:e.cssFiltersHover,transitionDuration:e.transitionDuration,hoverAnimation:e.hoverAnimation,borderType:e.borderType,borderWidth:e.borderWidth,borderColor:e.borderColor,borderRadius:e.borderRadius,borderRadius_tablet:e.borderRadius_tablet,borderRadius_mobile:e.borderRadius_mobile,boxShadow:e.boxShadow,aspectRatio:e.aspectRatio,captionAlign:e.captionAlign,captionAlign_tablet:void 0,captionAlign_mobile:void 0,captionTextColor:e.captionTextColor,captionBackgroundColor:e.captionBackgroundColor,captionTypography:e.captionTypography,captionTextShadow:e.captionTextShadow,captionSpacing:e.captionSpacing,captionSpacing_tablet:void 0,captionSpacing_mobile:void 0,hideDesktop:e.hideDesktop,hideTablet:e.hideTablet,hideMobile:e.hideMobile,customClasses:e.customClasses}}function p(){document.querySelectorAll(".voxel-fse-image:not([data-hydrated])").forEach(o=>{if(o.dataset.hydrated==="true")return;const n=R(o);if(!n){console.error("[voxel-fse/image] No vxconfig found for image block");return}o.dataset.hydrated="true",o.innerHTML="";const r=A(n);g.createRoot(o).render(React.createElement(T,{attributes:r,context:"frontend"}))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",p):p(),window.addEventListener("turbo:load",p),window.addEventListener("pjax:complete",p)})(ReactDOM,React);
