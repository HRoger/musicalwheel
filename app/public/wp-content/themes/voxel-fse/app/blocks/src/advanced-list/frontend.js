(function(G,h,F){"use strict";const M={id:"",actionType:"none",text:"Action",icon:null,enableTooltip:!1,tooltipText:"",link:null,scrollToId:"",additionId:"",calStartDate:"",calEndDate:"",calTitle:"",calDescription:"",calLocation:"",calUrl:"",cartOptsText:"Select options",cartOptsEnableTooltip:!1,cartOptsTooltipText:"",cartOptsIcon:null,activeText:"Action",activeIcon:null,activeEnableTooltip:!1,activeTooltipText:"",customStyle:!1,customIconColor:"",customIconColorActive:"",loopSource:"",loopProperty:"",loopLimit:"",loopOffset:"",rowVisibility:"show",visibilityRules:[]},V=["action_follow_post","action_follow","edit_post","delete_post","unpublish_post","publish_post","show_post_on_map","share_post","view_post_stats","add_to_cart","promote_post","select_addition","action_gcal","action_ical","action_save","direct_message","direct_message_user","relist_post","switch_listing_plan"],J=["action_follow","action_follow_post","select_addition","promote_post","action_save"],q=[{type:"facebook",label:"Facebook",icon:'<i class="fab fa-facebook"></i>'},{type:"twitter",label:"Twitter",icon:'<i class="fab fa-twitter"></i>'},{type:"linkedin",label:"LinkedIn",icon:'<i class="fab fa-linkedin"></i>'},{type:"pinterest",label:"Pinterest",icon:'<i class="fab fa-pinterest"></i>'},{type:"whatsapp",label:"WhatsApp",icon:'<i class="fab fa-whatsapp"></i>'},{type:"email",label:"Email",icon:'<i class="las la-envelope"></i>'},{type:"copy",label:"Copy link",icon:'<i class="las la-link"></i>'}];function X(e,o,a){const l=encodeURIComponent(o),n=encodeURIComponent(a);switch(e){case"facebook":return`https://www.facebook.com/sharer/sharer.php?u=${n}`;case"twitter":return`https://twitter.com/intent/tweet?text=${l}&url=${n}`;case"linkedin":return`https://www.linkedin.com/shareArticle?mini=true&url=${n}&title=${l}`;case"pinterest":return`https://pinterest.com/pin/create/button/?url=${n}&description=${l}`;case"whatsapp":return`https://wa.me/?text=${l}%20${n}`;case"email":return`mailto:?subject=${l}&body=${n}`;case"copy":return"#";default:return"#"}}function Y(e){const o=e.start?new Date(e.start):null;if(!o||isNaN(o.getTime()))return null;let a=e.end?new Date(e.end):null;(!a||isNaN(a.getTime())||a<o)&&(a=o);const l=c=>c.toISOString().replace(/[-:]/g,"").split(".")[0],n=new URLSearchParams({action:"TEMPLATE",trp:"true",text:e.title||"",dates:`${l(o)}/${l(a)}`});if(e.description){const c=e.description.replace(/<[^>]*>/g,"");n.set("details",c)}return e.location&&n.set("location",e.location),e.timezone&&n.set("ctz",e.timezone),`https://calendar.google.com/calendar/render?${n.toString()}`}function K(e){const o=e.start?new Date(e.start):null;if(!o||isNaN(o.getTime()))return null;let a=e.end?new Date(e.end):null;(!a||isNaN(a.getTime())||a<o)&&(a=o);const l=w=>w.toISOString().replace(/[-:]/g,"").split(".")[0],n=l(o),c=l(a),u=(e.title||"event").replace(/[^\w\s-]/g,""),p=(e.description||"").replace(/<[^>]*>/g,"").replace(/\r\n|\r|\n/g,"\\n").replace(/&nbsp;/g,""),m=(e.location||"").replace(/[^\w\s,-]/g,""),f=e.url||"",_=l(new Date),s=`${window.location.origin}/?ics_uid=${btoa(JSON.stringify([u,n,c,f])).slice(0,20)}`,y=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//hacksw/handcal//NONSGML v1.0//EN","CALSCALE:GREGORIAN","BEGIN:VEVENT",`LOCATION:${m}`,`DESCRIPTION:${p}`,`DTSTART:${n}`,`DTEND:${c}`,`SUMMARY:${u}`,`URL;VALUE=URI:${f}`,`DTSTAMP:${_}`,`UID:${s}`,"END:VEVENT","END:VCALENDAR"].join(`\r
`),R=`data:text/calendar;base64,${btoa(y)}`,g=`${u||"event"}.ics`;return{dataUrl:R,filename:g}}function Q(e,o,a,l){const[n,c]=h.useState({}),u=h.useRef(""),p=h.useCallback(()=>{if(!l.current||!o.current||!a.current)return;const m=document.body.clientWidth,f=o.current.getBoundingClientRect(),_=o.current.offsetWidth,s={left:f.left+window.pageXOffset,top:f.top+window.pageYOffset},y=a.current.getBoundingClientRect(),R=window.getComputedStyle(l.current),g=parseFloat(R.minWidth)||0,w=Math.max(f.width,g||Math.min(340,m-40));let S=s.left+_/2>m/2+1?s.left-w+_:s.left;S<0&&(S=10),S+w>m&&(S=m-w-10);let k=s.top+f.height;const r=window.innerHeight;f.bottom+y.height>r&&f.top-y.height>=0&&(k=s.top-y.height);const t={top:`${k}px`,left:`${S}px`,width:`${w}px`,position:"absolute"},i=JSON.stringify(t);i!==u.current&&(u.current=i,c(t))},[o,a,l]);return h.useEffect(()=>{if(!e)return;requestAnimationFrame(()=>{requestAnimationFrame(()=>p())});const m=()=>p(),f=()=>p();window.addEventListener("scroll",m,!0),window.addEventListener("resize",f,!0);let _=null;return l.current&&(_=new ResizeObserver(()=>{requestAnimationFrame(()=>p())}),_.observe(l.current)),()=>{window.removeEventListener("scroll",m,!0),window.removeEventListener("resize",f,!0),_?.disconnect()}},[e,p,l]),n}function L({isOpen:e,targetRef:o,onClose:a,children:l}){const n=h.useRef(null),c=h.useRef(null),u=Q(e,o,n,c);return h.useEffect(()=>{if(!e)return;const p=m=>{m.key==="Escape"&&a()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e,a]),h.useEffect(()=>{if(!e)return;const p=f=>{const _=f.target;c.current?.contains(_)||o.current?.contains(_)||a()},m=requestAnimationFrame(()=>{document.addEventListener("mousedown",p)});return()=>{cancelAnimationFrame(m),document.removeEventListener("mousedown",p)}},[e,a,o]),e?F.createPortal(React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{ref:n,className:"ts-form elementor-element",style:u},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{ref:c,className:"ts-field-popup triggers-blur"},l)))),document.body):null}function Z({editSteps:e,icon:o,text:a,closeIcon:l,onClose:n,isOpen:c,targetRef:u}){return React.createElement(L,{isOpen:c,targetRef:u,onClose:n},React.createElement("div",{className:"ts-popup-head ts-sticky-top flexify hide-d"},React.createElement("div",{className:"ts-popup-name flexify"},v(o),React.createElement("span",null,"Edit")),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{role:"button",href:"#",className:"ts-icon-btn",onClick:p=>{p.preventDefault(),n()}},v(l))))),React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},e.map(p=>React.createElement("li",{key:p.key},React.createElement("a",{href:p.link,className:"flexify"},React.createElement("span",null,p.label)))))))}function ee({title:e,link:o,icon:a,closeIcon:l,onClose:n,isOpen:c,targetRef:u}){const[p,m]=h.useState(!1),f=async(s,y)=>{if(s.type==="copy"){y.preventDefault();try{await navigator.clipboard.writeText(o),m(!0),setTimeout(()=>m(!1),2e3)}catch{const g=document.createElement("textarea");g.value=o,document.body.appendChild(g),g.select(),document.execCommand("copy"),document.body.removeChild(g),m(!0),setTimeout(()=>m(!1),2e3)}return}},_=q.map(s=>({...s,link:X(s.type,e,o)}));return React.createElement(L,{isOpen:c,targetRef:u,onClose:n},React.createElement("div",{className:"ts-popup-head ts-sticky-top flexify hide-d"},React.createElement("div",{className:"ts-popup-name flexify"},v(a),React.createElement("span",null,"Share post")),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{role:"button",href:"#",className:"ts-icon-btn",onClick:s=>{s.preventDefault(),n()}},v(l))))),React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll ts-social-share"},_.map(s=>s.type==="ui-heading"?React.createElement("li",{key:`heading-${s.label}`,className:"ts-parent-item vx-noevent"},React.createElement("a",{href:"#",className:"flexify"},React.createElement("span",null,s.label))):React.createElement("li",{key:s.type,className:`ts-share-${s.type}`},React.createElement("a",{href:s.link,target:s.type!=="copy"&&s.type!=="email"?"_blank":void 0,className:"flexify",rel:"nofollow",onClick:y=>f(s,y)},React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:s.icon}})),React.createElement("span",null,s.type==="copy"&&p?"Copied!":s.label)))))))}function v(e){return!e||!e.value?null:e.library==="svg"||e.value.startsWith("<svg")?React.createElement("span",{dangerouslySetInnerHTML:{__html:e.value}}):e.library==="fa-solid"||e.library==="fa-regular"||e.library==="fa-brands"?React.createElement("i",{className:e.value}):e.value?React.createElement("i",{className:e.value}):null}function oe(e){const o={};return e.enableCssGrid?(o.display="grid",e.gridColumns&&(o.gridTemplateColumns=`repeat(${e.gridColumns}, minmax(0, 1fr))`)):e.listJustify&&(o.justifyContent=e.listJustify),e.itemGap&&(o.gap=`${e.itemGap}${e.itemGapUnit||"px"}`),o}function te(e){const o={};e.itemJustifyContent&&(o.justifyContent=e.itemJustifyContent),e.itemHeight&&(o.height=`${e.itemHeight}${e.itemHeightUnit||"px"}`);const a=e.itemPadding;if(a&&(a.top||a.right||a.bottom||a.left)){const n=e.itemPaddingUnit||"px";o.padding=`${a.top||0}${n} ${a.right||0}${n} ${a.bottom||0}${n} ${a.left||0}${n}`}if(e.itemBorderType&&e.itemBorderType!=="none"){o.borderStyle=e.itemBorderType,e.itemBorderColor&&(o.borderColor=e.itemBorderColor);const n=e.itemBorderWidth;if(n){const c=e.itemBorderWidthUnit||"px";o.borderWidth=`${n.top||1}${c} ${n.right||1}${c} ${n.bottom||1}${c} ${n.left||1}${c}`}}e.itemBorderRadius&&(o.borderRadius=`${e.itemBorderRadius}${e.itemBorderRadiusUnit||"px"}`),e.itemTextColor&&(o.color=e.itemTextColor),e.itemBackgroundColor&&(o.background=e.itemBackgroundColor);const l=e.itemBoxShadow;return l&&(l.horizontal||l.vertical||l.blur||l.spread)&&(o.boxShadow=`${l.horizontal}px ${l.vertical}px ${l.blur}px ${l.spread}px ${l.color||"rgba(0,0,0,0.1)"}`),e.iconTextSpacing&&(o.gap=`${e.iconTextSpacing}${e.iconTextSpacingUnit||"px"}`),e.iconOnTop&&(o.flexDirection="column"),o}function ne(e){const o={};if(e.iconContainerSize){const a=`${e.iconContainerSize}${e.iconContainerSizeUnit||"px"}`;o.width=a,o.height=a}return e.iconContainerBackground&&(o.background=e.iconContainerBackground),e.iconContainerBorderRadius&&(o.borderRadius=`${e.iconContainerBorderRadius}${e.iconContainerBorderRadiusUnit||"px"}`),e.iconSize&&(o["--ts-icon-size"]=`${e.iconSize}${e.iconSizeUnit||"px"}`),e.iconColor&&(o["--ts-icon-color"]=e.iconColor),o}function ie(e){return!e.enableCssGrid&&e.itemWidth==="custom"&&e.customItemWidth?{width:`${e.customItemWidth}${e.customItemWidthUnit||"px"}`}:{}}function re({item:e,index:o,attributes:a,context:l,postContext:n}){const[c,u]=h.useState(!1),[p,m]=h.useState(!1),f=h.useRef(null),_=V.includes(e.actionType),s=J.includes(e.actionType),y=h.useMemo(()=>l==="editor"?!0:!(!(e.visibilityRules&&e.visibilityRules.length>0)&&e.rowVisibility==="hide"||_&&!n||e.actionType==="edit_post"&&n&&!n.isEditable),[l,_,n,e.actionType,e.rowVisibility,e.visibilityRules]);if(!h.useMemo(()=>l==="editor"?!0:y?e.actionType==="delete_post"?n?.permissions?.delete??!1:e.actionType==="publish_post"?(n?.permissions?.publish??!1)&&n?.status==="unpublished":e.actionType==="unpublish_post"?(n?.permissions?.publish??!1)&&n?.status==="publish":e.actionType==="add_to_cart"?n?.product?.isEnabled??!1:e.actionType==="show_post_on_map"?n?.location?.mapLink!=null:e.actionType==="view_post_stats"?n?.postStatsLink!=null:e.actionType==="promote_post"?n?.promote?.isPromotable??!1:["action_follow_post","action_follow"].includes(e.actionType)&&n?.timelineEnabled===!1?!1:e.actionType==="action_follow"?n?.authorId!=null:!0:!1,[l,y,e.actionType,n]))return null;const g=te(a),w=ne(a),I=ie(a);e.customStyle&&e.customIconColor&&(w["--ts-icon-color"]=e.customIconColor);const S=e.enableTooltip?e.tooltipText:void 0,k=h.useMemo(()=>!s||!n?!1:e.actionType==="action_follow_post"?n.isFollowed:e.actionType==="action_follow"?n.isAuthorFollowed:e.actionType==="promote_post"?n.promote?.isActive??!1:!1,[s,n,e.actionType]),r=h.useMemo(()=>n?e.actionType==="action_follow_post"?n.isFollowRequested:e.actionType==="action_follow"?n.isAuthorFollowRequested:!1:!1,[n,e.actionType]),t=(d,E={})=>{if(!n)return"#";const B=new URLSearchParams;B.set("vx","1"),B.set("action",d),Object.entries(E).forEach(([ye,ge])=>B.set(ye,String(ge)));const H={"user.posts.delete_post":n.nonces?.delete_post||"","user.posts.republish_post":n.nonces?.modify_post||"","user.posts.unpublish_post":n.nonces?.modify_post||"","user.follow_post":n.nonces?.follow||"","user.follow_user":n.nonces?.follow||""};return H[d]&&B.set("_wpnonce",H[d]),`${window.wpApiSettings?.root||"/"}?${B.toString()}`},N=h.useCallback(()=>{if(!n&&l==="frontend"&&_)return{tag:"div"};switch(e.actionType){case"action_link":return{tag:"a",href:e.link?.url||"#",target:e.link?.isExternal?"_blank":void 0,rel:e.link?.nofollow?"nofollow":void 0};case"delete_post":return n?{tag:"a",href:t("user.posts.delete_post",{post_id:n.postId}),className:"ts-action-con","vx-action":"",rel:"nofollow","data-confirm":n.confirmMessages?.delete||"Are you sure?"}:{tag:"div"};case"publish_post":return n?{tag:"a",href:t("user.posts.republish_post",{post_id:n.postId}),className:"ts-action-con","vx-action":"",rel:"nofollow"}:{tag:"div"};case"unpublish_post":return n?{tag:"a",href:t("user.posts.unpublish_post",{post_id:n.postId}),className:"ts-action-con","vx-action":"",rel:"nofollow"}:{tag:"div"};case"add_to_cart":return n?n.product?.oneClick?{tag:"a",href:"#",target:"_blank",rel:"nofollow","data-product-id":n.product.productId,onClick:d=>{typeof window.Voxel<"u"&&window.Voxel.addToCartAction&&window.Voxel.addToCartAction(d,d.currentTarget)}}:{tag:"a",href:n.postLink,className:"ts-action-con"}:{tag:"div"};case"select_addition":return{tag:"a",href:"#",role:"button",className:"ts-action-con ts-use-addition","data-id":e.additionId,onClick:d=>{d.preventDefault()}};case"action_follow_post":return n?{tag:"a",href:t("user.follow_post",{post_id:n.postId}),rel:"nofollow",role:"button"}:{tag:"div"};case"action_follow":return n?{tag:"a",href:t("user.follow_user",{user_id:n.authorId||0}),rel:"nofollow",role:"button"}:{tag:"div"};case"show_post_on_map":return n?.location?.mapLink?{tag:"a",href:n.location.mapLink,rel:"nofollow",className:"ts-action-con ts-action-show-on-map","data-post-id":n.postId}:{tag:"div"};case"view_post_stats":return n?.postStatsLink?{tag:"a",href:n.postStatsLink,rel:"nofollow"}:{tag:"div"};case"promote_post":if(n?.promote?.isPromotable){if(n.promote.isActive&&n.promote.orderLink)return{tag:"a",href:n.promote.orderLink,rel:"nofollow"};if(n.promote.promoteLink)return{tag:"a",href:n.promote.promoteLink,rel:"nofollow",role:"button"}}return{tag:"div"};case"back_to_top":return{tag:"a",href:"#",onClick:d=>{d.preventDefault(),typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})}};case"go_back":return{tag:"a",href:"javascript:history.back();"};case"scroll_to_section":return{tag:"a",href:"#",onClick:d=>{if(d.preventDefault(),typeof window<"u"&&e.scrollToId){const E=document.getElementById(e.scrollToId);E&&E.scrollIntoView({behavior:"smooth"})}}};case"edit_post":return n?.editLink?n.editSteps&&n.editSteps.length>1?{tag:"a",href:"#",ref:f,role:"button",onClick:d=>{d.preventDefault(),u(!0)}}:{tag:"a",href:n.editLink}:{tag:"div"};case"share_post":return{tag:"a",href:"#",ref:f,role:"button",onClick:d=>{d.preventDefault(),m(!0)}};case"action_gcal":{const d=Y({start:e.calStartDate,end:e.calEndDate,title:e.calTitle,description:e.calDescription,location:e.calLocation});return d?{tag:"a",href:d,target:"_blank",rel:"nofollow",className:"ts-action-con"}:{tag:"div"}}case"action_ical":{const d=K({start:e.calStartDate,end:e.calEndDate,title:e.calTitle,description:e.calDescription,location:e.calLocation,url:e.calUrl});return d?{tag:"a",href:d.dataUrl,download:d.filename,role:"button",rel:"nofollow",className:"ts-action-con"}:{tag:"div"}}default:return{tag:"div"}}},[e,n,l,_])(),z=N.tag,W=e.actionType==="add_to_cart"&&n?.product&&!n.product.oneClick,D=()=>{if(s)return React.createElement(React.Fragment,null,React.createElement("span",{className:"ts-initial"},React.createElement("div",{className:"ts-action-icon",style:w},v(e.icon)),e.text),React.createElement("span",{className:"ts-reveal"},React.createElement("div",{className:"ts-action-icon",style:w},v(e.activeIcon)),e.activeText));const d=W&&e.cartOptsIcon||e.icon,E=W?e.cartOptsText:e.text;return React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-action-icon",style:w},v(d)),E)},O=[`vxfse-repeater-item-${e.id||o}`,"flexify","ts-action"].join(" "),j=[N.className||"ts-action-con",["action_follow_post","action_follow"].includes(e.actionType)?"ts-action-follow":"",k?"active":"",r?"intermediate":""].filter(Boolean).join(" "),_e=["action_follow_post","action_follow"].includes(e.actionType),he=e.actionType==="select_addition",T={};_e?(e.enableTooltip&&e.tooltipText&&(T["tooltip-inactive"]=e.tooltipText),e.activeEnableTooltip&&e.activeTooltipText&&(T["tooltip-active"]=e.activeTooltipText)):he?(e.enableTooltip&&e.tooltipText&&(T["data-tooltip"]=e.tooltipText,T["data-tooltip-default"]=e.tooltipText),e.activeEnableTooltip&&e.activeTooltipText&&(T["data-tooltip-active"]=e.activeTooltipText)):W?e.cartOptsEnableTooltip&&e.cartOptsTooltipText&&(T["data-tooltip"]=e.cartOptsTooltipText):S&&(T["data-tooltip"]=S);const P=e.actionType==="edit_post"&&n?.editSteps&&n.editSteps.length>1,$=e.actionType==="share_post";if(P||$){const d=$?"ts-action-wrap ts-share-post":"ts-action-wrap ts-popup-component";return React.createElement("li",{className:O,style:I,...T},React.createElement("div",{className:d},React.createElement(z,{...N,className:j,style:g,"aria-label":e.text||S,role:z==="a"?void 0:"button"},D()),P&&n&&React.createElement(Z,{editSteps:n.editSteps,icon:e.icon,text:e.text,closeIcon:a.closeIcon,isOpen:c,onClose:()=>u(!1),targetRef:f}),$&&n&&React.createElement(ee,{title:n.postTitle,link:n.postLink,icon:e.icon,closeIcon:a.closeIcon,isOpen:p,onClose:()=>m(!1),targetRef:f})))}return React.createElement("li",{className:O,style:I,...T},React.createElement(z,{...N,className:j,style:g,"aria-label":e.text||S,role:z==="a"?void 0:"button"},D()))}function ae({attributes:e,context:o,postContext:a}){const l=oe(e),n=h.useMemo(()=>({items:e.items,icons:{closeIcon:e.closeIcon?.value?e.closeIcon:null,messageIcon:e.messageIcon?.value?e.messageIcon:null,linkIcon:e.linkIcon?.value?e.linkIcon:null,shareIcon:e.shareIcon?.value?e.shareIcon:null},list:{enableCssGrid:e.enableCssGrid,gridColumns:e.gridColumns,itemWidth:e.itemWidth,customItemWidth:e.customItemWidth,customItemWidthUnit:e.customItemWidthUnit,listJustify:e.listJustify,itemGap:e.itemGap,itemGapUnit:e.itemGapUnit},itemStyle:{justifyContent:e.itemJustifyContent,padding:e.itemPadding,paddingUnit:e.itemPaddingUnit,height:e.itemHeight,heightUnit:e.itemHeightUnit,borderType:e.itemBorderType,borderWidth:e.itemBorderWidth,borderWidthUnit:e.itemBorderWidthUnit,borderColor:e.itemBorderColor,borderRadius:e.itemBorderRadius,borderRadiusUnit:e.itemBorderRadiusUnit,boxShadow:e.itemBoxShadow,typography:e.itemTypography,textColor:e.itemTextColor,backgroundColor:e.itemBackgroundColor},iconContainer:{background:e.iconContainerBackground,size:e.iconContainerSize,sizeUnit:e.iconContainerSizeUnit,borderType:e.iconContainerBorderType,borderWidth:e.iconContainerBorderWidth,borderWidthUnit:e.iconContainerBorderWidthUnit,borderColor:e.iconContainerBorderColor,borderRadius:e.iconContainerBorderRadius,borderRadiusUnit:e.iconContainerBorderRadiusUnit,boxShadow:e.iconContainerBoxShadow,textSpacing:e.iconTextSpacing,textSpacingUnit:e.iconTextSpacingUnit},icon:{onTop:e.iconOnTop,size:e.iconSize,sizeUnit:e.iconSizeUnit,color:e.iconColor},hoverStyle:{boxShadow:e.itemBoxShadowHover,borderColor:e.itemBorderColorHover,textColor:e.itemTextColorHover,backgroundColor:e.itemBackgroundColorHover,iconContainerBackground:e.iconContainerBackgroundHover,iconContainerBorderColor:e.iconContainerBorderColorHover,iconColor:e.iconColorHover},activeStyle:{boxShadow:e.itemBoxShadowActive,textColor:e.itemTextColorActive,backgroundColor:e.itemBackgroundColorActive,borderColor:e.itemBorderColorActive,iconContainerBackground:e.iconContainerBackgroundActive,iconContainerBorderColor:e.iconContainerBorderColorActive,iconColor:e.iconColorActive},tooltip:{bottom:e.tooltipBottom,textColor:e.tooltipTextColor,typography:e.tooltipTypography,backgroundColor:e.tooltipBackgroundColor,borderRadius:e.tooltipBorderRadius,borderRadiusUnit:e.tooltipBorderRadiusUnit}}),[e]);return!e.items||e.items.length===0?React.createElement("ul",{className:"flexify simplify-ul ts-advanced-list voxel-fse-empty"},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(n)}}),React.createElement("li",{className:"flexify ts-action"},React.createElement("div",{className:"ts-action-con",style:{padding:"16px 24px",color:"#666",background:"#f5f5f5",borderRadius:"8px"}},o==="editor"?'Click "+ Add Item" in the sidebar to add actions':"No actions configured"))):React.createElement("ul",{className:"flexify simplify-ul ts-advanced-list",style:l},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(n)}}),e.items.map((c,u)=>React.createElement(re,{key:c.id||u,item:c,index:u,attributes:e,context:o,postContext:a})))}function le(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const o=e.getAttribute("href");if(o)return o}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),o=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!o.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}const x={top:"",right:"",bottom:"",left:""},C={horizontal:0,vertical:0,blur:0,spread:0,color:"rgba(0,0,0,0.1)"},U={},b={library:"",value:""};function ce(e){const o=(r,t)=>typeof r=="string"?r:typeof r=="number"?String(r):t,a=(r,t)=>{if(typeof r=="number")return r;if(typeof r=="string"){const i=parseFloat(r);if(!isNaN(i))return i}return t},l=(r,t)=>typeof r=="boolean"?r:r==="yes"||r==="true"||r==="1"||r===1?!0:r===""||r==="no"||r==="false"||r==="0"||r===0?!1:t,n=r=>{if(!r||typeof r!="object")return null;const t=r;return!t.library&&!t.value?null:{library:o(t.library,""),value:o(t.value,"")}},c=r=>{if(!r||typeof r!="object")return x;const t=r;return{top:o(t.top,""),right:o(t.right,""),bottom:o(t.bottom,""),left:o(t.left,"")}},u=r=>{if(!r||typeof r!="object")return C;const t=r;return{horizontal:a(t.horizontal,0),vertical:a(t.vertical,0),blur:a(t.blur,0),spread:a(t.spread,0),color:o(t.color,"rgba(0,0,0,0.1)")}},p=r=>{if(!r||typeof r!="object")return U;const t=r;return{fontFamily:t.fontFamily!==void 0?o(t.fontFamily??t.font_family,""):void 0,fontSize:t.fontSize!==void 0?a(t.fontSize??t.font_size,14):void 0,fontSizeUnit:t.fontSizeUnit!==void 0?o(t.fontSizeUnit??t.font_size_unit,"px"):void 0,fontWeight:t.fontWeight!==void 0?o(t.fontWeight??t.font_weight,""):void 0,textTransform:t.textTransform!==void 0?o(t.textTransform??t.text_transform,""):void 0,fontStyle:t.fontStyle!==void 0?o(t.fontStyle??t.font_style,""):void 0,textDecoration:t.textDecoration!==void 0?o(t.textDecoration??t.text_decoration,""):void 0,lineHeight:t.lineHeight!==void 0?a(t.lineHeight??t.line_height,1.5):void 0,lineHeightUnit:t.lineHeightUnit!==void 0?o(t.lineHeightUnit??t.line_height_unit,"em"):void 0,letterSpacing:t.letterSpacing!==void 0?a(t.letterSpacing??t.letter_spacing,0):void 0,letterSpacingUnit:t.letterSpacingUnit!==void 0?o(t.letterSpacingUnit??t.letter_spacing_unit,"px"):void 0}},m=r=>{if(!r||typeof r!="object")return null;const t=r;return{url:o(t.url,""),isExternal:l(t.isExternal??t.is_external,!1),nofollow:l(t.nofollow,!1)}},f=r=>{if(!r||typeof r!="object")return{...M,id:crypto.randomUUID?.()||String(Date.now())};const t=r;return{id:o(t.id??t._id,crypto.randomUUID?.()||String(Date.now())),actionType:o(t.actionType??t.ts_action_type,"none"),text:o(t.text??t.ts_acw_initial_text,"Action"),icon:n(t.icon??t.ts_acw_initial_icon),enableTooltip:l(t.enableTooltip??t.ts_enable_tooltip,!1),tooltipText:o(t.tooltipText??t.ts_tooltip_text,""),link:m(t.link??t.ts_action_link),scrollToId:o(t.scrollToId??t.ts_scroll_to,""),additionId:o(t.additionId??t.ts_addition_id,""),calStartDate:o(t.calStartDate??t.ts_action_cal_start_date,""),calEndDate:o(t.calEndDate??t.ts_action_cal_end_date,""),calTitle:o(t.calTitle??t.ts_action_cal_title,""),calDescription:o(t.calDescription??t.ts_action_cal_desc,""),calLocation:o(t.calLocation??t.ts_action_cal_location,""),calUrl:o(t.calUrl??t.ts_action_cal_url,""),cartOptsText:o(t.cartOptsText??t.ts_cart_opts_text,"Select options"),cartOptsEnableTooltip:l(t.cartOptsEnableTooltip??t.ts_cart_opts_enable_tooltip,!1),cartOptsTooltipText:o(t.cartOptsTooltipText??t.ts_cart_opts_tooltip_text,""),cartOptsIcon:n(t.cartOptsIcon??t.ts_cart_opts_icon),activeText:o(t.activeText??t.ts_acw_reveal_text,"Action"),activeIcon:n(t.activeIcon??t.ts_acw_reveal_icon),activeEnableTooltip:l(t.activeEnableTooltip??t.ts_acw_enable_tooltip,!1),activeTooltipText:o(t.activeTooltipText??t.ts_acw_tooltip_text,""),customStyle:l(t.customStyle??t.ts_acw_custom_style,!1),customIconColor:o(t.customIconColor??t.ts_acw_icon_color_custom,""),customIconColorActive:o(t.customIconColorActive??t.ts_acw_icon_color_a_custom,""),loopSource:o(t.loopSource,""),loopProperty:o(t.loopProperty,""),loopLimit:o(t.loopLimit,""),loopOffset:o(t.loopOffset,""),rowVisibility:o(t.rowVisibility,"show"),visibilityRules:Array.isArray(t.visibilityRules)?t.visibilityRules:[]}},_=r=>r?Array.isArray(r)?r.map(f):typeof r=="object"?Object.values(r).map(f):[]:[],s=r=>{const t={closeIcon:b,messageIcon:b,linkIcon:b,shareIcon:b};if(!r||typeof r!="object")return t;const i=r;return{closeIcon:n(i.closeIcon??i.ts_close_ico)||b,messageIcon:n(i.messageIcon??i.ts_message_ico)||b,linkIcon:n(i.linkIcon??i.ts_link_ico)||b,shareIcon:n(i.shareIcon??i.ts_share_ico)||b}},y=r=>{const t={enableCssGrid:!1,gridColumns:3,itemWidth:"auto",customItemWidth:100,customItemWidthUnit:"px",listJustify:"left",itemGap:10,itemGapUnit:"px"};if(!r||typeof r!="object")return t;const i=r;return{enableCssGrid:l(i.enableCssGrid??i.csgrid_action_on,!1),gridColumns:a(i.gridColumns??i.ts_cgrid_columns,3),itemWidth:o(i.itemWidth??i.ts_al_columns_no,"auto"),customItemWidth:a(i.customItemWidth??i.ts_al_columns_cstm,100),customItemWidthUnit:o(i.customItemWidthUnit,"px"),listJustify:o(i.listJustify??i.ts_al_justify,"left"),itemGap:a(i.itemGap??i.ts_cgrid_gap,10),itemGapUnit:o(i.itemGapUnit,"px")}},R=r=>{const t={justifyContent:"flex-start",padding:x,paddingUnit:"px",height:48,heightUnit:"px",borderType:"none",borderWidth:x,borderWidthUnit:"px",borderColor:"",borderRadius:0,borderRadiusUnit:"px",boxShadow:C,typography:U,textColor:"",backgroundColor:""};if(!r||typeof r!="object")return t;const i=r;return{justifyContent:o(i.justifyContent??i.ts_al_align,"flex-start"),padding:c(i.padding??i.ts_action_padding),paddingUnit:o(i.paddingUnit,"px"),height:a(i.height??i.ts_acw_height,48),heightUnit:o(i.heightUnit,"px"),borderType:o(i.borderType??i.ts_acw_border,"none"),borderWidth:c(i.borderWidth),borderWidthUnit:o(i.borderWidthUnit,"px"),borderColor:o(i.borderColor,""),borderRadius:a(i.borderRadius??i.ts_acw_border_radius,0),borderRadiusUnit:o(i.borderRadiusUnit,"px"),boxShadow:u(i.boxShadow??i.ts_acw_border_shadow),typography:p(i.typography??i.ts_acw_typography),textColor:o(i.textColor??i.ts_acw_initial_color,""),backgroundColor:o(i.backgroundColor??i.ts_acw_initial_bg,"")}},g=r=>{const t={background:"",size:36,sizeUnit:"px",borderType:"solid",borderWidth:x,borderWidthUnit:"px",borderColor:"",borderRadius:50,borderRadiusUnit:"px",boxShadow:C,textSpacing:0,textSpacingUnit:"px"};if(!r||typeof r!="object")return t;const i=r;return{background:o(i.background??i.ts_acw_icon_con_bg,""),size:a(i.size??i.ts_acw_icon_con_size,36),sizeUnit:o(i.sizeUnit,"px"),borderType:o(i.borderType??i.ts_acw_icon_con_border,"solid"),borderWidth:c(i.borderWidth),borderWidthUnit:o(i.borderWidthUnit,"px"),borderColor:o(i.borderColor,""),borderRadius:a(i.borderRadius??i.ts_acw_icon_con_radius,50),borderRadiusUnit:o(i.borderRadiusUnit,"px"),boxShadow:u(i.boxShadow??i.ts_acw_con_shadow),textSpacing:a(i.textSpacing??i.ts_acw_icon_margin,0),textSpacingUnit:o(i.textSpacingUnit,"px")}},w=r=>{const t={onTop:!1,size:18,sizeUnit:"px",color:""};if(!r||typeof r!="object")return t;const i=r;return{onTop:l(i.onTop??i.ts_acw_icon_orient,!1),size:a(i.size??i.ts_acw_icon_size,18),sizeUnit:o(i.sizeUnit,"px"),color:o(i.color??i.ts_acw_icon_color,"")}},I=r=>{const t={boxShadow:C,borderColor:"",textColor:"",backgroundColor:"",iconContainerBackground:"",iconContainerBorderColor:"",iconColor:""};if(!r||typeof r!="object")return t;const i=r;return{boxShadow:u(i.boxShadow??i.ts_acw_border_shadow_h),borderColor:o(i.borderColor??i.ts_acw_border_h,""),textColor:o(i.textColor??i.ts_acw_initial_color_h,""),backgroundColor:o(i.backgroundColor??i.ts_acw_initial_bg_h,""),iconContainerBackground:o(i.iconContainerBackground??i.ts_acw_icon_con_bg_h,""),iconContainerBorderColor:o(i.iconContainerBorderColor??i.ts_acw_icon_con_bord_h,""),iconColor:o(i.iconColor??i.ts_acw_icon_color_h,"")}},S=r=>{const t={boxShadow:C,textColor:"",backgroundColor:"",borderColor:"",iconContainerBackground:"",iconContainerBorderColor:"",iconColor:""};if(!r||typeof r!="object")return t;const i=r;return{boxShadow:u(i.boxShadow??i.ts_acw_border_shadow_a),textColor:o(i.textColor??i.ts_acw_initial_color_a,""),backgroundColor:o(i.backgroundColor??i.ts_acw_initial_bg_a,""),borderColor:o(i.borderColor??i.ts_acw_initial_border_a,""),iconContainerBackground:o(i.iconContainerBackground??i.ts_acw_icon_con_bg_a,""),iconContainerBorderColor:o(i.iconContainerBorderColor??i.ts_acw_icon_con_bord_a,""),iconColor:o(i.iconColor??i.ts_acw_icon_color_a,"")}},k=r=>{const t={bottom:!1,textColor:"",typography:U,backgroundColor:"",borderRadius:0,borderRadiusUnit:"px"};if(!r||typeof r!="object")return t;const i=r;return{bottom:l(i.bottom??i.tooltip_bottom,!1),textColor:o(i.textColor??i.ts_tooltip_color,""),typography:p(i.typography??i.ts_tooltip_typo),backgroundColor:o(i.backgroundColor??i.ts_tooltip_bg,""),borderRadius:a(i.borderRadius??i.ts_tooltip_radius,0),borderRadiusUnit:o(i.borderRadiusUnit,"px")}};return{items:_(e.items??e.ts_actions),icons:s(e.icons),list:y(e.list),itemStyle:R(e.itemStyle??e.item_style),iconContainer:g(e.iconContainer??e.icon_container),icon:w(e.icon),hoverStyle:I(e.hoverStyle??e.hover_style),activeStyle:S(e.activeStyle??e.active_style),tooltip:k(e.tooltip)}}function se(e){const o=e.querySelector("script.vxconfig");if(!o?.textContent)return console.error("[Advanced List] No vxconfig found"),null;try{const a=JSON.parse(o.textContent);return ce(a)}catch(a){return console.error("[Advanced List] Failed to parse vxconfig:",a),null}}function de(e){return{items:e.items||[],closeIcon:e.icons?.closeIcon||b,messageIcon:e.icons?.messageIcon||b,linkIcon:e.icons?.linkIcon||b,shareIcon:e.icons?.shareIcon||b,enableCssGrid:e.list?.enableCssGrid||!1,gridColumns:e.list?.gridColumns||3,itemWidth:e.list?.itemWidth||"auto",customItemWidth:e.list?.customItemWidth||100,customItemWidthUnit:e.list?.customItemWidthUnit||"px",listJustify:e.list?.listJustify||"left",itemGap:e.list?.itemGap||10,itemGapUnit:e.list?.itemGapUnit||"px",itemJustifyContent:e.itemStyle?.justifyContent||"flex-start",itemPadding:e.itemStyle?.padding||x,itemPaddingUnit:e.itemStyle?.paddingUnit||"px",itemHeight:e.itemStyle?.height||48,itemHeightUnit:e.itemStyle?.heightUnit||"px",itemBorderType:e.itemStyle?.borderType||"none",itemBorderWidth:e.itemStyle?.borderWidth||x,itemBorderWidthUnit:e.itemStyle?.borderWidthUnit||"px",itemBorderColor:e.itemStyle?.borderColor||"",itemBorderRadius:e.itemStyle?.borderRadius||0,itemBorderRadiusUnit:e.itemStyle?.borderRadiusUnit||"px",itemBoxShadow:e.itemStyle?.boxShadow||C,itemTypography:e.itemStyle?.typography||U,itemTextColor:e.itemStyle?.textColor||"",itemBackgroundColor:e.itemStyle?.backgroundColor||"",iconContainerBackground:e.iconContainer?.background||"",iconContainerSize:e.iconContainer?.size||36,iconContainerSizeUnit:e.iconContainer?.sizeUnit||"px",iconContainerBorderType:e.iconContainer?.borderType||"solid",iconContainerBorderWidth:e.iconContainer?.borderWidth||x,iconContainerBorderWidthUnit:e.iconContainer?.borderWidthUnit||"px",iconContainerBorderColor:e.iconContainer?.borderColor||"",iconContainerBorderRadius:e.iconContainer?.borderRadius||50,iconContainerBorderRadiusUnit:e.iconContainer?.borderRadiusUnit||"px",iconContainerBoxShadow:e.iconContainer?.boxShadow||C,iconTextSpacing:e.iconContainer?.textSpacing||0,iconTextSpacingUnit:e.iconContainer?.textSpacingUnit||"px",iconOnTop:e.icon?.onTop||!1,iconSize:e.icon?.size||18,iconSizeUnit:e.icon?.sizeUnit||"px",iconColor:e.icon?.color||"",itemBoxShadowHover:e.hoverStyle?.boxShadow||C,itemBorderColorHover:e.hoverStyle?.borderColor||"",itemTextColorHover:e.hoverStyle?.textColor||"",itemBackgroundColorHover:e.hoverStyle?.backgroundColor||"",iconContainerBackgroundHover:e.hoverStyle?.iconContainerBackground||"",iconContainerBorderColorHover:e.hoverStyle?.iconContainerBorderColor||"",iconColorHover:e.hoverStyle?.iconColor||"",itemBoxShadowActive:e.activeStyle?.boxShadow||C,itemTextColorActive:e.activeStyle?.textColor||"",itemBackgroundColorActive:e.activeStyle?.backgroundColor||"",itemBorderColorActive:e.activeStyle?.borderColor||"",iconContainerBackgroundActive:e.activeStyle?.iconContainerBackground||"",iconContainerBorderColorActive:e.activeStyle?.iconContainerBorderColor||"",iconColorActive:e.activeStyle?.iconColor||"",tooltipBottom:e.tooltip?.bottom||!1,tooltipTextColor:e.tooltip?.textColor||"",tooltipTypography:e.tooltip?.typography||U,tooltipBackgroundColor:e.tooltip?.backgroundColor||"",tooltipBorderRadius:e.tooltip?.borderRadius||0,tooltipBorderRadiusUnit:e.tooltip?.borderRadiusUnit||"px"}}function pe(){return window.voxelFseAdvancedList?.restUrl?window.voxelFseAdvancedList.restUrl:le()}async function ue(){const e=document.querySelector('meta[name="vx-post-id"]'),o=e?.content?parseInt(e.content,10):null;if(!o)return null;try{const a=pe(),l={},n=window.wpApiSettings?.nonce;n&&(l["X-WP-Nonce"]=n);const c=await fetch(`${a}voxel-fse/v1/advanced-list/post-context?post_id=${o}`,{credentials:"same-origin",headers:l});return c.ok?await c.json():(console.warn("[Advanced List] Failed to fetch post context"),null)}catch(a){return console.warn("[Advanced List] Error fetching post context:",a),null}}function fe(e){const o=["action_follow_post","action_follow","edit_post","delete_post","unpublish_post","publish_post","show_post_on_map","share_post","view_post_stats","add_to_cart","promote_post","select_addition","action_gcal","action_ical"];return e.some(a=>o.includes(a.actionType))}function me({attributes:e,postContext:o}){return React.createElement(ae,{attributes:e,context:"frontend",postContext:o})}async function A(){const e=document.querySelectorAll(".voxel-fse-advanced-list-frontend:not([data-react-mounted])");if(e.length===0)return;let o=null;const a=[];e.forEach(n=>{const c=se(n);c&&a.push({container:n,config:c})}),a.some(({config:n})=>fe(n.items))&&(o=await ue());for(const{container:n,config:c}of a){n.setAttribute("data-react-mounted","true");const u=de(c);n.innerHTML="",G.createRoot(n).render(React.createElement(me,{attributes:u,postContext:o}))}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",A):A(),window.addEventListener("turbo:load",A),window.addEventListener("pjax:complete",A)})(ReactDOM,React,ReactDOM);
