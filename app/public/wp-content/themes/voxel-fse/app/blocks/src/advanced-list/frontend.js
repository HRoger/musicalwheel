(function(to,y,io,F){"use strict";const G=new Map,I=new Map;function no(o){if(G.has(o))return Promise.resolve(G.get(o));if(I.has(o))return I.get(o);const t=fetch(o).then(e=>e.text()).then(e=>(I.delete(o),e.includes("<svg")?(e.includes("aria-hidden")||(e=e.replace("<svg",'<svg aria-hidden="true"')),e=e.replace(/<svg([^>]*)\sfill="[^"]*"/,"<svg$1"),G.set(o,e),e):"")).catch(()=>(I.delete(o),""));return I.set(o,t),t}function ro({url:o,className:t}){const e=y.useRef(null);return y.useEffect(()=>{if(!e.current)return;let c=!1;return no(o).then(i=>{if(c||!e.current||!i)return;const d=document.createElement("div");d.innerHTML=i;const a=d.querySelector("svg");a&&(t&&a.classList.add(...t.split(" ")),e.current.innerHTML="",e.current.appendChild(a))}),()=>{c=!0,e.current&&(e.current.innerHTML="")}},[o,t]),React.createElement("span",{ref:e,"aria-hidden":"true",style:{display:"contents"}})}function co({text:o,icon:t="î —",className:e="",style:c={}}){return typeof window<"u"&&!window.wp?.blockEditor?null:y.createElement("div",{className:`voxel-empty-placeholder ${e}`,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:o?"8px":"0",background:"rgb(213 216 220 / 80%)",borderRadius:"0",color:"#666",fontSize:"13px",height:"100%",minHeight:"45px",width:"100%",boxSizing:"border-box",...c}},y.createElement("span",{className:"placeholder-icon",style:{fontFamily:"eicons",fontSize:"24px",opacity:.3,lineHeight:1,fontStyle:"normal"}},t),o&&y.createElement("span",{className:"placeholder-text",style:{opacity:.6}},o))}const lo={id:"",actionType:"none",text:"Action",icon:null,enableTooltip:!1,tooltipText:"",link:null,scrollToId:"",additionId:"",calStartDate:"",calEndDate:"",calTitle:"",calDescription:"",calLocation:"",calUrl:"",cartOptsText:"Select options",cartOptsEnableTooltip:!1,cartOptsTooltipText:"",cartOptsIcon:null,activeText:"Action",activeIcon:null,activeEnableTooltip:!1,activeTooltipText:"",customStyle:!1,customIconColor:"",customIconColorActive:"",loopSource:"",loopProperty:"",loopLimit:"",loopOffset:"",rowVisibility:"show",visibilityRules:[]},ao=["action_follow_post","action_follow","edit_post","delete_post","unpublish_post","publish_post","show_post_on_map","share_post","view_post_stats","add_to_cart","promote_post","select_addition","action_gcal","action_ical","action_save","direct_message","direct_message_user","relist_post","switch_listing_plan"],so=["action_follow","action_follow_post","select_addition","promote_post","action_save"];function po(o){return typeof o=="string"&&o.includes("@tags()")&&o.includes("@endtags()")}function uo(o){const t=o.match(/@tags\(\)(.*?)@endtags\(\)/s);return t?t[1]:o}function mo(o,t={}){const[e,c]=y.useState(o),i=y.useRef(null),d=JSON.stringify(o);return y.useEffect(()=>{const u=Object.entries(o).filter(([,m])=>po(m));if(u.length===0){c(o);return}i.current?.abort();const f=new AbortController;i.current=f;const h={type:t.templateContext||"post"};t.templatePostType&&(h.post_type=t.templatePostType);const g=u.map(([m,n])=>{const p=uo(n);return F({path:"/voxel-fse/v1/dynamic-data/render",method:"POST",data:{expression:p,preview_context:h},signal:f.signal}).then(_=>[m,_.rendered??p]).catch(_=>_.name!=="AbortError"?[m,p]:null)});return Promise.all(g).then(m=>{const n={...o};for(const p of m)p&&(n[p[0]]=p[1]);c(n)}),()=>{f.abort()}},[d,t.templateContext,t.templatePostType]),e}function fo(o,t){const[e,c]=y.useState({}),i=y.useRef(null),d=o.filter(u=>u.visibilityRules&&u.visibilityRules.length>0).map(u=>({id:u.id,visibilityRules:u.visibilityRules,rowVisibility:u.rowVisibility||"show"})),a=JSON.stringify(d);return y.useEffect(()=>{if(d.length===0){c({});return}i.current?.abort();const u=new AbortController;return i.current=u,F({path:"/voxel-fse/v1/advanced-list/evaluate-visibility",method:"POST",data:{items:d,post_type:t},signal:u.signal}).then(f=>{f.success&&f.results&&c(f.results)}).catch(f=>{f.name!=="AbortError"&&c({})}),()=>{u.abort()}},[a,t]),e}const ho=[{type:"facebook",label:"Facebook",icon:'<i class="fab fa-facebook"></i>'},{type:"twitter",label:"Twitter",icon:'<i class="fab fa-twitter"></i>'},{type:"linkedin",label:"LinkedIn",icon:'<i class="fab fa-linkedin"></i>'},{type:"pinterest",label:"Pinterest",icon:'<i class="fab fa-pinterest"></i>'},{type:"whatsapp",label:"WhatsApp",icon:'<i class="fab fa-whatsapp"></i>'},{type:"email",label:"Email",icon:'<i class="las la-envelope"></i>'},{type:"copy",label:"Copy link",icon:'<i class="las la-link"></i>'}];function _o(o,t,e){const c=encodeURIComponent(t),i=encodeURIComponent(e);switch(o){case"facebook":return`https://www.facebook.com/sharer/sharer.php?u=${i}`;case"twitter":return`https://twitter.com/intent/tweet?text=${c}&url=${i}`;case"linkedin":return`https://www.linkedin.com/shareArticle?mini=true&url=${i}&title=${c}`;case"pinterest":return`https://pinterest.com/pin/create/button/?url=${i}&description=${c}`;case"whatsapp":return`https://wa.me/?text=${c}%20${i}`;case"email":return`mailto:?subject=${c}&body=${i}`;case"copy":return"#";default:return"#"}}function go(o){const t=o.start?new Date(o.start):null;if(!t||isNaN(t.getTime()))return null;let e=o.end?new Date(o.end):null;(!e||isNaN(e.getTime())||e<t)&&(e=t);const c=d=>d.toISOString().replace(/[-:]/g,"").split(".")[0],i=new URLSearchParams({action:"TEMPLATE",trp:"true",text:o.title||"",dates:`${c(t)}/${c(e)}`});if(o.description){const d=o.description.replace(/<[^>]*>/g,"");i.set("details",d)}return o.location&&i.set("location",o.location),o.timezone&&i.set("ctz",o.timezone),`https://calendar.google.com/calendar/render?${i.toString()}`}function Co(o){const t=o.start?new Date(o.start):null;if(!t||isNaN(t.getTime()))return null;let e=o.end?new Date(o.end):null;(!e||isNaN(e.getTime())||e<t)&&(e=t);const c=$=>$.toISOString().replace(/[-:]/g,"").split(".")[0],i=c(t),d=c(e),a=(o.title||"event").replace(/[^\w\s-]/g,""),u=(o.description||"").replace(/<[^>]*>/g,"").replace(/\r\n|\r|\n/g,"\\n").replace(/&nbsp;/g,""),f=(o.location||"").replace(/[^\w\s,-]/g,""),h=o.url||"",g=c(new Date),m=`${window.location.origin}/?ics_uid=${btoa(JSON.stringify([a,i,d,h])).slice(0,20)}`,n=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//hacksw/handcal//NONSGML v1.0//EN","CALSCALE:GREGORIAN","BEGIN:VEVENT",`LOCATION:${f}`,`DESCRIPTION:${u}`,`DTSTART:${i}`,`DTEND:${d}`,`SUMMARY:${a}`,`URL;VALUE=URI:${h}`,`DTSTAMP:${g}`,`UID:${m}`,"END:VEVENT","END:VCALENDAR"].join(`\r
`),p=`data:text/calendar;base64,${btoa(n)}`,_=`${a||"event"}.ics`;return{dataUrl:p,filename:_}}function yo(o,t,e,c){const[i,d]=y.useState({}),a=y.useRef(""),u=y.useCallback(()=>{if(!c.current||!t.current||!e.current)return;const f=document.body.clientWidth,h=t.current.getBoundingClientRect(),g=t.current.offsetWidth,m={left:h.left+window.pageXOffset,top:h.top+window.pageYOffset},n=e.current.getBoundingClientRect(),p=window.getComputedStyle(c.current),_=parseFloat(p.minWidth)||0,$=Math.max(h.width,_||Math.min(340,f-40));let w=m.left+g/2>f/2+1?m.left-$+g:m.left;w<0&&(w=10),w+$>f&&(w=f-$-10);let x=m.top+h.height;const s=window.innerHeight;h.bottom+n.height>s&&h.top-n.height>=0&&(x=m.top-n.height);const r={top:`${x}px`,left:`${w}px`,width:`${$}px`,position:"absolute"},l=JSON.stringify(r);l!==a.current&&(a.current=l,d(r))},[t,e,c]);return y.useEffect(()=>{if(!o)return;requestAnimationFrame(()=>{requestAnimationFrame(()=>u())});const f=()=>u(),h=()=>u();window.addEventListener("scroll",f,!0),window.addEventListener("resize",h,!0);let g=null;return c.current&&(g=new ResizeObserver(()=>{requestAnimationFrame(()=>u())}),g.observe(c.current)),()=>{window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",h,!0),g?.disconnect()}},[o,u,c]),i}function V({isOpen:o,targetRef:t,onClose:e,children:c}){const i=y.useRef(null),d=y.useRef(null),a=yo(o,t,i,d);return y.useEffect(()=>{if(!o)return;const u=f=>{f.key==="Escape"&&e()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[o,e]),y.useEffect(()=>{if(!o)return;const u=h=>{const g=h.target;d.current?.contains(g)||t.current?.contains(g)||e()},f=requestAnimationFrame(()=>{document.addEventListener("mousedown",u)});return()=>{cancelAnimationFrame(f),document.removeEventListener("mousedown",u)}},[o,e,t]),o?io.createPortal(React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{ref:i,className:"ts-form elementor-element",style:a},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{ref:d,className:"ts-field-popup triggers-blur"},c)))),document.body):null}function vo({editSteps:o,icon:t,text:e,closeIcon:c,onClose:i,isOpen:d,targetRef:a}){return React.createElement(V,{isOpen:d,targetRef:a,onClose:i},React.createElement("div",{className:"ts-popup-head ts-sticky-top flexify hide-d"},React.createElement("div",{className:"ts-popup-name flexify"},R(t),React.createElement("span",null,"Edit")),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{role:"button",href:"#",className:"ts-icon-btn",onClick:u=>{u.preventDefault(),i()}},R(c))))),React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},o.map(u=>React.createElement("li",{key:u.key},React.createElement("a",{href:u.link,className:"flexify"},React.createElement("span",null,u.label)))))))}function $o({title:o,link:t,icon:e,closeIcon:c,onClose:i,isOpen:d,targetRef:a}){const[u,f]=y.useState(!1),h=async(m,n)=>{if(m.type==="copy"){n.preventDefault();try{await navigator.clipboard.writeText(t),f(!0),setTimeout(()=>f(!1),2e3)}catch{const _=document.createElement("textarea");_.value=t,document.body.appendChild(_),_.select(),document.execCommand("copy"),document.body.removeChild(_),f(!0),setTimeout(()=>f(!1),2e3)}return}},g=ho.map(m=>({...m,link:_o(m.type,o,t)}));return React.createElement(V,{isOpen:d,targetRef:a,onClose:i},React.createElement("div",{className:"ts-popup-head ts-sticky-top flexify hide-d"},React.createElement("div",{className:"ts-popup-name flexify"},R(e),React.createElement("span",null,"Share post")),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{role:"button",href:"#",className:"ts-icon-btn",onClick:m=>{m.preventDefault(),i()}},R(c))))),React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll ts-social-share"},g.map(m=>m.type==="ui-heading"?React.createElement("li",{key:`heading-${m.label}`,className:"ts-parent-item vx-noevent"},React.createElement("a",{href:"#",className:"flexify"},React.createElement("span",null,m.label))):React.createElement("li",{key:m.type,className:`ts-share-${m.type}`},React.createElement("a",{href:m.link,target:m.type!=="copy"&&m.type!=="email"?"_blank":void 0,className:"flexify",rel:"nofollow",onClick:n=>h(m,n)},React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:m.icon}})),React.createElement("span",null,m.type==="copy"&&u?"Copied!":m.label)))))))}function R(o){if(!o||!o.value)return null;if(o.library==="svg")return React.createElement(ro,{url:o.value});const t=o.library&&o.library!=="icon"&&o.library!=="dynamic"?`${o.library} ${o.value}`:o.value;return React.createElement("i",{className:t,"aria-hidden":"true"})}function xo(o){const t={};return o.enableCssGrid?(t.display="grid",o.gridColumns&&(t.gridTemplateColumns=`repeat(${o.gridColumns}, minmax(0, 1fr))`)):o.listJustify&&(t.justifyContent=o.listJustify),o.itemGap&&(t.gap=`${o.itemGap}${o.itemGapUnit||"px"}`),t}function So(o){const t={};o.itemJustifyContent&&(t.justifyContent=o.itemJustifyContent),o.itemHeight&&(t.height=`${o.itemHeight}${o.itemHeightUnit||"px"}`);const e=o.itemPadding;if(e&&(e.top||e.right||e.bottom||e.left)){const i=o.itemPaddingUnit||"px";t.padding=`${e.top||0}${i} ${e.right||0}${i} ${e.bottom||0}${i} ${e.left||0}${i}`}if(o.itemBorderType&&o.itemBorderType!=="none"){t.borderStyle=o.itemBorderType,o.itemBorderColor&&(t.borderColor=o.itemBorderColor);const i=o.itemBorderWidth;if(i){const d=o.itemBorderWidthUnit||"px";t.borderWidth=`${i.top||1}${d} ${i.right||1}${d} ${i.bottom||1}${d} ${i.left||1}${d}`}}o.itemBorderRadius&&(t.borderRadius=`${o.itemBorderRadius}${o.itemBorderRadiusUnit||"px"}`),o.itemTextColor&&(t.color=o.itemTextColor),o.itemBackgroundColor&&(t.background=o.itemBackgroundColor);const c=o.itemBoxShadow;return c&&(c.horizontal||c.vertical||c.blur||c.spread)&&(t.boxShadow=`${c.horizontal}px ${c.vertical}px ${c.blur}px ${c.spread}px ${c.color||"rgba(0,0,0,0.1)"}`),o.iconTextSpacing&&(t.gap=`${o.iconTextSpacing}${o.iconTextSpacingUnit||"px"}`),o.iconOnTop&&(t.flexDirection="column"),t}function wo(o){const t={};if(o.iconContainerSize){const e=`${o.iconContainerSize}${o.iconContainerSizeUnit||"px"}`;t.width=e,t.height=e}return o.iconContainerBackground&&(t.background=o.iconContainerBackground),o.iconContainerBorderRadius&&(t.borderRadius=`${o.iconContainerBorderRadius}${o.iconContainerBorderRadiusUnit||"px"}`),o.iconSize&&(t["--ts-icon-size"]=`${o.iconSize}${o.iconSizeUnit||"px"}`),o.iconColor&&(t["--ts-icon-color"]=o.iconColor),t}function To(o){return!o.enableCssGrid&&o.itemWidth==="custom"&&o.customItemWidth?{width:`${o.customItemWidth}${o.customItemWidthUnit||"px"}`}:{}}function bo({item:o,index:t,attributes:e,context:c,postContext:i,templateContext:d,templatePostType:a,visibilityResults:u}){const[f,h]=y.useState(!1),[g,m]=y.useState(!1),n=y.useRef(null),p=ao.includes(o.actionType),_=so.includes(o.actionType),$=y.useMemo(()=>({templateContext:d,templatePostType:a}),[d,a]),S=y.useMemo(()=>({text:o.text||"",activeText:o.activeText||"",tooltipText:o.tooltipText||"",activeTooltipText:o.activeTooltipText||"",cartOptsText:o.cartOptsText||"",cartOptsTooltipText:o.cartOptsTooltipText||"",calTitle:o.calTitle||"",calDescription:o.calDescription||"",calLocation:o.calLocation||"",calUrl:o.calUrl||""}),[o.text,o.activeText,o.tooltipText,o.activeTooltipText,o.cartOptsText,o.cartOptsTooltipText,o.calTitle,o.calDescription,o.calLocation,o.calUrl]),w=mo(c==="editor"?S:{},$),x=y.useMemo(()=>{if(c!=="editor")return S;const C={...w},U=S;for(const k of Object.keys(C)){const N=U[k]||"";!C[k]&&N.includes("@tags()")&&(C[k]=N.replace(/@tags\(\)/g,"").replace(/@endtags\(\)/g,"").trim())}return C},[c,w,S]),s=y.useMemo(()=>{if(o.visibilityRules&&o.visibilityRules.length>0){if(c==="editor"&&u&&u[o.id]===!1)return!1}else if(o.rowVisibility==="hide")return!1;return!(c!=="editor"&&p&&!i||c!=="editor"&&o.actionType==="edit_post"&&i&&!i.isEditable)},[c,p,i,o.actionType,o.id,o.rowVisibility,o.visibilityRules,u]);if(!y.useMemo(()=>c==="editor"?!0:s?o.actionType==="delete_post"?i?.permissions?.delete??!1:o.actionType==="publish_post"?(i?.permissions?.publish??!1)&&i?.status==="unpublished":o.actionType==="unpublish_post"?(i?.permissions?.publish??!1)&&i?.status==="publish":o.actionType==="add_to_cart"?i?.product?.isEnabled??!1:o.actionType==="show_post_on_map"?i?.location?.mapLink!=null:o.actionType==="view_post_stats"?i?.postStatsLink!=null:o.actionType==="promote_post"?i?.promote?.isPromotable??!1:["action_follow_post","action_follow"].includes(o.actionType)&&i?.timelineEnabled===!1?!1:o.actionType==="action_follow"?i?.authorId!=null:!0:!1,[c,s,o.actionType,i]))return null;const l=So(e),L=wo(e),Y=To(e);o.customStyle&&o.customIconColor&&(L["--ts-icon-color"]=o.customIconColor);const O=o.enableTooltip?x.tooltipText:void 0,Ho=y.useMemo(()=>!_||!i?!1:o.actionType==="action_follow_post"?i.isFollowed:o.actionType==="action_follow"?i.isAuthorFollowed:o.actionType==="promote_post"?i.promote?.isActive??!1:!1,[_,i,o.actionType]),Do=y.useMemo(()=>i?o.actionType==="action_follow_post"?i.isFollowRequested:o.actionType==="action_follow"?i.isAuthorFollowRequested:!1:!1,[i,o.actionType]),W=(C,U={})=>{if(!i)return"#";const k=new URLSearchParams;k.set("vx","1"),k.set("action",C),Object.entries(U).forEach(([Go,Po])=>k.set(Go,String(Po)));const N={"user.posts.delete_post":i.nonces?.delete_post||"","user.posts.republish_post":i.nonces?.modify_post||"","user.posts.unpublish_post":i.nonces?.modify_post||"","user.follow_post":i.nonces?.follow||"","user.follow_user":i.nonces?.follow||""};return N[C]&&k.set("_wpnonce",N[C]),`${window.wpApiSettings?.root||"/"}?${k.toString()}`},j=y.useCallback(()=>{if(!i&&c==="frontend"&&p)return{tag:"div"};switch(o.actionType){case"action_link":return{tag:"a",href:o.link?.url||"#",target:o.link?.isExternal?"_blank":void 0,rel:o.link?.nofollow?"nofollow":void 0};case"delete_post":return i?{tag:"a",href:W("user.posts.delete_post",{post_id:i.postId}),className:"ts-action-con","vx-action":"",rel:"nofollow","data-confirm":i.confirmMessages?.delete||"Are you sure?"}:{tag:"div"};case"publish_post":return i?{tag:"a",href:W("user.posts.republish_post",{post_id:i.postId}),className:"ts-action-con","vx-action":"",rel:"nofollow"}:{tag:"div"};case"unpublish_post":return i?{tag:"a",href:W("user.posts.unpublish_post",{post_id:i.postId}),className:"ts-action-con","vx-action":"",rel:"nofollow"}:{tag:"div"};case"add_to_cart":return i?i.product?.oneClick?{tag:"a",href:"#",target:"_blank",rel:"nofollow","data-product-id":i.product.productId,onClick:C=>{typeof window.Voxel<"u"&&window.Voxel.addToCartAction&&window.Voxel.addToCartAction(C,C.currentTarget)}}:{tag:"a",href:i.postLink,className:"ts-action-con"}:{tag:"div"};case"select_addition":return{tag:"a",href:"#",role:"button",className:"ts-action-con ts-use-addition","data-id":o.additionId,onClick:C=>{C.preventDefault()}};case"action_follow_post":return i?{tag:"a",href:W("user.follow_post",{post_id:i.postId}),rel:"nofollow",role:"button"}:{tag:"div"};case"action_follow":return i?{tag:"a",href:W("user.follow_user",{user_id:i.authorId||0}),rel:"nofollow",role:"button"}:{tag:"div"};case"show_post_on_map":return i?.location?.mapLink?{tag:"a",href:i.location.mapLink,rel:"nofollow",className:"ts-action-con ts-action-show-on-map","data-post-id":i.postId}:{tag:"div"};case"view_post_stats":return i?.postStatsLink?{tag:"a",href:i.postStatsLink,rel:"nofollow"}:{tag:"div"};case"promote_post":if(i?.promote?.isPromotable){if(i.promote.isActive&&i.promote.orderLink)return{tag:"a",href:i.promote.orderLink,rel:"nofollow"};if(i.promote.promoteLink)return{tag:"a",href:i.promote.promoteLink,rel:"nofollow",role:"button"}}return{tag:"div"};case"back_to_top":return{tag:"a",href:"#",onClick:C=>{C.preventDefault(),typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})}};case"go_back":return{tag:"a",href:"javascript:history.back();"};case"scroll_to_section":return{tag:"a",href:"#",onClick:C=>{if(C.preventDefault(),typeof window<"u"&&o.scrollToId){const U=document.getElementById(o.scrollToId);U&&U.scrollIntoView({behavior:"smooth"})}}};case"edit_post":return i?.editLink?i.editSteps&&i.editSteps.length>1?{tag:"a",href:"#",ref:n,role:"button",onClick:C=>{C.preventDefault(),h(!0)}}:{tag:"a",href:i.editLink}:{tag:"div"};case"share_post":return{tag:"a",href:"#",ref:n,role:"button",onClick:C=>{C.preventDefault(),m(!0)}};case"action_gcal":{const C=go({start:o.calStartDate,end:o.calEndDate,title:o.calTitle,description:o.calDescription,location:o.calLocation});return C?{tag:"a",href:C,target:"_blank",rel:"nofollow",className:"ts-action-con"}:{tag:"div"}}case"action_ical":{const C=Co({start:o.calStartDate,end:o.calEndDate,title:o.calTitle,description:o.calDescription,location:o.calLocation,url:o.calUrl});return C?{tag:"a",href:C.dataUrl,download:C.filename,role:"button",rel:"nofollow",className:"ts-action-con"}:{tag:"div"}}default:return{tag:"div"}}},[o,i,c,p])(),P=j.tag,M=o.actionType==="add_to_cart"&&i?.product&&!i.product.oneClick,K=()=>{if(_)return React.createElement(React.Fragment,null,React.createElement("span",{className:"ts-initial"},React.createElement("div",{className:"ts-action-icon",style:L},R(o.icon)),x.text),React.createElement("span",{className:"ts-reveal"},React.createElement("div",{className:"ts-action-icon",style:L},R(o.activeIcon)),x.activeText));const C=M&&o.cartOptsIcon||o.icon,U=M?x.cartOptsText:x.text;return React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-action-icon",style:L},R(C)),U)},Q=[`vxfse-repeater-item-${o.id||t}`,"flexify","ts-action"].join(" "),Z=[j.className||"ts-action-con",["action_follow_post","action_follow"].includes(o.actionType)?"ts-action-follow":"",Ho?"active":"",Do?"intermediate":""].filter(Boolean).join(" "),Lo=["action_follow_post","action_follow"].includes(o.actionType),Oo=o.actionType==="select_addition",B={};Lo?(o.enableTooltip&&x.tooltipText&&(B["tooltip-inactive"]=x.tooltipText),o.activeEnableTooltip&&x.activeTooltipText&&(B["tooltip-active"]=x.activeTooltipText)):Oo?(o.enableTooltip&&x.tooltipText&&(B["data-tooltip"]=x.tooltipText,B["data-tooltip-default"]=x.tooltipText),o.activeEnableTooltip&&x.activeTooltipText&&(B["data-tooltip-active"]=x.activeTooltipText)):M?o.cartOptsEnableTooltip&&x.cartOptsTooltipText&&(B["data-tooltip"]=x.cartOptsTooltipText):O&&(B["data-tooltip"]=O);const oo=o.actionType==="edit_post"&&i?.editSteps&&i.editSteps.length>1,J=o.actionType==="share_post",jo=oo||J,eo=P;if(jo){const C=J?"ts-action-wrap ts-share-post":"ts-action-wrap ts-popup-component";return React.createElement("li",{className:Q,style:Y,...B},React.createElement("div",{className:C},React.createElement(eo,{...j,className:Z,style:l,"aria-label":x.text||O,role:P==="a"?void 0:"button"},K()),oo&&i&&React.createElement(vo,{editSteps:i.editSteps,icon:o.icon,text:x.text,closeIcon:e.closeIcon,isOpen:f,onClose:()=>h(!1),targetRef:n}),J&&i&&React.createElement($o,{title:i.postTitle,link:i.postLink,icon:o.icon,closeIcon:e.closeIcon,isOpen:g,onClose:()=>m(!1),targetRef:n})))}return React.createElement("li",{className:Q,style:Y,...B},React.createElement(eo,{...j,className:Z,style:l,"aria-label":x.text||O,role:P==="a"?void 0:"button"},K()))}function Bo({attributes:o,context:t,postContext:e,templateContext:c,templatePostType:i}){const d=xo(o),a=fo(t==="editor"?o.items||[]:[],i||""),u=y.useMemo(()=>({items:o.items,icons:{closeIcon:o.closeIcon?.value?o.closeIcon:null,messageIcon:o.messageIcon?.value?o.messageIcon:null,linkIcon:o.linkIcon?.value?o.linkIcon:null,shareIcon:o.shareIcon?.value?o.shareIcon:null},list:{enableCssGrid:o.enableCssGrid,gridColumns:o.gridColumns,itemWidth:o.itemWidth,customItemWidth:o.customItemWidth,customItemWidthUnit:o.customItemWidthUnit,listJustify:o.listJustify,itemGap:o.itemGap,itemGapUnit:o.itemGapUnit},itemStyle:{justifyContent:o.itemJustifyContent,padding:o.itemPadding,paddingUnit:o.itemPaddingUnit,height:o.itemHeight,heightUnit:o.itemHeightUnit,borderType:o.itemBorderType,borderWidth:o.itemBorderWidth,borderWidthUnit:o.itemBorderWidthUnit,borderColor:o.itemBorderColor,borderRadius:o.itemBorderRadius,borderRadiusUnit:o.itemBorderRadiusUnit,boxShadow:o.itemBoxShadow,typography:o.itemTypography,textColor:o.itemTextColor,backgroundColor:o.itemBackgroundColor},iconContainer:{background:o.iconContainerBackground,size:o.iconContainerSize,sizeUnit:o.iconContainerSizeUnit,borderType:o.iconContainerBorderType,borderWidth:o.iconContainerBorderWidth,borderWidthUnit:o.iconContainerBorderWidthUnit,borderColor:o.iconContainerBorderColor,borderRadius:o.iconContainerBorderRadius,borderRadiusUnit:o.iconContainerBorderRadiusUnit,boxShadow:o.iconContainerBoxShadow,textSpacing:o.iconTextSpacing,textSpacingUnit:o.iconTextSpacingUnit},icon:{onTop:o.iconOnTop,size:o.iconSize,sizeUnit:o.iconSizeUnit,color:o.iconColor},hoverStyle:{boxShadow:o.itemBoxShadowHover,borderColor:o.itemBorderColorHover,textColor:o.itemTextColorHover,backgroundColor:o.itemBackgroundColorHover,iconContainerBackground:o.iconContainerBackgroundHover,iconContainerBorderColor:o.iconContainerBorderColorHover,iconColor:o.iconColorHover},activeStyle:{boxShadow:o.itemBoxShadowActive,textColor:o.itemTextColorActive,backgroundColor:o.itemBackgroundColorActive,borderColor:o.itemBorderColorActive,iconContainerBackground:o.iconContainerBackgroundActive,iconContainerBorderColor:o.iconContainerBorderColorActive,iconColor:o.iconColorActive},tooltip:{bottom:o.tooltipBottom,textColor:o.tooltipTextColor,typography:o.tooltipTypography,backgroundColor:o.tooltipBackgroundColor,borderRadius:o.tooltipBorderRadius,borderRadiusUnit:o.tooltipBorderRadiusUnit}}),[o]);return!o.items||o.items.length===0?React.createElement("ul",{className:"flexify simplify-ul ts-advanced-list voxel-fse-empty"},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(u)}}),React.createElement("li",{className:"flexify ts-action"},React.createElement(co,null))):React.createElement("ul",{className:"flexify simplify-ul ts-advanced-list",style:d},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(u)}}),o.items.map((f,h)=>React.createElement(bo,{key:f.id||h,item:f,index:h,attributes:o,context:t,postContext:e,templateContext:c,templatePostType:i,visibilityResults:a})))}function q(o){if(!o)return"";const t=[];if(o.fontFamily&&t.push(`font-family: ${o.fontFamily};`),o.fontSize!==void 0){const e=o.fontSizeUnit||"px";t.push(`font-size: ${o.fontSize}${e};`)}if(o.fontWeight&&t.push(`font-weight: ${o.fontWeight};`),o.fontStyle&&o.fontStyle!=="default"&&t.push(`font-style: ${o.fontStyle};`),o.textDecoration&&o.textDecoration!=="none"&&t.push(`text-decoration: ${o.textDecoration};`),o.lineHeight!==void 0){const e=o.lineHeightUnit||"";t.push(`line-height: ${o.lineHeight}${e};`)}if(o.letterSpacing!==void 0){const e=o.letterSpacingUnit||"px";t.push(`letter-spacing: ${o.letterSpacing}${e};`)}return o.textTransform&&o.textTransform!=="none"&&t.push(`text-transform: ${o.textTransform};`),t.join(" ")}function X(o){return o?!!(o.fontFamily||o.fontSize!==void 0||o.fontWeight||o.fontStyle&&o.fontStyle!=="default"||o.textDecoration&&o.textDecoration!=="none"||o.lineHeight!==void 0||o.letterSpacing!==void 0||o.textTransform&&o.textTransform!=="none"):!1}function H(o){return!o||!o.horizontal&&!o.vertical&&!o.blur&&!o.spread?"":`${o.horizontal||0}px ${o.vertical||0}px ${o.blur||0}px ${o.spread||0}px ${o.color||"rgba(0,0,0,0.1)"}`}function D(o){return o?!!(o.horizontal||o.vertical||o.blur||o.spread):!1}function v(o){if(o===void 0||o==="")return 0;const t=parseFloat(String(o));return isNaN(t)?0:t}function Uo(o,t){const e={...o,enableCssGrid:o.enableCssGrid??!1,gridColumns:o.gridColumns??3,itemWidth:o.itemWidth??"auto",customItemWidth:o.customItemWidth??100,customItemWidthUnit:o.customItemWidthUnit??"px",listJustify:o.listJustify??"left",itemGap:o.itemGap??10,itemGapUnit:o.itemGapUnit??"px",itemJustifyContent:o.itemJustifyContent??"flex-start",itemPadding:o.itemPadding??{top:"",right:"",bottom:"",left:""},itemPaddingUnit:o.itemPaddingUnit??"px",itemHeight:o.itemHeight??48,itemHeightUnit:o.itemHeightUnit??"px",itemBorderType:o.itemBorderType??"none",itemBorderWidth:o.itemBorderWidth??{top:"1",right:"1",bottom:"1",left:"1"},itemBorderWidthUnit:o.itemBorderWidthUnit??"px",itemBorderColor:o.itemBorderColor??"",itemBorderRadius:o.itemBorderRadius??0,itemBorderRadiusUnit:o.itemBorderRadiusUnit??"px",itemBoxShadow:o.itemBoxShadow??{horizontal:0,vertical:0,blur:0,spread:0,color:"rgba(0,0,0,0.1)"},itemTypography:o.itemTypography??{},itemTextColor:o.itemTextColor??"",itemBackgroundColor:o.itemBackgroundColor??"",itemMargin:o.itemMargin??{},itemMarginUnit:o.itemMarginUnit??"px",iconContainerBackground:o.iconContainerBackground??"",iconContainerSize:o.iconContainerSize??36,iconContainerSizeUnit:o.iconContainerSizeUnit??"px",iconContainerBorderType:o.iconContainerBorderType??"",iconContainerBorderWidth:o.iconContainerBorderWidth??{},iconContainerBorderWidthUnit:o.iconContainerBorderWidthUnit??"px",iconContainerBorderColor:o.iconContainerBorderColor??"",iconContainerBorderRadius:o.iconContainerBorderRadius??50,iconContainerBorderRadiusUnit:o.iconContainerBorderRadiusUnit??"px",iconContainerBoxShadow:o.iconContainerBoxShadow??{horizontal:0,vertical:0,blur:0,spread:0,color:"rgba(0,0,0,0.1)"},iconTextSpacing:o.iconTextSpacing??0,iconTextSpacingUnit:o.iconTextSpacingUnit??"px",iconOnTop:o.iconOnTop??!1,iconSize:o.iconSize??18,iconSizeUnit:o.iconSizeUnit??"px",iconColor:o.iconColor??"",itemBoxShadowHover:o.itemBoxShadowHover??{horizontal:0,vertical:0,blur:0,spread:0,color:"rgba(0,0,0,0.1)"},itemBorderColorHover:o.itemBorderColorHover??"",itemTextColorHover:o.itemTextColorHover??"",itemBackgroundColorHover:o.itemBackgroundColorHover??"",iconContainerBackgroundHover:o.iconContainerBackgroundHover??"",iconContainerBorderColorHover:o.iconContainerBorderColorHover??"",iconColorHover:o.iconColorHover??"",itemBoxShadowActive:o.itemBoxShadowActive??{horizontal:0,vertical:0,blur:0,spread:0,color:"rgba(0,0,0,0.1)"},itemTextColorActive:o.itemTextColorActive??"",itemBackgroundColorActive:o.itemBackgroundColorActive??"",itemBorderColorActive:o.itemBorderColorActive??"",iconContainerBackgroundActive:o.iconContainerBackgroundActive??"",iconContainerBorderColorActive:o.iconContainerBorderColorActive??"",iconColorActive:o.iconColorActive??"",tooltipBottom:o.tooltipBottom??!1,tooltipTextColor:o.tooltipTextColor??"",tooltipTypography:o.tooltipTypography??{},tooltipBackgroundColor:o.tooltipBackgroundColor??"",tooltipBorderRadius:o.tooltipBorderRadius??0,tooltipBorderRadiusUnit:o.tooltipBorderRadiusUnit??"px"},c=[],i=[],d=[],a=`.voxel-fse-advanced-list-${t}`;if(e.enableCssGrid&&e.gridColumns&&c.push(`${a} .ts-advanced-list { display: grid; grid-template-columns: repeat(${e.gridColumns}, minmax(0, 1fr)); }`),o.enableCssGrid_tablet&&o.gridColumns_tablet?i.push(`${a} .ts-advanced-list { grid-template-columns: repeat(${o.gridColumns_tablet}, minmax(0, 1fr)); }`):o.enableCssGrid_tablet===!1&&i.push(`${a} .ts-advanced-list { display: flex; grid-template-columns: unset; }`),o.enableCssGrid_mobile&&o.gridColumns_mobile?d.push(`${a} .ts-advanced-list { grid-template-columns: repeat(${o.gridColumns_mobile}, minmax(0, 1fr)); }`):o.enableCssGrid_mobile===!1&&d.push(`${a} .ts-advanced-list { display: flex; grid-template-columns: unset; }`),!e.enableCssGrid&&e.listJustify&&c.push(`${a} .ts-advanced-list { justify-content: ${e.listJustify}; }`),!(o.enableCssGrid_tablet??e.enableCssGrid)){const n=o.listJustify_tablet??e.listJustify;n&&i.push(`${a} .ts-advanced-list { justify-content: ${n}; }`)}if(!(o.enableCssGrid_mobile??o.enableCssGrid_tablet??e.enableCssGrid)){const n=o.listJustify_mobile??o.listJustify_tablet??e.listJustify;n&&d.push(`${a} .ts-advanced-list { justify-content: ${n}; }`)}{const n=e.itemGapUnit||"px";c.push(`${a} .ts-advanced-list { gap: ${e.itemGap}${n}; }`)}if(o.itemGap_tablet!==void 0){const n=e.itemGapUnit||"px";i.push(`${a} .ts-advanced-list { gap: ${o.itemGap_tablet}${n}; }`)}if(o.itemGap_mobile!==void 0){const n=e.itemGapUnit||"px";d.push(`${a} .ts-advanced-list { gap: ${o.itemGap_mobile}${n}; }`)}if(!e.enableCssGrid&&e.itemWidth==="custom"){{const n=e.customItemWidthUnit||"px";c.push(`${a} .ts-action { width: ${e.customItemWidth}${n}; }`)}if(o.customItemWidth_tablet!==void 0){const n=e.customItemWidthUnit||"px";i.push(`${a} .ts-action { width: ${o.customItemWidth_tablet}${n}; }`)}if(o.customItemWidth_mobile!==void 0){const n=e.customItemWidthUnit||"px";d.push(`${a} .ts-action { width: ${o.customItemWidth_mobile}${n}; }`)}}e.itemJustifyContent&&c.push(`${a} .ts-action-con { justify-content: ${e.itemJustifyContent}; }`),o.itemJustifyContent_tablet&&i.push(`${a} .ts-action-con { justify-content: ${o.itemJustifyContent_tablet}; }`),o.itemJustifyContent_mobile&&d.push(`${a} .ts-action-con { justify-content: ${o.itemJustifyContent_mobile}; }`);const h=e.itemPadding;if(h&&(h.top||h.right||h.bottom||h.left)){const n=e.itemPaddingUnit||"px",p=v(h.top),_=v(h.right),$=v(h.bottom),S=v(h.left);c.push(`${a} .ts-action-con { padding: ${p}${n} ${_}${n} ${$}${n} ${S}${n}; }`)}if(o.itemPadding_tablet){const n=e.itemPaddingUnit||"px",p=o.itemPadding_tablet,_=v(p.top),$=v(p.right),S=v(p.bottom),w=v(p.left);i.push(`${a} .ts-action-con { padding: ${_}${n} ${$}${n} ${S}${n} ${w}${n}; }`)}if(o.itemPadding_mobile){const n=e.itemPaddingUnit||"px",p=o.itemPadding_mobile,_=v(p.top),$=v(p.right),S=v(p.bottom),w=v(p.left);d.push(`${a} .ts-action-con { padding: ${_}${n} ${$}${n} ${S}${n} ${w}${n}; }`)}{const n=e.itemHeightUnit||"px";c.push(`${a} .ts-action-con { height: ${e.itemHeight}${n}; }`)}if(o.itemHeight_tablet!==void 0){const n=e.itemHeightUnit||"px";i.push(`${a} .ts-action-con { height: ${o.itemHeight_tablet}${n}; }`)}if(o.itemHeight_mobile!==void 0){const n=e.itemHeightUnit||"px";d.push(`${a} .ts-action-con { height: ${o.itemHeight_mobile}${n}; }`)}if(e.itemBorderType&&e.itemBorderType!=="none"){c.push(`${a} .ts-action-con { border-style: ${e.itemBorderType}; }`);const n=e.itemBorderWidth;if(n){const p=e.itemBorderWidthUnit||"px",_=v(n.top)||1,$=v(n.right)||1,S=v(n.bottom)||1,w=v(n.left)||1;c.push(`${a} .ts-action-con { border-width: ${_}${p} ${$}${p} ${S}${p} ${w}${p}; }`)}e.itemBorderColor&&c.push(`${a} .ts-action-con { border-color: ${e.itemBorderColor}; }`)}{const n=e.itemBorderRadiusUnit||"px";c.push(`${a} .ts-action-con { border-radius: ${e.itemBorderRadius}${n}; }`)}if(o.itemBorderRadius_tablet!==void 0){const n=e.itemBorderRadiusUnit||"px";i.push(`${a} .ts-action-con { border-radius: ${o.itemBorderRadius_tablet}${n}; }`)}if(o.itemBorderRadius_mobile!==void 0){const n=e.itemBorderRadiusUnit||"px";d.push(`${a} .ts-action-con { border-radius: ${o.itemBorderRadius_mobile}${n}; }`)}if(D(e.itemBoxShadow)){const n=H(e.itemBoxShadow);n&&c.push(`${a} .ts-action-con { box-shadow: ${n}; }`)}if(X(e.itemTypography)){const n=q(e.itemTypography);n&&c.push(`${a} .ts-action-con { ${n} }`)}e.itemTextColor&&c.push(`${a} .ts-action-con { color: ${e.itemTextColor}; }`),e.itemBackgroundColor&&c.push(`${a} .ts-action-con { background-color: ${e.itemBackgroundColor}; }`),e.iconOnTop&&c.push(`${a} .ts-action-con { flex-direction: column; }`),e.iconContainerBackground&&c.push(`${a} .ts-action-icon { background-color: ${e.iconContainerBackground}; }`);{const n=e.iconContainerSizeUnit||"px";c.push(`${a} .ts-action-icon { width: ${e.iconContainerSize}${n}; height: ${e.iconContainerSize}${n}; min-width: ${e.iconContainerSize}${n}; }`)}if(o.iconContainerSize_tablet!==void 0){const n=e.iconContainerSizeUnit||"px";i.push(`${a} .ts-action-icon { width: ${o.iconContainerSize_tablet}${n}; height: ${o.iconContainerSize_tablet}${n}; min-width: ${o.iconContainerSize_tablet}${n}; }`)}if(o.iconContainerSize_mobile!==void 0){const n=e.iconContainerSizeUnit||"px";d.push(`${a} .ts-action-icon { width: ${o.iconContainerSize_mobile}${n}; height: ${o.iconContainerSize_mobile}${n}; min-width: ${o.iconContainerSize_mobile}${n}; }`)}if(e.iconContainerBorderType&&e.iconContainerBorderType!=="none"){c.push(`${a} .ts-action-icon { border-style: ${e.iconContainerBorderType}; }`);const n=e.iconContainerBorderWidth;if(n){const p=e.iconContainerBorderWidthUnit||"px",_=v(n.top)||1,$=v(n.right)||1,S=v(n.bottom)||1,w=v(n.left)||1;c.push(`${a} .ts-action-icon { border-width: ${_}${p} ${$}${p} ${S}${p} ${w}${p}; }`)}e.iconContainerBorderColor&&c.push(`${a} .ts-action-icon { border-color: ${e.iconContainerBorderColor}; }`)}{const n=e.iconContainerBorderRadiusUnit||"px";c.push(`${a} .ts-action-icon { border-radius: ${e.iconContainerBorderRadius}${n}; }`)}if(o.iconContainerBorderRadius_tablet!==void 0){const n=e.iconContainerBorderRadiusUnit||"px";i.push(`${a} .ts-action-icon { border-radius: ${o.iconContainerBorderRadius_tablet}${n}; }`)}if(o.iconContainerBorderRadius_mobile!==void 0){const n=e.iconContainerBorderRadiusUnit||"px";d.push(`${a} .ts-action-icon { border-radius: ${o.iconContainerBorderRadius_mobile}${n}; }`)}if(D(e.iconContainerBoxShadow)){const n=H(e.iconContainerBoxShadow);n&&c.push(`${a} .ts-action-icon { box-shadow: ${n}; }`)}{const n=e.iconTextSpacingUnit||"px";c.push(`${a} .ts-action-con { gap: ${e.iconTextSpacing}${n}; }`)}if(o.iconTextSpacing_tablet!==void 0){const n=e.iconTextSpacingUnit||"px";i.push(`${a} .ts-action-con { gap: ${o.iconTextSpacing_tablet}${n}; }`)}if(o.iconTextSpacing_mobile!==void 0){const n=e.iconTextSpacingUnit||"px";d.push(`${a} .ts-action-con { gap: ${o.iconTextSpacing_mobile}${n}; }`)}{const n=e.iconSizeUnit||"px";c.push(`${a} .ts-action-icon svg, ${a} .ts-action-icon i { width: ${e.iconSize}${n}; height: ${e.iconSize}${n}; font-size: ${e.iconSize}${n}; }`),c.push(`${a} .ts-action-icon { --ts-icon-size: ${e.iconSize}${n}; }`)}if(o.iconSize_tablet!==void 0){const n=e.iconSizeUnit||"px";i.push(`${a} .ts-action-icon svg, ${a} .ts-action-icon i { width: ${o.iconSize_tablet}${n}; height: ${o.iconSize_tablet}${n}; font-size: ${o.iconSize_tablet}${n}; }`),i.push(`${a} .ts-action-icon { --ts-icon-size: ${o.iconSize_tablet}${n}; }`)}if(o.iconSize_mobile!==void 0){const n=e.iconSizeUnit||"px";d.push(`${a} .ts-action-icon svg, ${a} .ts-action-icon i { width: ${o.iconSize_mobile}${n}; height: ${o.iconSize_mobile}${n}; font-size: ${o.iconSize_mobile}${n}; }`),d.push(`${a} .ts-action-icon { --ts-icon-size: ${o.iconSize_mobile}${n}; }`)}if(e.iconColor&&(c.push(`${a} .ts-action-icon svg, ${a} .ts-action-icon i { color: ${e.iconColor}; fill: ${e.iconColor}; }`),c.push(`${a} .ts-action-icon { --ts-icon-color: ${e.iconColor}; }`)),e.itemBorderColorHover&&c.push(`${a} .ts-action-con:hover { border-color: ${e.itemBorderColorHover}; }`),D(e.itemBoxShadowHover)){const n=H(e.itemBoxShadowHover);n&&c.push(`${a} .ts-action-con:hover { box-shadow: ${n}; }`)}e.itemBackgroundColorHover&&c.push(`${a} .ts-action-con:hover { background-color: ${e.itemBackgroundColorHover}; }`),e.itemTextColorHover&&c.push(`${a} .ts-action-con:hover { color: ${e.itemTextColorHover}; }`);const g=e.itemMargin;if(g&&(g.top||g.right||g.bottom||g.left)){const n=e.itemMarginUnit||"px",p=v(g.top),_=v(g.right),$=v(g.bottom),S=v(g.left);c.push(`${a} .ts-action { margin: ${p}${n} ${_}${n} ${$}${n} ${S}${n}; }`)}if(o.itemMargin_tablet){const n=e.itemMarginUnit||"px",p=o.itemMargin_tablet,_=v(p.top),$=v(p.right),S=v(p.bottom),w=v(p.left);i.push(`${a} .ts-action { margin: ${_}${n} ${$}${n} ${S}${n} ${w}${n}; }`)}if(o.itemMargin_mobile){const n=e.itemMarginUnit||"px",p=o.itemMargin_mobile,_=v(p.top),$=v(p.right),S=v(p.bottom),w=v(p.left);d.push(`${a} .ts-action { margin: ${_}${n} ${$}${n} ${S}${n} ${w}${n}; }`)}if(e.iconContainerBackgroundHover&&c.push(`${a} .ts-action-con:hover .ts-action-icon { background-color: ${e.iconContainerBackgroundHover}; }`),e.iconContainerBorderColorHover&&c.push(`${a} .ts-action-con:hover .ts-action-icon { border-color: ${e.iconContainerBorderColorHover}; }`),e.iconColorHover&&(c.push(`${a} .ts-action-con:hover .ts-action-icon svg, ${a} .ts-action-con:hover .ts-action-icon i { color: ${e.iconColorHover}; fill: ${e.iconColorHover}; }`),c.push(`${a} .ts-action-con:hover .ts-action-icon { --ts-icon-color: ${e.iconColorHover}; }`)),e.itemBorderColorActive&&c.push(`${a} .ts-action-con.active { border-color: ${e.itemBorderColorActive}; }`),D(e.itemBoxShadowActive)){const n=H(e.itemBoxShadowActive);n&&c.push(`${a} .ts-action-con.active { box-shadow: ${n}; }`)}if(e.itemBackgroundColorActive&&c.push(`${a} .ts-action-con.active { background-color: ${e.itemBackgroundColorActive}; }`),e.itemTextColorActive&&c.push(`${a} .ts-action-con.active { color: ${e.itemTextColorActive}; }`),e.iconContainerBackgroundActive&&c.push(`${a} .ts-action-con.active .ts-action-icon { background-color: ${e.iconContainerBackgroundActive}; }`),e.iconContainerBorderColorActive&&c.push(`${a} .ts-action-con.active .ts-action-icon { border-color: ${e.iconContainerBorderColorActive}; }`),e.iconColorActive&&(c.push(`${a} .ts-action-con.active .ts-action-icon svg, ${a} .ts-action-con.active .ts-action-icon i { color: ${e.iconColorActive}; fill: ${e.iconColorActive}; }`),c.push(`${a} .ts-action-con.active .ts-action-icon { --ts-icon-color: ${e.iconColorActive}; }`)),e.tooltipBottom&&c.push(`${a} .ts-action::after { top: calc(100% + 5px); bottom: auto; }`),e.tooltipTextColor&&c.push(`${a} .ts-action::after { color: ${e.tooltipTextColor}; }`),X(e.tooltipTypography)){const n=q(e.tooltipTypography);n&&c.push(`${a} .ts-action::after { ${n} }`)}e.tooltipBackgroundColor&&c.push(`${a} .ts-action::after { background-color: ${e.tooltipBackgroundColor}; }`);{const n=e.tooltipBorderRadiusUnit||"px";c.push(`${a} .ts-action::after { border-radius: ${e.tooltipBorderRadius}${n}; }`)}if(o.tooltipBorderRadius_tablet!==void 0){const n=e.tooltipBorderRadiusUnit||"px";i.push(`${a} .ts-action::after { border-radius: ${o.tooltipBorderRadius_tablet}${n}; }`)}if(o.tooltipBorderRadius_mobile!==void 0){const n=e.tooltipBorderRadiusUnit||"px";d.push(`${a} .ts-action::after { border-radius: ${o.tooltipBorderRadius_mobile}${n}; }`)}let m=c.join(`
`);return i.length>0&&(m+=`
@media (max-width: 1024px) {
${i.join(`
`)}
}`),d.length>0&&(m+=`
@media (max-width: 767px) {
${d.join(`
`)}
}`),m}function ko(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const o=document.querySelector('link[rel="https://api.w.org/"]');if(o){const t=o.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const o=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return o.length>0&&!t.includes(o[0])?window.location.origin+"/"+o[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}const E={top:"",right:"",bottom:"",left:""},b={horizontal:0,vertical:0,blur:0,spread:0,color:"rgba(0,0,0,0.1)"},z={},T={library:"",value:""};function Ro(o){const t=(s,r)=>typeof s=="string"?s:typeof s=="number"?String(s):r,e=(s,r)=>{if(typeof s=="number")return s;if(typeof s=="string"){const l=parseFloat(s);if(!isNaN(l))return l}return r},c=(s,r)=>typeof s=="boolean"?s:s==="yes"||s==="true"||s==="1"||s===1?!0:s===""||s==="no"||s==="false"||s==="0"||s===0?!1:r,i=s=>{if(!s||typeof s!="object")return null;const r=s;return!r.library&&!r.value?null:{library:t(r.library,""),value:t(r.value,"")}},d=s=>{if(!s||typeof s!="object")return E;const r=s;return{top:t(r.top,""),right:t(r.right,""),bottom:t(r.bottom,""),left:t(r.left,"")}},a=s=>{if(!s||typeof s!="object")return b;const r=s;return{horizontal:e(r.horizontal,0),vertical:e(r.vertical,0),blur:e(r.blur,0),spread:e(r.spread,0),color:t(r.color,"rgba(0,0,0,0.1)")}},u=s=>{if(!s||typeof s!="object")return z;const r=s;return{fontFamily:r.fontFamily!==void 0?t(r.fontFamily??r.font_family,""):void 0,fontSize:r.fontSize!==void 0?e(r.fontSize??r.font_size,14):void 0,fontSizeUnit:r.fontSizeUnit!==void 0?t(r.fontSizeUnit??r.font_size_unit,"px"):void 0,fontWeight:r.fontWeight!==void 0?t(r.fontWeight??r.font_weight,""):void 0,textTransform:r.textTransform!==void 0?t(r.textTransform??r.text_transform,""):void 0,fontStyle:r.fontStyle!==void 0?t(r.fontStyle??r.font_style,""):void 0,textDecoration:r.textDecoration!==void 0?t(r.textDecoration??r.text_decoration,""):void 0,lineHeight:r.lineHeight!==void 0?e(r.lineHeight??r.line_height,1.5):void 0,lineHeightUnit:r.lineHeightUnit!==void 0?t(r.lineHeightUnit??r.line_height_unit,"em"):void 0,letterSpacing:r.letterSpacing!==void 0?e(r.letterSpacing??r.letter_spacing,0):void 0,letterSpacingUnit:r.letterSpacingUnit!==void 0?t(r.letterSpacingUnit??r.letter_spacing_unit,"px"):void 0}},f=s=>{if(!s||typeof s!="object")return null;const r=s;return{url:t(r.url,""),isExternal:c(r.isExternal??r.is_external,!1),nofollow:c(r.nofollow,!1)}},h=s=>{if(!s||typeof s!="object")return{...lo,id:crypto.randomUUID?.()||String(Date.now())};const r=s;return{id:t(r.id??r._id,crypto.randomUUID?.()||String(Date.now())),actionType:t(r.actionType??r.ts_action_type,"none"),text:t(r.text??r.ts_acw_initial_text,"Action"),icon:i(r.icon??r.ts_acw_initial_icon),enableTooltip:c(r.enableTooltip??r.ts_enable_tooltip,!1),tooltipText:t(r.tooltipText??r.ts_tooltip_text,""),link:f(r.link??r.ts_action_link),scrollToId:t(r.scrollToId??r.ts_scroll_to,""),additionId:t(r.additionId??r.ts_addition_id,""),calStartDate:t(r.calStartDate??r.ts_action_cal_start_date,""),calEndDate:t(r.calEndDate??r.ts_action_cal_end_date,""),calTitle:t(r.calTitle??r.ts_action_cal_title,""),calDescription:t(r.calDescription??r.ts_action_cal_desc,""),calLocation:t(r.calLocation??r.ts_action_cal_location,""),calUrl:t(r.calUrl??r.ts_action_cal_url,""),cartOptsText:t(r.cartOptsText??r.ts_cart_opts_text,"Select options"),cartOptsEnableTooltip:c(r.cartOptsEnableTooltip??r.ts_cart_opts_enable_tooltip,!1),cartOptsTooltipText:t(r.cartOptsTooltipText??r.ts_cart_opts_tooltip_text,""),cartOptsIcon:i(r.cartOptsIcon??r.ts_cart_opts_icon),activeText:t(r.activeText??r.ts_acw_reveal_text,"Action"),activeIcon:i(r.activeIcon??r.ts_acw_reveal_icon),activeEnableTooltip:c(r.activeEnableTooltip??r.ts_acw_enable_tooltip,!1),activeTooltipText:t(r.activeTooltipText??r.ts_acw_tooltip_text,""),customStyle:c(r.customStyle??r.ts_acw_custom_style,!1),customIconColor:t(r.customIconColor??r.ts_acw_icon_color_custom,""),customIconColorActive:t(r.customIconColorActive??r.ts_acw_icon_color_a_custom,""),loopSource:t(r.loopSource,""),loopProperty:t(r.loopProperty,""),loopLimit:t(r.loopLimit,""),loopOffset:t(r.loopOffset,""),rowVisibility:t(r.rowVisibility,"show"),visibilityRules:Array.isArray(r.visibilityRules)?r.visibilityRules:[]}},g=s=>s?Array.isArray(s)?s.map(h):typeof s=="object"?Object.values(s).map(h):[]:[],m=s=>{const r={closeIcon:T,messageIcon:T,linkIcon:T,shareIcon:T};if(!s||typeof s!="object")return r;const l=s;return{closeIcon:i(l.closeIcon??l.ts_close_ico)||T,messageIcon:i(l.messageIcon??l.ts_message_ico)||T,linkIcon:i(l.linkIcon??l.ts_link_ico)||T,shareIcon:i(l.shareIcon??l.ts_share_ico)||T}},n=s=>{const r={enableCssGrid:!1,gridColumns:3,itemWidth:"auto",customItemWidth:100,customItemWidthUnit:"px",listJustify:"left",itemGap:10,itemGapUnit:"px"};if(!s||typeof s!="object")return r;const l=s;return{enableCssGrid:c(l.enableCssGrid??l.csgrid_action_on,!1),gridColumns:e(l.gridColumns??l.ts_cgrid_columns,3),itemWidth:t(l.itemWidth??l.ts_al_columns_no,"auto"),customItemWidth:e(l.customItemWidth??l.ts_al_columns_cstm,100),customItemWidthUnit:t(l.customItemWidthUnit,"px"),listJustify:t(l.listJustify??l.ts_al_justify,"left"),itemGap:e(l.itemGap??l.ts_cgrid_gap,10),itemGapUnit:t(l.itemGapUnit,"px")}},p=s=>{const r={justifyContent:"flex-start",padding:E,paddingUnit:"px",height:48,heightUnit:"px",borderType:"none",borderWidth:E,borderWidthUnit:"px",borderColor:"",borderRadius:0,borderRadiusUnit:"px",boxShadow:b,typography:z,textColor:"",backgroundColor:""};if(!s||typeof s!="object")return r;const l=s;return{justifyContent:t(l.justifyContent??l.ts_al_align,"flex-start"),padding:d(l.padding??l.ts_action_padding),paddingUnit:t(l.paddingUnit,"px"),height:e(l.height??l.ts_acw_height,48),heightUnit:t(l.heightUnit,"px"),borderType:t(l.borderType??l.ts_acw_border,"none"),borderWidth:d(l.borderWidth),borderWidthUnit:t(l.borderWidthUnit,"px"),borderColor:t(l.borderColor,""),borderRadius:e(l.borderRadius??l.ts_acw_border_radius,0),borderRadiusUnit:t(l.borderRadiusUnit,"px"),boxShadow:a(l.boxShadow??l.ts_acw_border_shadow),typography:u(l.typography??l.ts_acw_typography),textColor:t(l.textColor??l.ts_acw_initial_color,""),backgroundColor:t(l.backgroundColor??l.ts_acw_initial_bg,"")}},_=s=>{const r={background:"",size:36,sizeUnit:"px",borderType:"solid",borderWidth:E,borderWidthUnit:"px",borderColor:"",borderRadius:50,borderRadiusUnit:"px",boxShadow:b,textSpacing:0,textSpacingUnit:"px"};if(!s||typeof s!="object")return r;const l=s;return{background:t(l.background??l.ts_acw_icon_con_bg,""),size:e(l.size??l.ts_acw_icon_con_size,36),sizeUnit:t(l.sizeUnit,"px"),borderType:t(l.borderType??l.ts_acw_icon_con_border,"solid"),borderWidth:d(l.borderWidth),borderWidthUnit:t(l.borderWidthUnit,"px"),borderColor:t(l.borderColor,""),borderRadius:e(l.borderRadius??l.ts_acw_icon_con_radius,50),borderRadiusUnit:t(l.borderRadiusUnit,"px"),boxShadow:a(l.boxShadow??l.ts_acw_con_shadow),textSpacing:e(l.textSpacing??l.ts_acw_icon_margin,0),textSpacingUnit:t(l.textSpacingUnit,"px")}},$=s=>{const r={onTop:!1,size:18,sizeUnit:"px",color:""};if(!s||typeof s!="object")return r;const l=s;return{onTop:c(l.onTop??l.ts_acw_icon_orient,!1),size:e(l.size??l.ts_acw_icon_size,18),sizeUnit:t(l.sizeUnit,"px"),color:t(l.color??l.ts_acw_icon_color,"")}},S=s=>{const r={boxShadow:b,borderColor:"",textColor:"",backgroundColor:"",iconContainerBackground:"",iconContainerBorderColor:"",iconColor:""};if(!s||typeof s!="object")return r;const l=s;return{boxShadow:a(l.boxShadow??l.ts_acw_border_shadow_h),borderColor:t(l.borderColor??l.ts_acw_border_h,""),textColor:t(l.textColor??l.ts_acw_initial_color_h,""),backgroundColor:t(l.backgroundColor??l.ts_acw_initial_bg_h,""),iconContainerBackground:t(l.iconContainerBackground??l.ts_acw_icon_con_bg_h,""),iconContainerBorderColor:t(l.iconContainerBorderColor??l.ts_acw_icon_con_bord_h,""),iconColor:t(l.iconColor??l.ts_acw_icon_color_h,"")}},w=s=>{const r={boxShadow:b,textColor:"",backgroundColor:"",borderColor:"",iconContainerBackground:"",iconContainerBorderColor:"",iconColor:""};if(!s||typeof s!="object")return r;const l=s;return{boxShadow:a(l.boxShadow??l.ts_acw_border_shadow_a),textColor:t(l.textColor??l.ts_acw_initial_color_a,""),backgroundColor:t(l.backgroundColor??l.ts_acw_initial_bg_a,""),borderColor:t(l.borderColor??l.ts_acw_initial_border_a,""),iconContainerBackground:t(l.iconContainerBackground??l.ts_acw_icon_con_bg_a,""),iconContainerBorderColor:t(l.iconContainerBorderColor??l.ts_acw_icon_con_bord_a,""),iconColor:t(l.iconColor??l.ts_acw_icon_color_a,"")}},x=s=>{const r={bottom:!1,textColor:"",typography:z,backgroundColor:"",borderRadius:0,borderRadiusUnit:"px"};if(!s||typeof s!="object")return r;const l=s;return{bottom:c(l.bottom??l.tooltip_bottom,!1),textColor:t(l.textColor??l.ts_tooltip_color,""),typography:u(l.typography??l.ts_tooltip_typo),backgroundColor:t(l.backgroundColor??l.ts_tooltip_bg,""),borderRadius:e(l.borderRadius??l.ts_tooltip_radius,0),borderRadiusUnit:t(l.borderRadiusUnit,"px")}};return{items:g(o.items??o.ts_actions),icons:m(o.icons),list:n(o.list),itemStyle:p(o.itemStyle??o.item_style),iconContainer:_(o.iconContainer??o.icon_container),icon:$(o.icon),hoverStyle:S(o.hoverStyle??o.hover_style),activeStyle:w(o.activeStyle??o.active_style),tooltip:x(o.tooltip)}}function Eo(o){const t=o.querySelector("script.vxconfig");if(!t?.textContent)return console.error("[Advanced List] No vxconfig found"),null;try{const e=JSON.parse(t.textContent);return Ro(e)}catch(e){return console.error("[Advanced List] Failed to parse vxconfig:",e),null}}function Io(o){return{items:o.items||[],closeIcon:o.icons?.closeIcon||T,messageIcon:o.icons?.messageIcon||T,linkIcon:o.icons?.linkIcon||T,shareIcon:o.icons?.shareIcon||T,enableCssGrid:o.list?.enableCssGrid||!1,gridColumns:o.list?.gridColumns||3,itemWidth:o.list?.itemWidth||"auto",customItemWidth:o.list?.customItemWidth||100,customItemWidthUnit:o.list?.customItemWidthUnit||"px",listJustify:o.list?.listJustify||"left",itemGap:o.list?.itemGap||10,itemGapUnit:o.list?.itemGapUnit||"px",itemJustifyContent:o.itemStyle?.justifyContent||"flex-start",itemPadding:o.itemStyle?.padding||E,itemPaddingUnit:o.itemStyle?.paddingUnit||"px",itemHeight:o.itemStyle?.height||48,itemHeightUnit:o.itemStyle?.heightUnit||"px",itemBorderType:o.itemStyle?.borderType||"none",itemBorderWidth:o.itemStyle?.borderWidth||E,itemBorderWidthUnit:o.itemStyle?.borderWidthUnit||"px",itemBorderColor:o.itemStyle?.borderColor||"",itemBorderRadius:o.itemStyle?.borderRadius||0,itemBorderRadiusUnit:o.itemStyle?.borderRadiusUnit||"px",itemBoxShadow:o.itemStyle?.boxShadow||b,itemTypography:o.itemStyle?.typography||z,itemTextColor:o.itemStyle?.textColor||"",itemBackgroundColor:o.itemStyle?.backgroundColor||"",iconContainerBackground:o.iconContainer?.background||"",iconContainerSize:o.iconContainer?.size||36,iconContainerSizeUnit:o.iconContainer?.sizeUnit||"px",iconContainerBorderType:o.iconContainer?.borderType??"solid",iconContainerBorderWidth:o.iconContainer?.borderWidth||E,iconContainerBorderWidthUnit:o.iconContainer?.borderWidthUnit||"px",iconContainerBorderColor:o.iconContainer?.borderColor||"",iconContainerBorderRadius:o.iconContainer?.borderRadius||50,iconContainerBorderRadiusUnit:o.iconContainer?.borderRadiusUnit||"px",iconContainerBoxShadow:o.iconContainer?.boxShadow||b,iconTextSpacing:o.iconContainer?.textSpacing||0,iconTextSpacingUnit:o.iconContainer?.textSpacingUnit||"px",iconOnTop:o.icon?.onTop||!1,iconSize:o.icon?.size||18,iconSizeUnit:o.icon?.sizeUnit||"px",iconColor:o.icon?.color||"",itemBoxShadowHover:o.hoverStyle?.boxShadow||b,itemBorderColorHover:o.hoverStyle?.borderColor||"",itemTextColorHover:o.hoverStyle?.textColor||"",itemBackgroundColorHover:o.hoverStyle?.backgroundColor||"",iconContainerBackgroundHover:o.hoverStyle?.iconContainerBackground||"",iconContainerBorderColorHover:o.hoverStyle?.iconContainerBorderColor||"",iconColorHover:o.hoverStyle?.iconColor||"",itemBoxShadowActive:o.activeStyle?.boxShadow||b,itemTextColorActive:o.activeStyle?.textColor||"",itemBackgroundColorActive:o.activeStyle?.backgroundColor||"",itemBorderColorActive:o.activeStyle?.borderColor||"",iconContainerBackgroundActive:o.activeStyle?.iconContainerBackground||"",iconContainerBorderColorActive:o.activeStyle?.iconContainerBorderColor||"",iconColorActive:o.activeStyle?.iconColor||"",tooltipBottom:o.tooltip?.bottom||!1,tooltipTextColor:o.tooltip?.textColor||"",tooltipTypography:o.tooltip?.typography||z,tooltipBackgroundColor:o.tooltip?.backgroundColor||"",tooltipBorderRadius:o.tooltip?.borderRadius||0,tooltipBorderRadiusUnit:o.tooltip?.borderRadiusUnit||"px",itemMargin:{},itemMarginUnit:"px"}}function zo(){return window.voxelFseAdvancedList?.restUrl?window.voxelFseAdvancedList.restUrl:ko()}async function Ao(){const o=document.querySelector('meta[name="vx-post-id"]'),t=o?.content?parseInt(o.content,10):null;if(!t)return null;try{const e=zo(),c={},i=window.wpApiSettings?.nonce;i&&(c["X-WP-Nonce"]=i);const d=await fetch(`${e}voxel-fse/v1/advanced-list/post-context?post_id=${t}`,{credentials:"same-origin",headers:c});return d.ok?await d.json():(console.warn("[Advanced List] Failed to fetch post context"),null)}catch(e){return console.warn("[Advanced List] Error fetching post context:",e),null}}function Wo(o){const t=["action_follow_post","action_follow","edit_post","delete_post","unpublish_post","publish_post","show_post_on_map","share_post","view_post_stats","add_to_cart","promote_post","select_addition","action_gcal","action_ical"];return o.some(e=>t.includes(e.actionType))}function No({attributes:o,postContext:t}){return React.createElement(Bo,{attributes:o,context:"frontend",postContext:t})}async function A(){const o=document.querySelectorAll(".voxel-fse-advanced-list-frontend:not([data-react-mounted])");if(o.length===0)return;let t=null;const e=[];o.forEach(i=>{const d=Eo(i);d&&e.push({container:i,config:d})}),e.some(({config:i})=>Wo(i.items))&&(t=await Ao());for(const{container:i,config:d}of e){i.setAttribute("data-react-mounted","true");const a=Io(d),u=i.className.match(/voxel-fse-advanced-list-(advanced-list-\w+)/)?.[1]||"advanced-list",f=Uo(a,u);if(f){const g=document.createElement("style");g.setAttribute("data-block-styles",`advanced-list-${u}`),g.textContent=f,i.parentNode?.insertBefore(g,i)}i.innerHTML="",to.createRoot(i).render(React.createElement(No,{attributes:a,postContext:t}))}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",A):A(),window.addEventListener("turbo:load",A),window.addEventListener("pjax:complete",A),document.addEventListener("voxel:markup-update",A)})(ReactDOM,React,ReactDOM,wp.apiFetch);
