(function(Mt,b,Bt,Ie){"use strict";function zt(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}var Je=zt;function Ft(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}var xe=Ft;function Wt(e,t){return function(o,n,s,i=10){const l=e[t];if(!xe(o)||!Je(n))return;if(typeof s!="function"){console.error("The hook callback must be a function.");return}if(typeof i!="number"){console.error("If specified, the hook priority must be a number.");return}const a={callback:s,priority:i,namespace:n};if(l[o]){const d=l[o].handlers;let m;for(m=d.length;m>0&&!(i>=d[m-1].priority);m--);m===d.length?d[m]=a:d.splice(m,0,a),l.__current.forEach(h=>{h.name===o&&h.currentIndex>=m&&h.currentIndex++})}else l[o]={handlers:[a],runs:0};o!=="hookAdded"&&e.doAction("hookAdded",o,n,s,i)}}var $e=Wt;function Ht(e,t,r=!1){return function(n,s){const i=e[t];if(!xe(n)||!r&&!Je(s))return;if(!i[n])return 0;let l=0;if(r)l=i[n].handlers.length,i[n]={runs:i[n].runs,handlers:[]};else{const a=i[n].handlers;for(let d=a.length-1;d>=0;d--)a[d].namespace===s&&(a.splice(d,1),l++,i.__current.forEach(m=>{m.name===n&&m.currentIndex>=d&&m.currentIndex--}))}return n!=="hookRemoved"&&e.doAction("hookRemoved",n,s),l}}var ye=Ht;function qt(e,t){return function(o,n){const s=e[t];return typeof n<"u"?o in s&&s[o].handlers.some(i=>i.namespace===n):o in s}}var Ke=qt;function Gt(e,t,r,o){return function(s,...i){const l=e[t];l[s]||(l[s]={handlers:[],runs:0}),l[s].runs++;const a=l[s].handlers;if(!a||!a.length)return r?i[0]:void 0;const d={name:s,currentIndex:0};async function m(){try{l.__current.add(d);let p=r?i[0]:void 0;for(;d.currentIndex<a.length;)p=await a[d.currentIndex].callback.apply(null,i),r&&(i[0]=p),d.currentIndex++;return r?p:void 0}finally{l.__current.delete(d)}}function h(){try{l.__current.add(d);let p=r?i[0]:void 0;for(;d.currentIndex<a.length;)p=a[d.currentIndex].callback.apply(null,i),r&&(i[0]=p),d.currentIndex++;return r?p:void 0}finally{l.__current.delete(d)}}return(o?m:h)()}}var ve=Gt;function Vt(e,t){return function(){const o=e[t];return Array.from(o.__current).at(-1)?.name??null}}var Xe=Vt;function Jt(e,t){return function(o){const n=e[t];return typeof o>"u"?n.__current.size>0:Array.from(n.__current).some(s=>s.name===o)}}var Ye=Jt;function $t(e,t){return function(o){const n=e[t];if(xe(o))return n[o]&&n[o].runs?n[o].runs:0}}var Ze=$t,Kt=class{actions;filters;addAction;addFilter;removeAction;removeFilter;hasAction;hasFilter;removeAllActions;removeAllFilters;doAction;doActionAsync;applyFilters;applyFiltersAsync;currentAction;currentFilter;doingAction;doingFilter;didAction;didFilter;constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=$e(this,"actions"),this.addFilter=$e(this,"filters"),this.removeAction=ye(this,"actions"),this.removeFilter=ye(this,"filters"),this.hasAction=Ke(this,"actions"),this.hasFilter=Ke(this,"filters"),this.removeAllActions=ye(this,"actions",!0),this.removeAllFilters=ye(this,"filters",!0),this.doAction=ve(this,"actions",!1,!1),this.doActionAsync=ve(this,"actions",!1,!0),this.applyFilters=ve(this,"filters",!0,!1),this.applyFiltersAsync=ve(this,"filters",!0,!0),this.currentAction=Xe(this,"actions"),this.currentFilter=Xe(this,"filters"),this.doingAction=Ye(this,"actions"),this.doingFilter=Ye(this,"filters"),this.didAction=Ze(this,"actions"),this.didFilter=Ze(this,"filters")}};function Xt(){return new Kt}var Yt=Xt,Zt=Yt(),{addAction:so,addFilter:ao,removeAction:co,removeFilter:lo,hasAction:uo,hasFilter:fo,removeAllActions:po,removeAllFilters:mo,doAction:Qt,doActionAsync:ho,applyFilters:yo,applyFiltersAsync:vo,currentAction:_o,currentFilter:go,doingAction:bo,doingFilter:wo,didAction:So,didFilter:To,actions:Eo,filters:Co}=Zt,Qe=Object.create(null);function et(e,t={}){const{since:r,version:o,alternative:n,plugin:s,link:i,hint:l}=t,a=s?` from ${s}`:"",d=r?` since version ${r}`:"",m=o?` and will be removed${a} in version ${o}`:"",h=n?` Please use ${n} instead.`:"",p=i?` See: ${i}`:"",y=l?` Note: ${l}`:"",_=`${e} is deprecated${d}${m}.${h}${p}${y}`;_ in Qe||(Qt("deprecated",e,t,_),console.warn(_),Qe[_]=!0)}function q(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var er=typeof Symbol=="function"&&Symbol.observable||"@@observable",tt=er,rt=()=>Math.random().toString(36).substring(7).split("").join("."),tr={INIT:`@@redux/INIT${rt()}`,REPLACE:`@@redux/REPLACE${rt()}`},nt=tr;function rr(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ot(e,t,r){if(typeof e!="function")throw new Error(q(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(q(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(q(1));return r(ot)(e,t)}let o=e,n=t,s=new Map,i=s,l=0,a=!1;function d(){i===s&&(i=new Map,s.forEach((S,g)=>{i.set(g,S)}))}function m(){if(a)throw new Error(q(3));return n}function h(S){if(typeof S!="function")throw new Error(q(4));if(a)throw new Error(q(5));let g=!0;d();const E=l++;return i.set(E,S),function(){if(g){if(a)throw new Error(q(6));g=!1,d(),i.delete(E),s=null}}}function p(S){if(!rr(S))throw new Error(q(7));if(typeof S.type>"u")throw new Error(q(8));if(typeof S.type!="string")throw new Error(q(17));if(a)throw new Error(q(9));try{a=!0,n=o(n,S)}finally{a=!1}return(s=i).forEach(E=>{E()}),S}function y(S){if(typeof S!="function")throw new Error(q(10));o=S,p({type:nt.REPLACE})}function _(){const S=h;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(q(11));function E(){const u=g;u.next&&u.next(m())}return E(),{unsubscribe:S(E)}},[tt](){return this}}}return p({type:nt.INIT}),{dispatch:p,subscribe:h,getState:m,replaceReducer:y,[tt]:_}}function nr(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...o)=>t(r(...o)))}function or(...e){return t=>(r,o)=>{const n=t(r,o);let s=()=>{throw new Error(q(15))};const i={getState:n.getState,dispatch:(a,...d)=>s(a,...d)},l=e.map(a=>a(i));return s=nr(...l)(n.dispatch),{...n,dispatch:s}}}var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ir(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ke,st;function sr(){if(st)return ke;st=1;function e(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(l){return typeof l}:e=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(i)}function t(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function r(i,l){for(var a=0;a<l.length;a++){var d=l[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,d.key,d)}}function o(i,l,a){return l&&r(i.prototype,l),i}function n(i,l){var a=i._map,d=i._arrayTreeMap,m=i._objectTreeMap;if(a.has(l))return a.get(l);for(var h=Object.keys(l).sort(),p=Array.isArray(l)?d:m,y=0;y<h.length;y++){var _=h[y];if(p=p.get(_),p===void 0)return;var C=l[_];if(p=p.get(C),p===void 0)return}var S=p.get("_ekm_value");if(S)return a.delete(S[0]),S[0]=l,p.set("_ekm_value",S),a.set(l,S),S}var s=(function(){function i(l){if(t(this,i),this.clear(),l instanceof i){var a=[];l.forEach(function(m,h){a.push([h,m])}),l=a}if(l!=null)for(var d=0;d<l.length;d++)this.set(l[d][0],l[d][1])}return o(i,[{key:"set",value:function(a,d){if(a===null||e(a)!=="object")return this._map.set(a,d),this;for(var m=Object.keys(a).sort(),h=[a,d],p=Array.isArray(a)?this._arrayTreeMap:this._objectTreeMap,y=0;y<m.length;y++){var _=m[y];p.has(_)||p.set(_,new i),p=p.get(_);var C=a[_];p.has(C)||p.set(C,new i),p=p.get(C)}var S=p.get("_ekm_value");return S&&this._map.delete(S[0]),p.set("_ekm_value",h),this._map.set(a,h),this}},{key:"get",value:function(a){if(a===null||e(a)!=="object")return this._map.get(a);var d=n(this,a);if(d)return d[1]}},{key:"has",value:function(a){return a===null||e(a)!=="object"?this._map.has(a):n(this,a)!==void 0}},{key:"delete",value:function(a){return this.has(a)?(this.set(a,void 0),!0):!1}},{key:"forEach",value:function(a){var d=this,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;this._map.forEach(function(h,p){p!==null&&e(p)==="object"&&(h=h[1]),a.call(m,h,p,d)})}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}]),i})();return ke=s,ke}var ar=sr();const Q=ir(ar);function cr(e){return!!e&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}var Ae={},k={},_e={},at;function ct(){if(at)return _e;at=1,Object.defineProperty(_e,"__esModule",{value:!0});var e={all:Symbol("all"),error:Symbol("error"),fork:Symbol("fork"),join:Symbol("join"),race:Symbol("race"),call:Symbol("call"),cps:Symbol("cps"),subscribe:Symbol("subscribe")};return _e.default=e,_e}var lt;function ut(){if(lt)return k;lt=1,Object.defineProperty(k,"__esModule",{value:!0}),k.createChannel=k.subscribe=k.cps=k.apply=k.call=k.invoke=k.delay=k.race=k.join=k.fork=k.error=k.all=void 0;var e=ct(),t=r(e);function r(o){return o&&o.__esModule?o:{default:o}}return k.all=function(n){return{type:t.default.all,value:n}},k.error=function(n){return{type:t.default.error,error:n}},k.fork=function(n){for(var s=arguments.length,i=Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return{type:t.default.fork,iterator:n,args:i}},k.join=function(n){return{type:t.default.join,task:n}},k.race=function(n){return{type:t.default.race,competitors:n}},k.delay=function(n){return new Promise(function(s){setTimeout(function(){return s(!0)},n)})},k.invoke=function(n){for(var s=arguments.length,i=Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return{type:t.default.call,func:n,context:null,args:i}},k.call=function(n,s){for(var i=arguments.length,l=Array(i>2?i-2:0),a=2;a<i;a++)l[a-2]=arguments[a];return{type:t.default.call,func:n,context:s,args:l}},k.apply=function(n,s,i){return{type:t.default.call,func:n,context:s,args:i}},k.cps=function(n){for(var s=arguments.length,i=Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return{type:t.default.cps,func:n,args:i}},k.subscribe=function(n){return{type:t.default.subscribe,channel:n}},k.createChannel=function(n){var s=[],i=function(d){return s.push(d),function(){return s.splice(s.indexOf(d),1)}},l=function(d){return s.forEach(function(m){return m(d)})};return n(l),{subscribe:i}},k}var ge={},G={},be={},dt;function we(){if(dt)return be;dt=1,Object.defineProperty(be,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol?"symbol":typeof s},t=ct(),r=o(t);function o(s){return s&&s.__esModule?s:{default:s}}var n={obj:function(i){return(typeof i>"u"?"undefined":e(i))==="object"&&!!i},all:function(i){return n.obj(i)&&i.type===r.default.all},error:function(i){return n.obj(i)&&i.type===r.default.error},array:Array.isArray,func:function(i){return typeof i=="function"},promise:function(i){return i&&n.func(i.then)},iterator:function(i){return i&&n.func(i.next)&&n.func(i.throw)},fork:function(i){return n.obj(i)&&i.type===r.default.fork},join:function(i){return n.obj(i)&&i.type===r.default.join},race:function(i){return n.obj(i)&&i.type===r.default.race},call:function(i){return n.obj(i)&&i.type===r.default.call},cps:function(i){return n.obj(i)&&i.type===r.default.cps},subscribe:function(i){return n.obj(i)&&i.type===r.default.subscribe},channel:function(i){return n.obj(i)&&n.func(i.subscribe)}};return be.default=n,be}var ft;function lr(){if(ft)return G;ft=1,Object.defineProperty(G,"__esModule",{value:!0}),G.iterator=G.array=G.object=G.error=G.any=void 0;var e=we(),t=r(e);function r(a){return a&&a.__esModule?a:{default:a}}var o=G.any=function(d,m,h,p){return p(d),!0},n=G.error=function(d,m,h,p,y){return t.default.error(d)?(y(d.error),!0):!1},s=G.object=function(d,m,h,p,y){if(!t.default.all(d)||!t.default.obj(d.value))return!1;var _={},C=Object.keys(d.value),S=0,g=!1,E=function(c,v){g||(_[c]=v,S++,S===C.length&&p(_))},f=function(c,v){g||(g=!0,y(v))};return C.map(function(u){h(d.value[u],function(c){return E(u,c)},function(c){return f(u,c)})}),!0},i=G.array=function(d,m,h,p,y){if(!t.default.all(d)||!t.default.array(d.value))return!1;var _=[],C=0,S=!1,g=function(u,c){S||(_[u]=c,C++,C===d.value.length&&p(_))},E=function(u,c){S||(S=!0,y(c))};return d.value.map(function(f,u){h(f,function(c){return g(u,c)},function(c){return E(u,c)})}),!0},l=G.iterator=function(d,m,h,p,y){return t.default.iterator(d)?(h(d,m,y),!0):!1};return G.default=[n,l,i,s,o],G}var pt;function ur(){if(pt)return ge;pt=1,Object.defineProperty(ge,"__esModule",{value:!0});var e=lr(),t=n(e),r=we(),o=n(r);function n(l){return l&&l.__esModule?l:{default:l}}function s(l){if(Array.isArray(l)){for(var a=0,d=Array(l.length);a<l.length;a++)d[a]=l[a];return d}else return Array.from(l)}var i=function(){var a=arguments.length<=0||arguments[0]===void 0?[]:arguments[0],d=[].concat(s(a),s(t.default)),m=function h(p){var y=arguments.length<=1||arguments[1]===void 0?function(){}:arguments[1],_=arguments.length<=2||arguments[2]===void 0?function(){}:arguments[2],C=function(E){var f=function(v){return function(w){try{var A=v?E.throw(w):E.next(w),F=A.value,j=A.done;if(j)return y(F);u(F)}catch(V){return _(V)}}},u=function c(v){d.some(function(w){return w(v,c,h,f(!1),f(!0))})};f(!1)()},S=o.default.iterator(p)?p:regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,p;case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},g,this)})();C(S)};return m};return ge.default=i,ge}var J={},Se={},mt;function dr(){if(mt)return Se;mt=1,Object.defineProperty(Se,"__esModule",{value:!0});var e=function(){var r=[];return{subscribe:function(n){return r.push(n),function(){r=r.filter(function(s){return s!==n})}},dispatch:function(n){r.slice().forEach(function(s){return s(n)})}}};return Se.default=e,Se}var ht;function fr(){if(ht)return J;ht=1,Object.defineProperty(J,"__esModule",{value:!0}),J.race=J.join=J.fork=J.promise=void 0;var e=we(),t=s(e),r=ut(),o=dr(),n=s(o);function s(p){return p&&p.__esModule?p:{default:p}}var i=J.promise=function(y,_,C,S,g){return t.default.promise(y)?(y.then(_,g),!0):!1},l=new Map,a=J.fork=function(y,_,C){if(!t.default.fork(y))return!1;var S=Symbol("fork"),g=(0,n.default)();l.set(S,g),C(y.iterator.apply(null,y.args),function(f){return g.dispatch(f)},function(f){return g.dispatch((0,r.error)(f))});var E=g.subscribe(function(){E(),l.delete(S)});return _(S),!0},d=J.join=function(y,_,C,S,g){if(!t.default.join(y))return!1;var E=l.get(y.task);return E?(function(){var f=E.subscribe(function(u){f(),_(u)})})():g("join error : task not found"),!0},m=J.race=function(y,_,C,S,g){if(!t.default.race(y))return!1;var E=!1,f=function(v,w,A){E||(E=!0,v[w]=A,_(v))},u=function(v){E||g(v)};return t.default.array(y.competitors)?(function(){var c=y.competitors.map(function(){return!1});y.competitors.forEach(function(v,w){C(v,function(A){return f(c,w,A)},u)})})():(function(){var c=Object.keys(y.competitors).reduce(function(v,w){return v[w]=!1,v},{});Object.keys(y.competitors).forEach(function(v){C(y.competitors[v],function(w){return f(c,v,w)},u)})})(),!0},h=function(y,_){if(!t.default.subscribe(y))return!1;if(!t.default.channel(y.channel))throw new Error('the first argument of "subscribe" must be a valid channel');var C=y.channel.subscribe(function(S){C&&C(),_(S)});return!0};return J.default=[i,a,d,m,h],J}var re={},yt;function pr(){if(yt)return re;yt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.cps=re.call=void 0;var e=we(),t=r(e);function r(i){return i&&i.__esModule?i:{default:i}}function o(i){if(Array.isArray(i)){for(var l=0,a=Array(i.length);l<i.length;l++)a[l]=i[l];return a}else return Array.from(i)}var n=re.call=function(l,a,d,m,h){if(!t.default.call(l))return!1;try{a(l.func.apply(l.context,l.args))}catch(p){h(p)}return!0},s=re.cps=function(l,a,d,m,h){var p;return t.default.cps(l)?((p=l.func).call.apply(p,[null].concat(o(l.args),[function(y,_){y?h(y):a(_)}])),!0):!1};return re.default=[n,s],re}var vt;function mr(){return vt||(vt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapControls=e.asyncControls=e.create=void 0;var t=ut();Object.keys(t).forEach(function(d){d!=="default"&&Object.defineProperty(e,d,{enumerable:!0,get:function(){return t[d]}})});var r=ur(),o=a(r),n=fr(),s=a(n),i=pr(),l=a(i);function a(d){return d&&d.__esModule?d:{default:d}}e.create=o.default,e.asyncControls=s.default,e.wrapControls=l.default})(Ae)),Ae}var hr=mr();function _t(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function gt(e){return Object.prototype.toString.call(e)==="[object Object]"}function yr(e){var t,r;return gt(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(gt(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function Oe(e){return yr(e)&&typeof e.type=="string"}function vr(e,t){return Oe(e)&&e.type===t}function _r(e={},t){const r=Object.entries(e).map(([s,i])=>(l,a,d,m,h)=>{if(!vr(l,s))return!1;const p=i(l);return _t(p)?p.then(m,h):m(p),!0}),o=(s,i)=>Oe(s)?(t(s),i(),!0):!1;r.push(o);const n=hr.create(r);return s=>new Promise((i,l)=>n(s,a=>{Oe(a)&&t(a),i(a)},l))}function gr(e={}){return t=>{const r=_r(e,t.dispatch);return o=>n=>cr(n)?r(n):o(n)}}var br=(e=!1)=>(...t)=>(...r)=>{const o=t.flat();return e&&o.reverse(),o.reduce((n,s)=>[s(...n)],r)[0]},wr=br(!0),Sr=wr;function Tr(e,t){if(e===t)return!0;const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;let n=0;for(;n<r.length;){const s=r[n],i=e[s];if(i===void 0&&!t.hasOwnProperty(s)||i!==t[s])return!1;n++}return!0}function Er(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,o=e.length;r<o;r++)if(e[r]!==t[r])return!1;return!0}function bt(e,t){if(e&&t){if(e.constructor===Object&&t.constructor===Object)return Tr(e,t);if(Array.isArray(e)&&Array.isArray(t))return Er(e,t)}return e===t}var Le={exports:{}},wt;function Cr(){return wt||(wt=1,(function(e){(function(t){e.exports?e.exports=t():window.idleCallbackShim=t()})(function(){var t,r,o,n,s=typeof window<"u"?window:typeof it!=null?it:this||{},i=s.cancelRequestAnimationFrame&&s.requestAnimationFrame||setTimeout,l=s.cancelRequestAnimationFrame||clearTimeout,a=[],d=0,m=!1,h=7,p=35,y=125,_=0,C=0,S=0,g={get didTimeout(){return!1},timeRemaining:function(){var O=h-(Date.now()-C);return O<0?0:O}},E=f(function(){h=22,y=66,p=0});function f(O){var U,I,x=99,P=function(){var D=Date.now()-I;D<x?U=setTimeout(P,x-D):(U=null,O())};return function(){I=Date.now(),U||(U=setTimeout(P,x))}}function u(){m&&(n&&l(n),o&&clearTimeout(o),m=!1)}function c(){y!=125&&(h=7,y=125,p=35,m&&(u(),A())),E()}function v(){n=null,o=setTimeout(F,0)}function w(){o=null,i(v)}function A(){m||(r=y-(Date.now()-C),t=Date.now(),m=!0,p&&r<p&&(r=p),r>9?o=setTimeout(w,r):(r=0,w()))}function F(){var O,U,I,x=h>9?9:1;if(C=Date.now(),m=!1,o=null,d>2||C-r-50<t)for(U=0,I=a.length;U<I&&g.timeRemaining()>x;U++)O=a.shift(),S++,O&&O(g);a.length?A():d=0}function j(O){return _++,a.push(O),A(),_}function V(O){var U=O-1-S;a[U]&&(a[U]=null)}if(!s.requestIdleCallback||!s.cancelIdleCallback)s.requestIdleCallback=j,s.cancelIdleCallback=V,s.document&&document.addEventListener&&(s.addEventListener("scroll",c,!0),s.addEventListener("resize",c),document.addEventListener("focus",c,!0),document.addEventListener("mouseover",c,!0),["click","keypress","touchstart","mousedown"].forEach(function(O){document.addEventListener(O,c,{capture:!0,passive:!0})}),s.MutationObserver&&new MutationObserver(c).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));else try{s.requestIdleCallback(function(){},{timeout:0})}catch{(function(U){var I,x;if(s.requestIdleCallback=function(P,D){return D&&typeof D.timeout=="number"?U(P,D.timeout):U(P)},s.IdleCallbackDeadline&&(I=IdleCallbackDeadline.prototype)){if(x=Object.getOwnPropertyDescriptor(I,"timeRemaining"),!x||!x.configurable||!x.get)return;Object.defineProperty(I,"timeRemaining",{value:function(){return x.get.call(this)},enumerable:!0,configurable:!0})}})(s.requestIdleCallback)}return{request:j,cancel:V}})})(Le)),Le.exports}Cr();function Rr(){return typeof window>"u"?e=>{setTimeout(()=>e(Date.now()),0)}:window.requestIdleCallback}var St=Rr(),Ir=()=>{const e=new Map;let t=!1;const r=l=>{for(const[a,d]of e)if(e.delete(a),d(),typeof l=="number"||l.timeRemaining()<=0)break;if(e.size===0){t=!1;return}St(r)};return{add:(l,a)=>{e.set(l,a),t||(t=!0,St(r))},flush:l=>{const a=e.get(l);return a===void 0?!1:(e.delete(l),a(),!0)},cancel:l=>e.delete(l),reset:()=>{e.clear(),t=!1}}};function xr(e){const t=Object.keys(e);return function(o={},n){const s={};let i=!1;for(const l of t){const a=e[l],d=o[l],m=a(d,n);s[l]=m,i=i||m!==d}return i?s:o}}function Ue(e){return e.isRegistryControl=!0,e}var kr="@@data/SELECT",Ar="@@data/RESOLVE_SELECT",Or="@@data/DISPATCH",Lr={[kr]:Ue(e=>({storeKey:t,selectorName:r,args:o})=>e.select(t)[r](...o)),[Ar]:Ue(e=>({storeKey:t,selectorName:r,args:o})=>{const n=e.select(t)[r].hasResolver?"resolveSelect":"select";return e[n](t)[r](...o)}),[Or]:Ue(e=>({storeKey:t,actionName:r,args:o})=>e.dispatch(t)[r](...o))},Ur=["@wordpress/block-directory","@wordpress/block-editor","@wordpress/block-library","@wordpress/blocks","@wordpress/boot","@wordpress/commands","@wordpress/workflows","@wordpress/components","@wordpress/core-commands","@wordpress/core-data","@wordpress/customize-widgets","@wordpress/data","@wordpress/edit-post","@wordpress/edit-site","@wordpress/edit-widgets","@wordpress/editor","@wordpress/font-list-route","@wordpress/format-library","@wordpress/patterns","@wordpress/preferences","@wordpress/reusable-blocks","@wordpress/route","@wordpress/router","@wordpress/routes","@wordpress/sync","@wordpress/theme","@wordpress/ui","@wordpress/dataviews","@wordpress/fields","@wordpress/lazy-editor","@wordpress/media-utils","@wordpress/upload-media","@wordpress/global-styles-ui","@wordpress/ui"],Dr=(e,t)=>{if(!Ur.includes(t))throw new Error(`You tried to opt-in to unstable APIs as module "${t}". This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);return{lock:jr,unlock:Pr}};function jr(e,t){if(!e)throw new Error("Cannot lock an undefined object.");const r=e;de in r||(r[de]={}),Tt.set(r[de],t)}function Pr(e){if(!e)throw new Error("Cannot unlock an undefined object.");const t=e;if(!(de in t))throw new Error("Cannot unlock an object that was not locked before. ");return Tt.get(t[de])}var Tt=new WeakMap,de=Symbol("Private API ID"),{lock:ie,unlock:le}=Dr("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/data"),Nr=()=>e=>t=>_t(t)?t.then(r=>{if(r)return e(r)}):e(t),Mr=Nr,Br=(e,t)=>()=>r=>o=>{const n=e.select(t).getCachedResolvers();return Object.entries(n).forEach(([i,l])=>{const a=e.stores[t]?.resolvers?.[i];!a||!a.shouldInvalidate||l.forEach((d,m)=>{d!==void 0&&(d.status!=="finished"&&d.status!=="error"||a.shouldInvalidate(o,...m)&&e.dispatch(t).invalidateResolution(i,m))})}),r(o)},zr=Br;function Fr(e){return()=>t=>r=>typeof r=="function"?r(e):t(r)}var Wr=e=>t=>(r={},o)=>{const n=o[e];if(n===void 0)return r;const s=t(r[n],o);return s===r[n]?r:{...r,[n]:s}};function ne(e){if(e==null)return[];const t=e.length;let r=t;for(;r>0&&e[r-1]===void 0;)r--;return r===t?e:e.slice(0,r)}var Hr=Wr("selectorName")((e=new Q,t)=>{switch(t.type){case"START_RESOLUTION":{const r=new Q(e);return r.set(ne(t.args),{status:"resolving"}),r}case"FINISH_RESOLUTION":{const r=new Q(e);return r.set(ne(t.args),{status:"finished"}),r}case"FAIL_RESOLUTION":{const r=new Q(e);return r.set(ne(t.args),{status:"error",error:t.error}),r}case"START_RESOLUTIONS":{const r=new Q(e);for(const o of t.args)r.set(ne(o),{status:"resolving"});return r}case"FINISH_RESOLUTIONS":{const r=new Q(e);for(const o of t.args)r.set(ne(o),{status:"finished"});return r}case"FAIL_RESOLUTIONS":{const r=new Q(e);return t.args.forEach((o,n)=>{const s={status:"error",error:void 0},i=t.errors[n];i&&(s.error=i),r.set(ne(o),s)}),r}case"INVALIDATE_RESOLUTION":{const r=new Q(e);return r.delete(ne(t.args)),r}}return e}),qr=(e={},t)=>{switch(t.type){case"INVALIDATE_RESOLUTION_FOR_STORE":return{};case"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR":{if(t.selectorName in e){const{[t.selectorName]:r,...o}=e;return o}return e}case"START_RESOLUTION":case"FINISH_RESOLUTION":case"FAIL_RESOLUTION":case"START_RESOLUTIONS":case"FINISH_RESOLUTIONS":case"FAIL_RESOLUTIONS":case"INVALIDATE_RESOLUTION":return Hr(e,t);default:return e}},Gr=qr,De={};function Vr(e){return[e]}function Jr(e){return!!e&&typeof e=="object"}function $r(){var e={clear:function(){e.head=null}};return e}function Et(e,t,r){var o;if(e.length!==t.length)return!1;for(o=r;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}function Kr(e,t){var r,o=t||Vr;function n(l){var a=r,d=!0,m,h,p,y;for(m=0;m<l.length;m++){if(h=l[m],!Jr(h)){d=!1;break}a.has(h)?a=a.get(h):(p=new WeakMap,a.set(h,p),a=p)}return a.has(De)||(y=$r(),y.isUniqueByDependants=d,a.set(De,y)),a.get(De)}function s(){r=new WeakMap}function i(){var l=arguments.length,a,d,m,h,p;for(h=new Array(l),m=0;m<l;m++)h[m]=arguments[m];for(p=o.apply(null,h),a=n(p),a.isUniqueByDependants||(a.lastDependants&&!Et(p,a.lastDependants,0)&&a.clear(),a.lastDependants=p),d=a.head;d;){if(!Et(d.args,h,1)){d=d.next;continue}return d!==a.head&&(d.prev.next=d.next,d.next&&(d.next.prev=d.prev),d.next=a.head,d.prev=null,a.head.prev=d,a.head=d),d.val}return d={val:e.apply(null,h)},h[0]=null,d.args=h,a.head&&(a.head.prev=d,d.next=a.head),a.head=d,d.val}return i.getDependants=o,i.clear=s,s(),i}function se(e,t,r){const o=e[t];if(o)return o.get(ne(r))}function Xr(e,t,r){et("wp.data.select( store ).getIsResolving",{since:"6.6",version:"6.8",alternative:"wp.data.select( store ).getResolutionState"});const o=se(e,t,r);return o&&o.status==="resolving"}function Yr(e,t,r){return se(e,t,r)!==void 0}function Zr(e,t,r){const o=se(e,t,r)?.status;return o==="finished"||o==="error"}function Qr(e,t,r){return se(e,t,r)?.status==="error"}function en(e,t,r){const o=se(e,t,r);return o?.status==="error"?o.error:null}function tn(e,t,r){return se(e,t,r)?.status==="resolving"}function rn(e){return e}function nn(e){return Object.values(e).some(t=>Array.from(t._map.values()).some(r=>r[1]?.status==="resolving"))}var on=Kr(e=>{const t={};return Object.values(e).forEach(r=>Array.from(r._map.values()).forEach(o=>{const n=o[1]?.status??"error";t[n]||(t[n]=0),t[n]++})),t},e=>[e]);const sn=Object.freeze(Object.defineProperty({__proto__:null,countSelectorsByStatus:on,getCachedResolvers:rn,getIsResolving:Xr,getResolutionError:en,getResolutionState:se,hasFinishedResolution:Zr,hasResolutionFailed:Qr,hasResolvingSelectors:nn,hasStartedResolution:Yr,isResolving:tn},Symbol.toStringTag,{value:"Module"}));function Ct(e,t){return{type:"START_RESOLUTION",selectorName:e,args:t}}function Rt(e,t){return{type:"FINISH_RESOLUTION",selectorName:e,args:t}}function It(e,t,r){return{type:"FAIL_RESOLUTION",selectorName:e,args:t,error:r}}function an(e,t){return{type:"START_RESOLUTIONS",selectorName:e,args:t}}function cn(e,t){return{type:"FINISH_RESOLUTIONS",selectorName:e,args:t}}function ln(e,t,r){return{type:"FAIL_RESOLUTIONS",selectorName:e,args:t,errors:r}}function un(e,t){return{type:"INVALIDATE_RESOLUTION",selectorName:e,args:t}}function dn(){return{type:"INVALIDATE_RESOLUTION_FOR_STORE"}}function fn(e){return{type:"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR",selectorName:e}}const pn=Object.freeze(Object.defineProperty({__proto__:null,failResolution:It,failResolutions:ln,finishResolution:Rt,finishResolutions:cn,invalidateResolution:un,invalidateResolutionForStore:dn,invalidateResolutionForStoreSelector:fn,startResolution:Ct,startResolutions:an},Symbol.toStringTag,{value:"Module"}));var je=e=>{const t=[...e];for(let r=t.length-1;r>=0;r--)t[r]===void 0&&t.splice(r,1);return t},oe=(e,t)=>Object.fromEntries(Object.entries(e??{}).map(([r,o])=>[r,t(o,r)])),mn=(e,t)=>t instanceof Map?Object.fromEntries(t):t instanceof window.HTMLElement?null:t;function hn(){const e={};return{isRunning(t,r){return e[t]&&e[t].get(je(r))},clear(t,r){e[t]&&e[t].delete(je(r))},markAsRunning(t,r){e[t]||(e[t]=new Q),e[t].set(je(r),!0)}}}function Te(e,t){const r=new WeakMap;return{get(o){const n=e(o);if(!n)return null;let s=r.get(n);return s||(s=t(n,o),r.set(n,s)),s}}}function Ee(e,t){return new Proxy(e,{get:(r,o)=>t.get(o)||Reflect.get(r,o)})}function xt(e,t){const r={},o={},n={privateActions:r,registerPrivateActions:i=>{Object.assign(r,i)},privateSelectors:o,registerPrivateSelectors:i=>{Object.assign(o,i)}},s={name:e,instantiate:i=>{const l=new Set,a=t.reducer,m=yn(e,t,i,{registry:i,get dispatch(){return C},get select(){return A},get resolveSelect(){return j}});ie(m,n);const h=hn();function p(R){return(...L)=>Promise.resolve(m.dispatch(R(...L)))}const y={...oe(pn,p),...oe(t.actions,p)},_=Ee(y,Te(R=>r[R],p)),C=new Proxy(R=>m.dispatch(R),{get:(R,L)=>_[L]});ie(y,_);const S=t.resolvers?oe(t.resolvers,gn):{};function g(R,L){R.isRegistrySelector&&(R.registry=i);const H=(...M)=>{M=Pe(R,M);const K=m.__unstableOriginalGetState();return R.isRegistrySelector&&(R.registry=i),R(K.root,...M)};H.__unstableNormalizeArgs=R.__unstableNormalizeArgs;const Y=S[L];return Y?bn(H,L,Y,m,h,f):(H.hasResolver=!1,H)}function E(R){const L=(H,Y,...M)=>{if(H){const Z=t.selectors?.[H];Z&&(Y=Pe(Z,Y))}const K=m.__unstableOriginalGetState();return R(K.metadata,H,Y,...M)};return L.hasResolver=!1,L}const f=oe(sn,E),u=oe(t.selectors,g),c={...f,...u},v=Te(R=>o[R],g),w=Ee(c,v);for(const R of Object.keys(o))v.get(R);const A=new Proxy(R=>R(m.__unstableOriginalGetState()),{get:(R,L)=>w[L]});ie(c,w);const F=vn(m,f),j=oe(u,F),V=Ee(j,Te(R=>v.get(R),F));ie(j,V);const O=_n(m,f),U={...f,...oe(u,O)},I=Ee(U,Te(R=>v.get(R),O));ie(U,I);const x=()=>c,P=()=>y,D=()=>j,X=()=>U;m.__unstableOriginalGetState=m.getState,m.getState=()=>m.__unstableOriginalGetState().root;const W=m&&(R=>(l.add(R),()=>l.delete(R)));let N=m.__unstableOriginalGetState();return m.subscribe(()=>{const R=m.__unstableOriginalGetState(),L=R!==N;if(N=R,L)for(const H of l)H()}),{reducer:a,store:m,actions:y,selectors:c,resolvers:S,getSelectors:x,getResolveSelectors:D,getSuspendSelectors:X,getActions:P,subscribe:W}}};return ie(s,n),s}function yn(e,t,r,o){const n={...t.controls,...Lr},s=oe(n,h=>h.isRegistryControl?h(r):h),i=[zr(r,e),Mr,gr(s),Fr(o)],l=[or(...i)];typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__&&l.push(window.__REDUX_DEVTOOLS_EXTENSION__({name:e,instanceId:e,serialize:{replacer:mn}}));const{reducer:a,initialState:d}=t,m=xr({metadata:Gr,root:a});return ot(m,{root:d},Sr(l))}function vn(e,t){return(r,o)=>r.hasResolver?(...n)=>new Promise((s,i)=>{const l=()=>t.hasFinishedResolution(o,n),a=p=>{if(t.hasResolutionFailed(o,n)){const _=t.getResolutionError(o,n);i(_)}else s(p)},d=()=>r.apply(null,n),m=d();if(l())return a(m);const h=e.subscribe(()=>{l()&&(h(),a(d()))})}):async(...n)=>r.apply(null,n)}function _n(e,t){return(r,o)=>r.hasResolver?(...n)=>{const s=r.apply(null,n);if(t.hasFinishedResolution(o,n)){if(t.hasResolutionFailed(o,n))throw t.getResolutionError(o,n);return s}throw new Promise(i=>{const l=e.subscribe(()=>{t.hasFinishedResolution(o,n)&&(i(),l())})})}:r}function gn(e){return e.fulfill?e:{...e,fulfill:e}}function bn(e,t,r,o,n,s){function i(a){n.isRunning(t,a)||s.hasStartedResolution(t,a)||(n.markAsRunning(t,a),setTimeout(async()=>{n.clear(t,a),o.dispatch(Ct(t,a));try{if(!(typeof r.isFulfilled=="function"&&r.isFulfilled(o.getState(),...a))){const m=r.fulfill(...a);m&&await o.dispatch(m)}o.dispatch(Rt(t,a))}catch(d){o.dispatch(It(t,a,d))}},0))}const l=(...a)=>(a=Pe(e,a),i(a),e(...a));return l.hasResolver=!0,l}function Pe(e,t){return e.__unstableNormalizeArgs&&typeof e.__unstableNormalizeArgs=="function"&&t?.length?e.__unstableNormalizeArgs(t):t}var wn={name:"core/data",instantiate(e){const t=o=>(n,...s)=>e.select(n)[o](...s),r=o=>(n,...s)=>e.dispatch(n)[o](...s);return{getSelectors(){return Object.fromEntries(["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"].map(o=>[o,t(o)]))},getActions(){return Object.fromEntries(["startResolution","finishResolution","invalidateResolution","invalidateResolutionForStore","invalidateResolutionForStoreSelector"].map(o=>[o,r(o)]))},subscribe(){return()=>()=>{}}}}},Sn=wn;function kt(){let e=!1,t=!1;const r=new Set,o=()=>Array.from(r).forEach(n=>n());return{get isPaused(){return e},subscribe(n){return r.add(n),()=>r.delete(n)},pause(){e=!0},resume(){e=!1,t&&(t=!1,o())},emit(){if(e){t=!0;return}o()}}}function fe(e){return typeof e=="string"?e:e.name}function Tn(e={},t=null){const r={},o=kt();let n=null;function s(){o.emit()}const i=(c,v)=>{if(!v)return o.subscribe(c);const w=fe(v),A=r[w];return A?A.subscribe(c):t?t.subscribe(c,v):o.subscribe(c)};function l(c){const v=fe(c);n?.add(v);const w=r[v];return w?w.getSelectors():t?.select(v)}function a(c,v){n=new Set;try{return c.call(this)}finally{v.current=Array.from(n),n=null}}function d(c){const v=fe(c);n?.add(v);const w=r[v];return w?w.getResolveSelectors():t&&t.resolveSelect(v)}function m(c){const v=fe(c);n?.add(v);const w=r[v];return w?w.getSuspendSelectors():t&&t.suspendSelect(v)}function h(c){const v=fe(c),w=r[v];return w?w.getActions():t&&t.dispatch(v)}function p(c){return Object.fromEntries(Object.entries(c).map(([v,w])=>typeof w!="function"?[v,w]:[v,function(){return E[v].apply(null,arguments)}]))}function y(c,v){if(r[c])return console.error('Store "'+c+'" is already registered.'),r[c];const w=v();if(typeof w.getSelectors!="function")throw new TypeError("store.getSelectors must be a function");if(typeof w.getActions!="function")throw new TypeError("store.getActions must be a function");if(typeof w.subscribe!="function")throw new TypeError("store.subscribe must be a function");w.emitter=kt();const A=w.subscribe;if(w.subscribe=F=>{const j=w.emitter.subscribe(F),V=A(()=>{if(w.emitter.isPaused){w.emitter.emit();return}F()});return()=>{V?.(),j?.()}},r[c]=w,w.subscribe(s),t)try{le(w.store).registerPrivateActions(le(t).privateActionsOf(c)),le(w.store).registerPrivateSelectors(le(t).privateSelectorsOf(c))}catch{}return w}function _(c){y(c.name,()=>c.instantiate(E))}function C(c,v){et("wp.data.registerGenericStore",{since:"5.9",alternative:"wp.data.register( storeDescriptor )"}),y(c,()=>v)}function S(c,v){if(!v.reducer)throw new TypeError("Must specify store reducer");return y(c,()=>xt(c,v).instantiate(E)).store}function g(c){if(o.isPaused){c();return}o.pause(),Object.values(r).forEach(v=>v.emitter.pause());try{c()}finally{o.resume(),Object.values(r).forEach(v=>v.emitter.resume())}}let E={batch:g,stores:r,namespaces:r,subscribe:i,select:l,resolveSelect:d,suspendSelect:m,dispatch:h,use:f,register:_,registerGenericStore:C,registerStore:S,__unstableMarkListeningStores:a};function f(c,v){if(c)return E={...E,...c(E,v)},E}E.register(Sn);for(const[c,v]of Object.entries(e))E.register(xt(c,v));t&&t.subscribe(s);const u=p(E);return ie(u,{privateActionsOf:c=>{try{return le(r[c].store).privateActions}catch{return{}}},privateSelectorsOf:c=>{try{return le(r[c].store).privateSelectors}catch{return{}}}}),u}var At=Tn(),Ne=b.createContext(At);Ne.displayName="RegistryProviderContext";var{Consumer:Ro,Provider:Io}=Ne;function Ot(){return b.useContext(Ne)}var Me=b.createContext(!1);Me.displayName="AsyncModeContext";var{Consumer:xo,Provider:ko}=Me;function En(){return b.useContext(Me)}var Be=Ir();function Cn(e,t){if(!e||!t)return;const r=typeof e=="object"&&typeof t=="object"?Object.keys(e).filter(o=>e[o]!==t[o]):[];console.warn(`The \`useSelect\` hook returns different values when called with the same state and parameters.
This can lead to unnecessary re-renders and performance issues if not fixed.

Non-equal value keys: %s

`,r.join(", "))}function Rn(e,t){const r=e.select,o={};let n,s,i=!1,l,a,d;const m=new Map;function h(y){return e.stores[y]?.store?.getState?.()??{}}const p=y=>{const _=[...y],C=new Set;function S(E){if(i)for(const w of _)m.get(w)!==h(w)&&(i=!1);m.clear();const f=()=>{i=!1,E()},u=()=>{l?Be.add(o,f):f()},c=[];function v(w){c.push(e.subscribe(u,w))}for(const w of _)v(w);return C.add(v),()=>{C.delete(v);for(const w of c.values())w?.();Be.cancel(o)}}function g(E){for(const f of E)if(!_.includes(f)){_.push(f);for(const u of C)u(f)}}return{subscribe:S,updateStores:g}};return(y,_)=>{function C(){if(i&&y===n)return s;const g={current:null},E=e.__unstableMarkListeningStores(()=>y(r,e),g);if(globalThis.SCRIPT_DEBUG&&!d){const f=y(r,e);bt(E,f)||(Cn(E,f),d=!0)}if(a)a.updateStores(g.current);else{for(const f of g.current)m.set(f,h(f));a=p(g.current)}bt(s,E)||(s=E),n=y,i=!0}function S(){return C(),s}return l&&!_&&(i=!1,Be.cancel(o)),C(),l=_,{subscribe:a.subscribe,getValue:S}}}function In(e){return Ot().select(e)}function xn(e,t,r){const o=Ot(),n=En(),s=b.useMemo(()=>Rn(o),[o,e]),i=b.useCallback(t,r),{subscribe:l,getValue:a}=s(i,n),d=b.useSyncExternalStore(l,a,a);return b.useDebugValue(d),d}function kn(e,t){const r=typeof e!="function",o=b.useRef(r);if(r!==o.current){const n=o.current?"static":"mapping",s=r?"static":"mapping";throw new Error(`Switching useSelect from ${n} to ${s} is not allowed`)}return r?In(e):xn(!1,e,t)}var ze=At;ze.registerGenericStore,ze.registerStore,ze.use;function An(e){const t=e||(typeof window<"u"?window.wp?.data?.select:null);if(!t)return"desktop";const r=t("core/editor");if(r&&typeof r.getDeviceType=="function"){const s=r.getDeviceType();if(s)return s.toLowerCase()}const o=t("core/edit-site");if(o&&typeof o.getDeviceType=="function"){const s=o.getDeviceType();if(s)return s.toLowerCase()}const n=t("core/edit-post");if(n&&typeof n.getDeviceType=="function"){const s=n.getDeviceType();if(s)return s.toLowerCase()}return"desktop"}function On(){return kn(e=>An(e),[])}const Lt=({isOpen:e,popupId:t,target:r,title:o="",icon:n="",saveLabel:s="Save",clearLabel:i="Clear",clearButton:l=!0,showHeader:a=!0,showFooter:d=!0,onSave:m,onClear:h,onClose:p,children:y,popupClass:_="",minWidth:C,headerActions:S})=>{const g=On(),E=g==="mobile"||g==="tablet",f=b.useRef(null),u=b.useRef(null),[c,v]=b.useState({position:"absolute",left:"-9999px"}),w=b.useRef(""),A=b.useCallback(()=>{if(E||!u.current||!r||!f.current)return;const I=r,x=f.current,P=u.current,D=document.querySelector('iframe[name="editor-canvas"]'),X=!!D;let W=0,N=0;if(X&&D){const Nt=D.getBoundingClientRect();W=Nt.top,N=Nt.left}const R=X?D?.contentDocument?.documentElement.clientWidth??document.body.clientWidth:document.body.clientWidth,L=I.getBoundingClientRect(),H=I.offsetWidth,Y=window.pageXOffset||document.documentElement.scrollLeft,M=window.pageYOffset||document.documentElement.scrollTop,K={left:L.left+Y+N,top:L.top+M+W},Z=x.getBoundingClientRect(),Ve=window.getComputedStyle(P),Ce=parseFloat(Ve.minWidth)||0,T=C||Ce,B=Math.min(1140,R-40),z=Math.max(L.width,T||B),ce=K.left+H/2>(R+N)/2+1;let te;ce?te=K.left-z+H:te=K.left,te<0&&(te=10),te+z>R+N&&(te=R+N-z-10);let Re=K.top+L.height;const no=window.innerHeight,oo=L.bottom+W,io=L.top+W;oo+Z.height>no&&io-Z.height>=0&&(Re=K.top-Z.height);const jt={top:`${Re}px`,left:`${te}px`,width:`${z}px`,position:"absolute"},Pt=JSON.stringify(jt);Pt!==w.current&&(w.current=Pt,v(jt))},[r,C,E]);b.useEffect(()=>{if(!e)return;const I=x=>{x.key==="Escape"&&p()};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[e,p]);const F=!!document.querySelector('iframe[name="editor-canvas"]');if(b.useEffect(()=>{if(!e)return;const I=document.querySelector('iframe[name="editor-canvas"]'),x=I?.contentDocument,P=W=>{const N=W.target;if(!u.current?.contains(N)&&!(r&&r.contains(N))){if(I){const R=[".interface-interface-skeleton__sidebar",".block-editor-block-inspector",".components-popover",".components-modal__screen-overlay",".edit-post-sidebar",".interface-interface-skeleton__header",".interface-interface-skeleton__secondary-sidebar"];for(const L of R)if(N.closest(L))return}p()}},D=W=>{const N=W.target;r&&r.contains(N)||p()},X=requestAnimationFrame(()=>{document.addEventListener("mousedown",P),I&&x?.addEventListener("mousedown",D)});return()=>{cancelAnimationFrame(X),document.removeEventListener("mousedown",P),x?.removeEventListener("mousedown",D)}},[e,p,r]),b.useEffect(()=>{if(!e)return;requestAnimationFrame(()=>{requestAnimationFrame(()=>{A()})});const I=()=>A();window.addEventListener("scroll",I,!0);const x=()=>A();window.addEventListener("resize",x,!0);let P=null;return u.current&&(P=new ResizeObserver(()=>{requestAnimationFrame(()=>A())}),P.observe(u.current)),()=>{window.removeEventListener("scroll",I,!0),window.removeEventListener("resize",x,!0),P?.disconnect()}},[e,A]),!e)return null;const j=()=>b.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"currentColor"})),V=document.querySelector('iframe[name="editor-canvas"]'),O=E&&V?.contentDocument?.body?V.contentDocument.body:document.body,U=E?{}:c;return Bt.createPortal(b.createElement("div",{className:`elementor vx-popup ${_}`.trim()},F&&!E&&b.createElement("style",null,".vx-popup .ts-popup-root > div::after { pointer-events: none !important; }"),b.createElement("div",{className:"ts-popup-root elementor-element"},b.createElement("div",{ref:f,className:"ts-form elementor-element",style:U},b.createElement("div",{className:"ts-field-popup-container"},b.createElement("div",{id:t,ref:u,className:"ts-field-popup triggers-blur"},a&&b.createElement("div",{className:"ts-popup-head flexify ts-sticky-top"},b.createElement("div",{className:"ts-popup-name flexify"},n&&b.createElement("span",{dangerouslySetInnerHTML:{__html:n}}),b.createElement("span",null,o)),b.createElement("ul",{className:"flexify simplify-ul"},S,b.createElement("li",{className:"flexify ts-popup-close"},b.createElement("a",{href:"#",onClick:I=>{I.preventDefault(),p()},className:"ts-icon-btn","aria-label":"Close"},b.createElement(j,null))))),b.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},y),d&&b.createElement("div",{className:"ts-popup-controller"},b.createElement("ul",{className:"flexify simplify-ul"},b.createElement("li",{className:"flexify ts-popup-close"},b.createElement("a",{href:"#",onClick:I=>{I.preventDefault(),p()},className:"ts-icon-btn","aria-label":"Close"},b.createElement(j,null))),l&&h&&b.createElement("li",{className:"flexify"},b.createElement("a",{href:"#",onClick:I=>{I.preventDefault(),h()},className:"ts-btn ts-btn-1"},i)),m&&b.createElement("li",{className:"flexify"},b.createElement("a",{href:"#",onClick:I=>{I.preventDefault(),m()},className:"ts-btn ts-btn-2"},s))))))))),O)},Fe=new Map,pe=new Map;function Ln(e){if(Fe.has(e))return Promise.resolve(Fe.get(e));if(pe.has(e))return pe.get(e);const t=fetch(e).then(r=>r.text()).then(r=>(pe.delete(e),r.includes("<svg")?(r.includes("aria-hidden")||(r=r.replace("<svg",'<svg aria-hidden="true"')),r=r.replace(/<svg([^>]*)\sfill="[^"]*"/,"<svg$1"),Fe.set(e,r),r):"")).catch(()=>(pe.delete(e),""));return pe.set(e,t),t}function Ut({url:e,className:t}){const r=b.useRef(null);return b.useEffect(()=>{if(!r.current)return;let o=!1;return Ln(e).then(n=>{if(o||!r.current||!n)return;const s=document.createElement("div");s.innerHTML=n;const i=s.querySelector("svg");i&&(t&&i.classList.add(...t.split(" ")),r.current.innerHTML="",r.current.appendChild(i))}),()=>{o=!0,r.current&&(r.current.innerHTML="")}},[e,t]),React.createElement("span",{ref:r,"aria-hidden":"true",style:{display:"contents"}})}function Un({text:e,icon:t="î —",className:r="",style:o={}}){return typeof window<"u"&&!window.wp?.blockEditor?null:b.createElement("div",{className:`voxel-empty-placeholder ${r}`,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e?"8px":"0",background:"rgb(213 216 220 / 80%)",borderRadius:"0",color:"#666",fontSize:"13px",height:"100%",minHeight:"45px",width:"100%",boxSizing:"border-box",...o}},b.createElement("span",{className:"placeholder-icon",style:{fontFamily:"eicons",fontSize:"24px",opacity:.3,lineHeight:1,fontStyle:"normal"}},t),e&&b.createElement("span",{className:"placeholder-text",style:{opacity:.6}},e))}const Dn={id:"",actionType:"none",text:"Action",icon:null,enableTooltip:!1,tooltipText:"",link:null,scrollToId:"",additionId:"",calStartDate:"",calEndDate:"",calTitle:"",calDescription:"",calLocation:"",calUrl:"",cartOptsText:"Select options",cartOptsEnableTooltip:!1,cartOptsTooltipText:"",cartOptsIcon:null,activeText:"Action",activeIcon:null,activeEnableTooltip:!1,activeTooltipText:"",customStyle:!1,customIconColor:"",customIconColorActive:"",loopSource:"",loopProperty:"",loopLimit:"",loopOffset:"",rowVisibility:"show",visibilityRules:[]},jn=["action_follow_post","action_follow","edit_post","delete_post","unpublish_post","publish_post","show_post_on_map","share_post","view_post_stats","add_to_cart","promote_post","select_addition","action_gcal","action_ical","action_save","direct_message","direct_message_user","relist_post","switch_listing_plan"],Pn=["action_follow","action_follow_post","select_addition","promote_post","action_save"];function We(e){return typeof e=="string"&&e.includes("@tags()")&&e.includes("@endtags()")}function He(e){const t=e.match(/@tags\(\)(.*?)@endtags\(\)/s);return t?t[1]:e}function Nn(e){const t={};for(const[r,o]of Object.entries(e))t[r]=We(o)?He(o):o;return t}function Mn(e,t={}){const[r,o]=b.useState(()=>Nn(e)),n=b.useRef(null),s=JSON.stringify(e);return b.useEffect(()=>{const l=Object.entries(e).filter(([,h])=>We(h));if(l.length===0){o(e);return}n.current?.abort();const a=new AbortController;n.current=a;const d={type:t.templateContext||"post"};t.templatePostType&&(d.post_type=t.templatePostType);const m=l.map(([h,p])=>{const y=He(p);return Ie({path:"/voxel-fse/v1/dynamic-data/render",method:"POST",data:{expression:y,preview_context:d},signal:a.signal}).then(_=>[h,_.rendered??y]).catch(_=>_.name!=="AbortError"?[h,y]:null)});return Promise.all(m).then(h=>{const p={...e};for(const y of h)y&&(p[y[0]]=y[1]);o(p)}),()=>{a.abort()}},[s,t.templateContext,t.templatePostType]),r}function qe(e,t={}){const[r,o]=b.useState({url:null}),n=b.useRef(null);return b.useEffect(()=>{if(!e||!We(e)){o({url:null});return}const s=He(e);if(!s){o({url:null});return}n.current?.abort();const i=new AbortController;n.current=i;const l={type:t.templateContext||"post"};return t.templatePostType&&(l.post_type=t.templatePostType),(async()=>{try{const a=await Ie({path:"/voxel-fse/v1/dynamic-data/render",method:"POST",data:{expression:s,preview_context:l},signal:i.signal});if(i.signal.aborted)return;let d=a.rendered;const m=d.match(/@tags\(\)(.*?)@endtags\(\)/s);m&&(d=m[1]);let h;const p=d.match(/^svg:(\d+)$/);if(p?h=parseInt(p[1],10):h=parseInt(d,10),!h||isNaN(h)){d.startsWith("http://")||d.startsWith("https://")||d.startsWith("/")?i.signal.aborted||o({url:d}):i.signal.aborted||o({url:null});return}const y=await Ie({path:`/wp/v2/media/${h}?context=edit`,signal:i.signal});if(i.signal.aborted)return;y&&o({url:y.source_url})}catch(a){a instanceof Error&&a.name!=="AbortError"&&o({url:null})}})(),()=>{i.abort()}},[e,t.templateContext,t.templatePostType]),r}const Bn=[{type:"facebook",label:"Facebook",icon:'<i class="fab fa-facebook"></i>'},{type:"twitter",label:"Twitter",icon:'<i class="fab fa-twitter"></i>'},{type:"linkedin",label:"LinkedIn",icon:'<i class="fab fa-linkedin"></i>'},{type:"pinterest",label:"Pinterest",icon:'<i class="fab fa-pinterest"></i>'},{type:"whatsapp",label:"WhatsApp",icon:'<i class="fab fa-whatsapp"></i>'},{type:"email",label:"Email",icon:'<i class="las la-envelope"></i>'},{type:"copy",label:"Copy link",icon:'<i class="las la-link"></i>'}];function zn(e,t,r){const o=encodeURIComponent(t),n=encodeURIComponent(r);switch(e){case"facebook":return`https://www.facebook.com/sharer/sharer.php?u=${n}`;case"twitter":return`https://twitter.com/intent/tweet?text=${o}&url=${n}`;case"linkedin":return`https://www.linkedin.com/shareArticle?mini=true&url=${n}&title=${o}`;case"pinterest":return`https://pinterest.com/pin/create/button/?url=${n}&description=${o}`;case"whatsapp":return`https://wa.me/?text=${o}%20${n}`;case"email":return`mailto:?subject=${o}&body=${n}`;case"copy":return"#";default:return"#"}}function Fn(e){const t=e.start?new Date(e.start):null;if(!t||isNaN(t.getTime()))return null;let r=e.end?new Date(e.end):null;(!r||isNaN(r.getTime())||r<t)&&(r=t);const o=s=>s.toISOString().replace(/[-:]/g,"").split(".")[0],n=new URLSearchParams({action:"TEMPLATE",trp:"true",text:e.title||"",dates:`${o(t)}/${o(r)}`});if(e.description){const s=e.description.replace(/<[^>]*>/g,"");n.set("details",s)}return e.location&&n.set("location",e.location),e.timezone&&n.set("ctz",e.timezone),`https://calendar.google.com/calendar/render?${n.toString()}`}function Wn(e){const t=e.start?new Date(e.start):null;if(!t||isNaN(t.getTime()))return null;let r=e.end?new Date(e.end):null;(!r||isNaN(r.getTime())||r<t)&&(r=t);const o=C=>C.toISOString().replace(/[-:]/g,"").split(".")[0],n=o(t),s=o(r),i=(e.title||"event").replace(/[^\w\s-]/g,""),l=(e.description||"").replace(/<[^>]*>/g,"").replace(/\r\n|\r|\n/g,"\\n").replace(/&nbsp;/g,""),a=(e.location||"").replace(/[^\w\s,-]/g,""),d=e.url||"",m=o(new Date),h=`${window.location.origin}/?ics_uid=${btoa(JSON.stringify([i,n,s,d])).slice(0,20)}`,p=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//hacksw/handcal//NONSGML v1.0//EN","CALSCALE:GREGORIAN","BEGIN:VEVENT",`LOCATION:${a}`,`DESCRIPTION:${l}`,`DTSTART:${n}`,`DTEND:${s}`,`SUMMARY:${i}`,`URL;VALUE=URI:${d}`,`DTSTAMP:${m}`,`UID:${h}`,"END:VEVENT","END:VCALENDAR"].join(`\r
`),y=`data:text/calendar;base64,${btoa(p)}`,_=`${i||"event"}.ics`;return{dataUrl:y,filename:_}}function Hn({editSteps:e,icon:t,resolvedIconUrl:r,onClose:o,isOpen:n,target:s}){return React.createElement(Lt,{isOpen:n,popupId:"edit-steps-popup",target:s,showHeader:!1,showFooter:!1,onClose:o},React.createElement("div",{className:"ts-popup-head ts-sticky-top flexify hide-d"},React.createElement("div",{className:"ts-popup-name flexify"},me(t,r),React.createElement("span",null,"Edit")),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{role:"button",href:"#",className:"ts-icon-btn",onClick:i=>{i.preventDefault(),o()}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"currentColor"})))))),React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},e.map(i=>React.createElement("li",{key:i.key},React.createElement("a",{href:i.link,className:"flexify"},React.createElement("span",null,i.label)))))))}function qn({title:e,link:t,icon:r,resolvedIconUrl:o,onClose:n,isOpen:s,target:i}){const[l,a]=b.useState(!1),d=async(h,p)=>{if(h.type==="copy"){p.preventDefault();try{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)}catch{const _=document.createElement("textarea");_.value=t,document.body.appendChild(_),_.select(),document.execCommand("copy"),document.body.removeChild(_),a(!0),setTimeout(()=>a(!1),2e3)}return}},m=Bn.map(h=>({...h,link:zn(h.type,e,t)}));return React.createElement(Lt,{isOpen:s,popupId:"share-post-popup",target:i,showHeader:!1,showFooter:!1,onClose:n},React.createElement("div",{className:"ts-popup-head ts-sticky-top flexify hide-d"},React.createElement("div",{className:"ts-popup-name flexify"},me(r,o),React.createElement("span",null,"Share post")),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{role:"button",href:"#",className:"ts-icon-btn",onClick:h=>{h.preventDefault(),n()}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"currentColor"})))))),React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll ts-social-share"},m.map(h=>h.type==="ui-heading"?React.createElement("li",{key:`heading-${h.label}`,className:"ts-parent-item vx-noevent"},React.createElement("a",{href:"#",className:"flexify"},React.createElement("span",null,h.label))):React.createElement("li",{key:h.type,className:`ts-share-${h.type}`},React.createElement("a",{href:h.link,target:h.type!=="copy"&&h.type!=="email"?"_blank":void 0,className:"flexify",rel:"nofollow",onClick:p=>d(h,p)},React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:h.icon}})),React.createElement("span",null,h.type==="copy"&&l?"Copied!":h.label)))))))}function me(e,t){if(!e||!e.value)return null;if(e.library==="svg")return React.createElement(Ut,{url:e.value});if(e.library==="dynamic")return t?React.createElement(Ut,{url:t}):null;const r=e.library&&e.library!=="icon"?`${e.library} ${e.value}`:e.value;return React.createElement("i",{className:r,"aria-hidden":"true"})}function Gn(e){const t={};return e.enableCssGrid?(t.display="grid",e.gridColumns&&(t.gridTemplateColumns=`repeat(${e.gridColumns}, minmax(auto, 1fr))`)):e.listJustify&&(t.justifyContent=e.listJustify),e.itemGap&&(t.gap=`${e.itemGap}${e.itemGapUnit||"px"}`),t}function Vn(e){const t={};if(e.iconContainerSize){const r=`${e.iconContainerSize}${e.iconContainerSizeUnit||"px"}`;t.width=r,t.height=r}return e.iconContainerBackground&&(t.background=e.iconContainerBackground),e.iconContainerBorderRadius&&(t.borderRadius=`${e.iconContainerBorderRadius}${e.iconContainerBorderRadiusUnit||"px"}`),e.iconSize&&(t["--ts-icon-size"]=`${e.iconSize}${e.iconSizeUnit||"px"}`),e.iconColor&&(t["--ts-icon-color"]=e.iconColor),t}function Jn(e){return!e.enableCssGrid&&e.itemWidth==="custom"&&e.customItemWidth?{width:`${e.customItemWidth}${e.customItemWidthUnit||"px"}`}:{}}function Dt({item:e,index:t,attributes:r,context:o,postContext:n,templateContext:s,templatePostType:i}){const[l,a]=b.useState(!1),[d,m]=b.useState(!1),h=b.useRef(null),p=jn.includes(e.actionType),y=Pn.includes(e.actionType),_=b.useMemo(()=>({templateContext:s,templatePostType:i}),[s,i]),C=b.useMemo(()=>({text:e.text||"",activeText:e.activeText||"",tooltipText:e.tooltipText||"",activeTooltipText:e.activeTooltipText||"",cartOptsText:e.cartOptsText||"",cartOptsTooltipText:e.cartOptsTooltipText||"",calTitle:e.calTitle||"",calDescription:e.calDescription||"",calLocation:e.calLocation||"",calUrl:e.calUrl||""}),[e.text,e.activeText,e.tooltipText,e.activeTooltipText,e.cartOptsText,e.cartOptsTooltipText,e.calTitle,e.calDescription,e.calLocation,e.calUrl]),S=Mn(o==="editor"?C:{},_),g=b.useMemo(()=>{if(o!=="editor")return C;const T={...S},B=C;for(const z of Object.keys(T)){const ce=B[z]||"";!T[z]&&ce.includes("@tags()")&&(T[z]=ce.replace(/@tags\(\)/g,"").replace(/@endtags\(\)/g,"").trim())}return T},[o,S,C]),E=o==="editor"&&e.icon?.library==="dynamic"?e.icon.value:void 0,f=o==="editor"&&e.activeIcon?.library==="dynamic"?e.activeIcon.value:void 0,u=o==="editor"&&e.cartOptsIcon?.library==="dynamic"?e.cartOptsIcon.value:void 0,c=qe(E,_),v=qe(f,_),w=qe(u,_),A=b.useMemo(()=>o==="editor"?!0:!(!(e.visibilityRules&&e.visibilityRules.length>0)&&e.rowVisibility==="hide"||p&&!n||e.actionType==="edit_post"&&n&&!n.isEditable),[o,p,n,e.actionType,e.rowVisibility,e.visibilityRules]),F=b.useMemo(()=>A?n?e.actionType==="delete_post"?n.permissions?.delete??!1:e.actionType==="publish_post"?(n.permissions?.publish??!1)&&n.status==="unpublished":e.actionType==="unpublish_post"?(n.permissions?.publish??!1)&&n.status==="publish":e.actionType==="add_to_cart"?n.product?.isEnabled??!1:e.actionType==="show_post_on_map"?n.location?.mapLink!=null:e.actionType==="view_post_stats"?n.postStatsLink!=null:e.actionType==="promote_post"?n.promote?.isPromotable??!1:["action_follow_post","action_follow"].includes(e.actionType)&&n.timelineEnabled===!1?!1:e.actionType==="action_follow"?n.authorId!=null:!0:!0:!1,[o,A,p,e.actionType,n]),j=Vn(r),V=Jn(r);e.customStyle&&e.customIconColor&&(j["--ts-icon-color"]=e.customIconColor);const O=e.enableTooltip?g.tooltipText:void 0,U=b.useMemo(()=>!y||!n?!1:e.actionType==="action_follow_post"?n.isFollowed:e.actionType==="action_follow"?n.isAuthorFollowed:e.actionType==="promote_post"?n.promote?.isActive??!1:!1,[y,n,e.actionType]),I=b.useMemo(()=>n?e.actionType==="action_follow_post"?n.isFollowRequested:e.actionType==="action_follow"?n.isAuthorFollowRequested:!1:!1,[n,e.actionType]),x=(T,B={})=>{if(!n)return"#";const z=new URLSearchParams;z.set("vx","1"),z.set("action",T),Object.entries(B).forEach(([te,Re])=>z.set(te,String(Re)));const ce={"user.posts.delete_post":n.nonces?.delete_post||"","user.posts.republish_post":n.nonces?.modify_post||"","user.posts.unpublish_post":n.nonces?.modify_post||"","user.follow_post":n.nonces?.follow||"","user.follow_user":n.nonces?.follow||""};return ce[T]&&z.set("_wpnonce",ce[T]),`${window.wpApiSettings?.root||"/"}?${z.toString()}`},D=b.useCallback(()=>{if(!n&&o==="frontend"&&p)return{tag:"div"};switch(e.actionType){case"action_link":return{tag:"a",href:e.link?.url||"#",target:e.link?.isExternal?"_blank":void 0,rel:e.link?.nofollow?"nofollow":void 0,...o==="editor"?{onClick:T=>T.preventDefault()}:{}};case"delete_post":return n?{tag:"a",href:x("user.posts.delete_post",{post_id:n.postId}),className:"ts-action-con","vx-action":"",rel:"nofollow","data-confirm":n.confirmMessages?.delete||"Are you sure?",...o==="editor"?{onClick:T=>T.preventDefault()}:{}}:{tag:"div"};case"publish_post":return n?{tag:"a",href:x("user.posts.republish_post",{post_id:n.postId}),className:"ts-action-con","vx-action":"",rel:"nofollow",...o==="editor"?{onClick:T=>T.preventDefault()}:{}}:{tag:"div"};case"unpublish_post":return n?{tag:"a",href:x("user.posts.unpublish_post",{post_id:n.postId}),className:"ts-action-con","vx-action":"",rel:"nofollow",...o==="editor"?{onClick:T=>T.preventDefault()}:{}}:{tag:"div"};case"add_to_cart":return n?n.product?.oneClick?{tag:"a",href:"#",target:"_blank",rel:"nofollow","data-product-id":n.product.productId,onClick:T=>{typeof window.Voxel<"u"&&window.Voxel.addToCartAction&&window.Voxel.addToCartAction(T,T.currentTarget)}}:{tag:"a",href:n.postLink,className:"ts-action-con",...o==="editor"?{onClick:T=>T.preventDefault()}:{}}:{tag:"div"};case"select_addition":return{tag:"a",href:"#",role:"button",className:"ts-action-con ts-use-addition","data-id":e.additionId,onClick:T=>{T.preventDefault()}};case"action_follow_post":return n?{tag:"a",href:x("user.follow_post",{post_id:n.postId}),rel:"nofollow",role:"button",...o==="editor"?{onClick:T=>T.preventDefault()}:{}}:{tag:"div"};case"action_follow":return n?{tag:"a",href:x("user.follow_user",{user_id:n.authorId||0}),rel:"nofollow",role:"button",...o==="editor"?{onClick:T=>T.preventDefault()}:{}}:{tag:"div"};case"show_post_on_map":return n?.location?.mapLink?{tag:"a",href:n.location.mapLink,rel:"nofollow",className:"ts-action-con ts-action-show-on-map","data-post-id":n.postId,...o==="editor"?{onClick:T=>T.preventDefault()}:{}}:{tag:"div"};case"view_post_stats":return n?.postStatsLink?{tag:"a",href:n.postStatsLink,rel:"nofollow",...o==="editor"?{onClick:T=>T.preventDefault()}:{}}:{tag:"div"};case"promote_post":if(n?.promote?.isPromotable){const T=o==="editor"?{onClick:B=>B.preventDefault()}:{};if(n.promote.isActive&&n.promote.orderLink)return{tag:"a",href:n.promote.orderLink,rel:"nofollow",...T};if(n.promote.promoteLink)return{tag:"a",href:n.promote.promoteLink,rel:"nofollow",role:"button",...T}}return{tag:"div"};case"back_to_top":return{tag:"a",href:"#",onClick:T=>{T.preventDefault(),typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})}};case"go_back":return{tag:"a",href:"#",onClick:T=>{T.preventDefault(),o!=="editor"&&window.history.back()}};case"scroll_to_section":return{tag:"a",href:"#",onClick:T=>{if(T.preventDefault(),typeof window<"u"&&e.scrollToId){const B=document.getElementById(e.scrollToId);B&&B.scrollIntoView({behavior:"smooth"})}}};case"edit_post":return n?.editLink?n.editSteps&&n.editSteps.length>1?{tag:"a",href:"#",ref:h,role:"button",onClick:T=>{T.preventDefault(),a(!0)}}:{tag:"a",href:n.editLink,...o==="editor"?{onClick:T=>T.preventDefault()}:{}}:{tag:"div"};case"share_post":return{tag:"a",href:"#",ref:h,role:"button",onClick:T=>{T.preventDefault(),m(!0)}};case"action_gcal":{const T=Fn({start:e.calStartDate,end:e.calEndDate,title:e.calTitle,description:e.calDescription,location:e.calLocation});return T?{tag:"a",href:T,target:"_blank",rel:"nofollow",className:"ts-action-con",...o==="editor"?{onClick:B=>B.preventDefault()}:{}}:{tag:"div"}}case"action_ical":{const T=Wn({start:e.calStartDate,end:e.calEndDate,title:e.calTitle,description:e.calDescription,location:e.calLocation,url:e.calUrl});return T?{tag:"a",href:T.dataUrl,download:T.filename,role:"button",rel:"nofollow",className:"ts-action-con",...o==="editor"?{onClick:B=>B.preventDefault()}:{}}:{tag:"div"}}default:return{tag:"div"}}},[e,n,o,p])(),X=D.tag;if(!F)return null;const W=e.actionType==="add_to_cart"&&n?.product&&!n.product.oneClick,N=()=>{if(y)return React.createElement(React.Fragment,null,React.createElement("span",{className:"ts-initial"},React.createElement("div",{className:"ts-action-icon",style:j},me(e.icon,c.url)),g.text),React.createElement("span",{className:"ts-reveal"},React.createElement("div",{className:"ts-action-icon",style:j},me(e.activeIcon,v.url)),g.activeText));const T=W&&e.cartOptsIcon||e.icon,B=W?g.cartOptsText:g.text,z=W&&w.url||c.url;return React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-action-icon",style:j},me(T,z)),B)},R=[`vxfse-repeater-item-${e.id||t}`,"flexify","ts-action"].join(" "),L=[D.className||"ts-action-con",["action_follow_post","action_follow"].includes(e.actionType)?"ts-action-follow":"",U?"active":"",I?"intermediate":""].filter(Boolean).join(" "),H=["action_follow_post","action_follow"].includes(e.actionType),Y=e.actionType==="select_addition",M={};H?(e.enableTooltip&&g.tooltipText&&(M["tooltip-inactive"]=g.tooltipText),e.activeEnableTooltip&&g.activeTooltipText&&(M["tooltip-active"]=g.activeTooltipText)):Y?(e.enableTooltip&&g.tooltipText&&(M["data-tooltip"]=g.tooltipText,M["data-tooltip-default"]=g.tooltipText),e.activeEnableTooltip&&g.activeTooltipText&&(M["data-tooltip-active"]=g.activeTooltipText)):W?e.cartOptsEnableTooltip&&g.cartOptsTooltipText&&(M["data-tooltip"]=g.cartOptsTooltipText):O&&(M["data-tooltip"]=O);const K=e.actionType==="edit_post"&&n?.editSteps&&n.editSteps.length>1,Z=e.actionType==="share_post",Ve=K||Z,Ce=X;if(Ve){const T=Z?"ts-action-wrap ts-share-post":"ts-action-wrap ts-popup-component";return React.createElement("li",{className:R,style:V,...M},React.createElement("div",{className:T},React.createElement(Ce,{...D,className:L,"aria-label":g.text||O,role:X==="a"?void 0:"button"},N()),K&&n&&React.createElement(Hn,{editSteps:n.editSteps,icon:e.icon,resolvedIconUrl:c.url,isOpen:l,onClose:()=>a(!1),target:h.current}),Z&&n&&React.createElement(qn,{title:n.postTitle,link:n.postLink,icon:e.icon,resolvedIconUrl:c.url,isOpen:d,onClose:()=>m(!1),target:h.current})))}return React.createElement("li",{className:R,style:V,...M},React.createElement(Ce,{...D,className:L,"aria-label":g.text||O,role:X==="a"?void 0:"button"},N()))}function $n({attributes:e,context:t,postContext:r,templateContext:o,templatePostType:n}){const s=Gn(e),i=b.useMemo(()=>({items:e.items,icons:{closeIcon:e.closeIcon?.value?e.closeIcon:null,messageIcon:e.messageIcon?.value?e.messageIcon:null,linkIcon:e.linkIcon?.value?e.linkIcon:null,shareIcon:e.shareIcon?.value?e.shareIcon:null},list:{enableCssGrid:e.enableCssGrid,gridColumns:e.gridColumns,itemWidth:e.itemWidth,customItemWidth:e.customItemWidth,customItemWidthUnit:e.customItemWidthUnit,listJustify:e.listJustify,itemGap:e.itemGap,itemGapUnit:e.itemGapUnit},itemStyle:{justifyContent:e.itemJustifyContent,padding:e.itemPadding,paddingUnit:e.itemPaddingUnit,height:e.itemHeight,heightUnit:e.itemHeightUnit,borderType:e.itemBorderType,borderWidth:e.itemBorderWidth,borderWidthUnit:e.itemBorderWidthUnit,borderColor:e.itemBorderColor,borderRadius:e.itemBorderRadius,borderRadiusUnit:e.itemBorderRadiusUnit,boxShadow:e.itemBoxShadow,typography:e.itemTypography,textColor:e.itemTextColor,backgroundColor:e.itemBackgroundColor},iconContainer:{background:e.iconContainerBackground,size:e.iconContainerSize,sizeUnit:e.iconContainerSizeUnit,borderType:e.iconContainerBorderType,borderWidth:e.iconContainerBorderWidth,borderWidthUnit:e.iconContainerBorderWidthUnit,borderColor:e.iconContainerBorderColor,borderRadius:e.iconContainerBorderRadius,borderRadiusUnit:e.iconContainerBorderRadiusUnit,boxShadow:e.iconContainerBoxShadow,textSpacing:e.iconTextSpacing,textSpacingUnit:e.iconTextSpacingUnit},icon:{onTop:e.iconOnTop,size:e.iconSize,sizeUnit:e.iconSizeUnit,color:e.iconColor},hoverStyle:{boxShadow:e.itemBoxShadowHover,borderColor:e.itemBorderColorHover,textColor:e.itemTextColorHover,backgroundColor:e.itemBackgroundColorHover,iconContainerBackground:e.iconContainerBackgroundHover,iconContainerBorderColor:e.iconContainerBorderColorHover,iconColor:e.iconColorHover},activeStyle:{boxShadow:e.itemBoxShadowActive,textColor:e.itemTextColorActive,backgroundColor:e.itemBackgroundColorActive,borderColor:e.itemBorderColorActive,iconContainerBackground:e.iconContainerBackgroundActive,iconContainerBorderColor:e.iconContainerBorderColorActive,iconColor:e.iconColorActive},tooltip:{bottom:e.tooltipBottom,textColor:e.tooltipTextColor,typography:e.tooltipTypography,backgroundColor:e.tooltipBackgroundColor,borderRadius:e.tooltipBorderRadius,borderRadiusUnit:e.tooltipBorderRadiusUnit}}),[e]);return!e.items||e.items.length===0?t==="frontend"?null:React.createElement("ul",{className:"flexify simplify-ul ts-advanced-list voxel-fse-empty"},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(i)}}),React.createElement("li",{className:"flexify ts-action"},React.createElement(Un,null))):t==="frontend"?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(i)}}),e.items.map((l,a)=>React.createElement(Dt,{key:l.id||a,item:l,index:a,attributes:e,context:t,postContext:r,templateContext:o,templatePostType:n}))):React.createElement("ul",{className:"flexify simplify-ul ts-advanced-list",style:s},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(i)}}),e.items.map((l,a)=>React.createElement(Dt,{key:l.id||a,item:l,index:a,attributes:e,context:t,postContext:r,templateContext:o,templatePostType:n})))}function Kn(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!t.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}const ae={top:"",right:"",bottom:"",left:""},ee={horizontal:0,vertical:0,blur:0,spread:0,color:"rgba(0,0,0,0.1)"},he={},$={library:"",value:""};function Xn(e){const t=(f,u)=>typeof f=="string"?f:typeof f=="number"?String(f):u,r=(f,u)=>{if(typeof f=="number")return f;if(typeof f=="string"){const c=parseFloat(f);if(!isNaN(c))return c}return u},o=(f,u)=>typeof f=="boolean"?f:f==="yes"||f==="true"||f==="1"||f===1?!0:f===""||f==="no"||f==="false"||f==="0"||f===0?!1:u,n=f=>{if(!f||typeof f!="object")return null;const u=f;return!u.library&&!u.value?null:{library:t(u.library,""),value:t(u.value,"")}},s=f=>{if(!f||typeof f!="object")return ae;const u=f;return{top:t(u.top,""),right:t(u.right,""),bottom:t(u.bottom,""),left:t(u.left,"")}},i=f=>{if(!f||typeof f!="object")return ee;const u=f;return{horizontal:r(u.horizontal,0),vertical:r(u.vertical,0),blur:r(u.blur,0),spread:r(u.spread,0),color:t(u.color,"rgba(0,0,0,0.1)")}},l=f=>{if(!f||typeof f!="object")return he;const u=f;return{fontFamily:u.fontFamily!==void 0?t(u.fontFamily??u.font_family,""):void 0,fontSize:u.fontSize!==void 0?r(u.fontSize??u.font_size,14):void 0,fontSizeUnit:u.fontSizeUnit!==void 0?t(u.fontSizeUnit??u.font_size_unit,"px"):void 0,fontWeight:u.fontWeight!==void 0?t(u.fontWeight??u.font_weight,""):void 0,textTransform:u.textTransform!==void 0?t(u.textTransform??u.text_transform,""):void 0,fontStyle:u.fontStyle!==void 0?t(u.fontStyle??u.font_style,""):void 0,textDecoration:u.textDecoration!==void 0?t(u.textDecoration??u.text_decoration,""):void 0,lineHeight:u.lineHeight!==void 0?r(u.lineHeight??u.line_height,1.5):void 0,lineHeightUnit:u.lineHeightUnit!==void 0?t(u.lineHeightUnit??u.line_height_unit,"em"):void 0,letterSpacing:u.letterSpacing!==void 0?r(u.letterSpacing??u.letter_spacing,0):void 0,letterSpacingUnit:u.letterSpacingUnit!==void 0?t(u.letterSpacingUnit??u.letter_spacing_unit,"px"):void 0}},a=f=>{if(!f||typeof f!="object")return null;const u=f;return{url:t(u.url,""),isExternal:o(u.isExternal??u.is_external,!1),nofollow:o(u.nofollow,!1)}},d=f=>{if(!f||typeof f!="object")return{...Dn,id:crypto.randomUUID?.()||String(Date.now())};const u=f;return{id:t(u.id??u._id,crypto.randomUUID?.()||String(Date.now())),actionType:t(u.actionType??u.ts_action_type,"none"),text:t(u.text??u.ts_acw_initial_text,"Action"),icon:n(u.icon??u.ts_acw_initial_icon),enableTooltip:o(u.enableTooltip??u.ts_enable_tooltip,!1),tooltipText:t(u.tooltipText??u.ts_tooltip_text,""),link:a(u.link??u.ts_action_link),scrollToId:t(u.scrollToId??u.ts_scroll_to,""),additionId:t(u.additionId??u.ts_addition_id,""),calStartDate:t(u.calStartDate??u.ts_action_cal_start_date,""),calEndDate:t(u.calEndDate??u.ts_action_cal_end_date,""),calTitle:t(u.calTitle??u.ts_action_cal_title,""),calDescription:t(u.calDescription??u.ts_action_cal_desc,""),calLocation:t(u.calLocation??u.ts_action_cal_location,""),calUrl:t(u.calUrl??u.ts_action_cal_url,""),cartOptsText:t(u.cartOptsText??u.ts_cart_opts_text,"Select options"),cartOptsEnableTooltip:o(u.cartOptsEnableTooltip??u.ts_cart_opts_enable_tooltip,!1),cartOptsTooltipText:t(u.cartOptsTooltipText??u.ts_cart_opts_tooltip_text,""),cartOptsIcon:n(u.cartOptsIcon??u.ts_cart_opts_icon),activeText:t(u.activeText??u.ts_acw_reveal_text,"Action"),activeIcon:n(u.activeIcon??u.ts_acw_reveal_icon),activeEnableTooltip:o(u.activeEnableTooltip??u.ts_acw_enable_tooltip,!1),activeTooltipText:t(u.activeTooltipText??u.ts_acw_tooltip_text,""),customStyle:o(u.customStyle??u.ts_acw_custom_style,!1),customIconColor:t(u.customIconColor??u.ts_acw_icon_color_custom,""),customIconColorActive:t(u.customIconColorActive??u.ts_acw_icon_color_a_custom,""),loopSource:t(u.loopSource,""),loopProperty:t(u.loopProperty,""),loopLimit:t(u.loopLimit,""),loopOffset:t(u.loopOffset,""),rowVisibility:t(u.rowVisibility,"show"),visibilityRules:Array.isArray(u.visibilityRules)?u.visibilityRules:[]}},m=f=>f?Array.isArray(f)?f.map(d):typeof f=="object"?Object.values(f).map(d):[]:[],h=f=>{const u={closeIcon:$,messageIcon:$,linkIcon:$,shareIcon:$};if(!f||typeof f!="object")return u;const c=f;return{closeIcon:n(c.closeIcon??c.ts_close_ico)||$,messageIcon:n(c.messageIcon??c.ts_message_ico)||$,linkIcon:n(c.linkIcon??c.ts_link_ico)||$,shareIcon:n(c.shareIcon??c.ts_share_ico)||$}},p=f=>{const u={enableCssGrid:!1,gridColumns:3,itemWidth:"auto",customItemWidth:100,customItemWidthUnit:"px",listJustify:"left",itemGap:10,itemGapUnit:"px"};if(!f||typeof f!="object")return u;const c=f;return{enableCssGrid:o(c.enableCssGrid??c.csgrid_action_on,!1),gridColumns:r(c.gridColumns??c.ts_cgrid_columns,3),itemWidth:t(c.itemWidth??c.ts_al_columns_no,"auto"),customItemWidth:r(c.customItemWidth??c.ts_al_columns_cstm,100),customItemWidthUnit:t(c.customItemWidthUnit,"px"),listJustify:t(c.listJustify??c.ts_al_justify,"left"),itemGap:r(c.itemGap??c.ts_cgrid_gap,10),itemGapUnit:t(c.itemGapUnit,"px")}},y=f=>{const u={justifyContent:"flex-start",padding:ae,paddingUnit:"px",height:48,heightUnit:"px",borderType:"none",borderWidth:ae,borderWidthUnit:"px",borderColor:"",borderRadius:0,borderRadiusUnit:"px",boxShadow:ee,typography:he,textColor:"",backgroundColor:""};if(!f||typeof f!="object")return u;const c=f;return{justifyContent:t(c.justifyContent??c.ts_al_align,"flex-start"),padding:s(c.padding??c.ts_action_padding),paddingUnit:t(c.paddingUnit,"px"),height:r(c.height??c.ts_acw_height,48),heightUnit:t(c.heightUnit,"px"),borderType:t(c.borderType??c.ts_acw_border,"none"),borderWidth:s(c.borderWidth),borderWidthUnit:t(c.borderWidthUnit,"px"),borderColor:t(c.borderColor,""),borderRadius:r(c.borderRadius??c.ts_acw_border_radius,0),borderRadiusUnit:t(c.borderRadiusUnit,"px"),boxShadow:i(c.boxShadow??c.ts_acw_border_shadow),typography:l(c.typography??c.ts_acw_typography),textColor:t(c.textColor??c.ts_acw_initial_color,""),backgroundColor:t(c.backgroundColor??c.ts_acw_initial_bg,"")}},_=f=>{const u={background:"",size:36,sizeUnit:"px",borderType:"solid",borderWidth:ae,borderWidthUnit:"px",borderColor:"",borderRadius:50,borderRadiusUnit:"px",boxShadow:ee,textSpacing:0,textSpacingUnit:"px"};if(!f||typeof f!="object")return u;const c=f;return{background:t(c.background??c.ts_acw_icon_con_bg,""),size:r(c.size??c.ts_acw_icon_con_size,36),sizeUnit:t(c.sizeUnit,"px"),borderType:t(c.borderType??c.ts_acw_icon_con_border,"solid"),borderWidth:s(c.borderWidth),borderWidthUnit:t(c.borderWidthUnit,"px"),borderColor:t(c.borderColor,""),borderRadius:r(c.borderRadius??c.ts_acw_icon_con_radius,50),borderRadiusUnit:t(c.borderRadiusUnit,"px"),boxShadow:i(c.boxShadow??c.ts_acw_con_shadow),textSpacing:r(c.textSpacing??c.ts_acw_icon_margin,0),textSpacingUnit:t(c.textSpacingUnit,"px")}},C=f=>{const u={onTop:!1,size:18,sizeUnit:"px",color:""};if(!f||typeof f!="object")return u;const c=f;return{onTop:o(c.onTop??c.ts_acw_icon_orient,!1),size:r(c.size??c.ts_acw_icon_size,18),sizeUnit:t(c.sizeUnit,"px"),color:t(c.color??c.ts_acw_icon_color,"")}},S=f=>{const u={boxShadow:ee,borderColor:"",textColor:"",backgroundColor:"",iconContainerBackground:"",iconContainerBorderColor:"",iconColor:""};if(!f||typeof f!="object")return u;const c=f;return{boxShadow:i(c.boxShadow??c.ts_acw_border_shadow_h),borderColor:t(c.borderColor??c.ts_acw_border_h,""),textColor:t(c.textColor??c.ts_acw_initial_color_h,""),backgroundColor:t(c.backgroundColor??c.ts_acw_initial_bg_h,""),iconContainerBackground:t(c.iconContainerBackground??c.ts_acw_icon_con_bg_h,""),iconContainerBorderColor:t(c.iconContainerBorderColor??c.ts_acw_icon_con_bord_h,""),iconColor:t(c.iconColor??c.ts_acw_icon_color_h,"")}},g=f=>{const u={boxShadow:ee,textColor:"",backgroundColor:"",borderColor:"",iconContainerBackground:"",iconContainerBorderColor:"",iconColor:""};if(!f||typeof f!="object")return u;const c=f;return{boxShadow:i(c.boxShadow??c.ts_acw_border_shadow_a),textColor:t(c.textColor??c.ts_acw_initial_color_a,""),backgroundColor:t(c.backgroundColor??c.ts_acw_initial_bg_a,""),borderColor:t(c.borderColor??c.ts_acw_initial_border_a,""),iconContainerBackground:t(c.iconContainerBackground??c.ts_acw_icon_con_bg_a,""),iconContainerBorderColor:t(c.iconContainerBorderColor??c.ts_acw_icon_con_bord_a,""),iconColor:t(c.iconColor??c.ts_acw_icon_color_a,"")}},E=f=>{const u={bottom:!1,textColor:"",typography:he,backgroundColor:"",borderRadius:0,borderRadiusUnit:"px"};if(!f||typeof f!="object")return u;const c=f;return{bottom:o(c.bottom??c.tooltip_bottom,!1),textColor:t(c.textColor??c.ts_tooltip_color,""),typography:l(c.typography??c.ts_tooltip_typo),backgroundColor:t(c.backgroundColor??c.ts_tooltip_bg,""),borderRadius:r(c.borderRadius??c.ts_tooltip_radius,0),borderRadiusUnit:t(c.borderRadiusUnit,"px")}};return{items:m(e.items??e.ts_actions),icons:h(e.icons),list:p(e.list),itemStyle:y(e.itemStyle??e.item_style),iconContainer:_(e.iconContainer??e.icon_container),icon:C(e.icon),hoverStyle:S(e.hoverStyle??e.hover_style),activeStyle:g(e.activeStyle??e.active_style),tooltip:E(e.tooltip)}}function Yn(e){const t=e.querySelector("script.vxconfig");if(!t?.textContent)return console.error("[Advanced List] No vxconfig found"),null;try{const r=JSON.parse(t.textContent);return Xn(r)}catch(r){return console.error("[Advanced List] Failed to parse vxconfig:",r),null}}function Zn(e){return{items:e.items||[],closeIcon:e.icons?.closeIcon||$,messageIcon:e.icons?.messageIcon||$,linkIcon:e.icons?.linkIcon||$,shareIcon:e.icons?.shareIcon||$,enableCssGrid:e.list?.enableCssGrid||!1,gridColumns:e.list?.gridColumns||3,itemWidth:e.list?.itemWidth||"auto",customItemWidth:e.list?.customItemWidth||100,customItemWidthUnit:e.list?.customItemWidthUnit||"px",listJustify:e.list?.listJustify||"left",itemGap:e.list?.itemGap,itemGapUnit:e.list?.itemGapUnit||"px",itemJustifyContent:e.itemStyle?.justifyContent,itemPadding:e.itemStyle?.padding||ae,itemPaddingUnit:e.itemStyle?.paddingUnit||"px",itemHeight:e.itemStyle?.height,itemHeightUnit:e.itemStyle?.heightUnit||"px",itemBorderType:e.itemStyle?.borderType||"none",itemBorderWidth:e.itemStyle?.borderWidth||ae,itemBorderWidthUnit:e.itemStyle?.borderWidthUnit||"px",itemBorderColor:e.itemStyle?.borderColor||"",itemBorderRadius:e.itemStyle?.borderRadius,itemBorderRadiusUnit:e.itemStyle?.borderRadiusUnit||"px",itemBoxShadow:e.itemStyle?.boxShadow||ee,itemTypography:e.itemStyle?.typography||he,itemTextColor:e.itemStyle?.textColor||"",itemBackgroundColor:e.itemStyle?.backgroundColor||"",iconContainerBackground:e.iconContainer?.background||"",iconContainerSize:e.iconContainer?.size||36,iconContainerSizeUnit:e.iconContainer?.sizeUnit||"px",iconContainerBorderType:e.iconContainer?.borderType??"solid",iconContainerBorderWidth:e.iconContainer?.borderWidth||ae,iconContainerBorderWidthUnit:e.iconContainer?.borderWidthUnit||"px",iconContainerBorderColor:e.iconContainer?.borderColor||"",iconContainerBorderRadius:e.iconContainer?.borderRadius||50,iconContainerBorderRadiusUnit:e.iconContainer?.borderRadiusUnit||"px",iconContainerBoxShadow:e.iconContainer?.boxShadow||ee,iconTextSpacing:e.iconContainer?.textSpacing||0,iconTextSpacingUnit:e.iconContainer?.textSpacingUnit||"px",iconOnTop:e.icon?.onTop||!1,iconSize:e.icon?.size||18,iconSizeUnit:e.icon?.sizeUnit||"px",iconColor:e.icon?.color||"",itemBoxShadowHover:e.hoverStyle?.boxShadow||ee,itemBorderColorHover:e.hoverStyle?.borderColor||"",itemTextColorHover:e.hoverStyle?.textColor||"",itemBackgroundColorHover:e.hoverStyle?.backgroundColor||"",iconContainerBackgroundHover:e.hoverStyle?.iconContainerBackground||"",iconContainerBorderColorHover:e.hoverStyle?.iconContainerBorderColor||"",iconColorHover:e.hoverStyle?.iconColor||"",itemBoxShadowActive:e.activeStyle?.boxShadow||ee,itemTextColorActive:e.activeStyle?.textColor||"",itemBackgroundColorActive:e.activeStyle?.backgroundColor||"",itemBorderColorActive:e.activeStyle?.borderColor||"",iconContainerBackgroundActive:e.activeStyle?.iconContainerBackground||"",iconContainerBorderColorActive:e.activeStyle?.iconContainerBorderColor||"",iconColorActive:e.activeStyle?.iconColor||"",tooltipBottom:e.tooltip?.bottom||!1,tooltipTextColor:e.tooltip?.textColor||"",tooltipTypography:e.tooltip?.typography||he,tooltipBackgroundColor:e.tooltip?.backgroundColor||"",tooltipBorderRadius:e.tooltip?.borderRadius||0,tooltipBorderRadiusUnit:e.tooltip?.borderRadiusUnit||"px",itemMargin:{},itemMarginUnit:"px"}}function Qn(){return window.voxelFseAdvancedList?.restUrl?window.voxelFseAdvancedList.restUrl:Kn()}async function eo(e){if(!e)return null;try{const t=Qn(),r={},o=window.wpApiSettings?.nonce;o&&(r["X-WP-Nonce"]=o);const n=await fetch(`${t}voxel-fse/v1/advanced-list/post-context?post_id=${e}`,{credentials:"same-origin",headers:r});return n.ok?await n.json():(console.warn("[Advanced List] Failed to fetch post context for post",e),null)}catch(t){return console.warn("[Advanced List] Error fetching post context:",t),null}}function to(e){const t=["action_follow_post","action_follow","edit_post","delete_post","unpublish_post","publish_post","show_post_on_map","share_post","view_post_stats","add_to_cart","promote_post","select_addition","action_gcal","action_ical"];return e.some(r=>t.includes(r.actionType))}function ro({attributes:e,postContext:t}){return React.createElement($n,{attributes:e,context:"frontend",postContext:t})}async function ue(){const e=document.querySelectorAll(".voxel-fse-advanced-list-frontend:not([data-react-mounted])");if(e.length===0)return;const t=[];e.forEach(n=>{const s=Yn(n);if(s){const i=n.getAttribute("data-post-id"),l=i?parseInt(i,10):null;t.push({container:n,config:s,postId:l&&!isNaN(l)?l:null})}});const r=new Map,o=new Set;for(const{config:n,postId:s}of t)s&&to(n.items)&&o.add(s);await Promise.all(Array.from(o).map(async n=>{const s=await eo(n);r.set(n,s)}));for(const{container:n,config:s,postId:i}of t){n.setAttribute("data-react-mounted","true");const l=Zn(s),a=i?r.get(i)??null:null;n.classList.add("flexify","simplify-ul","ts-advanced-list"),l.enableCssGrid?(n.style.display="grid",l.gridColumns&&(n.style.gridTemplateColumns=`repeat(${l.gridColumns}, minmax(auto, 1fr))`)):l.listJustify&&(n.style.justifyContent=l.listJustify),l.itemGap!==void 0&&(n.style.gap=`${l.itemGap}${l.itemGapUnit||"px"}`);const d=n.querySelector(":scope > style");d&&n.parentElement?.insertBefore(d,n),n.innerHTML="",Mt.createRoot(n).render(React.createElement(ro,{attributes:l,postContext:a}))}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ue):ue(),window.addEventListener("turbo:load",ue),window.addEventListener("pjax:complete",ue),document.addEventListener("voxel:markup-update",ue);let Ge=null;new MutationObserver(()=>{Ge&&clearTimeout(Ge),Ge=setTimeout(()=>{document.querySelectorAll(".voxel-fse-advanced-list-frontend:not([data-react-mounted])").length>0&&ue()},100)}).observe(document.body,{childList:!0,subtree:!0})})(ReactDOM,React,ReactDOM,wp.apiFetch);
