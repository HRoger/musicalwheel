(function(He,l,we,je){"use strict";function Re(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t}}if(typeof window<"u"&&window.location?.origin){const e=window.location.pathname.split("/").filter(Boolean),t=["wp-admin","wp-content","wp-includes","wp-json"];return e.length>0&&!t.includes(e[0])?window.location.origin+"/"+e[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}function ze({attributes:e,postTypes:t,context:s,onSubmit:n,onPostTypeChange:a,onFilterChange:y}){const[o,r]=l.useState(()=>({currentPostType:e.postTypes[0]||"",filterValues:{},activeFilterCount:0,portalActive:!1,loading:!1,resetting:!1,narrowedValues:null,narrowingFilters:!1,lastModifiedFilter:null})),i=l.useRef(!1),g=l.useRef(!1),d=l.useRef(null),b=l.useMemo(()=>t.find(R=>R.key===o.currentPostType),[t,o.currentPostType]),p=l.useMemo(()=>e.filterLists[o.currentPostType]||[],[e.filterLists,o.currentPostType]);l.useEffect(()=>{e.postTypes.length>0&&!e.postTypes.includes(o.currentPostType)&&r(R=>({...R,currentPostType:e.postTypes[0],filterValues:{}}))},[e.postTypes,o.currentPostType]),l.useEffect(()=>{if(!b?.filters)return;const R={};let f=!1;b.filters.forEach(v=>{v.key in o.filterValues||v.value!==null&&v.value!==void 0&&(R[v.key]=v.value,f=!0)}),f&&r(v=>({...v,filterValues:{...v.filterValues,...R}}))},[b?.filters,o.currentPostType]),l.useEffect(()=>{if(s!=="editor"||o.resetting||!b?.filters)return;(e.filterLists?.[o.currentPostType]||[]).forEach(f=>{const v=o.filterValues[f.filterKey];f.defaultValueEnabled&&f.defaultValue!==void 0&&f.defaultValue!==""&&f.defaultValue!==null?v!==f.defaultValue&&v!==null&&r(u=>({...u,filterValues:{...u.filterValues,[f.filterKey]:f.defaultValue}})):v!=null&&r(u=>({...u,filterValues:{...u.filterValues,[f.filterKey]:void 0}}))})},[s,o.currentPostType,e.filterLists,o.resetting,b?.filters]),l.useEffect(()=>{const R=Object.values(o.filterValues).filter(f=>f!=null&&f!==""&&f!==!1).length;r(f=>({...f,activeFilterCount:R}))},[o.filterValues]);const w=l.useCallback(R=>{r(f=>f.currentPostType===R?f:{...f,currentPostType:R,filterValues:{}}),s==="editor"&&a&&a(R),s==="editor"&&y&&y({}),s==="frontend"&&n&&(g.current&&e.updateUrl!==!1&&Me({},R),g.current=!0,setTimeout(()=>{n({postType:R})},50))},[s,n,a,y,e.updateUrl]),M=l.useCallback((R,f)=>{g.current=!0,r(v=>{const u={...v.filterValues,[R]:f};return s==="editor"&&y&&setTimeout(()=>y(u),0),{...v,filterValues:u,lastModifiedFilter:R}})},[s,y]),_=l.useCallback((R=!1)=>{const f={};b?.filters?.forEach(u=>{u.resets_to!==null&&u.resets_to!==void 0?f[u.key]=u.resets_to:f[u.key]=null});const v=Object.values(f).filter(u=>u!=null&&u!=="").length;if(r(u=>({...u,filterValues:f,activeFilterCount:v,resetting:!0,portalActive:R?!1:u.portalActive,narrowedValues:null,lastModifiedFilter:null})),setTimeout(()=>{r(u=>({...u,resetting:!1}))},100),s==="editor"&&y&&y(f),s==="frontend"){e.updateUrl!==!1&&qe(o.currentPostType);const u=new CustomEvent("voxel-search-clear",{detail:{postType:o.currentPostType}});window.dispatchEvent(u)}},[s,o.currentPostType,y,e.updateUrl,b?.filters]),x=l.useCallback(()=>{r(R=>({...R,portalActive:!R.portalActive}))},[]),k=l.useCallback(async()=>{if(!e.adaptiveFiltering||s!=="frontend")return;if(i.current){i.current=!1;return}const R=p.filter(u=>u.type==="range"||u.type==="terms");if(R.length===0)return;const f=new URLSearchParams;f.set("type",o.currentPostType),o.lastModifiedFilter&&f.set("_last_modified",o.lastModifiedFilter),Object.entries(o.filterValues).forEach(([u,h])=>{h!=null&&h!==""&&(Array.isArray(h)?f.set(u,h.join(",")):typeof h=="object"?f.set(u,JSON.stringify(h)):f.set(u,String(h)))});const v=[];R.forEach(u=>{if(u.type==="terms"){const h=b?.filters?.find(c=>c.key===u.filterKey);if(h?.props?.terms){const c=E=>{E.forEach(I=>{I.term_taxonomy_id&&v.push(I.term_taxonomy_id),I.children&&Array.isArray(I.children)&&c(I.children)})};c(h.props.terms)}}}),r(u=>({...u,narrowingFilters:!0}));try{const u=Re(),h=await fetch(`${u}voxel-fse/v1/search-form/narrow-filters?${f.toString()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({term_taxonomy_ids:v})});if(!h.ok)throw new Error(`HTTP ${h.status}`);const c=await h.json();c.success&&c.data?(r(E=>({...E,narrowedValues:{ranges:c.data.ranges||{},terms:c.data.terms||{}},narrowingFilters:!1})),i.current=!0):r(E=>({...E,narrowingFilters:!1}))}catch(u){console.error("[useSearchForm] Adaptive filtering error:",u),r(h=>({...h,narrowingFilters:!1}))}},[e.adaptiveFiltering,s,p,o.currentPostType,o.filterValues,b]);l.useEffect(()=>{if(!(!e.adaptiveFiltering||s!=="frontend"))return d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{k()},300),()=>{d.current&&clearTimeout(d.current)}},[o.filterValues,e.adaptiveFiltering,s,k]);const N=l.useCallback((R,f)=>{r(v=>({...v,loading:!0})),n&&n({postType:f,...R}),s==="frontend"&&e.updateUrl!==!1&&g.current&&Me(R,f),r(v=>({...v,loading:!1}))},[s,n,e.updateUrl]),C=l.useRef(null);l.useEffect(()=>{if(e.searchOn==="change"&&s==="frontend"){const R=JSON.stringify({type:o.currentPostType,filters:o.filterValues});if(C.current===R)return;if(C.current===null){C.current=R;return}C.current=R;const f=setTimeout(()=>{N(o.filterValues,o.currentPostType)},300);return()=>{clearTimeout(f)}}},[o.filterValues,o.currentPostType,e.searchOn,s,N]);const L=l.useCallback(()=>{g.current=!0,N(o.filterValues,o.currentPostType)},[N,o.filterValues,o.currentPostType]);return{state:o,setCurrentPostType:w,setFilterValue:M,clearAll:_,togglePortal:x,submit:L,currentPostTypeConfig:b,filterConfigs:p,narrowedValues:o.narrowedValues,narrowingFilters:o.narrowingFilters}}function qe(e){const t=new URL(window.location.href),s=[];t.searchParams.forEach((n,a)=>{(a.startsWith("filter_")||a==="post_type")&&s.push(a),a==="type"&&!e&&s.push(a),a!=="type"&&a!=="page"&&a!=="pg"&&s.push(a)}),s.forEach(n=>t.searchParams.delete(n)),e&&t.searchParams.set("type",e),window.history.replaceState({},"",t.toString())}function Ze(e,t){return Object.hasOwn(t,e)}function Me(e,t){const s=new URL(window.location.href),n=[];s.searchParams.forEach((a,y)=>{(y.startsWith("filter_")||y==="post_type")&&n.push(y),(y==="type"||Ze(y,e))&&n.push(y)}),n.forEach(a=>s.searchParams.delete(a)),t&&s.searchParams.set("type",t),Object.entries(e).forEach(([a,y])=>{if(!(y==null||y==="")&&!(typeof y=="string"&&y==="..")&&!(typeof y=="object"&&!Array.isArray(y)&&!Object.values(y).some(i=>i!=null&&i!=="")))if(Array.isArray(y)){const o=y.join(",");o&&s.searchParams.set(a,o)}else typeof y=="object"?s.searchParams.set(a,JSON.stringify(y)):s.searchParams.set(a,String(y))}),window.history.replaceState({},"",s.toString())}function Ce(e){return typeof e=="string"&&e.includes("@tags()")}function Ie(e){if(!Ce(e))return e;const t=e.match(/@tags\(\)(.*?)@endtags\(\)/s);return t?t[1]:e}async function Fe(e,t={}){try{return(await je({path:"/voxel-fse/v1/dynamic-data/render",method:"POST",data:{expression:e,context:t}})).rendered}catch(s){return console.error("Failed to render dynamic tag:",s),e}}function Se(){return typeof document>"u"?!1:document.body.classList.contains("logged-in")}function Je(){return typeof document>"u"?[]:Array.from(document.body.classList).filter(s=>s.startsWith("role-")||["administrator","editor","author","contributor","subscriber"].includes(s)).map(s=>s.replace("role-",""))}function Ke(e){const t=e.filterKey;switch(t){case"user:logged_in":return Se();case"user:logged_out":return!Se();case"user:role":{if(!Se())return!1;const s=Je(),n=e.value||"";switch(e.operator){case"equals":return s.includes(n);case"not_equals":return!s.includes(n);default:return s.includes(n)}}default:return console.warn(`Unknown visibility rule type: ${t}`),!0}}function Ge(e){return!e||e.length===0?!0:e.every(t=>Ke(t))}function Qe(e){const{rowVisibility:t="show",visibilityRules:s=[]}=e;if(!s||s.length===0)return!0;const n=Ge(s);return t==="hide"?!n:n}function ee({isOpen:e,target:t,title:s="",icon:n,saveLabel:a="Save",clearLabel:y="Clear",showClear:o=!0,showSave:r=!0,onSave:i,onClear:g,onClose:d,children:b,className:p="",popupStyle:w}){const M=l.useRef(null),_=l.useRef(null),[x,k]=l.useState({position:"absolute",top:"-9999px",left:"-9999px"}),N=l.useRef(""),C=l.useCallback((f=!1)=>{if(!_.current||!t.current||!M.current)return;const v=t.current,u=M.current,h=_.current,c=document.body.clientWidth,E=v.getBoundingClientRect(),I=v.offsetWidth,A={left:E.left+window.pageXOffset,top:E.top+window.pageYOffset},F=u.getBoundingClientRect(),q=window.getComputedStyle(h),P=parseFloat(q.minWidth)||0,D=h.querySelector(".pika-single");let B;if(D){const U=D.classList.contains("is-range")||D.querySelectorAll(".pika-lendar").length>1||h.closest(".ts-booking-date-range")!==null;B=Math.max(U?640:420,P)}else B=Math.max(E.width,P);const H=A.left+I/2,Y=c/2;let X;H>Y+1?X=A.left-B+I:X=A.left;const O=window.innerHeight,G=F.height;let Q=A.top+E.height;const V=E.bottom+G>O,m=E.top-G>=0;V&&m&&(Q=A.top-G);const S={top:`${Q}px`,left:`${X}px`,width:`${B}px`,position:"absolute"},T=JSON.stringify(S);T!==N.current&&(N.current=T,f?k(S):requestAnimationFrame(()=>k(S)))},[t]);if(l.useEffect(()=>{if(!e)return;const f=u=>{const h=u.target;if(_.current?.contains(h))return;const c=[".interface-interface-skeleton__sidebar",".block-editor-block-inspector",".components-popover",".components-modal__screen-overlay",".edit-post-sidebar"];for(const E of c)if(h.closest(E))return;d()},v=requestAnimationFrame(()=>{document.addEventListener("mousedown",f)});return()=>{cancelAnimationFrame(v),document.removeEventListener("mousedown",f)}},[e,d]),l.useEffect(()=>{if(!e)return;const f=v=>{v.key==="Escape"&&d()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[e,d]),l.useEffect(()=>{if(!e)return;C(!0);const f=()=>C();window.addEventListener("scroll",f,!0);const v=()=>C();window.addEventListener("resize",v,!0);let u=null;return _.current&&(u=new ResizeObserver(()=>C(!0)),u.observe(_.current)),()=>{window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",v,!0),u?.disconnect()}},[e,C]),!e)return null;const L=()=>React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"currentColor"})),R=()=>React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"}));return we.createPortal(React.createElement("div",{className:`elementor vx-popup ${p}`.trim()},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form elementor-element",style:x,ref:M},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:_,style:w},s&&React.createElement("div",{className:"ts-popup-head flexify ts-sticky-top"},React.createElement("div",{className:"ts-popup-name flexify"},n&&React.createElement("span",{dangerouslySetInnerHTML:{__html:n}}),React.createElement("span",null,s)),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),d()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(L,null))))),React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},b),r||o?React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),d()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(L,null))),o&&g&&React.createElement("li",{className:"flexify hide-d",onClick:f=>{f.preventDefault(),g()}},React.createElement("a",{href:"#",className:"ts-icon-btn"},React.createElement(R,null))),o&&g&&React.createElement("li",{className:"flexify hide-m",onClick:f=>{f.preventDefault(),g()}},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1"},y)),r&&React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),i()},className:"ts-btn ts-btn-2"},a)))):React.createElement("div",{className:"ts-popup-controller hide-d"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:f=>{f.preventDefault(),d()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(L,null)))))))))),document.body)}const me=({value:e,onChange:t,onSelect:s,pickerConfig:n,onPickerReady:a})=>{const y=l.useRef(null),o=l.useRef(null),r=l.useRef(null),i=l.useRef(t),g=l.useRef(s);i.current=t,g.current=s,l.useEffect(()=>{if(!y.current||!o.current)return;const b=window.Pikaday;if(!b){console.error("Pikaday not loaded - window.Pikaday is undefined");return}const p=requestAnimationFrame(()=>{r.current=new b({field:o.current,container:y.current,bound:!1,firstDay:1,keyboardInput:!1,defaultDate:e||void 0,onSelect:w=>{i.current(w),g.current&&g.current(w)},...n}),a&&r.current&&a(r.current)});return()=>{cancelAnimationFrame(p),setTimeout(()=>{r.current?.destroy(),r.current=null},200)}},[]),l.useEffect(()=>{r.current&&(e&&r.current.setDate(e,!0),r.current.draw(!0))},[e]);const d=n?.numberOfMonths>=2;return l.createElement("div",{className:`ts-booking-date ts-form-group${d?" ts-booking-date-range":""}`,ref:y},l.createElement("input",{type:"hidden",ref:o}))};function Ne(e,t,s){if(!e||!e.library||!e.value)return t??null;const{library:n,value:a}=e;return n==="icon"?React.createElement("i",{className:a,"aria-hidden":"true"}):n==="svg"?React.createElement("img",{src:a,alt:"",className:s,style:{width:"1em",height:"1em"}}):t??null}const se={search:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z",fill:"#343C54"})),close:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M5.9545 5.95548C6.39384 5.51614 7.10616 5.51614 7.5455 5.95548L11.999 10.409L16.4524 5.95561C16.8918 5.51627 17.6041 5.51627 18.0434 5.95561C18.4827 6.39495 18.4827 7.10726 18.0434 7.5466L13.59 12L18.0434 16.4534C18.4827 16.8927 18.4827 17.605 18.0434 18.0444C17.6041 18.4837 16.8918 18.4837 16.4524 18.0444L11.999 13.591L7.5455 18.0445C7.10616 18.4839 6.39384 18.4839 5.9545 18.0445C5.51517 17.6052 5.51516 16.8929 5.9545 16.4535L10.408 12L5.9545 7.54647C5.51516 7.10713 5.51517 6.39482 5.9545 5.95548Z",fill:"#343C54"})),reload:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z",fill:"#343C54"}),React.createElement("path",{d:"M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z",fill:"#343C54"})),filterslider:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M8.89789 3.25C10.3318 3.25 11.5358 4.23471 11.8704 5.56481H20.3125C20.7267 5.56481 21.0625 5.90059 21.0625 6.31481C21.0625 6.72902 20.7267 7.06481 20.3125 7.06481H11.8705C11.536 8.3951 10.332 9.38 8.89789 9.38C7.46381 9.38 6.25976 8.3951 5.92527 7.06481H4.3125C3.89829 7.06481 3.5625 6.72902 3.5625 6.31481C3.5625 5.90059 3.89829 5.56481 4.3125 5.56481H5.92537C6.26 4.23471 7.46395 3.25 8.89789 3.25Z",fill:"#343C54"}),React.createElement("path",{d:"M12.737 12.7503H4.3125C3.89829 12.7503 3.5625 12.4145 3.5625 12.0003C3.5625 11.5861 3.89829 11.2503 4.3125 11.2503H12.7369C13.0714 9.91998 14.2754 8.93506 15.7095 8.93506C17.1436 8.93506 18.3477 9.91998 18.6822 11.2503H20.3125C20.7267 11.2503 21.0625 11.5861 21.0625 12.0003C21.0625 12.4145 20.7267 12.7503 20.3125 12.7503H18.682C18.3474 14.0804 17.1435 15.0651 15.7095 15.0651C14.2756 15.0651 13.0717 14.0804 12.737 12.7503Z",fill:"#343C54"}),React.createElement("path",{d:"M12.5932 16.9354C12.2587 15.605 11.0546 14.6201 9.62055 14.6201C8.18645 14.6201 6.9824 15.605 6.64792 16.9354H4.3125C3.89829 16.9354 3.5625 17.2711 3.5625 17.6854C3.5625 18.0996 3.89829 18.4354 4.3125 18.4354H6.64804C6.98268 19.7654 8.18662 20.7501 9.62055 20.7501C11.0545 20.7501 12.2584 19.7654 12.5931 18.4354H20.3125C20.7267 18.4354 21.0625 18.0996 21.0625 17.6854C21.0625 17.2711 20.7267 16.9354 20.3125 16.9354H12.5932Z",fill:"#343C54"})),marker:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C7.58172 2 4 5.58172 4 10C4 12.9646 5.43348 15.8125 7.5 18C9.16667 19.7708 11 21 12 21C13 21 14.8333 19.7708 16.5 18C18.5665 15.8125 20 12.9646 20 10C20 5.58172 16.4183 2 12 2ZM12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",fill:"#343C54"})),crosshairs:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12.5523 2 13 2.44772 13 3V4.06189C16.6187 4.51314 19.4869 7.38128 19.9381 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H19.9381C19.4869 16.6187 16.6187 19.4869 13 19.9381V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V19.9381C7.38128 19.4869 4.51314 16.6187 4.06189 13H3C2.44772 13 2 12.5523 2 12C2 11.4477 2.44772 11 3 11H4.06189C4.51314 7.38128 7.38128 4.51314 11 4.06189V3C11 2.44772 11.4477 2 12 2ZM6.07089 11C6.50618 8.48991 8.48991 6.50618 11 6.07089V8C11 8.55228 11.4477 9 12 9C12.5523 9 13 8.55228 13 8V6.07089C15.5101 6.50618 17.4938 8.48991 17.9291 11H16C15.4477 11 15 11.4477 15 12C15 12.5523 15.4477 13 16 13H17.9291C17.4938 15.5101 15.5101 17.4938 13 17.9291V16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16V17.9291C8.48991 17.4938 6.50618 15.5101 6.07089 13H8C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11H6.07089Z",fill:"#343C54"})),grid:React.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("rect",{x:"3",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"3",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"3",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}))};function Ye(e,t){const s={},n=[t];return e.width&&e.width>0&&(s.width=`${e.width}%`,s.flexGrow=0,s.flexShrink=0),e.hideFilter&&n.push("vx-hidden"),e.alignContent&&(s.justifyContent=e.alignContent),e.hideLabel&&n.push("hide-label"),{style:s,className:n.join(" ")}}function J(e,t){return Ye(e,t)}function ne(e){const t={},s=["ts-field-popup","triggers-blur"];return e.customPopupEnabled&&(e.popupMinWidth&&e.popupMinWidth>0&&(t.minWidth=`${e.popupMinWidth}px`),e.popupMaxWidth&&e.popupMaxWidth>0&&(t.maxWidth=`${e.popupMaxWidth}px`),e.popupMaxHeight&&e.popupMaxHeight>0&&(t.maxHeight=`${e.popupMaxHeight}px`),e.popupCenterPosition&&s.push("ts-popup-centered")),{style:t,className:s.join(" ")}}let Ve=!1;function Te(){if(Ve)return!0;if(!window.Voxel?.mixins?.base)return!1;const e=window.Voxel.mixins.base;return e.mounted&&!e._originalMounted?(e._originalMounted=e.mounted,e.mounted=function(){try{const t=this.$root?.$options?.el||this.$el;if(t){const s=t.closest?.(".elementor-element");if(s)this.widget_id=s.dataset?.id||"";else{const a=t.closest?.("[data-block-id]");this.widget_id=a&&a.dataset?.blockId||""}const n=t.closest?.(".elementor");if(n)this.post_id=n.dataset?.elementorId||"";else{const a=document.body.className.match(/postid-(\d+)/);this.post_id=a?a[1]:""}}e._originalMounted&&e._originalMounted!==e.mounted&&e._originalMounted.call(this)}catch(t){console.warn("[VoxelShim] Error in patched mounted():",t),this.widget_id="",this.post_id=""}},Ve=!0,console.log("[VoxelShim] Successfully patched Voxel.mixins.base.mounted"),!0):!1}function Pe(){if(Te())return;let e=0;const t=50,n=setInterval(()=>{if(e++,Te()){clearInterval(n);return}e>=t&&(clearInterval(n),console.warn("[VoxelShim] Voxel.mixins.base not found after 5 seconds"))},100);typeof document<"u"&&document.addEventListener("voxel:ready",()=>{Te(),clearInterval(n)},{once:!0})}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Pe,{once:!0}):Pe()),Object.entries({mountains:{viewBox:"0 0 1000 100",paths:[{d:"M473,67.3c-203.9,88.3-263.1-34-320.3,0C66,119.1,0,59.7,0,59.7V0h1000v59.7 c0,0-62.1,26.1-94.9,29.3c-32.8,3.3-62.8-12.3-75.8-22.1C806,49.6,745.3,8.7,694.9,4.7S492.4,59,473,67.3z",opacity:.33},{d:"M734,67.3c-45.5,0-77.2-23.2-129.1-39.1c-28.6-8.7-150.3-10.1-254,39.1 s-91.7-34.4-149.2,0C115.7,118.3,0,39.8,0,39.8V0h1000v36.5c0,0-28.2-18.5-92.1-18.5C810.2,18.1,775.7,67.3,734,67.3z",opacity:.66},{d:"M766.1,28.9c-200-57.5-266,65.5-395.1,19.5C242,1.8,242,5.4,184.8,20.6C128,35.8,132.3,44.9,89.9,52.5C28.6,63.7,0,0,0,0 h1000c0,0-9.9,40.9-83.6,48.1S829.6,47,766.1,28.9z"}]},drops:{viewBox:"0 0 283.5 27.8",paths:[{d:"M0 0v1.4c.6.7 1.1 1.4 1.4 2 2 3.8 2.2 6.6 1.8 10.8-.3 3.3-2.4 9.4 0 12.3 1.7 2 3.7 1.4 4.6-.9 1.4-3.8-.7-8.2-.6-12 .1-3.7 3.2-5.5 6.9-4.9 4 .6 4.8 4 4.9 7.4.1 1.8-1.1 7 0 8.5.6.8 1.6 1.2 2.4.5 1.4-1.1.1-5.4.1-6.9.1-3.7.3-8.6 4.1-10.5 5-2.5 6.2 1.6 5.4 5.6-.4 1.7-1 9.2 2.9 6.3 1.5-1.1.7-3.5.5-4.9-.4-2.4-.4-4.3 1-6.5.9-1.4 2.4-3.1 4.2-3 2.4.1 2.7 2.2 4 3.7 1.5 1.8 1.8 2.2 3 .1 1.1-1.9 1.2-2.8 3.6-3.3 1.3-.3 4.8-1.4 5.9-.5 1.5 1.1.6 2.8.4 4.3-.2 1.1-.6 4 1.8 3.4 1.7-.4-.3-4.1.6-5.6 1.3-2.2 5.8-1.4 7 .5 1.3 2.1.5 5.8.1 8.1s-1.2 5-.6 7.4c1.3 5.1 4.4.9 4.3-2.4-.1-4.4-2-8.8-.5-13 .9-2.4 4.6-6.6 7.7-4.5 2.7 1.8.5 7.8.2 10.3-.2 1.7-.8 4.6.2 6.2.9 1.4 2 1.5 2.6-.3.5-1.5-.9-4.5-1-6.1-.2-1.7-.4-3.7.2-5.4 1.8-5.6 3.5 2.4 6.3.6 1.4-.9 4.3-9.4 6.1-3.1.6 2.2-1.3 7.8.7 8.9 4.2 2.3 1.5-7.1 2.2-8 3.1-4 4.7 3.8 6.1 4.1 3.1.7 2.8-7.9 8.1-4.5 1.7 1.1 2.9 3.3 3.2 5.2.4 2.2-1 4.5-.6 6.6 1 4.3 4.4 1.5 4.4-1.7 0-2.7-3-8.3 1.4-9.1 4.4-.9 7.3 3.5 7.8 6.9.3 2-1.5 10.9 1.3 11.3 4.1.6-3.2-15.7 4.8-15.8 4.7-.1 2.8 4.1 3.9 6.6 1 2.4 2.1 1 2.3-.8.3-1.9-.9-3.2 1.3-4.3 5.9-2.9 5.9 5.4 5.5 8.5-.3 2-1.7 8.4 2 8.1 6.9-.5-2.8-16.9 4.8-18.7 4.7-1.2 6.1 3.6 6.3 7.1.1 1.7-1.2 8.1.6 9.1 3.5 2 1.9-7 2-8.4.2-4 1.2-9.6 6.4-9.8 4.7-.2 3.2 4.6 2.7 7.5-.4 2.2 1.3 8.6 3.8 4.4 1.1-1.9-.3-4.1-.3-6 0-1.7.4-3.2 1.3-4.6 1-1.6 2.9-3.5 5.1-2.9 2.5.6 2.3 4.1 4.1 4.9 1.9.8 1.6-.9 2.3-2.1 1.2-2.1 2.1-2.1 4.4-2.4 1.4-.2 3.6-1.5 4.9-.5 2.3 1.7-.7 4.4.1 6.5.6 1.5 2.1 1.7 2.8.3.7-1.4-1.1-3.4-.3-4.8 1.4-2.5 6.2-1.2 7.2 1 2.3 4.8-3.3 12-.2 16.3 3 4.1 3.9-2.8 3.8-4.8-.4-4.3-2.1-8.9 0-13.1 1.3-2.5 5.9-5.7 7.9-2.4 2 3.2-1.3 9.8-.8 13.4.5 4.4 3.5 3.3 2.7-.8-.4-1.9-2.4-10 .6-11.1 3.7-1.4 2.8 7.2 6.5.4 2.2-4.1 4.9-3.1 5.2 1.2.1 1.5-.6 3.1-.4 4.6.2 1.9 1.8 3.7 3.3 1.3 1-1.6-2.6-10.4 2.9-7.3 2.6 1.5 1.6 6.5 4.8 2.7 1.3-1.5 1.7-3.6 4-3.7 2.2-.1 4 2.3 4.8 4.1 1.3 2.9-1.5 8.4.9 10.3 4.2 3.3 3-5.5 2.7-6.9-.6-3.9 1-7.2 5.5-5 4.1 2.1 4.3 7.7 4.1 11.6 0 .8-.6 9.5 2.5 5.2 1.2-1.7-.1-7.7.1-9.6.3-2.9 1.2-5.5 4.3-6.2 4.5-1 7.7 1.5 7.4 5.8-.2 3.5-1.8 7.7-.5 11.1 1 2.7 3.6 2.8 5 .2 1.6-3.1 0-8.3-.4-11.6-.4-4.2-.2-7 1.8-10.8 0 0-.1.1-.1.2-.2.4-.3.7-.4.8v.1c-.1.2-.1.2 0 0v-.1l.4-.8c0-.1.1-.1.1-.2.2-.4.5-.8.8-1.2V0H0zM282.7 3.4z"}]},clouds:{viewBox:"0 0 283.5 27.8",paths:[{d:"M0 0v6.7c1.9-.8 4.7-1.4 8.5-1 9.5 1.1 11.1 6 11.1 6s2.1-.7 4.3-.2c2.1.5 2.8 2.6 2.8 2.6s.2-.5 1.4-.7c1.2-.2 1.7.2 1.7.2s0-2.1 1.9-2.8c1.9-.7 3.6.7 3.6.7s.7-2.9 3.1-4.1 4.7 0 4.7 0 1.2-.5 2.4 0 1.7 1.4 1.7 1.4h1.4c.7 0 1.2.7 1.2.7s.8-1.8 4-2.2c3.5-.4 5.3 2.4 6.2 4.4.4-.4 1-.7 1.8-.9 2.8-.7 4 .7 4 .7s1.7-5 11.1-6c9.5-1.1 12.3 3.9 12.3 3.9s1.2-4.8 5.7-5.7c4.5-.9 6.8 1.8 6.8 1.8s.6-.6 1.5-.9c.9-.2 1.9-.2 1.9-.2s5.2-6.4 12.6-3.3c7.3 3.1 4.7 9 4.7 9s1.9-.9 4 0 2.8 2.4 2.8 2.4 1.9-1.2 4.5-1.2 4.3 1.2 4.3 1.2.2-1 1.4-1.7 2.1-.7 2.1-.7-.5-3.1 2.1-5.5 5.7-1.4 5.7-1.4 1.5-2.3 4.2-1.1c2.7 1.2 1.7 5.2 1.7 5.2s.3-.1 1.3.5c.5.4.8.8.9 1.1.5-1.4 2.4-5.8 8.4-4 7.1 2.1 3.5 8.9 3.5 8.9s.8-.4 2 0 1.1 1.1 1.1 1.1 1.1-1.1 2.3-1.1 2.1.5 2.1.5 1.9-3.6 6.2-1.2 1.9 6.4 1.9 6.4 2.6-2.4 7.4 0c3.4 1.7 3.9 4.9 3.9 4.9s3.3-6.9 10.4-7.9 11.5 2.6 11.5 2.6.8 0 1.2.2c.4.2.9.9.9.9s4.4-3.1 8.3.2c1.9 1.7 1.5 5 1.5 5s.3-1.1 1.6-1.4c1.3-.3 2.3.2 2.3.2s-.1-1.2.5-1.9 1.9-.9 1.9-.9-4.7-9.3 4.4-13.4c5.6-2.5 9.2.9 9.2.9s5-6.2 15.9-6.2 16.1 8.1 16.1 8.1.7-.2 1.6-.4V0H0z"}]},zigzag:{viewBox:"0 0 1800 5.8",paths:[{d:"M5.4.4l5.4 5.3L16.5.4l5.4 5.3L27.5.4 33 5.7 38.6.4l5.5 5.4h.1L49.9.4l5.4 5.3L60.9.4l5.5 5.3L72 .4l5.5 5.3L83.1.4l5.4 5.3L94.1.4l5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3L161 .4l5.4 5.3L172 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3L261 .4l5.4 5.3L272 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3L361 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3L461 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1L550 .4l5.4 5.3L561 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2L650 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2L750 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2L850 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4V0H-.2v5.8z"}]},pyramids:{viewBox:"0 0 1000 100",paths:[{d:"M761.9,44.1L643.1,27.2L333.8,98L0,3.8V0l1000,0v3.9"}]},triangle:{viewBox:"0 0 1000 100",paths:[{d:"M500,98.9L0,6.1V0h1000v6.1L500,98.9z"}]},"triangle-asymmetrical":{viewBox:"0 0 1000 100",paths:[{d:"M738,99l262-93V0H0v5.6L738,99z"}]},tilt:{viewBox:"0 0 1000 100",paths:[{d:"M0,6V0h1000v100L0,6z"}]},"opacity-tilt":{viewBox:"0 0 2600 131.1",paths:[{d:"M0 0L2600 0 2600 69.1 0 0z"},{d:"M0 0L2600 0 2600 69.1 0 69.1z",opacity:.5},{d:"M2600 0L0 0 0 130.1 2600 69.1z",opacity:.25}]},curve:{viewBox:"0 0 1000 100",paths:[{d:"M1000,4.3V0H0v4.3C0.9,23.1,126.7,99.2,500,100S1000,22.7,1000,4.3z"}]},waves:{viewBox:"0 0 1000 100",paths:[{d:"M421.9,6.5c22.6-2.5,51.5,0.4,75.5,5.3c23.6,4.9,70.9,23.5,100.5,35.7c75.8,32.2,133.7,44.5,192.6,49.7 c23.6,2.1,48.7,3.5,103.4-2.5c54.7-6,106.2-25.6,106.2-25.6V0H0v30.3c0,0,72,32.6,158.4,30.5c39.2-0.7,92.8-6.7,134-22.4 c21.2-8.1,52.2-18.2,79.7-24.2C399.3,7.9,411.6,7.5,421.9,6.5z"}]},"wave-brush":{viewBox:"0 0 283.5 27.8",paths:[{d:"M283.5,9.7c0,0-7.3,4.3-14,4.6c-6.8,0.3-12.6,0-20.9-1.5c-11.3-2-33.1-10.1-44.7-5.7 s-12.1,4.6-18,7.4c-6.6,3.2-20,9.6-36.6,9.3C131.6,23.5,99.5,7.2,86.3,8c-1.4,0.1-6.6,0.8-10.5,2c-3.8,1.2-9.4,3.8-17,4.7 c-3.2,0.4-8.3,1.1-14.2,0.9c-1.5-0.1-6.3-0.4-12-1.6c-5.7-1.2-11-3.1-15.8-3.7C6.5,9.2,0,10.8,0,10.8V0h283.5V9.7z M260.8,11.3 c-0.7-1-2-0.4-4.3-0.4c-2.3,0-6.1-1.2-5.8-1.1c0.3,0.1,3.1,1.5,6,1.9C259.7,12.2,261.4,12.3,260.8,11.3z M242.4,8.6 c0,0-2.4-0.2-5.6-0.9c-3.2-0.8-10.3-2.8-15.1-3.5c-8.2-1.1-15.8,0-15.1,0.1c0.8,0.1,9.6-0.6,17.6,1.1c3.3,0.7,9.3,2.2,12.4,2.7 C239.9,8.7,242.4,8.6,242.4,8.6z M185.2,8.5c1.7-0.7-13.3,4.7-18.5,6.1c-2.1,0.6-6.2,1.6-10,2c-3.9,0.4-8.9,0.4-8.8,0.5 c0,0.2,5.8,0.8,11.2,0c5.4-0.8,5.2-1.1,7.6-1.6C170.5,14.7,183.5,9.2,185.2,8.5z M199.1,6.9c0.2,0-0.8-0.4-4.8,1.1 c-4,1.5-6.7,3.5-6.9,3.7c-0.2,0.1,3.5-1.8,6.6-3C197,7.5,199,6.9,199.1,6.9z M283,6c-0.1,0.1-1.9,1.1-4.8,2.5s-6.9,2.8-6.7,2.7 c0.2,0,3.5-0.6,7.4-2.5C282.8,6.8,283.1,5.9,283,6z M31.3,11.6c0.1-0.2-1.9-0.2-4.5-1.2s-5.4-1.6-7.8-2C15,7.6,7.3,8.5,7.7,8.6 C8,8.7,15.9,8.3,20.2,9.3c2.2,0.5,2.4,0.5,5.7,1.6S31.2,11.9,31.3,11.6z M73,9.2c0.4-0.1,3.5-1.6,8.4-2.6c4.9-1.1,8.9-0.5,8.9-0.8 c0-0.3-1-0.9-6.2-0.3S72.6,9.3,73,9.2z M71.6,6.7C71.8,6.8,75,5.4,77.3,5c2.3-0.3,1.9-0.5,1.9-0.6c0-0.1-1.1-0.2-2.7,0.2 C74.8,5.1,71.4,6.6,71.6,6.7z M93.6,4.4c0.1,0.2,3.5,0.8,5.6,1.8c2.1,1,1.8,0.6,1.9,0.5c0.1-0.1-0.8-0.8-2.4-1.3 C97.1,4.8,93.5,4.2,93.6,4.4z M65.4,11.1c-0.1,0.3,0.3,0.5,1.9-0.2s2.6-1.3,2.2-1.2s-0.9,0.4-2.5,0.8C65.3,10.9,65.5,10.8,65.4,11.1 z M34.5,12.4c-0.2,0,2.1,0.8,3.3,0.9c1.2,0.1,2,0.1,2-0.2c0-0.3-0.1-0.5-1.6-0.4C36.6,12.8,34.7,12.4,34.5,12.4z M152.2,21.1 c-0.1,0.1-2.4-0.3-7.5-0.3c-5,0-13.6-2.4-17.2-3.5c-3.6-1.1,10,3.9,16.5,4.1C150.5,21.6,152.3,21,152.2,21.1z"},{d:"M269.6,18c-0.1-0.1-4.6,0.3-7.2,0c-7.3-0.7-17-3.2-16.6-2.9c0.4,0.3,13.7,3.1,17,3.3 C267.7,18.8,269.7,18,269.6,18z"},{d:"M227.4,9.8c-0.2-0.1-4.5-1-9.5-1.2c-5-0.2-12.7,0.6-12.3,0.5c0.3-0.1,5.9-1.8,13.3-1.2 S227.6,9.9,227.4,9.8z"},{d:"M204.5,13.4c-0.1-0.1,2-1,3.2-1.1c1.2-0.1,2,0,2,0.3c0,0.3-0.1,0.5-1.6,0.4 C206.4,12.9,204.6,13.5,204.5,13.4z"},{d:"M201,10.6c0-0.1-4.4,1.2-6.3,2.2c-1.9,0.9-6.2,3.1-6.1,3.1c0.1,0.1,4.2-1.6,6.3-2.6 S201,10.7,201,10.6z"},{d:"M154.5,26.7c-0.1-0.1-4.6,0.3-7.2,0c-7.3-0.7-17-3.2-16.6-2.9c0.4,0.3,13.7,3.1,17,3.3 C152.6,27.5,154.6,26.8,154.5,26.7z"},{d:"M41.9,19.3c0,0,1.2-0.3,2.9-0.1c1.7,0.2,5.8,0.9,8.2,0.7c4.2-0.4,7.4-2.7,7-2.6 c-0.4,0-4.3,2.2-8.6,1.9c-1.8-0.1-5.1-0.5-6.7-0.4S41.9,19.3,41.9,19.3z"},{d:"M75.5,12.6c0.2,0.1,2-0.8,4.3-1.1c2.3-0.2,2.1-0.3,2.1-0.5c0-0.1-1.8-0.4-3.4,0 C76.9,11.5,75.3,12.5,75.5,12.6z"},{d:"M15.6,13.2c0-0.1,4.3,0,6.7,0.5c2.4,0.5,5,1.9,5,2c0,0.1-2.7-0.8-5.1-1.4 C19.9,13.7,15.7,13.3,15.6,13.2z"}]},arrow:{viewBox:"0 0 700 10",paths:[{d:"M350,10L340,0h20L350,10z"}]},split:{viewBox:"0 0 1000 20",paths:[{d:"M0,0v3c0,0,393.8,0,483.4,0c9.2,0,16.6,7.4,16.6,16.6c0-9.1,7.4-16.6,16.6-16.6C606.2,3,1000,3,1000,3V0H0z"}]},book:{viewBox:"0 0 1000 100",paths:[{d:"M194,99c186.7,0.7,305-78.3,306-97.2c1,18.9,119.3,97.9,306,97.2c114.3-0.3,194,0.3,194,0.3s0-91.7,0-100c0,0,0,0,0-0 L0,0v99.3C0,99.3,79.7,98.7,194,99z"}]}}).reduce((e,[t,s])=>(e[t]=s.paths[0].d,e),{}),typeof window<"u"&&typeof window._vx_file_upload_cache>"u"&&(window._vx_file_upload_cache=[]);function Xe({config:e,filterData:t,value:s,onChange:n,blockId:a}){const y=a?`voxel-popup-${a}`:"",o=l.useRef(null),r=l.useRef(null),[i,g]=l.useState(!1),[d,b]=l.useState(""),p=typeof s=="string"?s:"",w=t.props?.placeholder||t.label||"Type keywords...",M=e.displayAs||t.props?.display_as||"inline",_=t.icon||"";l.useEffect(()=>{i&&(b(p),setTimeout(()=>{r.current?.focus()},50))},[i,p]);const x=c=>{n(c.target.value)},k=c=>{b(c.target.value)},N=l.useCallback(()=>{g(!0)},[]),C=l.useCallback(()=>{n(d),g(!1)},[d,n]),L=l.useCallback(()=>{b(""),n("")},[n]),R=l.useCallback(c=>{c.key==="Enter"&&(c.preventDefault(),C())},[C]);if(M==="inline"){const{style:c,className:E}=J(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:E,style:c},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:"ts-input-icon flexify"},_&&React.createElement("span",{dangerouslySetInnerHTML:{__html:_}}),React.createElement("input",{type:"text",value:p,onChange:x,placeholder:w,className:"inline-input"})))}const f=p.length>0,{style:v,className:u}=J(e,"ts-form-group"),h=ne(e);return React.createElement("div",{className:u,style:v},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${f?"ts-filled":""}`,onClick:N,onMouseDown:c=>c.preventDefault(),role:"button",tabIndex:0},_&&React.createElement("span",{dangerouslySetInnerHTML:{__html:_}}),React.createElement("div",{className:"ts-filter-text"},f?p:w)),React.createElement(ee,{isOpen:i,target:o,title:"",icon:_,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:C,onClear:L,onClose:()=>g(!1),className:`${y}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:h.style},React.createElement("div",{className:"ts-input-icon ts-sticky-top flexify"},React.createElement("span",null,se.search),React.createElement("input",{ref:r,type:"text",value:d,onChange:k,onKeyDown:R,placeholder:w,className:"autofocus border-none"}))))}const $e=()=>window.noUiSlider;function Be(e,t,s){if(e==null||e==="")return{min:t,max:s};if(typeof e=="string"&&e.includes("..")){const n=e.split(".."),a=n[0]!==""?Number(n[0]):t,y=n[1]!==""?Number(n[1]):s;return{min:isNaN(a)?t:a,max:isNaN(y)?s:y}}if(typeof e=="object"){const n=e;return{min:n.min??t,max:n.max??s}}return typeof e=="number"?{min:e,max:s}:{min:t,max:s}}function et({config:e,filterData:t,value:s,onChange:n,blockId:a,narrowedValues:y,isNarrowing:o}){const r=[a?`voxel-popup-${a}`:"",e.id?`elementor-repeater-item-${e.id}`:""].filter(Boolean).join(" "),i=l.useRef(null),g=l.useRef(null),d=l.useRef(null),[b,p]=l.useState(!1),w=t.props||{},M=w.min??0,_=w.max??100,x=w.step??1,k=w.placeholder||t.label||"Range",N=e.displayAs||t.props?.display_as||"popup",C=w.handles||"double",L=w.compare||"in_range",R=e.filterKey,f=y?.ranges?.[R],v=f?.min??M,u=f?.max??_,h=w.format||"number",c=w.prefix||(typeof h=="object"?h.prefix:"")||"",E=w.suffix||(typeof h=="object"?h.suffix:"")||"",I=t.icon||"",A=Be(s,v,u),[F,q]=l.useState(A.min),[P,D]=l.useState(A.max),B=l.useCallback(W=>h==="price"?`${c}${W.toLocaleString()}${E}`:`${c}${W}${E}`,[h,c,E]),H=s!=null&&s!==""&&(A.min!==v||A.max!==u),Y=H?`${B(A.min)} — ${B(A.max)}`:k,X=`${B(F)} — ${B(P)}`,O=l.useCallback(()=>{if(!g.current||d.current)return;const W=F,z=P;let pe,ie;C==="double"?(pe=[W,z],ie=!0):L==="in_range"?(pe=[z],ie=[!1,!0]):(pe=[W],ie=[!0,!1]);const j=$e();if(!j){console.error("noUiSlider not loaded - window.noUiSlider is undefined");return}j.create(g.current,{start:pe,connect:ie,range:{min:v,max:u},step:x,behaviour:"tap-drag"}),d.current=g.current.noUiSlider,d.current.on("update",$=>{C==="double"?(q(Math.round(Number($[0]))),D(Math.round(Number($[1])))):L==="in_range"?D(Math.round(Number($[0]))):q(Math.round(Number($[0])))}),requestAnimationFrame(()=>{d.current&&(C==="double"?d.current.set([W,z],!1):d.current.set([W],!1))})},[C,L,F,P,v,u,x]),G=l.useCallback(()=>{d.current&&(d.current.destroy(),d.current=null)},[]);l.useEffect(()=>{const W=Be(s,v,u);if(q(W.min),D(W.max),d.current){const z=C==="double"?[W.min,W.max]:[W.min];d.current.set(z,!1),requestAnimationFrame(()=>{d.current&&d.current.set(z,!1)})}},[s,v,u,C]),l.useEffect(()=>{if(b&&N==="popup"){const W=setTimeout(()=>{O()},100);return()=>clearTimeout(W)}return()=>{N==="popup"&&G()}},[b,N,O,G]),l.useEffect(()=>{if(N==="inline")return O(),()=>G()},[N,O,G]),l.useEffect(()=>{if(!d.current||!f)return;d.current.updateOptions({range:{min:v,max:u}},!0);let W=F,z=P;W<v&&(W=v),W>u&&(W=u),C==="double"&&(z<v&&(z=v),z>u&&(z=u),W>z&&(W=z)),C==="double"?d.current.set([W,z]):d.current.set([W]),q(W),D(z)},[f,v,u,C]);const Q=l.useCallback(()=>{p(!0)},[]),V=l.useCallback((W,z)=>W===v&&z===u?null:C==="double"?`${W}..${z}`:L==="greater_than"||L==="in_range"?`${W}..`:`..${z}`,[C,L,v,u]),m=W=>{const z=W.target.value===""?v:Number(W.target.value);q(z),d.current&&d.current.set(C==="double"?[z,P]:[z]),N==="minmax"&&n(V(z,P))},S=W=>{const z=W.target.value===""?u:Number(W.target.value);D(z),d.current&&d.current.set([F,z]),N==="minmax"&&n(V(F,z))},T=l.useCallback(()=>{n(V(F,P)),p(!1)},[F,P,V,n]),U=l.useCallback(()=>{q(v),D(u),d.current&&d.current.set(C==="double"?[v,u]:[v]),n(null)},[v,u,C,n]),K=()=>React.createElement("div",{className:"ts-minmax"},React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(v),value:F,onChange:m,min:v,max:P,step:x}),C==="double"&&React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(u),value:P,onChange:S,min:F,max:u,step:x})),Z=()=>React.createElement("div",{className:`range-slider-wrapper${o?" ts-loading":""}`},React.createElement("div",{className:"range-value"},X),React.createElement("div",{ref:g,className:"range-slider"}),f&&(f.min!==M||f.max!==_)&&React.createElement("div",{className:"range-narrowed-indicator"},React.createElement("small",null,"Showing ",B(v)," — ",B(u)," based on current results")));if(N==="minmax"&&C==="double"){const{style:W,className:z}=J(e,"ts-form-group");return React.createElement("div",{className:z,style:W},!e.hideLabel&&React.createElement("label",null,t.label),K())}if(N==="inline"){const{style:W,className:z}=J(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:z,style:W},!e.hideLabel&&React.createElement("label",null,t.label),Z())}const{style:te,className:de}=J(e,"ts-form-group"),ce=ne(e);return React.createElement("div",{className:de,style:te},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${H?"ts-filled":""}`,onClick:Q,onMouseDown:W=>W.preventDefault(),role:"button",tabIndex:0},I&&React.createElement("span",{dangerouslySetInnerHTML:{__html:I}}),React.createElement("div",{className:"ts-filter-text"},Y),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:b,target:i,title:"",icon:I,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:T,onClear:U,onClose:()=>p(!1),className:`${r}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ce.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,t.label,t.description&&React.createElement("small",null,t.description)),Z())))}function tt(e,t){let s=null;return function(...n){s&&clearTimeout(s),s=setTimeout(()=>e.apply(this,n),t)}}function st({config:e,filterData:t,value:s,onChange:n,blockId:a}){const y=a?`voxel-popup-${a}`:"",o=t.props||{},r=o.min??0,i=o.max??99,g=o.step??1,d=o.default??r,b=o.placeholder||t.label||"Any",p=e.displayAs||t.props?.display_as||"popup",w=t.icon||"",M=l.useRef(null),[_,x]=l.useState(!1),k=typeof s=="number"?s:d,[N,C]=l.useState(k),L=l.useMemo(()=>tt(P=>n(P),300),[n]);l.useEffect(()=>{C(typeof s=="number"?s:d)},[s,d]),l.useEffect(()=>{_&&C(k)},[_,k]);const R=P=>{P.preventDefault();const D=Math.max(r,N-g);C(D),p==="inline"&&L(D)},f=P=>{P.preventDefault();const D=Math.min(i,N+g);C(D),p==="inline"&&L(D)},v=P=>{const D=parseInt(P.target.value,10);if(!isNaN(D)){const B=Math.min(i,Math.max(r,D));C(B),p==="inline"&&L(B)}},u=l.useCallback(()=>{x(!0)},[]),h=l.useCallback(()=>{n(N),x(!1)},[N,n]),c=l.useCallback(()=>{C(d),n(d)},[d,n]),E=()=>React.createElement("div",{className:"ts-stepper-input flexify"},React.createElement("button",{type:"button",className:"ts-stepper-left ts-icon-btn inline-btn-ts",onClick:R},React.createElement("i",{className:"las la-minus"})),React.createElement("input",{type:"number",className:"ts-input-box",min:r,max:i,step:g,value:N,onChange:v,placeholder:b}),React.createElement("button",{type:"button",className:"ts-stepper-right ts-icon-btn inline-btn-ts",onClick:f},React.createElement("i",{className:"las la-plus"})));if(p==="inline"){const{style:P,className:D}=J(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:D,style:P},!e.hideLabel&&React.createElement("label",null,t.label),E())}const I=k!==d,{style:A,className:F}=J(e,"ts-form-group"),q=ne(e);return React.createElement("div",{className:F,style:A},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:M,className:`ts-filter ts-popup-target ${I?"ts-filled":""}`,onClick:u,onMouseDown:P=>P.preventDefault(),role:"button",tabIndex:0},w&&React.createElement("span",{dangerouslySetInnerHTML:{__html:w}}),React.createElement("div",{className:"ts-filter-text"},I?N:b),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:_,target:M,title:"",icon:w,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:h,onClear:c,onClose:()=>x(!1),className:`${y}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:q.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,t.label,t.description&&React.createElement("small",null,t.description)),E())))}function nt(e){return e==null||e===""?[]:typeof e=="string"?e.split(",").map(t=>t.trim()).filter(t=>t!==""):Array.isArray(e)?e.length>0&&typeof e[0]=="string"?e:e.length>0&&typeof e[0]=="number"?e.map(String):[]:[]}function xe(e){return e.length===0?null:e.join(",")}function lt({config:e,filterData:t,value:s,onChange:n,blockId:a,narrowedValues:y,isNarrowing:o}){const r=a?`voxel-popup-${a}`:"",i=l.useRef(null),g=l.useRef(null),[d,b]=l.useState(!1),[p,w]=l.useState(""),M=t.props||{},_=M.multiple??!0,x=M.placeholder||t.label||"Select",k=e.displayAs||M.display_as||"popup",N=e.hideEmptyTerms??M.hide_empty_terms??!1,C=t.icon||"",L=M.taxonomy||e.filterKey,R=y?.terms?.[L],f=l.useCallback(V=>{const m=(S,T,U)=>{const K={...S,parentRef:T||void 0,hasSelection:!1,depth:U};return S.children&&S.children.length>0&&(K.children=S.children.map(Z=>m(Z,K,U+1))),K};return V.map(S=>m(S,null,0))},[]),v=l.useMemo(()=>{const V=M.terms||[];return f(V)},[M,f]),u=l.useMemo(()=>{const V=new Map,m=S=>{V.set(S.slug,S),S.children&&S.children.forEach(T=>m(T))};return v.forEach(S=>m(S)),V},[v]),h=l.useMemo(()=>{const V=[],m=S=>{S.forEach(T=>{N&&R&&T.term_taxonomy_id&&R[T.term_taxonomy_id]===0||(V.push(T),T.children&&T.children.length>0&&m(T.children))})};return m(v),V},[v,N,R]),c=l.useCallback(V=>!R||!V.term_taxonomy_id?null:R[V.term_taxonomy_id]??null,[R]),E=l.useMemo(()=>nt(s),[s]),I=l.useCallback(V=>V.slug?E.includes(V.slug):!1,[E]),A=l.useMemo(()=>h.filter(V=>V.slug&&E.includes(V.slug)),[h,E]),F=l.useMemo(()=>{if(!p)return h;const V=p.toLowerCase();return h.filter(m=>m.label.toLowerCase().includes(V))},[h,p]);l.useEffect(()=>{d&&(w(""),h.length>=15&&setTimeout(()=>g.current?.focus(),50))},[d,h.length]);const q=l.useCallback(()=>{b(!0)},[]),P=l.useCallback(V=>{const m=V.slug;if(m)if(_){let S=[...E];if(S.includes(m)){S=S.filter(U=>U!==m);let T=V.parentRef;for(;T;)T.children?.some(K=>S.includes(K.slug)||K.hasSelection)||(T.hasSelection=!1),T=T.parentRef;n(xe(S))}else{S.push(m);let T=V.parentRef;for(;T;)S=S.filter(K=>K!==T.slug),T.hasSelection=!0,T=T.parentRef;const U=new Set;S.forEach(K=>{const Z=u.get(K);if(!Z)return;let te=Z.parentRef;const de=[];let ce=!1;for(;te;){if(te.slug===m){ce=!0;break}de.push(te),te=te.parentRef}ce&&(U.add(Z.slug),de.forEach(W=>{W.hasSelection=!1}))}),S=S.filter(K=>!U.has(K)),n(xe(S))}}else n(xe([m])),k!=="inline"&&b(!1)},[_,E,n,u,k]),D=l.useCallback(()=>{b(!1)},[]),B=l.useCallback(()=>{n(null)},[n]),H=E.length>0,Y=H&&A[0]?.label||x,X=A.length>1?A.length-1:0;if(k==="inline"){const{style:V,className:m}=J(e,"ts-form-group inline-terms-wrapper ts-inline-filter min-scroll");return React.createElement("div",{className:`${m}${o?" ts-loading":""}`,style:V},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:"ts-term-dropdown ts-multilevel-dropdown inline-multilevel"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},h.map(S=>{const T=I(S),U=c(S),K=U===0;return React.createElement("li",{key:S.slug,className:`${T?"ts-selected":""}${K?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:Z=>{Z.preventDefault(),K||P(S)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${_?"checkbox":"radio"}`},React.createElement("input",{type:_?"checkbox":"radio",checked:T,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,S.depth>0?"— ".repeat(S.depth):"",S.label),U!==null&&React.createElement("span",{className:"ts-term-count"},"(",U,")"),S.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:S.icon}})))}))))}if(k==="buttons"){const{style:V,className:m}=J(e,"ts-form-group");return React.createElement("div",{className:m,style:V},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},h.map(S=>{const T=I(S);return React.createElement("li",{key:S.slug,className:`flexify ${T?"adb-selected":""}`,onClick:()=>P(S)},S.label)})))}const{style:O,className:G}=J(e,"ts-form-group"),Q=ne(e);return React.createElement("div",{className:G,style:O},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${H?"ts-filled":""}`,onClick:q,onMouseDown:V=>V.preventDefault(),role:"button",tabIndex:0},C&&React.createElement("span",{dangerouslySetInnerHTML:{__html:C}}),React.createElement("div",{className:"ts-filter-text"},Y,X>0&&React.createElement("span",{className:"term-count"},"+",X)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:d,target:i,title:"",icon:C,saveLabel:"Save",clearLabel:"Clear",showClear:!0,showSave:_,onSave:D,onClear:B,onClose:()=>b(!1),className:`${r}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:Q.style},h.length>=15&&React.createElement("div",{className:"ts-sticky-top uib b-bottom"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("span",null,se.search),React.createElement("input",{ref:g,type:"text",value:p,onChange:V=>w(V.target.value),placeholder:"Search",className:"autofocus"}))),React.createElement("div",{className:`ts-term-dropdown ts-multilevel-dropdown ts-md-group${o?" ts-loading":""}`},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},F.map(V=>{const m=I(V),S=c(V),T=S===0;return React.createElement("li",{key:V.slug,className:`${m?"ts-selected":""}${T?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:U=>{U.preventDefault(),T||P(V)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${_?"checkbox":"radio"}`},React.createElement("input",{type:_?"checkbox":"radio",checked:m,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,V.depth>0?"— ".repeat(V.depth):"",V.label),S!==null&&React.createElement("span",{className:"ts-term-count"},"(",S,")"),V.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:V.icon}})))})),F.length===0&&React.createElement("div",{className:"ts-empty-user-tab"},C&&React.createElement("span",{dangerouslySetInnerHTML:{__html:C}}),React.createElement("p",null,"No results found")))))}const rt=()=>window.noUiSlider;function ae(e){return!e||!e.address?null:e.swlat!==void 0&&e.swlng!==void 0&&e.nelat!==void 0&&e.nelng!==void 0?`${e.address};${e.swlat},${e.swlng}..${e.nelat},${e.nelng}`:e.lat!==void 0&&e.lng!==void 0?`${e.address};${e.lat},${e.lng},${e.radius||25}`:e.address}function at(e,t){if(e==null||e==="")return null;if(typeof e=="string"){const s=e.indexOf(";");if(s===-1)return{address:e};const n=e.substring(0,s),a=e.substring(s+1);if(a.includes("..")){const o=a.split(".."),r=o[0].split(","),i=o[1].split(",");return{address:n,swlat:Number(r[0]),swlng:Number(r[1]),nelat:Number(i[0]),nelng:Number(i[1])}}const y=a.split(",");return{address:n,lat:Number(y[0]),lng:Number(y[1]),radius:y[2]?Number(y[2]):t}}return typeof e=="object"?e:null}function ot({config:e,filterData:t,value:s,onChange:n,blockId:a}){const y=a?`voxel-popup-${a}`:"",o=l.useRef(null),r=l.useRef(null),i=l.useRef(null),g=l.useRef(null),d=l.useRef(null),[b,p]=l.useState(!1),[w,M]=l.useState(!1),_=l.useRef(null),x=t.props||{},k=x.radius||{},N=k.default??25,C=k.min??1,L=k.max??100,R=k.step??1,f=x.units||"km",v=x.display_proximity_as||"popup",u=x.placeholder||t.label||"Location",h=e.displayAs||t.props?.display_as||"popup",c=t.icon||"",E=at(s,N)||{},[I,A]=l.useState(E.address||""),[F,q]=l.useState(E.radius||N),P=l.useCallback(j=>Math.round(j*1e6)/1e6,[]),D=l.useCallback(j=>`${j}${f==="mi"?"mi":"km"}`,[f]),B=l.useCallback(()=>{if(!g.current||d.current)return;const j=rt();if(!j){console.error("noUiSlider not loaded - window.noUiSlider is undefined");return}j.create(g.current,{start:F,connect:[!0,!1],step:R,range:{min:C,max:L},behaviour:"tap-drag"}),d.current=g.current.noUiSlider,d.current.on("update",$=>{q(Math.round(Number($[0])))}),d.current.on("change",$=>{const le=Math.round(Number($[0]));v==="inline"&&E.lat&&n(ae({...E,radius:le}))})},[F,R,C,L,v,E,n]),H=l.useCallback(()=>{d.current&&(d.current.destroy(),d.current=null)},[]);l.useEffect(()=>{if(v==="inline"&&E.lat){const j=setTimeout(()=>B(),50);return()=>{clearTimeout(j),H()}}},[v,E.lat,B,H]),l.useEffect(()=>{if(w){const j=setTimeout(()=>B(),50);return()=>clearTimeout(j)}return()=>H()},[w,B,H]),l.useEffect(()=>{const j=E.radius||N;q(j),d.current&&d.current.set([j])},[E.radius,N]);const Y=l.useCallback(()=>{if(i.current||!r.current||typeof window>"u")return;const j=window.Voxel?.Maps;if(!j){console.warn("Voxel.Maps not available for autocomplete");return}j.await(()=>{if(i.current)return;const $=e.autocomplete||{};i.current=new j.Autocomplete(r.current,le=>{if(le){const Ae=le.viewport.getSouthWest(),Ue=le.viewport.getNorthEast(),Wt={address:le.address,swlat:P(Ae.getLatitude()),swlng:P(Ae.getLongitude()),nelat:P(Ue.getLatitude()),nelng:P(Ue.getLongitude()),lat:P(le.latlng.getLatitude()),lng:P(le.latlng.getLongitude()),radius:E.radius||N};A(le.address),n(ae(Wt)),h==="popup"&&p(!1)}else A(""),n(null)},$)})},[e.autocomplete,n,h,N,E.radius,P]);l.useEffect(()=>{(b||h==="inline")&&(A(E.address||""),b&&setTimeout(()=>r.current?.focus(),50))},[b,h,E.address]);const X=l.useCallback(()=>{p(!0)},[]),O=l.useCallback(()=>{Y()},[Y]),G=j=>{A(j.target.value),h==="inline"&&(j.target.value?n(ae({...E,address:j.target.value})):n(null))},Q=j=>{j.preventDefault(),j.stopPropagation(),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition($=>{const le={address:"Current Location",lat:$.coords.latitude,lng:$.coords.longitude,radius:N};A("Current Location"),n(ae(le)),h==="popup"&&p(!1)},$=>{console.error("Geolocation error:",$)})},V=l.useCallback(()=>{n(I?ae({...E,address:I}):null),p(!1)},[I,E,n]),m=l.useCallback(()=>{A(""),n(null)},[n]),S=l.useCallback(j=>{j.key==="Enter"&&(j.preventDefault(),V())},[V]),T=l.useCallback(()=>{E.lat&&n(ae({...E,radius:F})),M(!1)},[E,F,n]),U=l.useCallback(()=>{q(N),d.current&&d.current.set([N]),E.lat&&n(ae({...E,radius:N}))},[N,E,n]),K=!!E.address||!!E.lat,Z=K?E.address||"Location set":u,te=()=>React.createElement("div",{className:"ts-input-icon flexify",style:{position:"relative"}},c&&React.createElement("span",{dangerouslySetInnerHTML:{__html:c}}),React.createElement("input",{ref:r,type:"text",className:"inline-input",placeholder:u,value:I,onChange:G,onKeyDown:S,onFocus:O}),React.createElement("a",{href:"#",className:"inline-user-location ts-icon-btn",onClick:Q,title:"Use my location","aria-label":"Use my location"},se.crosshairs)),de=()=>React.createElement("div",{className:"range-slider-wrapper"},React.createElement("div",{className:"range-value"},D(F)),React.createElement("div",{ref:g,className:"range-slider"})),ce=()=>!E.lat||v==="inline"?null:React.createElement("div",{className:"ts-form-group ts-proximity-filter"},React.createElement("label",null,x.proximity_label||"Radius"),React.createElement("div",{ref:_,className:`ts-filter ts-popup-target ${E.radius?"ts-filled":""}`,onClick:()=>M(!0),onMouseDown:j=>j.preventDefault(),role:"button",tabIndex:0},React.createElement("div",{className:"ts-filter-text"},D(E.radius||N)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:w,target:_,title:"",saveLabel:"Save",clearLabel:"Reset",showClear:!0,onSave:T,onClear:U,onClose:()=>M(!1),className:`${y}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ie.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,x.proximity_label||"Search radius"),de()))),W=()=>v!=="inline"||!E.lat?null:React.createElement("div",{className:"ts-form-group ts-inline-proximity"},React.createElement("label",null,x.proximity_label||"Radius",": ",D(F)),React.createElement("div",{ref:g,className:"range-slider"}));if(h==="inline"){const{style:j,className:$}=J(e,"ts-form-group ts-inline-filter");return React.createElement(React.Fragment,null,React.createElement("div",{className:$,style:j},!e.hideLabel&&React.createElement("label",null,t.label),te()),W(),ce())}const{style:z,className:pe}=J(e,"ts-form-group"),ie=ne(e);return React.createElement(React.Fragment,null,React.createElement("div",{className:pe,style:z},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${K?"ts-filled":""}`,onClick:X,onMouseDown:j=>j.preventDefault(),role:"button",tabIndex:0},c&&React.createElement("span",{dangerouslySetInnerHTML:{__html:c}}),React.createElement("div",{className:"ts-filter-text"},Z),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:b,target:o,title:"",icon:c,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:V,onClear:m,onClose:()=>p(!1),className:`${y}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ie.style},React.createElement("div",{className:"ts-form-group"},te()))),W(),ce())}function ct(e){if(e==null||e==="")return{date:"",slots:1};if(typeof e=="string")return{date:e,slots:1};if(typeof e=="object"){const t=e;return{date:t.date||"",slots:t.slots||1}}return{date:"",slots:1}}const fe=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},oe=e=>{if(!e)return null;const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${s}-${n}`},he=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}catch{return e}};function it({config:e,filterData:t,value:s,onChange:n,blockId:a}){const y=[a?`voxel-popup-${a}`:"",e.id?`elementor-repeater-item-${e.id}`:""].filter(Boolean).join(" "),o=l.useRef(null),r=l.useRef(null),[i,g]=l.useState(!1),d=t.props||{},p=(d.inputMode||"date-range")==="date-range",w=d.l10n||{},M=w.pickDate||t.label||"Select dates",_=t.icon||"",x=ct(s),k=x.date,N=x.slots;let C="",L="";p&&k&&k.includes("..")?[C,L]=k.split(".."):!p&&k&&(C=k);const[R,f]=l.useState(()=>fe(C)),[v,u]=l.useState(()=>fe(L)),[h,c]=l.useState("start"),[E,I]=l.useState(N);l.useEffect(()=>{if(i){if(p&&k&&k.includes("..")){const[O,G]=k.split("..");f(fe(O)),u(fe(G))}else!p&&k&&f(fe(k));I(N),c("start")}},[i,p,k,N]);const A=l.useCallback(()=>{g(!0)},[]),F=l.useCallback(O=>{if(p&&O&&r.current)if(h==="start")f(O),c("end"),r.current.setStartRange(O),r.current.setEndRange(null),r.current.draw();else if(R&&O<R)f(O),u(null),r.current.setStartRange(O),r.current.setEndRange(null),r.current.draw();else{u(O),c("start"),r.current.setEndRange(O),r.current.draw();const G=oe(R),Q=oe(O);G&&Q&&(n(`${G}..${Q}`),g(!1))}else f(O)},[p,h,R,n]);l.useCallback(O=>{I(Number(O.target.value)||1)},[]);const q=l.useCallback(O=>{if(p){const G=oe(R),Q=oe(v);G&&Q&&n(`${G}..${Q}`)}else{const Q=oe(O!==void 0?O:R);Q&&n(Q)}g(!1)},[p,R,v,n]),P=l.useCallback(()=>{f(null),u(null),I(1),n(null),r.current&&(r.current.setStartRange(null),r.current.setEndRange(null))},[n]),D=p?!!(C&&L):!!k,B=l.useMemo(()=>{if(!D)return M;if(p){const O=he(C),G=he(L),Q=`${O} — ${G}`;return N>1?`${Q} (${N})`:Q}else{const O=he(k);return N>1?`${O} (${N})`:O}},[p,D,C,L,k,N,M]),{style:H,className:Y}=J(e,"ts-form-group"),X=ne(e);return React.createElement("div",{className:Y,style:H},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${D?"ts-filled":""}`,onClick:A,onMouseDown:O=>O.preventDefault(),role:"button",tabIndex:0},_&&React.createElement("span",{dangerouslySetInnerHTML:{__html:_}}),React.createElement("div",{className:"ts-filter-text"},B),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:i,target:o,title:"",icon:_,saveLabel:w.save||"Save",clearLabel:w.clear||"Clear",showSave:p,onSave:q,onClear:P,onClose:()=>g(!1),className:`${y}${p?" ts-availability-wrapper xl-height xl-width":" md-width xl-height"}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:X.style},p&&React.createElement("div",{className:"ts-popup-head flexify"},React.createElement("div",{className:"ts-popup-name flexify"},_&&React.createElement("span",{dangerouslySetInnerHTML:{__html:_}}),React.createElement("span",null,React.createElement("span",{className:h==="start"?"chosen":"",onClick:()=>c("start"),style:{cursor:"pointer"}},R?he(oe(R)):w.checkIn||"Check-in"),React.createElement("span",null," — "),React.createElement("span",{className:h==="end"?"chosen":"",onClick:()=>c("end"),style:{cursor:"pointer"}},v?he(oe(v)):w.checkOut||"Check-out")))),React.createElement(me,{value:R,onChange:F,...!p&&{onSelect:q},pickerConfig:{minDate:new Date,...p?{numberOfMonths:2,theme:"pika-range"}:{}},onPickerReady:O=>{r.current=O,p&&R&&(O.setStartRange(R),v&&O.setEndRange(v))}})))}function ut(e,t){if(e==null||e==="")return{from:"",to:""};if(typeof e=="string"){if(t&&e.includes("..")){const s=e.split("..");return{from:s[0]||"",to:s[1]||""}}return{from:e,to:""}}if(typeof e=="object"){const s=e;return{from:s.from||"",to:s.to||""}}return{from:"",to:""}}function ye(e,t,s){return!e&&!t?null:s?e&&t?`${e}..${t}`:e?`${e}..`:t?`..${t}`:null:e||null}const Ee=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},We=e=>{if(!e)return null;const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${s}-${n}`},be=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}catch{return e}};function dt({config:e,filterData:t,value:s,onChange:n,blockId:a}){const y=a?`voxel-popup-${a}`:"",o=l.useRef(null),r=t.props||{},i=r.enable_range??!1,g=r.placeholder||t.label||"Select date",d=t.icon||"",b=ut(s,i),p=b.from,w=b.to,[M,_]=l.useState(!1),[x,k]=l.useState(!1),[N,C]=l.useState(()=>Ee(p)),[L,R]=l.useState(()=>Ee(w)),f=l.useCallback(()=>{C(Ee(p)),_(!0)},[p]),v=l.useCallback(()=>{R(Ee(w)),k(!0)},[w]),u=l.useCallback(H=>{C(H)},[]),h=l.useCallback(H=>{R(H)},[]),c=l.useCallback(H=>{const X=We(H!==void 0?H:N)||"";n(ye(X,w,i)),_(!1)},[N,i,w,n]),E=l.useCallback(H=>{const X=We(H!==void 0?H:L)||"";n(ye(p,X,i)),k(!1)},[L,p,i,n]),I=l.useCallback(()=>{C(null),n(ye("",w,i))},[i,w,n]),A=l.useCallback(()=>{R(null),n(ye(p,"",i))},[p,i,n]),F=i?!!p||!!w:!!p,q=l.useMemo(()=>{if(!F)return g;if(i){const H=[];return p&&H.push(be(p)),w&&H.push(be(w)),H.join(" - ")||g}return be(p)||g},[F,i,p,w,g]),{style:P,className:D}=J(e,"ts-form-group"),B=ne(e);return React.createElement("div",{className:D,style:P},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${F?"ts-filled":""}`,onClick:f,onMouseDown:H=>H.preventDefault(),role:"button",tabIndex:0},d&&React.createElement("span",{dangerouslySetInnerHTML:{__html:d}}),React.createElement("div",{className:"ts-filter-text"},q),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:M,target:o,title:i?"From":"",icon:d,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:c,onClear:I,onClose:()=>_(!1),className:`${y}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:B.style},React.createElement(me,{value:N,onChange:u,onSelect:c}),i&&React.createElement("div",{className:"ts-form-group",style:{marginTop:"12px",borderTop:"1px solid var(--ts-shade-5)",paddingTop:"12px"}},React.createElement("label",null,"To"),React.createElement("div",{className:`ts-filter ts-popup-target ${w?"ts-filled":""}`,onClick:H=>{H.stopPropagation(),_(!1),setTimeout(()=>v(),100)},role:"button",tabIndex:0},d&&React.createElement("span",{dangerouslySetInnerHTML:{__html:d}}),React.createElement("div",{className:"ts-filter-text"},w?be(w):"Select end date")))),i&&React.createElement(ee,{isOpen:x,target:o,title:"To",icon:d,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:E,onClear:A,onClose:()=>k(!1),className:`${y}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:B.style},React.createElement(me,{value:L,onChange:h,onSelect:E})))}const ve=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},Oe=e=>{if(!e)return null;const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${s}-${n}`},ke=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}catch{return e}};function pt({config:e,filterData:t,value:s,onChange:n,blockId:a}){const y=a?`voxel-popup-${a}`:"",o=l.useRef(null),i=(t.props||{}).placeholder||t.label||"Date",g=t.icon||"",d=s||{},b=d.from||"",p=d.to||"",[w,M]=l.useState(!1),[_,x]=l.useState(!1),[k,N]=l.useState(()=>ve(b)),[C,L]=l.useState(()=>ve(p)),R=l.useCallback(()=>{N(ve(b)),M(!0)},[b]),f=l.useCallback(()=>{L(ve(p)),x(!0)},[p]),v=l.useCallback(B=>{N(B)},[]),u=l.useCallback(B=>{L(B)},[]),h=l.useCallback(B=>{const Y=Oe(B!==void 0?B:k)||"";n({from:Y,to:p}),M(!1)},[k,p,n]),c=l.useCallback(B=>{const Y=Oe(B!==void 0?B:C)||"";n({from:b,to:Y}),x(!1)},[C,b,n]),E=l.useCallback(()=>{N(null),n({from:"",to:p})},[p,n]),I=l.useCallback(()=>{L(null),n({from:b,to:""})},[b,n]),A=!!b||!!p,F=l.useMemo(()=>{if(!A)return i;const B=[];return b&&B.push(ke(b)),p&&B.push(ke(p)),B.join(" - ")||i},[A,b,p,i]),{style:q,className:P}=J(e,"ts-form-group"),D=ne(e);return React.createElement("div",{className:P,style:q},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${A?"ts-filled":""}`,onClick:R,onMouseDown:B=>B.preventDefault(),role:"button",tabIndex:0},g&&React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),React.createElement("div",{className:"ts-filter-text"},F),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:w,target:o,title:"From",icon:g,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:h,onClear:E,onClose:()=>M(!1),className:`${y}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:D.style},React.createElement(me,{value:k,onChange:v,onSelect:h}),React.createElement("div",{className:"ts-form-group",style:{marginTop:"12px",borderTop:"1px solid var(--ts-shade-5)",paddingTop:"12px"}},React.createElement("label",null,"To"),React.createElement("div",{className:`ts-filter ts-popup-target ${p?"ts-filled":""}`,onClick:B=>{B.stopPropagation(),M(!1),setTimeout(()=>f(),100)},role:"button",tabIndex:0},g&&React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),React.createElement("div",{className:"ts-filter-text"},p?ke(p):"Select end date")))),React.createElement(ee,{isOpen:_,target:o,title:"To",icon:g,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:c,onClear:I,onClose:()=>x(!1),className:`${y}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:D.style},React.createElement(me,{value:C,onChange:u,onSelect:c})))}function mt({config:e,filterData:t,value:s,onChange:n}){const a=s===!0||s==="true"||s==="1",y=g=>{g.preventDefault(),n(!a)},o=t.props?.placeholder||t.label||"Open now",{style:r,className:i}=J(e,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:i,style:r},React.createElement("label",null,React.createElement("div",{className:"switch-slider"},React.createElement("div",{className:"onoffswitch",onClick:y},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:a,readOnly:!0}),React.createElement("label",{className:"onoffswitch-label",onClick:y}))),o))}function ft({config:e,filterData:t,value:s,onChange:n,blockId:a}){const y=a?`voxel-popup-${a}`:"",o=l.useRef(null),[r,i]=l.useState(!1),g=t.props||{},d=e.displayAs||t.props?.display_as||"popup",b=g.placeholder||t.label||"Order By",p=l.useMemo(()=>{const h=g.choices||{};return Array.isArray(h)?h:Object.entries(h).map(([c,E])=>({key:c,label:E.label||E,placeholder:E.placeholder||E.label||E,icon:E.icon||""}))},[g.choices]),w=t.icon||"",M=l.useCallback(()=>{i(!0)},[]),_=l.useCallback(h=>{n(h),d==="popup"&&i(!1)},[n,d]),x=l.useCallback(()=>{n(null)},[n]),k=typeof s=="string"?s:"",N=!!k,C=p.find(h=>h.key===k),L=C?.placeholder||C?.label||b,R=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},p.map(h=>{const c=k===h.key;return React.createElement("li",{key:h.key,className:c?"ts-selected":""},React.createElement("a",{href:"#",className:"flexify",onClick:E=>{E.preventDefault(),_(h.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:h.key,checked:c,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,h.label),h.icon&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:h.icon}}))))})));if(d==="buttons"){const{style:h,className:c}=J(e,"ts-form-group");return React.createElement("div",{className:c,style:h},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},p.map(E=>{const I=k===E.key;return React.createElement("li",{key:E.key,className:`flexify${I?" adb-selected":""}`,onClick:()=>_(E.key)},E.placeholder||E.label)})))}if(d==="alt-btn")return React.createElement(React.Fragment,null,p.map(h=>{const c=k===h.key,{style:E,className:I}=J(e,"ts-form-group");return React.createElement("div",{key:h.key,className:I,style:E},!e.hideLabel&&React.createElement("label",null,h.label),React.createElement("div",{className:`ts-filter${c?" ts-filled":""}`,onClick:()=>_(h.key)},h.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:h.icon}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,h.placeholder||h.label))))}));const{style:f,className:v}=J(e,"ts-form-group"),u=ne(e);return React.createElement("div",{className:v,style:f},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${N?"ts-filled":""}`,onClick:M,onMouseDown:h=>h.preventDefault(),role:"button",tabIndex:0},w&&React.createElement("span",{dangerouslySetInnerHTML:{__html:w}}),React.createElement("div",{className:"ts-filter-text"},L),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:r,target:o,title:"",icon:w,saveLabel:"Save",clearLabel:"Clear",showClear:N,showSave:!1,onSave:()=>i(!1),onClear:x,onClose:()=>i(!1),className:`hide-head ${y}${e.popupCenterPosition?" ts-popup-centered":""}`.trim(),popupStyle:u.style},R()))}function ht({config:e,filterData:t,value:s,onChange:n,blockId:a}){const y=a?`voxel-popup-${a}`:"",[o,r]=l.useState(!1),i=l.useRef(null),g=t.props||{},d=e.displayAs||t.props?.display_as||"popup",b=g.placeholder||t.label||"Status",p=l.useMemo(()=>{const u=g.choices||{};return Array.isArray(u)?u:Object.entries(u).map(([h,c])=>({key:h,label:c.label||c}))},[g.choices]),w=t.icon||"",M=l.useCallback(u=>{n(u),r(!1)},[n]),_=l.useCallback(()=>{r(!0)},[]),x=typeof s=="string"?s:"",k=!!x,N=p.find(u=>u.key===x),C=k&&N?.label||b,L=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},p.map(u=>{const h=x===u.key;return React.createElement("li",{key:u.key},React.createElement("a",{href:"#",className:"flexify",onClick:c=>{c.preventDefault(),M(u.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:u.key,checked:h,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,u.label),w&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w}}))))})));if(d==="buttons")return React.createElement(React.Fragment,null,p.map(u=>{const h=x===u.key,{style:c,className:E}=J(e,"ts-form-group");return React.createElement("div",{key:u.key,className:E,style:c},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter${h?" ts-filled":""}`,onClick:()=>n(u.key)},w&&React.createElement("span",{dangerouslySetInnerHTML:{__html:w}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,u.label))))}));const{style:R,className:f}=J(e,"ts-form-group"),v=ne(e);return React.createElement("div",{className:f,style:R},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${k?"ts-filled":""}`,onClick:_,onMouseDown:u=>u.preventDefault(),role:"button",tabIndex:0},w&&React.createElement("span",{dangerouslySetInnerHTML:{__html:w}}),React.createElement("div",{className:"ts-filter-text"},C),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:o,target:i,title:"",icon:w,saveLabel:"Save",showSave:!1,showClear:!1,onSave:()=>r(!1),onClose:()=>r(!1),className:`hide-head ${y}${e.popupCenterPosition?" ts-popup-centered":""}`.trim(),popupStyle:v.style},L()))}function yt(e){const{userId:t,skip:s=!1}=e,[n,a]=l.useState(null),[y,o]=l.useState(!1),[r,i]=l.useState(null),g=l.useCallback(async()=>{if(!t||s){a(null);return}o(!0),i(null);try{const d=Re(),b=await fetch(`${d}voxel-fse/v1/search-form/user-data?user_id=${t}`);if(b.ok){const p=await b.json();a({id:p.id,name:p.name,avatar:p.avatar||""})}else a({id:t,name:"Unknown",avatar:""}),i("User not found")}catch(d){console.error("useUserData: Error fetching user data:",d),a({id:t,name:"Unknown",avatar:""}),i(d instanceof Error?d.message:"Failed to fetch user data")}finally{o(!1)}},[t,s]);return l.useEffect(()=>{g()},[g]),{userData:n,isLoading:y,error:r,refetch:g}}function Et({config:e,filterData:t,value:s}){const n=l.useRef(null),a=t.props||{},y=t.icon||"",o=a.user;let r;s!==void 0?r=s:t.value!==null&&t.value!==void 0?r=t.value:r=null;const i=r?Number(r):null,g=i!==null&&!isNaN(i)&&i>0,d=!!o?.name,{userData:b,isLoading:p}=yt({userId:g?i:null,skip:d}),w=d?{name:o.name,avatar:o.avatar||""}:b;if(!g)return null;const M=w?.name||(p?"Loading...":"Unknown"),{style:_,className:x}=J(e,"ts-form-group");return React.createElement("div",{className:x,style:_},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:n,className:`ts-filter ts-popup-target ts-filled${p?" ts-loading":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:y}}),React.createElement("div",{className:"ts-filter-text"},M)))}function bt({config:e,filterData:t,value:s,onChange:n,blockId:a}){const y=a?`voxel-popup-${a}`:"",o=l.useRef(null),r=l.useRef(null),[i,g]=l.useState(!1),[d,b]=l.useState(""),[p,w]=l.useState([]),[M,_]=l.useState(!1),x=t.props||{},k=x.placeholder||t.label||"Related",N=x.post,C=t.icon||"";l.useEffect(()=>{i&&(b(""),w([]),setTimeout(()=>r.current?.focus(),50))},[i]);const L=l.useCallback(()=>{g(!0)},[]),R=l.useCallback(F=>{const q=F.target.value;b(q),q.length>=2?(_(!0),setTimeout(()=>{w([]),_(!1)},300)):w([])},[]),f=l.useCallback((F,q)=>{n({id:F,title:q}),g(!1),b("")},[n]),v=l.useCallback(()=>{n(null),b(""),w([])},[n]);let u=null;if(s!==void 0){const F=s;F===null?u=null:typeof F=="number"?u=F:typeof F=="object"&&F?.id&&(u=F.id)}else t.value!==null&&t.value!==void 0&&(u=typeof t.value=="number"?t.value:Number(t.value));const h=u!==null&&!isNaN(u)&&u>0;let c=k;if(h){const F=s;F&&typeof F=="object"&&F.title?c=F.title:N?.title&&(c=N.title)}const{style:E,className:I}=J(e,"ts-form-group"),A=ne(e);return React.createElement("div",{className:I,style:E},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${h?"ts-filled":""}`,onClick:L,onMouseDown:F=>F.preventDefault(),role:"button",tabIndex:0},C&&React.createElement("span",{dangerouslySetInnerHTML:{__html:C}}),React.createElement("div",{className:"ts-filter-text"},c),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:i,target:o,title:"",icon:C,saveLabel:"Save",clearLabel:"Clear",showClear:h,showSave:!1,onSave:()=>g(!1),onClear:v,onClose:()=>g(!1),className:`${y}${e.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:A.style},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,se.search),React.createElement("input",{ref:r,type:"text",className:"inline-input",value:d,onChange:R,placeholder:"Search..."}))),M?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):p.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},p.map(F=>React.createElement("li",{key:F.id},React.createElement("a",{href:"#",className:"flexify",onClick:q=>{q.preventDefault(),f(F.id,F.title)}},React.createElement("span",null,F.title)))))):d.length>=2?React.createElement("div",{className:"ts-empty-user-tab"},C&&React.createElement("span",{dangerouslySetInnerHTML:{__html:C}}),React.createElement("p",null,"No results found")):null))}function _e({config:e,filterData:t,value:s,onChange:n}){const[a,y]=l.useState(!1),[o,r]=l.useState(""),[i,g]=l.useState([]),[d,b]=l.useState(!1),p=l.useRef(null),w=t.props||{},M=w.placeholder||t.label||"Following",_=w.user,x=t.icon||"",k=c=>{const E=c.target.value;r(E),E.length>=2?(b(!0),setTimeout(()=>{g([]),b(!1)},300)):g([])},N=(c,E)=>{n({id:c,name:E}),y(!1),r("")},C=c=>{c.preventDefault(),y(!a)};l.useEffect(()=>{const c=E=>{p.current&&!p.current.contains(E.target)&&y(!1)};return a&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[a]);let L=null;if(s!==void 0){const c=s;c===null?L=null:typeof c=="number"?L=c:typeof c=="object"&&c?.id&&(L=c.id)}else t.value!==null&&t.value!==void 0&&(L=typeof t.value=="number"?t.value:Number(t.value));const R=L!==null&&!isNaN(L)&&L>0;let f=M;if(R){const c=s;c&&typeof c=="object"&&c.name?f=c.name:_?.name&&(f=_.name)}const{style:v,className:u}=J(e,"ts-form-group"),h=ne(e);return React.createElement("div",{className:u,style:v,ref:p},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter ts-popup-target ${R?"ts-filled":""}`,onClick:C,onMouseDown:c=>c.preventDefault(),role:"button",tabIndex:0},x&&React.createElement("span",{dangerouslySetInnerHTML:{__html:x}}),React.createElement("div",{className:"ts-filter-text"},f),React.createElement("div",{className:"ts-down-icon"})),a&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:h.className,style:h.style},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,se.search),React.createElement("input",{type:"text",className:"inline-input",value:o,onChange:k,placeholder:"Search..."}))),d?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):i.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},i.map(c=>React.createElement("li",{key:c.id},React.createElement("a",{href:"#",className:"flexify",onClick:E=>{E.preventDefault(),N(c.id,c.name)}},React.createElement("span",null,c.name)))))):o.length>=2?React.createElement("div",{className:"ts-empty-user-list"},React.createElement("span",null,"No results found")):null))))}function vt({config:e,filterData:t,value:s,onChange:n}){const[a,y]=l.useState(!1),[o,r]=l.useState(""),[i,g]=l.useState([]),[d,b]=l.useState(!1),p=l.useRef(null),w=t.props||{},M=w.placeholder||t.label||"Following Post",_=w.post,x=t.icon||"",k=c=>{const E=c.target.value;r(E),E.length>=2?(b(!0),setTimeout(()=>{g([]),b(!1)},300)):g([])},N=(c,E)=>{n({id:c,title:E}),y(!1),r("")},C=c=>{c.preventDefault(),y(!a)};l.useEffect(()=>{const c=E=>{p.current&&!p.current.contains(E.target)&&y(!1)};return a&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[a]);let L=null;if(s!==void 0){const c=s;c===null?L=null:typeof c=="number"?L=c:typeof c=="object"&&c?.id&&(L=c.id)}else t.value!==null&&t.value!==void 0&&(L=typeof t.value=="number"?t.value:Number(t.value));const R=L!==null&&!isNaN(L)&&L>0;let f=M;if(R){const c=s;c&&typeof c=="object"&&c.title?f=c.title:_?.title&&(f=_.title)}const{style:v,className:u}=J(e,"ts-form-group"),h=ne(e);return React.createElement("div",{className:u,style:v,ref:p},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter ts-popup-target ${R?"ts-filled":""}`,onClick:C,onMouseDown:c=>c.preventDefault(),role:"button",tabIndex:0},x&&React.createElement("span",{dangerouslySetInnerHTML:{__html:x}}),React.createElement("div",{className:"ts-filter-text"},f),React.createElement("div",{className:"ts-down-icon"})),a&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:h.className,style:h.style},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,se.search),React.createElement("input",{type:"text",className:"inline-input",value:o,onChange:k,placeholder:"Search posts..."}))),d?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):i.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},i.map(c=>React.createElement("li",{key:c.id},React.createElement("a",{href:"#",className:"flexify",onClick:E=>{E.preventDefault(),N(c.id,c.title)}},React.createElement("span",null,c.title)))))):o.length>=2?React.createElement("div",{className:"ts-empty-user-list"},React.createElement("span",null,"No posts found")):null))))}function gt({config:e,filterData:t,value:s,onChange:n}){const a=s===!0||s==="true"||s==="1",y=i=>{i.preventDefault(),n(!a)},{style:o,className:r}=J(e,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:r,style:o},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("label",{className:`onoffswitch ts-${a?"on":"off"}`,onClick:y},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:a,readOnly:!0}),React.createElement("span",{className:"onoffswitch-trigger"})))}function wt({config:e,filterData:t}){const s=t.props?.description||"",{style:n,className:a}=J(e,"ts-form-group ui-heading");return React.createElement("div",{className:a,style:n},React.createElement("label",null,e.label||t.label,s&&React.createElement("small",null,s)))}function Rt({postTypes:e,currentPostType:t,onChange:s,blockId:n,style:a}){const y=n?`voxel-popup-${n}`:"",[o,r]=l.useState(!1),i=l.useRef(null),g=l.useCallback(x=>{s(x),r(!1)},[s]),d=l.useCallback(()=>{r(!0)},[]),b=e.find(x=>x.key===t),p=b?.label||"Select type",w=!!t,M=b?.icon||"",_=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},e.map(x=>{const k=t===x.key;return React.createElement("li",{key:x.key},React.createElement("a",{href:"#",className:"flexify",onClick:N=>{N.preventDefault(),g(x.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:k,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,x.label),React.createElement("div",{className:"ts-term-icon ts-pull-right"},x.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:x.icon}}))))})));return React.createElement("div",{className:"ts-form-group choose-cpt-filter",style:a},React.createElement("label",null,"Post type"),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${w?"ts-filled":""}`,onClick:d,onMouseDown:x=>x.preventDefault(),role:"button",tabIndex:0},M&&React.createElement("span",{dangerouslySetInnerHTML:{__html:M}}),React.createElement("div",{className:"ts-filter-text"},p),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ee,{isOpen:o,target:i,title:"",icon:M,saveLabel:"Save",showSave:!1,showClear:!1,onSave:()=>r(!1),onClose:()=>r(!1),className:`hide-head ${y}`.trim()},_()))}const Ct={"common:is_empty":(e,t)=>t==null||t==="","common:is_not_empty":(e,t)=>t!=null&&t!=="","text:equals":(e,t)=>t===e.value,"text:not_equals":(e,t)=>t!==e.value,"text:contains":(e,t)=>typeof t!="string"||!e.value?!1:new RegExp(e.value,"i").test(t),"taxonomy:contains":(e,t)=>typeof t!="string"||!e.value?!1:t.split(",").includes(e.value),"taxonomy:not_contains":(e,t)=>typeof t!="string"||!e.value?!0:!t.split(",").includes(e.value),"number:equals":(e,t)=>{const s=parseFloat(String(t)),n=parseFloat(e.value||"0");return s===n},"number:not_equals":(e,t)=>{const s=parseFloat(String(t)),n=parseFloat(e.value||"0");return s!==n},"number:gt":(e,t)=>{const s=parseFloat(String(t)),n=parseFloat(e.value||"0");return s>n},"number:gte":(e,t)=>{const s=parseFloat(String(t)),n=parseFloat(e.value||"0");return s>=n},"number:lt":(e,t)=>{const s=parseFloat(String(t)),n=parseFloat(e.value||"0");return s<n},"number:lte":(e,t)=>{const s=parseFloat(String(t)),n=parseFloat(e.value||"0");return s<=n}};function St(e,t,s){const n=Ct[e.type];if(!n)return console.warn(`[filterConditions] Unknown condition type: ${e.type}`),!1;let a=t;return s==="order-by"&&typeof t=="string"&&t.length>0&&(a=t.split("(")[0]),n(e,a)}function Nt(e,t="show",s,n){if(!e||e.length===0)return!0;let a=!1;return e.forEach(y=>{if(!y.length)return;let o=!0;y.forEach(r=>{const i=s[r.source],d=n[r.source]?.type;St(r,i,d)||(o=!1)}),o&&(a=!0)}),t==="hide"?!a:a}function Tt(e,t,s){return Nt(e.conditions,e.conditions_behavior||"show",t,s)}function xt(){const e=()=>{if(typeof window>"u")return"desktop";const n=window.innerWidth;return n<=767?"mobile":n<=1024?"tablet":"desktop"},[t,s]=l.useState(e);return l.useEffect(()=>{const n=()=>{s(e())};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function kt({attributes:e,postTypes:t,context:s,editorDeviceType:n,onSubmit:a,onPostTypeChange:y,onFilterChange:o}){l.useRef(null);const r=l.useRef(null),{state:i,setCurrentPostType:g,setFilterValue:d,togglePortal:b,submit:p,clearAll:w,narrowedValues:M,narrowingFilters:_}=ze({attributes:e,postTypes:t,context:s,onSubmit:a,onPostTypeChange:y,onFilterChange:o}),[x,k]=l.useState(""),[N,C]=l.useState("");l.useEffect(()=>{const m=async()=>{const T=e.searchButtonText??"";if(Ce(T)){const U=Ie(T),K=await Fe(U);k(K)}else k(T)},S=async()=>{const T=e.resetButtonText??"Reset";if(Ce(T)){const U=Ie(T),K=await Fe(U);C(K)}else C(T)};m(),S()},[e.searchButtonText,e.resetButtonText]),l.useEffect(()=>{if(!i.portalActive)return;const m=S=>{S.key==="Escape"&&b()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[i.portalActive,b]),l.useEffect(()=>{if(!i.portalActive)return;const m=T=>{const U=T.target;r.current?.contains(U)||s==="editor"&&(U.closest(".interface-interface-skeleton__sidebar")||U.closest(".edit-post-sidebar")||U.closest(".block-editor-block-inspector")||U.closest(".components-popover")||U.closest(".components-modal"))||b()},S=requestAnimationFrame(()=>{document.addEventListener("mousedown",m)});return()=>{cancelAnimationFrame(S),document.removeEventListener("mousedown",m)}},[i.portalActive,b,s]),l.useEffect(()=>{if(s!=="frontend")return;const m=S=>{const T=S;T.detail?.searchFormId&&T.detail.searchFormId!==e.blockId||w()};return window.addEventListener("voxel-search-clear",m),()=>window.removeEventListener("voxel-search-clear",m)},[s,e.blockId,w]);const L=t.find(m=>m.key===i.currentPostType),R=e.filterLists?.[i.currentPostType]||[],f=m=>{p()},v=(m=!1)=>{w(m)},u={};L?.filters?.forEach(m=>{u[m.key]=m});const h=m=>{if(!(s==="frontend"?Qe(m):!0))return null;const T=m;if(s==="frontend"&&T.conditions&&!Tt(T,i.filterValues,u))return null;const U=L?.filters?.find(te=>te.key===m.filterKey);if(!U)return null;const K={...U,value:m.defaultValueEnabled&&m.defaultValue!==void 0?m.defaultValue:U.value},Z={config:m,filterData:K,value:i.filterValues[m.filterKey],onChange:te=>d(m.filterKey,te),narrowedValues:M,isNarrowing:_,blockId:e.blockId,context:s};switch(U.type){case"keywords":return React.createElement(Xe,{key:m.id,...Z});case"range":return React.createElement(et,{key:m.id,...Z});case"stepper":return React.createElement(st,{key:m.id,...Z});case"terms":return React.createElement(lt,{key:m.id,...Z});case"location":return React.createElement(ot,{key:m.id,...Z});case"availability":return React.createElement(it,{key:m.id,...Z});case"date":return React.createElement(dt,{key:m.id,...Z});case"recurring-date":return React.createElement(pt,{key:m.id,...Z});case"open-now":return React.createElement(mt,{key:m.id,...Z});case"order-by":return React.createElement(ft,{key:m.id,...Z});case"post-status":return React.createElement(ht,{key:m.id,...Z});case"user":return React.createElement(Et,{key:m.id,...Z});case"relations":return React.createElement(bt,{key:m.id,...Z});case"following":return React.createElement(_e,{key:m.id,...Z});case"followed-by":return React.createElement(_e,{key:m.id,...Z});case"following-user":return React.createElement(_e,{key:m.id,...Z});case"following-post":return React.createElement(vt,{key:m.id,...Z});case"switcher":return React.createElement(gt,{key:m.id,...Z});case"ui-heading":return React.createElement(wt,{key:m.id,...Z});default:return null}},c=(m=!0)=>React.createElement("div",{className:"ts-filter-wrapper flexify"},e.showPostTypeFilter&&t.length>1&&React.createElement(Rt,{postTypes:t,currentPostType:i.currentPostType,onChange:g,style:V()}),R.map(S=>h(S)),m&&e.showSearchButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-submit",id:"sf_submit",style:Q("search")},React.createElement("button",{type:"button",onClick:()=>f(),className:`ts-btn ts-btn-2 ts-btn-large ts-search-btn ${i.loading&&!i.resetting?"ts-loading-btn":""}`},i.loading&&!i.resetting&&React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{className:"ts-loader"})),Ne(e.searchButtonIcon,se.search),x&&x)),m&&e.showResetButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-reset",style:Q("reset")},React.createElement("a",{href:"#",onClick:S=>{S.preventDefault(),v(!1)},className:"ts-filter",role:"button"},Ne(e.resetButtonIcon,se.reload),N&&React.createElement("div",{className:"ts-filter-text"},N)))),E=xt(),I=s==="editor"&&n?n:E,A=I==="desktop"&&(e.mfSwitcherDesktop??!1)||I==="tablet"&&(e.mfSwitcherTablet??!1)||I==="mobile"&&(e.mfSwitcherMobile??!1),F=()=>I==="desktop"?e.mfSwitcherDesktopDefault??"feed":I==="tablet"?e.mfSwitcherTabletDefault??"feed":e.mfSwitcherMobileDefault??"feed",[q,P]=l.useState(F);l.useEffect(()=>{P(F())},[I,e.mfSwitcherDesktopDefault,e.mfSwitcherTabletDefault,e.mfSwitcherMobileDefault]);const D=()=>{P("feed");const m=I,S=document.getElementById(e.postToMapId||""),T=document.getElementById(e.postToFeedId||"");S&&S.classList.add(`vx-hidden-${m}`),T&&T.classList.remove(`vx-hidden-${m}`)},B=()=>{P("map");const m=I,S=document.getElementById(e.postToMapId||""),T=document.getElementById(e.postToFeedId||"");S&&S.classList.remove(`vx-hidden-${m}`),T&&T.classList.add(`vx-hidden-${m}`)},H=()=>{if(!A)return null;const m=[e.mfSwitcherDesktop?"":"vx-hidden-desktop",e.mfSwitcherTablet?"":"vx-hidden-tablet",e.mfSwitcherMobile?"":"vx-hidden-mobile"].filter(Boolean).join(" "),S=React.createElement("div",{className:`ts-switcher-btn ${m}`},React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ${q==="feed"?`vx-hidden-${I}`:""}`,onClick:T=>{T.preventDefault(),s!=="editor"&&D()},role:"button"},se.grid,"List view"),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ${q==="map"?`vx-hidden-${I}`:""}`,onClick:T=>{T.preventDefault(),s!=="editor"&&B()},role:"button"},se.marker,"Map view"));return s==="editor"?S:we.createPortal(React.createElement("div",{className:`voxel-fse-search-form-${e.blockId}`,"data-voxel-id":e.blockId},S),document.body)},Y=I==="desktop"&&(e.formToggleDesktop??!1)||I==="tablet"&&(e.formToggleTablet??!0)||I==="mobile"&&(e.formToggleMobile??!0),X=Y,O=!Y,G={postTypes:t.map(m=>({key:m.key,label:m.label,filters:m.filters})),currentPostType:i.currentPostType,filterLists:e.filterLists||{},portalMode:e.portalMode||{desktop:!1,tablet:!1,mobile:!1},showPostTypeFilter:e.showPostTypeFilter??!0,showSearchButton:e.showSearchButton??!0,showResetButton:e.showResetButton??!1,searchButtonText:e.searchButtonText||"",resetButtonText:e.resetButtonText||"",formToggleDesktop:e.formToggleDesktop??!1,formToggleTablet:e.formToggleTablet??!0,formToggleMobile:e.formToggleMobile??!0,searchButtonWidth:e.searchButtonWidth,searchButtonWidth_tablet:e.searchButtonWidth_tablet,searchButtonWidth_mobile:e.searchButtonWidth_mobile,searchButtonWidthUnit:e.searchButtonWidthUnit||"%",resetButtonWidth:e.resetButtonWidth,resetButtonWidth_tablet:e.resetButtonWidth_tablet,resetButtonWidth_mobile:e.resetButtonWidth_mobile,resetButtonWidthUnit:e.resetButtonWidthUnit||"%"},Q=m=>{const S=m==="search"?e.searchButtonWidthUnit||"%":e.resetButtonWidthUnit||"%";let T;return m==="search"?I==="mobile"?T=e.searchButtonWidth_mobile??e.searchButtonWidth_tablet??e.searchButtonWidth:I==="tablet"?T=e.searchButtonWidth_tablet??e.searchButtonWidth:T=e.searchButtonWidth:I==="mobile"?T=e.resetButtonWidth_mobile??e.resetButtonWidth_tablet??e.resetButtonWidth:I==="tablet"?T=e.resetButtonWidth_tablet??e.resetButtonWidth:T=e.resetButtonWidth,T!==void 0?{width:`${T}${S}`,flexGrow:0,flexShrink:0}:{}},V=()=>{let m;return I==="mobile"?m=e.postTypeFilterWidth_mobile??e.postTypeFilterWidth_tablet??e.postTypeFilterWidth:I==="tablet"?m=e.postTypeFilterWidth_tablet??e.postTypeFilterWidth:m=e.postTypeFilterWidth,m!==void 0?{width:`${m}%`,flexGrow:0,flexShrink:0}:{}};return React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form ts-search-widget","data-v-app":""},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(G)}}),X&&React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),b()},onMouseDown:m=>m.preventDefault(),className:`ts-filter-toggle ts-btn ts-btn-1 ${i.activeFilterCount>0?"ts-filled":""}`,role:"button","aria-expanded":i.portalActive},se.filterslider,React.createElement("div",{className:"ts-toggle-text"},"Filter results"),i.activeFilterCount>0&&React.createElement("span",{className:"ts-filter-count"},i.activeFilterCount))),React.createElement("form",{method:"GET",onSubmit:m=>(m.preventDefault(),!1)},O&&React.createElement("div",{className:"ts-inline-filters"},c())),React.createElement("div",{className:"hidden"},React.createElement("div",{className:"ts-search-portal"}))),i.portalActive&&we.createPortal(React.createElement("div",{className:`ts-search-portal vx-popup elementor voxel-fse-search-form-${e.blockId}`,"data-voxel-id":e.blockId},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form ts-search-widget no-render elementor-element"},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:r},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},c())),React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),b()},className:"ts-icon-btn",role:"button","aria-label":"Close"},Ne(e.closeIcon,se.close))),React.createElement("li",{className:"flexify hide-d"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),v(!0)},className:"ts-icon-btn",role:"button"},se.reload)),React.createElement("li",{className:"flexify hide-m"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),v(!0)},className:"ts-btn ts-btn-1",role:"button"},"Clear")),React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),f(),b()},className:"ts-btn ts-btn-2",role:"button"},"Search"))))))))),document.body),H())}const Le=new Map;function _t(){return Re()}function ue(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}function re(e){return e==="true"}function Lt(e){const t=e.dataset,s=n=>{if(!n||n==="")return;const a=Number(n);return isNaN(a)?void 0:a};return{blockId:e.id||"",postTypes:ue(t.postTypes,[]),selectedPostType:"",showPostTypeFilter:re(t.showPostTypeFilter),postTypeFilterWidth:s(t.postTypeFilterWidth),postTypeFilterWidth_tablet:s(t.postTypeFilterWidthTablet),postTypeFilterWidth_mobile:s(t.postTypeFilterWidthMobile),filterLists:ue(t.filterLists,{}),onSubmit:t.onSubmit||"feed",postToFeedId:t.postToFeedId||"",postToMapId:t.postToMapId||"",searchOn:t.searchOn||"submit",showSearchButton:re(t.showSearchButton),searchButtonText:t.searchButtonText??"",searchButtonIcon:ue(t.searchButtonIcon,{library:"",value:""}),searchButtonWidth:s(t.searchButtonWidth),searchButtonWidth_tablet:s(t.searchButtonWidthTablet),searchButtonWidth_mobile:s(t.searchButtonWidthMobile),searchButtonWidthUnit:t.searchButtonWidthUnit||"%",showResetButton:re(t.showResetButton),resetButtonText:t.resetButtonText??"",resetButtonIcon:ue(t.resetButtonIcon,{library:"",value:""}),resetButtonWidth:s(t.resetButtonWidth),resetButtonWidth_tablet:s(t.resetButtonWidthTablet),resetButtonWidth_mobile:s(t.resetButtonWidthMobile),resetButtonWidthUnit:t.resetButtonWidthUnit||"%",voxelIntegration:re(t.voxelIntegration),adaptiveFiltering:re(t.adaptiveFiltering),portalMode:ue(t.portalMode,{desktop:!1,tablet:!0,mobile:!0}),formToggleDesktop:re(t.formToggleDesktop),formToggleTablet:re(t.formToggleTablet),formToggleMobile:re(t.formToggleMobile),toggleText:t.toggleText||"Filter results",toggleIcon:ue(t.toggleIcon,{library:"",value:""})}}async function Mt(e,t){if(!e||e.length===0)return[];const n=`${_t()}voxel-fse/v1/search-form/frontend-config?post_types=${encodeURIComponent(e.join(","))}`;try{const a={};t&&Object.entries(t).forEach(([i,g])=>{Array.isArray(g)&&(a[i]={},g.forEach(d=>{d.filterKey&&(a[i][d.filterKey]={defaultValueEnabled:d.defaultValueEnabled,defaultValue:d.defaultValue,resetValue:d.resetValue})}))});const y=Object.keys(a).length>0,o=await fetch(n,{method:y?"POST":"GET",headers:y?{"Content-Type":"application/json"}:void 0,body:y?JSON.stringify({filter_configs:a}):void 0});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(a){return console.error("Failed to fetch post types:",a),[]}}function It(e){const t=e,s=(r,i)=>typeof r=="boolean"?r:r==="true"?!0:r==="false"?!1:i,n=r=>{if(r&&typeof r=="object"){const i=r;return{desktop:s(i.desktop,!1),tablet:s(i.tablet,!0),mobile:s(i.mobile,!0)}}return{desktop:!1,tablet:!0,mobile:!0}},a=r=>r&&typeof r=="object"?r:{library:"",value:""},o=(t.postTypes??t.post_types??[]).map(r=>typeof r=="string"?r:r&&typeof r=="object"&&"key"in r&&r.key||"").filter(Boolean);return{blockId:t.blockId??t.block_id??"",postTypes:o,selectedPostType:o[0]||"",showPostTypeFilter:s(t.showPostTypeFilter??t.show_post_type_filter,!0),filterLists:t.filterLists??t.filter_lists??{},onSubmit:t.onSubmit??t.on_submit??"feed",postToFeedId:t.postToFeedId??t.post_to_feed_id??"",postToMapId:t.postToMapId??t.post_to_map_id??"",searchOn:t.searchOn??t.search_on??"submit",updateUrl:s(t.updateUrl??t.update_url,!0),submitToPageId:t.submitToPageId??t.submit_to_page_id,mapAdditionalMarkers:t.mapAdditionalMarkers??t.map_additional_markers??0,mapEnableClusters:s(t.mapEnableClusters??t.map_enable_clusters,!0),showSearchButton:s(t.showSearchButton??t.show_search_button,!0),searchButtonText:t.searchButtonText??t.search_button_text??"",searchButtonIcon:a(t.searchButtonIcon??t.search_button_icon),searchButtonWidth:t.searchButtonWidth,searchButtonWidth_tablet:t.searchButtonWidth_tablet??t.search_button_width_tablet,searchButtonWidth_mobile:t.searchButtonWidth_mobile??t.search_button_width_mobile,searchButtonWidthUnit:t.searchButtonWidthUnit??t.search_button_width_unit??"%",showResetButton:s(t.showResetButton??t.show_reset_button,!1),resetButtonText:t.resetButtonText??t.reset_button_text??"",resetButtonIcon:a(t.resetButtonIcon??t.reset_button_icon),resetButtonWidth:t.resetButtonWidth,resetButtonWidth_tablet:t.resetButtonWidth_tablet??t.reset_button_width_tablet,resetButtonWidth_mobile:t.resetButtonWidth_mobile??t.reset_button_width_mobile,resetButtonWidthUnit:t.resetButtonWidthUnit??t.reset_button_width_unit??"%",voxelIntegration:s(t.voxelIntegration??t.voxel_integration,!0),adaptiveFiltering:s(t.adaptiveFiltering??t.adaptive_filtering,!1),portalMode:n(t.portalMode??t.portal_mode),formToggleDesktop:s(t.formToggleDesktop??t.form_toggle_desktop,!1),formToggleTablet:s(t.formToggleTablet??t.form_toggle_tablet,!0),formToggleMobile:s(t.formToggleMobile??t.form_toggle_mobile,!0),toggleText:t.toggleText??t.toggle_text??"Filter results",toggleIcon:a(t.toggleIcon??t.toggle_icon),postTypeFilterWidth:t.postTypeFilterWidth,postTypeFilterWidth_tablet:t.postTypeFilterWidth_tablet??t.post_type_filter_width_tablet,postTypeFilterWidth_mobile:t.postTypeFilterWidth_mobile??t.post_type_filter_width_mobile,mfSwitcherDesktop:s(t.mfSwitcherDesktop??t.mf_switcher_desktop,!1),mfSwitcherDesktopDefault:t.mfSwitcherDesktopDefault??t.mf_switcher_desktop_default??"feed",mfSwitcherTablet:s(t.mfSwitcherTablet??t.mf_switcher_tablet,!1),mfSwitcherTabletDefault:t.mfSwitcherTabletDefault??t.mf_switcher_tablet_default??"feed",mfSwitcherMobile:s(t.mfSwitcherMobile??t.mf_switcher_mobile,!1),mfSwitcherMobileDefault:t.mfSwitcherMobileDefault??t.mf_switcher_mobile_default??"feed"}}function Ft(e){const t=e.querySelector("script.vxconfig");if(t&&t.textContent)try{const s=JSON.parse(t.textContent),n=e.dataset,a={...s,blockId:s.blockId||e.id||"",onSubmit:n.onSubmit||s.onSubmit||"refresh",postToFeedId:n.postToFeedId||s.postToFeedId||"",postToMapId:n.postToMapId||s.postToMapId||""};return It(a)}catch(s){console.error("Failed to parse vxconfig:",s)}return Lt(e)}function Vt({attributes:e,onSubmit:t}){const[s,n]=l.useState([]),[a,y]=l.useState(!0),[o,r]=l.useState(null),i=l.useRef(!1),g=l.useCallback(()=>{if(i.current)return;const b=e.postTypes?.[0]||"";if(!b||a||s.length===0)return;const p={},w=s.find(M=>M.key===b);w?.filters&&w.filters.forEach(M=>{M.value!==null&&M.value!==void 0&&(p[M.key]=M.value)}),t({postType:b,...p}),i.current=!0},[e.postTypes,t,a,s]);if(l.useEffect(()=>{let b=!1;async function p(){y(!0),r(null);try{const w=await Mt(e.postTypes||[],e.filterLists);b||n(w)}catch(w){b||r(w instanceof Error?w.message:"Failed to load")}finally{b||y(!1)}}return p(),()=>{b=!0}},[e.postTypes,e.filterLists]),l.useEffect(()=>{const b=e.blockId;if(b)return Le.set(b,g),()=>{Le.delete(b)}},[e.blockId,g]),a)return React.createElement("div",{className:"ts-form ts-search-widget"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"}))));if(o)return React.createElement("div",{className:"ts-form ts-search-widget voxel-fse-error"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("span",null,"Error loading search form")));const d=s.filter(b=>e.postTypes?.includes(b.key));return React.createElement(kt,{attributes:e,postTypes:d,context:"frontend",onSubmit:t})}function ge(){document.querySelectorAll(".voxel-fse-search-form").forEach(t=>{const s=t.dataset;if(s.hydrated==="true")return;const n=Ft(t),a=o=>{const i=o.postType||n.postTypes?.[0]||"",{postType:g,...d}=o;switch(n.onSubmit){case"feed":if(n.postToFeedId){const b=new CustomEvent("voxel-search-submit",{detail:{targetId:n.postToFeedId,postType:i,filters:d,hasMapWidget:!!n.postToMapId,mapAdditionalMarkers:n.mapAdditionalMarkers??0},bubbles:!0});if(window.dispatchEvent(b),n.postToMapId){const p=new CustomEvent("voxel-search-submit",{detail:{targetId:n.postToMapId,postType:i,filters:d,mapAdditionalMarkers:n.mapAdditionalMarkers??0,mapEnableClusters:n.mapEnableClusters??!0},bubbles:!0});window.dispatchEvent(p)}}else console.warn("[search-form] No postToFeedId set, cannot dispatch to Post Feed");break;case"page":n.submitToPageId?Pt(o,n):De(o,n);break;default:De(o,n);break}};t.innerHTML="",s.hydrated="true",He.createRoot(t).render(React.createElement(Vt,{attributes:n,onSubmit:a}))})}function De(e,t){const s=e,n=new URL(window.location.href),a=[];n.searchParams.forEach((o,r)=>{(r.startsWith("filter_")||r==="post_type")&&a.push(r),r==="type"&&a.push(r)}),a.forEach(o=>n.searchParams.delete(o));const y=s.postType||t.postTypes?.[0];y&&typeof y=="string"&&n.searchParams.set("type",y),Object.entries(e).forEach(([o,r])=>{o!=="postType"&&(r==null||r===""||(typeof r=="object"?n.searchParams.set(o,JSON.stringify(r)):n.searchParams.set(o,String(r))))}),window.location.href=n.toString()}function Pt(e,t){const s=e,n=window.voxelFseSiteUrl||window.location.origin,a=new URL(n);a.searchParams.set("p",String(t.submitToPageId));const y=s.postType||t.postTypes?.[0];y&&typeof y=="string"&&a.searchParams.set("type",y),Object.entries(e).forEach(([o,r])=>{o!=="postType"&&(r==null||r===""||(typeof r=="object"?a.searchParams.set(o,JSON.stringify(r)):a.searchParams.set(o,String(r))))}),window.location.href=a.toString()}function Bt(e){const t=e;if(!t.detail?.searchFormId)return;const{searchFormId:s}=t.detail,n=Le.get(s);n&&n()}window.addEventListener("voxel-fse:post-feed-ready",Bt),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ge):ge(),window.addEventListener("turbo:load",ge),window.addEventListener("pjax:complete",ge)})(ReactDOM,React,ReactDOM,wp.apiFetch);
