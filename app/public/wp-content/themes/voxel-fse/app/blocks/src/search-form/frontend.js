(function(Gt,a,et,Xt){"use strict";function tt(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const t=document.querySelector('link[rel="https://api.w.org/"]');if(t){const e=t.getAttribute("href");if(e)return e}}if(typeof window<"u"&&window.location?.origin){const t=window.location.pathname.split("/").filter(Boolean),e=["wp-admin","wp-content","wp-includes","wp-json"];return t.length>0&&!e.includes(t[0])?window.location.origin+"/"+t[0]+"/wp-json/":window.location.origin+"/wp-json/"}return"/wp-json/"}function Yt({attributes:t,postTypes:e,context:r,onSubmit:s,onPostTypeChange:l,onFilterChange:p}){const[c,i]=a.useState(()=>({currentPostType:t.postTypes[0]||"",filterValues:{},activeFilterCount:0,portalActive:!1,loading:!1,resetting:!1,narrowedValues:null,narrowingFilters:!1,lastModifiedFilter:null})),d=a.useRef(!1),m=a.useRef(null),f=a.useMemo(()=>e.find(E=>E.key===c.currentPostType),[e,c.currentPostType]),w=a.useMemo(()=>t.filterLists[c.currentPostType]||[],[t.filterLists,c.currentPostType]);a.useEffect(()=>{t.postTypes.length>0&&!t.postTypes.includes(c.currentPostType)&&i(E=>({...E,currentPostType:t.postTypes[0],filterValues:{}}))},[t.postTypes,c.currentPostType]),a.useEffect(()=>{if(!f?.filters)return;const E={};let S=!1;f.filters.forEach(P=>{P.key in c.filterValues||P.value!==null&&P.value!==void 0&&(E[P.key]=P.value,S=!0)}),S&&i(P=>({...P,filterValues:{...P.filterValues,...E}}))},[f?.filters,c.currentPostType]),a.useEffect(()=>{if(r!=="editor"||c.resetting||!f?.filters)return;(t.filterLists?.[c.currentPostType]||[]).forEach(S=>{const P=c.filterValues[S.filterKey];S.defaultValueEnabled&&S.defaultValue!==void 0&&S.defaultValue!==""&&S.defaultValue!==null?P!==S.defaultValue&&P!==null&&i(b=>({...b,filterValues:{...b.filterValues,[S.filterKey]:S.defaultValue}})):P!=null&&i(b=>({...b,filterValues:{...b.filterValues,[S.filterKey]:void 0}}))})},[r,c.currentPostType,t.filterLists,c.resetting,f?.filters]),a.useEffect(()=>{const E=Object.values(c.filterValues).filter(S=>S!=null&&S!==""&&S!==!1).length;i(S=>({...S,activeFilterCount:E}))},[c.filterValues]);const v=a.useCallback(E=>{i(S=>S.currentPostType===E?S:{...S,currentPostType:E,filterValues:{}}),r==="editor"&&l&&l(E),r==="editor"&&p&&p({}),r==="frontend"&&s&&(t.updateUrl!==!1&&bt({},E),setTimeout(()=>{s({postType:E})},50))},[r,s,l,p,t.updateUrl]),g=a.useCallback((E,S)=>{i(P=>{const b={...P.filterValues,[E]:S};return r==="editor"&&p&&setTimeout(()=>p(b),0),{...P,filterValues:b,lastModifiedFilter:E}})},[r,p]),D=a.useCallback((E=!1)=>{const S={};f?.filters?.forEach(b=>{b.resets_to!==null&&b.resets_to!==void 0?S[b.key]=b.resets_to:S[b.key]=null});const P=Object.values(S).filter(b=>b!=null&&b!=="").length;if(i(b=>({...b,filterValues:S,activeFilterCount:P,resetting:!0,portalActive:E?!1:b.portalActive,narrowedValues:null,lastModifiedFilter:null})),setTimeout(()=>{i(b=>({...b,resetting:!1}))},100),r==="editor"&&p&&p(S),r==="frontend"){t.updateUrl!==!1&&Qt(c.currentPostType);const b=new CustomEvent("voxel-search-clear",{detail:{postType:c.currentPostType}});window.dispatchEvent(b)}},[r,c.currentPostType,p,t.updateUrl,f?.filters]),T=a.useCallback(()=>{i(E=>({...E,portalActive:!E.portalActive}))},[]),_=a.useCallback(async()=>{if(!t.adaptiveFiltering||r!=="frontend")return;if(d.current){d.current=!1;return}const E=w.filter(b=>b.type==="range"||b.type==="terms");if(E.length===0)return;const S=new URLSearchParams;S.set("type",c.currentPostType),c.lastModifiedFilter&&S.set("_last_modified",c.lastModifiedFilter),Object.entries(c.filterValues).forEach(([b,k])=>{k!=null&&k!==""&&(Array.isArray(k)?S.set(b,k.join(",")):typeof k=="object"?S.set(b,JSON.stringify(k)):S.set(b,String(k)))});const P=[];E.forEach(b=>{if(b.type==="terms"){const k=f?.filters?.find(C=>C.key===b.filterKey);if(k?.props?.terms){const C=R=>{R.forEach(h=>{h.term_taxonomy_id&&P.push(h.term_taxonomy_id),h.children&&Array.isArray(h.children)&&C(h.children)})};C(k.props.terms)}}}),i(b=>({...b,narrowingFilters:!0}));try{const b=tt(),k=await fetch(`${b}voxel-fse/v1/search-form/narrow-filters?${S.toString()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({term_taxonomy_ids:P})});if(!k.ok)throw new Error(`HTTP ${k.status}`);const C=await k.json();C.success&&C.data?(i(R=>({...R,narrowedValues:{ranges:C.data.ranges||{},terms:C.data.terms||{}},narrowingFilters:!1})),d.current=!0):i(R=>({...R,narrowingFilters:!1}))}catch(b){console.error("[useSearchForm] Adaptive filtering error:",b),i(k=>({...k,narrowingFilters:!1}))}},[t.adaptiveFiltering,r,w,c.currentPostType,c.filterValues,f]);a.useEffect(()=>{if(!(!t.adaptiveFiltering||r!=="frontend"))return m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{_()},300),()=>{m.current&&clearTimeout(m.current)}},[c.filterValues,t.adaptiveFiltering,r,_]);const B=a.useCallback((E,S)=>{i(P=>({...P,loading:!0})),s&&s({postType:S,...E}),r==="frontend"&&t.updateUrl!==!1&&bt(E,S),i(P=>({...P,loading:!1}))},[r,s,t.updateUrl]);a.useEffect(()=>{if(t.searchOn==="change"&&r==="frontend"){const E=setTimeout(()=>{B(c.filterValues,c.currentPostType)},300);return()=>{clearTimeout(E)}}},[c.filterValues,c.currentPostType,t.searchOn,r,B]);const L=a.useCallback(()=>{B(c.filterValues,c.currentPostType)},[B,c.filterValues,c.currentPostType]);return{state:c,setCurrentPostType:v,setFilterValue:g,clearAll:D,togglePortal:T,submit:L,currentPostTypeConfig:f,filterConfigs:w,narrowedValues:c.narrowedValues,narrowingFilters:c.narrowingFilters}}function Qt(t){const e=new URL(window.location.href),r=[];e.searchParams.forEach((s,l)=>{(l.startsWith("filter_")||l==="post_type")&&r.push(l),l==="type"&&!t&&r.push(l),l!=="type"&&l!=="page"&&l!=="pg"&&r.push(l)}),r.forEach(s=>e.searchParams.delete(s)),t&&e.searchParams.set("type",t),window.history.replaceState({},"",e.toString())}function $t(t,e){return Object.hasOwn(e,t)}function bt(t,e){const r=new URL(window.location.href),s=[];r.searchParams.forEach((l,p)=>{(p.startsWith("filter_")||p==="post_type")&&s.push(p),(p==="type"||$t(p,t))&&s.push(p)}),s.forEach(l=>r.searchParams.delete(l)),e&&r.searchParams.set("type",e),Object.entries(t).forEach(([l,p])=>{p!=null&&p!==""&&(Array.isArray(p)?r.searchParams.set(l,p.join(",")):typeof p=="object"?r.searchParams.set(l,JSON.stringify(p)):r.searchParams.set(l,String(p)))}),window.history.replaceState({},"",r.toString())}function rt(t){return typeof t=="string"&&t.includes("@tags()")}function Et(t){if(!rt(t))return t;const e=t.match(/@tags\(\)(.*?)@endtags\(\)/s);return e?e[1]:t}async function wt(t,e={}){try{return(await Xt({path:"/voxel-fse/v1/dynamic-data/render",method:"POST",data:{expression:t,context:e}})).rendered}catch(r){return console.error("Failed to render dynamic tag:",r),t}}function st(){return typeof document>"u"?!1:document.body.classList.contains("logged-in")}function er(){return typeof document>"u"?[]:Array.from(document.body.classList).filter(r=>r.startsWith("role-")||["administrator","editor","author","contributor","subscriber"].includes(r)).map(r=>r.replace("role-",""))}function tr(t){const e=t.filterKey;switch(e){case"user:logged_in":return st();case"user:logged_out":return!st();case"user:role":{if(!st())return!1;const r=er(),s=t.value||"";switch(t.operator){case"equals":return r.includes(s);case"not_equals":return!r.includes(s);default:return r.includes(s)}}default:return console.warn(`Unknown visibility rule type: ${e}`),!0}}function rr(t){return!t||t.length===0?!0:t.every(e=>tr(e))}function sr(t){const{rowVisibility:e="show",visibilityRules:r=[]}=t;if(!r||r.length===0)return!0;const s=rr(r);return e==="hide"?!s:s}function be({isOpen:t,target:e,title:r="",icon:s,saveLabel:l="Save",clearLabel:p="Clear",showClear:c=!0,showSave:i=!0,onSave:d,onClear:m,onClose:f,children:w,className:v="",popupStyle:g}){const D=a.useRef(null),T=a.useRef(null),[_,B]=a.useState({position:"absolute",top:"-9999px",left:"-9999px"}),L=a.useRef(""),E=a.useCallback((b=!1)=>{if(!T.current||!e.current||!D.current)return;const k=e.current,C=D.current,R=T.current,h=document.body.clientWidth,x=k.getBoundingClientRect(),H=k.offsetWidth,G={left:x.left+window.pageXOffset,top:x.top+window.pageYOffset},O=C.getBoundingClientRect(),Q=window.getComputedStyle(R),z=parseFloat(Q.minWidth)||0,J=R.querySelector(".pika-single");let j;if(J){const Y=J.classList.contains("is-range")||J.querySelectorAll(".pika-lendar").length>1||R.closest(".ts-booking-date-range")!==null;j=Math.max(Y?640:420,z)}else j=Math.max(x.width,z);const X=G.left+H/2,de=h/2;let fe;X>de+1?fe=G.left-j+H:fe=G.left;const K=window.innerHeight,ne=O.height;let oe=G.top+x.height;const W=x.bottom+ne>K,y=x.top-ne>=0;W&&y&&(oe=G.top-ne);const M={top:`${oe}px`,left:`${fe}px`,width:`${j}px`,position:"absolute"},I=JSON.stringify(M);I!==L.current&&(L.current=I,b?B(M):requestAnimationFrame(()=>B(M)))},[e]);if(a.useEffect(()=>{if(!t)return;const b=C=>{const R=C.target;if(T.current?.contains(R))return;const h=[".interface-interface-skeleton__sidebar",".block-editor-block-inspector",".components-popover",".components-modal__screen-overlay",".edit-post-sidebar"];for(const x of h)if(R.closest(x))return;f()},k=requestAnimationFrame(()=>{document.addEventListener("mousedown",b)});return()=>{cancelAnimationFrame(k),document.removeEventListener("mousedown",b)}},[t,f]),a.useEffect(()=>{if(!t)return;const b=k=>{k.key==="Escape"&&f()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[t,f]),a.useEffect(()=>{if(!t)return;E(!0);const b=()=>E();window.addEventListener("scroll",b,!0);const k=()=>E();window.addEventListener("resize",k,!0);let C=null;return T.current&&(C=new ResizeObserver(()=>E(!0)),C.observe(T.current)),()=>{window.removeEventListener("scroll",b,!0),window.removeEventListener("resize",k,!0),C?.disconnect()}},[t,E]),!t)return null;const S=()=>React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"currentColor"})),P=()=>React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"}));return et.createPortal(React.createElement("div",{className:`elementor vx-popup ${v}`.trim()},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form elementor-element",style:_,ref:D},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:T,style:g},r&&React.createElement("div",{className:"ts-popup-head flexify ts-sticky-top"},React.createElement("div",{className:"ts-popup-name flexify"},s&&React.createElement("span",{dangerouslySetInnerHTML:{__html:s}}),React.createElement("span",null,r)),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:b=>{b.preventDefault(),f()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(S,null))))),React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},w),i||c?React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:b=>{b.preventDefault(),f()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(S,null))),c&&m&&React.createElement("li",{className:"flexify hide-d",onClick:b=>{b.preventDefault(),m()}},React.createElement("a",{href:"#",className:"ts-icon-btn"},React.createElement(P,null))),c&&m&&React.createElement("li",{className:"flexify hide-m",onClick:b=>{b.preventDefault(),m()}},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1"},p)),i&&React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:b=>{b.preventDefault(),d()},className:"ts-btn ts-btn-2"},l)))):React.createElement("div",{className:"ts-popup-controller hide-d"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:b=>{b.preventDefault(),f()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(S,null)))))))))),document.body)}const Oe=({value:t,onChange:e,onSelect:r,pickerConfig:s,onPickerReady:l})=>{const p=a.useRef(null),c=a.useRef(null),i=a.useRef(null),d=a.useRef(e),m=a.useRef(r);return d.current=e,m.current=r,a.useEffect(()=>{if(!p.current||!c.current)return;const f=window.Pikaday;if(!f){console.error("Pikaday not loaded - window.Pikaday is undefined");return}const w=requestAnimationFrame(()=>{i.current=new f({field:c.current,container:p.current,bound:!1,firstDay:1,keyboardInput:!1,numberOfMonths:2,defaultDate:t||void 0,onSelect:v=>{d.current(v),m.current&&m.current(v)},...s}),l&&i.current&&l(i.current)});return()=>{cancelAnimationFrame(w),setTimeout(()=>{i.current?.destroy(),i.current=null},200)}},[]),a.useEffect(()=>{i.current&&(t&&i.current.setDate(t,!0),i.current.draw(!0))},[t]),a.createElement("div",{className:"ts-booking-date ts-booking-date-range ts-form-group",ref:p},a.createElement("input",{type:"hidden",ref:c}))};function nt(t,e,r){if(!t||!t.library||!t.value)return e??null;const{library:s,value:l}=t;return s==="icon"?React.createElement("i",{className:l,"aria-hidden":"true"}):s==="svg"?React.createElement("img",{src:l,alt:"",className:r,style:{width:"1em",height:"1em"}}):e??null}const Se={search:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z",fill:"#343C54"})),close:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M5.9545 5.95548C6.39384 5.51614 7.10616 5.51614 7.5455 5.95548L11.999 10.409L16.4524 5.95561C16.8918 5.51627 17.6041 5.51627 18.0434 5.95561C18.4827 6.39495 18.4827 7.10726 18.0434 7.5466L13.59 12L18.0434 16.4534C18.4827 16.8927 18.4827 17.605 18.0434 18.0444C17.6041 18.4837 16.8918 18.4837 16.4524 18.0444L11.999 13.591L7.5455 18.0445C7.10616 18.4839 6.39384 18.4839 5.9545 18.0445C5.51517 17.6052 5.51516 16.8929 5.9545 16.4535L10.408 12L5.9545 7.54647C5.51516 7.10713 5.51517 6.39482 5.9545 5.95548Z",fill:"#343C54"})),reload:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z",fill:"#343C54"}),React.createElement("path",{d:"M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z",fill:"#343C54"})),filterslider:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M8.89789 3.25C10.3318 3.25 11.5358 4.23471 11.8704 5.56481H20.3125C20.7267 5.56481 21.0625 5.90059 21.0625 6.31481C21.0625 6.72902 20.7267 7.06481 20.3125 7.06481H11.8705C11.536 8.3951 10.332 9.38 8.89789 9.38C7.46381 9.38 6.25976 8.3951 5.92527 7.06481H4.3125C3.89829 7.06481 3.5625 6.72902 3.5625 6.31481C3.5625 5.90059 3.89829 5.56481 4.3125 5.56481H5.92537C6.26 4.23471 7.46395 3.25 8.89789 3.25Z",fill:"#343C54"}),React.createElement("path",{d:"M12.737 12.7503H4.3125C3.89829 12.7503 3.5625 12.4145 3.5625 12.0003C3.5625 11.5861 3.89829 11.2503 4.3125 11.2503H12.7369C13.0714 9.91998 14.2754 8.93506 15.7095 8.93506C17.1436 8.93506 18.3477 9.91998 18.6822 11.2503H20.3125C20.7267 11.2503 21.0625 11.5861 21.0625 12.0003C21.0625 12.4145 20.7267 12.7503 20.3125 12.7503H18.682C18.3474 14.0804 17.1435 15.0651 15.7095 15.0651C14.2756 15.0651 13.0717 14.0804 12.737 12.7503Z",fill:"#343C54"}),React.createElement("path",{d:"M12.5932 16.9354C12.2587 15.605 11.0546 14.6201 9.62055 14.6201C8.18645 14.6201 6.9824 15.605 6.64792 16.9354H4.3125C3.89829 16.9354 3.5625 17.2711 3.5625 17.6854C3.5625 18.0996 3.89829 18.4354 4.3125 18.4354H6.64804C6.98268 19.7654 8.18662 20.7501 9.62055 20.7501C11.0545 20.7501 12.2584 19.7654 12.5931 18.4354H20.3125C20.7267 18.4354 21.0625 18.0996 21.0625 17.6854C21.0625 17.2711 20.7267 16.9354 20.3125 16.9354H12.5932Z",fill:"#343C54"})),marker:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C7.58172 2 4 5.58172 4 10C4 12.9646 5.43348 15.8125 7.5 18C9.16667 19.7708 11 21 12 21C13 21 14.8333 19.7708 16.5 18C18.5665 15.8125 20 12.9646 20 10C20 5.58172 16.4183 2 12 2ZM12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",fill:"#343C54"})),crosshairs:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12.5523 2 13 2.44772 13 3V4.06189C16.6187 4.51314 19.4869 7.38128 19.9381 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H19.9381C19.4869 16.6187 16.6187 19.4869 13 19.9381V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V19.9381C7.38128 19.4869 4.51314 16.6187 4.06189 13H3C2.44772 13 2 12.5523 2 12C2 11.4477 2.44772 11 3 11H4.06189C4.51314 7.38128 7.38128 4.51314 11 4.06189V3C11 2.44772 11.4477 2 12 2ZM6.07089 11C6.50618 8.48991 8.48991 6.50618 11 6.07089V8C11 8.55228 11.4477 9 12 9C12.5523 9 13 8.55228 13 8V6.07089C15.5101 6.50618 17.4938 8.48991 17.9291 11H16C15.4477 11 15 11.4477 15 12C15 12.5523 15.4477 13 16 13H17.9291C17.4938 15.5101 15.5101 17.4938 13 17.9291V16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16V17.9291C8.48991 17.4938 6.50618 15.5101 6.07089 13H8C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11H6.07089Z",fill:"#343C54"})),grid:React.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("rect",{x:"3",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"3",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"3",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"10",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"3",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"10",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}),React.createElement("rect",{x:"17",y:"17",width:"5",height:"5",rx:"1",fill:"currentColor"}))};function nr(t,e){const r={},s=[e];return t.width&&t.width>0&&(r.width=`${t.width}%`,r.flexGrow=0,r.flexShrink=0),t.hideFilter&&s.push("vx-hidden"),t.alignContent&&(r.justifyContent=t.alignContent),t.hideLabel&&s.push("hide-label"),{style:r,className:s.join(" ")}}function se(t,e){return nr(t,e)}function Ce(t){const e={},r=["ts-field-popup","triggers-blur"];return t.customPopupEnabled&&(t.popupMinWidth&&t.popupMinWidth>0&&(e.minWidth=`${t.popupMinWidth}px`),t.popupMaxWidth&&t.popupMaxWidth>0&&(e.maxWidth=`${t.popupMaxWidth}px`),t.popupMaxHeight&&t.popupMaxHeight>0&&(e.maxHeight=`${t.popupMaxHeight}px`),t.popupCenterPosition&&r.push("ts-popup-centered")),{style:e,className:r.join(" ")}}let St=!1;function at(){if(St)return!0;if(!window.Voxel?.mixins?.base)return!1;const t=window.Voxel.mixins.base;return t.mounted&&!t._originalMounted?(t._originalMounted=t.mounted,t.mounted=function(){try{const e=this.$root?.$options?.el||this.$el;if(e){const r=e.closest?.(".elementor-element");if(r)this.widget_id=r.dataset?.id||"";else{const l=e.closest?.("[data-block-id]");this.widget_id=l&&l.dataset?.blockId||""}const s=e.closest?.(".elementor");if(s)this.post_id=s.dataset?.elementorId||"";else{const l=document.body.className.match(/postid-(\d+)/);this.post_id=l?l[1]:""}}t._originalMounted&&t._originalMounted!==t.mounted&&t._originalMounted.call(this)}catch(e){console.warn("[VoxelShim] Error in patched mounted():",e),this.widget_id="",this.post_id=""}},St=!0,console.log("[VoxelShim] Successfully patched Voxel.mixins.base.mounted"),!0):!1}function Ct(){if(at())return;let t=0;const e=50,s=setInterval(()=>{if(t++,at()){clearInterval(s);return}t>=e&&(clearInterval(s),console.warn("[VoxelShim] Voxel.mixins.base not found after 5 seconds"))},100);typeof document<"u"&&document.addEventListener("voxel:ready",()=>{at(),clearInterval(s)},{once:!0})}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ct,{once:!0}):Ct()),Object.entries({mountains:{viewBox:"0 0 1000 100",paths:[{d:"M473,67.3c-203.9,88.3-263.1-34-320.3,0C66,119.1,0,59.7,0,59.7V0h1000v59.7 c0,0-62.1,26.1-94.9,29.3c-32.8,3.3-62.8-12.3-75.8-22.1C806,49.6,745.3,8.7,694.9,4.7S492.4,59,473,67.3z",opacity:.33},{d:"M734,67.3c-45.5,0-77.2-23.2-129.1-39.1c-28.6-8.7-150.3-10.1-254,39.1 s-91.7-34.4-149.2,0C115.7,118.3,0,39.8,0,39.8V0h1000v36.5c0,0-28.2-18.5-92.1-18.5C810.2,18.1,775.7,67.3,734,67.3z",opacity:.66},{d:"M766.1,28.9c-200-57.5-266,65.5-395.1,19.5C242,1.8,242,5.4,184.8,20.6C128,35.8,132.3,44.9,89.9,52.5C28.6,63.7,0,0,0,0 h1000c0,0-9.9,40.9-83.6,48.1S829.6,47,766.1,28.9z"}]},drops:{viewBox:"0 0 283.5 27.8",paths:[{d:"M0 0v1.4c.6.7 1.1 1.4 1.4 2 2 3.8 2.2 6.6 1.8 10.8-.3 3.3-2.4 9.4 0 12.3 1.7 2 3.7 1.4 4.6-.9 1.4-3.8-.7-8.2-.6-12 .1-3.7 3.2-5.5 6.9-4.9 4 .6 4.8 4 4.9 7.4.1 1.8-1.1 7 0 8.5.6.8 1.6 1.2 2.4.5 1.4-1.1.1-5.4.1-6.9.1-3.7.3-8.6 4.1-10.5 5-2.5 6.2 1.6 5.4 5.6-.4 1.7-1 9.2 2.9 6.3 1.5-1.1.7-3.5.5-4.9-.4-2.4-.4-4.3 1-6.5.9-1.4 2.4-3.1 4.2-3 2.4.1 2.7 2.2 4 3.7 1.5 1.8 1.8 2.2 3 .1 1.1-1.9 1.2-2.8 3.6-3.3 1.3-.3 4.8-1.4 5.9-.5 1.5 1.1.6 2.8.4 4.3-.2 1.1-.6 4 1.8 3.4 1.7-.4-.3-4.1.6-5.6 1.3-2.2 5.8-1.4 7 .5 1.3 2.1.5 5.8.1 8.1s-1.2 5-.6 7.4c1.3 5.1 4.4.9 4.3-2.4-.1-4.4-2-8.8-.5-13 .9-2.4 4.6-6.6 7.7-4.5 2.7 1.8.5 7.8.2 10.3-.2 1.7-.8 4.6.2 6.2.9 1.4 2 1.5 2.6-.3.5-1.5-.9-4.5-1-6.1-.2-1.7-.4-3.7.2-5.4 1.8-5.6 3.5 2.4 6.3.6 1.4-.9 4.3-9.4 6.1-3.1.6 2.2-1.3 7.8.7 8.9 4.2 2.3 1.5-7.1 2.2-8 3.1-4 4.7 3.8 6.1 4.1 3.1.7 2.8-7.9 8.1-4.5 1.7 1.1 2.9 3.3 3.2 5.2.4 2.2-1 4.5-.6 6.6 1 4.3 4.4 1.5 4.4-1.7 0-2.7-3-8.3 1.4-9.1 4.4-.9 7.3 3.5 7.8 6.9.3 2-1.5 10.9 1.3 11.3 4.1.6-3.2-15.7 4.8-15.8 4.7-.1 2.8 4.1 3.9 6.6 1 2.4 2.1 1 2.3-.8.3-1.9-.9-3.2 1.3-4.3 5.9-2.9 5.9 5.4 5.5 8.5-.3 2-1.7 8.4 2 8.1 6.9-.5-2.8-16.9 4.8-18.7 4.7-1.2 6.1 3.6 6.3 7.1.1 1.7-1.2 8.1.6 9.1 3.5 2 1.9-7 2-8.4.2-4 1.2-9.6 6.4-9.8 4.7-.2 3.2 4.6 2.7 7.5-.4 2.2 1.3 8.6 3.8 4.4 1.1-1.9-.3-4.1-.3-6 0-1.7.4-3.2 1.3-4.6 1-1.6 2.9-3.5 5.1-2.9 2.5.6 2.3 4.1 4.1 4.9 1.9.8 1.6-.9 2.3-2.1 1.2-2.1 2.1-2.1 4.4-2.4 1.4-.2 3.6-1.5 4.9-.5 2.3 1.7-.7 4.4.1 6.5.6 1.5 2.1 1.7 2.8.3.7-1.4-1.1-3.4-.3-4.8 1.4-2.5 6.2-1.2 7.2 1 2.3 4.8-3.3 12-.2 16.3 3 4.1 3.9-2.8 3.8-4.8-.4-4.3-2.1-8.9 0-13.1 1.3-2.5 5.9-5.7 7.9-2.4 2 3.2-1.3 9.8-.8 13.4.5 4.4 3.5 3.3 2.7-.8-.4-1.9-2.4-10 .6-11.1 3.7-1.4 2.8 7.2 6.5.4 2.2-4.1 4.9-3.1 5.2 1.2.1 1.5-.6 3.1-.4 4.6.2 1.9 1.8 3.7 3.3 1.3 1-1.6-2.6-10.4 2.9-7.3 2.6 1.5 1.6 6.5 4.8 2.7 1.3-1.5 1.7-3.6 4-3.7 2.2-.1 4 2.3 4.8 4.1 1.3 2.9-1.5 8.4.9 10.3 4.2 3.3 3-5.5 2.7-6.9-.6-3.9 1-7.2 5.5-5 4.1 2.1 4.3 7.7 4.1 11.6 0 .8-.6 9.5 2.5 5.2 1.2-1.7-.1-7.7.1-9.6.3-2.9 1.2-5.5 4.3-6.2 4.5-1 7.7 1.5 7.4 5.8-.2 3.5-1.8 7.7-.5 11.1 1 2.7 3.6 2.8 5 .2 1.6-3.1 0-8.3-.4-11.6-.4-4.2-.2-7 1.8-10.8 0 0-.1.1-.1.2-.2.4-.3.7-.4.8v.1c-.1.2-.1.2 0 0v-.1l.4-.8c0-.1.1-.1.1-.2.2-.4.5-.8.8-1.2V0H0zM282.7 3.4z"}]},clouds:{viewBox:"0 0 283.5 27.8",paths:[{d:"M0 0v6.7c1.9-.8 4.7-1.4 8.5-1 9.5 1.1 11.1 6 11.1 6s2.1-.7 4.3-.2c2.1.5 2.8 2.6 2.8 2.6s.2-.5 1.4-.7c1.2-.2 1.7.2 1.7.2s0-2.1 1.9-2.8c1.9-.7 3.6.7 3.6.7s.7-2.9 3.1-4.1 4.7 0 4.7 0 1.2-.5 2.4 0 1.7 1.4 1.7 1.4h1.4c.7 0 1.2.7 1.2.7s.8-1.8 4-2.2c3.5-.4 5.3 2.4 6.2 4.4.4-.4 1-.7 1.8-.9 2.8-.7 4 .7 4 .7s1.7-5 11.1-6c9.5-1.1 12.3 3.9 12.3 3.9s1.2-4.8 5.7-5.7c4.5-.9 6.8 1.8 6.8 1.8s.6-.6 1.5-.9c.9-.2 1.9-.2 1.9-.2s5.2-6.4 12.6-3.3c7.3 3.1 4.7 9 4.7 9s1.9-.9 4 0 2.8 2.4 2.8 2.4 1.9-1.2 4.5-1.2 4.3 1.2 4.3 1.2.2-1 1.4-1.7 2.1-.7 2.1-.7-.5-3.1 2.1-5.5 5.7-1.4 5.7-1.4 1.5-2.3 4.2-1.1c2.7 1.2 1.7 5.2 1.7 5.2s.3-.1 1.3.5c.5.4.8.8.9 1.1.5-1.4 2.4-5.8 8.4-4 7.1 2.1 3.5 8.9 3.5 8.9s.8-.4 2 0 1.1 1.1 1.1 1.1 1.1-1.1 2.3-1.1 2.1.5 2.1.5 1.9-3.6 6.2-1.2 1.9 6.4 1.9 6.4 2.6-2.4 7.4 0c3.4 1.7 3.9 4.9 3.9 4.9s3.3-6.9 10.4-7.9 11.5 2.6 11.5 2.6.8 0 1.2.2c.4.2.9.9.9.9s4.4-3.1 8.3.2c1.9 1.7 1.5 5 1.5 5s.3-1.1 1.6-1.4c1.3-.3 2.3.2 2.3.2s-.1-1.2.5-1.9 1.9-.9 1.9-.9-4.7-9.3 4.4-13.4c5.6-2.5 9.2.9 9.2.9s5-6.2 15.9-6.2 16.1 8.1 16.1 8.1.7-.2 1.6-.4V0H0z"}]},zigzag:{viewBox:"0 0 1800 5.8",paths:[{d:"M5.4.4l5.4 5.3L16.5.4l5.4 5.3L27.5.4 33 5.7 38.6.4l5.5 5.4h.1L49.9.4l5.4 5.3L60.9.4l5.5 5.3L72 .4l5.5 5.3L83.1.4l5.4 5.3L94.1.4l5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3L161 .4l5.4 5.3L172 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3L261 .4l5.4 5.3L272 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3L361 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3L461 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1L550 .4l5.4 5.3L561 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2L650 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2L750 .4l5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2L850 .4l5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.4h.2l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.7-5.4 5.4 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.5 5.4h.1l5.6-5.4 5.5 5.3 5.6-5.3 5.5 5.3 5.6-5.3 5.4 5.3 5.7-5.3 5.4 5.3 5.6-5.3 5.5 5.4V0H-.2v5.8z"}]},pyramids:{viewBox:"0 0 1000 100",paths:[{d:"M761.9,44.1L643.1,27.2L333.8,98L0,3.8V0l1000,0v3.9"}]},triangle:{viewBox:"0 0 1000 100",paths:[{d:"M500,98.9L0,6.1V0h1000v6.1L500,98.9z"}]},"triangle-asymmetrical":{viewBox:"0 0 1000 100",paths:[{d:"M738,99l262-93V0H0v5.6L738,99z"}]},tilt:{viewBox:"0 0 1000 100",paths:[{d:"M0,6V0h1000v100L0,6z"}]},"opacity-tilt":{viewBox:"0 0 2600 131.1",paths:[{d:"M0 0L2600 0 2600 69.1 0 0z"},{d:"M0 0L2600 0 2600 69.1 0 69.1z",opacity:.5},{d:"M2600 0L0 0 0 130.1 2600 69.1z",opacity:.25}]},curve:{viewBox:"0 0 1000 100",paths:[{d:"M1000,4.3V0H0v4.3C0.9,23.1,126.7,99.2,500,100S1000,22.7,1000,4.3z"}]},waves:{viewBox:"0 0 1000 100",paths:[{d:"M421.9,6.5c22.6-2.5,51.5,0.4,75.5,5.3c23.6,4.9,70.9,23.5,100.5,35.7c75.8,32.2,133.7,44.5,192.6,49.7 c23.6,2.1,48.7,3.5,103.4-2.5c54.7-6,106.2-25.6,106.2-25.6V0H0v30.3c0,0,72,32.6,158.4,30.5c39.2-0.7,92.8-6.7,134-22.4 c21.2-8.1,52.2-18.2,79.7-24.2C399.3,7.9,411.6,7.5,421.9,6.5z"}]},"wave-brush":{viewBox:"0 0 283.5 27.8",paths:[{d:"M283.5,9.7c0,0-7.3,4.3-14,4.6c-6.8,0.3-12.6,0-20.9-1.5c-11.3-2-33.1-10.1-44.7-5.7 s-12.1,4.6-18,7.4c-6.6,3.2-20,9.6-36.6,9.3C131.6,23.5,99.5,7.2,86.3,8c-1.4,0.1-6.6,0.8-10.5,2c-3.8,1.2-9.4,3.8-17,4.7 c-3.2,0.4-8.3,1.1-14.2,0.9c-1.5-0.1-6.3-0.4-12-1.6c-5.7-1.2-11-3.1-15.8-3.7C6.5,9.2,0,10.8,0,10.8V0h283.5V9.7z M260.8,11.3 c-0.7-1-2-0.4-4.3-0.4c-2.3,0-6.1-1.2-5.8-1.1c0.3,0.1,3.1,1.5,6,1.9C259.7,12.2,261.4,12.3,260.8,11.3z M242.4,8.6 c0,0-2.4-0.2-5.6-0.9c-3.2-0.8-10.3-2.8-15.1-3.5c-8.2-1.1-15.8,0-15.1,0.1c0.8,0.1,9.6-0.6,17.6,1.1c3.3,0.7,9.3,2.2,12.4,2.7 C239.9,8.7,242.4,8.6,242.4,8.6z M185.2,8.5c1.7-0.7-13.3,4.7-18.5,6.1c-2.1,0.6-6.2,1.6-10,2c-3.9,0.4-8.9,0.4-8.8,0.5 c0,0.2,5.8,0.8,11.2,0c5.4-0.8,5.2-1.1,7.6-1.6C170.5,14.7,183.5,9.2,185.2,8.5z M199.1,6.9c0.2,0-0.8-0.4-4.8,1.1 c-4,1.5-6.7,3.5-6.9,3.7c-0.2,0.1,3.5-1.8,6.6-3C197,7.5,199,6.9,199.1,6.9z M283,6c-0.1,0.1-1.9,1.1-4.8,2.5s-6.9,2.8-6.7,2.7 c0.2,0,3.5-0.6,7.4-2.5C282.8,6.8,283.1,5.9,283,6z M31.3,11.6c0.1-0.2-1.9-0.2-4.5-1.2s-5.4-1.6-7.8-2C15,7.6,7.3,8.5,7.7,8.6 C8,8.7,15.9,8.3,20.2,9.3c2.2,0.5,2.4,0.5,5.7,1.6S31.2,11.9,31.3,11.6z M73,9.2c0.4-0.1,3.5-1.6,8.4-2.6c4.9-1.1,8.9-0.5,8.9-0.8 c0-0.3-1-0.9-6.2-0.3S72.6,9.3,73,9.2z M71.6,6.7C71.8,6.8,75,5.4,77.3,5c2.3-0.3,1.9-0.5,1.9-0.6c0-0.1-1.1-0.2-2.7,0.2 C74.8,5.1,71.4,6.6,71.6,6.7z M93.6,4.4c0.1,0.2,3.5,0.8,5.6,1.8c2.1,1,1.8,0.6,1.9,0.5c0.1-0.1-0.8-0.8-2.4-1.3 C97.1,4.8,93.5,4.2,93.6,4.4z M65.4,11.1c-0.1,0.3,0.3,0.5,1.9-0.2s2.6-1.3,2.2-1.2s-0.9,0.4-2.5,0.8C65.3,10.9,65.5,10.8,65.4,11.1 z M34.5,12.4c-0.2,0,2.1,0.8,3.3,0.9c1.2,0.1,2,0.1,2-0.2c0-0.3-0.1-0.5-1.6-0.4C36.6,12.8,34.7,12.4,34.5,12.4z M152.2,21.1 c-0.1,0.1-2.4-0.3-7.5-0.3c-5,0-13.6-2.4-17.2-3.5c-3.6-1.1,10,3.9,16.5,4.1C150.5,21.6,152.3,21,152.2,21.1z"},{d:"M269.6,18c-0.1-0.1-4.6,0.3-7.2,0c-7.3-0.7-17-3.2-16.6-2.9c0.4,0.3,13.7,3.1,17,3.3 C267.7,18.8,269.7,18,269.6,18z"},{d:"M227.4,9.8c-0.2-0.1-4.5-1-9.5-1.2c-5-0.2-12.7,0.6-12.3,0.5c0.3-0.1,5.9-1.8,13.3-1.2 S227.6,9.9,227.4,9.8z"},{d:"M204.5,13.4c-0.1-0.1,2-1,3.2-1.1c1.2-0.1,2,0,2,0.3c0,0.3-0.1,0.5-1.6,0.4 C206.4,12.9,204.6,13.5,204.5,13.4z"},{d:"M201,10.6c0-0.1-4.4,1.2-6.3,2.2c-1.9,0.9-6.2,3.1-6.1,3.1c0.1,0.1,4.2-1.6,6.3-2.6 S201,10.7,201,10.6z"},{d:"M154.5,26.7c-0.1-0.1-4.6,0.3-7.2,0c-7.3-0.7-17-3.2-16.6-2.9c0.4,0.3,13.7,3.1,17,3.3 C152.6,27.5,154.6,26.8,154.5,26.7z"},{d:"M41.9,19.3c0,0,1.2-0.3,2.9-0.1c1.7,0.2,5.8,0.9,8.2,0.7c4.2-0.4,7.4-2.7,7-2.6 c-0.4,0-4.3,2.2-8.6,1.9c-1.8-0.1-5.1-0.5-6.7-0.4S41.9,19.3,41.9,19.3z"},{d:"M75.5,12.6c0.2,0.1,2-0.8,4.3-1.1c2.3-0.2,2.1-0.3,2.1-0.5c0-0.1-1.8-0.4-3.4,0 C76.9,11.5,75.3,12.5,75.5,12.6z"},{d:"M15.6,13.2c0-0.1,4.3,0,6.7,0.5c2.4,0.5,5,1.9,5,2c0,0.1-2.7-0.8-5.1-1.4 C19.9,13.7,15.7,13.3,15.6,13.2z"}]},arrow:{viewBox:"0 0 700 10",paths:[{d:"M350,10L340,0h20L350,10z"}]},split:{viewBox:"0 0 1000 20",paths:[{d:"M0,0v3c0,0,393.8,0,483.4,0c9.2,0,16.6,7.4,16.6,16.6c0-9.1,7.4-16.6,16.6-16.6C606.2,3,1000,3,1000,3V0H0z"}]},book:{viewBox:"0 0 1000 100",paths:[{d:"M194,99c186.7,0.7,305-78.3,306-97.2c1,18.9,119.3,97.9,306,97.2c114.3-0.3,194,0.3,194,0.3s0-91.7,0-100c0,0,0,0,0-0 L0,0v99.3C0,99.3,79.7,98.7,194,99z"}]}}).reduce((t,[e,r])=>(t[e]=r.paths[0].d,t),{}),typeof window<"u"&&typeof window._vx_file_upload_cache>"u"&&(window._vx_file_upload_cache=[]);function ar({config:t,filterData:e,value:r,onChange:s,blockId:l}){const p=l?`voxel-popup-${l}`:"",c=a.useRef(null),i=a.useRef(null),[d,m]=a.useState(!1),[f,w]=a.useState(""),v=typeof r=="string"?r:"",g=e.props?.placeholder||e.label||"Type keywords...",D=t.displayAs||e.props?.display_as||"inline",T=e.icon||"";a.useEffect(()=>{d&&(w(v),setTimeout(()=>{i.current?.focus()},50))},[d,v]);const _=h=>{s(h.target.value)},B=h=>{w(h.target.value)},L=a.useCallback(()=>{m(!0)},[]),E=a.useCallback(()=>{s(f),m(!1)},[f,s]),S=a.useCallback(()=>{w(""),s("")},[s]),P=a.useCallback(h=>{h.key==="Enter"&&(h.preventDefault(),E())},[E]);if(D==="inline"){const{style:h,className:x}=se(t,"ts-form-group ts-inline-filter");return React.createElement("div",{className:x,style:h},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{className:"ts-input-icon flexify"},T&&React.createElement("span",{dangerouslySetInnerHTML:{__html:T}}),React.createElement("input",{type:"text",value:v,onChange:_,placeholder:g,className:"inline-input"})))}const b=v.length>0,{style:k,className:C}=se(t,"ts-form-group"),R=Ce(t);return React.createElement("div",{className:C,style:k},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:c,className:`ts-filter ts-popup-target ${b?"ts-filled":""}`,onClick:L,onMouseDown:h=>h.preventDefault(),role:"button",tabIndex:0},T&&React.createElement("span",{dangerouslySetInnerHTML:{__html:T}}),React.createElement("div",{className:"ts-filter-text"},b?v:g)),React.createElement(be,{isOpen:d,target:c,title:"",icon:T,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:E,onClear:S,onClose:()=>m(!1),className:`${p}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:R.style},React.createElement("div",{className:"ts-input-icon ts-sticky-top flexify"},React.createElement("span",null,Se.search),React.createElement("input",{ref:i,type:"text",value:f,onChange:B,onKeyDown:P,placeholder:g,className:"autofocus border-none"}))))}var Te;(function(t){t.Range="range",t.Steps="steps",t.Positions="positions",t.Count="count",t.Values="values"})(Te||(Te={}));var Ee;(function(t){t[t.None=-1]="None",t[t.NoValue=0]="NoValue",t[t.LargeValue=1]="LargeValue",t[t.SmallValue=2]="SmallValue"})(Ee||(Ee={}));function lr(t){return je(t)&&typeof t.from=="function"}function je(t){return typeof t=="object"&&typeof t.to=="function"}function xt(t){t.parentElement.removeChild(t)}function lt(t){return t!=null}function Rt(t){t.preventDefault()}function or(t){return t.filter(function(e){return this[e]?!1:this[e]=!0},{})}function ir(t,e){return Math.round(t/e)*e}function cr(t,e){var r=t.getBoundingClientRect(),s=t.ownerDocument,l=s.documentElement,p=Tt(s);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(p.x=0),e?r.top+p.y-l.clientTop:r.left+p.x-l.clientLeft}function xe(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function Nt(t,e,r){r>0&&(ge(t,e),setTimeout(function(){Ke(t,e)},r))}function kt(t){return Math.max(Math.min(t,100),0)}function qe(t){return Array.isArray(t)?t:[t]}function ur(t){t=String(t);var e=t.split(".");return e.length>1?e[1].length:0}function ge(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function Ke(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function dr(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function Tt(t){var e=window.pageXOffset!==void 0,r=(t.compatMode||"")==="CSS1Compat",s=e?window.pageXOffset:r?t.documentElement.scrollLeft:t.body.scrollLeft,l=e?window.pageYOffset:r?t.documentElement.scrollTop:t.body.scrollTop;return{x:s,y:l}}function fr(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function pr(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch{}return t}function mr(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function ot(t,e){return 100/(e-t)}function it(t,e,r){return e*100/(t[r+1]-t[r])}function hr(t,e){return it(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}function vr(t,e){return e*(t[1]-t[0])/100+t[0]}function We(t,e){for(var r=1;t>=e[r];)r+=1;return r}function gr(t,e,r){if(r>=t.slice(-1)[0])return 100;var s=We(r,t),l=t[s-1],p=t[s],c=e[s-1],i=e[s];return c+hr([l,p],r)/ot(c,i)}function yr(t,e,r){if(r>=100)return t.slice(-1)[0];var s=We(r,e),l=t[s-1],p=t[s],c=e[s-1],i=e[s];return vr([l,p],(r-c)*ot(c,i))}function br(t,e,r,s){if(s===100)return s;var l=We(s,t),p=t[l-1],c=t[l];return r?s-p>(c-p)/2?c:p:e[l-1]?t[l-1]+ir(s-t[l-1],e[l-1]):s}var _t=(function(){function t(e,r,s){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[s||!1],this.xNumSteps=[!1],this.snap=r;var l,p=[];for(Object.keys(e).forEach(function(c){p.push([qe(e[c]),c])}),p.sort(function(c,i){return c[0][0]-i[0][0]}),l=0;l<p.length;l++)this.handleEntryPoint(p[l][1],p[l][0]);for(this.xNumSteps=this.xSteps.slice(0),l=0;l<this.xNumSteps.length;l++)this.handleStepPoint(l,this.xNumSteps[l])}return t.prototype.getDistance=function(e){for(var r=[],s=0;s<this.xNumSteps.length-1;s++)r[s]=it(this.xVal,e,s);return r},t.prototype.getAbsoluteDistance=function(e,r,s){var l=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[l+1];)l++;else e===this.xPct[this.xPct.length-1]&&(l=this.xPct.length-2);!s&&e===this.xPct[l+1]&&l++,r===null&&(r=[]);var p,c=1,i=r[l],d=0,m=0,f=0,w=0;for(s?p=(e-this.xPct[l])/(this.xPct[l+1]-this.xPct[l]):p=(this.xPct[l+1]-e)/(this.xPct[l+1]-this.xPct[l]);i>0;)d=this.xPct[l+1+w]-this.xPct[l+w],r[l+w]*c+100-p*100>100?(m=d*p,c=(i-100*p)/r[l+w],p=1):(m=r[l+w]*d/100*c,c=0),s?(f=f-m,this.xPct.length+w>=1&&w--):(f=f+m,this.xPct.length-w>=1&&w++),i=r[l+w]*c;return e+f},t.prototype.toStepping=function(e){return e=gr(this.xVal,this.xPct,e),e},t.prototype.fromStepping=function(e){return yr(this.xVal,this.xPct,e)},t.prototype.getStep=function(e){return e=br(this.xPct,this.xSteps,this.snap,e),e},t.prototype.getDefaultStep=function(e,r,s){var l=We(e,this.xPct);return(e===100||r&&e===this.xPct[l-1])&&(l=Math.max(l-1,1)),(this.xVal[l]-this.xVal[l-1])/s},t.prototype.getNearbySteps=function(e){var r=We(e,this.xPct);return{stepBefore:{startValue:this.xVal[r-2],step:this.xNumSteps[r-2],highestStep:this.xHighestCompleteStep[r-2]},thisStep:{startValue:this.xVal[r-1],step:this.xNumSteps[r-1],highestStep:this.xHighestCompleteStep[r-1]},stepAfter:{startValue:this.xVal[r],step:this.xNumSteps[r],highestStep:this.xHighestCompleteStep[r]}}},t.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(ur);return Math.max.apply(null,e)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(e){return this.getStep(this.toStepping(e))},t.prototype.handleEntryPoint=function(e,r){var s;if(e==="min"?s=0:e==="max"?s=100:s=parseFloat(e),!xe(s)||!xe(r[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(s),this.xVal.push(r[0]);var l=Number(r[1]);s?this.xSteps.push(isNaN(l)?!1:l):isNaN(l)||(this.xSteps[0]=l),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(e,r){if(r){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=it([this.xVal[e],this.xVal[e+1]],r,0)/ot(this.xPct[e],this.xPct[e+1]);var s=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],l=Math.ceil(Number(s.toFixed(3))-1),p=this.xVal[e]+this.xNumSteps[e]*l;this.xHighestCompleteStep[e]=p}},t})(),Lt={to:function(t){return t===void 0?"":t.toFixed(2)},from:Number},Mt={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},_e={tooltips:".__tooltips",aria:".__aria"};function Er(t,e){if(!xe(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function wr(t,e){if(!xe(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function Sr(t,e){if(!xe(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function Cr(t,e){if(!xe(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function xr(t,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new _t(e,t.snap||!1,t.singleStep)}function Rr(t,e){if(e=qe(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function Nr(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function kr(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function Tr(t,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function Pt(t,e){var r=[!1],s;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(s=1;s<t.handles;s++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=e}t.connect=r}function _r(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Vt(t,e){if(!xe(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(t.margin=t.spectrum.getDistance(e))}function Lr(t,e){if(!xe(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Mr(t,e){var r;if(!xe(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||xe(e[0])||xe(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],r=0;r<t.spectrum.xNumSteps.length-1;r++)if(t.padding[0][r]<0||t.padding[1][r]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var s=e[0]+e[1],l=t.spectrum.xVal[0],p=t.spectrum.xVal[t.spectrum.xVal.length-1];if(s/(p-l)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Pr(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Vr(t,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var r=e.indexOf("tap")>=0,s=e.indexOf("drag")>=0,l=e.indexOf("fixed")>=0,p=e.indexOf("snap")>=0,c=e.indexOf("hover")>=0,i=e.indexOf("unconstrained")>=0,d=e.indexOf("invert-connects")>=0,m=e.indexOf("drag-all")>=0,f=e.indexOf("smooth-steps")>=0;if(l){if(t.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Vt(t,t.start[1]-t.start[0])}if(d&&t.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(i&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||p,drag:s,dragAll:m,smoothSteps:f,fixed:l,snap:p,hover:c,unconstrained:i,invertConnects:d}}function Fr(t,e){if(e!==!1)if(e===!0||je(e)){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(e)}else{if(e=qe(e),e.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(s){if(typeof s!="boolean"&&!je(s))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),t.tooltips=e}}function Ir(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function Br(t,e){if(!je(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function Ar(t,e){if(!lr(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=e}function Dr(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function Or(t,e){t.documentElement=e}function Wr(t,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function Hr(t,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof t.cssPrefix=="string"?(t.cssClasses={},Object.keys(e).forEach(function(r){t.cssClasses[r]=t.cssPrefix+e[r]})):t.cssClasses=e}function Ft(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Lt,format:Lt},r={step:{r:!1,t:Er},keyboardPageMultiplier:{r:!1,t:wr},keyboardMultiplier:{r:!1,t:Sr},keyboardDefaultStep:{r:!1,t:Cr},start:{r:!0,t:Rr},connect:{r:!0,t:Pt},direction:{r:!0,t:Pr},snap:{r:!1,t:Nr},animate:{r:!1,t:kr},animationDuration:{r:!1,t:Tr},range:{r:!0,t:xr},orientation:{r:!1,t:_r},margin:{r:!1,t:Vt},limit:{r:!1,t:Lr},padding:{r:!1,t:Mr},behaviour:{r:!0,t:Vr},ariaFormat:{r:!1,t:Br},format:{r:!1,t:Ar},tooltips:{r:!1,t:Fr},keyboardSupport:{r:!0,t:Dr},documentElement:{r:!1,t:Or},cssPrefix:{r:!0,t:Wr},cssClasses:{r:!0,t:Hr},handleAttributes:{r:!1,t:Ir}},s={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Mt,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(r).forEach(function(d){if(!lt(t[d])&&s[d]===void 0){if(r[d].r)throw new Error("noUiSlider: '"+d+"' is required.");return}r[d].t(e,lt(t[d])?t[d]:s[d])}),e.pips=t.pips;var l=document.createElement("div"),p=l.style.msTransform!==void 0,c=l.style.transform!==void 0;e.transformRule=c?"transform":p?"msTransform":"webkitTransform";var i=[["left","top"],["right","bottom"]];return e.style=i[e.dir][e.ort],e}function Ur(t,e,r){var s=fr(),l=mr(),p=l&&pr(),c=t,i,d,m,f,w,v,g=e.spectrum,D=[],T=[],_=[],B=0,L={},E=!1,S=t.ownerDocument,P=e.documentElement||S.documentElement,b=S.body,k=S.dir==="rtl"||e.ort===1?0:100;function C(n,o){var u=S.createElement("div");return o&&ge(u,o),n.appendChild(u),u}function R(n,o){var u=C(n,e.cssClasses.origin),N=C(u,e.cssClasses.handle);if(C(N,e.cssClasses.touchArea),N.setAttribute("data-handle",String(o)),e.keyboardSupport&&(N.setAttribute("tabindex","0"),N.addEventListener("keydown",function(F){return ke(F,o)})),e.handleAttributes!==void 0){var V=e.handleAttributes[o];Object.keys(V).forEach(function(F){N.setAttribute(F,V[F])})}return N.setAttribute("role","slider"),N.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),o===0?ge(N,e.cssClasses.handleLower):o===e.handles-1&&ge(N,e.cssClasses.handleUpper),u.handle=N,u}function h(n,o){return o?C(n,e.cssClasses.connect):!1}function x(n,o){d=C(o,e.cssClasses.connects),m=[],f=[],f.push(h(d,n[0]));for(var u=0;u<e.handles;u++)m.push(R(o,u)),_[u]=u,f.push(h(d,n[u+1]))}function H(n){ge(n,e.cssClasses.target),e.dir===0?ge(n,e.cssClasses.ltr):ge(n,e.cssClasses.rtl),e.ort===0?ge(n,e.cssClasses.horizontal):ge(n,e.cssClasses.vertical);var o=getComputedStyle(n).direction;return o==="rtl"?ge(n,e.cssClasses.textDirectionRtl):ge(n,e.cssClasses.textDirectionLtr),C(n,e.cssClasses.base)}function G(n,o){return!e.tooltips||!e.tooltips[o]?!1:C(n.firstChild,e.cssClasses.tooltip)}function O(){return c.hasAttribute("disabled")}function Q(n){var o=m[n];return o.hasAttribute("disabled")}function z(n){n!=null?(m[n].setAttribute("disabled",""),m[n].handle.removeAttribute("tabindex")):(c.setAttribute("disabled",""),m.forEach(function(o){o.handle.removeAttribute("tabindex")}))}function J(n){n!=null?(m[n].removeAttribute("disabled"),m[n].handle.setAttribute("tabindex","0")):(c.removeAttribute("disabled"),m.forEach(function(o){o.removeAttribute("disabled"),o.handle.setAttribute("tabindex","0")}))}function j(){v&&(Ve("update"+_e.tooltips),v.forEach(function(n){n&&xt(n)}),v=null)}function X(){j(),v=m.map(G),we("update"+_e.tooltips,function(n,o,u){if(!(!v||!e.tooltips)&&v[o]!==!1){var N=n[o];e.tooltips[o]!==!0&&(N=e.tooltips[o].to(u[o])),v[o].innerHTML=N}})}function de(){Ve("update"+_e.aria),we("update"+_e.aria,function(n,o,u,N,V){_.forEach(function(F){var U=m[F],A=De(T,F,0,!0,!0,!0),ae=De(T,F,100,!0,!0,!0),le=V[F],ce=String(e.ariaFormat.to(u[F]));A=g.fromStepping(A).toFixed(1),ae=g.fromStepping(ae).toFixed(1),le=g.fromStepping(le).toFixed(1),U.children[0].setAttribute("aria-valuemin",A),U.children[0].setAttribute("aria-valuemax",ae),U.children[0].setAttribute("aria-valuenow",le),U.children[0].setAttribute("aria-valuetext",ce)})})}function fe(n){if(n.mode===Te.Range||n.mode===Te.Steps)return g.xVal;if(n.mode===Te.Count){if(n.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var o=n.values-1,u=100/o,N=[];o--;)N[o]=o*u;return N.push(100),K(N,n.stepped)}return n.mode===Te.Positions?K(n.values,n.stepped):n.mode===Te.Values?n.stepped?n.values.map(function(V){return g.fromStepping(g.getStep(g.toStepping(V)))}):n.values:[]}function K(n,o){return n.map(function(u){return g.fromStepping(o?g.getStep(u):u)})}function ne(n){function o(le,ce){return Number((le+ce).toFixed(7))}var u=fe(n),N={},V=g.xVal[0],F=g.xVal[g.xVal.length-1],U=!1,A=!1,ae=0;return u=or(u.slice().sort(function(le,ce){return le-ce})),u[0]!==V&&(u.unshift(V),U=!0),u[u.length-1]!==F&&(u.push(F),A=!0),u.forEach(function(le,ce){var ue,te,pe,ye=le,me=u[ce+1],ve,ht,vt,gt,Kt,yt,Zt,Jt=n.mode===Te.Steps;for(Jt&&(ue=g.xNumSteps[ce]),ue||(ue=me-ye),me===void 0&&(me=ye),ue=Math.max(ue,1e-7),te=ye;te<=me;te=o(te,ue)){for(ve=g.toStepping(te),ht=ve-ae,Kt=ht/(n.density||1),yt=Math.round(Kt),Zt=ht/yt,pe=1;pe<=yt;pe+=1)vt=ae+pe*Zt,N[vt.toFixed(5)]=[g.fromStepping(vt),0];gt=u.indexOf(te)>-1?Ee.LargeValue:Jt?Ee.SmallValue:Ee.NoValue,!ce&&U&&te!==me&&(gt=0),te===me&&A||(N[ve.toFixed(5)]=[te,gt]),ae=ve}}),N}function oe(n,o,u){var N,V,F=S.createElement("div"),U=(N={},N[Ee.None]="",N[Ee.NoValue]=e.cssClasses.valueNormal,N[Ee.LargeValue]=e.cssClasses.valueLarge,N[Ee.SmallValue]=e.cssClasses.valueSub,N),A=(V={},V[Ee.None]="",V[Ee.NoValue]=e.cssClasses.markerNormal,V[Ee.LargeValue]=e.cssClasses.markerLarge,V[Ee.SmallValue]=e.cssClasses.markerSub,V),ae=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],le=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];ge(F,e.cssClasses.pips),ge(F,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function ce(te,pe){var ye=pe===e.cssClasses.value,me=ye?ae:le,ve=ye?U:A;return pe+" "+me[e.ort]+" "+ve[te]}function ue(te,pe,ye){if(ye=o?o(pe,ye):ye,ye!==Ee.None){var me=C(F,!1);me.className=ce(ye,e.cssClasses.marker),me.style[e.style]=te+"%",ye>Ee.NoValue&&(me=C(F,!1),me.className=ce(ye,e.cssClasses.value),me.setAttribute("data-value",String(pe)),me.style[e.style]=te+"%",me.innerHTML=String(u.to(pe)))}}return Object.keys(n).forEach(function(te){ue(te,n[te][0],n[te][1])}),F}function W(){w&&(xt(w),w=null)}function y(n){W();var o=ne(n),u=n.filter,N=n.format||{to:function(V){return String(Math.round(V))}};return w=c.appendChild(oe(o,u,N)),w}function M(){var n=i.getBoundingClientRect(),o="offset"+["Width","Height"][e.ort];return e.ort===0?n.width||i[o]:n.height||i[o]}function I(n,o,u,N){var V=function(U){var A=Y(U,N.pageOffset,N.target||o);if(!A||O()&&!N.doNotReject||dr(c,e.cssClasses.tap)&&!N.doNotReject||n===s.start&&A.buttons!==void 0&&A.buttons>1||N.hover&&A.buttons)return!1;p||A.preventDefault(),A.calcPoint=A.points[e.ort],u(A,N)},F=[];return n.split(" ").forEach(function(U){o.addEventListener(U,V,p?{passive:!0}:!1),F.push([U,V])}),F}function Y(n,o,u){var N=n.type.indexOf("touch")===0,V=n.type.indexOf("mouse")===0,F=n.type.indexOf("pointer")===0,U=0,A=0;if(n.type.indexOf("MSPointer")===0&&(F=!0),n.type==="mousedown"&&!n.buttons&&!n.touches)return!1;if(N){var ae=function(ue){var te=ue.target;return te===u||u.contains(te)||n.composed&&n.composedPath().shift()===u};if(n.type==="touchstart"){var le=Array.prototype.filter.call(n.touches,ae);if(le.length>1)return!1;U=le[0].pageX,A=le[0].pageY}else{var ce=Array.prototype.find.call(n.changedTouches,ae);if(!ce)return!1;U=ce.pageX,A=ce.pageY}}return o=o||Tt(S),(V||F)&&(U=n.clientX+o.x,A=n.clientY+o.y),n.pageOffset=o,n.points=[U,A],n.cursor=V||F,n}function re(n){var o=n-cr(i,e.ort),u=o*100/M();return u=kt(u),e.dir?100-u:u}function ee(n){var o=100,u=!1;return m.forEach(function(N,V){if(!Q(V)){var F=T[V],U=Math.abs(F-n),A=U===100&&o===100,ae=U<o,le=U<=o&&n>F;(ae||le||A)&&(u=V,o=U)}}),u}function he(n,o){n.type==="mouseout"&&n.target.nodeName==="HTML"&&n.relatedTarget===null&&Re(n,o)}function Me(n,o){if(navigator.appVersion.indexOf("MSIE 9")===-1&&n.buttons===0&&o.buttonsProperty!==0)return Re(n,o);var u=(e.dir?-1:1)*(n.calcPoint-o.startCalcPoint),N=u*100/o.baseSize;Wt(u>0,N,o.locations,o.handleNumbers,o.connect)}function Re(n,o){o.handle&&(Ke(o.handle,e.cssClasses.active),B-=1),o.listeners.forEach(function(u){P.removeEventListener(u[0],u[1])}),B===0&&(Ke(c,e.cssClasses.drag),mt(),n.cursor&&(b.style.cursor="",b.removeEventListener("selectstart",Rt))),e.events.smoothSteps&&(o.handleNumbers.forEach(function(u){Be(u,T[u],!0,!0,!1,!1)}),o.handleNumbers.forEach(function(u){ie("update",u)})),o.handleNumbers.forEach(function(u){ie("change",u),ie("set",u),ie("end",u)})}function q(n,o){if(!o.handleNumbers.some(Q)){var u;if(o.handleNumbers.length===1){var N=m[o.handleNumbers[0]];u=N.children[0],B+=1,ge(u,e.cssClasses.active)}n.stopPropagation();var V=[],F=I(s.move,P,Me,{target:n.target,handle:u,connect:o.connect,listeners:V,startCalcPoint:n.calcPoint,baseSize:M(),pageOffset:n.pageOffset,handleNumbers:o.handleNumbers,buttonsProperty:n.buttons,locations:T.slice()}),U=I(s.end,P,Re,{target:n.target,handle:u,listeners:V,doNotReject:!0,handleNumbers:o.handleNumbers}),A=I("mouseout",P,he,{target:n.target,handle:u,listeners:V,doNotReject:!0,handleNumbers:o.handleNumbers});V.push.apply(V,F.concat(U,A)),n.cursor&&(b.style.cursor=getComputedStyle(n.target).cursor,m.length>1&&ge(c,e.cssClasses.drag),b.addEventListener("selectstart",Rt,!1)),o.handleNumbers.forEach(function(ae){ie("start",ae)})}}function $(n){n.stopPropagation();var o=re(n.calcPoint),u=ee(o);u!==!1&&(e.events.snap||Nt(c,e.cssClasses.tap,e.animationDuration),Be(u,o,!0,!0),mt(),ie("slide",u,!0),ie("update",u,!0),e.events.snap?q(n,{handleNumbers:[u]}):(ie("change",u,!0),ie("set",u,!0)))}function Pe(n){var o=re(n.calcPoint),u=g.getStep(o),N=g.fromStepping(u);Object.keys(L).forEach(function(V){V.split(".")[0]==="hover"&&L[V].forEach(function(F){F.call($e,N)})})}function ke(n,o){if(O()||Q(o))return!1;var u=["Left","Right"],N=["Down","Up"],V=["PageDown","PageUp"],F=["Home","End"];e.dir&&!e.ort?u.reverse():e.ort&&!e.dir&&(N.reverse(),V.reverse());var U=n.key.replace("Arrow",""),A=U===V[0],ae=U===V[1],le=U===N[0]||U===u[0]||A,ce=U===N[1]||U===u[1]||ae,ue=U===F[0],te=U===F[1];if(!le&&!ce&&!ue&&!te)return!0;n.preventDefault();var pe;if(ce||le){var ye=le?0:1,me=jt(o),ve=me[ye];if(ve===null)return!1;ve===!1&&(ve=g.getDefaultStep(T[o],le,e.keyboardDefaultStep)),ae||A?ve*=e.keyboardPageMultiplier:ve*=e.keyboardMultiplier,ve=Math.max(ve,1e-7),ve=(le?-1:1)*ve,pe=D[o]+ve}else te?pe=e.spectrum.xVal[e.spectrum.xVal.length-1]:pe=e.spectrum.xVal[0];return Be(o,g.toStepping(pe),!0,!0),ie("slide",o),ie("update",o),ie("change",o),ie("set",o),!1}function Z(n){n.fixed||m.forEach(function(o,u){I(s.start,o.children[0],q,{handleNumbers:[u]})}),n.tap&&I(s.start,i,$,{}),n.hover&&I(s.move,i,Pe,{hover:!0}),n.drag&&f.forEach(function(o,u){if(!(o===!1||u===0||u===f.length-1)){var N=m[u-1],V=m[u],F=[o],U=[N,V],A=[u-1,u];ge(o,e.cssClasses.draggable),n.fixed&&(F.push(N.children[0]),F.push(V.children[0])),n.dragAll&&(U=m,A=_),F.forEach(function(ae){I(s.start,ae,q,{handles:U,handleNumbers:A,connect:o})})}})}function we(n,o){L[n]=L[n]||[],L[n].push(o),n.split(".")[0]==="update"&&m.forEach(function(u,N){ie("update",N)})}function Ne(n){return n===_e.aria||n===_e.tooltips}function Ve(n){var o=n&&n.split(".")[0],u=o?n.substring(o.length):n;Object.keys(L).forEach(function(N){var V=N.split(".")[0],F=N.substring(V.length);(!o||o===V)&&(!u||u===F)&&(!Ne(F)||u===F)&&delete L[N]})}function ie(n,o,u){Object.keys(L).forEach(function(N){var V=N.split(".")[0];n===V&&L[N].forEach(function(F){F.call($e,D.map(e.format.to),o,D.slice(),u||!1,T.slice(),$e)})})}function De(n,o,u,N,V,F,U){var A;return m.length>1&&!e.events.unconstrained&&(N&&o>0&&(A=g.getAbsoluteDistance(n[o-1],e.margin,!1),u=Math.max(u,A)),V&&o<m.length-1&&(A=g.getAbsoluteDistance(n[o+1],e.margin,!0),u=Math.min(u,A))),m.length>1&&e.limit&&(N&&o>0&&(A=g.getAbsoluteDistance(n[o-1],e.limit,!1),u=Math.min(u,A)),V&&o<m.length-1&&(A=g.getAbsoluteDistance(n[o+1],e.limit,!0),u=Math.max(u,A))),e.padding&&(o===0&&(A=g.getAbsoluteDistance(0,e.padding[0],!1),u=Math.max(u,A)),o===m.length-1&&(A=g.getAbsoluteDistance(100,e.padding[1],!0),u=Math.min(u,A))),U||(u=g.getStep(u)),u=kt(u),u===n[o]&&!F?!1:u}function pt(n,o){var u=e.ort;return(u?o:n)+", "+(u?n:o)}function Wt(n,o,u,N,V){var F=u.slice(),U=N[0],A=e.events.smoothSteps,ae=[!n,n],le=[n,!n];N=N.slice(),n&&N.reverse(),N.length>1?N.forEach(function(ue,te){var pe=De(F,ue,F[ue]+o,ae[te],le[te],!1,A);pe===!1?o=0:(o=pe-F[ue],F[ue]=pe)}):ae=le=[!0];var ce=!1;N.forEach(function(ue,te){ce=Be(ue,u[ue]+o,ae[te],le[te],!1,A)||ce}),ce&&(N.forEach(function(ue){ie("update",ue),ie("slide",ue)}),V!=null&&ie("drag",U))}function Ht(n,o){return e.dir?100-n-o:n}function Ns(n,o){T[n]=o,D[n]=g.fromStepping(o);var u=Ht(o,0)-k,N="translate("+pt(u+"%","0")+")";if(m[n].style[e.transformRule]=N,e.events.invertConnects&&T.length>1){var V=T.every(function(F,U,A){return U===0||F>=A[U-1]});if(E!==!V){Ps();return}}ze(n),ze(n+1),E&&(ze(n-1),ze(n+2))}function mt(){_.forEach(function(n){var o=T[n]>50?-1:1,u=3+(m.length+o*n);m[n].style.zIndex=String(u)})}function Be(n,o,u,N,V,F){return V||(o=De(T,n,o,u,N,!1,F)),o===!1?!1:(Ns(n,o),!0)}function ze(n){if(f[n]){var o=T.slice();E&&o.sort(function(A,ae){return A-ae});var u=0,N=100;n!==0&&(u=o[n-1]),n!==f.length-1&&(N=o[n]);var V=N-u,F="translate("+pt(Ht(u,V)+"%","0")+")",U="scale("+pt(V/100,"1")+")";f[n].style[e.transformRule]=F+" "+U}}function Ut(n,o){return n===null||n===!1||n===void 0||(typeof n=="number"&&(n=String(n)),n=e.format.from(n),n!==!1&&(n=g.toStepping(n)),n===!1||isNaN(n))?T[o]:n}function Qe(n,o,u){var N=qe(n),V=T[0]===void 0;o=o===void 0?!0:o,e.animate&&!V&&Nt(c,e.cssClasses.tap,e.animationDuration),_.forEach(function(A){Be(A,Ut(N[A],A),!0,!1,u)});var F=_.length===1?0:1;if(V&&g.hasNoSize()&&(u=!0,T[0]=0,_.length>1)){var U=100/(_.length-1);_.forEach(function(A){T[A]=A*U})}for(;F<_.length;++F)_.forEach(function(A){Be(A,T[A],!0,!0,u)});mt(),_.forEach(function(A){ie("update",A),N[A]!==null&&o&&ie("set",A)})}function ks(n){Qe(e.start,n)}function Ts(n,o,u,N){if(n=Number(n),!(n>=0&&n<_.length))throw new Error("noUiSlider: invalid handle number, got: "+n);Be(n,Ut(o,n),!0,!0,N),ie("update",n),u&&ie("set",n)}function zt(n){if(n===void 0&&(n=!1),n)return D.length===1?D[0]:D.slice(0);var o=D.map(e.format.to);return o.length===1?o[0]:o}function _s(){for(Ve(_e.aria),Ve(_e.tooltips),Object.keys(e.cssClasses).forEach(function(n){Ke(c,e.cssClasses[n])});c.firstChild;)c.removeChild(c.firstChild);delete c.noUiSlider}function jt(n){var o=T[n],u=g.getNearbySteps(o),N=D[n],V=u.thisStep.step,F=null;if(e.snap)return[N-u.stepBefore.startValue||null,u.stepAfter.startValue-N||null];V!==!1&&N+V>u.stepAfter.startValue&&(V=u.stepAfter.startValue-N),N>u.thisStep.startValue?F=u.thisStep.step:u.stepBefore.step===!1?F=!1:F=N-u.stepBefore.highestStep,o===100?V=null:o===0&&(F=null);var U=g.countStepDecimals();return V!==null&&V!==!1&&(V=Number(V.toFixed(U))),F!==null&&F!==!1&&(F=Number(F.toFixed(U))),[F,V]}function Ls(){return _.map(jt)}function Ms(n,o){var u=zt(),N=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];N.forEach(function(F){n[F]!==void 0&&(r[F]=n[F])});var V=Ft(r);N.forEach(function(F){n[F]!==void 0&&(e[F]=V[F])}),g=V.spectrum,e.margin=V.margin,e.limit=V.limit,e.padding=V.padding,e.pips?y(e.pips):W(),e.tooltips?X():j(),T=[],Qe(lt(n.start)?n.start:u,o),n.connect&&qt()}function qt(){for(;d.firstChild;)d.removeChild(d.firstChild);for(var n=0;n<=e.handles;n++)f[n]=h(d,e.connect[n]),ze(n);Z({drag:e.events.drag,fixed:!0})}function Ps(){E=!E,Pt(e,e.connect.map(function(n){return!n})),qt()}function Vs(){i=H(c),x(e.connect,i),Z(e.events),Qe(e.start),e.pips&&y(e.pips),e.tooltips&&X(),de()}Vs();var $e={destroy:_s,steps:Ls,on:we,off:Ve,get:zt,set:Qe,setHandle:Ts,reset:ks,disable:z,enable:J,__moveHandles:function(n,o,u){Wt(n,o,T,u)},options:r,updateOptions:Ms,target:c,removePips:W,removeTooltips:j,getPositions:function(){return T.slice()},getTooltips:function(){return v},getOrigins:function(){return m},pips:y};return $e}function zr(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var r=Ft(e),s=Ur(t,r,e);return t.noUiSlider=s,s}const It={__spectrum:_t,cssClasses:Mt,create:zr};function Bt(t,e,r){if(t==null||t==="")return{min:e,max:r};if(typeof t=="string"&&t.includes("..")){const s=t.split(".."),l=s[0]!==""?Number(s[0]):e,p=s[1]!==""?Number(s[1]):r;return{min:isNaN(l)?e:l,max:isNaN(p)?r:p}}if(typeof t=="object"){const s=t;return{min:s.min??e,max:s.max??r}}return typeof t=="number"?{min:t,max:r}:{min:e,max:r}}function jr({config:t,filterData:e,value:r,onChange:s,blockId:l,narrowedValues:p,isNarrowing:c}){const i=[l?`voxel-popup-${l}`:"",t.id?`elementor-repeater-item-${t.id}`:""].filter(Boolean).join(" "),d=a.useRef(null),m=a.useRef(null),f=a.useRef(null),[w,v]=a.useState(!1),g=e.props||{},D=g.min??0,T=g.max??100,_=g.step??1,B=g.placeholder||e.label||"Range",L=t.displayAs||e.props?.display_as||"popup",E=g.handles||"double",S=g.compare||"in_range",P=t.filterKey,b=p?.ranges?.[P],k=b?.min??D,C=b?.max??T,R=g.format||"number",h=g.prefix||(typeof R=="object"?R.prefix:"")||"",x=g.suffix||(typeof R=="object"?R.suffix:"")||"",H=e.icon||"",G=Bt(r,k,C),[O,Q]=a.useState(G.min),[z,J]=a.useState(G.max),j=a.useCallback(q=>R==="price"?`${h}${q.toLocaleString()}${x}`:`${h}${q}${x}`,[R,h,x]),X=r!=null&&r!==""&&(G.min!==k||G.max!==C),de=X?`${j(G.min)}  ${j(G.max)}`:B,fe=`${j(O)}  ${j(z)}`,K=a.useCallback(()=>{if(!m.current||f.current)return;const q=O,$=z;let Pe,ke;E==="double"?(Pe=[q,$],ke=!0):S==="in_range"?(Pe=[$],ke=[!1,!0]):(Pe=[q],ke=[!0,!1]),It.create(m.current,{start:Pe,connect:ke,range:{min:k,max:C},step:_,behaviour:"tap-drag"}),f.current=m.current.noUiSlider,f.current.on("update",Z=>{E==="double"?(Q(Math.round(Number(Z[0]))),J(Math.round(Number(Z[1])))):S==="in_range"?J(Math.round(Number(Z[0]))):Q(Math.round(Number(Z[0])))}),requestAnimationFrame(()=>{f.current&&(E==="double"?f.current.set([q,$],!1):f.current.set([q],!1))})},[E,S,O,z,k,C,_]),ne=a.useCallback(()=>{f.current&&(f.current.destroy(),f.current=null)},[]);a.useEffect(()=>{const q=Bt(r,k,C);if(Q(q.min),J(q.max),f.current){const $=E==="double"?[q.min,q.max]:[q.min];f.current.set($,!1),requestAnimationFrame(()=>{f.current&&f.current.set($,!1)})}},[r,k,C,E]),a.useEffect(()=>{if(w&&L==="popup"){const q=setTimeout(()=>{K()},100);return()=>clearTimeout(q)}return()=>{L==="popup"&&ne()}},[w,L,K,ne]),a.useEffect(()=>{if(L==="inline")return K(),()=>ne()},[L,K,ne]),a.useEffect(()=>{if(!f.current||!b)return;f.current.updateOptions({range:{min:k,max:C}},!0);let q=O,$=z;q<k&&(q=k),q>C&&(q=C),E==="double"&&($<k&&($=k),$>C&&($=C),q>$&&(q=$)),E==="double"?f.current.set([q,$]):f.current.set([q]),Q(q),J($)},[b,k,C,E]);const oe=a.useCallback(()=>{v(!0)},[]),W=a.useCallback((q,$)=>q===k&&$===C?null:E==="double"?`${q}..${$}`:S==="greater_than"||S==="in_range"?`${q}..`:`..${$}`,[E,S,k,C]),y=q=>{const $=q.target.value===""?k:Number(q.target.value);Q($),f.current&&f.current.set(E==="double"?[$,z]:[$]),L==="minmax"&&s(W($,z))},M=q=>{const $=q.target.value===""?C:Number(q.target.value);J($),f.current&&f.current.set([O,$]),L==="minmax"&&s(W(O,$))},I=a.useCallback(()=>{s(W(O,z)),v(!1)},[O,z,W,s]),Y=a.useCallback(()=>{Q(k),J(C),f.current&&f.current.set(E==="double"?[k,C]:[k]),s(null)},[k,C,E,s]),re=()=>React.createElement("div",{className:"ts-minmax"},React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(k),value:O,onChange:y,min:k,max:z,step:_}),E==="double"&&React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(C),value:z,onChange:M,min:O,max:C,step:_})),ee=()=>React.createElement("div",{className:`range-slider-wrapper${c?" ts-loading":""}`},React.createElement("div",{className:"range-value"},fe),React.createElement("div",{ref:m,className:"range-slider"}),b&&(b.min!==D||b.max!==T)&&React.createElement("div",{className:"range-narrowed-indicator"},React.createElement("small",null,"Showing ",j(k),"  ",j(C)," based on current results")));if(L==="minmax"&&E==="double"){const{style:q,className:$}=se(t,"ts-form-group");return React.createElement("div",{className:$,style:q},!t.hideLabel&&React.createElement("label",null,e.label),re())}if(L==="inline"){const{style:q,className:$}=se(t,"ts-form-group ts-inline-filter");return React.createElement("div",{className:$,style:q},!t.hideLabel&&React.createElement("label",null,e.label),ee())}const{style:he,className:Me}=se(t,"ts-form-group"),Re=Ce(t);return React.createElement("div",{className:Me,style:he},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:d,className:`ts-filter ts-popup-target ${X?"ts-filled":""}`,onClick:oe,onMouseDown:q=>q.preventDefault(),role:"button",tabIndex:0},H&&React.createElement("span",{dangerouslySetInnerHTML:{__html:H}}),React.createElement("div",{className:"ts-filter-text"},de),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:w,target:d,title:"",icon:H,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:I,onClear:Y,onClose:()=>v(!1),className:`${i}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:Re.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label,e.description&&React.createElement("small",null,e.description)),ee())))}function qr(t,e){let r=null;return function(...s){r&&clearTimeout(r),r=setTimeout(()=>t.apply(this,s),e)}}function Kr({config:t,filterData:e,value:r,onChange:s,blockId:l}){const p=l?`voxel-popup-${l}`:"",c=e.props||{},i=c.min??0,d=c.max??99,m=c.step??1,f=c.default??i,w=c.placeholder||e.label||"Any",v=t.displayAs||e.props?.display_as||"popup",g=e.icon||"",D=a.useRef(null),[T,_]=a.useState(!1),B=typeof r=="number"?r:f,[L,E]=a.useState(B),S=a.useMemo(()=>qr(z=>s(z),300),[s]);a.useEffect(()=>{E(typeof r=="number"?r:f)},[r,f]),a.useEffect(()=>{T&&E(B)},[T,B]);const P=z=>{z.preventDefault();const J=Math.max(i,L-m);E(J),v==="inline"&&S(J)},b=z=>{z.preventDefault();const J=Math.min(d,L+m);E(J),v==="inline"&&S(J)},k=z=>{const J=parseInt(z.target.value,10);if(!isNaN(J)){const j=Math.min(d,Math.max(i,J));E(j),v==="inline"&&S(j)}},C=a.useCallback(()=>{_(!0)},[]),R=a.useCallback(()=>{s(L),_(!1)},[L,s]),h=a.useCallback(()=>{E(f),s(f)},[f,s]),x=()=>React.createElement("div",{className:"ts-stepper-input flexify"},React.createElement("button",{type:"button",className:"ts-stepper-left ts-icon-btn inline-btn-ts",onClick:P},React.createElement("i",{className:"las la-minus"})),React.createElement("input",{type:"number",className:"ts-input-box",min:i,max:d,step:m,value:L,onChange:k,placeholder:w}),React.createElement("button",{type:"button",className:"ts-stepper-right ts-icon-btn inline-btn-ts",onClick:b},React.createElement("i",{className:"las la-plus"})));if(v==="inline"){const{style:z,className:J}=se(t,"ts-form-group ts-inline-filter");return React.createElement("div",{className:J,style:z},!t.hideLabel&&React.createElement("label",null,e.label),x())}const H=B!==f,{style:G,className:O}=se(t,"ts-form-group"),Q=Ce(t);return React.createElement("div",{className:O,style:G},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:D,className:`ts-filter ts-popup-target ${H?"ts-filled":""}`,onClick:C,onMouseDown:z=>z.preventDefault(),role:"button",tabIndex:0},g&&React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),React.createElement("div",{className:"ts-filter-text"},H?L:w),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:T,target:D,title:"",icon:g,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:R,onClear:h,onClose:()=>_(!1),className:`${p}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:Q.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label,e.description&&React.createElement("small",null,e.description)),x())))}function Zr(t){return t==null||t===""?[]:typeof t=="string"?t.split(",").map(e=>e.trim()).filter(e=>e!==""):Array.isArray(t)?t.length>0&&typeof t[0]=="string"?t:t.length>0&&typeof t[0]=="number"?t.map(String):[]:[]}function ct(t){return t.length===0?null:t.join(",")}function Jr({config:t,filterData:e,value:r,onChange:s,blockId:l,narrowedValues:p,isNarrowing:c}){const i=l?`voxel-popup-${l}`:"",d=a.useRef(null),m=a.useRef(null),[f,w]=a.useState(!1),[v,g]=a.useState(""),D=e.props||{},T=D.multiple??!0,_=D.placeholder||e.label||"Select",B=t.displayAs||D.display_as||"popup",L=t.hideEmptyTerms??D.hide_empty_terms??!1,E=e.icon||"",S=D.taxonomy||t.filterKey,P=p?.terms?.[S],b=a.useCallback(W=>{const y=(M,I,Y)=>{const re={...M,parentRef:I||void 0,hasSelection:!1,depth:Y};return M.children&&M.children.length>0&&(re.children=M.children.map(ee=>y(ee,re,Y+1))),re};return W.map(M=>y(M,null,0))},[]),k=a.useMemo(()=>{const W=D.terms||[];return b(W)},[D,b]),C=a.useMemo(()=>{const W=new Map,y=M=>{W.set(M.slug,M),M.children&&M.children.forEach(I=>y(I))};return k.forEach(M=>y(M)),W},[k]),R=a.useMemo(()=>{const W=[],y=M=>{M.forEach(I=>{L&&P&&I.term_taxonomy_id&&P[I.term_taxonomy_id]===0||(W.push(I),I.children&&I.children.length>0&&y(I.children))})};return y(k),W},[k,L,P]),h=a.useCallback(W=>!P||!W.term_taxonomy_id?null:P[W.term_taxonomy_id]??null,[P]),x=a.useMemo(()=>Zr(r),[r]),H=a.useCallback(W=>W.slug?x.includes(W.slug):!1,[x]),G=a.useMemo(()=>R.filter(W=>W.slug&&x.includes(W.slug)),[R,x]),O=a.useMemo(()=>{if(!v)return R;const W=v.toLowerCase();return R.filter(y=>y.label.toLowerCase().includes(W))},[R,v]);a.useEffect(()=>{f&&(g(""),R.length>=15&&setTimeout(()=>m.current?.focus(),50))},[f,R.length]);const Q=a.useCallback(()=>{w(!0)},[]),z=a.useCallback(W=>{const y=W.slug;if(y)if(T){let M=[...x];if(M.includes(y)){M=M.filter(Y=>Y!==y);let I=W.parentRef;for(;I;)I.children?.some(re=>M.includes(re.slug)||re.hasSelection)||(I.hasSelection=!1),I=I.parentRef;s(ct(M))}else{M.push(y);let I=W.parentRef;for(;I;)M=M.filter(re=>re!==I.slug),I.hasSelection=!0,I=I.parentRef;const Y=new Set;M.forEach(re=>{const ee=C.get(re);if(!ee)return;let he=ee.parentRef;const Me=[];let Re=!1;for(;he;){if(he.slug===y){Re=!0;break}Me.push(he),he=he.parentRef}Re&&(Y.add(ee.slug),Me.forEach(q=>{q.hasSelection=!1}))}),M=M.filter(re=>!Y.has(re)),s(ct(M))}}else s(ct([y])),B!=="inline"&&w(!1)},[T,x,s,C,B]),J=a.useCallback(()=>{w(!1)},[]),j=a.useCallback(()=>{s(null)},[s]),X=x.length>0,de=X&&G[0]?.label||_,fe=G.length>1?G.length-1:0;if(B==="inline"){const{style:W,className:y}=se(t,"ts-form-group inline-terms-wrapper ts-inline-filter min-scroll");return React.createElement("div",{className:`${y}${c?" ts-loading":""}`,style:W},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{className:"ts-term-dropdown ts-multilevel-dropdown inline-multilevel"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},R.map(M=>{const I=H(M),Y=h(M),re=Y===0;return React.createElement("li",{key:M.slug,className:`${I?"ts-selected":""}${re?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:ee=>{ee.preventDefault(),re||z(M)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${T?"checkbox":"radio"}`},React.createElement("input",{type:T?"checkbox":"radio",checked:I,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,M.depth>0?" ".repeat(M.depth):"",M.label),Y!==null&&React.createElement("span",{className:"ts-term-count"},"(",Y,")"),M.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:M.icon}})))}))))}if(B==="buttons"){const{style:W,className:y}=se(t,"ts-form-group");return React.createElement("div",{className:y,style:W},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},R.map(M=>{const I=H(M);return React.createElement("li",{key:M.slug,className:`flexify ${I?"adb-selected":""}`,onClick:()=>z(M)},M.label)})))}const{style:K,className:ne}=se(t,"ts-form-group"),oe=Ce(t);return React.createElement("div",{className:ne,style:K},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:d,className:`ts-filter ts-popup-target ${X?"ts-filled":""}`,onClick:Q,onMouseDown:W=>W.preventDefault(),role:"button",tabIndex:0},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("div",{className:"ts-filter-text"},de,fe>0&&React.createElement("span",{className:"term-count"},"+",fe)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:f,target:d,title:"",icon:E,saveLabel:"Save",clearLabel:"Clear",showClear:!0,showSave:T,onSave:J,onClear:j,onClose:()=>w(!1),className:`${i}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:oe.style},R.length>=15&&React.createElement("div",{className:"ts-sticky-top uib b-bottom"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("span",null,Se.search),React.createElement("input",{ref:m,type:"text",value:v,onChange:W=>g(W.target.value),placeholder:"Search",className:"autofocus"}))),React.createElement("div",{className:`ts-term-dropdown ts-multilevel-dropdown ts-md-group${c?" ts-loading":""}`},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},O.map(W=>{const y=H(W),M=h(W),I=M===0;return React.createElement("li",{key:W.slug,className:`${y?"ts-selected":""}${I?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:Y=>{Y.preventDefault(),I||z(W)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${T?"checkbox":"radio"}`},React.createElement("input",{type:T?"checkbox":"radio",checked:y,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,W.depth>0?" ".repeat(W.depth):"",W.label),M!==null&&React.createElement("span",{className:"ts-term-count"},"(",M,")"),W.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:W.icon}})))})),O.length===0&&React.createElement("div",{className:"ts-empty-user-tab"},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("p",null,"No results found")))))}function Fe(t){return!t||!t.address?null:t.swlat!==void 0&&t.swlng!==void 0&&t.nelat!==void 0&&t.nelng!==void 0?`${t.address};${t.swlat},${t.swlng}..${t.nelat},${t.nelng}`:t.lat!==void 0&&t.lng!==void 0?`${t.address};${t.lat},${t.lng},${t.radius||25}`:t.address}function Gr(t,e){if(t==null||t==="")return null;if(typeof t=="string"){const r=t.indexOf(";");if(r===-1)return{address:t};const s=t.substring(0,r),l=t.substring(r+1);if(l.includes("..")){const c=l.split(".."),i=c[0].split(","),d=c[1].split(",");return{address:s,swlat:Number(i[0]),swlng:Number(i[1]),nelat:Number(d[0]),nelng:Number(d[1])}}const p=l.split(",");return{address:s,lat:Number(p[0]),lng:Number(p[1]),radius:p[2]?Number(p[2]):e}}return typeof t=="object"?t:null}function Xr({config:t,filterData:e,value:r,onChange:s,blockId:l}){const p=l?`voxel-popup-${l}`:"",c=a.useRef(null),i=a.useRef(null),d=a.useRef(null),m=a.useRef(null),f=a.useRef(null),[w,v]=a.useState(!1),[g,D]=a.useState(!1),T=a.useRef(null),_=e.props||{},B=_.radius||{},L=B.default??25,E=B.min??1,S=B.max??100,P=B.step??1,b=_.units||"km",k=_.display_proximity_as||"popup",C=_.placeholder||e.label||"Location",R=t.displayAs||e.props?.display_as||"popup",h=e.icon||"",x=Gr(r,L)||{},[H,G]=a.useState(x.address||""),[O,Q]=a.useState(x.radius||L),z=a.useCallback(Z=>Math.round(Z*1e6)/1e6,[]),J=a.useCallback(Z=>`${Z}${b==="mi"?"mi":"km"}`,[b]),j=a.useCallback(()=>{!m.current||f.current||(It.create(m.current,{start:O,connect:[!0,!1],step:P,range:{min:E,max:S},behaviour:"tap-drag"}),f.current=m.current.noUiSlider,f.current.on("update",Z=>{Q(Math.round(Number(Z[0])))}),f.current.on("change",Z=>{const we=Math.round(Number(Z[0]));k==="inline"&&x.lat&&s(Fe({...x,radius:we}))}))},[O,P,E,S,k,x,s]),X=a.useCallback(()=>{f.current&&(f.current.destroy(),f.current=null)},[]);a.useEffect(()=>{if(k==="inline"&&x.lat){const Z=setTimeout(()=>j(),50);return()=>{clearTimeout(Z),X()}}},[k,x.lat,j,X]),a.useEffect(()=>{if(g){const Z=setTimeout(()=>j(),50);return()=>clearTimeout(Z)}return()=>X()},[g,j,X]),a.useEffect(()=>{const Z=x.radius||L;Q(Z),f.current&&f.current.set([Z])},[x.radius,L]);const de=a.useCallback(()=>{if(d.current||!i.current||typeof window>"u")return;const Z=window.Voxel?.Maps;if(!Z){console.warn("Voxel.Maps not available for autocomplete");return}Z.await(()=>{if(d.current)return;const we=t.autocomplete||{};d.current=new Z.Autocomplete(i.current,Ne=>{if(Ne){const Ve=Ne.viewport.getSouthWest(),ie=Ne.viewport.getNorthEast(),De={address:Ne.address,swlat:z(Ve.getLatitude()),swlng:z(Ve.getLongitude()),nelat:z(ie.getLatitude()),nelng:z(ie.getLongitude()),lat:z(Ne.latlng.getLatitude()),lng:z(Ne.latlng.getLongitude()),radius:x.radius||L};G(Ne.address),s(Fe(De)),R==="popup"&&v(!1)}else G(""),s(null)},we)})},[t.autocomplete,s,R,L,x.radius,z]);a.useEffect(()=>{(w||R==="inline")&&(G(x.address||""),w&&setTimeout(()=>i.current?.focus(),50))},[w,R,x.address]);const fe=a.useCallback(()=>{v(!0)},[]),K=a.useCallback(()=>{de()},[de]),ne=Z=>{G(Z.target.value),R==="inline"&&(Z.target.value?s(Fe({...x,address:Z.target.value})):s(null))},oe=Z=>{Z.preventDefault(),Z.stopPropagation(),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(we=>{const Ne={address:"Current Location",lat:we.coords.latitude,lng:we.coords.longitude,radius:L};G("Current Location"),s(Fe(Ne)),R==="popup"&&v(!1)},we=>{console.error("Geolocation error:",we)})},W=a.useCallback(()=>{s(H?Fe({...x,address:H}):null),v(!1)},[H,x,s]),y=a.useCallback(()=>{G(""),s(null)},[s]),M=a.useCallback(Z=>{Z.key==="Enter"&&(Z.preventDefault(),W())},[W]),I=a.useCallback(()=>{x.lat&&s(Fe({...x,radius:O})),D(!1)},[x,O,s]),Y=a.useCallback(()=>{Q(L),f.current&&f.current.set([L]),x.lat&&s(Fe({...x,radius:L}))},[L,x,s]),re=!!x.address||!!x.lat,ee=re?x.address||"Location set":C,he=()=>React.createElement("div",{className:"ts-input-icon flexify",style:{position:"relative"}},h&&React.createElement("span",{dangerouslySetInnerHTML:{__html:h}}),React.createElement("input",{ref:i,type:"text",className:"inline-input",placeholder:C,value:H,onChange:ne,onKeyDown:M,onFocus:K}),React.createElement("a",{href:"#",className:"inline-user-location ts-icon-btn",onClick:oe,title:"Use my location","aria-label":"Use my location"},Se.crosshairs)),Me=()=>React.createElement("div",{className:"range-slider-wrapper"},React.createElement("div",{className:"range-value"},J(O)),React.createElement("div",{ref:m,className:"range-slider"})),Re=()=>!x.lat||k==="inline"?null:React.createElement("div",{className:"ts-form-group ts-proximity-filter"},React.createElement("label",null,_.proximity_label||"Radius"),React.createElement("div",{ref:T,className:`ts-filter ts-popup-target ${x.radius?"ts-filled":""}`,onClick:()=>D(!0),onMouseDown:Z=>Z.preventDefault(),role:"button",tabIndex:0},React.createElement("div",{className:"ts-filter-text"},J(x.radius||L)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:g,target:T,title:"",saveLabel:"Save",clearLabel:"Reset",showClear:!0,onSave:I,onClear:Y,onClose:()=>D(!1),className:`${p}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ke.style},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,_.proximity_label||"Search radius"),Me()))),q=()=>k!=="inline"||!x.lat?null:React.createElement("div",{className:"ts-form-group ts-inline-proximity"},React.createElement("label",null,_.proximity_label||"Radius",": ",J(O)),React.createElement("div",{ref:m,className:"range-slider"}));if(R==="inline"){const{style:Z,className:we}=se(t,"ts-form-group ts-inline-filter");return React.createElement(React.Fragment,null,React.createElement("div",{className:we,style:Z},!t.hideLabel&&React.createElement("label",null,e.label),he()),q(),Re())}const{style:$,className:Pe}=se(t,"ts-form-group"),ke=Ce(t);return React.createElement(React.Fragment,null,React.createElement("div",{className:Pe,style:$},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:c,className:`ts-filter ts-popup-target ${re?"ts-filled":""}`,onClick:fe,onMouseDown:Z=>Z.preventDefault(),role:"button",tabIndex:0},h&&React.createElement("span",{dangerouslySetInnerHTML:{__html:h}}),React.createElement("div",{className:"ts-filter-text"},ee),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:w,target:c,title:"",icon:h,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:W,onClear:y,onClose:()=>v(!1),className:`${p}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:ke.style},React.createElement("div",{className:"ts-form-group"},he()))),q(),Re())}function Yr(t){if(t==null||t==="")return{date:"",slots:1};if(typeof t=="string")return{date:t,slots:1};if(typeof t=="object"){const e=t;return{date:e.date||"",slots:e.slots||1}}return{date:"",slots:1}}const He=t=>{if(!t)return null;try{const e=new Date(t+"T00:00:00");return isFinite(e.getTime())?e:null}catch{return null}},Ie=t=>{if(!t)return null;const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${s}`},Ue=t=>{if(!t)return"";try{const e=new Date(t+"T00:00:00");return isFinite(e.getTime())?e.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}catch{return t}};function Qr({config:t,filterData:e,value:r,onChange:s,blockId:l}){const p=[l?`voxel-popup-${l}`:"",t.id?`elementor-repeater-item-${t.id}`:""].filter(Boolean).join(" "),c=a.useRef(null),i=a.useRef(null),[d,m]=a.useState(!1),f=e.props||{},v=(f.inputMode||"date-range")==="date-range",g=f.l10n||{},D=g.pickDate||e.label||"Select dates",T=e.icon||"",_=Yr(r),B=_.date,L=_.slots;let E="",S="";v&&B&&B.includes("..")?[E,S]=B.split(".."):!v&&B&&(E=B);const[P,b]=a.useState(()=>He(E)),[k,C]=a.useState(()=>He(S)),[R,h]=a.useState("start"),[x,H]=a.useState(L);a.useEffect(()=>{if(d){if(v&&B&&B.includes("..")){const[K,ne]=B.split("..");b(He(K)),C(He(ne))}else!v&&B&&b(He(B));H(L),h("start")}},[d,v,B,L]);const G=a.useCallback(()=>{m(!0)},[]),O=a.useCallback(K=>{if(v&&K&&i.current)if(R==="start")b(K),h("end"),i.current.setStartRange(K),i.current.setEndRange(null),i.current.draw();else if(P&&K<P)b(K),C(null),i.current.setStartRange(K),i.current.setEndRange(null),i.current.draw();else{C(K),h("start"),i.current.setEndRange(K),i.current.draw();const ne=Ie(P),oe=Ie(K);ne&&oe&&(s(`${ne}..${oe}`),m(!1))}else b(K)},[v,R,P,s]);a.useCallback(K=>{H(Number(K.target.value)||1)},[]);const Q=a.useCallback(K=>{if(v){const ne=Ie(P),oe=Ie(k);ne&&oe&&s(`${ne}..${oe}`)}else{const oe=Ie(K!==void 0?K:P);oe&&s(oe)}m(!1)},[v,P,k,s]),z=a.useCallback(()=>{b(null),C(null),H(1),s(null),i.current&&(i.current.setStartRange(null),i.current.setEndRange(null))},[s]),J=v?!!(E&&S):!!B,j=a.useMemo(()=>{if(!J)return D;if(v){const K=Ue(E),ne=Ue(S),oe=`${K}  ${ne}`;return L>1?`${oe} (${L})`:oe}else{const K=Ue(B);return L>1?`${K} (${L})`:K}},[v,J,E,S,B,L,D]),{style:X,className:de}=se(t,"ts-form-group"),fe=Ce(t);return React.createElement("div",{className:de,style:X},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:c,className:`ts-filter ts-popup-target ${J?"ts-filled":""}`,onClick:G,onMouseDown:K=>K.preventDefault(),role:"button",tabIndex:0},T&&React.createElement("span",{dangerouslySetInnerHTML:{__html:T}}),React.createElement("div",{className:"ts-filter-text"},j),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:d,target:c,title:"",icon:T,saveLabel:g.save||"Save",clearLabel:g.clear||"Clear",showSave:v,onSave:Q,onClear:z,onClose:()=>m(!1),className:`${p}${v?" ts-availability-wrapper xl-height xl-width":" md-width xl-height"}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:fe.style},v&&React.createElement("div",{className:"ts-popup-head flexify"},React.createElement("div",{className:"ts-popup-name flexify"},T&&React.createElement("span",{dangerouslySetInnerHTML:{__html:T}}),React.createElement("span",null,React.createElement("span",{className:R==="start"?"chosen":"",onClick:()=>h("start"),style:{cursor:"pointer"}},P?Ue(Ie(P)):g.checkIn||"Check-in"),React.createElement("span",null,"  "),React.createElement("span",{className:R==="end"?"chosen":"",onClick:()=>h("end"),style:{cursor:"pointer"}},k?Ue(Ie(k)):g.checkOut||"Check-out")))),React.createElement(Oe,{value:P,onChange:O,...!v&&{onSelect:Q},pickerConfig:{minDate:new Date,...v?{theme:"pika-range"}:{}},onPickerReady:K=>{i.current=K,v&&P&&(K.setStartRange(P),k&&K.setEndRange(k))}})))}function $r(t,e){if(t==null||t==="")return{from:"",to:""};if(typeof t=="string"){if(e&&t.includes("..")){const r=t.split("..");return{from:r[0]||"",to:r[1]||""}}return{from:t,to:""}}if(typeof t=="object"){const r=t;return{from:r.from||"",to:r.to||""}}return{from:"",to:""}}function Ze(t,e,r){return!t&&!e?null:r?t&&e?`${t}..${e}`:t?`${t}..`:e?`..${e}`:null:t||null}const Je=t=>{if(!t)return null;try{const e=new Date(t+"T00:00:00");return isFinite(e.getTime())?e:null}catch{return null}},At=t=>{if(!t)return null;const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${s}`},Ge=t=>{if(!t)return"";try{const e=new Date(t+"T00:00:00");return isFinite(e.getTime())?e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}catch{return t}};function es({config:t,filterData:e,value:r,onChange:s,blockId:l}){const p=l?`voxel-popup-${l}`:"",c=a.useRef(null),i=e.props||{},d=i.enable_range??!1,m=i.placeholder||e.label||"Select date",f=e.icon||"",w=$r(r,d),v=w.from,g=w.to,[D,T]=a.useState(!1),[_,B]=a.useState(!1),[L,E]=a.useState(()=>Je(v)),[S,P]=a.useState(()=>Je(g)),b=a.useCallback(()=>{E(Je(v)),T(!0)},[v]),k=a.useCallback(()=>{P(Je(g)),B(!0)},[g]),C=a.useCallback(X=>{E(X)},[]),R=a.useCallback(X=>{P(X)},[]),h=a.useCallback(X=>{const fe=At(X!==void 0?X:L)||"";s(Ze(fe,g,d)),T(!1)},[L,d,g,s]),x=a.useCallback(X=>{const fe=At(X!==void 0?X:S)||"";s(Ze(v,fe,d)),B(!1)},[S,v,d,s]),H=a.useCallback(()=>{E(null),s(Ze("",g,d))},[d,g,s]),G=a.useCallback(()=>{P(null),s(Ze(v,"",d))},[v,d,s]),O=d?!!v||!!g:!!v,Q=a.useMemo(()=>{if(!O)return m;if(d){const X=[];return v&&X.push(Ge(v)),g&&X.push(Ge(g)),X.join(" - ")||m}return Ge(v)||m},[O,d,v,g,m]),{style:z,className:J}=se(t,"ts-form-group"),j=Ce(t);return React.createElement("div",{className:J,style:z},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:c,className:`ts-filter ts-popup-target ${O?"ts-filled":""}`,onClick:b,onMouseDown:X=>X.preventDefault(),role:"button",tabIndex:0},f&&React.createElement("span",{dangerouslySetInnerHTML:{__html:f}}),React.createElement("div",{className:"ts-filter-text"},Q),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:D,target:c,title:d?"From":"",icon:f,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:h,onClear:H,onClose:()=>T(!1),className:`${p}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:j.style},React.createElement(Oe,{value:L,onChange:C,onSelect:h}),d&&React.createElement("div",{className:"ts-form-group",style:{marginTop:"12px",borderTop:"1px solid var(--ts-shade-5)",paddingTop:"12px"}},React.createElement("label",null,"To"),React.createElement("div",{className:`ts-filter ts-popup-target ${g?"ts-filled":""}`,onClick:X=>{X.stopPropagation(),T(!1),setTimeout(()=>k(),100)},role:"button",tabIndex:0},f&&React.createElement("span",{dangerouslySetInnerHTML:{__html:f}}),React.createElement("div",{className:"ts-filter-text"},g?Ge(g):"Select end date")))),d&&React.createElement(be,{isOpen:_,target:c,title:"To",icon:f,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:x,onClear:G,onClose:()=>B(!1),className:`${p}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:j.style},React.createElement(Oe,{value:S,onChange:R,onSelect:x})))}const Xe=t=>{if(!t)return null;try{const e=new Date(t+"T00:00:00");return isFinite(e.getTime())?e:null}catch{return null}},Dt=t=>{if(!t)return null;const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${s}`},ut=t=>{if(!t)return"";try{const e=new Date(t+"T00:00:00");return isFinite(e.getTime())?e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}catch{return t}};function ts({config:t,filterData:e,value:r,onChange:s,blockId:l}){const p=l?`voxel-popup-${l}`:"",c=a.useRef(null),d=(e.props||{}).placeholder||e.label||"Date",m=e.icon||"",f=r||{},w=f.from||"",v=f.to||"",[g,D]=a.useState(!1),[T,_]=a.useState(!1),[B,L]=a.useState(()=>Xe(w)),[E,S]=a.useState(()=>Xe(v)),P=a.useCallback(()=>{L(Xe(w)),D(!0)},[w]),b=a.useCallback(()=>{S(Xe(v)),_(!0)},[v]),k=a.useCallback(j=>{L(j)},[]),C=a.useCallback(j=>{S(j)},[]),R=a.useCallback(j=>{const de=Dt(j!==void 0?j:B)||"";s({from:de,to:v}),D(!1)},[B,v,s]),h=a.useCallback(j=>{const de=Dt(j!==void 0?j:E)||"";s({from:w,to:de}),_(!1)},[E,w,s]),x=a.useCallback(()=>{L(null),s({from:"",to:v})},[v,s]),H=a.useCallback(()=>{S(null),s({from:w,to:""})},[w,s]),G=!!w||!!v,O=a.useMemo(()=>{if(!G)return d;const j=[];return w&&j.push(ut(w)),v&&j.push(ut(v)),j.join(" - ")||d},[G,w,v,d]),{style:Q,className:z}=se(t,"ts-form-group"),J=Ce(t);return React.createElement("div",{className:z,style:Q},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:c,className:`ts-filter ts-popup-target ${G?"ts-filled":""}`,onClick:P,onMouseDown:j=>j.preventDefault(),role:"button",tabIndex:0},m&&React.createElement("span",{dangerouslySetInnerHTML:{__html:m}}),React.createElement("div",{className:"ts-filter-text"},O),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:g,target:c,title:"From",icon:m,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:R,onClear:x,onClose:()=>D(!1),className:`${p}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:J.style},React.createElement(Oe,{value:B,onChange:k,onSelect:R}),React.createElement("div",{className:"ts-form-group",style:{marginTop:"12px",borderTop:"1px solid var(--ts-shade-5)",paddingTop:"12px"}},React.createElement("label",null,"To"),React.createElement("div",{className:`ts-filter ts-popup-target ${v?"ts-filled":""}`,onClick:j=>{j.stopPropagation(),D(!1),setTimeout(()=>b(),100)},role:"button",tabIndex:0},m&&React.createElement("span",{dangerouslySetInnerHTML:{__html:m}}),React.createElement("div",{className:"ts-filter-text"},v?ut(v):"Select end date")))),React.createElement(be,{isOpen:T,target:c,title:"To",icon:m,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:h,onClear:H,onClose:()=>_(!1),className:`${p}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:J.style},React.createElement(Oe,{value:E,onChange:C,onSelect:h})))}function rs({config:t,filterData:e,value:r,onChange:s}){const l=r===!0||r==="true"||r==="1",p=m=>{m.preventDefault(),s(!l)},c=e.props?.placeholder||e.label||"Open now",{style:i,className:d}=se(t,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:d,style:i},React.createElement("label",null,React.createElement("div",{className:"switch-slider"},React.createElement("div",{className:"onoffswitch",onClick:p},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:l,readOnly:!0}),React.createElement("label",{className:"onoffswitch-label",onClick:p}))),c))}function ss({config:t,filterData:e,value:r,onChange:s,blockId:l}){const p=l?`voxel-popup-${l}`:"",c=a.useRef(null),[i,d]=a.useState(!1),m=e.props||{},f=t.displayAs||e.props?.display_as||"popup",w=m.placeholder||e.label||"Order By",v=a.useMemo(()=>{const R=m.choices||{};return Array.isArray(R)?R:Object.entries(R).map(([h,x])=>({key:h,label:x.label||x,placeholder:x.placeholder||x.label||x,icon:x.icon||""}))},[m.choices]),g=e.icon||"",D=a.useCallback(()=>{d(!0)},[]),T=a.useCallback(R=>{s(R),f==="popup"&&d(!1)},[s,f]),_=a.useCallback(()=>{s(null)},[s]),B=typeof r=="string"?r:"",L=!!B,E=v.find(R=>R.key===B),S=E?.placeholder||E?.label||w,P=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},v.map(R=>{const h=B===R.key;return React.createElement("li",{key:R.key,className:h?"ts-selected":""},React.createElement("a",{href:"#",className:"flexify",onClick:x=>{x.preventDefault(),T(R.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:R.key,checked:h,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,R.label),R.icon&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:R.icon}}))))})));if(f==="buttons"){const{style:R,className:h}=se(t,"ts-form-group");return React.createElement("div",{className:h,style:R},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},v.map(x=>{const H=B===x.key;return React.createElement("li",{key:x.key,className:`flexify${H?" adb-selected":""}`,onClick:()=>T(x.key)},x.placeholder||x.label)})))}if(f==="alt-btn")return React.createElement(React.Fragment,null,v.map(R=>{const h=B===R.key,{style:x,className:H}=se(t,"ts-form-group");return React.createElement("div",{key:R.key,className:H,style:x},!t.hideLabel&&React.createElement("label",null,R.label),React.createElement("div",{className:`ts-filter${h?" ts-filled":""}`,onClick:()=>T(R.key)},R.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:R.icon}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,R.placeholder||R.label))))}));const{style:b,className:k}=se(t,"ts-form-group"),C=Ce(t);return React.createElement("div",{className:k,style:b},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:c,className:`ts-filter ts-popup-target ${L?"ts-filled":""}`,onClick:D,onMouseDown:R=>R.preventDefault(),role:"button",tabIndex:0},g&&React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),React.createElement("div",{className:"ts-filter-text"},S),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:i,target:c,title:"",icon:g,saveLabel:"Save",clearLabel:"Clear",showClear:L,showSave:!1,onSave:()=>d(!1),onClear:_,onClose:()=>d(!1),className:`hide-head ${p}${t.popupCenterPosition?" ts-popup-centered":""}`.trim(),popupStyle:C.style},P()))}function ns({config:t,filterData:e,value:r,onChange:s,blockId:l}){const p=l?`voxel-popup-${l}`:"",[c,i]=a.useState(!1),d=a.useRef(null),m=e.props||{},f=t.displayAs||e.props?.display_as||"popup",w=m.placeholder||e.label||"Status",v=a.useMemo(()=>{const C=m.choices||{};return Array.isArray(C)?C:Object.entries(C).map(([R,h])=>({key:R,label:h.label||h}))},[m.choices]),g=e.icon||"",D=a.useCallback(C=>{s(C),i(!1)},[s]),T=a.useCallback(()=>{i(!0)},[]),_=typeof r=="string"?r:"",B=!!_,L=v.find(C=>C.key===_),E=B&&L?.label||w,S=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},v.map(C=>{const R=_===C.key;return React.createElement("li",{key:C.key},React.createElement("a",{href:"#",className:"flexify",onClick:h=>{h.preventDefault(),D(C.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:C.key,checked:R,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,C.label),g&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}))))})));if(f==="buttons")return React.createElement(React.Fragment,null,v.map(C=>{const R=_===C.key,{style:h,className:x}=se(t,"ts-form-group");return React.createElement("div",{key:C.key,className:x,style:h},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{className:`ts-filter${R?" ts-filled":""}`,onClick:()=>s(C.key)},g&&React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,C.label))))}));const{style:P,className:b}=se(t,"ts-form-group"),k=Ce(t);return React.createElement("div",{className:b,style:P},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:d,className:`ts-filter ts-popup-target ${B?"ts-filled":""}`,onClick:T,onMouseDown:C=>C.preventDefault(),role:"button",tabIndex:0},g&&React.createElement("span",{dangerouslySetInnerHTML:{__html:g}}),React.createElement("div",{className:"ts-filter-text"},E),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:c,target:d,title:"",icon:g,saveLabel:"Save",showSave:!1,showClear:!1,onSave:()=>i(!1),onClose:()=>i(!1),className:`hide-head ${p}${t.popupCenterPosition?" ts-popup-centered":""}`.trim(),popupStyle:k.style},S()))}function as(t){const{userId:e,skip:r=!1}=t,[s,l]=a.useState(null),[p,c]=a.useState(!1),[i,d]=a.useState(null),m=a.useCallback(async()=>{if(!e||r){l(null);return}c(!0),d(null);try{const f=tt(),w=await fetch(`${f}voxel-fse/v1/search-form/user-data?user_id=${e}`);if(w.ok){const v=await w.json();l({id:v.id,name:v.name,avatar:v.avatar||""})}else l({id:e,name:"Unknown",avatar:""}),d("User not found")}catch(f){console.error("useUserData: Error fetching user data:",f),l({id:e,name:"Unknown",avatar:""}),d(f instanceof Error?f.message:"Failed to fetch user data")}finally{c(!1)}},[e,r]);return a.useEffect(()=>{m()},[m]),{userData:s,isLoading:p,error:i,refetch:m}}function ls({config:t,filterData:e,value:r}){const s=a.useRef(null),l=e.props||{},p=e.icon||"",c=l.user;let i;r!==void 0?i=r:e.value!==null&&e.value!==void 0?i=e.value:i=null;const d=i?Number(i):null,m=d!==null&&!isNaN(d)&&d>0,f=!!c?.name,{userData:w,isLoading:v}=as({userId:m?d:null,skip:f}),g=f?{name:c.name,avatar:c.avatar||""}:w;if(!m)return null;const D=g?.name||(v?"Loading...":"Unknown"),{style:T,className:_}=se(t,"ts-form-group");return React.createElement("div",{className:_,style:T},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:s,className:`ts-filter ts-popup-target ts-filled${v?" ts-loading":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:p}}),React.createElement("div",{className:"ts-filter-text"},D)))}function os({config:t,filterData:e,value:r,onChange:s,blockId:l}){const p=l?`voxel-popup-${l}`:"",c=a.useRef(null),i=a.useRef(null),[d,m]=a.useState(!1),[f,w]=a.useState(""),[v,g]=a.useState([]),[D,T]=a.useState(!1),_=e.props||{},B=_.placeholder||e.label||"Related",L=_.post,E=e.icon||"";a.useEffect(()=>{d&&(w(""),g([]),setTimeout(()=>i.current?.focus(),50))},[d]);const S=a.useCallback(()=>{m(!0)},[]),P=a.useCallback(O=>{const Q=O.target.value;w(Q),Q.length>=2?(T(!0),setTimeout(()=>{g([]),T(!1)},300)):g([])},[]),b=a.useCallback((O,Q)=>{s({id:O,title:Q}),m(!1),w("")},[s]),k=a.useCallback(()=>{s(null),w(""),g([])},[s]);let C=null;if(r!==void 0){const O=r;O===null?C=null:typeof O=="number"?C=O:typeof O=="object"&&O?.id&&(C=O.id)}else e.value!==null&&e.value!==void 0&&(C=typeof e.value=="number"?e.value:Number(e.value));const R=C!==null&&!isNaN(C)&&C>0;let h=B;if(R){const O=r;O&&typeof O=="object"&&O.title?h=O.title:L?.title&&(h=L.title)}const{style:x,className:H}=se(t,"ts-form-group"),G=Ce(t);return React.createElement("div",{className:H,style:x},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{ref:c,className:`ts-filter ts-popup-target ${R?"ts-filled":""}`,onClick:S,onMouseDown:O=>O.preventDefault(),role:"button",tabIndex:0},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("div",{className:"ts-filter-text"},h),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:d,target:c,title:"",icon:E,saveLabel:"Save",clearLabel:"Clear",showClear:R,showSave:!1,onSave:()=>m(!1),onClear:k,onClose:()=>m(!1),className:`${p}${t.popupCenterPosition?" ts-popup-centered":""}`,popupStyle:G.style},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,Se.search),React.createElement("input",{ref:i,type:"text",className:"inline-input",value:f,onChange:P,placeholder:"Search..."}))),D?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):v.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},v.map(O=>React.createElement("li",{key:O.id},React.createElement("a",{href:"#",className:"flexify",onClick:Q=>{Q.preventDefault(),b(O.id,O.title)}},React.createElement("span",null,O.title)))))):f.length>=2?React.createElement("div",{className:"ts-empty-user-tab"},E&&React.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),React.createElement("p",null,"No results found")):null))}function dt({config:t,filterData:e,value:r,onChange:s}){const[l,p]=a.useState(!1),[c,i]=a.useState(""),[d,m]=a.useState([]),[f,w]=a.useState(!1),v=a.useRef(null),g=e.props||{},D=g.placeholder||e.label||"Following",T=g.user,_=e.icon||"",B=h=>{const x=h.target.value;i(x),x.length>=2?(w(!0),setTimeout(()=>{m([]),w(!1)},300)):m([])},L=(h,x)=>{s({id:h,name:x}),p(!1),i("")},E=h=>{h.preventDefault(),p(!l)};a.useEffect(()=>{const h=x=>{v.current&&!v.current.contains(x.target)&&p(!1)};return l&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[l]);let S=null;if(r!==void 0){const h=r;h===null?S=null:typeof h=="number"?S=h:typeof h=="object"&&h?.id&&(S=h.id)}else e.value!==null&&e.value!==void 0&&(S=typeof e.value=="number"?e.value:Number(e.value));const P=S!==null&&!isNaN(S)&&S>0;let b=D;if(P){const h=r;h&&typeof h=="object"&&h.name?b=h.name:T?.name&&(b=T.name)}const{style:k,className:C}=se(t,"ts-form-group"),R=Ce(t);return React.createElement("div",{className:C,style:k,ref:v},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{className:`ts-filter ts-popup-target ${P?"ts-filled":""}`,onClick:E,onMouseDown:h=>h.preventDefault(),role:"button",tabIndex:0},_&&React.createElement("span",{dangerouslySetInnerHTML:{__html:_}}),React.createElement("div",{className:"ts-filter-text"},b),React.createElement("div",{className:"ts-down-icon"})),l&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:R.className,style:R.style},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,Se.search),React.createElement("input",{type:"text",className:"inline-input",value:c,onChange:B,placeholder:"Search..."}))),f?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):d.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},d.map(h=>React.createElement("li",{key:h.id},React.createElement("a",{href:"#",className:"flexify",onClick:x=>{x.preventDefault(),L(h.id,h.name)}},React.createElement("span",null,h.name)))))):c.length>=2?React.createElement("div",{className:"ts-empty-user-list"},React.createElement("span",null,"No results found")):null))))}function is({config:t,filterData:e,value:r,onChange:s}){const[l,p]=a.useState(!1),[c,i]=a.useState(""),[d,m]=a.useState([]),[f,w]=a.useState(!1),v=a.useRef(null),g=e.props||{},D=g.placeholder||e.label||"Following Post",T=g.post,_=e.icon||"",B=h=>{const x=h.target.value;i(x),x.length>=2?(w(!0),setTimeout(()=>{m([]),w(!1)},300)):m([])},L=(h,x)=>{s({id:h,title:x}),p(!1),i("")},E=h=>{h.preventDefault(),p(!l)};a.useEffect(()=>{const h=x=>{v.current&&!v.current.contains(x.target)&&p(!1)};return l&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[l]);let S=null;if(r!==void 0){const h=r;h===null?S=null:typeof h=="number"?S=h:typeof h=="object"&&h?.id&&(S=h.id)}else e.value!==null&&e.value!==void 0&&(S=typeof e.value=="number"?e.value:Number(e.value));const P=S!==null&&!isNaN(S)&&S>0;let b=D;if(P){const h=r;h&&typeof h=="object"&&h.title?b=h.title:T?.title&&(b=T.title)}const{style:k,className:C}=se(t,"ts-form-group"),R=Ce(t);return React.createElement("div",{className:C,style:k,ref:v},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("div",{className:`ts-filter ts-popup-target ${P?"ts-filled":""}`,onClick:E,onMouseDown:h=>h.preventDefault(),role:"button",tabIndex:0},_&&React.createElement("span",{dangerouslySetInnerHTML:{__html:_}}),React.createElement("div",{className:"ts-filter-text"},b),React.createElement("div",{className:"ts-down-icon"})),l&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:R.className,style:R.style},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,Se.search),React.createElement("input",{type:"text",className:"inline-input",value:c,onChange:B,placeholder:"Search posts..."}))),f?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):d.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},d.map(h=>React.createElement("li",{key:h.id},React.createElement("a",{href:"#",className:"flexify",onClick:x=>{x.preventDefault(),L(h.id,h.title)}},React.createElement("span",null,h.title)))))):c.length>=2?React.createElement("div",{className:"ts-empty-user-list"},React.createElement("span",null,"No posts found")):null))))}function cs({config:t,filterData:e,value:r,onChange:s}){const l=r===!0||r==="true"||r==="1",p=d=>{d.preventDefault(),s(!l)},{style:c,className:i}=se(t,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:i,style:c},!t.hideLabel&&React.createElement("label",null,e.label),React.createElement("label",{className:`onoffswitch ts-${l?"on":"off"}`,onClick:p},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:l,readOnly:!0}),React.createElement("span",{className:"onoffswitch-trigger"})))}function us({config:t,filterData:e}){const r=e.props?.description||"",{style:s,className:l}=se(t,"ts-form-group ui-heading");return React.createElement("div",{className:l,style:s},React.createElement("label",null,t.label||e.label,r&&React.createElement("small",null,r)))}function ds({postTypes:t,currentPostType:e,onChange:r,blockId:s,style:l}){const p=s?`voxel-popup-${s}`:"",[c,i]=a.useState(!1),d=a.useRef(null),m=a.useCallback(_=>{r(_),i(!1)},[r]),f=a.useCallback(()=>{i(!0)},[]),w=t.find(_=>_.key===e),v=w?.label||"Select type",g=!!e,D=w?.icon||"",T=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},t.map(_=>{const B=e===_.key;return React.createElement("li",{key:_.key},React.createElement("a",{href:"#",className:"flexify",onClick:L=>{L.preventDefault(),m(_.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:B,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,_.label),React.createElement("div",{className:"ts-term-icon ts-pull-right"},_.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:_.icon}}))))})));return React.createElement("div",{className:"ts-form-group choose-cpt-filter",style:l},React.createElement("label",null,"Post type"),React.createElement("div",{ref:d,className:`ts-filter ts-popup-target ${g?"ts-filled":""}`,onClick:f,onMouseDown:_=>_.preventDefault(),role:"button",tabIndex:0},D&&React.createElement("span",{dangerouslySetInnerHTML:{__html:D}}),React.createElement("div",{className:"ts-filter-text"},v),React.createElement("div",{className:"ts-down-icon"})),React.createElement(be,{isOpen:c,target:d,title:"",icon:D,saveLabel:"Save",showSave:!1,showClear:!1,onSave:()=>i(!1),onClose:()=>i(!1),className:`hide-head ${p}`.trim()},T()))}const fs={"common:is_empty":(t,e)=>e==null||e==="","common:is_not_empty":(t,e)=>e!=null&&e!=="","text:equals":(t,e)=>e===t.value,"text:not_equals":(t,e)=>e!==t.value,"text:contains":(t,e)=>typeof e!="string"||!t.value?!1:new RegExp(t.value,"i").test(e),"taxonomy:contains":(t,e)=>typeof e!="string"||!t.value?!1:e.split(",").includes(t.value),"taxonomy:not_contains":(t,e)=>typeof e!="string"||!t.value?!0:!e.split(",").includes(t.value),"number:equals":(t,e)=>{const r=parseFloat(String(e)),s=parseFloat(t.value||"0");return r===s},"number:not_equals":(t,e)=>{const r=parseFloat(String(e)),s=parseFloat(t.value||"0");return r!==s},"number:gt":(t,e)=>{const r=parseFloat(String(e)),s=parseFloat(t.value||"0");return r>s},"number:gte":(t,e)=>{const r=parseFloat(String(e)),s=parseFloat(t.value||"0");return r>=s},"number:lt":(t,e)=>{const r=parseFloat(String(e)),s=parseFloat(t.value||"0");return r<s},"number:lte":(t,e)=>{const r=parseFloat(String(e)),s=parseFloat(t.value||"0");return r<=s}};function ps(t,e,r){const s=fs[t.type];if(!s)return console.warn(`[filterConditions] Unknown condition type: ${t.type}`),!1;let l=e;return r==="order-by"&&typeof e=="string"&&e.length>0&&(l=e.split("(")[0]),s(t,l)}function ms(t,e="show",r,s){if(!t||t.length===0)return!0;let l=!1;return t.forEach(p=>{if(!p.length)return;let c=!0;p.forEach(i=>{const d=r[i.source],f=s[i.source]?.type;ps(i,d,f)||(c=!1)}),c&&(l=!0)}),e==="hide"?!l:l}function hs(t,e,r){return ms(t.conditions,t.conditions_behavior||"show",e,r)}function vs(){const t=()=>{if(typeof window>"u")return"desktop";const s=window.innerWidth;return s<=767?"mobile":s<=1024?"tablet":"desktop"},[e,r]=a.useState(t);return a.useEffect(()=>{const s=()=>{r(t())};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),e}function gs({attributes:t,postTypes:e,context:r,editorDeviceType:s,onSubmit:l,onPostTypeChange:p,onFilterChange:c}){a.useRef(null);const i=a.useRef(null),{state:d,setCurrentPostType:m,setFilterValue:f,togglePortal:w,submit:v,clearAll:g,narrowedValues:D,narrowingFilters:T}=Yt({attributes:t,postTypes:e,context:r,onSubmit:l,onPostTypeChange:p,onFilterChange:c}),[_,B]=a.useState(""),[L,E]=a.useState("");a.useEffect(()=>{const y=async()=>{const I=t.searchButtonText??"";if(rt(I)){const Y=Et(I),re=await wt(Y);B(re)}else B(I)},M=async()=>{const I=t.resetButtonText??"Reset";if(rt(I)){const Y=Et(I),re=await wt(Y);E(re)}else E(I)};y(),M()},[t.searchButtonText,t.resetButtonText]),a.useEffect(()=>{if(!d.portalActive)return;const y=M=>{M.key==="Escape"&&w()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[d.portalActive,w]),a.useEffect(()=>{if(!d.portalActive)return;const y=I=>{const Y=I.target;i.current?.contains(Y)||r==="editor"&&(Y.closest(".interface-interface-skeleton__sidebar")||Y.closest(".edit-post-sidebar")||Y.closest(".block-editor-block-inspector")||Y.closest(".components-popover")||Y.closest(".components-modal"))||w()},M=requestAnimationFrame(()=>{document.addEventListener("mousedown",y)});return()=>{cancelAnimationFrame(M),document.removeEventListener("mousedown",y)}},[d.portalActive,w,r]),a.useEffect(()=>{if(r!=="frontend")return;const y=M=>{const I=M;I.detail?.searchFormId&&I.detail.searchFormId!==t.blockId||g()};return window.addEventListener("voxel-search-clear",y),()=>window.removeEventListener("voxel-search-clear",y)},[r,t.blockId,g]);const S=e.find(y=>y.key===d.currentPostType),P=t.filterLists?.[d.currentPostType]||[],b=y=>{v()},k=(y=!1)=>{g(y)},C={};S?.filters?.forEach(y=>{C[y.key]=y});const R=y=>{if(!(r==="frontend"?sr(y):!0))return null;const I=y;if(r==="frontend"&&I.conditions&&!hs(I,d.filterValues,C))return null;const Y=S?.filters?.find(he=>he.key===y.filterKey);if(!Y)return null;const re={...Y,value:y.defaultValueEnabled&&y.defaultValue!==void 0?y.defaultValue:Y.value},ee={config:y,filterData:re,value:d.filterValues[y.filterKey],onChange:he=>f(y.filterKey,he),narrowedValues:D,isNarrowing:T,blockId:t.blockId,context:r};switch(Y.type){case"keywords":return React.createElement(ar,{key:y.id,...ee});case"range":return React.createElement(jr,{key:y.id,...ee});case"stepper":return React.createElement(Kr,{key:y.id,...ee});case"terms":return React.createElement(Jr,{key:y.id,...ee});case"location":return React.createElement(Xr,{key:y.id,...ee});case"availability":return React.createElement(Qr,{key:y.id,...ee});case"date":return React.createElement(es,{key:y.id,...ee});case"recurring-date":return React.createElement(ts,{key:y.id,...ee});case"open-now":return React.createElement(rs,{key:y.id,...ee});case"order-by":return React.createElement(ss,{key:y.id,...ee});case"post-status":return React.createElement(ns,{key:y.id,...ee});case"user":return React.createElement(ls,{key:y.id,...ee});case"relations":return React.createElement(os,{key:y.id,...ee});case"following":return React.createElement(dt,{key:y.id,...ee});case"followed-by":return React.createElement(dt,{key:y.id,...ee});case"following-user":return React.createElement(dt,{key:y.id,...ee});case"following-post":return React.createElement(is,{key:y.id,...ee});case"switcher":return React.createElement(cs,{key:y.id,...ee});case"ui-heading":return React.createElement(us,{key:y.id,...ee});default:return null}},h=(y=!0)=>React.createElement("div",{className:"ts-filter-wrapper flexify"},t.showPostTypeFilter&&e.length>1&&React.createElement(ds,{postTypes:e,currentPostType:d.currentPostType,onChange:m,style:W()}),P.map(M=>R(M)),y&&t.showSearchButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-submit",id:"sf_submit",style:oe("search")},React.createElement("button",{type:"button",onClick:()=>b(),className:`ts-btn ts-btn-2 ts-btn-large ts-search-btn ${d.loading&&!d.resetting?"ts-loading-btn":""}`},d.loading&&!d.resetting&&React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{className:"ts-loader"})),nt(t.searchButtonIcon,Se.search),_&&_)),y&&t.showResetButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-reset",style:oe("reset")},React.createElement("a",{href:"#",onClick:M=>{M.preventDefault(),k(!1)},className:"ts-filter",role:"button"},nt(t.resetButtonIcon,Se.reload),L&&React.createElement("div",{className:"ts-filter-text"},L)))),x=vs(),H=r==="editor"&&s?s:x,G=H==="desktop"&&(t.mfSwitcherDesktop??!1)||H==="tablet"&&(t.mfSwitcherTablet??!1)||H==="mobile"&&(t.mfSwitcherMobile??!1),O=()=>H==="desktop"?t.mfSwitcherDesktopDefault??"feed":H==="tablet"?t.mfSwitcherTabletDefault??"feed":t.mfSwitcherMobileDefault??"feed",[Q,z]=a.useState(O);a.useEffect(()=>{z(O())},[H,t.mfSwitcherDesktopDefault,t.mfSwitcherTabletDefault,t.mfSwitcherMobileDefault]);const J=()=>{z("feed");const y=H,M=document.getElementById(t.postToMapId||""),I=document.getElementById(t.postToFeedId||"");M&&M.classList.add(`vx-hidden-${y}`),I&&I.classList.remove(`vx-hidden-${y}`)},j=()=>{z("map");const y=H,M=document.getElementById(t.postToMapId||""),I=document.getElementById(t.postToFeedId||"");M&&M.classList.remove(`vx-hidden-${y}`),I&&I.classList.add(`vx-hidden-${y}`)},X=()=>{if(!G||r==="editor")return null;const y=[t.mfSwitcherDesktop?"":"vx-hidden-desktop",t.mfSwitcherTablet?"":"vx-hidden-tablet",t.mfSwitcherMobile?"":"vx-hidden-mobile"].filter(Boolean).join(" ");return et.createPortal(React.createElement("div",{className:`ts-switcher-btn ${y}`},React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ${Q==="feed"?`vx-hidden-${H}`:""}`,onClick:M=>{M.preventDefault(),J()},role:"button"},Se.grid,"List view"),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ${Q==="map"?`vx-hidden-${H}`:""}`,onClick:M=>{M.preventDefault(),j()},role:"button"},Se.marker,"Map view")),document.body)},de=H==="desktop"&&(t.formToggleDesktop??!1)||H==="tablet"&&(t.formToggleTablet??!0)||H==="mobile"&&(t.formToggleMobile??!0),fe=de,K=!de,ne={postTypes:e.map(y=>({key:y.key,label:y.label,filters:y.filters})),currentPostType:d.currentPostType,filterLists:t.filterLists||{},portalMode:t.portalMode||{desktop:!1,tablet:!1,mobile:!1},showPostTypeFilter:t.showPostTypeFilter??!0,showSearchButton:t.showSearchButton??!0,showResetButton:t.showResetButton??!1,searchButtonText:t.searchButtonText||"",resetButtonText:t.resetButtonText||"",formToggleDesktop:t.formToggleDesktop??!1,formToggleTablet:t.formToggleTablet??!0,formToggleMobile:t.formToggleMobile??!0,searchButtonWidth:t.searchButtonWidth,searchButtonWidth_tablet:t.searchButtonWidth_tablet,searchButtonWidth_mobile:t.searchButtonWidth_mobile,searchButtonWidthUnit:t.searchButtonWidthUnit||"%",resetButtonWidth:t.resetButtonWidth,resetButtonWidth_tablet:t.resetButtonWidth_tablet,resetButtonWidth_mobile:t.resetButtonWidth_mobile,resetButtonWidthUnit:t.resetButtonWidthUnit||"%"},oe=y=>{const M=y==="search"?t.searchButtonWidthUnit||"%":t.resetButtonWidthUnit||"%";let I;return y==="search"?H==="mobile"?I=t.searchButtonWidth_mobile??t.searchButtonWidth_tablet??t.searchButtonWidth:H==="tablet"?I=t.searchButtonWidth_tablet??t.searchButtonWidth:I=t.searchButtonWidth:H==="mobile"?I=t.resetButtonWidth_mobile??t.resetButtonWidth_tablet??t.resetButtonWidth:H==="tablet"?I=t.resetButtonWidth_tablet??t.resetButtonWidth:I=t.resetButtonWidth,I!==void 0?{width:`${I}${M}`,flexGrow:0,flexShrink:0}:{}},W=()=>{let y;return H==="mobile"?y=t.postTypeFilterWidth_mobile??t.postTypeFilterWidth_tablet??t.postTypeFilterWidth:H==="tablet"?y=t.postTypeFilterWidth_tablet??t.postTypeFilterWidth:y=t.postTypeFilterWidth,y!==void 0?{width:`${y}%`,flexGrow:0,flexShrink:0}:{}};return React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form ts-search-widget","data-v-app":""},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(ne)}}),fe&&React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("a",{href:"#",onClick:y=>{y.preventDefault(),w()},onMouseDown:y=>y.preventDefault(),className:`ts-filter-toggle ts-btn ts-btn-1 ${d.activeFilterCount>0?"ts-filled":""}`,role:"button","aria-expanded":d.portalActive},Se.filterslider,React.createElement("div",{className:"ts-toggle-text"},"Filter results"),d.activeFilterCount>0&&React.createElement("span",{className:"ts-filter-count"},d.activeFilterCount))),React.createElement("form",{method:"GET",onSubmit:y=>(y.preventDefault(),!1)},K&&React.createElement("div",{className:"ts-inline-filters"},h())),React.createElement("div",{className:"hidden"},React.createElement("div",{className:"ts-search-portal"}))),d.portalActive&&et.createPortal(React.createElement("div",{className:`ts-search-portal vx-popup elementor voxel-fse-search-form-${t.blockId}`,"data-voxel-id":t.blockId},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form ts-search-widget no-render elementor-element"},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:i},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},h())),React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:y=>{y.preventDefault(),w()},className:"ts-icon-btn",role:"button","aria-label":"Close"},nt(t.closeIcon,Se.close))),React.createElement("li",{className:"flexify hide-d"},React.createElement("a",{href:"#",onClick:y=>{y.preventDefault(),k(!0)},className:"ts-icon-btn",role:"button"},Se.reload)),React.createElement("li",{className:"flexify hide-m"},React.createElement("a",{href:"#",onClick:y=>{y.preventDefault(),k(!0)},className:"ts-btn ts-btn-1",role:"button"},"Clear")),React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:y=>{y.preventDefault(),b(),w()},className:"ts-btn ts-btn-2",role:"button"},"Search"))))))))),document.body),X())}const ft=new Map;function ys(){return tt()}function Ae(t,e){if(!t)return e;try{return JSON.parse(t)}catch{return e}}function Le(t){return t==="true"}function bs(t){const e=t.dataset,r=s=>{if(!s||s==="")return;const l=Number(s);return isNaN(l)?void 0:l};return{blockId:t.id||"",postTypes:Ae(e.postTypes,[]),selectedPostType:"",showPostTypeFilter:Le(e.showPostTypeFilter),postTypeFilterWidth:r(e.postTypeFilterWidth),postTypeFilterWidth_tablet:r(e.postTypeFilterWidthTablet),postTypeFilterWidth_mobile:r(e.postTypeFilterWidthMobile),filterLists:Ae(e.filterLists,{}),onSubmit:e.onSubmit||"feed",postToFeedId:e.postToFeedId||"",postToMapId:e.postToMapId||"",searchOn:e.searchOn||"submit",showSearchButton:Le(e.showSearchButton),searchButtonText:e.searchButtonText??"",searchButtonIcon:Ae(e.searchButtonIcon,{library:"",value:""}),searchButtonWidth:r(e.searchButtonWidth),searchButtonWidth_tablet:r(e.searchButtonWidthTablet),searchButtonWidth_mobile:r(e.searchButtonWidthMobile),searchButtonWidthUnit:e.searchButtonWidthUnit||"%",showResetButton:Le(e.showResetButton),resetButtonText:e.resetButtonText??"",resetButtonIcon:Ae(e.resetButtonIcon,{library:"",value:""}),resetButtonWidth:r(e.resetButtonWidth),resetButtonWidth_tablet:r(e.resetButtonWidthTablet),resetButtonWidth_mobile:r(e.resetButtonWidthMobile),resetButtonWidthUnit:e.resetButtonWidthUnit||"%",voxelIntegration:Le(e.voxelIntegration),adaptiveFiltering:Le(e.adaptiveFiltering),portalMode:Ae(e.portalMode,{desktop:!1,tablet:!0,mobile:!0}),formToggleDesktop:Le(e.formToggleDesktop),formToggleTablet:Le(e.formToggleTablet),formToggleMobile:Le(e.formToggleMobile),toggleText:e.toggleText||"Filter results",toggleIcon:Ae(e.toggleIcon,{library:"",value:""})}}async function Es(t,e){if(!t||t.length===0)return[];const s=`${ys()}voxel-fse/v1/search-form/frontend-config?post_types=${encodeURIComponent(t.join(","))}`;try{const l={};e&&Object.entries(e).forEach(([d,m])=>{Array.isArray(m)&&(l[d]={},m.forEach(f=>{f.filterKey&&(l[d][f.filterKey]={defaultValueEnabled:f.defaultValueEnabled,defaultValue:f.defaultValue,resetValue:f.resetValue})}))});const p=Object.keys(l).length>0,c=await fetch(s,{method:p?"POST":"GET",headers:p?{"Content-Type":"application/json"}:void 0,body:p?JSON.stringify({filter_configs:l}):void 0});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);return await c.json()}catch(l){return console.error("Failed to fetch post types:",l),[]}}function ws(t){const e=t,r=(i,d)=>typeof i=="boolean"?i:i==="true"?!0:i==="false"?!1:d,s=i=>{if(i&&typeof i=="object"){const d=i;return{desktop:r(d.desktop,!1),tablet:r(d.tablet,!0),mobile:r(d.mobile,!0)}}return{desktop:!1,tablet:!0,mobile:!0}},l=i=>i&&typeof i=="object"?i:{library:"",value:""},c=(e.postTypes??e.post_types??[]).map(i=>typeof i=="string"?i:i&&typeof i=="object"&&"key"in i&&i.key||"").filter(Boolean);return{blockId:e.blockId??e.block_id??"",postTypes:c,selectedPostType:c[0]||"",showPostTypeFilter:r(e.showPostTypeFilter??e.show_post_type_filter,!0),filterLists:e.filterLists??e.filter_lists??{},onSubmit:e.onSubmit??e.on_submit??"feed",postToFeedId:e.postToFeedId??e.post_to_feed_id??"",postToMapId:e.postToMapId??e.post_to_map_id??"",searchOn:e.searchOn??e.search_on??"submit",updateUrl:r(e.updateUrl??e.update_url,!0),submitToPageId:e.submitToPageId??e.submit_to_page_id,mapAdditionalMarkers:e.mapAdditionalMarkers??e.map_additional_markers??0,mapEnableClusters:r(e.mapEnableClusters??e.map_enable_clusters,!0),showSearchButton:r(e.showSearchButton??e.show_search_button,!0),searchButtonText:e.searchButtonText??e.search_button_text??"",searchButtonIcon:l(e.searchButtonIcon??e.search_button_icon),searchButtonWidth:e.searchButtonWidth,searchButtonWidth_tablet:e.searchButtonWidth_tablet??e.search_button_width_tablet,searchButtonWidth_mobile:e.searchButtonWidth_mobile??e.search_button_width_mobile,searchButtonWidthUnit:e.searchButtonWidthUnit??e.search_button_width_unit??"%",showResetButton:r(e.showResetButton??e.show_reset_button,!1),resetButtonText:e.resetButtonText??e.reset_button_text??"",resetButtonIcon:l(e.resetButtonIcon??e.reset_button_icon),resetButtonWidth:e.resetButtonWidth,resetButtonWidth_tablet:e.resetButtonWidth_tablet??e.reset_button_width_tablet,resetButtonWidth_mobile:e.resetButtonWidth_mobile??e.reset_button_width_mobile,resetButtonWidthUnit:e.resetButtonWidthUnit??e.reset_button_width_unit??"%",voxelIntegration:r(e.voxelIntegration??e.voxel_integration,!0),adaptiveFiltering:r(e.adaptiveFiltering??e.adaptive_filtering,!1),portalMode:s(e.portalMode??e.portal_mode),formToggleDesktop:r(e.formToggleDesktop??e.form_toggle_desktop,!1),formToggleTablet:r(e.formToggleTablet??e.form_toggle_tablet,!0),formToggleMobile:r(e.formToggleMobile??e.form_toggle_mobile,!0),toggleText:e.toggleText??e.toggle_text??"Filter results",toggleIcon:l(e.toggleIcon??e.toggle_icon),postTypeFilterWidth:e.postTypeFilterWidth,postTypeFilterWidth_tablet:e.postTypeFilterWidth_tablet??e.post_type_filter_width_tablet,postTypeFilterWidth_mobile:e.postTypeFilterWidth_mobile??e.post_type_filter_width_mobile}}function Ss(t){const e=t.querySelector("script.vxconfig");if(e&&e.textContent)try{const r=JSON.parse(e.textContent),s=t.dataset,l={...r,blockId:r.blockId||t.id||"",onSubmit:s.onSubmit||r.onSubmit||"refresh",postToFeedId:s.postToFeedId||r.postToFeedId||"",postToMapId:s.postToMapId||r.postToMapId||""};return ws(l)}catch(r){console.error("Failed to parse vxconfig:",r)}return bs(t)}function Cs({attributes:t,onSubmit:e}){const[r,s]=a.useState([]),[l,p]=a.useState(!0),[c,i]=a.useState(null),d=a.useRef(!1),m=a.useCallback(()=>{if(d.current)return;const w=t.postTypes?.[0]||"";w&&(e({postType:w}),d.current=!0)},[t.postTypes,e]);if(a.useEffect(()=>{let w=!1;async function v(){p(!0),i(null);try{const g=await Es(t.postTypes||[],t.filterLists);w||s(g)}catch(g){w||i(g instanceof Error?g.message:"Failed to load")}finally{w||p(!1)}}return v(),()=>{w=!0}},[t.postTypes,t.filterLists]),a.useEffect(()=>{const w=t.blockId;return w?(ft.set(w,m),window.__voxelFsePendingPostFeedReady?.[w]&&(m(),delete window.__voxelFsePendingPostFeedReady[w]),()=>{ft.delete(w)}):void 0},[t.blockId,m]),l)return React.createElement("div",{className:"ts-form ts-search-widget"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"}))));if(c)return React.createElement("div",{className:"ts-form ts-search-widget voxel-fse-error"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("span",null,"Error loading search form")));const f=r.filter(w=>t.postTypes?.includes(w.key));return React.createElement(gs,{attributes:t,postTypes:f,context:"frontend",onSubmit:e})}function Ye(){document.querySelectorAll(".voxel-fse-search-form").forEach(e=>{const r=e.dataset;if(r.hydrated==="true")return;const s=Ss(e),l=c=>{const d=c.postType||s.postTypes?.[0]||"",{postType:m,...f}=c;switch(s.onSubmit){case"feed":if(s.postToFeedId){const w=new CustomEvent("voxel-search-submit",{detail:{targetId:s.postToFeedId,postType:d,filters:f},bubbles:!0});if(window.dispatchEvent(w),s.postToMapId){const v=new CustomEvent("voxel-search-submit",{detail:{targetId:s.postToMapId,postType:d,filters:f,mapAdditionalMarkers:s.mapAdditionalMarkers??0,mapEnableClusters:s.mapEnableClusters??!0},bubbles:!0});window.dispatchEvent(v)}}else console.warn("[search-form] No postToFeedId set, cannot dispatch to Post Feed");break;case"page":s.submitToPageId?xs(c,s):Ot(c,s);break;default:Ot(c,s);break}};e.innerHTML="",r.hydrated="true",Gt.createRoot(e).render(React.createElement(Cs,{attributes:s,onSubmit:l}))})}function Ot(t,e){const r=t,s=new URL(window.location.href),l=[];s.searchParams.forEach((c,i)=>{(i.startsWith("filter_")||i==="post_type")&&l.push(i),i==="type"&&l.push(i)}),l.forEach(c=>s.searchParams.delete(c));const p=r.postType||e.postTypes?.[0];p&&typeof p=="string"&&s.searchParams.set("type",p),Object.entries(t).forEach(([c,i])=>{c!=="postType"&&(i==null||i===""||(typeof i=="object"?s.searchParams.set(c,JSON.stringify(i)):s.searchParams.set(c,String(i))))}),window.location.href=s.toString()}function xs(t,e){const r=t,s=window.voxelFseSiteUrl||window.location.origin,l=new URL(s);l.searchParams.set("p",String(e.submitToPageId));const p=r.postType||e.postTypes?.[0];p&&typeof p=="string"&&l.searchParams.set("type",p),Object.entries(t).forEach(([c,i])=>{c!=="postType"&&(i==null||i===""||(typeof i=="object"?l.searchParams.set(c,JSON.stringify(i)):l.searchParams.set(c,String(i))))}),window.location.href=l.toString()}function Rs(t){const e=t;if(!e.detail?.searchFormId)return;const{searchFormId:r}=e.detail,s=ft.get(r);s?s():(window.__voxelFsePendingPostFeedReady||(window.__voxelFsePendingPostFeedReady={}),window.__voxelFsePendingPostFeedReady[r]=e.detail.blockId)}window.addEventListener("voxel-fse:post-feed-ready",Rs),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ye):Ye(),window.addEventListener("turbo:load",Ye),window.addEventListener("pjax:complete",Ye)})(ReactDOM,React,ReactDOM,wp.apiFetch);
