(function(jt,a,mt,zt){"use strict";function qt(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root.replace(/\/wp-json\/?$/,"")+"?vx=1";if(typeof document<"u"){const e=document.querySelector('link[rel="https://api.w.org/"]');if(e){const t=e.getAttribute("href");if(t)return t.replace(/\/wp-json\/?$/,"")+"?vx=1"}}return typeof window<"u"?window.location.origin+"?vx=1":"/?vx=1"}function Kt(){const e=qt();try{return new URL(e).pathname.replace(/\/$/,"")}catch{return""}}function pt(){if(typeof window<"u"&&window.wpApiSettings?.root)return window.wpApiSettings.root;if(typeof document<"u"){const t=document.querySelector('link[rel="https://api.w.org/"]');if(t){const r=t.getAttribute("href");if(r)return r}}const e=Kt();return typeof window<"u"?window.location.origin+e+"/wp-json/":"/wp-json/"}function Zt({attributes:e,postTypes:t,context:r,onSubmit:n,onPostTypeChange:o}){const[c,i]=a.useState(()=>({currentPostType:e.postTypes[0]||"",filterValues:{},activeFilterCount:0,portalActive:!1,loading:!1,resetting:!1,narrowedValues:null,narrowingFilters:!1})),d=a.useRef(!1),p=a.useRef(null),g=a.useMemo(()=>t.find(C=>C.key===c.currentPostType),[t,c.currentPostType]),f=a.useMemo(()=>e.filterLists[c.currentPostType]||[],[e.filterLists,c.currentPostType]);a.useEffect(()=>{e.postTypes.length>0&&!e.postTypes.includes(c.currentPostType)&&i(C=>({...C,currentPostType:e.postTypes[0],filterValues:{}}))},[e.postTypes,c.currentPostType]),a.useEffect(()=>{const C=Object.values(c.filterValues).filter(N=>N!=null&&N!==""&&N!==!1).length;i(N=>({...N,activeFilterCount:C}))},[c.filterValues]);const v=a.useCallback(C=>{i(N=>N.currentPostType===C?N:{...N,currentPostType:C,filterValues:{}}),r==="editor"&&o&&o(C),r==="frontend"&&n&&setTimeout(()=>{n({postType:C})},50)},[r,n,o]),M=a.useCallback((C,N)=>{i(A=>({...A,filterValues:{...A.filterValues,[C]:N}}))},[]),b=a.useCallback((C=!1)=>{if(i(N=>({...N,filterValues:{},activeFilterCount:0,resetting:!0,portalActive:C?!1:N.portalActive})),setTimeout(()=>{i(N=>({...N,resetting:!1}))},100),r==="frontend"){Jt(c.currentPostType);const N=new CustomEvent("voxel-search-clear",{detail:{postType:c.currentPostType}});window.dispatchEvent(N)}},[r,c.currentPostType]),F=a.useCallback(()=>{i(C=>({...C,portalActive:!C.portalActive}))},[]),w=a.useCallback(async()=>{if(!e.adaptiveFiltering||r!=="frontend")return;if(d.current){d.current=!1;return}const C=f.filter(m=>m.type==="range"||m.type==="terms");if(C.length===0)return;const N=new URLSearchParams;N.set("type",c.currentPostType),Object.entries(c.filterValues).forEach(([m,h])=>{h!=null&&h!==""&&(Array.isArray(h)?N.set(m,h.join(",")):typeof h=="object"?N.set(m,JSON.stringify(h)):N.set(m,String(h)))});const A=[];C.forEach(m=>{if(m.type==="terms"){const h=g?.filters?.find(x=>x.key===m.filterKey);if(h?.props?.terms){const x=k=>{k.forEach(R=>{R.term_taxonomy_id&&A.push(R.term_taxonomy_id),R.children&&Array.isArray(R.children)&&x(R.children)})};x(h.props.terms)}}}),i(m=>({...m,narrowingFilters:!0}));try{const m=pt(),h=await fetch(`${m}voxel-fse/v1/search-form/narrow-filters?${N.toString()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({term_taxonomy_ids:A})});if(!h.ok)throw new Error(`HTTP ${h.status}`);const x=await h.json();x.success&&x.data?(i(k=>({...k,narrowedValues:{ranges:x.data.ranges||{},terms:x.data.terms||{}},narrowingFilters:!1})),d.current=!0):i(k=>({...k,narrowingFilters:!1}))}catch(m){console.error("[useSearchForm] Adaptive filtering error:",m),i(h=>({...h,narrowingFilters:!1}))}},[e.adaptiveFiltering,r,f,c.currentPostType,c.filterValues,g]);a.useEffect(()=>{if(!(!e.adaptiveFiltering||r!=="frontend"))return p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{w()},300),()=>{p.current&&clearTimeout(p.current)}},[c.filterValues,e.adaptiveFiltering,r,w]);const S=a.useCallback(()=>{i(C=>({...C,loading:!0})),n&&n({postType:c.currentPostType,...c.filterValues}),r==="frontend"&&Yt(c.filterValues,c.currentPostType),i(C=>({...C,loading:!1}))},[r,n,c.currentPostType,c.filterValues]);a.useEffect(()=>{if(console.log("[useSearchForm] Auto-submit useEffect triggered",{searchOn:e.searchOn,context:r,filterValues:c.filterValues,shouldTrigger:e.searchOn==="change"&&r==="frontend"}),e.searchOn==="change"&&r==="frontend"){console.log("[useSearchForm] Scheduling auto-submit in 300ms...");const C=setTimeout(()=>{console.log("[useSearchForm] Executing handleSubmitInternal"),S()},300);return()=>{console.log("[useSearchForm] Clearing auto-submit timer"),clearTimeout(C)}}},[c.filterValues,e.searchOn,r,S]);const P=a.useCallback(()=>{S()},[S]);return{state:c,setCurrentPostType:v,setFilterValue:M,clearAll:b,togglePortal:F,submit:P,currentPostTypeConfig:g,filterConfigs:f,narrowedValues:c.narrowedValues,narrowingFilters:c.narrowingFilters}}function Jt(e){const t=new URL(window.location.href),r=[];t.searchParams.forEach((n,o)=>{(o.startsWith("filter_")||o==="post_type")&&r.push(o),o==="type"&&!e&&r.push(o),o!=="type"&&o!=="page"&&o!=="pg"&&r.push(o)}),r.forEach(n=>t.searchParams.delete(n)),e&&t.searchParams.set("type",e),window.history.replaceState({},"",t.toString())}function Xt(e,t){return Object.hasOwn(t,e)}function Yt(e,t){const r=new URL(window.location.href),n=[];r.searchParams.forEach((o,c)=>{(c.startsWith("filter_")||c==="post_type")&&n.push(c),(c==="type"||Xt(c,e))&&n.push(c)}),n.forEach(o=>r.searchParams.delete(o)),t&&r.searchParams.set("type",t),Object.entries(e).forEach(([o,c])=>{c!=null&&c!==""&&(Array.isArray(c)?r.searchParams.set(o,c.join(",")):typeof c=="object"?r.searchParams.set(o,JSON.stringify(c)):r.searchParams.set(o,String(c)))}),window.history.replaceState({},"",r.toString())}function Ge(e){return typeof e=="string"&&e.includes("@tags()")}function ht(e){if(!Ge(e))return e;const t=e.match(/@tags\(\)(.*?)@endtags\(\)/s);return t?t[1]:e}async function gt(e,t={}){try{return(await zt({path:"/voxel-fse/v1/dynamic-data/render",method:"POST",data:{expression:e,context:t}})).rendered}catch(r){return console.error("Failed to render dynamic tag:",r),e}}function ie({isOpen:e,target:t,title:r="",icon:n,saveLabel:o="Save",clearLabel:c="Clear",showClear:i=!0,showSave:d=!0,onSave:p,onClear:g,onClose:f,children:v,className:M=""}){const b=a.useRef(null),F=a.useRef(null),[w,S]=a.useState({position:"absolute",top:"-9999px",left:"-9999px"}),P=a.useRef(""),C=a.useCallback((m=!1)=>{if(!F.current||!t.current||!b.current)return;const h=t.current,x=b.current,k=F.current,R=document.body.clientWidth,L=h.getBoundingClientRect(),H=h.offsetWidth,K={left:L.left+window.pageXOffset,top:L.top+window.pageYOffset},J=x.getBoundingClientRect(),j=window.getComputedStyle(k),O=parseFloat(j.minWidth)||0,E=k.querySelector(".pika-single");let q;if(E){const he=E.classList.contains("is-range")||E.querySelectorAll(".pika-lendar").length>1||k.closest(".ts-booking-date-range")!==null;q=Math.max(he?640:420,O)}else q=Math.max(L.width,O);const D=K.left+H/2,U=R/2;let V;D>U+1?V=K.left-q+H:V=K.left;const z=window.innerHeight,Z=J.height;let G=K.top+L.height;const fe=L.bottom+Z>z,me=L.top-Z>=0;fe&&me&&(G=K.top-Z);const pe={top:`${G}px`,left:`${V}px`,width:`${q}px`,position:"absolute"},Ee=JSON.stringify(pe);Ee!==P.current&&(P.current=Ee,m?S(pe):requestAnimationFrame(()=>S(pe)))},[t]);if(a.useEffect(()=>{if(!e)return;const m=x=>{const k=x.target;F.current?.contains(k)||f()},h=requestAnimationFrame(()=>{document.addEventListener("mousedown",m)});return()=>{cancelAnimationFrame(h),document.removeEventListener("mousedown",m)}},[e,f]),a.useEffect(()=>{if(!e)return;const m=h=>{h.key==="Escape"&&f()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e,f]),a.useEffect(()=>{if(!e)return;C(!0);const m=()=>C();window.addEventListener("scroll",m,!0);const h=()=>C();window.addEventListener("resize",h,!0);let x=null;return F.current&&(x=new ResizeObserver(()=>C(!0)),x.observe(F.current)),()=>{window.removeEventListener("scroll",m,!0),window.removeEventListener("resize",h,!0),x?.disconnect()}},[e,C]),!e)return null;const N=()=>React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"currentColor"})),A=()=>React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"}));return mt.createPortal(React.createElement("div",{className:`elementor vx-popup ${M}`.trim()},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form elementor-element",style:w,ref:b},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:F},r&&React.createElement("div",{className:"ts-popup-head flexify ts-sticky-top"},React.createElement("div",{className:"ts-popup-name flexify"},n&&React.createElement("span",{dangerouslySetInnerHTML:{__html:n}}),React.createElement("span",null,r)),React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),f()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(N,null))))),React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},v),d||i?React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),f()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(N,null))),i&&g&&React.createElement("li",{className:"flexify hide-d",onClick:m=>{m.preventDefault(),g()}},React.createElement("a",{href:"#",className:"ts-icon-btn"},React.createElement(A,null))),i&&g&&React.createElement("li",{className:"flexify hide-m",onClick:m=>{m.preventDefault(),g()}},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1"},c)),d&&React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),p()},className:"ts-btn ts-btn-2"},o)))):React.createElement("div",{className:"ts-popup-controller hide-d"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),f()},className:"ts-icon-btn","aria-label":"Close"},React.createElement(N,null)))))))))),document.body)}const Pe=({value:e,onChange:t,onSelect:r,pickerConfig:n,onPickerReady:o})=>{const c=a.useRef(null),i=a.useRef(null),d=a.useRef(null),p=a.useRef(t),g=a.useRef(r);return p.current=t,g.current=r,a.useEffect(()=>{if(!c.current||!i.current)return;const f=window.Pikaday;if(!f){console.error("Pikaday not loaded - window.Pikaday is undefined");return}const v=requestAnimationFrame(()=>{d.current=new f({field:i.current,container:c.current,bound:!1,firstDay:1,keyboardInput:!1,numberOfMonths:2,defaultDate:e||void 0,onSelect:M=>{p.current(M),g.current&&g.current(M)},...n}),o&&d.current&&o(d.current)});return()=>{cancelAnimationFrame(v),setTimeout(()=>{d.current?.destroy(),d.current=null},200)}},[]),a.useEffect(()=>{d.current&&(e&&d.current.setDate(e,!0),d.current.draw(!0))},[e]),a.createElement("div",{className:"ts-booking-date ts-booking-date-range ts-form-group",ref:c},a.createElement("input",{type:"hidden",ref:i}))},ve={search:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z",fill:"#343C54"})),close:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M5.9545 5.95548C6.39384 5.51614 7.10616 5.51614 7.5455 5.95548L11.999 10.409L16.4524 5.95561C16.8918 5.51627 17.6041 5.51627 18.0434 5.95561C18.4827 6.39495 18.4827 7.10726 18.0434 7.5466L13.59 12L18.0434 16.4534C18.4827 16.8927 18.4827 17.605 18.0434 18.0444C17.6041 18.4837 16.8918 18.4837 16.4524 18.0444L11.999 13.591L7.5455 18.0445C7.10616 18.4839 6.39384 18.4839 5.9545 18.0445C5.51517 17.6052 5.51516 16.8929 5.9545 16.4535L10.408 12L5.9545 7.54647C5.51516 7.10713 5.51517 6.39482 5.9545 5.95548Z",fill:"#343C54"})),reload:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z",fill:"#343C54"}),React.createElement("path",{d:"M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z",fill:"#343C54"})),filterslider:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M8.89789 3.25C10.3318 3.25 11.5358 4.23471 11.8704 5.56481H20.3125C20.7267 5.56481 21.0625 5.90059 21.0625 6.31481C21.0625 6.72902 20.7267 7.06481 20.3125 7.06481H11.8705C11.536 8.3951 10.332 9.38 8.89789 9.38C7.46381 9.38 6.25976 8.3951 5.92527 7.06481H4.3125C3.89829 7.06481 3.5625 6.72902 3.5625 6.31481C3.5625 5.90059 3.89829 5.56481 4.3125 5.56481H5.92537C6.26 4.23471 7.46395 3.25 8.89789 3.25Z",fill:"#343C54"}),React.createElement("path",{d:"M12.737 12.7503H4.3125C3.89829 12.7503 3.5625 12.4145 3.5625 12.0003C3.5625 11.5861 3.89829 11.2503 4.3125 11.2503H12.7369C13.0714 9.91998 14.2754 8.93506 15.7095 8.93506C17.1436 8.93506 18.3477 9.91998 18.6822 11.2503H20.3125C20.7267 11.2503 21.0625 11.5861 21.0625 12.0003C21.0625 12.4145 20.7267 12.7503 20.3125 12.7503H18.682C18.3474 14.0804 17.1435 15.0651 15.7095 15.0651C14.2756 15.0651 13.0717 14.0804 12.737 12.7503Z",fill:"#343C54"}),React.createElement("path",{d:"M12.5932 16.9354C12.2587 15.605 11.0546 14.6201 9.62055 14.6201C8.18645 14.6201 6.9824 15.605 6.64792 16.9354H4.3125C3.89829 16.9354 3.5625 17.2711 3.5625 17.6854C3.5625 18.0996 3.89829 18.4354 4.3125 18.4354H6.64804C6.98268 19.7654 8.18662 20.7501 9.62055 20.7501C11.0545 20.7501 12.2584 19.7654 12.5931 18.4354H20.3125C20.7267 18.4354 21.0625 18.0996 21.0625 17.6854C21.0625 17.2711 20.7267 16.9354 20.3125 16.9354H12.5932Z",fill:"#343C54"})),crosshairs:React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12.5523 2 13 2.44772 13 3V4.06189C16.6187 4.51314 19.4869 7.38128 19.9381 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H19.9381C19.4869 16.6187 16.6187 19.4869 13 19.9381V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V19.9381C7.38128 19.4869 4.51314 16.6187 4.06189 13H3C2.44772 13 2 12.5523 2 12C2 11.4477 2.44772 11 3 11H4.06189C4.51314 7.38128 7.38128 4.51314 11 4.06189V3C11 2.44772 11.4477 2 12 2ZM6.07089 11C6.50618 8.48991 8.48991 6.50618 11 6.07089V8C11 8.55228 11.4477 9 12 9C12.5523 9 13 8.55228 13 8V6.07089C15.5101 6.50618 17.4938 8.48991 17.9291 11H16C15.4477 11 15 11.4477 15 12C15 12.5523 15.4477 13 16 13H17.9291C17.4938 15.5101 15.5101 17.4938 13 17.9291V16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16V17.9291C8.48991 17.4938 6.50618 15.5101 6.07089 13H8C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11H6.07089Z",fill:"#343C54"}))};function Gt(e,t){const r={},n=[t];return e.rowVisibility==="hide"&&(r.display="none"),e.width&&e.width>0&&(r.width=`${e.width}%`,r.flexGrow=0,r.flexShrink=0),e.hideFilter&&n.push("vx-hidden"),e.alignContent&&(r.justifyContent=e.alignContent),e.hideLabel&&n.push("hide-label"),{style:r,className:n.join(" ")}}function te(e,t){return Gt(e,t)}function Qt(e){const t={},r=["ts-field-popup","triggers-blur"];return e.customPopupEnabled&&(e.popupMinWidth&&e.popupMinWidth>0&&(t.minWidth=`${e.popupMinWidth}px`),e.popupMaxWidth&&e.popupMaxWidth>0&&(t.maxWidth=`${e.popupMaxWidth}px`),e.popupMaxHeight&&e.popupMaxHeight>0&&(t.maxHeight=`${e.popupMaxHeight}px`),e.popupCenterPosition&&r.push("ts-popup-centered")),{style:t,className:r.join(" ")}}let vt=!1;function Qe(){if(vt)return!0;if(!window.Voxel?.mixins?.base)return!1;const e=window.Voxel.mixins.base;return e.mounted&&!e._originalMounted?(e._originalMounted=e.mounted,e.mounted=function(){try{const t=this.$root?.$options?.el||this.$el;if(t){const r=t.closest?.(".elementor-element");if(r)this.widget_id=r.dataset?.id||"";else{const o=t.closest?.("[data-block-id]");this.widget_id=o&&o.dataset?.blockId||""}const n=t.closest?.(".elementor");if(n)this.post_id=n.dataset?.elementorId||"";else{const o=document.body.className.match(/postid-(\d+)/);this.post_id=o?o[1]:""}}e._originalMounted&&e._originalMounted!==e.mounted&&e._originalMounted.call(this)}catch(t){console.warn("[VoxelShim] Error in patched mounted():",t),this.widget_id="",this.post_id=""}},vt=!0,console.log("[VoxelShim] Successfully patched Voxel.mixins.base.mounted"),!0):!1}function bt(){if(Qe())return;let e=0;const t=50,n=setInterval(()=>{if(e++,Qe()){clearInterval(n);return}e>=t&&(clearInterval(n),console.warn("[VoxelShim] Voxel.mixins.base not found after 5 seconds"))},100);typeof document<"u"&&document.addEventListener("voxel:ready",()=>{Qe(),clearInterval(n)},{once:!0})}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",bt,{once:!0}):bt()),typeof window<"u"&&typeof window._vx_file_upload_cache>"u"&&(window._vx_file_upload_cache=[]);function $t({config:e,filterData:t,value:r,onChange:n}){const o=a.useRef(null),c=a.useRef(null),[i,d]=a.useState(!1),[p,g]=a.useState(""),f=typeof r=="string"?r:"",v=t.props?.placeholder||t.label||"Type keywords...",M=e.displayAs||t.props?.display_as||"inline",b=t.icon||"";a.useEffect(()=>{i&&(g(f),setTimeout(()=>{c.current?.focus()},50))},[i,f]);const F=x=>{n(x.target.value)},w=x=>{g(x.target.value)},S=a.useCallback(()=>{d(!0)},[]),P=a.useCallback(()=>{n(p),d(!1)},[p,n]),C=a.useCallback(()=>{g(""),n("")},[n]),N=a.useCallback(x=>{x.key==="Enter"&&(x.preventDefault(),P())},[P]);if(M==="inline"){const{style:x,className:k}=te(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:k,style:x},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:"ts-input-icon flexify"},b&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b}}),React.createElement("input",{type:"text",value:f,onChange:F,placeholder:v,className:"inline-input"})))}const A=f.length>0,{style:m,className:h}=te(e,"ts-form-group");return React.createElement("div",{className:h,style:m},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${A?"ts-filled":""}`,onClick:S,onMouseDown:x=>x.preventDefault(),role:"button",tabIndex:0},b&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b}}),React.createElement("div",{className:"ts-filter-text"},A?f:v)),React.createElement(ie,{isOpen:i,target:o,title:"",icon:b,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:P,onClear:C,onClose:()=>d(!1)},React.createElement("div",{className:"ts-input-icon ts-sticky-top flexify"},React.createElement("span",null,ve.search),React.createElement("input",{ref:c,type:"text",value:p,onChange:w,onKeyDown:N,placeholder:v,className:"autofocus border-none"}))))}var we;(function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"})(we||(we={}));var de;(function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"})(de||(de={}));function er(e){return He(e)&&typeof e.from=="function"}function He(e){return typeof e=="object"&&typeof e.to=="function"}function Et(e){e.parentElement.removeChild(e)}function $e(e){return e!=null}function yt(e){e.preventDefault()}function tr(e){return e.filter(function(t){return this[t]?!1:this[t]=!0},{})}function rr(e,t){return Math.round(e/t)*t}function nr(e,t){var r=e.getBoundingClientRect(),n=e.ownerDocument,o=n.documentElement,c=Ct(n);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(c.x=0),t?r.top+c.y-o.clientTop:r.left+c.x-o.clientLeft}function be(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function St(e,t,r){r>0&&(ce(e,t),setTimeout(function(){We(e,t)},r))}function wt(e){return Math.max(Math.min(e,100),0)}function Ue(e){return Array.isArray(e)?e:[e]}function sr(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function ce(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function We(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function ar(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function Ct(e){var t=window.pageXOffset!==void 0,r=(e.compatMode||"")==="CSS1Compat",n=t?window.pageXOffset:r?e.documentElement.scrollLeft:e.body.scrollLeft,o=t?window.pageYOffset:r?e.documentElement.scrollTop:e.body.scrollTop;return{x:n,y:o}}function lr(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function or(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch{}return e}function ir(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function et(e,t){return 100/(t-e)}function tt(e,t,r){return t*100/(e[r+1]-e[r])}function cr(e,t){return tt(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}function ur(e,t){return t*(e[1]-e[0])/100+e[0]}function Me(e,t){for(var r=1;e>=t[r];)r+=1;return r}function dr(e,t,r){if(r>=e.slice(-1)[0])return 100;var n=Me(r,e),o=e[n-1],c=e[n],i=t[n-1],d=t[n];return i+cr([o,c],r)/et(i,d)}function fr(e,t,r){if(r>=100)return e.slice(-1)[0];var n=Me(r,t),o=e[n-1],c=e[n],i=t[n-1],d=t[n];return ur([o,c],(r-i)*et(i,d))}function mr(e,t,r,n){if(n===100)return n;var o=Me(n,e),c=e[o-1],i=e[o];return r?n-c>(i-c)/2?i:c:t[o-1]?e[o-1]+rr(n-e[o-1],t[o-1]):n}var xt=(function(){function e(t,r,n){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=r;var o,c=[];for(Object.keys(t).forEach(function(i){c.push([Ue(t[i]),i])}),c.sort(function(i,d){return i[0][0]-d[0][0]}),o=0;o<c.length;o++)this.handleEntryPoint(c[o][1],c[o][0]);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)this.handleStepPoint(o,this.xNumSteps[o])}return e.prototype.getDistance=function(t){for(var r=[],n=0;n<this.xNumSteps.length-1;n++)r[n]=tt(this.xVal,t,n);return r},e.prototype.getAbsoluteDistance=function(t,r,n){var o=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[o+1];)o++;else t===this.xPct[this.xPct.length-1]&&(o=this.xPct.length-2);!n&&t===this.xPct[o+1]&&o++,r===null&&(r=[]);var c,i=1,d=r[o],p=0,g=0,f=0,v=0;for(n?c=(t-this.xPct[o])/(this.xPct[o+1]-this.xPct[o]):c=(this.xPct[o+1]-t)/(this.xPct[o+1]-this.xPct[o]);d>0;)p=this.xPct[o+1+v]-this.xPct[o+v],r[o+v]*i+100-c*100>100?(g=p*c,i=(d-100*c)/r[o+v],c=1):(g=r[o+v]*p/100*i,i=0),n?(f=f-g,this.xPct.length+v>=1&&v--):(f=f+g,this.xPct.length-v>=1&&v++),d=r[o+v]*i;return t+f},e.prototype.toStepping=function(t){return t=dr(this.xVal,this.xPct,t),t},e.prototype.fromStepping=function(t){return fr(this.xVal,this.xPct,t)},e.prototype.getStep=function(t){return t=mr(this.xPct,this.xSteps,this.snap,t),t},e.prototype.getDefaultStep=function(t,r,n){var o=Me(t,this.xPct);return(t===100||r&&t===this.xPct[o-1])&&(o=Math.max(o-1,1)),(this.xVal[o]-this.xVal[o-1])/n},e.prototype.getNearbySteps=function(t){var r=Me(t,this.xPct);return{stepBefore:{startValue:this.xVal[r-2],step:this.xNumSteps[r-2],highestStep:this.xHighestCompleteStep[r-2]},thisStep:{startValue:this.xVal[r-1],step:this.xNumSteps[r-1],highestStep:this.xHighestCompleteStep[r-1]},stepAfter:{startValue:this.xVal[r],step:this.xNumSteps[r],highestStep:this.xHighestCompleteStep[r]}}},e.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(sr);return Math.max.apply(null,t)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(t){return this.getStep(this.toStepping(t))},e.prototype.handleEntryPoint=function(t,r){var n;if(t==="min"?n=0:t==="max"?n=100:n=parseFloat(t),!be(n)||!be(r[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(r[0]);var o=Number(r[1]);n?this.xSteps.push(isNaN(o)?!1:o):isNaN(o)||(this.xSteps[0]=o),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(t,r){if(r){if(this.xVal[t]===this.xVal[t+1]){this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t];return}this.xSteps[t]=tt([this.xVal[t],this.xVal[t+1]],r,0)/et(this.xPct[t],this.xPct[t+1]);var n=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],o=Math.ceil(Number(n.toFixed(3))-1),c=this.xVal[t]+this.xNumSteps[t]*o;this.xHighestCompleteStep[t]=c}},e})(),Rt={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},Nt={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Ce={tooltips:".__tooltips",aria:".__aria"};function pr(e,t){if(!be(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function hr(e,t){if(!be(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function gr(e,t){if(!be(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function vr(e,t){if(!be(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function br(e,t){if(typeof t!="object"||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(t.min===void 0||t.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new xt(t,e.snap||!1,e.singleStep)}function Er(e,t){if(t=Ue(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function yr(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function Sr(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function wr(e,t){if(typeof t!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function kt(e,t){var r=[!1],n;if(t==="lower"?t=[!0,!1]:t==="upper"&&(t=[!1,!0]),t===!0||t===!1){for(n=1;n<e.handles;n++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function Cr(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Tt(e,t){if(!be(t))throw new Error("noUiSlider: 'margin' option must be numeric.");t!==0&&(e.margin=e.spectrum.getDistance(t))}function xr(e,t){if(!be(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Rr(e,t){var r;if(!be(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&!(t.length===2||be(t[0])||be(t[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(t!==0){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],r=0;r<e.spectrum.xNumSteps.length-1;r++)if(e.padding[0][r]<0||e.padding[1][r]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=t[0]+t[1],o=e.spectrum.xVal[0],c=e.spectrum.xVal[e.spectrum.xVal.length-1];if(n/(c-o)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Nr(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function kr(e,t){if(typeof t!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var r=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,o=t.indexOf("fixed")>=0,c=t.indexOf("snap")>=0,i=t.indexOf("hover")>=0,d=t.indexOf("unconstrained")>=0,p=t.indexOf("invert-connects")>=0,g=t.indexOf("drag-all")>=0,f=t.indexOf("smooth-steps")>=0;if(o){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Tt(e,e.start[1]-e.start[0])}if(p&&e.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(d&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:r||c,drag:n,dragAll:g,smoothSteps:f,fixed:o,snap:c,hover:i,unconstrained:d,invertConnects:p}}function Tr(e,t){if(t!==!1)if(t===!0||He(t)){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(t)}else{if(t=Ue(t),t.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach(function(n){if(typeof n!="boolean"&&!He(n))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=t}}function _r(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function Lr(e,t){if(!He(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function Pr(e,t){if(!er(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=t}function Mr(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function Ir(e,t){e.documentElement=t}function Fr(e,t){if(typeof t!="string"&&t!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function Vr(e,t){if(typeof t!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(t).forEach(function(r){e.cssClasses[r]=e.cssPrefix+t[r]})):e.cssClasses=t}function _t(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Rt,format:Rt},r={step:{r:!1,t:pr},keyboardPageMultiplier:{r:!1,t:hr},keyboardMultiplier:{r:!1,t:gr},keyboardDefaultStep:{r:!1,t:vr},start:{r:!0,t:Er},connect:{r:!0,t:kt},direction:{r:!0,t:Nr},snap:{r:!1,t:yr},animate:{r:!1,t:Sr},animationDuration:{r:!1,t:wr},range:{r:!0,t:br},orientation:{r:!1,t:Cr},margin:{r:!1,t:Tt},limit:{r:!1,t:xr},padding:{r:!1,t:Rr},behaviour:{r:!0,t:kr},ariaFormat:{r:!1,t:Lr},format:{r:!1,t:Pr},tooltips:{r:!1,t:Tr},keyboardSupport:{r:!0,t:Mr},documentElement:{r:!1,t:Ir},cssPrefix:{r:!0,t:Fr},cssClasses:{r:!0,t:Vr},handleAttributes:{r:!1,t:_r}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Nt,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(r).forEach(function(p){if(!$e(e[p])&&n[p]===void 0){if(r[p].r)throw new Error("noUiSlider: '"+p+"' is required.");return}r[p].t(t,$e(e[p])?e[p]:n[p])}),t.pips=e.pips;var o=document.createElement("div"),c=o.style.msTransform!==void 0,i=o.style.transform!==void 0;t.transformRule=i?"transform":c?"msTransform":"webkitTransform";var d=[["left","top"],["right","bottom"]];return t.style=d[t.dir][t.ort],t}function Ar(e,t,r){var n=lr(),o=ir(),c=o&&or(),i=e,d,p,g,f,v,M,b=t.spectrum,F=[],w=[],S=[],P=0,C={},N=!1,A=e.ownerDocument,m=t.documentElement||A.documentElement,h=A.body,x=A.dir==="rtl"||t.ort===1?0:100;function k(s,l){var u=A.createElement("div");return l&&ce(u,l),s.appendChild(u),u}function R(s,l){var u=k(s,t.cssClasses.origin),y=k(u,t.cssClasses.handle);if(k(y,t.cssClasses.touchArea),y.setAttribute("data-handle",String(l)),t.keyboardSupport&&(y.setAttribute("tabindex","0"),y.addEventListener("keydown",function(_){return ye(_,l)})),t.handleAttributes!==void 0){var T=t.handleAttributes[l];Object.keys(T).forEach(function(_){y.setAttribute(_,T[_])})}return y.setAttribute("role","slider"),y.setAttribute("aria-orientation",t.ort?"vertical":"horizontal"),l===0?ce(y,t.cssClasses.handleLower):l===t.handles-1&&ce(y,t.cssClasses.handleUpper),u.handle=y,u}function L(s,l){return l?k(s,t.cssClasses.connect):!1}function H(s,l){p=k(l,t.cssClasses.connects),g=[],f=[],f.push(L(p,s[0]));for(var u=0;u<t.handles;u++)g.push(R(l,u)),S[u]=u,f.push(L(p,s[u+1]))}function K(s){ce(s,t.cssClasses.target),t.dir===0?ce(s,t.cssClasses.ltr):ce(s,t.cssClasses.rtl),t.ort===0?ce(s,t.cssClasses.horizontal):ce(s,t.cssClasses.vertical);var l=getComputedStyle(s).direction;return l==="rtl"?ce(s,t.cssClasses.textDirectionRtl):ce(s,t.cssClasses.textDirectionLtr),k(s,t.cssClasses.base)}function J(s,l){return!t.tooltips||!t.tooltips[l]?!1:k(s.firstChild,t.cssClasses.tooltip)}function j(){return i.hasAttribute("disabled")}function O(s){var l=g[s];return l.hasAttribute("disabled")}function E(s){s!=null?(g[s].setAttribute("disabled",""),g[s].handle.removeAttribute("tabindex")):(i.setAttribute("disabled",""),g.forEach(function(l){l.handle.removeAttribute("tabindex")}))}function q(s){s!=null?(g[s].removeAttribute("disabled"),g[s].handle.setAttribute("tabindex","0")):(i.removeAttribute("disabled"),g.forEach(function(l){l.removeAttribute("disabled"),l.handle.setAttribute("tabindex","0")}))}function D(){M&&(Be("update"+Ce.tooltips),M.forEach(function(s){s&&Et(s)}),M=null)}function U(){D(),M=g.map(J),Le("update"+Ce.tooltips,function(s,l,u){if(!(!M||!t.tooltips)&&M[l]!==!1){var y=s[l];t.tooltips[l]!==!0&&(y=t.tooltips[l].to(u[l])),M[l].innerHTML=y}})}function V(){Be("update"+Ce.aria),Le("update"+Ce.aria,function(s,l,u,y,T){S.forEach(function(_){var B=g[_],I=Je(w,_,0,!0,!0,!0),$=Je(w,_,100,!0,!0,!0),ee=T[_],re=String(t.ariaFormat.to(u[_]));I=b.fromStepping(I).toFixed(1),$=b.fromStepping($).toFixed(1),ee=b.fromStepping(ee).toFixed(1),B.children[0].setAttribute("aria-valuemin",I),B.children[0].setAttribute("aria-valuemax",$),B.children[0].setAttribute("aria-valuenow",ee),B.children[0].setAttribute("aria-valuetext",re)})})}function z(s){if(s.mode===we.Range||s.mode===we.Steps)return b.xVal;if(s.mode===we.Count){if(s.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var l=s.values-1,u=100/l,y=[];l--;)y[l]=l*u;return y.push(100),Z(y,s.stepped)}return s.mode===we.Positions?Z(s.values,s.stepped):s.mode===we.Values?s.stepped?s.values.map(function(T){return b.fromStepping(b.getStep(b.toStepping(T)))}):s.values:[]}function Z(s,l){return s.map(function(u){return b.fromStepping(l?b.getStep(u):u)})}function G(s){function l(ee,re){return Number((ee+re).toFixed(7))}var u=z(s),y={},T=b.xVal[0],_=b.xVal[b.xVal.length-1],B=!1,I=!1,$=0;return u=tr(u.slice().sort(function(ee,re){return ee-re})),u[0]!==T&&(u.unshift(T),B=!0),u[u.length-1]!==_&&(u.push(_),I=!0),u.forEach(function(ee,re){var ne,Q,ae,ue=ee,le=u[re+1],oe,ct,ut,dt,Ht,ft,Ut,Wt=s.mode===we.Steps;for(Wt&&(ne=b.xNumSteps[re]),ne||(ne=le-ue),le===void 0&&(le=ue),ne=Math.max(ne,1e-7),Q=ue;Q<=le;Q=l(Q,ne)){for(oe=b.toStepping(Q),ct=oe-$,Ht=ct/(s.density||1),ft=Math.round(Ht),Ut=ct/ft,ae=1;ae<=ft;ae+=1)ut=$+ae*Ut,y[ut.toFixed(5)]=[b.fromStepping(ut),0];dt=u.indexOf(Q)>-1?de.LargeValue:Wt?de.SmallValue:de.NoValue,!re&&B&&Q!==le&&(dt=0),Q===le&&I||(y[oe.toFixed(5)]=[Q,dt]),$=oe}}),y}function fe(s,l,u){var y,T,_=A.createElement("div"),B=(y={},y[de.None]="",y[de.NoValue]=t.cssClasses.valueNormal,y[de.LargeValue]=t.cssClasses.valueLarge,y[de.SmallValue]=t.cssClasses.valueSub,y),I=(T={},T[de.None]="",T[de.NoValue]=t.cssClasses.markerNormal,T[de.LargeValue]=t.cssClasses.markerLarge,T[de.SmallValue]=t.cssClasses.markerSub,T),$=[t.cssClasses.valueHorizontal,t.cssClasses.valueVertical],ee=[t.cssClasses.markerHorizontal,t.cssClasses.markerVertical];ce(_,t.cssClasses.pips),ce(_,t.ort===0?t.cssClasses.pipsHorizontal:t.cssClasses.pipsVertical);function re(Q,ae){var ue=ae===t.cssClasses.value,le=ue?$:ee,oe=ue?B:I;return ae+" "+le[t.ort]+" "+oe[Q]}function ne(Q,ae,ue){if(ue=l?l(ae,ue):ue,ue!==de.None){var le=k(_,!1);le.className=re(ue,t.cssClasses.marker),le.style[t.style]=Q+"%",ue>de.NoValue&&(le=k(_,!1),le.className=re(ue,t.cssClasses.value),le.setAttribute("data-value",String(ae)),le.style[t.style]=Q+"%",le.innerHTML=String(u.to(ae)))}}return Object.keys(s).forEach(function(Q){ne(Q,s[Q][0],s[Q][1])}),_}function me(){v&&(Et(v),v=null)}function pe(s){me();var l=G(s),u=s.filter,y=s.format||{to:function(T){return String(Math.round(T))}};return v=i.appendChild(fe(l,u,y)),v}function Ee(){var s=d.getBoundingClientRect(),l="offset"+["Width","Height"][t.ort];return t.ort===0?s.width||d[l]:s.height||d[l]}function he(s,l,u,y){var T=function(B){var I=_e(B,y.pageOffset,y.target||l);if(!I||j()&&!y.doNotReject||ar(i,t.cssClasses.tap)&&!y.doNotReject||s===n.start&&I.buttons!==void 0&&I.buttons>1||y.hover&&I.buttons)return!1;c||I.preventDefault(),I.calcPoint=I.points[t.ort],u(I,y)},_=[];return s.split(" ").forEach(function(B){l.addEventListener(B,T,c?{passive:!0}:!1),_.push([B,T])}),_}function _e(s,l,u){var y=s.type.indexOf("touch")===0,T=s.type.indexOf("mouse")===0,_=s.type.indexOf("pointer")===0,B=0,I=0;if(s.type.indexOf("MSPointer")===0&&(_=!0),s.type==="mousedown"&&!s.buttons&&!s.touches)return!1;if(y){var $=function(ne){var Q=ne.target;return Q===u||u.contains(Q)||s.composed&&s.composedPath().shift()===u};if(s.type==="touchstart"){var ee=Array.prototype.filter.call(s.touches,$);if(ee.length>1)return!1;B=ee[0].pageX,I=ee[0].pageY}else{var re=Array.prototype.find.call(s.changedTouches,$);if(!re)return!1;B=re.pageX,I=re.pageY}}return l=l||Ct(A),(T||_)&&(B=s.clientX+l.x,I=s.clientY+l.y),s.pageOffset=l,s.points=[B,I],s.cursor=T||_,s}function Ne(s){var l=s-nr(d,t.ort),u=l*100/Ee();return u=wt(u),t.dir?100-u:u}function Ve(s){var l=100,u=!1;return g.forEach(function(y,T){if(!O(T)){var _=w[T],B=Math.abs(_-s),I=B===100&&l===100,$=B<l,ee=B<=l&&s>_;($||ee||I)&&(u=T,l=B)}}),u}function W(s,l){s.type==="mouseout"&&s.target.nodeName==="HTML"&&s.relatedTarget===null&&Se(s,l)}function Y(s,l){if(navigator.appVersion.indexOf("MSIE 9")===-1&&s.buttons===0&&l.buttonsProperty!==0)return Se(s,l);var u=(t.dir?-1:1)*(s.calcPoint-l.startCalcPoint),y=u*100/l.baseSize;Ft(u>0,y,l.locations,l.handleNumbers,l.connect)}function Se(s,l){l.handle&&(We(l.handle,t.cssClasses.active),P-=1),l.listeners.forEach(function(u){m.removeEventListener(u[0],u[1])}),P===0&&(We(i,t.cssClasses.drag),it(),s.cursor&&(h.style.cursor="",h.removeEventListener("selectstart",yt))),t.events.smoothSteps&&(l.handleNumbers.forEach(function(u){ke(u,w[u],!0,!0,!1,!1)}),l.handleNumbers.forEach(function(u){se("update",u)})),l.handleNumbers.forEach(function(u){se("change",u),se("set",u),se("end",u)})}function Ae(s,l){if(!l.handleNumbers.some(O)){var u;if(l.handleNumbers.length===1){var y=g[l.handleNumbers[0]];u=y.children[0],P+=1,ce(u,t.cssClasses.active)}s.stopPropagation();var T=[],_=he(n.move,m,Y,{target:s.target,handle:u,connect:l.connect,listeners:T,startCalcPoint:s.calcPoint,baseSize:Ee(),pageOffset:s.pageOffset,handleNumbers:l.handleNumbers,buttonsProperty:s.buttons,locations:w.slice()}),B=he(n.end,m,Se,{target:s.target,handle:u,listeners:T,doNotReject:!0,handleNumbers:l.handleNumbers}),I=he("mouseout",m,W,{target:s.target,handle:u,listeners:T,doNotReject:!0,handleNumbers:l.handleNumbers});T.push.apply(T,_.concat(B,I)),s.cursor&&(h.style.cursor=getComputedStyle(s.target).cursor,g.length>1&&ce(i,t.cssClasses.drag),h.addEventListener("selectstart",yt,!1)),l.handleNumbers.forEach(function($){se("start",$)})}}function X(s){s.stopPropagation();var l=Ne(s.calcPoint),u=Ve(l);u!==!1&&(t.events.snap||St(i,t.cssClasses.tap,t.animationDuration),ke(u,l,!0,!0),it(),se("slide",u,!0),se("update",u,!0),t.events.snap?Ae(s,{handleNumbers:[u]}):(se("change",u,!0),se("set",u,!0)))}function ge(s){var l=Ne(s.calcPoint),u=b.getStep(l),y=b.fromStepping(u);Object.keys(C).forEach(function(T){T.split(".")[0]==="hover"&&C[T].forEach(function(_){_.call(Ye,y)})})}function ye(s,l){if(j()||O(l))return!1;var u=["Left","Right"],y=["Down","Up"],T=["PageDown","PageUp"],_=["Home","End"];t.dir&&!t.ort?u.reverse():t.ort&&!t.dir&&(y.reverse(),T.reverse());var B=s.key.replace("Arrow",""),I=B===T[0],$=B===T[1],ee=B===y[0]||B===u[0]||I,re=B===y[1]||B===u[1]||$,ne=B===_[0],Q=B===_[1];if(!ee&&!re&&!ne&&!Q)return!0;s.preventDefault();var ae;if(re||ee){var ue=ee?0:1,le=Bt(l),oe=le[ue];if(oe===null)return!1;oe===!1&&(oe=b.getDefaultStep(w[l],ee,t.keyboardDefaultStep)),$||I?oe*=t.keyboardPageMultiplier:oe*=t.keyboardMultiplier,oe=Math.max(oe,1e-7),oe=(ee?-1:1)*oe,ae=F[l]+oe}else Q?ae=t.spectrum.xVal[t.spectrum.xVal.length-1]:ae=t.spectrum.xVal[0];return ke(l,b.toStepping(ae),!0,!0),se("slide",l),se("update",l),se("change",l),se("set",l),!1}function De(s){s.fixed||g.forEach(function(l,u){he(n.start,l.children[0],Ae,{handleNumbers:[u]})}),s.tap&&he(n.start,d,X,{}),s.hover&&he(n.move,d,ge,{hover:!0}),s.drag&&f.forEach(function(l,u){if(!(l===!1||u===0||u===f.length-1)){var y=g[u-1],T=g[u],_=[l],B=[y,T],I=[u-1,u];ce(l,t.cssClasses.draggable),s.fixed&&(_.push(y.children[0]),_.push(T.children[0])),s.dragAll&&(B=g,I=S),_.forEach(function($){he(n.start,$,Ae,{handles:B,handleNumbers:I,connect:l})})}})}function Le(s,l){C[s]=C[s]||[],C[s].push(l),s.split(".")[0]==="update"&&g.forEach(function(u,y){se("update",y)})}function lt(s){return s===Ce.aria||s===Ce.tooltips}function Be(s){var l=s&&s.split(".")[0],u=l?s.substring(l.length):s;Object.keys(C).forEach(function(y){var T=y.split(".")[0],_=y.substring(T.length);(!l||l===T)&&(!u||u===_)&&(!lt(_)||u===_)&&delete C[y]})}function se(s,l,u){Object.keys(C).forEach(function(y){var T=y.split(".")[0];s===T&&C[y].forEach(function(_){_.call(Ye,F.map(t.format.to),l,F.slice(),u||!1,w.slice(),Ye)})})}function Je(s,l,u,y,T,_,B){var I;return g.length>1&&!t.events.unconstrained&&(y&&l>0&&(I=b.getAbsoluteDistance(s[l-1],t.margin,!1),u=Math.max(u,I)),T&&l<g.length-1&&(I=b.getAbsoluteDistance(s[l+1],t.margin,!0),u=Math.min(u,I))),g.length>1&&t.limit&&(y&&l>0&&(I=b.getAbsoluteDistance(s[l-1],t.limit,!1),u=Math.min(u,I)),T&&l<g.length-1&&(I=b.getAbsoluteDistance(s[l+1],t.limit,!0),u=Math.max(u,I))),t.padding&&(l===0&&(I=b.getAbsoluteDistance(0,t.padding[0],!1),u=Math.max(u,I)),l===g.length-1&&(I=b.getAbsoluteDistance(100,t.padding[1],!0),u=Math.min(u,I))),B||(u=b.getStep(u)),u=wt(u),u===s[l]&&!_?!1:u}function ot(s,l){var u=t.ort;return(u?l:s)+", "+(u?s:l)}function Ft(s,l,u,y,T){var _=u.slice(),B=y[0],I=t.events.smoothSteps,$=[!s,s],ee=[s,!s];y=y.slice(),s&&y.reverse(),y.length>1?y.forEach(function(ne,Q){var ae=Je(_,ne,_[ne]+l,$[Q],ee[Q],!1,I);ae===!1?l=0:(l=ae-_[ne],_[ne]=ae)}):$=ee=[!0];var re=!1;y.forEach(function(ne,Q){re=ke(ne,u[ne]+l,$[Q],ee[Q],!1,I)||re}),re&&(y.forEach(function(ne){se("update",ne),se("slide",ne)}),T!=null&&se("drag",B))}function Vt(s,l){return t.dir?100-s-l:s}function gn(s,l){w[s]=l,F[s]=b.fromStepping(l);var u=Vt(l,0)-x,y="translate("+ot(u+"%","0")+")";if(g[s].style[t.transformRule]=y,t.events.invertConnects&&w.length>1){var T=w.every(function(_,B,I){return B===0||_>=I[B-1]});if(N!==!T){wn();return}}Oe(s),Oe(s+1),N&&(Oe(s-1),Oe(s+2))}function it(){S.forEach(function(s){var l=w[s]>50?-1:1,u=3+(g.length+l*s);g[s].style.zIndex=String(u)})}function ke(s,l,u,y,T,_){return T||(l=Je(w,s,l,u,y,!1,_)),l===!1?!1:(gn(s,l),!0)}function Oe(s){if(f[s]){var l=w.slice();N&&l.sort(function(I,$){return I-$});var u=0,y=100;s!==0&&(u=l[s-1]),s!==f.length-1&&(y=l[s]);var T=y-u,_="translate("+ot(Vt(u,T)+"%","0")+")",B="scale("+ot(T/100,"1")+")";f[s].style[t.transformRule]=_+" "+B}}function At(s,l){return s===null||s===!1||s===void 0||(typeof s=="number"&&(s=String(s)),s=t.format.from(s),s!==!1&&(s=b.toStepping(s)),s===!1||isNaN(s))?w[l]:s}function Xe(s,l,u){var y=Ue(s),T=w[0]===void 0;l=l===void 0?!0:l,t.animate&&!T&&St(i,t.cssClasses.tap,t.animationDuration),S.forEach(function(I){ke(I,At(y[I],I),!0,!1,u)});var _=S.length===1?0:1;if(T&&b.hasNoSize()&&(u=!0,w[0]=0,S.length>1)){var B=100/(S.length-1);S.forEach(function(I){w[I]=I*B})}for(;_<S.length;++_)S.forEach(function(I){ke(I,w[I],!0,!0,u)});it(),S.forEach(function(I){se("update",I),y[I]!==null&&l&&se("set",I)})}function vn(s){Xe(t.start,s)}function bn(s,l,u,y){if(s=Number(s),!(s>=0&&s<S.length))throw new Error("noUiSlider: invalid handle number, got: "+s);ke(s,At(l,s),!0,!0,y),se("update",s),u&&se("set",s)}function Dt(s){if(s===void 0&&(s=!1),s)return F.length===1?F[0]:F.slice(0);var l=F.map(t.format.to);return l.length===1?l[0]:l}function En(){for(Be(Ce.aria),Be(Ce.tooltips),Object.keys(t.cssClasses).forEach(function(s){We(i,t.cssClasses[s])});i.firstChild;)i.removeChild(i.firstChild);delete i.noUiSlider}function Bt(s){var l=w[s],u=b.getNearbySteps(l),y=F[s],T=u.thisStep.step,_=null;if(t.snap)return[y-u.stepBefore.startValue||null,u.stepAfter.startValue-y||null];T!==!1&&y+T>u.stepAfter.startValue&&(T=u.stepAfter.startValue-y),y>u.thisStep.startValue?_=u.thisStep.step:u.stepBefore.step===!1?_=!1:_=y-u.stepBefore.highestStep,l===100?T=null:l===0&&(_=null);var B=b.countStepDecimals();return T!==null&&T!==!1&&(T=Number(T.toFixed(B))),_!==null&&_!==!1&&(_=Number(_.toFixed(B))),[_,T]}function yn(){return S.map(Bt)}function Sn(s,l){var u=Dt(),y=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];y.forEach(function(_){s[_]!==void 0&&(r[_]=s[_])});var T=_t(r);y.forEach(function(_){s[_]!==void 0&&(t[_]=T[_])}),b=T.spectrum,t.margin=T.margin,t.limit=T.limit,t.padding=T.padding,t.pips?pe(t.pips):me(),t.tooltips?U():D(),w=[],Xe($e(s.start)?s.start:u,l),s.connect&&Ot()}function Ot(){for(;p.firstChild;)p.removeChild(p.firstChild);for(var s=0;s<=t.handles;s++)f[s]=L(p,t.connect[s]),Oe(s);De({drag:t.events.drag,fixed:!0})}function wn(){N=!N,kt(t,t.connect.map(function(s){return!s})),Ot()}function Cn(){d=K(i),H(t.connect,d),De(t.events),Xe(t.start),t.pips&&pe(t.pips),t.tooltips&&U(),V()}Cn();var Ye={destroy:En,steps:yn,on:Le,off:Be,get:Dt,set:Xe,setHandle:bn,reset:vn,disable:E,enable:q,__moveHandles:function(s,l,u){Ft(s,l,w,u)},options:r,updateOptions:Sn,target:i,removePips:me,removeTooltips:D,getPositions:function(){return w.slice()},getTooltips:function(){return M},getOrigins:function(){return g},pips:pe};return Ye}function Dr(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var r=_t(t),n=Ar(e,r,t);return e.noUiSlider=n,n}const Lt={__spectrum:xt,cssClasses:Nt,create:Dr};function Pt(e,t,r){if(e==null||e==="")return{min:t,max:r};if(typeof e=="string"&&e.includes("..")){const n=e.split(".."),o=n[0]!==""?Number(n[0]):t,c=n[1]!==""?Number(n[1]):r;return{min:isNaN(o)?t:o,max:isNaN(c)?r:c}}if(typeof e=="object"){const n=e;return{min:n.min??t,max:n.max??r}}return typeof e=="number"?{min:e,max:r}:{min:t,max:r}}function Br({config:e,filterData:t,value:r,onChange:n,narrowedValues:o,isNarrowing:c}){const i=a.useRef(null),d=a.useRef(null),p=a.useRef(null),[g,f]=a.useState(!1),v=t.props||{},M=v.min??0,b=v.max??100,F=v.step??1,w=v.placeholder||t.label||"Range",S=e.displayAs||t.props?.display_as||"popup",P=v.handles||"double",C=v.compare||"in_range",N=e.filterKey,A=o?.ranges?.[N],m=A?.min??M,h=A?.max??b,x=v.format||"number",k=v.prefix||"",R=v.suffix||"",L=t.icon||"",H=Pt(r,m,h),[K,J]=a.useState(H.min),[j,O]=a.useState(H.max),E=a.useCallback(W=>x==="price"?`${k}${W.toLocaleString()}${R}`:`${k}${W}${R}`,[x,k,R]),q=r!=null&&r!==""&&(H.min!==m||H.max!==h),D=q?`${E(H.min)}  ${E(H.max)}`:w,U=`${E(K)}  ${E(j)}`,V=a.useCallback(()=>{if(!d.current||p.current)return;let W,Y;P==="double"?(W=[K,j],Y=!0):C==="in_range"?(W=[j],Y=[!1,!0]):(W=[K],Y=[!0,!1]),Lt.create(d.current,{start:W,connect:Y,range:{min:m,max:h},step:F,behaviour:"tap-drag"}),p.current=d.current.noUiSlider,p.current.on("update",Se=>{P==="double"?(J(Math.round(Number(Se[0]))),O(Math.round(Number(Se[1])))):C==="in_range"?O(Math.round(Number(Se[0]))):J(Math.round(Number(Se[0])))})},[P,C,K,j,m,h,F]),z=a.useCallback(()=>{p.current&&(p.current.destroy(),p.current=null)},[]);a.useEffect(()=>{const W=Pt(r,m,h);J(W.min),O(W.max),p.current&&(P==="double"?p.current.set([W.min,W.max]):p.current.set([W.min]))},[r,m,h,P]),a.useEffect(()=>{if(g&&S==="popup"){const W=setTimeout(()=>{V()},50);return()=>clearTimeout(W)}return()=>{S==="popup"&&z()}},[g,S,V,z]),a.useEffect(()=>{if(S==="inline")return V(),()=>z()},[S,V,z]),a.useEffect(()=>{if(!p.current||!A)return;p.current.updateOptions({range:{min:m,max:h}},!0);let W=K,Y=j;W<m&&(W=m),W>h&&(W=h),P==="double"&&(Y<m&&(Y=m),Y>h&&(Y=h),W>Y&&(W=Y)),P==="double"?p.current.set([W,Y]):p.current.set([W]),J(W),O(Y)},[A,m,h,P]);const Z=a.useCallback(()=>{f(!0)},[]),G=a.useCallback((W,Y)=>W===m&&Y===h?null:P==="double"?`${W}..${Y}`:C==="greater_than"||C==="in_range"?`${W}..`:`..${Y}`,[P,C,m,h]),fe=W=>{const Y=W.target.value===""?m:Number(W.target.value);J(Y),p.current&&p.current.set(P==="double"?[Y,j]:[Y]),S==="minmax"&&n(G(Y,j))},me=W=>{const Y=W.target.value===""?h:Number(W.target.value);O(Y),p.current&&p.current.set([K,Y]),S==="minmax"&&n(G(K,Y))},pe=a.useCallback(()=>{n(G(K,j)),f(!1)},[K,j,G,n]),Ee=a.useCallback(()=>{J(m),O(h),p.current&&p.current.set(P==="double"?[m,h]:[m]),n(null)},[m,h,P,n]),he=()=>React.createElement("div",{className:"ts-minmax"},React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(m),value:K,onChange:fe,min:m,max:j,step:F}),P==="double"&&React.createElement("input",{type:"number",className:"inline-input input-no-icon",placeholder:String(h),value:j,onChange:me,min:K,max:h,step:F})),_e=()=>React.createElement("div",{className:`range-slider-wrapper${c?" ts-loading":""}`},React.createElement("div",{className:"range-value"},U),React.createElement("div",{ref:d,className:"range-slider"}),A&&(A.min!==M||A.max!==b)&&React.createElement("div",{className:"range-narrowed-indicator"},React.createElement("small",null,"Showing ",E(m),"  ",E(h)," based on current results")));if(S==="minmax"&&P==="double"){const{style:W,className:Y}=te(e,"ts-form-group");return React.createElement("div",{className:Y,style:W},!e.hideLabel&&React.createElement("label",null,t.label),he())}if(S==="inline"){const{style:W,className:Y}=te(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:Y,style:W},!e.hideLabel&&React.createElement("label",null,t.label),_e())}const{style:Ne,className:Ve}=te(e,"ts-form-group");return React.createElement("div",{className:Ve,style:Ne},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${q?"ts-filled":""}`,onClick:Z,onMouseDown:W=>W.preventDefault(),role:"button",tabIndex:0},L&&React.createElement("span",{dangerouslySetInnerHTML:{__html:L}}),React.createElement("div",{className:"ts-filter-text"},D),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:g,target:i,title:"",icon:L,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:pe,onClear:Ee,onClose:()=>f(!1)},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,t.label,t.description&&React.createElement("small",null,t.description)),_e())))}function Or(e,t){let r=null;return function(...n){r&&clearTimeout(r),r=setTimeout(()=>e.apply(this,n),t)}}function Hr({config:e,filterData:t,value:r,onChange:n}){const o=t.props||{},c=o.min??0,i=o.max??99,d=o.step??1,p=o.default??c,g=o.placeholder||t.label||"Any",f=e.displayAs||t.props?.display_as||"popup",v=t.icon||"",M=a.useRef(null),[b,F]=a.useState(!1),w=typeof r=="number"?r:p,[S,P]=a.useState(w),C=a.useMemo(()=>Or(J=>n(J),300),[n]);a.useEffect(()=>{P(typeof r=="number"?r:p)},[r,p]),a.useEffect(()=>{b&&P(w)},[b,w]);const N=J=>{J.preventDefault();const j=Math.max(c,S-d);P(j),f==="inline"&&C(j)},A=J=>{J.preventDefault();const j=Math.min(i,S+d);P(j),f==="inline"&&C(j)},m=J=>{const j=parseInt(J.target.value,10);if(!isNaN(j)){const O=Math.min(i,Math.max(c,j));P(O),f==="inline"&&C(O)}},h=a.useCallback(()=>{F(!0)},[]),x=a.useCallback(()=>{n(S),F(!1)},[S,n]),k=a.useCallback(()=>{P(p),n(p)},[p,n]),R=()=>React.createElement("div",{className:"ts-stepper-input flexify"},React.createElement("button",{type:"button",className:"ts-stepper-left ts-icon-btn inline-btn-ts",onClick:N},React.createElement("i",{className:"las la-minus"})),React.createElement("input",{type:"number",className:"ts-input-box",min:c,max:i,step:d,value:S,onChange:m,placeholder:g}),React.createElement("button",{type:"button",className:"ts-stepper-right ts-icon-btn inline-btn-ts",onClick:A},React.createElement("i",{className:"las la-plus"})));if(f==="inline"){const{style:J,className:j}=te(e,"ts-form-group ts-inline-filter");return React.createElement("div",{className:j,style:J},!e.hideLabel&&React.createElement("label",null,t.label),R())}const L=w!==p,{style:H,className:K}=te(e,"ts-form-group");return React.createElement("div",{className:K,style:H},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:M,className:`ts-filter ts-popup-target ${L?"ts-filled":""}`,onClick:h,onMouseDown:J=>J.preventDefault(),role:"button",tabIndex:0},v&&React.createElement("span",{dangerouslySetInnerHTML:{__html:v}}),React.createElement("div",{className:"ts-filter-text"},L?S:g),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:b,target:M,title:"",icon:v,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:x,onClear:k,onClose:()=>F(!1)},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,t.label,t.description&&React.createElement("small",null,t.description)),R())))}function Ur(e){return e==null||e===""?[]:typeof e=="string"?e.split(",").map(t=>t.trim()).filter(t=>t!==""):Array.isArray(e)?e.length>0&&typeof e[0]=="string"?e:e.length>0&&typeof e[0]=="number"?e.map(String):[]:[]}function rt(e){return e.length===0?null:e.join(",")}function Wr({config:e,filterData:t,value:r,onChange:n,narrowedValues:o,isNarrowing:c}){const i=a.useRef(null),d=a.useRef(null),[p,g]=a.useState(!1),[f,v]=a.useState(""),M=t.props||{},b=M.multiple??!0,F=M.placeholder||t.label||"Select",w=e.displayAs||M.display_as||"popup",S=e.hideEmptyTerms??M.hide_empty_terms??!1,P=t.icon||"",C=M.taxonomy||e.filterKey,N=o?.terms?.[C],A=a.useCallback((V,z=0)=>{const Z=[];for(const G of V)Z.push({...G,depth:z}),G.children&&G.children.length>0&&Z.push(...A(G.children,z+1));return Z},[]),m=a.useMemo(()=>{const V=M.terms||[];let z=A(V);return S&&N&&(z=z.filter(Z=>{if(!Z.term_taxonomy_id)return!0;const G=N[Z.term_taxonomy_id];return G===void 0||G>0})),z},[M.terms,A,S,N]),h=a.useCallback(V=>!N||!V.term_taxonomy_id?null:N[V.term_taxonomy_id]??null,[N]),x=a.useMemo(()=>Ur(r),[r]),k=a.useCallback(V=>V.slug?x.includes(V.slug):!1,[x]),R=a.useMemo(()=>m.filter(V=>V.slug&&x.includes(V.slug)),[m,x]),L=a.useMemo(()=>{if(!f)return m;const V=f.toLowerCase();return m.filter(z=>z.label.toLowerCase().includes(V))},[m,f]);a.useEffect(()=>{p&&(v(""),m.length>=15&&setTimeout(()=>d.current?.focus(),50))},[p,m.length]);const H=a.useCallback(()=>{g(!0)},[]),K=a.useCallback(V=>{const z=V.slug;if(z)if(b){const Z=[...x];if(Z.includes(z)){const G=Z.filter(fe=>fe!==z);n(rt(G))}else{const G=[...Z,z];n(rt(G))}}else n(rt([z])),g(!1)},[b,x,n]),J=a.useCallback(()=>{g(!1)},[]),j=a.useCallback(()=>{n(null)},[n]),O=x.length>0,E=O&&R[0]?.label||F,q=R.length>1?R.length-1:0;if(w==="inline"){const{style:V,className:z}=te(e,"ts-form-group inline-terms-wrapper ts-inline-filter min-scroll");return React.createElement("div",{className:`${z}${c?" ts-loading":""}`,style:V},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:"ts-term-dropdown ts-multilevel-dropdown inline-multilevel"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},m.map(Z=>{const G=k(Z),fe=Z.depth||0,me=h(Z),pe=me===0;return React.createElement("li",{key:Z.slug,className:`${G?"ts-selected":""}${pe?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:Ee=>{Ee.preventDefault(),pe||K(Z)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${b?"checkbox":"radio"}`},React.createElement("input",{type:b?"checkbox":"radio",checked:G,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,fe>0?" ".repeat(fe):"",Z.label),me!==null&&React.createElement("span",{className:"ts-term-count"},"(",me,")"),Z.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:Z.icon}})))}))))}if(w==="buttons"){const{style:V,className:z}=te(e,"ts-form-group");return React.createElement("div",{className:z,style:V},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},m.map(Z=>{const G=k(Z);return React.createElement("li",{key:Z.slug,className:`flexify ${G?"adb-selected":""}`,onClick:()=>K(Z)},Z.label)})))}const{style:D,className:U}=te(e,"ts-form-group");return React.createElement("div",{className:U,style:D},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${O?"ts-filled":""}`,onClick:H,onMouseDown:V=>V.preventDefault(),role:"button",tabIndex:0},P&&React.createElement("span",{dangerouslySetInnerHTML:{__html:P}}),React.createElement("div",{className:"ts-filter-text"},E,q>0&&React.createElement("span",{className:"term-count"},"+",q)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:p,target:i,title:"",icon:P,saveLabel:"Save",clearLabel:"Clear",showClear:!0,showSave:b,onSave:J,onClear:j,onClose:()=>g(!1)},m.length>=15&&React.createElement("div",{className:"ts-sticky-top uib b-bottom"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("span",null,ve.search),React.createElement("input",{ref:d,type:"text",value:f,onChange:V=>v(V.target.value),placeholder:"Search",className:"autofocus"}))),React.createElement("div",{className:`ts-term-dropdown ts-multilevel-dropdown ts-md-group${c?" ts-loading":""}`},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},L.map(V=>{const z=k(V),Z=V.depth||0,G=h(V),fe=G===0;return React.createElement("li",{key:V.slug,className:`${z?"ts-selected":""}${fe?" ts-disabled":""}`},React.createElement("a",{href:"#",className:"flexify",onClick:me=>{me.preventDefault(),fe||K(V)}},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:`container-${b?"checkbox":"radio"}`},React.createElement("input",{type:b?"checkbox":"radio",checked:z,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,Z>0?" ".repeat(Z):"",V.label),G!==null&&React.createElement("span",{className:"ts-term-count"},"(",G,")"),V.icon&&React.createElement("div",{className:"ts-term-icon",dangerouslySetInnerHTML:{__html:V.icon}})))})),L.length===0&&React.createElement("div",{className:"ts-empty-user-tab"},P&&React.createElement("span",{dangerouslySetInnerHTML:{__html:P}}),React.createElement("p",null,"No results found")))))}function Re(e){return!e||!e.address?null:e.swlat!==void 0&&e.swlng!==void 0&&e.nelat!==void 0&&e.nelng!==void 0?`${e.address};${e.swlat},${e.swlng}..${e.nelat},${e.nelng}`:e.lat!==void 0&&e.lng!==void 0?`${e.address};${e.lat},${e.lng},${e.radius||25}`:e.address}function jr(e,t){if(e==null||e==="")return null;if(typeof e=="string"){const r=e.indexOf(";");if(r===-1)return{address:e};const n=e.substring(0,r),o=e.substring(r+1);if(o.includes("..")){const i=o.split(".."),d=i[0].split(","),p=i[1].split(",");return{address:n,swlat:Number(d[0]),swlng:Number(d[1]),nelat:Number(p[0]),nelng:Number(p[1])}}const c=o.split(",");return{address:n,lat:Number(c[0]),lng:Number(c[1]),radius:c[2]?Number(c[2]):t}}return typeof e=="object"?e:null}function zr({config:e,filterData:t,value:r,onChange:n}){const o=a.useRef(null),c=a.useRef(null),i=a.useRef(null),d=a.useRef(null),p=a.useRef(null),[g,f]=a.useState(!1),[v,M]=a.useState(!1),b=a.useRef(null),F=t.props||{},w=F.radius||{},S=w.default??25,P=w.min??1,C=w.max??100,N=w.step??1,A=F.units||"km",m=F.display_proximity_as||"popup",h=F.placeholder||t.label||"Location",x=e.displayAs||t.props?.display_as||"popup",k=t.icon||"",R=jr(r,S)||{},[L,H]=a.useState(R.address||""),[K,J]=a.useState(R.radius||S),j=a.useCallback(X=>Math.round(X*1e6)/1e6,[]),O=a.useCallback(X=>`${X}${A==="mi"?"mi":"km"}`,[A]),E=a.useCallback(()=>{!d.current||p.current||(Lt.create(d.current,{start:K,connect:[!0,!1],step:N,range:{min:P,max:C},behaviour:"tap-drag"}),p.current=d.current.noUiSlider,p.current.on("update",X=>{J(Math.round(Number(X[0])))}),p.current.on("change",X=>{const ge=Math.round(Number(X[0]));m==="inline"&&R.lat&&n(Re({...R,radius:ge}))}))},[K,N,P,C,m,R,n]),q=a.useCallback(()=>{p.current&&(p.current.destroy(),p.current=null)},[]);a.useEffect(()=>{if(m==="inline"&&R.lat){const X=setTimeout(()=>E(),50);return()=>{clearTimeout(X),q()}}},[m,R.lat,E,q]),a.useEffect(()=>{if(v){const X=setTimeout(()=>E(),50);return()=>clearTimeout(X)}return()=>q()},[v,E,q]),a.useEffect(()=>{const X=R.radius||S;J(X),p.current&&p.current.set([X])},[R.radius,S]);const D=a.useCallback(()=>{if(i.current||!c.current||typeof window>"u")return;const X=window.Voxel?.Maps;if(!X){console.warn("Voxel.Maps not available for autocomplete");return}X.await(()=>{if(i.current)return;const ge=e.autocomplete||{};i.current=new X.Autocomplete(c.current,ye=>{if(ye){const De=ye.viewport.getSouthWest(),Le=ye.viewport.getNorthEast(),lt={address:ye.address,swlat:j(De.getLatitude()),swlng:j(De.getLongitude()),nelat:j(Le.getLatitude()),nelng:j(Le.getLongitude()),lat:j(ye.latlng.getLatitude()),lng:j(ye.latlng.getLongitude()),radius:R.radius||S};H(ye.address),n(Re(lt)),x==="popup"&&f(!1)}else H(""),n(null)},ge)})},[e.autocomplete,n,x,S,R.radius,j]);a.useEffect(()=>{(g||x==="inline")&&(H(R.address||""),g&&setTimeout(()=>c.current?.focus(),50))},[g,x,R.address]);const U=a.useCallback(()=>{f(!0)},[]),V=a.useCallback(()=>{D()},[D]),z=X=>{H(X.target.value),x==="inline"&&(X.target.value?n(Re({...R,address:X.target.value})):n(null))},Z=X=>{X.preventDefault(),X.stopPropagation(),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(ge=>{const ye={address:"Current Location",lat:ge.coords.latitude,lng:ge.coords.longitude,radius:S};H("Current Location"),n(Re(ye)),x==="popup"&&f(!1)},ge=>{console.error("Geolocation error:",ge)})},G=a.useCallback(()=>{n(L?Re({...R,address:L}):null),f(!1)},[L,R,n]),fe=a.useCallback(()=>{H(""),n(null)},[n]),me=a.useCallback(X=>{X.key==="Enter"&&(X.preventDefault(),G())},[G]),pe=a.useCallback(()=>{R.lat&&n(Re({...R,radius:K})),M(!1)},[R,K,n]),Ee=a.useCallback(()=>{J(S),p.current&&p.current.set([S]),R.lat&&n(Re({...R,radius:S}))},[S,R,n]),he=!!R.address||!!R.lat,_e=he?R.address||"Location set":h,Ne=()=>React.createElement("div",{className:"ts-input-icon flexify",style:{position:"relative"}},k&&React.createElement("span",{dangerouslySetInnerHTML:{__html:k}}),React.createElement("input",{ref:c,type:"text",className:"inline-input",placeholder:h,value:L,onChange:z,onKeyDown:me,onFocus:V}),React.createElement("a",{href:"#",className:"inline-user-location ts-icon-btn",onClick:Z,title:"Use my location","aria-label":"Use my location"},ve.crosshairs)),Ve=()=>React.createElement("div",{className:"range-slider-wrapper"},React.createElement("div",{className:"range-value"},O(K)),React.createElement("div",{ref:d,className:"range-slider"})),W=()=>!R.lat||m==="inline"?null:React.createElement("div",{className:"ts-form-group ts-proximity-filter"},React.createElement("label",null,F.proximity_label||"Radius"),React.createElement("div",{ref:b,className:`ts-filter ts-popup-target ${R.radius?"ts-filled":""}`,onClick:()=>M(!0),onMouseDown:X=>X.preventDefault(),role:"button",tabIndex:0},React.createElement("div",{className:"ts-filter-text"},O(R.radius||S)),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:v,target:b,title:"",saveLabel:"Save",clearLabel:"Reset",showClear:!0,onSave:pe,onClear:Ee,onClose:()=>M(!1)},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,F.proximity_label||"Search radius"),Ve()))),Y=()=>m!=="inline"||!R.lat?null:React.createElement("div",{className:"ts-form-group ts-inline-proximity"},React.createElement("label",null,F.proximity_label||"Radius",": ",O(K)),React.createElement("div",{ref:d,className:"range-slider"}));if(x==="inline"){const{style:X,className:ge}=te(e,"ts-form-group ts-inline-filter");return React.createElement(React.Fragment,null,React.createElement("div",{className:ge,style:X},!e.hideLabel&&React.createElement("label",null,t.label),Ne()),Y(),W())}const{style:Se,className:Ae}=te(e,"ts-form-group");return React.createElement(React.Fragment,null,React.createElement("div",{className:Ae,style:Se},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${he?"ts-filled":""}`,onClick:U,onMouseDown:X=>X.preventDefault(),role:"button",tabIndex:0},k&&React.createElement("span",{dangerouslySetInnerHTML:{__html:k}}),React.createElement("div",{className:"ts-filter-text"},_e),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:g,target:o,title:"",icon:k,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:G,onClear:fe,onClose:()=>f(!1)},React.createElement("div",{className:"ts-form-group"},Ne()))),Y(),W())}function qr(e){if(e==null||e==="")return{date:"",slots:1};if(typeof e=="string")return{date:e,slots:1};if(typeof e=="object"){const t=e;return{date:t.date||"",slots:t.slots||1}}return{date:"",slots:1}}const Ie=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},Fe=e=>{if(!e)return null;const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},nt=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}catch{return e}};function Kr({config:e,filterData:t,value:r,onChange:n}){const o=a.useRef(null),c=a.useRef(null),[i,d]=a.useState(!1),p=t.props||{},f=(p.inputMode||"date-range")==="date-range",v=p.l10n||{},M=v.pickDate||t.label||"Select dates",b=t.icon||"",F=qr(r),w=F.date,S=F.slots;let P="",C="";f&&w&&w.includes("..")?[P,C]=w.split(".."):!f&&w&&(P=w);const[N,A]=a.useState(()=>Ie(P)),[m,h]=a.useState(()=>Ie(C)),[x,k]=a.useState("start"),[R,L]=a.useState(S);a.useEffect(()=>{if(i){if(f&&w&&w.includes("..")){const[U,V]=w.split("..");A(Ie(U)),h(Ie(V))}else!f&&w&&A(Ie(w));L(S),k("start")}},[i,f,w,S]);const H=a.useCallback(()=>{d(!0)},[]),K=a.useCallback(U=>{if(f&&U&&c.current)if(x==="start")A(U),k("end"),c.current.setStartRange(U),c.current.setEndRange(null),c.current.draw();else{h(U),k("start"),c.current.setEndRange(U),c.current.draw();const V=Fe(N),z=Fe(U);V&&z&&(n(`${V}..${z}`),d(!1))}else A(U)},[f,x,N,n]);a.useCallback(U=>{L(Number(U.target.value)||1)},[]);const J=a.useCallback(U=>{if(f){const V=Fe(N),z=Fe(m);V&&z&&n(`${V}..${z}`)}else{const z=Fe(U!==void 0?U:N);z&&n(z)}d(!1)},[f,N,m,n]),j=a.useCallback(()=>{A(null),h(null),L(1),n(null),c.current&&(c.current.setStartRange(null),c.current.setEndRange(null))},[n]),O=f?!!(P&&C):!!w,E=a.useMemo(()=>{if(!O)return M;if(f){const U=nt(P),V=nt(C),z=`${U}  ${V}`;return S>1?`${z} (${S})`:z}else{const U=nt(w);return S>1?`${U} (${S})`:U}},[f,O,P,C,w,S,M]),{style:q,className:D}=te(e,"ts-form-group");return React.createElement("div",{className:D,style:q},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${O?"ts-filled":""}`,onClick:H,onMouseDown:U=>U.preventDefault(),role:"button",tabIndex:0},b&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b}}),React.createElement("div",{className:"ts-filter-text"},E),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:i,target:o,title:"",icon:b,saveLabel:v.save||"Save",clearLabel:v.clear||"Clear",showSave:f,onSave:J,onClear:j,onClose:()=>d(!1)},f&&React.createElement("div",{className:"ts-popup-head flexify"},React.createElement("div",{className:"ts-popup-name flexify"},b&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b}}),React.createElement("span",null,React.createElement("span",{className:x==="start"?"chosen":"",onClick:()=>k("start"),style:{cursor:"pointer"}},v.checkIn||"Check-in"),N&&React.createElement("span",null,"  "),N&&React.createElement("span",{className:x==="end"?"chosen":"",onClick:()=>k("end"),style:{cursor:"pointer"}},v.checkOut||"Check-out")))),React.createElement(Pe,{value:N,onChange:K,...!f&&{onSelect:J},pickerConfig:{minDate:new Date,...f?{theme:"pika-range"}:{}},onPickerReady:U=>{c.current=U,f&&N&&(U.setStartRange(N),m&&U.setEndRange(m))}})))}function Zr(e,t){if(e==null||e==="")return{from:"",to:""};if(typeof e=="string"){if(t&&e.includes("..")){const r=e.split("..");return{from:r[0]||"",to:r[1]||""}}return{from:e,to:""}}if(typeof e=="object"){const r=e;return{from:r.from||"",to:r.to||""}}return{from:"",to:""}}function je(e,t,r){return!e&&!t?null:r?e&&t?`${e}..${t}`:e?`${e}..`:t?`..${t}`:null:e||null}const ze=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},Mt=e=>{if(!e)return null;const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},qe=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}catch{return e}};function Jr({config:e,filterData:t,value:r,onChange:n}){const o=a.useRef(null),c=t.props||{},i=c.enable_range??!1,d=c.placeholder||t.label||"Select date",p=t.icon||"",g=Zr(r,i),f=g.from,v=g.to,[M,b]=a.useState(!1),[F,w]=a.useState(!1),[S,P]=a.useState(()=>ze(f)),[C,N]=a.useState(()=>ze(v)),A=a.useCallback(()=>{P(ze(f)),b(!0)},[f]),m=a.useCallback(()=>{N(ze(v)),w(!0)},[v]),h=a.useCallback(E=>{P(E)},[]),x=a.useCallback(E=>{N(E)},[]),k=a.useCallback(E=>{const D=Mt(E!==void 0?E:S)||"";n(je(D,v,i)),b(!1)},[S,i,v,n]),R=a.useCallback(E=>{const D=Mt(E!==void 0?E:C)||"";n(je(f,D,i)),w(!1)},[C,f,i,n]),L=a.useCallback(()=>{P(null),n(je("",v,i))},[i,v,n]),H=a.useCallback(()=>{N(null),n(je(f,"",i))},[f,i,n]),K=i?!!f||!!v:!!f,J=a.useMemo(()=>{if(!K)return d;if(i){const E=[];return f&&E.push(qe(f)),v&&E.push(qe(v)),E.join(" - ")||d}return qe(f)||d},[K,i,f,v,d]),{style:j,className:O}=te(e,"ts-form-group");return React.createElement("div",{className:O,style:j},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${K?"ts-filled":""}`,onClick:A,onMouseDown:E=>E.preventDefault(),role:"button",tabIndex:0},p&&React.createElement("span",{dangerouslySetInnerHTML:{__html:p}}),React.createElement("div",{className:"ts-filter-text"},J),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:M,target:o,title:i?"From":"",icon:p,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:k,onClear:L,onClose:()=>b(!1)},React.createElement(Pe,{value:S,onChange:h,onSelect:k}),i&&React.createElement("div",{className:"ts-form-group",style:{marginTop:"12px",borderTop:"1px solid var(--ts-shade-5)",paddingTop:"12px"}},React.createElement("label",null,"To"),React.createElement("div",{className:`ts-filter ts-popup-target ${v?"ts-filled":""}`,onClick:E=>{E.stopPropagation(),b(!1),setTimeout(()=>m(),100)},role:"button",tabIndex:0},p&&React.createElement("span",{dangerouslySetInnerHTML:{__html:p}}),React.createElement("div",{className:"ts-filter-text"},v?qe(v):"Select end date")))),i&&React.createElement(ie,{isOpen:F,target:o,title:"To",icon:p,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:R,onClear:H,onClose:()=>w(!1)},React.createElement(Pe,{value:C,onChange:x,onSelect:R})))}const Ke=e=>{if(!e)return null;try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t:null}catch{return null}},It=e=>{if(!e)return null;const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},st=e=>{if(!e)return"";try{const t=new Date(e+"T00:00:00");return isFinite(t.getTime())?t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}catch{return e}};function Xr({config:e,filterData:t,value:r,onChange:n}){const o=a.useRef(null),i=(t.props||{}).placeholder||t.label||"Date",d=t.icon||"",p=r||{},g=p.from||"",f=p.to||"",[v,M]=a.useState(!1),[b,F]=a.useState(!1),[w,S]=a.useState(()=>Ke(g)),[P,C]=a.useState(()=>Ke(f)),N=a.useCallback(()=>{S(Ke(g)),M(!0)},[g]),A=a.useCallback(()=>{C(Ke(f)),F(!0)},[f]),m=a.useCallback(O=>{S(O)},[]),h=a.useCallback(O=>{C(O)},[]),x=a.useCallback(O=>{const q=It(O!==void 0?O:w)||"";n({from:q,to:f}),M(!1)},[w,f,n]),k=a.useCallback(O=>{const q=It(O!==void 0?O:P)||"";n({from:g,to:q}),F(!1)},[P,g,n]),R=a.useCallback(()=>{S(null),n({from:"",to:f})},[f,n]),L=a.useCallback(()=>{C(null),n({from:g,to:""})},[g,n]),H=!!g||!!f,K=a.useMemo(()=>{if(!H)return i;const O=[];return g&&O.push(st(g)),f&&O.push(st(f)),O.join(" - ")||i},[H,g,f,i]),{style:J,className:j}=te(e,"ts-form-group");return React.createElement("div",{className:j,style:J},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${H?"ts-filled":""}`,onClick:N,onMouseDown:O=>O.preventDefault(),role:"button",tabIndex:0},d&&React.createElement("span",{dangerouslySetInnerHTML:{__html:d}}),React.createElement("div",{className:"ts-filter-text"},K),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:v,target:o,title:"From",icon:d,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:x,onClear:R,onClose:()=>M(!1)},React.createElement(Pe,{value:w,onChange:m,onSelect:x}),React.createElement("div",{className:"ts-form-group",style:{marginTop:"12px",borderTop:"1px solid var(--ts-shade-5)",paddingTop:"12px"}},React.createElement("label",null,"To"),React.createElement("div",{className:`ts-filter ts-popup-target ${f?"ts-filled":""}`,onClick:O=>{O.stopPropagation(),M(!1),setTimeout(()=>A(),100)},role:"button",tabIndex:0},d&&React.createElement("span",{dangerouslySetInnerHTML:{__html:d}}),React.createElement("div",{className:"ts-filter-text"},f?st(f):"Select end date")))),React.createElement(ie,{isOpen:b,target:o,title:"To",icon:d,saveLabel:"Save",clearLabel:"Clear",showClear:!0,onSave:k,onClear:L,onClose:()=>F(!1)},React.createElement(Pe,{value:P,onChange:h,onSelect:k})))}function Yr({config:e,filterData:t,value:r,onChange:n}){const o=r===!0||r==="true"||r==="1",c=g=>{g.preventDefault(),n(!o)},i=t.props?.placeholder||t.label||"Open now",{style:d,className:p}=te(e,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:p,style:d},React.createElement("label",null,React.createElement("div",{className:"switch-slider"},React.createElement("div",{className:"onoffswitch",onClick:c},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:o,readOnly:!0}),React.createElement("label",{className:"onoffswitch-label",onClick:c}))),i))}function Gr({config:e,filterData:t,value:r,onChange:n}){const o=a.useRef(null),[c,i]=a.useState(!1),d=t.props||{},p=e.displayAs||t.props?.display_as||"popup",g=d.placeholder||t.label||"Order By",f=a.useMemo(()=>{const h=d.choices||{};return Array.isArray(h)?h:Object.entries(h).map(([x,k])=>({key:x,label:k.label||k,placeholder:k.placeholder||k.label||k,icon:k.icon||""}))},[d.choices]),v=t.icon||"",M=a.useCallback(()=>{i(!0)},[]),b=a.useCallback(h=>{n(h),p==="popup"&&i(!1)},[n,p]),F=a.useCallback(()=>{n(null)},[n]),w=typeof r=="string"?r:"",S=!!w,P=f.find(h=>h.key===w),C=P?.placeholder||P?.label||g,N=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},f.map(h=>{const x=w===h.key;return React.createElement("li",{key:h.key,className:x?"ts-selected":""},React.createElement("a",{href:"#",className:"flexify",onClick:k=>{k.preventDefault(),b(h.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:h.key,checked:x,readOnly:!0,disabled:!0,hidden:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,h.label),h.icon&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:h.icon}}))))})));if(p==="buttons"){const{style:h,className:x}=te(e,"ts-form-group");return React.createElement("div",{className:x,style:h},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},f.map(k=>{const R=w===k.key;return React.createElement("li",{key:k.key,className:`flexify${R?" adb-selected":""}`,onClick:()=>b(k.key)},k.placeholder||k.label)})))}if(p==="alt-btn")return React.createElement(React.Fragment,null,f.map(h=>{const x=w===h.key,{style:k,className:R}=te(e,"ts-form-group");return React.createElement("div",{key:h.key,className:R,style:k},!e.hideLabel&&React.createElement("label",null,h.label),React.createElement("div",{className:`ts-filter${x?" ts-filled":""}`,onClick:()=>b(h.key)},h.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:h.icon}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,h.placeholder||h.label))))}));const{style:A,className:m}=te(e,"ts-form-group");return React.createElement("div",{className:m,style:A},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${S?"ts-filled":""}`,onClick:M,onMouseDown:h=>h.preventDefault(),role:"button",tabIndex:0},v&&React.createElement("span",{dangerouslySetInnerHTML:{__html:v}}),React.createElement("div",{className:"ts-filter-text"},C),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:c,target:o,title:"",icon:v,saveLabel:"Save",clearLabel:"Clear",showClear:S,showSave:!1,onSave:()=>i(!1),onClear:F,onClose:()=>i(!1),className:"hide-head"},N()))}function Qr({config:e,filterData:t,value:r,onChange:n}){const[o,c]=a.useState(!1),i=a.useRef(null),d=t.props||{},p=e.displayAs||t.props?.display_as||"popup",g=d.placeholder||t.label||"Status",f=a.useMemo(()=>{const m=d.choices||{};return Array.isArray(m)?m:Object.entries(m).map(([h,x])=>({key:h,label:x.label||x}))},[d.choices]),v=t.icon||"",M=a.useCallback(m=>{n(m),c(!1)},[n]),b=a.useCallback(()=>{c(!0)},[]),F=typeof r=="string"?r:"",w=!!F,S=f.find(m=>m.key===F),P=w&&S?.label||g,C=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},f.map(m=>{const h=F===m.key;return React.createElement("li",{key:m.key},React.createElement("a",{href:"#",className:"flexify",onClick:x=>{x.preventDefault(),M(m.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:m.key,checked:h,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,m.label),v&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:v}}))))})));if(p==="buttons")return React.createElement(React.Fragment,null,f.map(m=>{const h=F===m.key,{style:x,className:k}=te(e,"ts-form-group");return React.createElement("div",{key:m.key,className:k,style:x},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter${h?" ts-filled":""}`,onClick:()=>n(m.key)},v&&React.createElement("span",{dangerouslySetInnerHTML:{__html:v}}),React.createElement("div",{className:"ts-filter-text"},React.createElement("span",null,m.label))))}));const{style:N,className:A}=te(e,"ts-form-group");return React.createElement("div",{className:A,style:N},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:i,className:`ts-filter ts-popup-target ${w?"ts-filled":""}`,onClick:b,onMouseDown:m=>m.preventDefault(),role:"button",tabIndex:0},v&&React.createElement("span",{dangerouslySetInnerHTML:{__html:v}}),React.createElement("div",{className:"ts-filter-text"},P),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:o,target:i,title:"",icon:v,saveLabel:"Save",showSave:!1,showClear:!1,onSave:()=>c(!1),onClose:()=>c(!1),className:"hide-head"},C()))}function $r({config:e,filterData:t,value:r,onChange:n}){const o=a.useRef(null),c=a.useRef(null),[i,d]=a.useState(!1),[p,g]=a.useState(""),[f,v]=a.useState([]),[M,b]=a.useState(!1),w=(t.props||{}).placeholder||t.label||"User",S=t.icon||"";a.useEffect(()=>{i&&(g(""),v([]),setTimeout(()=>c.current?.focus(),50))},[i]);const P=a.useCallback(()=>{d(!0)},[]),C=a.useCallback(L=>{const H=L.target.value;g(H),H.length>=2?(b(!0),setTimeout(()=>{v([]),b(!1)},300)):v([])},[]),N=a.useCallback((L,H)=>{n({id:L,name:H}),d(!1),g("")},[n]),A=a.useCallback(()=>{n(null),g(""),v([])},[n]),m=r,h=!!m?.id,x=h&&m?.name||w,{style:k,className:R}=te(e,"ts-form-group");return React.createElement("div",{className:R,style:k},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${h?"ts-filled":""}`,onClick:P,onMouseDown:L=>L.preventDefault(),role:"button",tabIndex:0},S&&React.createElement("span",{dangerouslySetInnerHTML:{__html:S}}),React.createElement("div",{className:"ts-filter-text"},x),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:i,target:o,title:"",icon:S,saveLabel:"Save",clearLabel:"Clear",showClear:h,showSave:!1,onSave:()=>d(!1),onClear:A,onClose:()=>d(!1)},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,ve.search),React.createElement("input",{ref:c,type:"text",className:"inline-input",value:p,onChange:C,placeholder:"Search users..."}))),M?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):f.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},f.map(L=>React.createElement("li",{key:L.id},React.createElement("a",{href:"#",className:"flexify",onClick:H=>{H.preventDefault(),N(L.id,L.name)}},L.avatar&&React.createElement("img",{src:L.avatar,alt:L.name,className:"ts-status-avatar"}),React.createElement("span",null,L.name)))))):p.length>=2?React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",null,getFilterIcon(t.type)),React.createElement("p",null,"No users found")):null))}function en({config:e,filterData:t,value:r,onChange:n}){const o=a.useRef(null),c=a.useRef(null),[i,d]=a.useState(!1),[p,g]=a.useState(""),[f,v]=a.useState([]),[M,b]=a.useState(!1),w=(t.props||{}).placeholder||t.label||"Related",S=t.icon||"";a.useEffect(()=>{i&&(g(""),v([]),setTimeout(()=>c.current?.focus(),50))},[i]);const P=a.useCallback(()=>{d(!0)},[]),C=a.useCallback(L=>{const H=L.target.value;g(H),H.length>=2?(b(!0),setTimeout(()=>{v([]),b(!1)},300)):v([])},[]),N=a.useCallback((L,H)=>{n({id:L,title:H}),d(!1),g("")},[n]),A=a.useCallback(()=>{n(null),g(""),v([])},[n]),m=r,h=!!m?.id,x=h&&m?.title||w,{style:k,className:R}=te(e,"ts-form-group");return React.createElement("div",{className:R,style:k},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{ref:o,className:`ts-filter ts-popup-target ${h?"ts-filled":""}`,onClick:P,onMouseDown:L=>L.preventDefault(),role:"button",tabIndex:0},S&&React.createElement("span",{dangerouslySetInnerHTML:{__html:S}}),React.createElement("div",{className:"ts-filter-text"},x),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:i,target:o,title:"",icon:S,saveLabel:"Save",clearLabel:"Clear",showClear:h,showSave:!1,onSave:()=>d(!1),onClear:A,onClose:()=>d(!1)},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,ve.search),React.createElement("input",{ref:c,type:"text",className:"inline-input",value:p,onChange:C,placeholder:"Search..."}))),M?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):f.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},f.map(L=>React.createElement("li",{key:L.id},React.createElement("a",{href:"#",className:"flexify",onClick:H=>{H.preventDefault(),N(L.id,L.title)}},React.createElement("span",null,L.title)))))):p.length>=2?React.createElement("div",{className:"ts-empty-user-tab"},S&&React.createElement("span",{dangerouslySetInnerHTML:{__html:S}}),React.createElement("p",null,"No results found")):null))}function tn({config:e,filterData:t,value:r,onChange:n}){const[o,c]=a.useState(!1),[i,d]=a.useState(""),[p,g]=a.useState([]),[f,v]=a.useState(!1),M=a.useRef(null),F=(t.props||{}).placeholder||t.label||"Following",w=t.icon||"",S=R=>{const L=R.target.value;d(L),L.length>=2?(v(!0),setTimeout(()=>{g([]),v(!1)},300)):g([])},P=(R,L)=>{n({id:R,name:L}),c(!1),d("")},C=R=>{R.preventDefault(),c(!o)};a.useEffect(()=>{const R=L=>{M.current&&!M.current.contains(L.target)&&c(!1)};return o&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[o]);const N=r,A=!!N?.id,m=A&&N?.name||F,{style:h,className:x}=te(e,"ts-form-group"),k=Qt(e);return React.createElement("div",{className:x,style:h,ref:M},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("div",{className:`ts-filter ts-popup-target ${A?"ts-filled":""}`,onClick:C,onMouseDown:R=>R.preventDefault(),role:"button",tabIndex:0},w&&React.createElement("span",{dangerouslySetInnerHTML:{__html:w}}),React.createElement("div",{className:"ts-filter-text"},m),React.createElement("div",{className:"ts-down-icon"})),o&&React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:k.className,style:k.style},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"flexify ts-input-icon"},React.createElement("span",null,ve.search),React.createElement("input",{type:"text",className:"inline-input",value:i,onChange:S,placeholder:"Search..."}))),f?React.createElement("div",{className:"ts-loading"},React.createElement("span",{className:"ts-loader"})):p.length>0?React.createElement("div",{className:"ts-term-dropdown"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list"},p.map(R=>React.createElement("li",{key:R.id},React.createElement("a",{href:"#",className:"flexify",onClick:L=>{L.preventDefault(),P(R.id,R.name)}},React.createElement("span",null,R.name)))))):i.length>=2?React.createElement("div",{className:"ts-empty-user-list"},React.createElement("span",null,"No results found")):null))))}function rn({config:e,filterData:t,value:r,onChange:n}){const o=r===!0||r==="true"||r==="1",c=p=>{p.preventDefault(),n(!o)},{style:i,className:d}=te(e,"ts-form-group switcher-label ts-inline-filter");return React.createElement("div",{className:d,style:i},!e.hideLabel&&React.createElement("label",null,t.label),React.createElement("label",{className:`onoffswitch ts-${o?"on":"off"}`,onClick:c},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:o,readOnly:!0}),React.createElement("span",{className:"onoffswitch-trigger"})))}function nn({config:e,filterData:t}){const r=t.props?.description||"",{style:n,className:o}=te(e,"ts-form-group ui-heading");return React.createElement("div",{className:o,style:n},React.createElement("label",null,e.label||t.label,r&&React.createElement("small",null,r)))}function sn({postTypes:e,currentPostType:t,onChange:r}){const[n,o]=a.useState(!1),c=a.useRef(null),i=a.useCallback(b=>{r(b),o(!1)},[r]),d=a.useCallback(()=>{o(!0)},[]),p=e.find(b=>b.key===t),g=p?.label||"Select type",f=!!t,v=p?.icon||"",M=()=>React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},e.map(b=>{const F=t===b.key;return React.createElement("li",{key:b.key},React.createElement("a",{href:"#",className:"flexify",onClick:w=>{w.preventDefault(),i(b.key)}},React.createElement("div",{className:"ts-radio-container"},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",checked:F,disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",null,b.label),React.createElement("div",{className:"ts-term-icon ts-pull-right"},b.icon&&React.createElement("span",{dangerouslySetInnerHTML:{__html:b.icon}}))))})));return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,"Type"),React.createElement("div",{ref:c,className:`ts-filter ts-popup-target ${f?"ts-filled":""}`,onClick:d,onMouseDown:b=>b.preventDefault(),role:"button",tabIndex:0},v&&React.createElement("span",{dangerouslySetInnerHTML:{__html:v}}),React.createElement("div",{className:"ts-filter-text"},g),React.createElement("div",{className:"ts-down-icon"})),React.createElement(ie,{isOpen:n,target:c,title:"",icon:v,saveLabel:"Save",showSave:!1,showClear:!1,onSave:()=>o(!1),onClose:()=>o(!1),className:"hide-head"},M()))}function an(){const e=()=>{if(typeof window>"u")return"desktop";const n=window.innerWidth;return n<=767?"mobile":n<=1024?"tablet":"desktop"},[t,r]=a.useState(e);return a.useEffect(()=>{const n=()=>{r(e())};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function ln({attributes:e,postTypes:t,context:r,editorDeviceType:n,onSubmit:o,onPostTypeChange:c}){a.useRef(null);const i=a.useRef(null),{state:d,setCurrentPostType:p,setFilterValue:g,togglePortal:f,submit:v,clearAll:M,narrowedValues:b,narrowingFilters:F}=Zt({attributes:e,postTypes:t,context:r,onSubmit:o,onPostTypeChange:c}),[w,S]=a.useState(""),[P,C]=a.useState("");a.useEffect(()=>{const E=async()=>{const D=e.searchButtonText||"Search";if(Ge(D)){const U=ht(D),V=await gt(U);S(V)}else S(D)},q=async()=>{const D=e.resetButtonText||"Reset";if(Ge(D)){const U=ht(D),V=await gt(U);C(V)}else C(D)};E(),q()},[e.searchButtonText,e.resetButtonText]),a.useEffect(()=>{if(!d.portalActive)return;const E=q=>{q.key==="Escape"&&f()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[d.portalActive,f]),a.useEffect(()=>{if(!d.portalActive)return;const E=D=>{const U=D.target;i.current?.contains(U)||f()},q=requestAnimationFrame(()=>{document.addEventListener("mousedown",E)});return()=>{cancelAnimationFrame(q),document.removeEventListener("mousedown",E)}},[d.portalActive,f]),a.useEffect(()=>{if(r!=="frontend")return;const E=q=>{const D=q;D.detail?.searchFormId&&D.detail.searchFormId!==e.blockId||M()};return window.addEventListener("voxel-search-clear",E),()=>window.removeEventListener("voxel-search-clear",E)},[r,e.blockId,M]);const N=t.find(E=>E.key===d.currentPostType),A=e.filterLists?.[d.currentPostType]||[],m=E=>{v()},h=(E=!1)=>{M(E)},x=E=>{const q=N?.filters?.find(U=>U.key===E.filterKey);if(!q)return null;const D={config:E,filterData:q,value:d.filterValues[E.filterKey],onChange:U=>g(E.filterKey,U),narrowedValues:b,isNarrowing:F};switch(q.type){case"keywords":return React.createElement($t,{key:E.id,...D});case"range":return React.createElement(Br,{key:E.id,...D});case"stepper":return React.createElement(Hr,{key:E.id,...D});case"terms":return React.createElement(Wr,{key:E.id,...D});case"location":return React.createElement(zr,{key:E.id,...D});case"availability":return React.createElement(Kr,{key:E.id,...D});case"date":return React.createElement(Jr,{key:E.id,...D});case"recurring-date":return React.createElement(Xr,{key:E.id,...D});case"open-now":return React.createElement(Yr,{key:E.id,...D});case"order-by":return React.createElement(Gr,{key:E.id,...D});case"post-status":return React.createElement(Qr,{key:E.id,...D});case"user":return React.createElement($r,{key:E.id,...D});case"relations":return React.createElement(en,{key:E.id,...D});case"following":return React.createElement(tn,{key:E.id,...D});case"switcher":return React.createElement(rn,{key:E.id,...D});case"ui-heading":return React.createElement(nn,{key:E.id,...D});default:return null}},k=(E=!0)=>React.createElement("div",{className:"ts-filter-wrapper flexify"},e.showPostTypeFilter&&t.length>1&&React.createElement(sn,{postTypes:t,currentPostType:d.currentPostType,onChange:p}),A.map(q=>x(q)),E&&e.showSearchButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-submit",id:"sf_submit",style:O("search")},React.createElement("button",{type:"button",onClick:()=>m(),className:`ts-btn ts-btn-2 ts-btn-large ts-search-btn ${d.loading&&!d.resetting?"ts-loading-btn":""}`},d.loading&&!d.resetting&&React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{className:"ts-loader"})),ve.search,w||"Search")),E&&e.showResetButton&&React.createElement("div",{className:"ts-form-group flexify ts-form-reset",style:O("reset")},React.createElement("a",{href:"#",onClick:q=>{q.preventDefault(),h(!1)},className:"ts-filter",role:"button"},ve.reload,P&&React.createElement("div",{className:"ts-filter-text"},P)))),R=an(),L=r==="editor"&&n?n:R,H=L==="desktop"&&(e.formToggleDesktop??!1)||L==="tablet"&&(e.formToggleTablet??!0)||L==="mobile"&&(e.formToggleMobile??!0),K=H,J=!H,j={postTypes:t.map(E=>({key:E.key,label:E.label,filters:E.filters})),currentPostType:d.currentPostType,filterLists:e.filterLists||{},portalMode:e.portalMode||{desktop:!1,tablet:!1,mobile:!1},showPostTypeFilter:e.showPostTypeFilter??!0,showSearchButton:e.showSearchButton??!0,showResetButton:e.showResetButton??!1,searchButtonText:e.searchButtonText||"Search",resetButtonText:e.resetButtonText||"",formToggleDesktop:e.formToggleDesktop??!1,formToggleTablet:e.formToggleTablet??!0,formToggleMobile:e.formToggleMobile??!0,searchButtonWidth:e.searchButtonWidth,searchButtonWidth_tablet:e.searchButtonWidth_tablet,searchButtonWidth_mobile:e.searchButtonWidth_mobile,searchButtonWidthUnit:e.searchButtonWidthUnit||"%",resetButtonWidth:e.resetButtonWidth,resetButtonWidth_tablet:e.resetButtonWidth_tablet,resetButtonWidth_mobile:e.resetButtonWidth_mobile,resetButtonWidthUnit:e.resetButtonWidthUnit||"%"},O=E=>{const q=E==="search"?e.searchButtonWidthUnit||"%":e.resetButtonWidthUnit||"%";let D;return E==="search"?L==="mobile"?D=e.searchButtonWidth_mobile??e.searchButtonWidth_tablet??e.searchButtonWidth:L==="tablet"?D=e.searchButtonWidth_tablet??e.searchButtonWidth:D=e.searchButtonWidth:L==="mobile"?D=e.resetButtonWidth_mobile??e.resetButtonWidth_tablet??e.resetButtonWidth:L==="tablet"?D=e.resetButtonWidth_tablet??e.resetButtonWidth:D=e.resetButtonWidth,D!==void 0?{width:`${D}${q}`,flexGrow:0,flexShrink:0}:{}};return React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form ts-search-widget","data-v-app":""},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(j)}}),K&&React.createElement("div",{className:"ts-filter-wrapper flexify vx-hidden-desktop"},React.createElement("a",{href:"#",onClick:E=>{E.preventDefault(),f()},onMouseDown:E=>E.preventDefault(),className:`ts-filter-toggle ts-btn ts-btn-1 ${d.activeFilterCount>0?"ts-filled":""}`,role:"button","aria-expanded":d.portalActive},ve.filterslider,React.createElement("div",{className:"ts-toggle-text"},"Filter results"),d.activeFilterCount>0&&React.createElement("span",{className:"ts-filter-count"},d.activeFilterCount))),React.createElement("form",{method:"GET",onSubmit:E=>(E.preventDefault(),!1)},J&&React.createElement("div",{className:"ts-inline-filters"},k())),React.createElement("div",{className:"hidden"},React.createElement("div",{className:"ts-search-portal"}))),d.portalActive&&mt.createPortal(React.createElement("div",{className:"ts-search-portal vx-popup elementor"},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{className:"ts-form ts-search-widget no-render elementor-element"},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:i},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-form-group"},k())),React.createElement("div",{className:"ts-popup-controller"},React.createElement("ul",{className:"flexify simplify-ul"},React.createElement("li",{className:"flexify ts-popup-close"},React.createElement("a",{href:"#",onClick:E=>{E.preventDefault(),f()},className:"ts-icon-btn",role:"button","aria-label":"Close"},ve.close)),React.createElement("li",{className:"flexify hide-d"},React.createElement("a",{href:"#",onClick:E=>{E.preventDefault(),h(!0)},className:"ts-icon-btn",role:"button"},ve.reload)),React.createElement("li",{className:"flexify hide-m"},React.createElement("a",{href:"#",onClick:E=>{E.preventDefault(),h(!0)},className:"ts-btn ts-btn-1",role:"button"},"Clear")),React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:E=>{E.preventDefault(),m(),f()},className:"ts-btn ts-btn-2",role:"button"},"Search"))))))))),document.body))}const at=new Map;function on(){return pt()}function Te(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}function xe(e){return e==="true"}function cn(e){const t=r=>{if(!r||r==="")return;const n=Number(r);return isNaN(n)?void 0:n};return{blockId:e.id||"",postTypes:Te(e.dataset.postTypes,[]),showPostTypeFilter:xe(e.dataset.showPostTypeFilter),filterLists:Te(e.dataset.filterLists,{}),onSubmit:e.dataset.onSubmit||"refresh",postToFeedId:e.dataset.postToFeedId||"",postToMapId:e.dataset.postToMapId||"",searchOn:e.dataset.searchOn||"submit",showSearchButton:xe(e.dataset.showSearchButton),searchButtonText:e.dataset.searchButtonText||"Search",searchButtonIcon:Te(e.dataset.searchButtonIcon,{}),searchButtonWidth:t(e.dataset.searchButtonWidth),searchButtonWidth_tablet:t(e.dataset.searchButtonWidthTablet),searchButtonWidth_mobile:t(e.dataset.searchButtonWidthMobile),searchButtonWidthUnit:e.dataset.searchButtonWidthUnit||"%",showResetButton:xe(e.dataset.showResetButton),resetButtonText:e.dataset.resetButtonText||"Reset",resetButtonIcon:Te(e.dataset.resetButtonIcon,{}),resetButtonWidth:t(e.dataset.resetButtonWidth),resetButtonWidth_tablet:t(e.dataset.resetButtonWidthTablet),resetButtonWidth_mobile:t(e.dataset.resetButtonWidthMobile),resetButtonWidthUnit:e.dataset.resetButtonWidthUnit||"%",voxelIntegration:xe(e.dataset.voxelIntegration),adaptiveFiltering:xe(e.dataset.adaptiveFiltering),portalMode:Te(e.dataset.portalMode,{desktop:!1,tablet:!0,mobile:!0}),formToggleDesktop:xe(e.dataset.formToggleDesktop),formToggleTablet:xe(e.dataset.formToggleTablet),formToggleMobile:xe(e.dataset.formToggleMobile),toggleText:e.dataset.toggleText||"Filter results",toggleIcon:Te(e.dataset.toggleIcon,{})}}async function un(e){if(!e||e.length===0)return[];const r=`${on()}voxel-fse/v1/search-form/frontend-config?post_types=${encodeURIComponent(e.join(","))}`;try{const n=await fetch(r);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to fetch post types:",n),[]}}function dn(e){const t=(i,d)=>typeof i=="boolean"?i:i==="true"?!0:i==="false"?!1:d,r=i=>{if(i&&typeof i=="object"){const d=i;return{desktop:t(d.desktop,!1),tablet:t(d.tablet,!0),mobile:t(d.mobile,!0)}}return{desktop:!1,tablet:!0,mobile:!0}},n=i=>i&&typeof i=="object"?i:{},c=(e.postTypes??e.post_types??[]).map(i=>typeof i=="string"?i:i&&typeof i=="object"&&"key"in i?i.key:"").filter(Boolean);return{blockId:e.blockId??e.block_id??"",postTypes:c,showPostTypeFilter:t(e.showPostTypeFilter??e.show_post_type_filter,!0),filterLists:e.filterLists??e.filter_lists??{},onSubmit:e.onSubmit??e.on_submit??"refresh",postToFeedId:e.postToFeedId??e.post_to_feed_id??"",postToMapId:e.postToMapId??e.post_to_map_id??"",searchOn:e.searchOn??e.search_on??"submit",showSearchButton:t(e.showSearchButton??e.show_search_button,!0),searchButtonText:e.searchButtonText??e.search_button_text??"Search",searchButtonIcon:n(e.searchButtonIcon??e.search_button_icon),searchButtonWidth:e.searchButtonWidth,searchButtonWidth_tablet:e.searchButtonWidth_tablet??e.search_button_width_tablet,searchButtonWidth_mobile:e.searchButtonWidth_mobile??e.search_button_width_mobile,searchButtonWidthUnit:e.searchButtonWidthUnit??e.search_button_width_unit??"%",showResetButton:t(e.showResetButton??e.show_reset_button,!1),resetButtonText:e.resetButtonText??e.reset_button_text??"Reset",resetButtonIcon:n(e.resetButtonIcon??e.reset_button_icon),resetButtonWidth:e.resetButtonWidth,resetButtonWidth_tablet:e.resetButtonWidth_tablet??e.reset_button_width_tablet,resetButtonWidth_mobile:e.resetButtonWidth_mobile??e.reset_button_width_mobile,resetButtonWidthUnit:e.resetButtonWidthUnit??e.reset_button_width_unit??"%",voxelIntegration:t(e.voxelIntegration??e.voxel_integration,!0),adaptiveFiltering:t(e.adaptiveFiltering??e.adaptive_filtering,!1),portalMode:r(e.portalMode??e.portal_mode),formToggleDesktop:t(e.formToggleDesktop??e.form_toggle_desktop,!1),formToggleTablet:t(e.formToggleTablet??e.form_toggle_tablet,!0),formToggleMobile:t(e.formToggleMobile??e.form_toggle_mobile,!0),toggleText:e.toggleText??e.toggle_text??"Filter results",toggleIcon:n(e.toggleIcon??e.toggle_icon)}}function fn(e){const t=e.querySelector("script.vxconfig");if(t&&t.textContent)try{const r=JSON.parse(t.textContent),n={...r,blockId:r.blockId||e.id||"",onSubmit:e.dataset.onSubmit||r.onSubmit||"refresh",postToFeedId:e.dataset.postToFeedId||r.postToFeedId||"",postToMapId:e.dataset.postToMapId||r.postToMapId||""};return dn(n)}catch(r){console.error("Failed to parse vxconfig:",r)}return cn(e)}function mn({attributes:e,onSubmit:t}){const[r,n]=a.useState([]),[o,c]=a.useState(!0),[i,d]=a.useState(null),p=a.useRef(!1),g=a.useCallback(()=>{if(p.current)return;const v=e.postTypes?.[0]||"";v&&(t({postType:v}),p.current=!0)},[e.postTypes,t]);if(a.useEffect(()=>{let v=!1;async function M(){c(!0),d(null);try{const b=await un(e.postTypes||[]);v||n(b)}catch(b){v||d(b instanceof Error?b.message:"Failed to load")}finally{v||c(!1)}}return M(),()=>{v=!0}},[e.postTypes]),a.useEffect(()=>{const v=e.blockId;return v?(at.set(v,g),window.__voxelFsePendingPostFeedReady?.[v]&&(g(),delete window.__voxelFsePendingPostFeedReady[v]),()=>{at.delete(v)}):void 0},[e.blockId,g]),o)return React.createElement("div",{className:"ts-form ts-search-widget voxel-fse-loading"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("span",{className:"ts-loader"})));if(i)return React.createElement("div",{className:"ts-form ts-search-widget voxel-fse-error"},React.createElement("div",{className:"ts-filter-wrapper flexify"},React.createElement("span",null,"Error loading search form")));const f=r.filter(v=>e.postTypes?.includes(v.key));return React.createElement(ln,{attributes:e,postTypes:f,context:"frontend",onSubmit:t})}function Ze(){document.querySelectorAll(".voxel-fse-search-form").forEach(t=>{if(t.dataset.hydrated==="true")return;const r=fn(t),n=c=>{const i=c.postType||r.postTypes?.[0]||"",{postType:d,...p}=c;switch(r.onSubmit){case"feed":if(r.postToFeedId){const g=new CustomEvent("voxel-search-submit",{detail:{targetId:r.postToFeedId,postType:i,filters:p},bubbles:!0});window.dispatchEvent(g)}else console.warn("[search-form] No postToFeedId set, cannot dispatch to Post Feed");break;case"map":if(r.postToMapId){const g=new CustomEvent("voxel-search-submit",{detail:{targetId:r.postToMapId,postType:i,filters:p},bubbles:!0});window.dispatchEvent(g)}break;default:pn(c,r);break}};t.innerHTML="",t.dataset.hydrated="true",jt.createRoot(t).render(React.createElement(mn,{attributes:r,onSubmit:n}))})}function pn(e,t){const r=new URL(window.location.href),n=[];r.searchParams.forEach((c,i)=>{(i.startsWith("filter_")||i==="post_type")&&n.push(i),i==="type"&&n.push(i)}),n.forEach(c=>r.searchParams.delete(c));const o=e.postType||t.postTypes?.[0];o&&typeof o=="string"&&r.searchParams.set("type",o),Object.entries(e).forEach(([c,i])=>{c!=="postType"&&(i==null||i===""||(typeof i=="object"?r.searchParams.set(c,JSON.stringify(i)):r.searchParams.set(c,String(i))))}),window.location.href=r.toString()}function hn(e){const t=e;if(!t.detail?.searchFormId)return;const{searchFormId:r}=t.detail,n=at.get(r);n?n():(window.__voxelFsePendingPostFeedReady||(window.__voxelFsePendingPostFeedReady={}),window.__voxelFsePendingPostFeedReady[r]=t.detail.blockId)}window.addEventListener("voxel-fse:post-feed-ready",hn),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ze):Ze(),window.addEventListener("turbo:load",Ze),window.addEventListener("pjax:complete",Ze)})(ReactDOM,React,ReactDOM,wp.apiFetch);
