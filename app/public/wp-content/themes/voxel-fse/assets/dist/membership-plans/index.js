import{registerBlockType as se}from"@wordpress/blocks";import{useBlockProps as X,InspectorControls as de}from"@wordpress/block-editor";import{__ as a}from"@wordpress/i18n";import{useState as H,useEffect as z,useCallback as Z,useRef as pe,useMemo as M}from"react";import me from"@wordpress/api-fetch";import{A as ee,a as k,e as q,g as ge,I as fe,S as I,E as ve,R as B,B as F,C as v,c as he,T as _}from"../TypographyPopup-CAcEJ5NA.js";import{I as ye}from"../InspectorTabs-Bq2wAh4W.js";import{SelectControl as N,ToggleControl as xe}from"@wordpress/components";import"@wordpress/data";/* empty css                            */import"../RepeaterControl-C7JnAhZL.js";import{A as oe}from"../AdvancedIconControl-CJ_DCTeD.js";import{R as Y,g as D,L as K}from"../RepeaterControl-B_ulBkEL.js";import{R as G}from"../ResponsiveDimensionsControl-BXd6ZjaD.js";import{S as O}from"../StyleTabPanel-BnA2rBs5.js";import{E as A}from"../EmptyPlaceholder-BsL18qxN.js";import{r as le,V as ne}from"../voxelIcons-B76o57vm.js";import"../voxelShim-DB_Ue-9R.js";import{r as Be}from"../backgroundElements-Ui-iCrLV.js";import{g as ae,a as re,c as ce,p as $e}from"../generateAdvancedStyles-CRpLcHXt.js";import{V as Re}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";const J={library:"",value:""},j={image:null,features:[]};function Ce({attributes:e,setAttributes:r,apiData:l}){const[n,c]=H({isOpen:!1,groupId:null,featureId:null,planKey:null,rules:[]}),o=()=>{if(!l)return[];const i=[];return l.availablePlans.forEach(s=>{s.prices.forEach(d=>{const h=d.formattedPeriod?`${s.label} - ${d.formattedAmount} / ${d.formattedPeriod}`:`${s.label} - ${d.formattedAmount}`;i.push({value:d.priceKey,label:h})})}),i.push({value:"default",label:a("Free plan","voxel-fse")}),i},m=()=>{const i=new Set;return e.priceGroups.forEach(s=>{s.prices.forEach(d=>{if(d==="default")i.add("default");else{const[h]=d.split("@");h&&i.add(h)}})}),Array.from(i)},f=(i,s)=>{const d=e.planConfigs[i]||j;r({planConfigs:{...e.planConfigs,[i]:{...d,...s}}})};return React.createElement(ee,{attributes:e,setAttributes:r,stateAttribute:"contentTabOpenPanel",defaultPanel:"price_groups"},React.createElement(k,{id:"price_groups",title:a("Price groups","voxel-fse")},React.createElement(Y,{label:a("Items","voxel-fse"),items:e.priceGroups,onChange:i=>r({priceGroups:i}),getItemLabel:(i,s)=>i.label||`Item #${s+1}`,addButtonText:a("Add Item","voxel-fse"),createItem:()=>({id:D(),label:a("New Group","voxel-fse"),prices:[],rowVisibility:"show",visibilityRules:[]}),renderContent:({item:i,onUpdate:s})=>React.createElement(React.Fragment,null,React.createElement(q,{label:a("Group label","voxel-fse"),value:i.label,onChange:d=>s({label:d})}),React.createElement(ge,{label:a("Choose prices","voxel-fse"),value:i.prices,options:o(),onChange:d=>s({prices:d}),placeholder:a("Select prices","voxel-fse")}),React.createElement(K,{rowVisibility:i.rowVisibility||"show",visibilityRules:i.visibilityRules||[],onRowVisibilityChange:d=>s({rowVisibility:d}),onEditVisibilityRules:()=>c({isOpen:!0,groupId:i.id,featureId:null,planKey:null,rules:i.visibilityRules||[]}),onClearVisibilityRules:()=>s({visibilityRules:[]})}))})),m().map(i=>{const s=l?.availablePlans.find(p=>p.key===i),d=i==="default"?a("Free plan","voxel-fse"):s?.label||i,h=e.planConfigs[i]||j,R=h.features.map(p=>({...p,id:p.id||D()}));return React.createElement(k,{key:i,id:`plan_${i}`,title:`${a("Plan","voxel-fse")}: ${d}`},React.createElement("div",{style:{marginBottom:"15px"}},React.createElement(fe,{label:a("Choose image","voxel-fse"),value:h.image?{id:h.image.id,url:h.image.url}:void 0,onChange:p=>f(i,{image:p?{id:p.id||0,url:p.url||""}:null}),enableDynamicTags:!0,dynamicTagValue:h.imageDynamicTag,onDynamicTagChange:p=>f(i,{imageDynamicTag:p}),dynamicTagContext:"post"})),React.createElement(I,{label:a("Features","voxel-fse")}),React.createElement(Y,{items:R,onChange:p=>f(i,{features:p}),getItemLabel:(p,x)=>p.text||`Item #${x+1}`,addButtonText:a("Add Item","voxel-fse"),createItem:()=>({id:D(),text:"",icon:J,rowVisibility:"show",visibilityRules:[]}),renderContent:({item:p,onUpdate:x})=>React.createElement(React.Fragment,null,React.createElement(q,{label:a("Text","voxel-fse"),value:p.text,onChange:C=>x({text:C})}),React.createElement(oe,{label:a("Icon","voxel-fse"),value:p.icon,onChange:C=>x({icon:C})}),React.createElement(K,{rowVisibility:p.rowVisibility||"show",visibilityRules:p.visibilityRules||[],onRowVisibilityChange:C=>x({rowVisibility:C}),onEditVisibilityRules:()=>c({isOpen:!0,groupId:null,featureId:p.id,planKey:i,rules:p.visibilityRules||[]}),onClearVisibilityRules:()=>x({visibilityRules:[]})}))}))}),React.createElement(ve,{isOpen:n.isOpen,onClose:()=>c({...n,isOpen:!1}),rules:n.rules,onSave:i=>{if(n.groupId){const s=e.priceGroups.findIndex(d=>d.id===n.groupId);if(s!==-1){const d=[...e.priceGroups];d[s]={...d[s],visibilityRules:i},r({priceGroups:d})}}else if(n.planKey&&n.featureId){const s=e.planConfigs[n.planKey]||j,d=s.features.map(h=>h.id===n.featureId?{...h,visibilityRules:i}:h);r({planConfigs:{...e.planConfigs,[n.planKey]:{...s,features:d}}})}}}))}function Ee({attributes:e,setAttributes:r}){return React.createElement(ee,{attributes:e,setAttributes:r,stateAttribute:"styleTabOpenPanel",defaultPanel:"general"},React.createElement(k,{id:"general",title:a("General","voxel-fse")},React.createElement(B,{label:a("Number of columns","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"plansColumns",min:1,max:6}),React.createElement(B,{label:a("Item gap","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"plansGap",min:0,max:100}),React.createElement(B,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"plansBorderRadius",min:0,max:50}),React.createElement(F,{label:a("Border","voxel-fse"),value:{borderType:e.plansBorderType||"",borderWidth:e.plansBorderWidth||{},borderColor:e.plansBorderColor||""},onChange:l=>{const n={};l.borderType!==void 0&&(n.plansBorderType=l.borderType),l.borderWidth!==void 0&&(n.plansBorderWidth=l.borderWidth),l.borderColor!==void 0&&(n.plansBorderColor=l.borderColor),r(n)},hideRadius:!0}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Background","voxel-fse"),value:e.plansBg,onChange:l=>r({plansBg:l})})),React.createElement(he,{label:a("Box Shadow","voxel-fse"),attributes:e,setAttributes:r,shadowAttributeName:"plansShadow"}),React.createElement(I,{label:a("Plan body","voxel-fse")}),React.createElement(B,{label:a("Body padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"bodyPadding",min:0,max:100}),React.createElement(B,{label:a("Body content gap","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"bodyContentGap",min:0,max:100}),React.createElement(I,{label:a("Plan image","voxel-fse")}),React.createElement(G,{label:a("Image padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"imagePadding"}),React.createElement(B,{label:a("Height","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"imageHeight",min:0,max:500}),React.createElement(I,{label:a("Plan pricing","voxel-fse")}),React.createElement(N,{label:a("Align","voxel-fse"),value:e.pricingAlign,options:[{value:"flex-start",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"flex-end",label:a("Right","voxel-fse")}],onChange:l=>r({pricingAlign:l})}),React.createElement(_,{label:a("Price typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"priceTypography"}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Price color","voxel-fse"),value:e.priceColor,onChange:l=>r({priceColor:l})})),React.createElement(_,{label:a("Period typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"periodTypography"}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Period color","voxel-fse"),value:e.periodColor,onChange:l=>r({periodColor:l})})),React.createElement(I,{label:a("Plan name","voxel-fse")}),React.createElement(N,{label:a("Align content","voxel-fse"),value:e.contentAlign,options:[{value:"flex-start",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"flex-end",label:a("Right","voxel-fse")}],onChange:l=>r({contentAlign:l})}),React.createElement(_,{label:a("Name typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"nameTypography"}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Name color","voxel-fse"),value:e.nameColor,onChange:l=>r({nameColor:l})})),React.createElement(I,{label:a("Plan description","voxel-fse")}),React.createElement(N,{label:a("Text align","voxel-fse"),value:e.descAlign,options:[{value:"left",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"right",label:a("Right","voxel-fse")}],onChange:l=>r({descAlign:l})}),React.createElement(_,{label:a("Description typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"descTypography"}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Description color","voxel-fse"),value:e.descColor,onChange:l=>r({descColor:l})})),React.createElement(I,{label:a("Plan features","voxel-fse")}),React.createElement(N,{label:a("Align content","voxel-fse"),value:e.listAlign,options:[{value:"flex-start",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"flex-end",label:a("Right","voxel-fse")}],onChange:l=>r({listAlign:l})}),React.createElement(_,{label:a("Feature typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"listTypography"}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Feature text color","voxel-fse"),value:e.listColor,onChange:l=>r({listColor:l})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Feature icon color","voxel-fse"),value:e.listIconColor,onChange:l=>r({listIconColor:l})})),React.createElement(B,{label:a("Item gap","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"listGap",min:0,max:50}),React.createElement(B,{label:a("Icon size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"listIconSize",min:10,max:50}),React.createElement(B,{label:a("Icon right padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"listIconRightPad",min:0,max:30})),React.createElement(k,{id:"tabs",title:a("Tabs","voxel-fse")},React.createElement(O,{tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},l=>React.createElement(React.Fragment,null,l.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(I,{label:a("Tabs","voxel-fse")}),React.createElement(xe,{label:a("Disable tabs","voxel-fse"),help:a("Disable label on tablet","voxel-fse"),checked:e.tabsDisabled,onChange:n=>r({tabsDisabled:n})}),React.createElement(N,{label:a("Justify","voxel-fse"),value:e.tabsJustify,options:[{value:"flex-start",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"flex-end",label:a("Right","voxel-fse")},{value:"space-between",label:a("Space between","voxel-fse")},{value:"space-around",label:a("Space around","voxel-fse")}],onChange:n=>r({tabsJustify:n})}),React.createElement(G,{label:a("Padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"tabsPadding"}),React.createElement(G,{label:a("Margin","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"tabsMargin"}),React.createElement(_,{label:a("Tab typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"tabTypography"}),React.createElement(_,{label:a("Active tab typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"tabActiveTypography"}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Text color","voxel-fse"),value:e.tabTextColor,onChange:n=>r({tabTextColor:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Active text color","voxel-fse"),value:e.tabActiveTextColor,onChange:n=>r({tabActiveTextColor:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Background","voxel-fse"),value:e.tabBackground,onChange:n=>r({tabBackground:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Active background","voxel-fse"),value:e.tabActiveBackground,onChange:n=>r({tabActiveBackground:n})})),React.createElement(F,{label:a("Border","voxel-fse"),value:{borderType:e.tabBorderType||"",borderWidth:e.tabBorderWidth||{},borderColor:e.tabBorderColor||""},onChange:n=>{const c={};n.borderType!==void 0&&(c.tabBorderType=n.borderType),n.borderWidth!==void 0&&(c.tabBorderWidth=n.borderWidth),n.borderColor!==void 0&&(c.tabBorderColor=n.borderColor),r(c)},hideRadius:!0}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Active border color","voxel-fse"),value:e.tabActiveBorderColor,onChange:n=>r({tabActiveBorderColor:n})})),React.createElement(B,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"tabsBorderRadius",min:0,max:30})),l.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(I,{label:a("Timeline tabs","voxel-fse")}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Text color","voxel-fse"),value:e.tabTextColorHover,onChange:n=>r({tabTextColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Active text color","voxel-fse"),value:e.tabActiveTextColorHover,onChange:n=>r({tabActiveTextColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Border color","voxel-fse"),value:e.tabBorderColorHover,onChange:n=>r({tabBorderColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Active border color","voxel-fse"),value:e.tabActiveBorderColorHover,onChange:n=>r({tabActiveBorderColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Background","voxel-fse"),value:e.tabBackgroundHover,onChange:n=>r({tabBackgroundHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Active background","voxel-fse"),value:e.tabActiveBackgroundHover,onChange:n=>r({tabActiveBackgroundHover:n})})))))),React.createElement(k,{id:"primary_button",title:a("Primary button","voxel-fse")},React.createElement(O,{tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},l=>React.createElement(React.Fragment,null,l.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(_,{label:a("Button typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"primaryBtnTypography"}),React.createElement(B,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnRadius",min:0,max:30}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Text color","voxel-fse"),value:e.primaryBtnTextColor,onChange:n=>r({primaryBtnTextColor:n})})),React.createElement(G,{label:a("Padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnPadding"}),React.createElement(B,{label:a("Height","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnHeight",min:0,max:100}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Background color","voxel-fse"),value:e.primaryBtnBgColor,onChange:n=>r({primaryBtnBgColor:n})})),React.createElement(F,{label:a("Border","voxel-fse"),value:{borderType:e.primaryBtnBorderType||"",borderWidth:e.primaryBtnBorderWidth||{},borderColor:e.primaryBtnBorderColor||""},onChange:n=>{const c={};n.borderType!==void 0&&(c.primaryBtnBorderType=n.borderType),n.borderWidth!==void 0&&(c.primaryBtnBorderWidth=n.borderWidth),n.borderColor!==void 0&&(c.primaryBtnBorderColor=n.borderColor),r(c)},hideRadius:!0}),React.createElement(B,{label:a("Icon size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnIconSize",min:10,max:40}),React.createElement(B,{label:a("Text/Icon spacing","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnIconPad",min:0,max:30}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Icon color","voxel-fse"),value:e.primaryBtnIconColor,onChange:n=>r({primaryBtnIconColor:n})}))),l.name==="hover"&&React.createElement(React.Fragment,null,React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Text color","voxel-fse"),value:e.primaryBtnTextColorHover,onChange:n=>r({primaryBtnTextColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Background color","voxel-fse"),value:e.primaryBtnBgColorHover,onChange:n=>r({primaryBtnBgColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Border color","voxel-fse"),value:e.primaryBtnBorderColorHover,onChange:n=>r({primaryBtnBorderColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Icon color","voxel-fse"),value:e.primaryBtnIconColorHover,onChange:n=>r({primaryBtnIconColorHover:n})})))))),React.createElement(k,{id:"secondary_button",title:a("Secondary button","voxel-fse")},React.createElement(O,{tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},l=>React.createElement(React.Fragment,null,l.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(_,{label:a("Button typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"secondaryBtnTypography"}),React.createElement(B,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnRadius",min:0,max:30}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Text color","voxel-fse"),value:e.secondaryBtnTextColor,onChange:n=>r({secondaryBtnTextColor:n})})),React.createElement(G,{label:a("Padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnPadding"}),React.createElement(B,{label:a("Height","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnHeight",min:0,max:100}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Background color","voxel-fse"),value:e.secondaryBtnBgColor,onChange:n=>r({secondaryBtnBgColor:n})})),React.createElement(F,{label:a("Border","voxel-fse"),value:{borderType:e.secondaryBtnBorderType||"",borderWidth:e.secondaryBtnBorderWidth||{},borderColor:e.secondaryBtnBorderColor||""},onChange:n=>{const c={};n.borderType!==void 0&&(c.secondaryBtnBorderType=n.borderType),n.borderWidth!==void 0&&(c.secondaryBtnBorderWidth=n.borderWidth),n.borderColor!==void 0&&(c.secondaryBtnBorderColor=n.borderColor),r(c)},hideRadius:!0}),React.createElement(B,{label:a("Icon size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnIconSize",min:10,max:40}),React.createElement(B,{label:a("Text/Icon spacing","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnIconPad",min:0,max:30}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Icon color","voxel-fse"),value:e.secondaryBtnIconColor,onChange:n=>r({secondaryBtnIconColor:n})}))),l.name==="hover"&&React.createElement(React.Fragment,null,React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Text color","voxel-fse"),value:e.secondaryBtnTextColorHover,onChange:n=>r({secondaryBtnTextColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Background color","voxel-fse"),value:e.secondaryBtnBgColorHover,onChange:n=>r({secondaryBtnBgColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Border color","voxel-fse"),value:e.secondaryBtnBorderColorHover,onChange:n=>r({secondaryBtnBorderColorHover:n})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(v,{label:a("Icon color","voxel-fse"),value:e.secondaryBtnIconColorHover,onChange:n=>r({secondaryBtnIconColorHover:n})})))))),React.createElement(k,{id:"icons",title:a("Icons","voxel-fse")},React.createElement(oe,{label:a("Right arrow","voxel-fse"),value:e.arrowIcon,onChange:l=>r({arrowIcon:l})})))}const ue="voxel:direct_cart";function be(e,r){e.preventDefault();const l=e.currentTarget,n=r.current;if(!n){console.error("[MembershipPlans] Plan container not found");return}n.classList.add("vx-pending");const c=l.href,o=window.jQuery;if(!o){console.error("[MembershipPlans] jQuery not available"),n.classList.remove("vx-pending");return}o.get(c).always(function(m){if(m.success)m.type==="dialog"&&m.dialog?(m.dialog.actions.forEach(function(f){(f.confirm_switch||f.confirm_cancel)&&(f.onClick=function(i){i.preventDefault(),n.classList.add("vx-pending"),f.link&&o.get(f.link).always(function(s){if(s.success)s.redirect_to&&(window.location.href=s.redirect_to);else{const d=s.message||window.Voxel_Config?.l10n?.ajaxError||"An error occurred";window.Voxel?.alert?window.Voxel.alert(d,"error"):console.error("[MembershipPlans] Error:",d)}n.classList.remove("vx-pending")})})}),window.Voxel?.dialog?window.Voxel.dialog(m.dialog):console.error("[MembershipPlans] Voxel.dialog not available")):m.type==="checkout"&&m.item&&m.checkout_link?(localStorage.setItem(ue,JSON.stringify({[m.item.key]:m.item.value})),window.location.href=m.checkout_link):m.type==="redirect"&&m.redirect_to?window.location.href=m.redirect_to:m.redirect_url&&(window.location.href=m.redirect_url);else{const f=m.message||window.Voxel_Config?.l10n?.ajaxError||"An error occurred";window.Voxel?.alert?window.Voxel.alert(f,"error"):console.error("[MembershipPlans] Error:",f)}n.classList.remove("vx-pending")})}function _e(e,r){const l=e.key==="default"?"default":e.key.split("@")[0],n=r[l]||j;return{...e,image:n.image?.url||e.image,features:n.features.length>0?n.features:e.features}}function Te({price:e,groupId:r,isActiveGroup:l,isCurrentPlan:n,buttonText:c,buttonClass:o,pricingAlign:m,descAlign:f,listAlign:i,arrowIconElement:s,context:d}){const h=pe(null),R=Z(p=>{if(d==="editor"){p.preventDefault();return}if(n){p.preventDefault();return}be(p,h)},[d,n]);return React.createElement("div",{ref:h,className:`ts-plan-container ${l?"":"hidden"}`,"data-group":r},e.image&&React.createElement("div",{className:"ts-plan-image flexify"},typeof e.image=="string"?e.image.startsWith("<")?React.createElement("span",{dangerouslySetInnerHTML:{__html:e.image}}):React.createElement("img",{src:e.image,alt:e.label}):null),React.createElement("div",{className:"ts-plan-body"},React.createElement("div",{className:"ts-plan-details"},React.createElement("span",{className:"ts-plan-name"},e.label)),React.createElement("div",{className:"ts-plan-pricing",style:{justifyContent:m}},e.isFree?React.createElement("span",{className:"ts-plan-price"},a("Free","voxel-fse")):React.createElement(React.Fragment,null,e.discountAmount?React.createElement(React.Fragment,null,React.createElement("span",{className:"ts-plan-price"},e.discountAmount),React.createElement("span",{className:"ts-plan-price"},React.createElement("s",null,e.amount))):React.createElement("span",{className:"ts-plan-price"},e.amount),e.period&&React.createElement("div",{className:"ts-price-period"},"/ ",e.period),e.trialDays!=null&&e.trialDays>0&&React.createElement("p",{className:"ts-price-trial"},e.trialDays,a("-day free trial","voxel-fse")))),e.description&&React.createElement("div",{className:"ts-plan-desc",style:{textAlign:f}},React.createElement("p",{dangerouslySetInnerHTML:{__html:e.description.replace(/\n/g,"<br />")}})),e.features.length>0&&React.createElement("div",{className:"ts-plan-features",style:{justifyContent:i}},React.createElement("ul",{className:"simplify-ul"},e.features.filter(p=>p.rowVisibility!=="hide").map((p,x)=>React.createElement("li",{key:x},le(p.icon,ne.checkmark),React.createElement("span",null,p.text))))),React.createElement("div",{className:"ts-plan-footer"},React.createElement("a",{href:e.link||"#",className:o,rel:n?void 0:"nofollow",onClick:R},c,!n&&s))))}function Ie({attributes:e,apiData:r,isLoading:l,error:n,context:c,onTabChange:o}){const[m,f]=H("");z(()=>{!m&&e.priceGroups.length>0&&f(e.priceGroups[0].id)},[m,e.priceGroups]),z(()=>{const g="voxel-pricing-plan-css";if(!document.getElementById(g)){const y=document.createElement("link");y.id=g,y.rel="stylesheet";const t=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");y.href=`${t}/wp-content/themes/voxel/assets/dist/pricing-plan.css?ver=1.7.5.2`,document.head.appendChild(y)}},[]);const i=Z((g,y)=>{g.preventDefault(),f(y),o?.(y)},[o]),s={priceGroups:e.priceGroups??[],planConfigs:e.planConfigs??{},arrowIcon:e.arrowIcon??J,style:{plansColumns:e.plansColumns??3,plansColumns_tablet:e.plansColumns_tablet,plansColumns_mobile:e.plansColumns_mobile,plansGap:e.plansGap??20,tabsDisabled:e.tabsDisabled??!1,tabsJustify:e.tabsJustify??"flex-start",pricingAlign:e.pricingAlign??"flex-start",contentAlign:e.contentAlign??"flex-start",descAlign:e.descAlign??"left",listAlign:e.listAlign??"flex-start"}},d=le(e.arrowIcon,ne.chevronRightSmall);if(l)return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}),React.createElement(A,null));if(n)return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}),React.createElement(A,null));if(e.priceGroups.length===0)return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}),React.createElement(A,null));if(!e.priceGroups.some(g=>g.prices&&g.prices.length>0))return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}),React.createElement(A,null));const R=g=>{if(!r)return[];const y=[];return g.prices.forEach(u=>{const b=r.priceGroups.find(P=>P.prices.some(V=>V.key===u))?.prices.find(P=>P.key===u);b&&y.push(_e(b,e.planConfigs))}),y},p=g=>{if(!r?.userMembership)return!1;const y=r.userMembership;return g==="default"?y.type==="default"&&y.planKey==="default":y.priceKey===g&&!y.isSubscriptionCanceled},x=g=>p(g)?a("Current plan","voxel-fse"):r?.userMembership?.type==="order"?a("Switch to plan","voxel-fse"):a("Buy plan","voxel-fse"),C=g=>p(g)?"ts-btn ts-btn-1 ts-btn-large vx-pick-plan":"ts-btn ts-btn-2 ts-btn-large vx-pick-plan",w={"--ts-plans-columns":e.plansColumns,"--ts-plans-gap":`${e.plansGap}px`},E=m||(e.priceGroups[0]?.id??""),S=e.priceGroups.filter(g=>g.rowVisibility!=="hide");return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}),!e.tabsDisabled&&S.length>1&&React.createElement("ul",{className:"ts-plan-tabs simplify-ul flexify ts-generic-tabs",style:{justifyContent:e.tabsJustify}},S.map(g=>React.createElement("li",{key:g.id,className:g.id===E?"ts-tab-active":""},React.createElement("a",{href:"#","data-id":g.id,onClick:y=>i(y,g.id)},g.label)))),React.createElement("div",{className:"ts-plans-list ts-paid-members-plans",style:w},S.map(g=>{const y=R(g),u=g.id===E;return y.map(t=>React.createElement(Te,{key:`${g.id}-${t.key}`,price:t,groupId:g.id,isActiveGroup:u,isCurrentPlan:p(t.key),buttonText:x(t.key),buttonClass:C(t.key),pricingAlign:e.pricingAlign,descAlign:e.descAlign,listAlign:e.listAlign,arrowIconElement:d,context:c}))})))}function T(e,r){if(!e)return;const l=[];if(e.fontFamily&&l.push(`font-family: ${e.fontFamily};`),e.fontSize!==void 0){const n=e.fontSizeUnit||"px";l.push(`font-size: ${e.fontSize}${n};`)}if(e.fontWeight&&l.push(`font-weight: ${e.fontWeight};`),e.fontStyle&&e.fontStyle!=="default"&&l.push(`font-style: ${e.fontStyle};`),e.textDecoration&&e.textDecoration!=="none"&&l.push(`text-decoration: ${e.textDecoration};`),e.lineHeight!==void 0){const n=e.lineHeightUnit||"";l.push(`line-height: ${e.lineHeight}${n};`)}if(e.letterSpacing!==void 0){const n=e.letterSpacingUnit||"px";l.push(`letter-spacing: ${e.letterSpacing}${n};`)}if(e.wordSpacing!==void 0){const n=e.wordSpacingUnit||"px";l.push(`word-spacing: ${e.wordSpacing}${n};`)}if(e.textTransform&&e.textTransform!=="none"&&l.push(`text-transform: ${e.textTransform};`),l.length!==0)return`${r} { ${l.join(" ")} }`}function L(e,r){if(!e)return;const{borderType:l,borderWidth:n,borderColor:c}=e;if(!l||l==="none"||l==="")return;let o="1px";if(n){const f=n.unit||"px",i=p=>{if(p===void 0||p===""||p===null)return"0";if(typeof p=="string"){const x=p.match(/^([\d.]+)/);return x?x[1]:"0"}return String(p)},s=i(n.top),d=i(n.right),h=i(n.bottom),R=i(n.left);s===d&&d===h&&h===R?o=`${s}${f}`:o=`${s}${f} ${d}${f} ${h}${f} ${R}${f}`}return`${r} { border: ${o} ${l} ${c||"#000"}; }`}function $(e,r){if(!e||typeof e!="object")return;const{top:l,right:n,bottom:c,left:o,unit:m="px"}=e,f=parseFloat(String(l))||0,i=parseFloat(String(n))||0,s=parseFloat(String(c))||0,d=parseFloat(String(o))||0;if(!(f===0&&i===0&&s===0&&d===0))return`${f}${m} ${i}${m} ${s}${m} ${d}${m}`}function Se(e){if(!e||Object.keys(e).length===0)return;const r=e.horizontal??0,l=e.vertical??0,n=e.blur??10,c=e.spread??0,o=e.color??"rgba(0,0,0,0.5)";return`${e.position==="inset"?"inset ":""}${r}px ${l}px ${n}px ${c}px ${o}`}function ie(e,r){const l=[],n=[],c=[],o=`.voxel-fse-membership-plans-${r}`;if(e.plansColumns!==void 0&&l.push(`${o} .ts-plans-list { grid-template-columns: repeat(${e.plansColumns}, 1fr); }`),e.plansColumns_tablet!==void 0&&n.push(`${o} .ts-plans-list { grid-template-columns: repeat(${e.plansColumns_tablet}, 1fr); }`),e.plansColumns_mobile!==void 0&&c.push(`${o} .ts-plans-list { grid-template-columns: repeat(${e.plansColumns_mobile}, 1fr); }`),e.plansGap!==void 0&&l.push(`${o} .ts-plans-list { grid-gap: ${e.plansGap}px; }`),e.plansGap_tablet!==void 0&&n.push(`${o} .ts-plans-list { grid-gap: ${e.plansGap_tablet}px; }`),e.plansGap_mobile!==void 0&&c.push(`${o} .ts-plans-list { grid-gap: ${e.plansGap_mobile}px; }`),e.plansBorderRadius!==void 0&&l.push(`${o} .ts-plan-container { border-radius: ${e.plansBorderRadius}px; }`),e.plansBorderRadius_tablet!==void 0&&n.push(`${o} .ts-plan-container { border-radius: ${e.plansBorderRadius_tablet}px; }`),e.plansBorderRadius_mobile!==void 0&&c.push(`${o} .ts-plan-container { border-radius: ${e.plansBorderRadius_mobile}px; }`),e.plansBorderType){const t=L({borderType:e.plansBorderType,borderWidth:e.plansBorderWidth,borderColor:e.plansBorderColor},`${o} .ts-plan-container`);t&&l.push(t)}if(e.plansBg&&l.push(`${o} .ts-plan-container { background-color: ${e.plansBg}; }`),e.plansShadow&&Object.keys(e.plansShadow).length>0){const t=Se(e.plansShadow);t&&l.push(`${o} .ts-plan-container { box-shadow: ${t}; }`)}e.bodyPadding!==void 0&&l.push(`${o} .ts-plan-body { padding: ${e.bodyPadding}px; }`),e.bodyPadding_tablet!==void 0&&n.push(`${o} .ts-plan-body { padding: ${e.bodyPadding_tablet}px; }`),e.bodyPadding_mobile!==void 0&&c.push(`${o} .ts-plan-body { padding: ${e.bodyPadding_mobile}px; }`),e.bodyContentGap!==void 0&&l.push(`${o} .ts-plan-body { grid-gap: ${e.bodyContentGap}px; }`),e.bodyContentGap_tablet!==void 0&&n.push(`${o} .ts-plan-body { grid-gap: ${e.bodyContentGap_tablet}px; }`),e.bodyContentGap_mobile!==void 0&&c.push(`${o} .ts-plan-body { grid-gap: ${e.bodyContentGap_mobile}px; }`);const m=$(e.imagePadding);m&&l.push(`${o} .ts-plan-image img { padding: ${m}; }`);const f=$(e.imagePadding_tablet);f&&n.push(`${o} .ts-plan-image img { padding: ${f}; }`);const i=$(e.imagePadding_mobile);if(i&&c.push(`${o} .ts-plan-image img { padding: ${i}; }`),e.imageHeight!==void 0&&e.imageHeight>0&&l.push(`${o} .ts-plan-image img { height: ${e.imageHeight}px; }`),e.imageHeight_tablet!==void 0&&e.imageHeight_tablet>0&&n.push(`${o} .ts-plan-image img { height: ${e.imageHeight_tablet}px; }`),e.imageHeight_mobile!==void 0&&e.imageHeight_mobile>0&&c.push(`${o} .ts-plan-image img { height: ${e.imageHeight_mobile}px; }`),e.pricingAlign&&l.push(`${o} .ts-plan-pricing { justify-content: ${e.pricingAlign}; }`),e.priceTypography){const t=T(e.priceTypography,`${o} .ts-plan-pricing .ts-price-amount`);t&&l.push(t)}if(e.priceColor&&l.push(`${o} .ts-plan-pricing .ts-price-amount { color: ${e.priceColor}; }`),e.periodTypography){const t=T(e.periodTypography,`${o} .ts-plan-pricing .ts-price-period`);t&&l.push(t)}if(e.periodColor&&l.push(`${o} .ts-plan-pricing .ts-price-period { color: ${e.periodColor}; }`),e.contentAlign&&l.push(`${o} .ts-plan-details { justify-content: ${e.contentAlign}; }`),e.nameTypography){const t=T(e.nameTypography,`${o} .ts-plan-details .ts-plan-name`);t&&l.push(t)}if(e.nameColor&&l.push(`${o} .ts-plan-details .ts-plan-name { color: ${e.nameColor}; }`),e.descAlign&&l.push(`${o} .ts-plan-desc p { text-align: ${e.descAlign}; }`),e.descTypography){const t=T(e.descTypography,`${o} .ts-plan-desc p`);t&&l.push(t)}if(e.descColor&&l.push(`${o} .ts-plan-desc p { color: ${e.descColor}; }`),e.listAlign&&l.push(`${o} .ts-plan-features ul { align-items: ${e.listAlign}; }`),e.listTypography){const t=T(e.listTypography,`${o} .ts-plan-features ul li`);t&&l.push(t)}e.listColor&&l.push(`${o} .ts-plan-features ul li { color: ${e.listColor}; }`),e.listIconColor&&(l.push(`${o} .ts-plan-features ul li i { color: ${e.listIconColor}; }`),l.push(`${o} .ts-plan-features ul li svg { fill: ${e.listIconColor}; }`)),e.listGap!==void 0&&l.push(`${o} .ts-plan-features ul { grid-gap: ${e.listGap}px; }`),e.listGap_tablet!==void 0&&n.push(`${o} .ts-plan-features ul { grid-gap: ${e.listGap_tablet}px; }`),e.listGap_mobile!==void 0&&c.push(`${o} .ts-plan-features ul { grid-gap: ${e.listGap_mobile}px; }`),e.listIconSize!==void 0&&(l.push(`${o} .ts-plan-features ul li i { font-size: ${e.listIconSize}px; }`),l.push(`${o} .ts-plan-features ul li svg { width: ${e.listIconSize}px; height: ${e.listIconSize}px; }`)),e.listIconSize_tablet!==void 0&&(n.push(`${o} .ts-plan-features ul li i { font-size: ${e.listIconSize_tablet}px; }`),n.push(`${o} .ts-plan-features ul li svg { width: ${e.listIconSize_tablet}px; height: ${e.listIconSize_tablet}px; }`)),e.listIconSize_mobile!==void 0&&(c.push(`${o} .ts-plan-features ul li i { font-size: ${e.listIconSize_mobile}px; }`),c.push(`${o} .ts-plan-features ul li svg { width: ${e.listIconSize_mobile}px; height: ${e.listIconSize_mobile}px; }`)),e.listIconRightPad!==void 0&&(l.push(`${o} .ts-plan-features ul li i { padding-right: ${e.listIconRightPad}px; }`),l.push(`${o} .ts-plan-features ul li svg { margin-right: ${e.listIconRightPad}px; }`)),e.listIconRightPad_tablet!==void 0&&(n.push(`${o} .ts-plan-features ul li i { padding-right: ${e.listIconRightPad_tablet}px; }`),n.push(`${o} .ts-plan-features ul li svg { margin-right: ${e.listIconRightPad_tablet}px; }`)),e.listIconRightPad_mobile!==void 0&&(c.push(`${o} .ts-plan-features ul li i { padding-right: ${e.listIconRightPad_mobile}px; }`),c.push(`${o} .ts-plan-features ul li svg { margin-right: ${e.listIconRightPad_mobile}px; }`)),e.tabsJustify&&l.push(`${o} .ts-generic-tabs { justify-content: ${e.tabsJustify}; }`);const s=$(e.tabsPadding);s&&l.push(`${o} .ts-generic-tabs li a { padding: ${s}; }`);const d=$(e.tabsPadding_tablet);d&&n.push(`${o} .ts-generic-tabs li a { padding: ${d}; }`);const h=$(e.tabsPadding_mobile);h&&c.push(`${o} .ts-generic-tabs li a { padding: ${h}; }`);const R=$(e.tabsMargin);R&&l.push(`${o} .ts-generic-tabs li { margin: ${R}; }`);const p=$(e.tabsMargin_tablet);p&&n.push(`${o} .ts-generic-tabs li { margin: ${p}; }`);const x=$(e.tabsMargin_mobile);if(x&&c.push(`${o} .ts-generic-tabs li { margin: ${x}; }`),e.tabTypography){const t=T(e.tabTypography,`${o} .ts-generic-tabs li a`);t&&l.push(t)}if(e.tabActiveTypography){const t=T(e.tabActiveTypography,`${o} .ts-generic-tabs li.ts-tab-active a`);t&&l.push(t)}if(e.tabTextColor&&l.push(`${o} .ts-generic-tabs li a { color: ${e.tabTextColor}; }`),e.tabActiveTextColor&&l.push(`${o} .ts-generic-tabs li.ts-tab-active a { color: ${e.tabActiveTextColor}; }`),e.tabBackground&&l.push(`${o} .ts-generic-tabs li a { background-color: ${e.tabBackground}; }`),e.tabActiveBackground&&l.push(`${o} .ts-generic-tabs li.ts-tab-active a { background-color: ${e.tabActiveBackground}; }`),e.tabBorderType){const t=L({borderType:e.tabBorderType,borderWidth:e.tabBorderWidth,borderColor:e.tabBorderColor},`${o} .ts-generic-tabs li a`);t&&l.push(t)}if(e.tabActiveBorderColor&&l.push(`${o} .ts-generic-tabs li.ts-tab-active a { border-color: ${e.tabActiveBorderColor}; }`),e.tabsBorderRadius!==void 0&&l.push(`${o} .ts-generic-tabs li a { border-radius: ${e.tabsBorderRadius}px; }`),e.tabsBorderRadius_tablet!==void 0&&n.push(`${o} .ts-generic-tabs li a { border-radius: ${e.tabsBorderRadius_tablet}px; }`),e.tabsBorderRadius_mobile!==void 0&&c.push(`${o} .ts-generic-tabs li a { border-radius: ${e.tabsBorderRadius_mobile}px; }`),e.tabTextColorHover&&l.push(`${o} .ts-generic-tabs li a:hover { color: ${e.tabTextColorHover}; }`),e.tabActiveTextColorHover&&l.push(`${o} .ts-generic-tabs li.ts-tab-active a:hover { color: ${e.tabActiveTextColorHover}; }`),e.tabBorderColorHover&&l.push(`${o} .ts-generic-tabs li a:hover { border-color: ${e.tabBorderColorHover}; }`),e.tabActiveBorderColorHover&&l.push(`${o} .ts-generic-tabs li.ts-tab-active a:hover { border-color: ${e.tabActiveBorderColorHover}; }`),e.tabBackgroundHover&&l.push(`${o} .ts-generic-tabs li a:hover { background-color: ${e.tabBackgroundHover}; }`),e.tabActiveBackgroundHover&&l.push(`${o} .ts-generic-tabs li.ts-tab-active a:hover { background-color: ${e.tabActiveBackgroundHover}; }`),e.primaryBtnTypography){const t=T(e.primaryBtnTypography,`${o} .ts-btn-2`);t&&l.push(t)}e.primaryBtnRadius!==void 0&&l.push(`${o} .ts-btn-2 { border-radius: ${e.primaryBtnRadius}px; }`),e.primaryBtnRadius_tablet!==void 0&&n.push(`${o} .ts-btn-2 { border-radius: ${e.primaryBtnRadius_tablet}px; }`),e.primaryBtnRadius_mobile!==void 0&&c.push(`${o} .ts-btn-2 { border-radius: ${e.primaryBtnRadius_mobile}px; }`),e.primaryBtnTextColor&&l.push(`${o} .ts-btn-2 { color: ${e.primaryBtnTextColor}; }`);const C=$(e.primaryBtnPadding);C&&l.push(`${o} .ts-btn-2 { padding: ${C}; }`);const w=$(e.primaryBtnPadding_tablet);w&&n.push(`${o} .ts-btn-2 { padding: ${w}; }`);const E=$(e.primaryBtnPadding_mobile);if(E&&c.push(`${o} .ts-btn-2 { padding: ${E}; }`),e.primaryBtnHeight!==void 0&&e.primaryBtnHeight>0&&l.push(`${o} .ts-btn-2 { height: ${e.primaryBtnHeight}px; }`),e.primaryBtnHeight_tablet!==void 0&&e.primaryBtnHeight_tablet>0&&n.push(`${o} .ts-btn-2 { height: ${e.primaryBtnHeight_tablet}px; }`),e.primaryBtnHeight_mobile!==void 0&&e.primaryBtnHeight_mobile>0&&c.push(`${o} .ts-btn-2 { height: ${e.primaryBtnHeight_mobile}px; }`),e.primaryBtnBgColor&&l.push(`${o} .ts-btn-2 { background: ${e.primaryBtnBgColor}; }`),e.primaryBtnBorderType){const t=L({borderType:e.primaryBtnBorderType,borderWidth:e.primaryBtnBorderWidth,borderColor:e.primaryBtnBorderColor},`${o} .ts-btn-2`);t&&l.push(t)}if(e.primaryBtnIconSize!==void 0&&(l.push(`${o} .ts-btn-2 i { font-size: ${e.primaryBtnIconSize}px; }`),l.push(`${o} .ts-btn-2 svg { width: ${e.primaryBtnIconSize}px; height: ${e.primaryBtnIconSize}px; }`)),e.primaryBtnIconSize_tablet!==void 0&&(n.push(`${o} .ts-btn-2 i { font-size: ${e.primaryBtnIconSize_tablet}px; }`),n.push(`${o} .ts-btn-2 svg { width: ${e.primaryBtnIconSize_tablet}px; height: ${e.primaryBtnIconSize_tablet}px; }`)),e.primaryBtnIconSize_mobile!==void 0&&(c.push(`${o} .ts-btn-2 i { font-size: ${e.primaryBtnIconSize_mobile}px; }`),c.push(`${o} .ts-btn-2 svg { width: ${e.primaryBtnIconSize_mobile}px; height: ${e.primaryBtnIconSize_mobile}px; }`)),e.primaryBtnIconPad!==void 0&&l.push(`${o} .ts-btn-2 { grid-gap: ${e.primaryBtnIconPad}px; padding-right: 0px; }`),e.primaryBtnIconPad_tablet!==void 0&&n.push(`${o} .ts-btn-2 { grid-gap: ${e.primaryBtnIconPad_tablet}px; padding-right: 0px; }`),e.primaryBtnIconPad_mobile!==void 0&&c.push(`${o} .ts-btn-2 { grid-gap: ${e.primaryBtnIconPad_mobile}px; padding-right: 0px; }`),e.primaryBtnIconColor&&(l.push(`${o} .ts-btn-2 i { color: ${e.primaryBtnIconColor}; }`),l.push(`${o} .ts-btn-2 svg { fill: ${e.primaryBtnIconColor}; }`)),e.primaryBtnTextColorHover&&l.push(`${o} .ts-btn-2:hover { color: ${e.primaryBtnTextColorHover}; }`),e.primaryBtnBgColorHover&&l.push(`${o} .ts-btn-2:hover { background: ${e.primaryBtnBgColorHover}; }`),e.primaryBtnBorderColorHover&&l.push(`${o} .ts-btn-2:hover { border-color: ${e.primaryBtnBorderColorHover}; }`),e.primaryBtnIconColorHover&&(l.push(`${o} .ts-btn-2:hover i { color: ${e.primaryBtnIconColorHover}; }`),l.push(`${o} .ts-btn-2:hover svg { fill: ${e.primaryBtnIconColorHover}; }`)),e.secondaryBtnTypography){const t=T(e.secondaryBtnTypography,`${o} .ts-btn-1`);t&&l.push(t)}e.secondaryBtnRadius!==void 0&&l.push(`${o} .ts-btn-1 { border-radius: ${e.secondaryBtnRadius}px; }`),e.secondaryBtnRadius_tablet!==void 0&&n.push(`${o} .ts-btn-1 { border-radius: ${e.secondaryBtnRadius_tablet}px; }`),e.secondaryBtnRadius_mobile!==void 0&&c.push(`${o} .ts-btn-1 { border-radius: ${e.secondaryBtnRadius_mobile}px; }`),e.secondaryBtnTextColor&&l.push(`${o} .ts-btn-1 { color: ${e.secondaryBtnTextColor}; }`);const S=$(e.secondaryBtnPadding);S&&l.push(`${o} .ts-btn-1 { padding: ${S}; }`);const g=$(e.secondaryBtnPadding_tablet);g&&n.push(`${o} .ts-btn-1 { padding: ${g}; }`);const y=$(e.secondaryBtnPadding_mobile);if(y&&c.push(`${o} .ts-btn-1 { padding: ${y}; }`),e.secondaryBtnHeight!==void 0&&e.secondaryBtnHeight>0&&l.push(`${o} .ts-btn-1 { height: ${e.secondaryBtnHeight}px; }`),e.secondaryBtnHeight_tablet!==void 0&&e.secondaryBtnHeight_tablet>0&&n.push(`${o} .ts-btn-1 { height: ${e.secondaryBtnHeight_tablet}px; }`),e.secondaryBtnHeight_mobile!==void 0&&e.secondaryBtnHeight_mobile>0&&c.push(`${o} .ts-btn-1 { height: ${e.secondaryBtnHeight_mobile}px; }`),e.secondaryBtnBgColor&&l.push(`${o} .ts-btn-1 { background: ${e.secondaryBtnBgColor}; }`),e.secondaryBtnBorderType){const t=L({borderType:e.secondaryBtnBorderType,borderWidth:e.secondaryBtnBorderWidth,borderColor:e.secondaryBtnBorderColor},`${o} .ts-btn-1`);t&&l.push(t)}if(e.secondaryBtnIconSize!==void 0&&(l.push(`${o} .ts-btn-1 i { font-size: ${e.secondaryBtnIconSize}px; }`),l.push(`${o} .ts-btn-1 svg { width: ${e.secondaryBtnIconSize}px; height: ${e.secondaryBtnIconSize}px; }`)),e.secondaryBtnIconSize_tablet!==void 0&&(n.push(`${o} .ts-btn-1 i { font-size: ${e.secondaryBtnIconSize_tablet}px; }`),n.push(`${o} .ts-btn-1 svg { width: ${e.secondaryBtnIconSize_tablet}px; height: ${e.secondaryBtnIconSize_tablet}px; }`)),e.secondaryBtnIconSize_mobile!==void 0&&(c.push(`${o} .ts-btn-1 i { font-size: ${e.secondaryBtnIconSize_mobile}px; }`),c.push(`${o} .ts-btn-1 svg { width: ${e.secondaryBtnIconSize_mobile}px; height: ${e.secondaryBtnIconSize_mobile}px; }`)),e.secondaryBtnIconPad!==void 0&&l.push(`${o} .ts-btn-1 { grid-gap: ${e.secondaryBtnIconPad}px; padding-right: 0px; }`),e.secondaryBtnIconPad_tablet!==void 0&&n.push(`${o} .ts-btn-1 { grid-gap: ${e.secondaryBtnIconPad_tablet}px; padding-right: 0px; }`),e.secondaryBtnIconPad_mobile!==void 0&&c.push(`${o} .ts-btn-1 { grid-gap: ${e.secondaryBtnIconPad_mobile}px; padding-right: 0px; }`),e.secondaryBtnIconColor&&(l.push(`${o} .ts-btn-1 i { color: ${e.secondaryBtnIconColor}; }`),l.push(`${o} .ts-btn-1 svg { fill: ${e.secondaryBtnIconColor}; }`)),e.secondaryBtnTextColorHover&&l.push(`${o} .ts-btn-1:hover { color: ${e.secondaryBtnTextColorHover}; }`),e.secondaryBtnBgColorHover&&l.push(`${o} .ts-btn-1:hover { background: ${e.secondaryBtnBgColorHover}; }`),e.secondaryBtnBorderColorHover&&l.push(`${o} .ts-btn-1:hover { border-color: ${e.secondaryBtnBorderColorHover}; }`),e.secondaryBtnIconColorHover&&(l.push(`${o} .ts-btn-1:hover i { color: ${e.secondaryBtnIconColorHover}; }`),l.push(`${o} .ts-btn-1:hover svg { fill: ${e.secondaryBtnIconColorHover}; }`)),e.stickyEnabled){const t=(b,P,V,U,Q,W="px",te="sticky")=>{te==="sticky"?(b.push(`${o} { position: sticky; z-index: 100; }`),P!==void 0&&b.push(`${o} { top: ${P}${W}; }`),V!==void 0&&b.push(`${o} { right: ${V}${W}; }`),U!==void 0&&b.push(`${o} { bottom: ${U}${W}; }`),Q!==void 0&&b.push(`${o} { left: ${Q}${W}; }`)):b.push(`${o} { position: initial; }`)};t(l,e.stickyTop,e.stickyRight,e.stickyBottom,e.stickyLeft,e.stickyTopUnit||"px",e.stickyDesktop||"sticky"),t(n,e.stickyTop_tablet??e.stickyTop,e.stickyRight_tablet??e.stickyRight,e.stickyBottom_tablet??e.stickyBottom,e.stickyLeft_tablet??e.stickyLeft,e.stickyTopUnit||"px",e.stickyTablet||"sticky"),t(c,e.stickyTop_mobile??e.stickyTop,e.stickyRight_mobile??e.stickyRight,e.stickyBottom_mobile??e.stickyBottom,e.stickyLeft_mobile??e.stickyLeft,e.stickyTopUnit||"px",e.stickyMobile||"sticky")}let u="";return l.length>0&&(u+=l.join(`
`)),n.length>0&&(u+=`
@media (max-width: 1024px) {
${n.join(`
`)}
}`),c.length>0&&(u+=`
@media (max-width: 767px) {
${c.join(`
`)}
}`),u}function we(){return`group_${Math.random().toString(36).substring(2,11)}`}function ke({attributes:e,setAttributes:r,clientId:l}){const n=e.blockId||l,c=M(()=>ae(e),[e]),o=M(()=>re(e,`.voxel-fse-membership-plans-${n}`),[e,n]),m=M(()=>ie(e,n),[e,n]),f=M(()=>[o,m].filter(Boolean).join(`
`),[o,m]),i=X({className:ce(`voxel-fse-membership-plans voxel-fse-membership-plans-${n}`,e),style:c}),[s,d]=H(null),[h,R]=H(!0),[p,x]=H(null),[C,w]=H("");return z(()=>{e.blockId||r({blockId:l})},[e.blockId,l,r]),z(()=>{let E=!1;async function S(){R(!0),x(null);try{const g=await me({path:"/voxel-fse/v1/membership-plans"});if(!E&&(d(g),e.priceGroups.length===0&&g.availablePlans.length>0)){const y=[{id:we(),label:a("Monthly","voxel-fse"),prices:[],rowVisibility:"show",visibilityRules:[]}];r({priceGroups:y})}}catch(g){E||x(g instanceof Error?g.message:a("Failed to load plans data","voxel-fse"))}finally{E||R(!1)}}return S(),()=>{E=!0}},[]),z(()=>{!C&&e.priceGroups.length>0&&w(e.priceGroups[0].id)},[C,e.priceGroups]),React.createElement("div",{...i},f&&React.createElement("style",{dangerouslySetInnerHTML:{__html:f}}),React.createElement(de,null,React.createElement(ye,{tabs:[{id:"content",label:a("Content","voxel-fse"),icon:"",render:()=>React.createElement(Ce,{attributes:e,setAttributes:r,apiData:s})},{id:"style",label:a("Style","voxel-fse"),icon:"",render:()=>React.createElement(Ee,{attributes:e,setAttributes:r})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:r,activeTabAttribute:"activeTab"})),React.createElement(Ie,{attributes:e,apiData:s,isLoading:h,error:p,context:"editor",onTabChange:w}))}function Pe({attributes:e}){const r=e.blockId||"block",l=`.voxel-fse-membership-plans-${r}`,n=ae(e),c=re(e,l),o=ie(e,r),m=[c,o].filter(Boolean).join(`
`),f=$e(e.customAttributes),i=X.save({id:e.elementId||void 0,className:ce(`voxel-fse-membership-plans voxel-fse-membership-plans-${r}`,e),style:n,...f,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0}),s={priceGroups:e.priceGroups??[],planConfigs:e.planConfigs??{},arrowIcon:e.arrowIcon??J,style:{plansColumns:e.plansColumns??3,plansColumns_tablet:e.plansColumns_tablet,plansColumns_mobile:e.plansColumns_mobile,plansGap:e.plansGap??20,tabsDisabled:e.tabsDisabled??!1,tabsJustify:e.tabsJustify??"flex-start",pricingAlign:e.pricingAlign??"flex-start",contentAlign:e.contentAlign??"flex-start",descAlign:e.descAlign??"left",listAlign:e.listAlign??"flex-start"}};return React.createElement("div",{...i},m&&React.createElement("style",{dangerouslySetInnerHTML:{__html:m}}),Be(e,!1,void 0,void 0,l),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}}),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",padding:"40px 16px",minHeight:"200px",borderRadius:"8px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.4}},React.createElement("rect",{x:"4",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"4",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"4",y:"16",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"16",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"16",width:"4",height:"4",rx:"0.5"}))))}const He="voxel-fse/membership-plans",Ne={name:He};se(Ne.name,{icon:Re,edit:ke,save:Pe});
