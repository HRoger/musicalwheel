import{registerBlockType as se}from"@wordpress/blocks";import{useBlockProps as X,InspectorControls as de}from"@wordpress/block-editor";import{__ as a}from"@wordpress/i18n";import{useState as k,useEffect as N,useCallback as Z,useRef as pe,useMemo as V}from"react";import me from"@wordpress/api-fetch";import{A as ee,a as S,e as q,g as ge,I as fe,S as _,E as ve,R as B,T as A,C as h,B as W}from"../TypographyPopup-CAcEJ5NA.js";import{I as he}from"../InspectorTabs-Bq2wAh4W.js";import{SelectControl as H,ToggleControl as ye}from"@wordpress/components";import"@wordpress/data";/* empty css                            */import"../RepeaterControl-C7JnAhZL.js";import{A as oe}from"../AdvancedIconControl-CJ_DCTeD.js";import{R as Y,g as j,L as K}from"../RepeaterControl-B_ulBkEL.js";import{R as P}from"../ResponsiveDimensionsControl-BXd6ZjaD.js";import{S as D}from"../StyleTabPanel-BnA2rBs5.js";import{E as M}from"../EmptyPlaceholder-BsL18qxN.js";import{r as ne,V as le}from"../voxelIcons-gVyOSQ_B.js";import"../voxelShim-DB_Ue-9R.js";import{r as xe}from"../backgroundElements-Ui-iCrLV.js";import{g as ae,a as re,c as ie,p as Be}from"../generateAdvancedStyles-CRpLcHXt.js";import{V as $e}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";const O={library:"",value:""},L={image:null,features:[]};function Re({attributes:e,setAttributes:r,apiData:l}){const[o,i]=k({isOpen:!1,groupId:null,featureId:null,planKey:null,rules:[]}),n=()=>{if(!l)return[];const c=[];return l.availablePlans.forEach(t=>{t.prices.forEach(s=>{const v=s.formattedPeriod?`${t.label} - ${s.formattedAmount} / ${s.formattedPeriod}`:`${t.label} - ${s.formattedAmount}`;c.push({value:s.priceKey,label:v})})}),c.push({value:"default",label:a("Free plan","voxel-fse")}),c},p=()=>{const c=new Set;return e.priceGroups.forEach(t=>{t.prices.forEach(s=>{if(s==="default")c.add("default");else{const[v]=s.split("@");v&&c.add(v)}})}),Array.from(c)},g=(c,t)=>{const s=e.planConfigs[c]||L;r({planConfigs:{...e.planConfigs,[c]:{...s,...t}}})};return React.createElement(ee,{attributes:e,setAttributes:r,stateAttribute:"contentTabOpenPanel",defaultPanel:"price_groups"},React.createElement(S,{id:"price_groups",title:a("Price groups","voxel-fse")},React.createElement(Y,{label:a("Items","voxel-fse"),items:e.priceGroups,onChange:c=>r({priceGroups:c}),getItemLabel:(c,t)=>c.label||`Item #${t+1}`,addButtonText:a("Add Item","voxel-fse"),createItem:()=>({id:j(),label:a("New Group","voxel-fse"),prices:[],rowVisibility:"show",visibilityRules:[]}),renderContent:({item:c,onUpdate:t})=>React.createElement(React.Fragment,null,React.createElement(q,{label:a("Group label","voxel-fse"),value:c.label,onChange:s=>t({label:s})}),React.createElement(ge,{label:a("Choose prices","voxel-fse"),value:c.prices,options:n(),onChange:s=>t({prices:s}),placeholder:a("Select prices","voxel-fse")}),React.createElement(K,{rowVisibility:c.rowVisibility||"show",visibilityRules:c.visibilityRules||[],onRowVisibilityChange:s=>t({rowVisibility:s}),onEditVisibilityRules:()=>i({isOpen:!0,groupId:c.id,featureId:null,planKey:null,rules:c.visibilityRules||[]}),onClearVisibilityRules:()=>t({visibilityRules:[]})}))})),p().map(c=>{const t=l?.availablePlans.find(d=>d.key===c),s=c==="default"?a("Free plan","voxel-fse"):t?.label||c,v=e.planConfigs[c]||L,R=v.features.map(d=>({...d,id:d.id||j()}));return React.createElement(S,{key:c,id:`plan_${c}`,title:`${a("Plan","voxel-fse")}: ${s}`},React.createElement("div",{style:{marginBottom:"15px"}},React.createElement(fe,{label:a("Choose image","voxel-fse"),value:v.image?{id:v.image.id,url:v.image.url}:void 0,onChange:d=>g(c,{image:d?{id:d.id||0,url:d.url||""}:null}),enableDynamicTags:!0,dynamicTagValue:v.imageDynamicTag,onDynamicTagChange:d=>g(c,{imageDynamicTag:d}),dynamicTagContext:"post"})),React.createElement(_,{label:a("Features","voxel-fse")}),React.createElement(Y,{items:R,onChange:d=>g(c,{features:d}),getItemLabel:(d,x)=>d.text||`Item #${x+1}`,addButtonText:a("Add Item","voxel-fse"),createItem:()=>({id:j(),text:"",icon:O,rowVisibility:"show",visibilityRules:[]}),renderContent:({item:d,onUpdate:x})=>React.createElement(React.Fragment,null,React.createElement(q,{label:a("Text","voxel-fse"),value:d.text,onChange:C=>x({text:C})}),React.createElement(oe,{label:a("Icon","voxel-fse"),value:d.icon,onChange:C=>x({icon:C})}),React.createElement(K,{rowVisibility:d.rowVisibility||"show",visibilityRules:d.visibilityRules||[],onRowVisibilityChange:C=>x({rowVisibility:C}),onEditVisibilityRules:()=>i({isOpen:!0,groupId:null,featureId:d.id,planKey:c,rules:d.visibilityRules||[]}),onClearVisibilityRules:()=>x({visibilityRules:[]})}))}))}),React.createElement(ve,{isOpen:o.isOpen,onClose:()=>i({...o,isOpen:!1}),rules:o.rules,onSave:c=>{if(o.groupId){const t=e.priceGroups.findIndex(s=>s.id===o.groupId);if(t!==-1){const s=[...e.priceGroups];s[t]={...s[t],visibilityRules:c},r({priceGroups:s})}}else if(o.planKey&&o.featureId){const t=e.planConfigs[o.planKey]||L,s=t.features.map(v=>v.id===o.featureId?{...v,visibilityRules:c}:v);r({planConfigs:{...e.planConfigs,[o.planKey]:{...t,features:s}}})}}}))}function Ce({attributes:e,setAttributes:r}){return React.createElement(ee,{attributes:e,setAttributes:r,stateAttribute:"styleTabOpenPanel",defaultPanel:"general"},React.createElement(S,{id:"general",title:a("General","voxel-fse")},React.createElement(B,{label:a("Number of columns","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"plansColumns",min:1,max:6}),React.createElement(B,{label:a("Item gap","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"plansGap",min:0,max:100}),React.createElement(B,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"plansBorderRadius",min:0,max:50}),React.createElement(_,{label:a("Plan body","voxel-fse")}),React.createElement(B,{label:a("Body padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"bodyPadding",min:0,max:100}),React.createElement(B,{label:a("Body content gap","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"bodyContentGap",min:0,max:100}),React.createElement(_,{label:a("Plan image","voxel-fse")}),React.createElement(P,{label:a("Image padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"imagePadding"}),React.createElement(B,{label:a("Height","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"imageHeight",min:0,max:500}),React.createElement(_,{label:a("Plan pricing","voxel-fse")}),React.createElement(H,{label:a("Align","voxel-fse"),value:e.pricingAlign,options:[{value:"flex-start",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"flex-end",label:a("Right","voxel-fse")}],onChange:l=>r({pricingAlign:l})}),React.createElement(_,{label:a("Plan name","voxel-fse")}),React.createElement(H,{label:a("Align content","voxel-fse"),value:e.contentAlign,options:[{value:"flex-start",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"flex-end",label:a("Right","voxel-fse")}],onChange:l=>r({contentAlign:l})}),React.createElement(_,{label:a("Plan description","voxel-fse")}),React.createElement(H,{label:a("Text align","voxel-fse"),value:e.descAlign,options:[{value:"left",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"right",label:a("Right","voxel-fse")}],onChange:l=>r({descAlign:l})}),React.createElement(_,{label:a("Plan features","voxel-fse")}),React.createElement(H,{label:a("Align content","voxel-fse"),value:e.listAlign,options:[{value:"flex-start",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"flex-end",label:a("Right","voxel-fse")}],onChange:l=>r({listAlign:l})}),React.createElement(B,{label:a("Item gap","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"listGap",min:0,max:50}),React.createElement(B,{label:a("Icon size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"listIconSize",min:10,max:50}),React.createElement(B,{label:a("Icon right padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"listIconRightPad",min:0,max:30})),React.createElement(S,{id:"tabs",title:a("Tabs","voxel-fse")},React.createElement(D,{tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},l=>React.createElement(React.Fragment,null,l.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(_,{label:a("Tabs","voxel-fse")}),React.createElement(ye,{label:a("Disable tabs","voxel-fse"),help:a("Disable label on tablet","voxel-fse"),checked:e.tabsDisabled,onChange:o=>r({tabsDisabled:o})}),React.createElement(H,{label:a("Justify","voxel-fse"),value:e.tabsJustify,options:[{value:"flex-start",label:a("Left","voxel-fse")},{value:"center",label:a("Center","voxel-fse")},{value:"flex-end",label:a("Right","voxel-fse")},{value:"space-between",label:a("Space between","voxel-fse")},{value:"space-around",label:a("Space around","voxel-fse")}],onChange:o=>r({tabsJustify:o})}),React.createElement(P,{label:a("Padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"tabsPadding"}),React.createElement(P,{label:a("Margin","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"tabsMargin"}),React.createElement(A,{label:a("Tab typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"tabTypography"}),React.createElement(A,{label:a("Active tab typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"tabActiveTypography"}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Text color","voxel-fse"),value:e.tabTextColor,onChange:o=>r({tabTextColor:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Active text color","voxel-fse"),value:e.tabActiveTextColor,onChange:o=>r({tabActiveTextColor:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Background","voxel-fse"),value:e.tabBackground,onChange:o=>r({tabBackground:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Active background","voxel-fse"),value:e.tabActiveBackground,onChange:o=>r({tabActiveBackground:o})})),React.createElement(W,{label:a("Border","voxel-fse"),value:{borderType:e.tabBorderType||"",borderWidth:e.tabBorderWidth||{},borderColor:e.tabBorderColor||""},onChange:o=>{const i={};o.borderType!==void 0&&(i.tabBorderType=o.borderType),o.borderWidth!==void 0&&(i.tabBorderWidth=o.borderWidth),o.borderColor!==void 0&&(i.tabBorderColor=o.borderColor),r(i)},hideRadius:!0}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Active border color","voxel-fse"),value:e.tabActiveBorderColor,onChange:o=>r({tabActiveBorderColor:o})})),React.createElement(B,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"tabsBorderRadius",min:0,max:30})),l.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(_,{label:a("Timeline tabs","voxel-fse")}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Text color","voxel-fse"),value:e.tabTextColorHover,onChange:o=>r({tabTextColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Active text color","voxel-fse"),value:e.tabActiveTextColorHover,onChange:o=>r({tabActiveTextColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Border color","voxel-fse"),value:e.tabBorderColorHover,onChange:o=>r({tabBorderColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Active border color","voxel-fse"),value:e.tabActiveBorderColorHover,onChange:o=>r({tabActiveBorderColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Background","voxel-fse"),value:e.tabBackgroundHover,onChange:o=>r({tabBackgroundHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Active background","voxel-fse"),value:e.tabActiveBackgroundHover,onChange:o=>r({tabActiveBackgroundHover:o})})))))),React.createElement(S,{id:"primary_button",title:a("Primary button","voxel-fse")},React.createElement(D,{tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},l=>React.createElement(React.Fragment,null,l.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(A,{label:a("Button typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"primaryBtnTypography"}),React.createElement(B,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnRadius",min:0,max:30}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Text color","voxel-fse"),value:e.primaryBtnTextColor,onChange:o=>r({primaryBtnTextColor:o})})),React.createElement(P,{label:a("Padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnPadding"}),React.createElement(B,{label:a("Height","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnHeight",min:0,max:100}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Background color","voxel-fse"),value:e.primaryBtnBgColor,onChange:o=>r({primaryBtnBgColor:o})})),React.createElement(W,{label:a("Border","voxel-fse"),value:{borderType:e.primaryBtnBorderType||"",borderWidth:e.primaryBtnBorderWidth||{},borderColor:e.primaryBtnBorderColor||""},onChange:o=>{const i={};o.borderType!==void 0&&(i.primaryBtnBorderType=o.borderType),o.borderWidth!==void 0&&(i.primaryBtnBorderWidth=o.borderWidth),o.borderColor!==void 0&&(i.primaryBtnBorderColor=o.borderColor),r(i)},hideRadius:!0}),React.createElement(B,{label:a("Icon size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnIconSize",min:10,max:40}),React.createElement(B,{label:a("Text/Icon spacing","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"primaryBtnIconPad",min:0,max:30}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Icon color","voxel-fse"),value:e.primaryBtnIconColor,onChange:o=>r({primaryBtnIconColor:o})}))),l.name==="hover"&&React.createElement(React.Fragment,null,React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Text color","voxel-fse"),value:e.primaryBtnTextColorHover,onChange:o=>r({primaryBtnTextColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Background color","voxel-fse"),value:e.primaryBtnBgColorHover,onChange:o=>r({primaryBtnBgColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Border color","voxel-fse"),value:e.primaryBtnBorderColorHover,onChange:o=>r({primaryBtnBorderColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Icon color","voxel-fse"),value:e.primaryBtnIconColorHover,onChange:o=>r({primaryBtnIconColorHover:o})})))))),React.createElement(S,{id:"secondary_button",title:a("Secondary button","voxel-fse")},React.createElement(D,{tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},l=>React.createElement(React.Fragment,null,l.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(A,{label:a("Button typography","voxel-fse"),attributes:e,setAttributes:r,typographyAttributeName:"secondaryBtnTypography"}),React.createElement(B,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnRadius",min:0,max:30}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Text color","voxel-fse"),value:e.secondaryBtnTextColor,onChange:o=>r({secondaryBtnTextColor:o})})),React.createElement(P,{label:a("Padding","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnPadding"}),React.createElement(B,{label:a("Height","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnHeight",min:0,max:100}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Background color","voxel-fse"),value:e.secondaryBtnBgColor,onChange:o=>r({secondaryBtnBgColor:o})})),React.createElement(W,{label:a("Border","voxel-fse"),value:{borderType:e.secondaryBtnBorderType||"",borderWidth:e.secondaryBtnBorderWidth||{},borderColor:e.secondaryBtnBorderColor||""},onChange:o=>{const i={};o.borderType!==void 0&&(i.secondaryBtnBorderType=o.borderType),o.borderWidth!==void 0&&(i.secondaryBtnBorderWidth=o.borderWidth),o.borderColor!==void 0&&(i.secondaryBtnBorderColor=o.borderColor),r(i)},hideRadius:!0}),React.createElement(B,{label:a("Icon size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnIconSize",min:10,max:40}),React.createElement(B,{label:a("Text/Icon spacing","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"secondaryBtnIconPad",min:0,max:30}),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Icon color","voxel-fse"),value:e.secondaryBtnIconColor,onChange:o=>r({secondaryBtnIconColor:o})}))),l.name==="hover"&&React.createElement(React.Fragment,null,React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Text color","voxel-fse"),value:e.secondaryBtnTextColorHover,onChange:o=>r({secondaryBtnTextColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Background color","voxel-fse"),value:e.secondaryBtnBgColorHover,onChange:o=>r({secondaryBtnBgColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Border color","voxel-fse"),value:e.secondaryBtnBorderColorHover,onChange:o=>r({secondaryBtnBorderColorHover:o})})),React.createElement("div",{className:"voxel-fse-control-row"},React.createElement(h,{label:a("Icon color","voxel-fse"),value:e.secondaryBtnIconColorHover,onChange:o=>r({secondaryBtnIconColorHover:o})})))))),React.createElement(S,{id:"icons",title:a("Icons","voxel-fse")},React.createElement(oe,{label:a("Right arrow","voxel-fse"),value:e.arrowIcon,onChange:l=>r({arrowIcon:l})})))}const be="voxel:direct_cart";function Ee(e,r){e.preventDefault();const l=e.currentTarget,o=r.current;if(!o){console.error("[MembershipPlans] Plan container not found");return}o.classList.add("vx-pending");const i=l.href,n=window.jQuery;if(!n){console.error("[MembershipPlans] jQuery not available"),o.classList.remove("vx-pending");return}n.get(i).always(function(p){if(p.success)p.type==="dialog"&&p.dialog?(p.dialog.actions.forEach(function(g){(g.confirm_switch||g.confirm_cancel)&&(g.onClick=function(c){c.preventDefault(),o.classList.add("vx-pending"),g.link&&n.get(g.link).always(function(t){if(t.success)t.redirect_to&&(window.location.href=t.redirect_to);else{const s=t.message||window.Voxel_Config?.l10n?.ajaxError||"An error occurred";window.Voxel?.alert?window.Voxel.alert(s,"error"):console.error("[MembershipPlans] Error:",s)}o.classList.remove("vx-pending")})})}),window.Voxel?.dialog?window.Voxel.dialog(p.dialog):console.error("[MembershipPlans] Voxel.dialog not available")):p.type==="checkout"&&p.item&&p.checkout_link?(localStorage.setItem(be,JSON.stringify({[p.item.key]:p.item.value})),window.location.href=p.checkout_link):p.type==="redirect"&&p.redirect_to?window.location.href=p.redirect_to:p.redirect_url&&(window.location.href=p.redirect_url);else{const g=p.message||window.Voxel_Config?.l10n?.ajaxError||"An error occurred";window.Voxel?.alert?window.Voxel.alert(g,"error"):console.error("[MembershipPlans] Error:",g)}o.classList.remove("vx-pending")})}function ue(e,r){const l=e.key==="default"?"default":e.key.split("@")[0],o=r[l]||L;return{...e,image:o.image?.url||e.image,features:o.features.length>0?o.features:e.features}}function _e({price:e,groupId:r,isActiveGroup:l,isCurrentPlan:o,buttonText:i,buttonClass:n,pricingAlign:p,descAlign:g,listAlign:c,arrowIconElement:t,context:s}){const v=pe(null),R=Z(d=>{if(s==="editor"){d.preventDefault();return}if(o){d.preventDefault();return}Ee(d,v)},[s,o]);return React.createElement("div",{ref:v,className:`ts-plan-container ${l?"":"hidden"}`,"data-group":r},e.image&&React.createElement("div",{className:"ts-plan-image flexify"},typeof e.image=="string"?e.image.startsWith("<")?React.createElement("span",{dangerouslySetInnerHTML:{__html:e.image}}):React.createElement("img",{src:e.image,alt:e.label}):null),React.createElement("div",{className:"ts-plan-body"},React.createElement("div",{className:"ts-plan-details"},React.createElement("span",{className:"ts-plan-name"},e.label)),React.createElement("div",{className:"ts-plan-pricing",style:{justifyContent:p}},e.isFree?React.createElement("span",{className:"ts-plan-price"},a("Free","voxel-fse")):React.createElement(React.Fragment,null,e.discountAmount?React.createElement(React.Fragment,null,React.createElement("span",{className:"ts-plan-price"},e.discountAmount),React.createElement("span",{className:"ts-plan-price"},React.createElement("s",null,e.amount))):React.createElement("span",{className:"ts-plan-price"},e.amount),e.period&&React.createElement("div",{className:"ts-price-period"},"/ ",e.period),e.trialDays!=null&&e.trialDays>0&&React.createElement("p",{className:"ts-price-trial"},e.trialDays,a("-day free trial","voxel-fse")))),e.description&&React.createElement("div",{className:"ts-plan-desc",style:{textAlign:g}},React.createElement("p",{dangerouslySetInnerHTML:{__html:e.description.replace(/\n/g,"<br />")}})),e.features.length>0&&React.createElement("div",{className:"ts-plan-features",style:{justifyContent:c}},React.createElement("ul",{className:"simplify-ul"},e.features.filter(d=>d.rowVisibility!=="hide").map((d,x)=>React.createElement("li",{key:x},ne(d.icon,le.checkmark),React.createElement("span",null,d.text))))),React.createElement("div",{className:"ts-plan-footer"},React.createElement("a",{href:e.link||"#",className:n,rel:o?void 0:"nofollow",onClick:R},i,!o&&t))))}function Ie({attributes:e,apiData:r,isLoading:l,error:o,context:i,onTabChange:n}){const[p,g]=k("");N(()=>{!p&&e.priceGroups.length>0&&g(e.priceGroups[0].id)},[p,e.priceGroups]),N(()=>{const m="voxel-pricing-plan-css";if(!document.getElementById(m)){const y=document.createElement("link");y.id=m,y.rel="stylesheet";const f=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");y.href=`${f}/wp-content/themes/voxel/assets/dist/pricing-plan.css?ver=1.7.5.2`,document.head.appendChild(y)}},[]);const c=Z((m,y)=>{m.preventDefault(),g(y),n?.(y)},[n]),t={priceGroups:e.priceGroups??[],planConfigs:e.planConfigs??{},arrowIcon:e.arrowIcon??O,style:{plansColumns:e.plansColumns??3,plansColumns_tablet:e.plansColumns_tablet,plansColumns_mobile:e.plansColumns_mobile,plansGap:e.plansGap??20,tabsDisabled:e.tabsDisabled??!1,tabsJustify:e.tabsJustify??"flex-start",pricingAlign:e.pricingAlign??"flex-start",contentAlign:e.contentAlign??"flex-start",descAlign:e.descAlign??"left",listAlign:e.listAlign??"flex-start"}},s=ne(e.arrowIcon,le.chevronRightSmall);if(l)return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}),React.createElement(M,null));if(o)return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}),React.createElement(M,null));if(e.priceGroups.length===0)return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}),React.createElement(M,null));if(!e.priceGroups.some(m=>m.prices&&m.prices.length>0))return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}),React.createElement(M,null));const R=m=>{if(!r)return[];const y=[];return m.prices.forEach(E=>{const u=r.priceGroups.find(w=>w.prices.some(G=>G.key===E))?.prices.find(w=>w.key===E);u&&y.push(ue(u,e.planConfigs))}),y},d=m=>{if(!r?.userMembership)return!1;const y=r.userMembership;return m==="default"?y.type==="default"&&y.planKey==="default":y.priceKey===m&&!y.isSubscriptionCanceled},x=m=>d(m)?a("Current plan","voxel-fse"):r?.userMembership?.type==="order"?a("Switch to plan","voxel-fse"):a("Buy plan","voxel-fse"),C=m=>d(m)?"ts-btn ts-btn-1 ts-btn-large vx-pick-plan":"ts-btn ts-btn-2 ts-btn-large vx-pick-plan",T={"--ts-plans-columns":e.plansColumns,"--ts-plans-gap":`${e.plansGap}px`},b=p||(e.priceGroups[0]?.id??""),I=e.priceGroups.filter(m=>m.rowVisibility!=="hide");return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}),!e.tabsDisabled&&I.length>1&&React.createElement("ul",{className:"ts-plan-tabs simplify-ul flexify ts-generic-tabs",style:{justifyContent:e.tabsJustify}},I.map(m=>React.createElement("li",{key:m.id,className:m.id===b?"ts-tab-active":""},React.createElement("a",{href:"#","data-id":m.id,onClick:y=>c(y,m.id)},m.label)))),React.createElement("div",{className:"ts-plans-list ts-paid-members-plans",style:T},I.map(m=>{const y=R(m),E=m.id===b;return y.map(f=>React.createElement(_e,{key:`${m.id}-${f.key}`,price:f,groupId:m.id,isActiveGroup:E,isCurrentPlan:d(f.key),buttonText:x(f.key),buttonClass:C(f.key),pricingAlign:e.pricingAlign,descAlign:e.descAlign,listAlign:e.listAlign,arrowIconElement:s,context:i}))})))}function F(e,r){if(!e)return;const l=[];if(e.fontFamily&&l.push(`font-family: ${e.fontFamily};`),e.fontSize!==void 0){const o=e.fontSizeUnit||"px";l.push(`font-size: ${e.fontSize}${o};`)}if(e.fontWeight&&l.push(`font-weight: ${e.fontWeight};`),e.fontStyle&&e.fontStyle!=="default"&&l.push(`font-style: ${e.fontStyle};`),e.textDecoration&&e.textDecoration!=="none"&&l.push(`text-decoration: ${e.textDecoration};`),e.lineHeight!==void 0){const o=e.lineHeightUnit||"";l.push(`line-height: ${e.lineHeight}${o};`)}if(e.letterSpacing!==void 0){const o=e.letterSpacingUnit||"px";l.push(`letter-spacing: ${e.letterSpacing}${o};`)}if(e.wordSpacing!==void 0){const o=e.wordSpacingUnit||"px";l.push(`word-spacing: ${e.wordSpacing}${o};`)}if(e.textTransform&&e.textTransform!=="none"&&l.push(`text-transform: ${e.textTransform};`),l.length!==0)return`${r} { ${l.join(" ")} }`}function J(e,r){if(!e)return;const{borderType:l,borderWidth:o,borderColor:i}=e;if(!l||l==="none"||l==="")return;let n="1px";if(o){const g=o.unit||"px",c=d=>{if(d===void 0||d===""||d===null)return"0";if(typeof d=="string"){const x=d.match(/^([\d.]+)/);return x?x[1]:"0"}return String(d)},t=c(o.top),s=c(o.right),v=c(o.bottom),R=c(o.left);t===s&&s===v&&v===R?n=`${t}${g}`:n=`${t}${g} ${s}${g} ${v}${g} ${R}${g}`}return`${r} { border: ${n} ${l} ${i||"#000"}; }`}function $(e,r){if(!e||typeof e!="object")return;const{top:l,right:o,bottom:i,left:n,unit:p="px"}=e,g=parseFloat(String(l))||0,c=parseFloat(String(o))||0,t=parseFloat(String(i))||0,s=parseFloat(String(n))||0;if(!(g===0&&c===0&&t===0&&s===0))return`${g}${p} ${c}${p} ${t}${p} ${s}${p}`}function ce(e,r){const l=[],o=[],i=[],n=`.voxel-fse-membership-plans-${r}`;e.plansColumns!==void 0&&l.push(`${n} .ts-plans-list { grid-template-columns: repeat(${e.plansColumns}, 1fr); }`),e.plansColumns_tablet!==void 0&&o.push(`${n} .ts-plans-list { grid-template-columns: repeat(${e.plansColumns_tablet}, 1fr); }`),e.plansColumns_mobile!==void 0&&i.push(`${n} .ts-plans-list { grid-template-columns: repeat(${e.plansColumns_mobile}, 1fr); }`),e.plansGap!==void 0&&l.push(`${n} .ts-plans-list { grid-gap: ${e.plansGap}px; }`),e.plansGap_tablet!==void 0&&o.push(`${n} .ts-plans-list { grid-gap: ${e.plansGap_tablet}px; }`),e.plansGap_mobile!==void 0&&i.push(`${n} .ts-plans-list { grid-gap: ${e.plansGap_mobile}px; }`),e.plansBorderRadius!==void 0&&l.push(`${n} .ts-plan-container { border-radius: ${e.plansBorderRadius}px; }`),e.plansBorderRadius_tablet!==void 0&&o.push(`${n} .ts-plan-container { border-radius: ${e.plansBorderRadius_tablet}px; }`),e.plansBorderRadius_mobile!==void 0&&i.push(`${n} .ts-plan-container { border-radius: ${e.plansBorderRadius_mobile}px; }`),e.bodyPadding!==void 0&&l.push(`${n} .ts-plan-body { padding: ${e.bodyPadding}px; }`),e.bodyPadding_tablet!==void 0&&o.push(`${n} .ts-plan-body { padding: ${e.bodyPadding_tablet}px; }`),e.bodyPadding_mobile!==void 0&&i.push(`${n} .ts-plan-body { padding: ${e.bodyPadding_mobile}px; }`),e.bodyContentGap!==void 0&&l.push(`${n} .ts-plan-body { grid-gap: ${e.bodyContentGap}px; }`),e.bodyContentGap_tablet!==void 0&&o.push(`${n} .ts-plan-body { grid-gap: ${e.bodyContentGap_tablet}px; }`),e.bodyContentGap_mobile!==void 0&&i.push(`${n} .ts-plan-body { grid-gap: ${e.bodyContentGap_mobile}px; }`);const p=$(e.imagePadding);p&&l.push(`${n} .ts-plan-image img { padding: ${p}; }`);const g=$(e.imagePadding_tablet);g&&o.push(`${n} .ts-plan-image img { padding: ${g}; }`);const c=$(e.imagePadding_mobile);c&&i.push(`${n} .ts-plan-image img { padding: ${c}; }`),e.imageHeight!==void 0&&e.imageHeight>0&&l.push(`${n} .ts-plan-image img { height: ${e.imageHeight}px; }`),e.imageHeight_tablet!==void 0&&e.imageHeight_tablet>0&&o.push(`${n} .ts-plan-image img { height: ${e.imageHeight_tablet}px; }`),e.imageHeight_mobile!==void 0&&e.imageHeight_mobile>0&&i.push(`${n} .ts-plan-image img { height: ${e.imageHeight_mobile}px; }`),e.pricingAlign&&l.push(`${n} .ts-plan-pricing { justify-content: ${e.pricingAlign}; }`),e.contentAlign&&l.push(`${n} .ts-plan-details { justify-content: ${e.contentAlign}; }`),e.descAlign&&l.push(`${n} .ts-plan-desc p { text-align: ${e.descAlign}; }`),e.listAlign&&l.push(`${n} .ts-plan-features ul { align-items: ${e.listAlign}; }`),e.listGap!==void 0&&l.push(`${n} .ts-plan-features ul { grid-gap: ${e.listGap}px; }`),e.listGap_tablet!==void 0&&o.push(`${n} .ts-plan-features ul { grid-gap: ${e.listGap_tablet}px; }`),e.listGap_mobile!==void 0&&i.push(`${n} .ts-plan-features ul { grid-gap: ${e.listGap_mobile}px; }`),e.listIconSize!==void 0&&(l.push(`${n} .ts-plan-features ul li i { font-size: ${e.listIconSize}px; }`),l.push(`${n} .ts-plan-features ul li svg { width: ${e.listIconSize}px; height: ${e.listIconSize}px; }`)),e.listIconSize_tablet!==void 0&&(o.push(`${n} .ts-plan-features ul li i { font-size: ${e.listIconSize_tablet}px; }`),o.push(`${n} .ts-plan-features ul li svg { width: ${e.listIconSize_tablet}px; height: ${e.listIconSize_tablet}px; }`)),e.listIconSize_mobile!==void 0&&(i.push(`${n} .ts-plan-features ul li i { font-size: ${e.listIconSize_mobile}px; }`),i.push(`${n} .ts-plan-features ul li svg { width: ${e.listIconSize_mobile}px; height: ${e.listIconSize_mobile}px; }`)),e.listIconRightPad!==void 0&&(l.push(`${n} .ts-plan-features ul li i { padding-right: ${e.listIconRightPad}px; }`),l.push(`${n} .ts-plan-features ul li svg { margin-right: ${e.listIconRightPad}px; }`)),e.listIconRightPad_tablet!==void 0&&(o.push(`${n} .ts-plan-features ul li i { padding-right: ${e.listIconRightPad_tablet}px; }`),o.push(`${n} .ts-plan-features ul li svg { margin-right: ${e.listIconRightPad_tablet}px; }`)),e.listIconRightPad_mobile!==void 0&&(i.push(`${n} .ts-plan-features ul li i { padding-right: ${e.listIconRightPad_mobile}px; }`),i.push(`${n} .ts-plan-features ul li svg { margin-right: ${e.listIconRightPad_mobile}px; }`)),e.tabsJustify&&l.push(`${n} .ts-generic-tabs { justify-content: ${e.tabsJustify}; }`);const t=$(e.tabsPadding);t&&l.push(`${n} .ts-generic-tabs li a { padding: ${t}; }`);const s=$(e.tabsPadding_tablet);s&&o.push(`${n} .ts-generic-tabs li a { padding: ${s}; }`);const v=$(e.tabsPadding_mobile);v&&i.push(`${n} .ts-generic-tabs li a { padding: ${v}; }`);const R=$(e.tabsMargin);R&&l.push(`${n} .ts-generic-tabs li { margin: ${R}; }`);const d=$(e.tabsMargin_tablet);d&&o.push(`${n} .ts-generic-tabs li { margin: ${d}; }`);const x=$(e.tabsMargin_mobile);if(x&&i.push(`${n} .ts-generic-tabs li { margin: ${x}; }`),e.tabTypography){const f=F(e.tabTypography,`${n} .ts-generic-tabs li a`);f&&l.push(f)}if(e.tabActiveTypography){const f=F(e.tabActiveTypography,`${n} .ts-generic-tabs li.ts-tab-active a`);f&&l.push(f)}if(e.tabTextColor&&l.push(`${n} .ts-generic-tabs li a { color: ${e.tabTextColor}; }`),e.tabActiveTextColor&&l.push(`${n} .ts-generic-tabs li.ts-tab-active a { color: ${e.tabActiveTextColor}; }`),e.tabBackground&&l.push(`${n} .ts-generic-tabs li a { background-color: ${e.tabBackground}; }`),e.tabActiveBackground&&l.push(`${n} .ts-generic-tabs li.ts-tab-active a { background-color: ${e.tabActiveBackground}; }`),e.tabBorderType){const f=J({borderType:e.tabBorderType,borderWidth:e.tabBorderWidth,borderColor:e.tabBorderColor},`${n} .ts-generic-tabs li a`);f&&l.push(f)}if(e.tabActiveBorderColor&&l.push(`${n} .ts-generic-tabs li.ts-tab-active a { border-color: ${e.tabActiveBorderColor}; }`),e.tabsBorderRadius!==void 0&&l.push(`${n} .ts-generic-tabs li a { border-radius: ${e.tabsBorderRadius}px; }`),e.tabsBorderRadius_tablet!==void 0&&o.push(`${n} .ts-generic-tabs li a { border-radius: ${e.tabsBorderRadius_tablet}px; }`),e.tabsBorderRadius_mobile!==void 0&&i.push(`${n} .ts-generic-tabs li a { border-radius: ${e.tabsBorderRadius_mobile}px; }`),e.tabTextColorHover&&l.push(`${n} .ts-generic-tabs li a:hover { color: ${e.tabTextColorHover}; }`),e.tabActiveTextColorHover&&l.push(`${n} .ts-generic-tabs li.ts-tab-active a:hover { color: ${e.tabActiveTextColorHover}; }`),e.tabBorderColorHover&&l.push(`${n} .ts-generic-tabs li a:hover { border-color: ${e.tabBorderColorHover}; }`),e.tabActiveBorderColorHover&&l.push(`${n} .ts-generic-tabs li.ts-tab-active a:hover { border-color: ${e.tabActiveBorderColorHover}; }`),e.tabBackgroundHover&&l.push(`${n} .ts-generic-tabs li a:hover { background-color: ${e.tabBackgroundHover}; }`),e.tabActiveBackgroundHover&&l.push(`${n} .ts-generic-tabs li.ts-tab-active a:hover { background-color: ${e.tabActiveBackgroundHover}; }`),e.primaryBtnTypography){const f=F(e.primaryBtnTypography,`${n} .ts-btn-2`);f&&l.push(f)}e.primaryBtnRadius!==void 0&&l.push(`${n} .ts-btn-2 { border-radius: ${e.primaryBtnRadius}px; }`),e.primaryBtnRadius_tablet!==void 0&&o.push(`${n} .ts-btn-2 { border-radius: ${e.primaryBtnRadius_tablet}px; }`),e.primaryBtnRadius_mobile!==void 0&&i.push(`${n} .ts-btn-2 { border-radius: ${e.primaryBtnRadius_mobile}px; }`),e.primaryBtnTextColor&&l.push(`${n} .ts-btn-2 { color: ${e.primaryBtnTextColor}; }`);const C=$(e.primaryBtnPadding);C&&l.push(`${n} .ts-btn-2 { padding: ${C}; }`);const T=$(e.primaryBtnPadding_tablet);T&&o.push(`${n} .ts-btn-2 { padding: ${T}; }`);const b=$(e.primaryBtnPadding_mobile);if(b&&i.push(`${n} .ts-btn-2 { padding: ${b}; }`),e.primaryBtnHeight!==void 0&&e.primaryBtnHeight>0&&l.push(`${n} .ts-btn-2 { height: ${e.primaryBtnHeight}px; }`),e.primaryBtnHeight_tablet!==void 0&&e.primaryBtnHeight_tablet>0&&o.push(`${n} .ts-btn-2 { height: ${e.primaryBtnHeight_tablet}px; }`),e.primaryBtnHeight_mobile!==void 0&&e.primaryBtnHeight_mobile>0&&i.push(`${n} .ts-btn-2 { height: ${e.primaryBtnHeight_mobile}px; }`),e.primaryBtnBgColor&&l.push(`${n} .ts-btn-2 { background: ${e.primaryBtnBgColor}; }`),e.primaryBtnBorderType){const f=J({borderType:e.primaryBtnBorderType,borderWidth:e.primaryBtnBorderWidth,borderColor:e.primaryBtnBorderColor},`${n} .ts-btn-2`);f&&l.push(f)}if(e.primaryBtnIconSize!==void 0&&(l.push(`${n} .ts-btn-2 i { font-size: ${e.primaryBtnIconSize}px; }`),l.push(`${n} .ts-btn-2 svg { width: ${e.primaryBtnIconSize}px; height: ${e.primaryBtnIconSize}px; }`)),e.primaryBtnIconSize_tablet!==void 0&&(o.push(`${n} .ts-btn-2 i { font-size: ${e.primaryBtnIconSize_tablet}px; }`),o.push(`${n} .ts-btn-2 svg { width: ${e.primaryBtnIconSize_tablet}px; height: ${e.primaryBtnIconSize_tablet}px; }`)),e.primaryBtnIconSize_mobile!==void 0&&(i.push(`${n} .ts-btn-2 i { font-size: ${e.primaryBtnIconSize_mobile}px; }`),i.push(`${n} .ts-btn-2 svg { width: ${e.primaryBtnIconSize_mobile}px; height: ${e.primaryBtnIconSize_mobile}px; }`)),e.primaryBtnIconPad!==void 0&&l.push(`${n} .ts-btn-2 { grid-gap: ${e.primaryBtnIconPad}px; padding-right: 0px; }`),e.primaryBtnIconPad_tablet!==void 0&&o.push(`${n} .ts-btn-2 { grid-gap: ${e.primaryBtnIconPad_tablet}px; padding-right: 0px; }`),e.primaryBtnIconPad_mobile!==void 0&&i.push(`${n} .ts-btn-2 { grid-gap: ${e.primaryBtnIconPad_mobile}px; padding-right: 0px; }`),e.primaryBtnIconColor&&(l.push(`${n} .ts-btn-2 i { color: ${e.primaryBtnIconColor}; }`),l.push(`${n} .ts-btn-2 svg { fill: ${e.primaryBtnIconColor}; }`)),e.primaryBtnTextColorHover&&l.push(`${n} .ts-btn-2:hover { color: ${e.primaryBtnTextColorHover}; }`),e.primaryBtnBgColorHover&&l.push(`${n} .ts-btn-2:hover { background: ${e.primaryBtnBgColorHover}; }`),e.primaryBtnBorderColorHover&&l.push(`${n} .ts-btn-2:hover { border-color: ${e.primaryBtnBorderColorHover}; }`),e.primaryBtnIconColorHover&&(l.push(`${n} .ts-btn-2:hover i { color: ${e.primaryBtnIconColorHover}; }`),l.push(`${n} .ts-btn-2:hover svg { fill: ${e.primaryBtnIconColorHover}; }`)),e.secondaryBtnTypography){const f=F(e.secondaryBtnTypography,`${n} .ts-btn-1`);f&&l.push(f)}e.secondaryBtnRadius!==void 0&&l.push(`${n} .ts-btn-1 { border-radius: ${e.secondaryBtnRadius}px; }`),e.secondaryBtnRadius_tablet!==void 0&&o.push(`${n} .ts-btn-1 { border-radius: ${e.secondaryBtnRadius_tablet}px; }`),e.secondaryBtnRadius_mobile!==void 0&&i.push(`${n} .ts-btn-1 { border-radius: ${e.secondaryBtnRadius_mobile}px; }`),e.secondaryBtnTextColor&&l.push(`${n} .ts-btn-1 { color: ${e.secondaryBtnTextColor}; }`);const I=$(e.secondaryBtnPadding);I&&l.push(`${n} .ts-btn-1 { padding: ${I}; }`);const m=$(e.secondaryBtnPadding_tablet);m&&o.push(`${n} .ts-btn-1 { padding: ${m}; }`);const y=$(e.secondaryBtnPadding_mobile);if(y&&i.push(`${n} .ts-btn-1 { padding: ${y}; }`),e.secondaryBtnHeight!==void 0&&e.secondaryBtnHeight>0&&l.push(`${n} .ts-btn-1 { height: ${e.secondaryBtnHeight}px; }`),e.secondaryBtnHeight_tablet!==void 0&&e.secondaryBtnHeight_tablet>0&&o.push(`${n} .ts-btn-1 { height: ${e.secondaryBtnHeight_tablet}px; }`),e.secondaryBtnHeight_mobile!==void 0&&e.secondaryBtnHeight_mobile>0&&i.push(`${n} .ts-btn-1 { height: ${e.secondaryBtnHeight_mobile}px; }`),e.secondaryBtnBgColor&&l.push(`${n} .ts-btn-1 { background: ${e.secondaryBtnBgColor}; }`),e.secondaryBtnBorderType){const f=J({borderType:e.secondaryBtnBorderType,borderWidth:e.secondaryBtnBorderWidth,borderColor:e.secondaryBtnBorderColor},`${n} .ts-btn-1`);f&&l.push(f)}if(e.secondaryBtnIconSize!==void 0&&(l.push(`${n} .ts-btn-1 i { font-size: ${e.secondaryBtnIconSize}px; }`),l.push(`${n} .ts-btn-1 svg { width: ${e.secondaryBtnIconSize}px; height: ${e.secondaryBtnIconSize}px; }`)),e.secondaryBtnIconSize_tablet!==void 0&&(o.push(`${n} .ts-btn-1 i { font-size: ${e.secondaryBtnIconSize_tablet}px; }`),o.push(`${n} .ts-btn-1 svg { width: ${e.secondaryBtnIconSize_tablet}px; height: ${e.secondaryBtnIconSize_tablet}px; }`)),e.secondaryBtnIconSize_mobile!==void 0&&(i.push(`${n} .ts-btn-1 i { font-size: ${e.secondaryBtnIconSize_mobile}px; }`),i.push(`${n} .ts-btn-1 svg { width: ${e.secondaryBtnIconSize_mobile}px; height: ${e.secondaryBtnIconSize_mobile}px; }`)),e.secondaryBtnIconPad!==void 0&&l.push(`${n} .ts-btn-1 { grid-gap: ${e.secondaryBtnIconPad}px; padding-right: 0px; }`),e.secondaryBtnIconPad_tablet!==void 0&&o.push(`${n} .ts-btn-1 { grid-gap: ${e.secondaryBtnIconPad_tablet}px; padding-right: 0px; }`),e.secondaryBtnIconPad_mobile!==void 0&&i.push(`${n} .ts-btn-1 { grid-gap: ${e.secondaryBtnIconPad_mobile}px; padding-right: 0px; }`),e.secondaryBtnIconColor&&(l.push(`${n} .ts-btn-1 i { color: ${e.secondaryBtnIconColor}; }`),l.push(`${n} .ts-btn-1 svg { fill: ${e.secondaryBtnIconColor}; }`)),e.secondaryBtnTextColorHover&&l.push(`${n} .ts-btn-1:hover { color: ${e.secondaryBtnTextColorHover}; }`),e.secondaryBtnBgColorHover&&l.push(`${n} .ts-btn-1:hover { background: ${e.secondaryBtnBgColorHover}; }`),e.secondaryBtnBorderColorHover&&l.push(`${n} .ts-btn-1:hover { border-color: ${e.secondaryBtnBorderColorHover}; }`),e.secondaryBtnIconColorHover&&(l.push(`${n} .ts-btn-1:hover i { color: ${e.secondaryBtnIconColorHover}; }`),l.push(`${n} .ts-btn-1:hover svg { fill: ${e.secondaryBtnIconColorHover}; }`)),e.stickyEnabled){const f=(u,w,G,U,Q,z="px",te="sticky")=>{te==="sticky"?(u.push(`${n} { position: sticky; z-index: 100; }`),w!==void 0&&u.push(`${n} { top: ${w}${z}; }`),G!==void 0&&u.push(`${n} { right: ${G}${z}; }`),U!==void 0&&u.push(`${n} { bottom: ${U}${z}; }`),Q!==void 0&&u.push(`${n} { left: ${Q}${z}; }`)):u.push(`${n} { position: initial; }`)};f(l,e.stickyTop,e.stickyRight,e.stickyBottom,e.stickyLeft,e.stickyTopUnit||"px",e.stickyDesktop||"sticky"),f(o,e.stickyTop_tablet??e.stickyTop,e.stickyRight_tablet??e.stickyRight,e.stickyBottom_tablet??e.stickyBottom,e.stickyLeft_tablet??e.stickyLeft,e.stickyTopUnit||"px",e.stickyTablet||"sticky"),f(i,e.stickyTop_mobile??e.stickyTop,e.stickyRight_mobile??e.stickyRight,e.stickyBottom_mobile??e.stickyBottom,e.stickyLeft_mobile??e.stickyLeft,e.stickyTopUnit||"px",e.stickyMobile||"sticky")}let E="";return l.length>0&&(E+=l.join(`
`)),o.length>0&&(E+=`
@media (max-width: 1024px) {
${o.join(`
`)}
}`),i.length>0&&(E+=`
@media (max-width: 767px) {
${i.join(`
`)}
}`),E}function Te(){return`group_${Math.random().toString(36).substring(2,11)}`}function Se({attributes:e,setAttributes:r,clientId:l}){const o=e.blockId||l,i=V(()=>ae(e),[e]),n=V(()=>re(e,`.voxel-fse-membership-plans-${o}`),[e,o]),p=V(()=>ce(e,o),[e,o]),g=V(()=>[n,p].filter(Boolean).join(`
`),[n,p]),c=X({className:ie(`voxel-fse-membership-plans voxel-fse-membership-plans-${o}`,e),style:i}),[t,s]=k(null),[v,R]=k(!0),[d,x]=k(null),[C,T]=k("");return N(()=>{e.blockId||r({blockId:l})},[e.blockId,l,r]),N(()=>{let b=!1;async function I(){R(!0),x(null);try{const m=await me({path:"/voxel-fse/v1/membership-plans"});if(!b&&(s(m),e.priceGroups.length===0&&m.availablePlans.length>0)){const y=[{id:Te(),label:a("Monthly","voxel-fse"),prices:[],rowVisibility:"show",visibilityRules:[]}];r({priceGroups:y})}}catch(m){b||x(m instanceof Error?m.message:a("Failed to load plans data","voxel-fse"))}finally{b||R(!1)}}return I(),()=>{b=!0}},[]),N(()=>{!C&&e.priceGroups.length>0&&T(e.priceGroups[0].id)},[C,e.priceGroups]),React.createElement("div",{...c},g&&React.createElement("style",{dangerouslySetInnerHTML:{__html:g}}),React.createElement(de,null,React.createElement(he,{tabs:[{id:"content",label:a("Content","voxel-fse"),icon:"",render:()=>React.createElement(Re,{attributes:e,setAttributes:r,apiData:t})},{id:"style",label:a("Style","voxel-fse"),icon:"",render:()=>React.createElement(Ce,{attributes:e,setAttributes:r})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:r,activeTabAttribute:"activeTab"})),React.createElement(Ie,{attributes:e,apiData:t,isLoading:v,error:d,context:"editor",onTabChange:T}))}function we({attributes:e}){const r=e.blockId||"block",l=`.voxel-fse-membership-plans-${r}`,o=ae(e),i=re(e,l),n=ce(e,r),p=[i,n].filter(Boolean).join(`
`),g=Be(e.customAttributes),c=X.save({id:e.elementId||void 0,className:ie(`voxel-fse-membership-plans voxel-fse-membership-plans-${r}`,e),style:o,...g,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0}),t={priceGroups:e.priceGroups??[],planConfigs:e.planConfigs??{},arrowIcon:e.arrowIcon??O,style:{plansColumns:e.plansColumns??3,plansColumns_tablet:e.plansColumns_tablet,plansColumns_mobile:e.plansColumns_mobile,plansGap:e.plansGap??20,tabsDisabled:e.tabsDisabled??!1,tabsJustify:e.tabsJustify??"flex-start",pricingAlign:e.pricingAlign??"flex-start",contentAlign:e.contentAlign??"flex-start",descAlign:e.descAlign??"left",listAlign:e.listAlign??"flex-start"}};return React.createElement("div",{...c},p&&React.createElement("style",{dangerouslySetInnerHTML:{__html:p}}),xe(e,!1,void 0,void 0,l),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",padding:"40px 16px",minHeight:"200px",borderRadius:"8px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.4}},React.createElement("rect",{x:"4",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"4",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"4",y:"16",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"16",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"16",width:"4",height:"4",rx:"0.5"}))))}const ke="voxel-fse/membership-plans",He={name:ke};se(He.name,{icon:$e,edit:Se,save:we});
