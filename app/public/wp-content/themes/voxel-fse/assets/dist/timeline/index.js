var Or=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{registerBlockType as Tr}from"@wordpress/blocks";import{useBlockProps as Ca,InspectorControls as Lr}from"@wordpress/block-editor";import{__ as ae}from"@wordpress/i18n";import te,{useState as V,createContext as Yr,useContext as Ir,useCallback as x,useEffect as ce,useRef as ne,useMemo as Pe,Fragment as wn,useLayoutEffect as jr,forwardRef as Pr,useImperativeHandle as Fr}from"react";import{A as Ar,a as sa,e as ia,E as Hr}from"../TypographyPopup-CAcEJ5NA.js";import{I as Wr}from"../InspectorTabs-Bq2wAh4W.js";import{SelectControl as kn,TextControl as oa,ToggleControl as Vr}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-C7JnAhZL.js";import{I as Re}from"../IconPickerControl-Lep6knGI.js";import{R as Ur,g as $r,L as Br}from"../RepeaterControl-B_ulBkEL.js";import{g as Ra,a as Zr}from"../siteUrl-7x5eJEvc.js";import{createPortal as Gr}from"react-dom";import{M as zr}from"../MediaPopup-CXePoOCG.js";import"../voxelShim-DB_Ue-9R.js";import{g as qr}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as Jr}from"../backgroundElements-Ui-iCrLV.js";import{V as Xr}from"../VoxelGridIcon-D5dF5acW.js";import"../FormPopup-DDYHzYWU.js";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";var Vu=Or((md,qt)=>{function Qr(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function a(){var r=!1;try{r=this instanceof a}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}),n}const Kr=[{value:"post_reviews",label:"Current post reviews"},{value:"post_wall",label:"Current post wall"},{value:"post_timeline",label:"Current post timeline"},{value:"author_timeline",label:"Current author timeline"},{value:"user_feed",label:"Logged-in user newsfeed"},{value:"global_feed",label:"Sitewide activity"}],es=[{value:"latest",label:"Latest"},{value:"earliest",label:"Earliest"},{value:"most_liked",label:"Most liked"},{value:"most_discussed",label:"Most discussed"},{value:"most_popular",label:"Most popular (likes+comments)"},{value:"best_rated",label:"Best rated (reviews only)"},{value:"worst_rated",label:"Worst rated (reviews only)"}],ts=[{value:"today",label:"Today"},{value:"this_week",label:"This week"},{value:"this_month",label:"This month"},{value:"this_year",label:"This year"},{value:"all_time",label:"All time"},{value:"custom",label:"Custom"}];function ns({attributes:e,setAttributes:t}){const[n,a]=V({isOpen:!1,itemId:null,rules:[]});return React.createElement(React.Fragment,null,React.createElement(Ar,{attributes:e,setAttributes:t,stateAttribute:"contentTabOpenPanel",defaultPanel:"timeline-settings"},React.createElement(sa,{id:"timeline-settings",title:ae("Timeline settings","voxel-fse")},React.createElement(kn,{label:ae("Display mode","voxel-fse"),value:e.mode,options:Kr,onChange:r=>t({mode:r})}),React.createElement(Ur,{label:ae("Ordering options","voxel-fse"),items:e.orderingOptions??[],onChange:r=>t({orderingOptions:r}),getItemLabel:r=>r.label||"Untitled",createItem:()=>({_id:$r(),order:"latest",time:"all_time",timeCustom:7,label:"Latest",rowVisibility:"show",visibilityRules:[]}),renderContent:({item:r,onUpdate:s})=>React.createElement(React.Fragment,null,React.createElement(kn,{label:ae("Order","voxel-fse"),value:r.order,options:es,onChange:i=>s({order:i})}),React.createElement(kn,{label:ae("Timeframe","voxel-fse"),value:r.time,options:ts,onChange:i=>s({time:i})}),r.time==="custom"&&React.createElement(oa,{type:"number",label:ae("Show items from the past number of days","voxel-fse"),value:String(r.timeCustom),onChange:i=>s({timeCustom:Math.max(1,Math.min(365,parseInt(i,10)||7))}),min:1,max:365}),React.createElement(ia,{label:ae("Label","voxel-fse"),value:r.label,onChange:i=>s({label:i})}),React.createElement(Br,{itemId:r._id,rowVisibility:r.rowVisibility||"show",visibilityRules:r.visibilityRules||[],onRowVisibilityChange:i=>s({rowVisibility:i}),onEditVisibilityRules:()=>{a({isOpen:!0,itemId:r._id,rules:r.visibilityRules||[]})},onClearVisibilityRules:()=>s({visibilityRules:[]}),showLoopSection:!1,inlineVisibilityLayout:!1})),addButtonText:ae("Add Item","voxel-fse"),showClone:!0,showDelete:!0}),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(oa,{label:ae("No posts text","voxel-fse"),value:e.noStatusText,onChange:r=>t({noStatusText:r}),placeholder:ae("Type your text","voxel-fse")})),React.createElement(Vr,{label:ae("Enable search input","voxel-fse"),checked:e.searchEnabled,onChange:r=>t({searchEnabled:r})}),e.searchEnabled&&React.createElement(ia,{label:ae("Default search value","voxel-fse"),value:e.searchValue,onChange:r=>t({searchValue:r}),placeholder:ae("@tags()@site().query_var(q)@endtags()","voxel-fse")})),React.createElement(sa,{id:"timeline-icons",title:ae("Timeline icons","voxel-fse")},React.createElement(Re,{label:ae("Verified","voxel-fse"),value:e.verifiedIcon||void 0,onChange:r=>t({verifiedIcon:r})}),React.createElement(Re,{label:ae("Repost","voxel-fse"),value:e.repostIcon||void 0,onChange:r=>t({repostIcon:r})}),React.createElement(Re,{label:ae("More","voxel-fse"),value:e.moreIcon||void 0,onChange:r=>t({moreIcon:r})}),React.createElement(Re,{label:ae("Like","voxel-fse"),value:e.likeIcon||void 0,onChange:r=>t({likeIcon:r})}),React.createElement(Re,{label:ae("Liked","voxel-fse"),value:e.likedIcon||void 0,onChange:r=>t({likedIcon:r})}),React.createElement(Re,{label:ae("Comment","voxel-fse"),value:e.commentIcon||void 0,onChange:r=>t({commentIcon:r})}),React.createElement(Re,{label:ae("Reply","voxel-fse"),value:e.replyIcon||void 0,onChange:r=>t({replyIcon:r})}),React.createElement(Re,{label:ae("Gallery","voxel-fse"),value:e.galleryIcon||void 0,onChange:r=>t({galleryIcon:r})}),React.createElement(Re,{label:ae("Upload","voxel-fse"),value:e.uploadIcon||void 0,onChange:r=>t({uploadIcon:r})}),React.createElement(Re,{label:ae("Emoji","voxel-fse"),value:e.emojiIcon||void 0,onChange:r=>t({emojiIcon:r})}),React.createElement(Re,{label:ae("Search","voxel-fse"),value:e.searchIcon||void 0,onChange:r=>t({searchIcon:r})}),React.createElement(Re,{label:ae("Delete","voxel-fse"),value:e.trashIcon||void 0,onChange:r=>t({trashIcon:r})}),React.createElement(Re,{label:ae("External link","voxel-fse"),value:e.externalIcon||void 0,onChange:r=>t({externalIcon:r})}),React.createElement(Re,{label:ae("Load more","voxel-fse"),value:e.loadMoreIcon||void 0,onChange:r=>t({loadMoreIcon:r})}),React.createElement(Re,{label:ae("No posts","voxel-fse"),value:e.noPostsIcon||void 0,onChange:r=>t({noPostsIcon:r})}))),n.isOpen&&React.createElement(Hr,{isOpen:n.isOpen,onClose:()=>a({isOpen:!1,itemId:null,rules:[]}),rules:n.rules,onSave:r=>{const s=e.orderingOptions.map(i=>i._id===n.itemId?{...i,visibilityRules:r}:i);t({orderingOptions:s}),a({isOpen:!1,itemId:null,rules:[]})}}))}class _e extends Error{constructor(t,n,a,r){super(t),this.name="VoxelApiError",this.code=n,this.status=a,this.data=r}}function as(){return window.voxelFseConfig?.restUrl?window.voxelFseConfig.restUrl:window.wpApiSettings?.root?window.wpApiSettings.root:"/wp-json/"}function rs(){return window.voxelFseConfig?.nonce?window.voxelFseConfig.nonce:window.wpApiSettings?.nonce?window.wpApiSettings.nonce:""}function xa(e,t){const n=as(),a=new URL(e,n);return t&&Object.entries(t).forEach(([r,s])=>{s!=null&&a.searchParams.append(r,String(s))}),a.toString()}async function Ea(e,t={}){const{method:n="GET",body:a,headers:r={},signal:s}=t,i=rs(),c={...r};i&&(c["X-WP-Nonce"]=i);const u={method:n,headers:c,credentials:"same-origin",signal:s};a&&n!=="GET"&&(a instanceof FormData?u.body=a:(c["Content-Type"]="application/json",u.body=JSON.stringify(a)));const f=xa(e);try{const g=await fetch(f,u),d=await g.json();if(!g.ok)throw new _e(d.message||`HTTP ${g.status}`,d.code||"http_error",g.status,d);if(d.success===!1)throw new _e(d.message||"Request failed",d.code||"api_error",g.status,d);return d.data}catch(g){throw g instanceof _e?g:g instanceof TypeError&&g.message.includes("fetch")?new _e("Network error. Please check your connection.","network_error",0):g instanceof DOMException&&g.name==="AbortError"?new _e("Request was cancelled","abort_error",0):new _e(g instanceof Error?g.message:"Unknown error","unknown_error",0,g)}}async function ba(e,t,n){const a=t?xa(e,t):e;return Ea(a,{...n,method:"GET"})}async function ss(e,t,n){return Ea(e,{...n,method:"POST",body:t})}async function In(e,t={},n={}){const a=Object.entries(t).filter(([i,c])=>c!=null&&c!=="").map(([i,c])=>`${encodeURIComponent(i)}=${encodeURIComponent(String(c))}`),s=`${Ra().replace("?vx=1","").replace(/\/$/,"")}/?vx=1&action=${e}${a.length?"&"+a.join("&"):""}`;console.log("[voxelAjax] Calling:",s);try{const i=await fetch(s,{method:"GET",credentials:"same-origin",signal:n.signal});if(!i.ok)throw new _e(`Voxel AJAX failed: HTTP ${i.status}`,"http_error",i.status);const c=await i.json();if(console.log("[voxelAjax] Response:",c),c.success===!1)throw new _e(c.message||"Voxel AJAX request failed",c.code||"voxel_error",i.status,c);return c}catch(i){throw i instanceof _e?i:i instanceof DOMException&&i.name==="AbortError"?new _e("Request was cancelled","abort_error",0):i instanceof TypeError?new _e("Network error. Please check your connection.","network_error",0):new _e(i instanceof Error?i.message:"Unknown error","unknown_error",0,i)}}async function Se(e,t={},n={}){const r=`${Ra().replace("?vx=1","").replace(/\/$/,"")}/?vx=1&action=${e}`,s=new FormData;Object.entries(t).forEach(([i,c])=>{c!=null&&c!==""&&s.append(i,String(c))}),console.log("[voxelAjaxPost] Calling:",r,"with params:",t);try{const i=await fetch(r,{method:"POST",credentials:"same-origin",body:s,signal:n.signal});if(!i.ok)throw new _e(`Voxel AJAX POST failed: HTTP ${i.status}`,"http_error",i.status);const c=await i.json();if(console.log("[voxelAjaxPost] Response:",c),c.success===!1)throw new _e(c.message||"Voxel AJAX POST request failed",c.code||"voxel_error",i.status,c);return c}catch(i){throw i instanceof _e?i:i instanceof DOMException&&i.name==="AbortError"?new _e("Request was cancelled","abort_error",0):i instanceof TypeError?new _e("Network error. Please check your connection.","network_error",0):new _e(i instanceof Error?i.message:"Unknown error","unknown_error",0,i)}}const tn="voxel-fse/v1/timeline";async function is(){return ba(`${tn}/config`)}async function os(e,t){const n={mode:e};return t&&(n.post_id=t),ba(`${tn}/post-context`,n)}async function ls(e,t){const n={feed:e.feed,post_id:e.post_id??null,content:e.content,files:e.files??[],rating:e.rating??{}};return e.link_preview&&(n.link_preview=e.link_preview),(await Se("timeline/v2/status.publish",{data:JSON.stringify(n),_wpnonce:t})).status}async function cs(e,t){const n={status_id:e.status_id,content:e.content,files:e.files??[],rating:e.rating??{}};return(await Se("timeline/v2/status.edit",{data:JSON.stringify(n),_wpnonce:t})).status}async function us(e,t){return{deleted:(await Se("timeline/v2/status.delete",{status_id:e,_wpnonce:t})).success!==!1}}async function ds(e,t){return Se("timeline/v2/status.like",{status_id:e,_wpnonce:t})}async function fs(e,t){return Se("timeline/v2/status.repost",{status_id:e,_wpnonce:t})}async function ms(e,t){const n={status_id:e.quote_of,content:e.content,files:e.files??[]};return(await Se("timeline/v2/status.quote",{data:JSON.stringify(n),_wpnonce:t})).status}async function hs(e){return ss(`${tn}/status/${e}/remove-link-preview`)}async function ps(e,t){return Se("timeline/v2/status.mark_approved",{status_id:e,_wpnonce:t})}async function gs(e,t){return Se("timeline/v2/status.mark_pending",{status_id:e,_wpnonce:t})}async function vs(e){return In("timeline/v2/get_feed",{mode:e.mode,order_type:e.order,order_time:e.time,order_time_custom:e.time_custom,search:e.search,filter_by:e.filter,page:e.page,post_id:e.post_id,user_id:e.author_id,status_id:e.status_id})}async function _s(e,t){const n={status_id:e.status_id,parent_id:e.parent_id??null,content:e.content,files:e.files??[]};return(await Se("timeline/v2/comment.publish",{data:JSON.stringify(n),_wpnonce:t})).comment}async function ys(e,t){return{deleted:(await Se("timeline/v2/comment.delete",{comment_id:e,_wpnonce:t})).success!==!1}}async function ws(e,t){return Se("timeline/v2/comment.like",{comment_id:e,_wpnonce:t})}async function ks(e,t){return(await Se("timeline/v2/comment.mark_approved",{comment_id:e,_wpnonce:t})).comment}async function Cs(e,t){return(await Se("timeline/v2/comment.mark_pending",{comment_id:e,_wpnonce:t})).comment}async function Rs(e){return In("timeline/v2/comments/get_feed",{status_id:e.status_id,parent_id:e.parent_id,reply_id:e.reply_id,page:e.page,mode:e.mode})}async function xs(e,t){return new Promise((n,a)=>{const r=new FormData;r.append("file",e);const s=new XMLHttpRequest;t&&s.upload.addEventListener("progress",u=>{if(u.lengthComputable){const f=Math.round(u.loaded/u.total*100);t(f)}}),s.addEventListener("load",()=>{if(s.status>=200&&s.status<300)try{const u=JSON.parse(s.responseText);u.success?n(u.data):a(new Error(u.message||"Upload failed"))}catch{a(new Error("Invalid response from server"))}else a(new Error(`Upload failed with status ${s.status}`))}),s.addEventListener("error",()=>{a(new Error("Network error during upload"))}),s.addEventListener("abort",()=>{a(new Error("Upload cancelled"))});const i=window.wpApiSettings?.nonce||window.voxelFseConfig?.nonce||"",c=Zr();s.open("POST",`${c}${tn}/upload`),s.setRequestHeader("X-WP-Nonce",i),s.send(r)})}async function Es(e,t,n){try{return(await In("timeline.get_link_preview",{url:e,_wpnonce:t},{signal:n})).preview??null}catch{return null}}const bs={config:null,postContext:null,attributes:{},context:"frontend",isLoading:!0,error:null,refetch:async()=>{}},Ma=Yr(bs);let Vt=null,ht=null;const Cn=new Map;function Ms({attributes:e,postId:t,context:n="frontend",children:a}){const[r,s]=V(Vt),[i,c]=V(null),[u,f]=V(!0),[g,d]=V(null),w=`${e.mode}:${t??"none"}`,E=x(async()=>{f(!0),d(null);try{let h=Vt;if(h||(ht?h=await ht:(ht=is(),h=await ht,Vt=h,ht=null)),s(h),n==="editor")c({visible:!0,reason:null,composer:{feed:e.mode==="post_reviews"?"post_reviews":"user_timeline",can_post:!0,post_as:"current_user",placeholder:"What's on your mind?"},reviews:null,current_post:null,current_author:null,filtering_options:{all:"All"},show_usernames:!0});else{let y=Cn.get(w);if(!y){const p=await os(e.mode,t);y={visible:p.visible,reason:p.reason,composer:p.composer,reviews:p.reviews,current_post:p.current_post,current_author:p.current_author,filtering_options:p.filtering_options,show_usernames:p.show_usernames},Cn.set(w,y)}c(y)}}catch(h){d(h instanceof Error?h.message:"Failed to load configuration")}finally{f(!1)}},[e.mode,t,w,n]),b=x(async()=>{Vt=null,ht=null,Cn.delete(w),await E()},[E,w]);ce(()=>{E()},[E]);const v={config:r,postContext:i,attributes:e,context:n,isLoading:u,error:g,refetch:b};return React.createElement(Ma.Provider,{value:v},a)}function $e(){const e=Ir(Ma);if(!e)throw new Error("useTimelineContext must be used within a TimelineProvider");return e}function et(){const{config:e,isLoading:t,error:n,refetch:a}=$e();return{config:e,isLoading:t,error:n,refetch:a}}function Sa(){const{attributes:e}=$e();return e}function kt(){const{config:e}=$e();return e?.current_user??null}function Ss(){const{config:e}=$e();return e?.permissions??{can_post:!1,can_upload:!1,can_moderate:!1,is_logged_in:!1}}function Ds(){const{postContext:e,context:t}=$e();return t==="editor"?{visible:!0,reason:null}:e?{visible:e.visible,reason:e.reason}:{visible:!0,reason:null}}function Ns(){const{postContext:e,context:t}=$e();return t==="editor"?{feed:"user_timeline",can_post:!0,post_as:"current_user",placeholder:"What's on your mind?"}:e?.composer??null}function Os(){const{postContext:e}=$e();return e?.filtering_options??{all:"All"}}function Ct(){const{config:e}=$e();return e?.strings?e.strings:{compose_placeholder:"What's on your mind?",compose_submit:"Post",compose_submitting:"Posting...",like:"Like",unlike:"Unlike",comment:"Comment",comments:"Comments",reply:"Reply",replies:"Replies",repost:"Repost",unrepost:"Unrepost",quote:"Quote",edit:"Edit",delete:"Delete",share:"Share",loading:"Loading...",load_more:"Load more",no_posts:"No posts available",no_comments:"No comments yet",error_generic:"Something went wrong",error_network:"Network error. Please try again.",just_now:"Just now",minutes_ago:"%d minutes ago",hours_ago:"%d hours ago",days_ago:"%d days ago",edited:"Edited",pending_approval:"Pending approval",approve:"Approve",mark_pending:"Mark as pending",delete_confirm:"Are you sure you want to delete this post?",delete_comment_confirm:"Are you sure you want to delete this comment?",content_too_short:"Content is too short",content_too_long:"Content is too long",file_too_large:"File is too large",file_type_not_allowed:"File type not allowed",search_placeholder:"Search posts...",search_no_results:"No results found"}}const Ts={mode:"user_feed",order:"latest",time:"all_time"};function Ls(e="user_feed",t={},n={}){const[a,r]=V({...Ts,...t,mode:e}),[s,i]=V({statuses:[],isLoading:!0,isLoadingMore:!1,hasMore:!0,error:null,page:1}),c=ne(!0),u=ne(null),f=ne(e),[g,d]=V(!1),w=ne(null),E=3e4,b=x(k=>{const Y={mode:e,order:a.order,time:a.time,time_custom:a.timeCustom,search:a.search,filter:a.filter,post_id:a.postId,author_id:a.authorId,page:k};return console.log("[useStatusFeed] Building feed params:",Y),Y},[e,a.order,a.time,a.timeCustom,a.search,a.filter,a.postId,a.authorId]),v=x(async(k,Y=!1)=>{u.current&&u.current.abort(),u.current=new AbortController,i(Y?q=>({...q,isLoadingMore:!0,error:null}):q=>({...q,isLoading:!0,error:null,statuses:[],page:1}));try{const q=b(k),Q=await vs(q);if(!c.current)return;const re=Array.isArray(Q)?Q:Array.isArray(Q?.data)?Q.data:[],le=Array.isArray(Q)?!1:Q?.has_more??!1;i(H=>({...H,statuses:Y?[...H.statuses,...re]:re,hasMore:le,page:k,isLoading:!1,isLoadingMore:!1}))}catch(q){if(!c.current||q instanceof Error&&q.name==="AbortError")return;i(Q=>({...Q,isLoading:!1,isLoadingMore:!1,error:q instanceof Error?q.message:"Failed to load feed"}))}},[b]),h=x(async()=>{s.isLoadingMore||!s.hasMore||await v(s.page+1,!0)},[s.isLoadingMore,s.hasMore,s.page,v]),y=x(async()=>{await v(1,!1)},[v]),p=x(k=>{r(Y=>({...Y,...k,mode:e}))},[e]),C=x(k=>{i(Y=>({...Y,statuses:[k,...Y.statuses]}))},[]),S=x(k=>{i(Y=>({...Y,statuses:Y.statuses.map(q=>q.id===k.id?k:q)}))},[]),P=x(k=>{i(Y=>({...Y,statuses:Y.statuses.filter(q=>q.id!==k)}))},[]);ce(()=>{f.current!==e&&(console.log("[useStatusFeed] Mode changed:",{from:f.current,to:e,willRefetch:!0}),f.current=e,r(k=>({...k,mode:e})),v(1,!1))},[e,v]),ce(()=>{v(1,!1)},[]),ce(()=>{f.current===e&&v(1,!1)},[a.order,a.time,a.timeCustom,a.search,a.filter]);const $=x((k=E)=>{w.current||(d(!0),console.log(`[useStatusFeed] Starting polling every ${k}ms`),w.current=setInterval(()=>{!s.isLoading&&!s.isLoadingMore&&(console.log("[useStatusFeed] Polling refresh"),v(1,!1))},k))},[v,s.isLoading,s.isLoadingMore]),L=x(()=>{w.current&&(clearInterval(w.current),w.current=null,d(!1),console.log("[useStatusFeed] Stopped polling"))},[]);return ce(()=>(n.enabled&&n.intervalMs&&$(n.intervalMs),()=>L()),[n.enabled,n.intervalMs,$,L]),ce(()=>(c.current=!0,()=>{c.current=!1,u.current&&u.current.abort(),w.current&&clearInterval(w.current)}),[]),{statuses:s.statuses,isLoading:s.isLoading,isLoadingMore:s.isLoadingMore,hasMore:s.hasMore,error:s.error,loadMore:h,refresh:y,setFilters:p,addStatus:C,updateStatus:S,removeStatus:P,startPolling:$,stopPolling:L,isPolling:g,filters:{...a,mode:e}}}function Ys(e,t,n){const{config:a}=et(),r=kt(),[s,i]=V({isLiking:!1,isReposting:!1,isDeleting:!1,isApproving:!1,isMarkingPending:!1,isRemovingPreview:!1}),[c,u]=V({}),f=ne({}),g=x(()=>{u({}),f.current={}},[]);ce(()=>{const y=P=>{const{action:$}=P.detail,L=c.current_user?.has_liked??e.current_user.has_liked,k=c.likes?.count??e.likes.count,Y=c.likes?.last3??e.likes.last3??[];if($==="like"&&L||$==="unlike"&&!L)return;const q=$==="like",Q=Math.max(0,k+(q?1:-1));let re=[...Y];q&&r?(re.unshift({id:r.id,type:"user",display_name:r.display_name,link:r.link??"",avatar_url:r.avatar_url}),re=re.slice(0,3)):!q&&r&&(re=re.filter(le=>!(le.type==="user"&&le.id===r.id))),u(le=>({...le,likes:{...e.likes,count:Q,last3:re},current_user:{...le.current_user??e.current_user,has_liked:q}}))},p=P=>{const{action:$}=P.detail,L=$==="repost";u(k=>({...k,current_user:{...k.current_user??e.current_user,has_reposted:L}}))},C=`voxel/tl/status/${e.id}/like`,S=`voxel/tl/status/${e.id}/repost`;return document.addEventListener(C,y),document.addEventListener(S,p),()=>{document.removeEventListener(C,y),document.removeEventListener(S,p)}},[e.id,e.current_user,e.likes,c,r]);const d=x(async()=>{if(s.isLiking)return{success:!1,message:"Action in progress"};const y=a?.nonces?.status_like;if(!y)return{success:!1,message:"Configuration not loaded"};const p=c.current_user?.has_liked??e.current_user.has_liked;c.likes?.count??e.likes.count,c.likes?.last3??e.likes.last3,f.current={likes:c.likes??{...e.likes},current_user:c.current_user??{...e.current_user}};const C=p?"unlike":"like";document.dispatchEvent(new CustomEvent(`voxel/tl/status/${e.id}/like`,{detail:{action:C}})),i(S=>({...S,isLiking:!0}));try{return await ds(e.id,y)}catch(S){const P=C==="unlike"?"like":"unlike";return document.dispatchEvent(new CustomEvent(`voxel/tl/status/${e.id}/like`,{detail:{action:P}})),{success:!1,message:S instanceof Error?S.message:"Failed to like status"}}finally{i(S=>({...S,isLiking:!1}))}},[e,c,s.isLiking,a?.nonces?.status_like]),w=x(async()=>{if(s.isReposting)return{success:!1,message:"Action in progress",action:"repost"};const y=a?.nonces?.status_repost;if(!y)return{success:!1,message:"Configuration not loaded",action:"repost"};const p=c.current_user?.has_reposted??e.current_user.has_reposted;f.current={current_user:c.current_user??{...e.current_user}};const C=p?"unrepost":"repost";document.dispatchEvent(new CustomEvent(`voxel/tl/status/${e.id}/repost`,{detail:{action:C}})),i(S=>({...S,isReposting:!0}));try{return await fs(e.id,y)}catch(S){const P=C==="unrepost"?"repost":"unrepost";return document.dispatchEvent(new CustomEvent(`voxel/tl/status/${e.id}/repost`,{detail:{action:P}})),{success:!1,message:S instanceof Error?S.message:"Failed to repost",action:"repost"}}finally{i(S=>({...S,isReposting:!1}))}},[e,c,s.isReposting,a?.nonces?.status_repost]),E=x(async()=>{if(s.isDeleting)return!1;const y=a?.nonces?.status_delete??a?.nonces?.status_edit??"";if(!y)return console.error("[handleDelete] No nonce available for delete"),!1;i(p=>({...p,isDeleting:!0}));try{const p=await us(e.id,y);return p.deleted&&n&&n(e.id),p.deleted}catch(p){return console.error("[handleDelete] Error:",p),!1}finally{i(p=>({...p,isDeleting:!1}))}},[e.id,s.isDeleting,n,a?.nonces?.status_delete,a?.nonces?.status_edit]),b=x(async()=>{if(s.isApproving)return null;const y=a?.nonces?.status_edit??a?.nonces?.status_moderate??"";if(!y)return console.error("[handleApprove] No nonce available for moderation"),null;i(p=>({...p,isApproving:!0}));try{const p=await ps(e.id,y);if(p.success&&t){const C={...e,is_pending:!1,badges:p.badges||[]};return t(C),C}return null}catch(p){return console.error("[handleApprove] Error:",p),null}finally{i(p=>({...p,isApproving:!1}))}},[e,s.isApproving,a?.nonces?.status_edit,a?.nonces?.status_moderate,t]),v=x(async()=>{if(s.isMarkingPending)return null;const y=a?.nonces?.status_edit??a?.nonces?.status_moderate??"";if(!y)return console.error("[handleMarkPending] No nonce available for moderation"),null;i(p=>({...p,isMarkingPending:!0}));try{const p=await gs(e.id,y);if(p.success&&t){const C={...e,is_pending:!0,badges:p.badges||[]};return t(C),C}return null}catch(p){return console.error("[handleMarkPending] Error:",p),null}finally{i(p=>({...p,isMarkingPending:!1}))}},[e,s.isMarkingPending,a?.nonces?.status_edit,a?.nonces?.status_moderate,t]),h=x(async()=>{if(s.isRemovingPreview)return!1;f.current={link_preview:e.link_preview},u(y=>({...y,link_preview:null})),i(y=>({...y,isRemovingPreview:!0}));try{return(await hs(e.id)).removed}catch{return u(p=>({...p,link_preview:f.current.link_preview})),!1}finally{i(y=>({...y,isRemovingPreview:!1}))}},[e.id,e.link_preview,s.isRemovingPreview]);return{actionState:s,optimisticStatus:c,handleLike:d,handleRepost:w,handleDelete:E,handleApprove:b,handleMarkPending:v,handleRemoveLinkPreview:h,resetOptimisticState:g}}function Is(e,t,n=!0){const[a,r]=V({comments:[],isLoading:n,isLoadingMore:!1,hasMore:!0,error:null,page:1}),s=ne(!0),i=ne(null),c=ne(!1),u=x(v=>({status_id:e,parent_id:t,page:v}),[e,t]),f=x(async(v,h=!1)=>{i.current&&i.current.abort(),i.current=new AbortController,r(h?y=>({...y,isLoadingMore:!0,error:null}):y=>({...y,isLoading:!0,error:null,comments:[],page:1}));try{const y=u(v);console.log("[useCommentFeed] Fetching comments:",y);const p=await Rs(y);if(!s.current)return;const C=Array.isArray(p)?p:Array.isArray(p?.data)?p.data:[],S=Array.isArray(p)?!1:p?.has_more??!1;console.log("[useCommentFeed] Got comments:",{count:C.length,hasMore:S}),r(P=>({...P,comments:h?[...P.comments,...C]:C,hasMore:S,page:v,isLoading:!1,isLoadingMore:!1}))}catch(y){if(!s.current||y instanceof Error&&y.name==="AbortError")return;console.error("[useCommentFeed] Error fetching comments:",y),r(p=>({...p,isLoading:!1,isLoadingMore:!1,error:y instanceof Error?y.message:"Failed to load comments"}))}},[u]),g=x(async()=>{a.isLoadingMore||!a.hasMore||await f(a.page+1,!0)},[a.isLoadingMore,a.hasMore,a.page,f]),d=x(async()=>{await f(1,!1)},[f]),w=x(v=>{r(h=>({...h,comments:[...h.comments,v]}))},[]),E=x(v=>{r(h=>({...h,comments:h.comments.map(y=>y.id===v.id?v:y)}))},[]),b=x(v=>{r(h=>({...h,comments:h.comments.filter(y=>y.id!==v)}))},[]);return ce(()=>{n&&!c.current&&(c.current=!0,f(1,!1))},[n,f]),ce(()=>{c.current&&f(1,!1)},[e,t]),ce(()=>(s.current=!0,()=>{s.current=!1,i.current&&i.current.abort()}),[]),{comments:a.comments,isLoading:a.isLoading,isLoadingMore:a.isLoadingMore,hasMore:a.hasMore,error:a.error,loadMore:g,refresh:d,addComment:w,updateComment:E,removeComment:b}}function js(e,t,n){const{config:a}=et(),r=kt(),[s,i]=V({isLiking:!1,isDeleting:!1,isApproving:!1}),[c,u]=V({}),f=ne({}),g=x(()=>{u({}),f.current={}},[]),d=x(async()=>{if(s.isLiking)return{success:!1,message:"Action in progress"};const v=a?.nonces?.comment_like;if(!v)return{success:!1,message:"Configuration not loaded"};const h=c.current_user?.has_liked??e.current_user.has_liked,y=c.likes?.count??e.likes.count,p=c.likes?.last3??e.likes.last3??[];f.current={likes:c.likes??{...e.likes},current_user:c.current_user??{...e.current_user}};const C=!h,S=Math.max(0,y+(C?1:-1));let P=[...p];C&&r?(P.unshift({id:r.id,type:"user",display_name:r.display_name,link:r.link??"",avatar_url:r.avatar_url}),P=P.slice(0,3)):!C&&r&&(P=P.filter(k=>!(k.type==="user"&&k.id===r.id)));const $={...e.likes,count:S,last3:P},L={...e.current_user,has_liked:C};u(k=>({...k,likes:$,current_user:L})),i(k=>({...k,isLiking:!0}));try{return await ws(e.id,v)}catch(k){return u(Y=>({...Y,likes:f.current.likes,current_user:f.current.current_user})),{success:!1,message:k instanceof Error?k.message:"Failed to like comment"}}finally{i(k=>({...k,isLiking:!1}))}},[e,c,s.isLiking,a?.nonces?.comment_like,r]),w=x(async()=>{if(s.isDeleting)return!1;const v=a?.nonces?.comment_delete;if(!v)return console.error("[useCommentActions] No comment_delete nonce available"),!1;i(h=>({...h,isDeleting:!0}));try{const h=await ys(e.id,v);return h.deleted&&n&&n(e.id),h.deleted}catch(h){return console.error("[useCommentActions] Delete failed:",h),!1}finally{i(h=>({...h,isDeleting:!1}))}},[e.id,s.isDeleting,a?.nonces?.comment_delete,n]),E=x(async()=>{if(s.isApproving)return null;const v=a?.nonces?.comment_edit;if(!v)return console.error("[useCommentActions] No comment_edit nonce available"),null;i(h=>({...h,isApproving:!0}));try{const h=await ks(e.id,v);return t&&t(h),h}catch(h){return console.error("[useCommentActions] Approve failed:",h),null}finally{i(h=>({...h,isApproving:!1}))}},[e.id,s.isApproving,a?.nonces?.comment_edit,t]),b=x(async()=>{if(s.isApproving)return null;const v=a?.nonces?.comment_edit;if(!v)return console.error("[useCommentActions] No comment_edit nonce available"),null;i(h=>({...h,isApproving:!0}));try{const h=await Cs(e.id,v);return t&&t(h),h}catch(h){return console.error("[useCommentActions] Mark pending failed:",h),null}finally{i(h=>({...h,isApproving:!1}))}},[e.id,s.isApproving,a?.nonces?.comment_edit,t]);return{actionState:s,optimisticComment:c,handleLike:d,handleDelete:w,handleApprove:E,handleMarkPending:b,resetOptimisticState:g}}const Ps={maxFiles:5,maxFileSize:2*1024*1024,allowedTypes:["image/jpeg","image/png","image/gif","image/webp"],allowedExtensions:["jpg","jpeg","png","gif","webp"]};function Fs(){return`upload-${Date.now()}-${Math.random().toString(36).slice(2,9)}`}function As(e){return e.split(".").pop()?.toLowerCase()||""}function Da(e={}){const t={...Ps,...e},[n,a]=V([]),[r,s]=V([]),i=ne(new Map),c=x(v=>{if(v.size>t.maxFileSize)return{valid:!1,error:`File is too large. Maximum size is ${(t.maxFileSize/1048576).toFixed(1)}MB.`};if(!t.allowedTypes.includes(v.type))return{valid:!1,error:`File type "${v.type}" is not allowed.`};const h=As(v.name);return t.allowedExtensions.includes(h)?{valid:!0}:{valid:!1,error:`File extension ".${h}" is not allowed.`}},[t]),u=x(v=>{const h=Array.from(v),y=n.length+r.length,p=t.maxFiles-y;if(p<=0){console.warn(`Maximum ${t.maxFiles} files allowed.`);return}const S=h.slice(0,p).map(P=>{const $=c(P);return{id:Fs(),file:P,progress:0,status:$.valid?"pending":"error",error:$.error}});a(P=>[...P,...S])},[n.length,r.length,t.maxFiles,c]),f=x(v=>{const h=i.current.get(v);h&&(h.abort(),i.current.delete(v)),a(y=>y.filter(p=>p.id!==v)),s(y=>y.filter(p=>p.id!==parseInt(v)))},[]),g=x(()=>{i.current.forEach(v=>v.abort()),i.current.clear(),a([]),s([])},[]),d=x(async v=>{if(v.status==="completed"||v.status==="error")return null;a(h=>h.map(y=>y.id===v.id?{...y,status:"uploading",progress:0}:y));try{const h=await xs(v.file,p=>{a(C=>C.map(S=>S.id===v.id?{...S,progress:p}:S))});return a(p=>p.map(C=>C.id===v.id?{...C,status:"completed",progress:100,result:h}:C)),{id:h.id,url:h.url,alt:h.name,type:h.mime_type.startsWith("image/")?"image":"file",mime_type:h.mime_type,thumbnail_url:h.url}}catch(h){return a(y=>y.map(p=>p.id===v.id?{...p,status:"error",error:h instanceof Error?h.message:"Upload failed"}:p)),null}},[]),w=x(async()=>{const v=n.filter(p=>p.status==="pending"),y=(await Promise.all(v.map(p=>d(p)))).filter(p=>p!==null);return s(p=>[...p,...y]),y},[n,d]),E=x(async v=>{const h=n.find(p=>p.id===v);if(!h||h.status!=="error")return;a(p=>p.map(C=>C.id===v?{...C,status:"pending",error:void 0}:C));const y=await d({...h,status:"pending"});y&&s(p=>[...p,y])},[n,d]),b=n.some(v=>v.status==="uploading");return{uploads:n,isUploading:b,completedFiles:r,addFiles:u,removeFile:f,clearAll:g,uploadAll:w,retryUpload:E,validateFile:c}}const Me={mention:/@\[([^\]]+)\]\((?:user|post):(\d+)\)|@(\w+)/g,hashtag:/#(\w+)/g,url:/https?:\/\/[^\s<>"{}|\\^`[\]]+/gi,inlineCode:/`([^`]+)`/g,codeBlock:/```([\s\S]*?)```/g,bold:/\*\*([^*]+)\*\*/g,italic:/\*([^*]+)\*/g,strikethrough:/~~([^~]+)~~/g};function Na(e){if(!e)return[];const t=[];let n=e;const a=[...e.matchAll(Me.codeBlock)];for(const r of a){const s=n.indexOf(r[0]);s>0&&t.push(...la(n.slice(0,s))),t.push({type:"code",content:r[1].trim(),raw:r[0]}),n=n.slice(s+r[0].length)}return n&&t.push(...la(n)),t}function la(e){const t=[];let n=0;const a=[];for(const s of e.matchAll(Me.mention)){const i=s[1]!==void 0;a.push({type:"mention",index:s.index,length:s[0].length,content:i?s[1]:s[3],raw:s[0],metadata:i?{userId:parseInt(s[2])}:void 0})}for(const s of e.matchAll(Me.hashtag))a.push({type:"hashtag",index:s.index,length:s[0].length,content:s[1],raw:s[0],metadata:{hashtag:s[1]}});for(const s of e.matchAll(Me.url))a.push({type:"link",index:s.index,length:s[0].length,content:s[0],raw:s[0],metadata:{url:s[0]}});for(const s of e.matchAll(Me.inlineCode))a.push({type:"code",index:s.index,length:s[0].length,content:s[1],raw:s[0]});for(const s of e.matchAll(Me.bold))a.push({type:"bold",index:s.index,length:s[0].length,content:s[1],raw:s[0]});for(const s of e.matchAll(Me.italic)){const i=e[s.index-1],c=e[s.index+s[0].length];i!=="*"&&c!=="*"&&a.push({type:"italic",index:s.index,length:s[0].length,content:s[1],raw:s[0]})}for(const s of e.matchAll(Me.strikethrough))a.push({type:"strikethrough",index:s.index,length:s[0].length,content:s[1],raw:s[0]});a.sort((s,i)=>s.index-i.index);const r=[];for(const s of a)r.some(c=>s.index<c.index+c.length&&s.index+s.length>c.index)||r.push(s);for(const s of r){if(s.index>n){const i=e.slice(n,s.index);i&&t.push({type:"text",content:i,raw:i})}t.push({type:s.type,content:s.content,raw:s.raw,metadata:s.metadata}),n=s.index+s.length}if(n<e.length){const s=e.slice(n);s&&t.push({type:"text",content:s,raw:s})}return t}function Hs(e){return e.replace(Me.codeBlock,"$1").replace(Me.inlineCode,"$1").replace(Me.bold,"$1").replace(Me.italic,"$1").replace(Me.strikethrough,"$1").replace(/@\[([^\]]+)\]\([^)]+\)/g,"@$1").replace(/#(\w+)/g,"#$1")}function Ws(e,t,n=!0){if(e.length<=t)return{text:e,isTruncated:!1};let a=e.slice(0,t);if(n){const r=a.lastIndexOf(" ");r>t*.5&&(a=a.slice(0,r))}return{text:a.trim()+"...",isTruncated:!0}}function Oa(e){return Hs(e).length}const ot={minute:60,hour:3600,day:3600*24,week:3600*24*7};function Vs(e,t){const n=new Date(e),r=Math.floor((new Date().getTime()-n.getTime())/1e3),i={...{just_now:"Just now",minutes_ago:"%d minutes ago",hours_ago:"%d hours ago",days_ago:"%d days ago"},...t};if(r<ot.minute)return i.just_now;if(r<ot.hour){const c=Math.floor(r/ot.minute);return i.minutes_ago.replace("%d",String(c))}if(r<ot.day){const c=Math.floor(r/ot.hour);return i.hours_ago.replace("%d",String(c))}if(r<ot.week){const c=Math.floor(r/ot.day);return i.days_ago.replace("%d",String(c))}return Us(e)}function Us(e,t={year:"numeric",month:"short",day:"numeric"}){return new Date(e).toLocaleDateString(void 0,t)}function $s(e,t){return e.length<=t?e:e.slice(0,t-3).trim()+"..."}const Bs=({isOpen:e,popupId:t,title:n,icon:a,saveLabel:r="Save",clearLabel:s="Clear",showSave:i=!0,showClear:c=!0,showClearMobile:u=!1,showClose:f=!0,onSave:g,onClear:d,onClose:w,children:E,wrapperClass:b="",controllerClass:v=""})=>{const h=ne(null);ce(()=>{if(!e)return;const C=S=>{S.key==="Escape"&&w()};return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[e,w]);const y=C=>{C.target===C.currentTarget&&w()},p=C=>{C.stopPropagation()};return e?te.createElement("div",{className:"elementor vx-popup"},te.createElement("div",{className:"ts-popup-root elementor-element","data-popup-id":t},te.createElement("div",{onClick:y},te.createElement("div",{className:`ts-field-popup-container ${b}`},te.createElement("div",{ref:h,className:"ts-field-popup triggers-blur",onClick:p},n&&te.createElement("div",{className:"ts-popup-head flexify ts-sticky-top"},te.createElement("div",{className:"ts-popup-name flexify"},a&&te.createElement("span",{dangerouslySetInnerHTML:{__html:a}}),te.createElement("span",null,n)),te.createElement("ul",{className:"flexify simplify-ul"},f&&te.createElement("li",{className:"flexify ts-popup-close"},te.createElement("a",{href:"#",className:"ts-icon-btn",role:"button","aria-label":"Close popup",onClick:C=>{C.preventDefault(),w()},onMouseDown:C=>{C.preventDefault(),w()}},te.createElement("svg",{fill:"currentColor",width:"52",height:"52",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},te.createElement("path",{d:"M1.46967 1.46967C1.76256 1.17678 2.23744 1.17678 2.53033 1.46967L12 10.9393L21.4697 1.46967C21.7626 1.17678 22.2374 1.17678 22.5303 1.46967C22.8232 1.76256 22.8232 2.23744 22.5303 2.53033L13.0607 12L22.5303 21.4697C22.8232 21.7626 22.8232 22.2374 22.5303 22.5303C22.2374 22.8232 21.7626 22.8232 21.4697 22.5303L12 13.0607L2.53033 22.5303C2.23744 22.8232 1.76256 22.8232 1.46967 22.5303C1.17678 22.2374 1.17678 21.7626 1.46967 21.4697L10.9393 12L1.46967 2.53033C1.17678 2.23744 1.17678 1.76256 1.46967 1.46967Z"})))))),te.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},E),(i||c)&&te.createElement("div",{className:`ts-popup-controller ${v}`},te.createElement("ul",{className:"flexify simplify-ul"},te.createElement("li",{className:"flexify ts-popup-close"},te.createElement("a",{href:"#",className:"ts-icon-btn",role:"button",onClick:C=>{C.preventDefault(),w()},onMouseDown:C=>{C.preventDefault(),w()}},te.createElement("svg",{fill:"currentColor",width:"52",height:"52",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},te.createElement("path",{d:"M1.46967 1.46967C1.76256 1.17678 2.23744 1.17678 2.53033 1.46967L12 10.9393L21.4697 1.46967C21.7626 1.17678 22.2374 1.17678 22.5303 1.46967C22.8232 1.76256 22.8232 2.23744 22.5303 2.53033L13.0607 12L22.5303 21.4697C22.8232 21.7626 22.8232 22.2374 22.5303 22.5303C22.2374 22.8232 21.7626 22.8232 21.4697 22.5303L12 13.0607L2.53033 22.5303C2.23744 22.8232 1.76256 22.8232 1.46967 22.5303C1.17678 22.2374 1.17678 21.7626 1.46967 21.4697L10.9393 12L1.46967 2.53033C1.17678 2.23744 1.17678 1.76256 1.46967 1.46967Z"})))),c&&d&&te.createElement("li",{className:"flexify hide-d",onClick:d},u&&te.createElement("a",{href:"#",className:"ts-icon-btn","aria-label":"Clear"},te.createElement("svg",{fill:"currentColor",width:"52",height:"52",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},te.createElement("path",{d:"M12 2.25C6.61522 2.25 2.25 6.61522 2.25 12C2.25 17.3848 6.61522 21.75 12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25ZM8.25 10.5C7.83579 10.5 7.5 10.8358 7.5 11.25C7.5 11.6642 7.83579 12 8.25 12H15.75C16.1642 12 16.5 11.6642 16.5 11.25C16.5 10.8358 16.1642 10.5 15.75 10.5H8.25Z"})))),c&&d&&te.createElement("li",{className:"flexify hide-m",onClick:d},te.createElement("a",{href:"#",className:"ts-btn ts-btn-1"},s)),i&&te.createElement("li",{className:"flexify"},te.createElement("a",{href:"#",className:"ts-btn ts-btn-2",onClick:C=>{C.preventDefault(),g()}},r,te.createElement("div",{className:"ts-loader-wrapper"},te.createElement("span",{className:"ts-loader"}))))))))))):null};var Bt={exports:{}};var Ta;function D(){return Ta.apply(null,arguments)}function Zs(e){Ta=e}function Fe(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ut(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jn(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(K(e,t))return!1;return!0}function Ee(e){return e===void 0}function Ke(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function jt(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function La(e,t){var n=[],a,r=e.length;for(a=0;a<r;++a)n.push(t(e[a],a));return n}function at(e,t){for(var n in t)K(t,n)&&(e[n]=t[n]);return K(t,"toString")&&(e.toString=t.toString),K(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Be(e,t,n,a){return nr(e,t,n,a,!0).utc()}function Gs(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function G(e){return e._pf==null&&(e._pf=Gs()),e._pf}var Mn;Array.prototype.some?Mn=Array.prototype.some:Mn=function(e){var t=Object(this),n=t.length>>>0,a;for(a=0;a<n;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function Pn(e){var t=null,n=!1,a=e._d&&!isNaN(e._d.getTime());if(a&&(t=G(e),n=Mn.call(t.parsedDateParts,function(r){return r!=null}),a=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a;return e._isValid}function nn(e){var t=Be(NaN);return e!=null?at(G(t),e):G(t).userInvalidated=!0,t}var ca=D.momentProperties=[],Rn=!1;function Fn(e,t){var n,a,r,s=ca.length;if(Ee(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ee(t._i)||(e._i=t._i),Ee(t._f)||(e._f=t._f),Ee(t._l)||(e._l=t._l),Ee(t._strict)||(e._strict=t._strict),Ee(t._tzm)||(e._tzm=t._tzm),Ee(t._isUTC)||(e._isUTC=t._isUTC),Ee(t._offset)||(e._offset=t._offset),Ee(t._pf)||(e._pf=G(t)),Ee(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)a=ca[n],r=t[a],Ee(r)||(e[a]=r);return e}function Pt(e){Fn(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Rn===!1&&(Rn=!0,D.updateOffset(this),Rn=!1)}function Ae(e){return e instanceof Pt||e!=null&&e._isAMomentObject!=null}function Ya(e){D.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Te(e,t){var n=!0;return at(function(){if(D.deprecationHandler!=null&&D.deprecationHandler(null,e),n){var a=[],r,s,i,c=arguments.length;for(s=0;s<c;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(i in arguments[0])K(arguments[0],i)&&(r+=i+": "+arguments[0][i]+", ");r=r.slice(0,-2)}else r=arguments[s];a.push(r)}Ya(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var ua={};function Ia(e,t){D.deprecationHandler!=null&&D.deprecationHandler(e,t),ua[e]||(Ya(t),ua[e]=!0)}D.suppressDeprecationWarnings=!1;D.deprecationHandler=null;function Ze(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function zs(e){var t,n;for(n in e)K(e,n)&&(t=e[n],Ze(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Sn(e,t){var n=at({},e),a;for(a in t)K(t,a)&&(ut(e[a])&&ut(t[a])?(n[a]={},at(n[a],e[a]),at(n[a],t[a])):t[a]!=null?n[a]=t[a]:delete n[a]);for(a in e)K(e,a)&&!K(t,a)&&ut(e[a])&&(n[a]=at({},n[a]));return n}function An(e){e!=null&&this.set(e)}var Dn;Object.keys?Dn=Object.keys:Dn=function(e){var t,n=[];for(t in e)K(e,t)&&n.push(t);return n};var qs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Js(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return Ze(a)?a.call(t,n):a}function Ue(e,t,n){var a=""+Math.abs(e),r=t-a.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}var Hn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ut=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,xn={},_t={};function F(e,t,n,a){var r=a;typeof a=="string"&&(r=function(){return this[a]()}),e&&(_t[e]=r),t&&(_t[t[0]]=function(){return Ue(r.apply(this,arguments),t[1],t[2])}),n&&(_t[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function Xs(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Qs(e){var t=e.match(Hn),n,a;for(n=0,a=t.length;n<a;n++)_t[t[n]]?t[n]=_t[t[n]]:t[n]=Xs(t[n]);return function(r){var s="",i;for(i=0;i<a;i++)s+=Ze(t[i])?t[i].call(r,e):t[i];return s}}function Zt(e,t){return e.isValid()?(t=ja(t,e.localeData()),xn[t]=xn[t]||Qs(t),xn[t](e)):e.localeData().invalidDate()}function ja(e,t){var n=5;function a(r){return t.longDateFormat(r)||r}for(Ut.lastIndex=0;n>=0&&Ut.test(e);)e=e.replace(Ut,a),Ut.lastIndex=0,n-=1;return e}var Ks={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ei(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Hn).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var ti="Invalid date";function ni(){return this._invalidDate}var ai="%d",ri=/\d{1,2}/;function si(e){return this._ordinal.replace("%d",e)}var ii={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function oi(e,t,n,a){var r=this._relativeTime[n];return Ze(r)?r(e,t,n,a):r.replace(/%d/i,e)}function li(e,t){var n=this._relativeTime[e>0?"future":"past"];return Ze(n)?n(t):n.replace(/%s/i,t)}var da={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Le(e){return typeof e=="string"?da[e]||da[e.toLowerCase()]:void 0}function Wn(e){var t={},n,a;for(a in e)K(e,a)&&(n=Le(a),n&&(t[n]=e[a]));return t}var ci={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ui(e){var t=[],n;for(n in e)K(e,n)&&t.push({unit:n,priority:ci[n]});return t.sort(function(a,r){return a.priority-r.priority}),t}var Pa=/\d/,De=/\d\d/,Fa=/\d{3}/,Vn=/\d{4}/,an=/[+-]?\d{6}/,de=/\d\d?/,Aa=/\d\d\d\d?/,Ha=/\d\d\d\d\d\d?/,rn=/\d{1,3}/,Un=/\d{1,4}/,sn=/[+-]?\d{1,6}/,Rt=/\d+/,on=/[+-]?\d+/,di=/Z|[+-]\d\d:?\d\d/gi,ln=/Z|[+-]\d\d(?::?\d\d)?/gi,fi=/[+-]?\d+(\.\d{1,3})?/,Ft=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,xt=/^[1-9]\d?/,$n=/^([1-9]\d|\d)/,Jt;Jt={};function T(e,t,n){Jt[e]=Ze(t)?t:function(a,r){return a&&n?n:t}}function mi(e,t){return K(Jt,e)?Jt[e](t._strict,t._locale):new RegExp(hi(e))}function hi(e){return Xe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,a,r,s){return n||a||r||s}))}function Xe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Oe(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function J(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Oe(t)),n}var Nn={};function ie(e,t){var n,a=t,r;for(typeof e=="string"&&(e=[e]),Ke(t)&&(a=function(s,i){i[t]=J(s)}),r=e.length,n=0;n<r;n++)Nn[e[n]]=a}function At(e,t){ie(e,function(n,a,r,s){r._w=r._w||{},t(n,r._w,r,s)})}function pi(e,t,n){t!=null&&K(Nn,e)&&Nn[e](t,n._a,n,e)}function cn(e){return e%4===0&&e%100!==0||e%400===0}var we=0,qe=1,Ve=2,ve=3,je=4,Je=5,ct=6,gi=7,vi=8;F("Y",0,0,function(){var e=this.year();return e<=9999?Ue(e,4):"+"+e});F(0,["YY",2],0,function(){return this.year()%100});F(0,["YYYY",4],0,"year");F(0,["YYYYY",5],0,"year");F(0,["YYYYYY",6,!0],0,"year");T("Y",on);T("YY",de,De);T("YYYY",Un,Vn);T("YYYYY",sn,an);T("YYYYYY",sn,an);ie(["YYYYY","YYYYYY"],we);ie("YYYY",function(e,t){t[we]=e.length===2?D.parseTwoDigitYear(e):J(e)});ie("YY",function(e,t){t[we]=D.parseTwoDigitYear(e)});ie("Y",function(e,t){t[we]=parseInt(e,10)});function Nt(e){return cn(e)?366:365}D.parseTwoDigitYear=function(e){return J(e)+(J(e)>68?1900:2e3)};var Wa=Et("FullYear",!0);function _i(){return cn(this.year())}function Et(e,t){return function(n){return n!=null?(Va(this,e,n),D.updateOffset(this,t),this):Ot(this,e)}}function Ot(e,t){if(!e.isValid())return NaN;var n=e._d,a=e._isUTC;switch(t){case"Milliseconds":return a?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return a?n.getUTCSeconds():n.getSeconds();case"Minutes":return a?n.getUTCMinutes():n.getMinutes();case"Hours":return a?n.getUTCHours():n.getHours();case"Date":return a?n.getUTCDate():n.getDate();case"Day":return a?n.getUTCDay():n.getDay();case"Month":return a?n.getUTCMonth():n.getMonth();case"FullYear":return a?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Va(e,t,n){var a,r,s,i,c;if(!(!e.isValid()||isNaN(n))){switch(a=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?a.setUTCMilliseconds(n):a.setMilliseconds(n));case"Seconds":return void(r?a.setUTCSeconds(n):a.setSeconds(n));case"Minutes":return void(r?a.setUTCMinutes(n):a.setMinutes(n));case"Hours":return void(r?a.setUTCHours(n):a.setHours(n));case"Date":return void(r?a.setUTCDate(n):a.setDate(n));case"FullYear":break;default:return}s=n,i=e.month(),c=e.date(),c=c===29&&i===1&&!cn(s)?28:c,r?a.setUTCFullYear(s,i,c):a.setFullYear(s,i,c)}}function yi(e){return e=Le(e),Ze(this[e])?this[e]():this}function wi(e,t){if(typeof e=="object"){e=Wn(e);var n=ui(e),a,r=n.length;for(a=0;a<r;a++)this[n[a].unit](e[n[a].unit])}else if(e=Le(e),Ze(this[e]))return this[e](t);return this}function ki(e,t){return(e%t+t)%t}var pe;Array.prototype.indexOf?pe=Array.prototype.indexOf:pe=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Bn(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ki(t,12);return e+=(t-n)/12,n===1?cn(e)?29:28:31-n%7%2}F("M",["MM",2],"Mo",function(){return this.month()+1});F("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});F("MMMM",0,0,function(e){return this.localeData().months(this,e)});T("M",de,xt);T("MM",de,De);T("MMM",function(e,t){return t.monthsShortRegex(e)});T("MMMM",function(e,t){return t.monthsRegex(e)});ie(["M","MM"],function(e,t){t[qe]=J(e)-1});ie(["MMM","MMMM"],function(e,t,n,a){var r=n._locale.monthsParse(e,a,n._strict);r!=null?t[qe]=r:G(n).invalidMonth=e});var Ci="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ua="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$a=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ri=Ft,xi=Ft;function Ei(e,t){return e?Fe(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||$a).test(t)?"format":"standalone"][e.month()]:Fe(this._months)?this._months:this._months.standalone}function bi(e,t){return e?Fe(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[$a.test(t)?"format":"standalone"][e.month()]:Fe(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Mi(e,t,n){var a,r,s,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)s=Be([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(s,"").toLocaleLowerCase();return n?t==="MMM"?(r=pe.call(this._shortMonthsParse,i),r!==-1?r:null):(r=pe.call(this._longMonthsParse,i),r!==-1?r:null):t==="MMM"?(r=pe.call(this._shortMonthsParse,i),r!==-1?r:(r=pe.call(this._longMonthsParse,i),r!==-1?r:null)):(r=pe.call(this._longMonthsParse,i),r!==-1?r:(r=pe.call(this._shortMonthsParse,i),r!==-1?r:null))}function Si(e,t,n){var a,r,s;if(this._monthsParseExact)return Mi.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=Be([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[a]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(s.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(n&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}}function Ba(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=J(t);else if(t=e.localeData().monthsParse(t),!Ke(t))return e}var n=t,a=e.date();return a=a<29?a:Math.min(a,Bn(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,a):e._d.setMonth(n,a),e}function Za(e){return e!=null?(Ba(this,e),D.updateOffset(this,!0),this):Ot(this,"Month")}function Di(){return Bn(this.year(),this.month())}function Ni(e){return this._monthsParseExact?(K(this,"_monthsRegex")||Ga.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(K(this,"_monthsShortRegex")||(this._monthsShortRegex=Ri),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Oi(e){return this._monthsParseExact?(K(this,"_monthsRegex")||Ga.call(this),e?this._monthsStrictRegex:this._monthsRegex):(K(this,"_monthsRegex")||(this._monthsRegex=xi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Ga(){function e(u,f){return f.length-u.length}var t=[],n=[],a=[],r,s,i,c;for(r=0;r<12;r++)s=Be([2e3,r]),i=Xe(this.monthsShort(s,"")),c=Xe(this.months(s,"")),t.push(i),n.push(c),a.push(c),a.push(i);t.sort(e),n.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Ti(e,t,n,a,r,s,i){var c;return e<100&&e>=0?(c=new Date(e+400,t,n,a,r,s,i),isFinite(c.getFullYear())&&c.setFullYear(e)):c=new Date(e,t,n,a,r,s,i),c}function Tt(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Xt(e,t,n){var a=7+t-n,r=(7+Tt(e,0,a).getUTCDay()-t)%7;return-r+a-1}function za(e,t,n,a,r){var s=(7+n-a)%7,i=Xt(e,a,r),c=1+7*(t-1)+s+i,u,f;return c<=0?(u=e-1,f=Nt(u)+c):c>Nt(e)?(u=e+1,f=c-Nt(e)):(u=e,f=c),{year:u,dayOfYear:f}}function Lt(e,t,n){var a=Xt(e.year(),t,n),r=Math.floor((e.dayOfYear()-a-1)/7)+1,s,i;return r<1?(i=e.year()-1,s=r+Qe(i,t,n)):r>Qe(e.year(),t,n)?(s=r-Qe(e.year(),t,n),i=e.year()+1):(i=e.year(),s=r),{week:s,year:i}}function Qe(e,t,n){var a=Xt(e,t,n),r=Xt(e+1,t,n);return(Nt(e)-a+r)/7}F("w",["ww",2],"wo","week");F("W",["WW",2],"Wo","isoWeek");T("w",de,xt);T("ww",de,De);T("W",de,xt);T("WW",de,De);At(["w","ww","W","WW"],function(e,t,n,a){t[a.substr(0,1)]=J(e)});function Li(e){return Lt(e,this._week.dow,this._week.doy).week}var Yi={dow:0,doy:6};function Ii(){return this._week.dow}function ji(){return this._week.doy}function Pi(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Fi(e){var t=Lt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}F("d",0,"do","day");F("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});F("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});F("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});F("e",0,0,"weekday");F("E",0,0,"isoWeekday");T("d",de);T("e",de);T("E",de);T("dd",function(e,t){return t.weekdaysMinRegex(e)});T("ddd",function(e,t){return t.weekdaysShortRegex(e)});T("dddd",function(e,t){return t.weekdaysRegex(e)});At(["dd","ddd","dddd"],function(e,t,n,a){var r=n._locale.weekdaysParse(e,a,n._strict);r!=null?t.d=r:G(n).invalidWeekday=e});At(["d","e","E"],function(e,t,n,a){t[a]=J(e)});function Ai(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Hi(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Zn(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Wi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ui=Ft,$i=Ft,Bi=Ft;function Zi(e,t){var n=Fe(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Zn(n,this._week.dow):e?n[e.day()]:n}function Gi(e){return e===!0?Zn(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zi(e){return e===!0?Zn(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function qi(e,t,n){var a,r,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)s=Be([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(s,"").toLocaleLowerCase();return n?t==="dddd"?(r=pe.call(this._weekdaysParse,i),r!==-1?r:null):t==="ddd"?(r=pe.call(this._shortWeekdaysParse,i),r!==-1?r:null):(r=pe.call(this._minWeekdaysParse,i),r!==-1?r:null):t==="dddd"?(r=pe.call(this._weekdaysParse,i),r!==-1||(r=pe.call(this._shortWeekdaysParse,i),r!==-1)?r:(r=pe.call(this._minWeekdaysParse,i),r!==-1?r:null)):t==="ddd"?(r=pe.call(this._shortWeekdaysParse,i),r!==-1||(r=pe.call(this._weekdaysParse,i),r!==-1)?r:(r=pe.call(this._minWeekdaysParse,i),r!==-1?r:null)):(r=pe.call(this._minWeekdaysParse,i),r!==-1||(r=pe.call(this._weekdaysParse,i),r!==-1)?r:(r=pe.call(this._shortWeekdaysParse,i),r!==-1?r:null))}function Ji(e,t,n){var a,r,s;if(this._weekdaysParseExact)return qi.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(r=Be([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[a]=new RegExp(s.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(n&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(n&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}}function Xi(e){if(!this.isValid())return e!=null?this:NaN;var t=Ot(this,"Day");return e!=null?(e=Ai(e,this.localeData()),this.add(e-t,"d")):t}function Qi(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Ki(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Hi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function eo(e){return this._weekdaysParseExact?(K(this,"_weekdaysRegex")||Gn.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(K(this,"_weekdaysRegex")||(this._weekdaysRegex=Ui),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function to(e){return this._weekdaysParseExact?(K(this,"_weekdaysRegex")||Gn.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(K(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$i),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function no(e){return this._weekdaysParseExact?(K(this,"_weekdaysRegex")||Gn.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(K(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Gn(){function e(g,d){return d.length-g.length}var t=[],n=[],a=[],r=[],s,i,c,u,f;for(s=0;s<7;s++)i=Be([2e3,1]).day(s),c=Xe(this.weekdaysMin(i,"")),u=Xe(this.weekdaysShort(i,"")),f=Xe(this.weekdays(i,"")),t.push(c),n.push(u),a.push(f),r.push(c),r.push(u),r.push(f);t.sort(e),n.sort(e),a.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function zn(){return this.hours()%12||12}function ao(){return this.hours()||24}F("H",["HH",2],0,"hour");F("h",["hh",2],0,zn);F("k",["kk",2],0,ao);F("hmm",0,0,function(){return""+zn.apply(this)+Ue(this.minutes(),2)});F("hmmss",0,0,function(){return""+zn.apply(this)+Ue(this.minutes(),2)+Ue(this.seconds(),2)});F("Hmm",0,0,function(){return""+this.hours()+Ue(this.minutes(),2)});F("Hmmss",0,0,function(){return""+this.hours()+Ue(this.minutes(),2)+Ue(this.seconds(),2)});function Ja(e,t){F(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Ja("a",!0);Ja("A",!1);function Xa(e,t){return t._meridiemParse}T("a",Xa);T("A",Xa);T("H",de,$n);T("h",de,xt);T("k",de,xt);T("HH",de,De);T("hh",de,De);T("kk",de,De);T("hmm",Aa);T("hmmss",Ha);T("Hmm",Aa);T("Hmmss",Ha);ie(["H","HH"],ve);ie(["k","kk"],function(e,t,n){var a=J(e);t[ve]=a===24?0:a});ie(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});ie(["h","hh"],function(e,t,n){t[ve]=J(e),G(n).bigHour=!0});ie("hmm",function(e,t,n){var a=e.length-2;t[ve]=J(e.substr(0,a)),t[je]=J(e.substr(a)),G(n).bigHour=!0});ie("hmmss",function(e,t,n){var a=e.length-4,r=e.length-2;t[ve]=J(e.substr(0,a)),t[je]=J(e.substr(a,2)),t[Je]=J(e.substr(r)),G(n).bigHour=!0});ie("Hmm",function(e,t,n){var a=e.length-2;t[ve]=J(e.substr(0,a)),t[je]=J(e.substr(a))});ie("Hmmss",function(e,t,n){var a=e.length-4,r=e.length-2;t[ve]=J(e.substr(0,a)),t[je]=J(e.substr(a,2)),t[Je]=J(e.substr(r))});function ro(e){return(e+"").toLowerCase().charAt(0)==="p"}var so=/[ap]\.?m?\.?/i,io=Et("Hours",!0);function oo(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var Qa={calendar:qs,longDateFormat:Ks,invalidDate:ti,ordinal:ai,dayOfMonthOrdinalParse:ri,relativeTime:ii,months:Ci,monthsShort:Ua,week:Yi,weekdays:Wi,weekdaysMin:Vi,weekdaysShort:qa,meridiemParse:so},fe={},St={},Yt;function lo(e,t){var n,a=Math.min(e.length,t.length);for(n=0;n<a;n+=1)if(e[n]!==t[n])return n;return a}function fa(e){return e&&e.toLowerCase().replace("_","-")}function co(e){for(var t=0,n,a,r,s;t<e.length;){for(s=fa(e[t]).split("-"),n=s.length,a=fa(e[t+1]),a=a?a.split("-"):null;n>0;){if(r=un(s.slice(0,n).join("-")),r)return r;if(a&&a.length>=n&&lo(s,a)>=n-1)break;n--}t++}return Yt}function uo(e){return!!(e&&e.match("^[^/\\\\]*$"))}function un(e){var t=null,n;if(fe[e]===void 0&&typeof qt<"u"&&qt&&qt.exports&&uo(e))try{t=Yt._abbr,n=require,n("./locale/"+e),st(t)}catch{fe[e]=null}return fe[e]}function st(e,t){var n;return e&&(Ee(t)?n=tt(e):n=qn(e,t),n?Yt=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Yt._abbr}function qn(e,t){if(t!==null){var n,a=Qa;if(t.abbr=e,fe[e]!=null)Ia("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=fe[e]._config;else if(t.parentLocale!=null)if(fe[t.parentLocale]!=null)a=fe[t.parentLocale]._config;else if(n=un(t.parentLocale),n!=null)a=n._config;else return St[t.parentLocale]||(St[t.parentLocale]=[]),St[t.parentLocale].push({name:e,config:t}),null;return fe[e]=new An(Sn(a,t)),St[e]&&St[e].forEach(function(r){qn(r.name,r.config)}),st(e),fe[e]}else return delete fe[e],null}function fo(e,t){if(t!=null){var n,a,r=Qa;fe[e]!=null&&fe[e].parentLocale!=null?fe[e].set(Sn(fe[e]._config,t)):(a=un(e),a!=null&&(r=a._config),t=Sn(r,t),a==null&&(t.abbr=e),n=new An(t),n.parentLocale=fe[e],fe[e]=n),st(e)}else fe[e]!=null&&(fe[e].parentLocale!=null?(fe[e]=fe[e].parentLocale,e===st()&&st(e)):fe[e]!=null&&delete fe[e]);return fe[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Yt;if(!Fe(e)){if(t=un(e),t)return t;e=[e]}return co(e)}function mo(){return Dn(fe)}function Jn(e){var t,n=e._a;return n&&G(e).overflow===-2&&(t=n[qe]<0||n[qe]>11?qe:n[Ve]<1||n[Ve]>Bn(n[we],n[qe])?Ve:n[ve]<0||n[ve]>24||n[ve]===24&&(n[je]!==0||n[Je]!==0||n[ct]!==0)?ve:n[je]<0||n[je]>59?je:n[Je]<0||n[Je]>59?Je:n[ct]<0||n[ct]>999?ct:-1,G(e)._overflowDayOfYear&&(t<we||t>Ve)&&(t=Ve),G(e)._overflowWeeks&&t===-1&&(t=gi),G(e)._overflowWeekday&&t===-1&&(t=vi),G(e).overflow=t),e}var ho=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,po=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,go=/Z|[+-]\d\d(?::?\d\d)?/,$t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vo=/^\/?Date\((-?\d+)/i,_o=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ka(e){var t,n,a=e._i,r=ho.exec(a)||po.exec(a),s,i,c,u,f=$t.length,g=En.length;if(r){for(G(e).iso=!0,t=0,n=f;t<n;t++)if($t[t][1].exec(r[1])){i=$t[t][0],s=$t[t][2]!==!1;break}if(i==null){e._isValid=!1;return}if(r[3]){for(t=0,n=g;t<n;t++)if(En[t][1].exec(r[3])){c=(r[2]||" ")+En[t][0];break}if(c==null){e._isValid=!1;return}}if(!s&&c!=null){e._isValid=!1;return}if(r[4])if(go.exec(r[4]))u="Z";else{e._isValid=!1;return}e._f=i+(c||"")+(u||""),Qn(e)}else e._isValid=!1}function wo(e,t,n,a,r,s){var i=[ko(e),Ua.indexOf(t),parseInt(n,10),parseInt(a,10),parseInt(r,10)];return s&&i.push(parseInt(s,10)),i}function ko(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Co(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ro(e,t,n){if(e){var a=qa.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(a!==r)return G(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function xo(e,t,n){if(e)return yo[e];if(t)return 0;var a=parseInt(n,10),r=a%100,s=(a-r)/100;return s*60+r}function er(e){var t=_o.exec(Co(e._i)),n;if(t){if(n=wo(t[4],t[3],t[2],t[5],t[6],t[7]),!Ro(t[1],n,e))return;e._a=n,e._tzm=xo(t[8],t[9],t[10]),e._d=Tt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),G(e).rfc2822=!0}else e._isValid=!1}function Eo(e){var t=vo.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Ka(e),e._isValid===!1)delete e._isValid;else return;if(er(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:D.createFromInputFallback(e)}D.createFromInputFallback=Te("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function gt(e,t,n){return e??t??n}function bo(e){var t=new Date(D.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Xn(e){var t,n,a=[],r,s,i;if(!e._d){for(r=bo(e),e._w&&e._a[Ve]==null&&e._a[qe]==null&&Mo(e),e._dayOfYear!=null&&(i=gt(e._a[we],r[we]),(e._dayOfYear>Nt(i)||e._dayOfYear===0)&&(G(e)._overflowDayOfYear=!0),n=Tt(i,0,e._dayOfYear),e._a[qe]=n.getUTCMonth(),e._a[Ve]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ve]===24&&e._a[je]===0&&e._a[Je]===0&&e._a[ct]===0&&(e._nextDay=!0,e._a[ve]=0),e._d=(e._useUTC?Tt:Ti).apply(null,a),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ve]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(G(e).weekdayMismatch=!0)}}function Mo(e){var t,n,a,r,s,i,c,u,f;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,i=4,n=gt(t.GG,e._a[we],Lt(ue(),1,4).year),a=gt(t.W,1),r=gt(t.E,1),(r<1||r>7)&&(u=!0)):(s=e._locale._week.dow,i=e._locale._week.doy,f=Lt(ue(),s,i),n=gt(t.gg,e._a[we],f.year),a=gt(t.w,f.week),t.d!=null?(r=t.d,(r<0||r>6)&&(u=!0)):t.e!=null?(r=t.e+s,(t.e<0||t.e>6)&&(u=!0)):r=s),a<1||a>Qe(n,s,i)?G(e)._overflowWeeks=!0:u!=null?G(e)._overflowWeekday=!0:(c=za(n,a,r,s,i),e._a[we]=c.year,e._dayOfYear=c.dayOfYear)}D.ISO_8601=function(){};D.RFC_2822=function(){};function Qn(e){if(e._f===D.ISO_8601){Ka(e);return}if(e._f===D.RFC_2822){er(e);return}e._a=[],G(e).empty=!0;var t=""+e._i,n,a,r,s,i,c=t.length,u=0,f,g;for(r=ja(e._f,e._locale).match(Hn)||[],g=r.length,n=0;n<g;n++)s=r[n],a=(t.match(mi(s,e))||[])[0],a&&(i=t.substr(0,t.indexOf(a)),i.length>0&&G(e).unusedInput.push(i),t=t.slice(t.indexOf(a)+a.length),u+=a.length),_t[s]?(a?G(e).empty=!1:G(e).unusedTokens.push(s),pi(s,a,e)):e._strict&&!a&&G(e).unusedTokens.push(s);G(e).charsLeftOver=c-u,t.length>0&&G(e).unusedInput.push(t),e._a[ve]<=12&&G(e).bigHour===!0&&e._a[ve]>0&&(G(e).bigHour=void 0),G(e).parsedDateParts=e._a.slice(0),G(e).meridiem=e._meridiem,e._a[ve]=So(e._locale,e._a[ve],e._meridiem),f=G(e).era,f!==null&&(e._a[we]=e._locale.erasConvertYear(f,e._a[we])),Xn(e),Jn(e)}function So(e,t,n){var a;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(a=e.isPM(n),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function Do(e){var t,n,a,r,s,i,c=!1,u=e._f.length;if(u===0){G(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<u;r++)s=0,i=!1,t=Fn({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],Qn(t),Pn(t)&&(i=!0),s+=G(t).charsLeftOver,s+=G(t).unusedTokens.length*10,G(t).score=s,c?s<a&&(a=s,n=t):(a==null||s<a||i)&&(a=s,n=t,i&&(c=!0));at(e,n||t)}function No(e){if(!e._d){var t=Wn(e._i),n=t.day===void 0?t.date:t.day;e._a=La([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),Xn(e)}}function Oo(e){var t=new Pt(Jn(tr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function tr(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),t===null||n===void 0&&t===""?nn({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ae(t)?new Pt(Jn(t)):(jt(t)?e._d=t:Fe(n)?Do(e):n?Qn(e):To(e),Pn(e)||(e._d=null),e))}function To(e){var t=e._i;Ee(t)?e._d=new Date(D.now()):jt(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Eo(e):Fe(t)?(e._a=La(t.slice(0),function(n){return parseInt(n,10)}),Xn(e)):ut(t)?No(e):Ke(t)?e._d=new Date(t):D.createFromInputFallback(e)}function nr(e,t,n,a,r){var s={};return(t===!0||t===!1)&&(a=t,t=void 0),(n===!0||n===!1)&&(a=n,n=void 0),(ut(e)&&jn(e)||Fe(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=a,Oo(s)}function ue(e,t,n,a){return nr(e,t,n,a,!1)}var Lo=Te("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ue.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:nn()}),Yo=Te("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ue.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:nn()});function ar(e,t){var n,a;if(t.length===1&&Fe(t[0])&&(t=t[0]),!t.length)return ue();for(n=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](n))&&(n=t[a]);return n}function Io(){var e=[].slice.call(arguments,0);return ar("isBefore",e)}function jo(){var e=[].slice.call(arguments,0);return ar("isAfter",e)}var Po=function(){return Date.now?Date.now():+new Date},Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Fo(e){var t,n=!1,a,r=Dt.length;for(t in e)if(K(e,t)&&!(pe.call(Dt,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<r;++a)if(e[Dt[a]]){if(n)return!1;parseFloat(e[Dt[a]])!==J(e[Dt[a]])&&(n=!0)}return!0}function Ao(){return this._isValid}function Ho(){return He(NaN)}function dn(e){var t=Wn(e),n=t.year||0,a=t.quarter||0,r=t.month||0,s=t.week||t.isoWeek||0,i=t.day||0,c=t.hour||0,u=t.minute||0,f=t.second||0,g=t.millisecond||0;this._isValid=Fo(t),this._milliseconds=+g+f*1e3+u*6e4+c*1e3*60*60,this._days=+i+s*7,this._months=+r+a*3+n*12,this._data={},this._locale=tt(),this._bubble()}function Gt(e){return e instanceof dn}function On(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Wo(e,t,n){var a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0,i;for(i=0;i<a;i++)J(e[i])!==J(t[i])&&s++;return s+r}function rr(e,t){F(e,0,0,function(){var n=this.utcOffset(),a="+";return n<0&&(n=-n,a="-"),a+Ue(~~(n/60),2)+t+Ue(~~n%60,2)})}rr("Z",":");rr("ZZ","");T("Z",ln);T("ZZ",ln);ie(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Kn(ln,e)});var Vo=/([\+\-]|\d\d)/gi;function Kn(e,t){var n=(t||"").match(e),a,r,s;return n===null?null:(a=n[n.length-1]||[],r=(a+"").match(Vo)||["-",0,0],s=+(r[1]*60)+J(r[2]),s===0?0:r[0]==="+"?s:-s)}function ea(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(Ae(e)||jt(e)?e.valueOf():ue(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),D.updateOffset(n,!1),n):ue(e).local()}function Tn(e){return-Math.round(e._d.getTimezoneOffset())}D.updateOffset=function(){};function Uo(e,t,n){var a=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Kn(ln,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(r=Tn(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?or(this,He(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,D.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:Tn(this)}function $o(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Bo(e){return this.utcOffset(0,e)}function Zo(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tn(this),"m")),this}function Go(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Kn(di,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function zo(e){return this.isValid()?(e=e?ue(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function qo(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jo(){if(!Ee(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Fn(e,this),e=tr(e),e._a?(t=e._isUTC?Be(e._a):ue(e._a),this._isDSTShifted=this.isValid()&&Wo(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Xo(){return this.isValid()?!this._isUTC:!1}function Qo(){return this.isValid()?this._isUTC:!1}function sr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ko=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,el=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function He(e,t){var n=e,a=null,r,s,i;return Gt(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Ke(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(a=Ko.exec(e))?(r=a[1]==="-"?-1:1,n={y:0,d:J(a[Ve])*r,h:J(a[ve])*r,m:J(a[je])*r,s:J(a[Je])*r,ms:J(On(a[ct]*1e3))*r}):(a=el.exec(e))?(r=a[1]==="-"?-1:1,n={y:lt(a[2],r),M:lt(a[3],r),w:lt(a[4],r),d:lt(a[5],r),h:lt(a[6],r),m:lt(a[7],r),s:lt(a[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(i=tl(ue(n.from),ue(n.to)),n={},n.ms=i.milliseconds,n.M=i.months),s=new dn(n),Gt(e)&&K(e,"_locale")&&(s._locale=e._locale),Gt(e)&&K(e,"_isValid")&&(s._isValid=e._isValid),s}He.fn=dn.prototype;He.invalid=Ho;function lt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ma(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tl(e,t){var n;return e.isValid()&&t.isValid()?(t=ea(t,e),e.isBefore(t)?n=ma(e,t):(n=ma(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ir(e,t){return function(n,a){var r,s;return a!==null&&!isNaN(+a)&&(Ia(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=a,a=s),r=He(n,a),or(this,r,e),this}}function or(e,t,n,a){var r=t._milliseconds,s=On(t._days),i=On(t._months);e.isValid()&&(a=a??!0,i&&Ba(e,Ot(e,"Month")+i*n),s&&Va(e,"Date",Ot(e,"Date")+s*n),r&&e._d.setTime(e._d.valueOf()+r*n),a&&D.updateOffset(e,s||i))}var nl=ir(1,"add"),al=ir(-1,"subtract");function lr(e){return typeof e=="string"||e instanceof String}function rl(e){return Ae(e)||jt(e)||lr(e)||Ke(e)||il(e)||sl(e)||e===null||e===void 0}function sl(e){var t=ut(e)&&!jn(e),n=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s,i=a.length;for(r=0;r<i;r+=1)s=a[r],n=n||K(e,s);return t&&n}function il(e){var t=Fe(e),n=!1;return t&&(n=e.filter(function(a){return!Ke(a)&&lr(e)}).length===0),t&&n}function ol(e){var t=ut(e)&&!jn(e),n=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<a.length;r+=1)s=a[r],n=n||K(e,s);return t&&n}function ll(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function cl(e,t){arguments.length===1&&(arguments[0]?rl(arguments[0])?(e=arguments[0],t=void 0):ol(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ue(),a=ea(n,this).startOf("day"),r=D.calendarFormat(this,a)||"sameElse",s=t&&(Ze(t[r])?t[r].call(this,n):t[r]);return this.format(s||this.localeData().calendar(r,this,ue(n)))}function ul(){return new Pt(this)}function dl(e,t){var n=Ae(e)?e:ue(e);return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function fl(e,t){var n=Ae(e)?e:ue(e);return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function ml(e,t,n,a){var r=Ae(e)?e:ue(e),s=Ae(t)?t:ue(t);return this.isValid()&&r.isValid()&&s.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(a[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function hl(e,t){var n=Ae(e)?e:ue(e),a;return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(a=n.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function pl(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function gl(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function vl(e,t,n){var a,r,s;if(!this.isValid())return NaN;if(a=ea(e,this),!a.isValid())return NaN;switch(r=(a.utcOffset()-this.utcOffset())*6e4,t=Le(t),t){case"year":s=zt(this,a)/12;break;case"month":s=zt(this,a);break;case"quarter":s=zt(this,a)/3;break;case"second":s=(this-a)/1e3;break;case"minute":s=(this-a)/6e4;break;case"hour":s=(this-a)/36e5;break;case"day":s=(this-a-r)/864e5;break;case"week":s=(this-a-r)/6048e5;break;default:s=this-a}return n?s:Oe(s)}function zt(e,t){if(e.date()<t.date())return-zt(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(n,"months"),r,s;return t-a<0?(r=e.clone().add(n-1,"months"),s=(t-a)/(a-r)):(r=e.clone().add(n+1,"months"),s=(t-a)/(r-a)),-(n+s)||0}D.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";D.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _l(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yl(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Zt(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ze(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zt(n,"Z")):Zt(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function wl(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,a,r,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+a+r+s)}function kl(e){e||(e=this.isUtc()?D.defaultFormatUtc:D.defaultFormat);var t=Zt(this,e);return this.localeData().postformat(t)}function Cl(e,t){return this.isValid()&&(Ae(e)&&e.isValid()||ue(e).isValid())?He({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Rl(e){return this.from(ue(),e)}function xl(e,t){return this.isValid()&&(Ae(e)&&e.isValid()||ue(e).isValid())?He({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function El(e){return this.to(ue(),e)}function cr(e){var t;return e===void 0?this._locale._abbr:(t=tt(e),t!=null&&(this._locale=t),this)}var ur=Te("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function dr(){return this._locale}var Qt=1e3,yt=60*Qt,Kt=60*yt,fr=(365*400+97)*24*Kt;function wt(e,t){return(e%t+t)%t}function mr(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fr:new Date(e,t,n).valueOf()}function hr(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fr:Date.UTC(e,t,n)}function bl(e){var t,n;if(e=Le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?hr:mr,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=wt(t+(this._isUTC?0:this.utcOffset()*yt),Kt);break;case"minute":t=this._d.valueOf(),t-=wt(t,yt);break;case"second":t=this._d.valueOf(),t-=wt(t,Qt);break}return this._d.setTime(t),D.updateOffset(this,!0),this}function Ml(e){var t,n;if(e=Le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?hr:mr,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Kt-wt(t+(this._isUTC?0:this.utcOffset()*yt),Kt)-1;break;case"minute":t=this._d.valueOf(),t+=yt-wt(t,yt)-1;break;case"second":t=this._d.valueOf(),t+=Qt-wt(t,Qt)-1;break}return this._d.setTime(t),D.updateOffset(this,!0),this}function Sl(){return this._d.valueOf()-(this._offset||0)*6e4}function Dl(){return Math.floor(this.valueOf()/1e3)}function Nl(){return new Date(this.valueOf())}function Ol(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tl(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ll(){return this.isValid()?this.toISOString():null}function Yl(){return Pn(this)}function Il(){return at({},G(this))}function jl(){return G(this).overflow}function Pl(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}F("N",0,0,"eraAbbr");F("NN",0,0,"eraAbbr");F("NNN",0,0,"eraAbbr");F("NNNN",0,0,"eraName");F("NNNNN",0,0,"eraNarrow");F("y",["y",1],"yo","eraYear");F("y",["yy",2],0,"eraYear");F("y",["yyy",3],0,"eraYear");F("y",["yyyy",4],0,"eraYear");T("N",ta);T("NN",ta);T("NNN",ta);T("NNNN",zl);T("NNNNN",ql);ie(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,a){var r=n._locale.erasParse(e,a,n._strict);r?G(n).era=r:G(n).invalidEra=e});T("y",Rt);T("yy",Rt);T("yyy",Rt);T("yyyy",Rt);T("yo",Jl);ie(["y","yy","yyy","yyyy"],we);ie(["yo"],function(e,t,n,a){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[we]=n._locale.eraYearOrdinalParse(e,r):t[we]=parseInt(e,10)});function Fl(e,t){var n,a,r,s=this._eras||tt("en")._eras;for(n=0,a=s.length;n<a;++n)switch(typeof s[n].since==="string"&&(r=D(s[n].since).startOf("day"),s[n].since=r.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":r=D(s[n].until).startOf("day").valueOf(),s[n].until=r.valueOf();break}return s}function Al(e,t,n){var a,r,s=this.eras(),i,c,u;for(e=e.toUpperCase(),a=0,r=s.length;a<r;++a)if(i=s[a].name.toUpperCase(),c=s[a].abbr.toUpperCase(),u=s[a].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(c===e)return s[a];break;case"NNNN":if(i===e)return s[a];break;case"NNNNN":if(u===e)return s[a];break}else if([i,c,u].indexOf(e)>=0)return s[a]}function Hl(e,t){var n=e.since<=e.until?1:-1;return t===void 0?D(e.since).year():D(e.since).year()+(t-e.offset)*n}function Wl(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].name;return""}function Vl(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].narrow;return""}function Ul(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].abbr;return""}function $l(){var e,t,n,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=r[e].since<=r[e].until?1:-1,a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until||r[e].until<=a&&a<=r[e].since)return(this.year()-D(r[e].since).year())*n+r[e].offset;return this.year()}function Bl(e){return K(this,"_erasNameRegex")||na.call(this),e?this._erasNameRegex:this._erasRegex}function Zl(e){return K(this,"_erasAbbrRegex")||na.call(this),e?this._erasAbbrRegex:this._erasRegex}function Gl(e){return K(this,"_erasNarrowRegex")||na.call(this),e?this._erasNarrowRegex:this._erasRegex}function ta(e,t){return t.erasAbbrRegex(e)}function zl(e,t){return t.erasNameRegex(e)}function ql(e,t){return t.erasNarrowRegex(e)}function Jl(e,t){return t._eraYearOrdinalRegex||Rt}function na(){var e=[],t=[],n=[],a=[],r,s,i,c,u,f=this.eras();for(r=0,s=f.length;r<s;++r)i=Xe(f[r].name),c=Xe(f[r].abbr),u=Xe(f[r].narrow),t.push(i),e.push(c),n.push(u),a.push(i),a.push(c),a.push(u);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}F(0,["gg",2],0,function(){return this.weekYear()%100});F(0,["GG",2],0,function(){return this.isoWeekYear()%100});function fn(e,t){F(0,[e,e.length],0,t)}fn("gggg","weekYear");fn("ggggg","weekYear");fn("GGGG","isoWeekYear");fn("GGGGG","isoWeekYear");T("G",on);T("g",on);T("GG",de,De);T("gg",de,De);T("GGGG",Un,Vn);T("gggg",Un,Vn);T("GGGGG",sn,an);T("ggggg",sn,an);At(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,a){t[a.substr(0,2)]=J(e)});At(["gg","GG"],function(e,t,n,a){t[a]=D.parseTwoDigitYear(e)});function Xl(e){return pr.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Ql(e){return pr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Kl(){return Qe(this.year(),1,4)}function ec(){return Qe(this.isoWeekYear(),1,4)}function tc(){var e=this.localeData()._week;return Qe(this.year(),e.dow,e.doy)}function nc(){var e=this.localeData()._week;return Qe(this.weekYear(),e.dow,e.doy)}function pr(e,t,n,a,r){var s;return e==null?Lt(this,a,r).year:(s=Qe(e,a,r),t>s&&(t=s),ac.call(this,e,t,n,a,r))}function ac(e,t,n,a,r){var s=za(e,t,n,a,r),i=Tt(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}F("Q",0,"Qo","quarter");T("Q",Pa);ie("Q",function(e,t){t[qe]=(J(e)-1)*3});function rc(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}F("D",["DD",2],"Do","date");T("D",de,xt);T("DD",de,De);T("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ie(["D","DD"],Ve);ie("Do",function(e,t){t[Ve]=J(e.match(de)[0])});var gr=Et("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear");T("DDD",rn);T("DDDD",Fa);ie(["DDD","DDDD"],function(e,t,n){n._dayOfYear=J(e)});function sc(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}F("m",["mm",2],0,"minute");T("m",de,$n);T("mm",de,De);ie(["m","mm"],je);var ic=Et("Minutes",!1);F("s",["ss",2],0,"second");T("s",de,$n);T("ss",de,De);ie(["s","ss"],Je);var oc=Et("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)});F(0,["SS",2],0,function(){return~~(this.millisecond()/10)});F(0,["SSS",3],0,"millisecond");F(0,["SSSS",4],0,function(){return this.millisecond()*10});F(0,["SSSSS",5],0,function(){return this.millisecond()*100});F(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});F(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});F(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});F(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});T("S",rn,Pa);T("SS",rn,De);T("SSS",rn,Fa);var rt,vr;for(rt="SSSS";rt.length<=9;rt+="S")T(rt,Rt);function lc(e,t){t[ct]=J(("0."+e)*1e3)}for(rt="S";rt.length<=9;rt+="S")ie(rt,lc);vr=Et("Milliseconds",!1);F("z",0,0,"zoneAbbr");F("zz",0,0,"zoneName");function cc(){return this._isUTC?"UTC":""}function uc(){return this._isUTC?"Coordinated Universal Time":""}var R=Pt.prototype;R.add=nl;R.calendar=cl;R.clone=ul;R.diff=vl;R.endOf=Ml;R.format=kl;R.from=Cl;R.fromNow=Rl;R.to=xl;R.toNow=El;R.get=yi;R.invalidAt=jl;R.isAfter=dl;R.isBefore=fl;R.isBetween=ml;R.isSame=hl;R.isSameOrAfter=pl;R.isSameOrBefore=gl;R.isValid=Yl;R.lang=ur;R.locale=cr;R.localeData=dr;R.max=Yo;R.min=Lo;R.parsingFlags=Il;R.set=wi;R.startOf=bl;R.subtract=al;R.toArray=Ol;R.toObject=Tl;R.toDate=Nl;R.toISOString=yl;R.inspect=wl;typeof Symbol<"u"&&Symbol.for!=null&&(R[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});R.toJSON=Ll;R.toString=_l;R.unix=Dl;R.valueOf=Sl;R.creationData=Pl;R.eraName=Wl;R.eraNarrow=Vl;R.eraAbbr=Ul;R.eraYear=$l;R.year=Wa;R.isLeapYear=_i;R.weekYear=Xl;R.isoWeekYear=Ql;R.quarter=R.quarters=rc;R.month=Za;R.daysInMonth=Di;R.week=R.weeks=Pi;R.isoWeek=R.isoWeeks=Fi;R.weeksInYear=tc;R.weeksInWeekYear=nc;R.isoWeeksInYear=Kl;R.isoWeeksInISOWeekYear=ec;R.date=gr;R.day=R.days=Xi;R.weekday=Qi;R.isoWeekday=Ki;R.dayOfYear=sc;R.hour=R.hours=io;R.minute=R.minutes=ic;R.second=R.seconds=oc;R.millisecond=R.milliseconds=vr;R.utcOffset=Uo;R.utc=Bo;R.local=Zo;R.parseZone=Go;R.hasAlignedHourOffset=zo;R.isDST=qo;R.isLocal=Xo;R.isUtcOffset=Qo;R.isUtc=sr;R.isUTC=sr;R.zoneAbbr=cc;R.zoneName=uc;R.dates=Te("dates accessor is deprecated. Use date instead.",gr);R.months=Te("months accessor is deprecated. Use month instead",Za);R.years=Te("years accessor is deprecated. Use year instead",Wa);R.zone=Te("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",$o);R.isDSTShifted=Te("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jo);function dc(e){return ue(e*1e3)}function fc(){return ue.apply(null,arguments).parseZone()}function _r(e){return e}var ee=An.prototype;ee.calendar=Js;ee.longDateFormat=ei;ee.invalidDate=ni;ee.ordinal=si;ee.preparse=_r;ee.postformat=_r;ee.relativeTime=oi;ee.pastFuture=li;ee.set=zs;ee.eras=Fl;ee.erasParse=Al;ee.erasConvertYear=Hl;ee.erasAbbrRegex=Zl;ee.erasNameRegex=Bl;ee.erasNarrowRegex=Gl;ee.months=Ei;ee.monthsShort=bi;ee.monthsParse=Si;ee.monthsRegex=Oi;ee.monthsShortRegex=Ni;ee.week=Li;ee.firstDayOfYear=ji;ee.firstDayOfWeek=Ii;ee.weekdays=Zi;ee.weekdaysMin=zi;ee.weekdaysShort=Gi;ee.weekdaysParse=Ji;ee.weekdaysRegex=eo;ee.weekdaysShortRegex=to;ee.weekdaysMinRegex=no;ee.isPM=ro;ee.meridiem=oo;function en(e,t,n,a){var r=tt(),s=Be().set(a,t);return r[n](s,e)}function yr(e,t,n){if(Ke(e)&&(t=e,e=void 0),e=e||"",t!=null)return en(e,t,n,"month");var a,r=[];for(a=0;a<12;a++)r[a]=en(e,a,n,"month");return r}function aa(e,t,n,a){typeof e=="boolean"?(Ke(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Ke(t)&&(n=t,t=void 0),t=t||"");var r=tt(),s=e?r._week.dow:0,i,c=[];if(n!=null)return en(t,(n+s)%7,a,"day");for(i=0;i<7;i++)c[i]=en(t,(i+s)%7,a,"day");return c}function mc(e,t){return yr(e,t,"months")}function hc(e,t){return yr(e,t,"monthsShort")}function pc(e,t,n){return aa(e,t,n,"weekdays")}function gc(e,t,n){return aa(e,t,n,"weekdaysShort")}function vc(e,t,n){return aa(e,t,n,"weekdaysMin")}st("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=J(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});D.lang=Te("moment.lang is deprecated. Use moment.locale instead.",st);D.langData=Te("moment.langData is deprecated. Use moment.localeData instead.",tt);var Ge=Math.abs;function _c(){var e=this._data;return this._milliseconds=Ge(this._milliseconds),this._days=Ge(this._days),this._months=Ge(this._months),e.milliseconds=Ge(e.milliseconds),e.seconds=Ge(e.seconds),e.minutes=Ge(e.minutes),e.hours=Ge(e.hours),e.months=Ge(e.months),e.years=Ge(e.years),this}function wr(e,t,n,a){var r=He(t,n);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function yc(e,t){return wr(this,e,t,1)}function wc(e,t){return wr(this,e,t,-1)}function ha(e){return e<0?Math.floor(e):Math.ceil(e)}function kc(){var e=this._milliseconds,t=this._days,n=this._months,a=this._data,r,s,i,c,u;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=ha(Ln(n)+t)*864e5,t=0,n=0),a.milliseconds=e%1e3,r=Oe(e/1e3),a.seconds=r%60,s=Oe(r/60),a.minutes=s%60,i=Oe(s/60),a.hours=i%24,t+=Oe(i/24),u=Oe(kr(t)),n+=u,t-=ha(Ln(u)),c=Oe(n/12),n%=12,a.days=t,a.months=n,a.years=c,this}function kr(e){return e*4800/146097}function Ln(e){return e*146097/4800}function Cc(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if(e=Le(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,n=this._months+kr(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ln(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function nt(e){return function(){return this.as(e)}}var Cr=nt("ms"),Rc=nt("s"),xc=nt("m"),Ec=nt("h"),bc=nt("d"),Mc=nt("w"),Sc=nt("M"),Dc=nt("Q"),Nc=nt("y"),Oc=Cr;function Tc(){return He(this)}function Lc(e){return e=Le(e),this.isValid()?this[e+"s"]():NaN}function dt(e){return function(){return this.isValid()?this._data[e]:NaN}}var Yc=dt("milliseconds"),Ic=dt("seconds"),jc=dt("minutes"),Pc=dt("hours"),Fc=dt("days"),Ac=dt("months"),Hc=dt("years");function Wc(){return Oe(this.days()/7)}var ze=Math.round,vt={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Vc(e,t,n,a,r){return r.relativeTime(t||1,!!n,e,a)}function Uc(e,t,n,a){var r=He(e).abs(),s=ze(r.as("s")),i=ze(r.as("m")),c=ze(r.as("h")),u=ze(r.as("d")),f=ze(r.as("M")),g=ze(r.as("w")),d=ze(r.as("y")),w=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||i<=1&&["m"]||i<n.m&&["mm",i]||c<=1&&["h"]||c<n.h&&["hh",c]||u<=1&&["d"]||u<n.d&&["dd",u];return n.w!=null&&(w=w||g<=1&&["w"]||g<n.w&&["ww",g]),w=w||f<=1&&["M"]||f<n.M&&["MM",f]||d<=1&&["y"]||["yy",d],w[2]=t,w[3]=+e>0,w[4]=a,Vc.apply(null,w)}function $c(e){return e===void 0?ze:typeof e=="function"?(ze=e,!0):!1}function Bc(e,t){return vt[e]===void 0?!1:t===void 0?vt[e]:(vt[e]=t,e==="s"&&(vt.ss=t-1),!0)}function Zc(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,a=vt,r,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(a=Object.assign({},vt,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),r=this.localeData(),s=Uc(this,!n,a,r),n&&(s=r.pastFuture(+this,s)),r.postformat(s)}var bn=Math.abs;function pt(e){return(e>0)-(e<0)||+e}function mn(){if(!this.isValid())return this.localeData().invalidDate();var e=bn(this._milliseconds)/1e3,t=bn(this._days),n=bn(this._months),a,r,s,i,c=this.asSeconds(),u,f,g,d;return c?(a=Oe(e/60),r=Oe(a/60),e%=60,a%=60,s=Oe(n/12),n%=12,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=c<0?"-":"",f=pt(this._months)!==pt(c)?"-":"",g=pt(this._days)!==pt(c)?"-":"",d=pt(this._milliseconds)!==pt(c)?"-":"",u+"P"+(s?f+s+"Y":"")+(n?f+n+"M":"")+(t?g+t+"D":"")+(r||a||e?"T":"")+(r?d+r+"H":"")+(a?d+a+"M":"")+(e?d+i+"S":"")):"P0D"}var X=dn.prototype;X.isValid=Ao;X.abs=_c;X.add=yc;X.subtract=wc;X.as=Cc;X.asMilliseconds=Cr;X.asSeconds=Rc;X.asMinutes=xc;X.asHours=Ec;X.asDays=bc;X.asWeeks=Mc;X.asMonths=Sc;X.asQuarters=Dc;X.asYears=Nc;X.valueOf=Oc;X._bubble=kc;X.clone=Tc;X.get=Lc;X.milliseconds=Yc;X.seconds=Ic;X.minutes=jc;X.hours=Pc;X.days=Fc;X.weeks=Wc;X.months=Ac;X.years=Hc;X.humanize=Zc;X.toISOString=mn;X.toString=mn;X.toJSON=mn;X.locale=cr;X.localeData=dr;X.toIsoString=Te("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",mn);X.lang=ur;F("X",0,0,"unix");F("x",0,0,"valueOf");T("x",on);T("X",fi);ie("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});ie("x",function(e,t,n){n._d=new Date(J(e))});D.version="2.30.1";Zs(ue);D.fn=R;D.min=Io;D.max=jo;D.now=Po;D.utc=Be;D.unix=dc;D.months=mc;D.isDate=jt;D.locale=st;D.invalid=nn;D.duration=He;D.isMoment=Ae;D.weekdays=pc;D.parseZone=fc;D.localeData=tt;D.isDuration=Gt;D.monthsShort=hc;D.weekdaysMin=vc;D.defineLocale=qn;D.updateLocale=fo;D.locales=mo;D.weekdaysShort=gc;D.normalizeUnits=Le;D.relativeTimeRounding=$c;D.relativeTimeThreshold=Bc;D.calendarFormat=ll;D.prototype=R;D.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Gc=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"})),zc=Qr(Gc);var qc=Bt.exports,pa;function Jc(){return pa||(pa=1,(function(e,t){(function(n,a){var r;{try{r=zc}catch{}e.exports=a(r)}})(qc,function(n){var a=typeof n=="function",r=!!window.addEventListener,s=window.document,i=window.setTimeout,c=function(l,o,_,m){r?l.addEventListener(o,_,!!m):l.attachEvent("on"+o,_)},u=function(l,o,_,m){r?l.removeEventListener(o,_,!!m):l.detachEvent("on"+o,_)},f=function(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")},g=function(l,o){return(" "+l.className+" ").indexOf(" "+o+" ")!==-1},d=function(l,o){g(l,o)||(l.className=l.className===""?o:l.className+" "+o)},w=function(l,o){l.className=f((" "+l.className+" ").replace(" "+o+" "," "))},E=function(l){return/Array/.test(Object.prototype.toString.call(l))},b=function(l){return/Date/.test(Object.prototype.toString.call(l))&&!isNaN(l.getTime())},v=function(l){var o=l.getDay();return o===0||o===6},h=function(l){return l%4===0&&l%100!==0||l%400===0},y=function(l,o){return[31,h(l)?29:28,31,30,31,30,31,31,30,31,30,31][o]},p=function(l){b(l)&&l.setHours(0,0,0,0)},C=function(l,o){return l.getTime()===o.getTime()},S=function(l,o,_){var m,N;for(m in o)N=l[m]!==void 0,N&&typeof o[m]=="object"&&o[m]!==null&&o[m].nodeName===void 0?b(o[m])?_&&(l[m]=new Date(o[m].getTime())):E(o[m])?_&&(l[m]=o[m].slice(0)):l[m]=S({},o[m],_):(_||!N)&&(l[m]=o[m]);return l},P=function(l,o,_){var m;s.createEvent?(m=s.createEvent("HTMLEvents"),m.initEvent(o,!0,!1),m=S(m,_),l.dispatchEvent(m)):s.createEventObject&&(m=s.createEventObject(),m=S(m,_),l.fireEvent("on"+o,m))},$=function(l){return l.month<0&&(l.year-=Math.ceil(Math.abs(l.month)/12),l.month+=12),l.month>11&&(l.year+=Math.floor(Math.abs(l.month)/12),l.month-=12),l},L={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},k=function(l,o,_){for(o+=l.firstDay;o>=7;)o-=7;return _?l.i18n.weekdaysShort[o]:l.i18n.weekdays[o]},Y=function(l){var o=[],_="false";if(l.isEmpty)if(l.showDaysInNextAndPreviousMonths)o.push("is-outside-current-month"),l.enableSelectionDaysInNextAndPreviousMonths||o.push("is-selection-disabled");else return'<td class="is-empty"></td>';return l.isDisabled&&o.push("is-disabled"),l.isToday&&o.push("is-today"),l.isSelected&&(o.push("is-selected"),_="true"),l.hasEvent&&o.push("has-event"),l.isInRange&&o.push("is-inrange"),l.isStartRange&&o.push("is-startrange"),l.isEndRange&&o.push("is-endrange"),'<td data-day="'+l.day+'" class="'+o.join(" ")+'" aria-selected="'+_+'"><button class="pika-button pika-day" type="button" data-pika-year="'+l.year+'" data-pika-month="'+l.month+'" data-pika-day="'+l.day+'">'+l.day+"</button></td>"},q=function(l,o){l.setHours(0,0,0,0);var _=l.getDate(),m=l.getDay(),N=o,A=N-1,M=7,I=function(ke){return(ke+M-1)%M};l.setDate(_+A-I(m));var B=new Date(l.getFullYear(),0,N),Z=1440*60*1e3,me=(l.getTime()-B.getTime())/Z,he=1+Math.round((me-A+I(B.getDay()))/M);return he},Q=function(l,o,_,m){var N=new Date(_,o,l),A=a?n(N).isoWeek():q(N,m);return'<td class="pika-week">'+A+"</td>"},re=function(l,o,_,m){return'<tr class="pika-row'+(_?" pick-whole-week":"")+(m?" is-selected":"")+'">'+(o?l.reverse():l).join("")+"</tr>"},le=function(l){return"<tbody>"+l.join("")+"</tbody>"},H=function(l){var o,_=[];for(l.showWeekNumber&&_.push("<th></th>"),o=0;o<7;o++)_.push('<th scope="col"><abbr title="'+k(l,o)+'">'+k(l,o,!0)+"</abbr></th>");return"<thead><tr>"+(l.isRTL?_.reverse():_).join("")+"</tr></thead>"},j=function(l,o,_,m,N,A){var M,I,B,Z=l._o,me=_===Z.minYear,he=_===Z.maxYear,ke='<div id="'+A+'" class="pika-title" role="heading" aria-live="assertive">',We,oe,Ye=!0,O=!0;for(B=[],M=0;M<12;M++)B.push('<option value="'+(_===N?M-o:12+M-o)+'"'+(M===m?' selected="selected"':"")+(me&&M<Z.minMonth||he&&M>Z.maxMonth?' disabled="disabled"':"")+">"+Z.i18n.months[M]+"</option>");for(We='<div class="pika-label">'+Z.i18n.months[m]+'<select class="pika-select pika-select-month" tabindex="-1">'+B.join("")+"</select></div>",E(Z.yearRange)?(M=Z.yearRange[0],I=Z.yearRange[1]+1):(M=_-Z.yearRange,I=1+_+Z.yearRange),B=[];M<I&&M<=Z.maxYear;M++)M>=Z.minYear&&B.push('<option value="'+M+'"'+(M===_?' selected="selected"':"")+">"+M+"</option>");return oe='<div class="pika-label">'+_+Z.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+B.join("")+"</select></div>",Z.showMonthAfterYear?ke+=oe+We:ke+=We+oe,me&&(m===0||Z.minMonth>=m)&&(Ye=!1),he&&(m===11||Z.maxMonth<=m)&&(O=!1),o===0&&(ke+='<button class="pika-prev'+(Ye?"":" is-disabled")+'" type="button">'+Z.i18n.previousMonth+"</button>"),o===l._o.numberOfMonths-1&&(ke+='<button class="pika-next'+(O?"":" is-disabled")+'" type="button">'+Z.i18n.nextMonth+"</button>"),ke+="</div>"},se=function(l,o,_){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+_+'">'+H(l)+le(o)+"</table>"},W=function(l){var o=this,_=o.config(l);o._onMouseDown=function(N){if(o._v){N=N||window.event;var A=N.target||N.srcElement;if(A)if(g(A,"is-disabled")||(g(A,"pika-button")&&!g(A,"is-empty")&&!g(A.parentNode,"is-disabled")?(o.setDate(new Date(A.getAttribute("data-pika-year"),A.getAttribute("data-pika-month"),A.getAttribute("data-pika-day"))),_.bound&&i(function(){o.hide(),_.blurFieldOnSelect&&_.field&&_.field.blur()},100)):g(A,"pika-prev")?o.prevMonth():g(A,"pika-next")&&o.nextMonth()),g(A,"pika-select"))o._c=!0;else if(N.preventDefault)N.preventDefault();else return N.returnValue=!1,!1}},o._onChange=function(N){N=N||window.event;var A=N.target||N.srcElement;A&&(g(A,"pika-select-month")?o.gotoMonth(A.value):g(A,"pika-select-year")&&o.gotoYear(A.value))},o._onKeyChange=function(N){if(N=N||window.event,o.isVisible())switch(N.keyCode){case 13:case 27:_.field&&_.field.blur();break;case 37:o.adjustDate("subtract",1);break;case 38:o.adjustDate("subtract",7);break;case 39:o.adjustDate("add",1);break;case 40:o.adjustDate("add",7);break;case 8:case 46:o.setDate(null);break}},o._parseFieldValue=function(){if(_.parse)return _.parse(_.field.value,_.format);if(a){var N=n(_.field.value,_.format,_.formatStrict);return N&&N.isValid()?N.toDate():null}else return new Date(Date.parse(_.field.value))},o._onInputChange=function(N){var A;N.firedBy!==o&&(A=o._parseFieldValue(),b(A)&&o.setDate(A),o._v||o.show())},o._onInputFocus=function(){o.show()},o._onInputClick=function(){o.show()},o._onInputBlur=function(){var N=s.activeElement;do if(g(N,"pika-single"))return;while(N=N.parentNode);o._c||(o._b=i(function(){o.hide()},50)),o._c=!1},o._onClick=function(N){N=N||window.event;var A=N.target||N.srcElement,M=A;if(A){!r&&g(A,"pika-select")&&(A.onchange||(A.setAttribute("onchange","return;"),c(A,"change",o._onChange)));do if(g(M,"pika-single")||M===_.trigger)return;while(M=M.parentNode);o._v&&A!==_.trigger&&M!==_.trigger&&o.hide()}},o.el=s.createElement("div"),o.el.className="pika-single"+(_.isRTL?" is-rtl":"")+(_.theme?" "+_.theme:""),c(o.el,"mousedown",o._onMouseDown,!0),c(o.el,"touchend",o._onMouseDown,!0),c(o.el,"change",o._onChange),_.keyboardInput&&c(s,"keydown",o._onKeyChange),_.field&&(_.container?_.container.appendChild(o.el):_.bound?s.body.appendChild(o.el):_.field.parentNode.insertBefore(o.el,_.field.nextSibling),c(_.field,"change",o._onInputChange),_.defaultDate||(_.defaultDate=o._parseFieldValue(),_.setDefaultDate=!0));var m=_.defaultDate;b(m)?_.setDefaultDate?o.setDate(m,!0):o.gotoDate(m):o.gotoDate(new Date),_.bound?(this.hide(),o.el.className+=" is-bound",c(_.trigger,"click",o._onInputClick),c(_.trigger,"focus",o._onInputFocus),c(_.trigger,"blur",o._onInputBlur)):this.show()};return W.prototype={config:function(l){this._o||(this._o=S({},L,!0));var o=S(this._o,l,!0);o.isRTL=!!o.isRTL,o.field=o.field&&o.field.nodeName?o.field:null,o.theme=typeof o.theme=="string"&&o.theme?o.theme:null,o.bound=!!(o.bound!==void 0?o.field&&o.bound:o.field),o.trigger=o.trigger&&o.trigger.nodeName?o.trigger:o.field,o.disableWeekends=!!o.disableWeekends,o.disableDayFn=typeof o.disableDayFn=="function"?o.disableDayFn:null;var _=parseInt(o.numberOfMonths,10)||1;if(o.numberOfMonths=_>4?4:_,b(o.minDate)||(o.minDate=!1),b(o.maxDate)||(o.maxDate=!1),o.minDate&&o.maxDate&&o.maxDate<o.minDate&&(o.maxDate=o.minDate=!1),o.minDate&&this.setMinDate(o.minDate),o.maxDate&&this.setMaxDate(o.maxDate),E(o.yearRange)){var m=new Date().getFullYear()-10;o.yearRange[0]=parseInt(o.yearRange[0],10)||m,o.yearRange[1]=parseInt(o.yearRange[1],10)||m}else o.yearRange=Math.abs(parseInt(o.yearRange,10))||L.yearRange,o.yearRange>100&&(o.yearRange=100);return o},toString:function(l){return l=l||this._o.format,b(this._d)?this._o.toString?this._o.toString(this._d,l):a?n(this._d).format(l):this._d.toDateString():""},getMoment:function(){return a?n(this._d):null},setMoment:function(l,o){a&&n.isMoment(l)&&this.setDate(l.toDate(),o)},getDate:function(){return b(this._d)?new Date(this._d.getTime()):null},setDate:function(l,o){if(!l)return this._d=null,this._o.field&&(this._o.field.value="",P(this._o.field,"change",{firedBy:this})),this.draw();if(typeof l=="string"&&(l=new Date(Date.parse(l))),!!b(l)){var _=this._o.minDate,m=this._o.maxDate;b(_)&&l<_?l=_:b(m)&&l>m&&(l=m),this._d=new Date(l.getTime()),p(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),P(this._o.field,"change",{firedBy:this})),!o&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(l){var o=!0;if(b(l)){if(this.calendars){var _=new Date(this.calendars[0].year,this.calendars[0].month,1),m=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),N=l.getTime();m.setMonth(m.getMonth()+1),m.setDate(m.getDate()-1),o=N<_.getTime()||m.getTime()<N}o&&(this.calendars=[{month:l.getMonth(),year:l.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(l,o){var _=this.getDate()||new Date,m=parseInt(o)*24*60*60*1e3,N;l==="add"?N=new Date(_.valueOf()+m):l==="subtract"&&(N=new Date(_.valueOf()-m)),this.setDate(N)},adjustCalendars:function(){this.calendars[0]=$(this.calendars[0]);for(var l=1;l<this._o.numberOfMonths;l++)this.calendars[l]=$({month:this.calendars[0].month+l,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(l){isNaN(l)||(this.calendars[0].month=parseInt(l,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(l){isNaN(l)||(this.calendars[0].year=parseInt(l,10),this.adjustCalendars())},setMinDate:function(l){l instanceof Date?(p(l),this._o.minDate=l,this._o.minYear=l.getFullYear(),this._o.minMonth=l.getMonth()):(this._o.minDate=L.minDate,this._o.minYear=L.minYear,this._o.minMonth=L.minMonth,this._o.startRange=L.startRange),this.draw()},setMaxDate:function(l){l instanceof Date?(p(l),this._o.maxDate=l,this._o.maxYear=l.getFullYear(),this._o.maxMonth=l.getMonth()):(this._o.maxDate=L.maxDate,this._o.maxYear=L.maxYear,this._o.maxMonth=L.maxMonth,this._o.endRange=L.endRange),this.draw()},setStartRange:function(l){this._o.startRange=l},setEndRange:function(l){this._o.endRange=l},draw:function(l){if(!(!this._v&&!l)){var o=this._o,_=o.minYear,m=o.maxYear,N=o.minMonth,A=o.maxMonth,M="",I;this._y<=_&&(this._y=_,!isNaN(N)&&this._m<N&&(this._m=N)),this._y>=m&&(this._y=m,!isNaN(A)&&this._m>A&&(this._m=A));for(var B=0;B<o.numberOfMonths;B++)I="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),M+='<div class="pika-lendar">'+j(this,B,this.calendars[B].year,this.calendars[B].month,this.calendars[0].year,I)+this.render(this.calendars[B].year,this.calendars[B].month,I)+"</div>";this.el.innerHTML=M,o.bound&&o.field.type!=="hidden"&&i(function(){o.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),o.bound&&o.field.setAttribute("aria-label",o.ariaLabel)}},adjustPosition:function(){var l,o,_,m,N,A,M,I,B,Z,me,he;if(!this._o.container){if(this.el.style.position="absolute",l=this._o.trigger,o=l,_=this.el.offsetWidth,m=this.el.offsetHeight,N=window.innerWidth||s.documentElement.clientWidth,A=window.innerHeight||s.documentElement.clientHeight,M=window.pageYOffset||s.body.scrollTop||s.documentElement.scrollTop,me=!0,he=!0,typeof l.getBoundingClientRect=="function")Z=l.getBoundingClientRect(),I=Z.left+window.pageXOffset,B=Z.bottom+window.pageYOffset;else for(I=o.offsetLeft,B=o.offsetTop+o.offsetHeight;o=o.offsetParent;)I+=o.offsetLeft,B+=o.offsetTop;(this._o.reposition&&I+_>N||this._o.position.indexOf("right")>-1&&I-_+l.offsetWidth>0)&&(I=I-_+l.offsetWidth,me=!1),(this._o.reposition&&B+m>A+M||this._o.position.indexOf("top")>-1&&B-m-l.offsetHeight>0)&&(B=B-m-l.offsetHeight,he=!1),this.el.style.left=I+"px",this.el.style.top=B+"px",d(this.el,me?"left-aligned":"right-aligned"),d(this.el,he?"bottom-aligned":"top-aligned"),w(this.el,me?"right-aligned":"left-aligned"),w(this.el,he?"top-aligned":"bottom-aligned")}},render:function(l,o,_){var m=this._o,N=new Date,A=y(l,o),M=new Date(l,o,1).getDay(),I=[],B=[];p(N),m.firstDay>0&&(M-=m.firstDay,M<0&&(M+=7));for(var Z=o===0?11:o-1,me=o===11?0:o+1,he=o===0?l-1:l,ke=o===11?l+1:l,We=y(he,Z),oe=A+M,Ye=oe;Ye>7;)Ye-=7;oe+=7-Ye;for(var O=!1,Ne=0,Ht=0;Ne<oe;Ne++){var be=new Date(l,o,1+(Ne-M)),ft=b(this._d)?C(be,this._d):!1,hn=C(be,N),pn=m.events.indexOf(be.toDateString())!==-1,Wt=Ne<M||Ne>=A+M,it=1+(Ne-M),bt=o,mt=l,Mt=m.startRange&&C(m.startRange,be),gn=m.endRange&&C(m.endRange,be),vn=m.startRange&&m.endRange&&m.startRange<be&&be<m.endRange,_n=m.minDate&&be<m.minDate||m.maxDate&&be>m.maxDate||m.disableWeekends&&v(be)||m.disableDayFn&&m.disableDayFn(be);Wt&&(Ne<M?(it=We+it,bt=Z,mt=he):(it=it-A,bt=me,mt=ke));var U={day:it,month:bt,year:mt,hasEvent:pn,isSelected:ft,isToday:hn,isDisabled:_n,isEmpty:Wt,isStartRange:Mt,isEndRange:gn,isInRange:vn,showDaysInNextAndPreviousMonths:m.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:m.enableSelectionDaysInNextAndPreviousMonths};m.pickWholeWeek&&ft&&(O=!0),B.push(Y(U)),++Ht===7&&(m.showWeekNumber&&B.unshift(Q(Ne-M,o,l,m.firstWeekOfYearMinDays)),I.push(re(B,m.isRTL,m.pickWholeWeek,O)),B=[],Ht=0,O=!1)}return se(m,I,_)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),w(this.el,"is-hidden"),this._o.bound&&(c(s,"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){var l=this._v;l!==!1&&(this._o.bound&&u(s,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),d(this.el,"is-hidden"),this._v=!1,l!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){var l=this._o;this.hide(),u(this.el,"mousedown",this._onMouseDown,!0),u(this.el,"touchend",this._onMouseDown,!0),u(this.el,"change",this._onChange),l.keyboardInput&&u(s,"keydown",this._onKeyChange),l.field&&(u(l.field,"change",this._onInputChange),l.bound&&(u(l.trigger,"click",this._onInputClick),u(l.trigger,"focus",this._onInputFocus),u(l.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},W})})(Bt)),Bt.exports}Jc();const ga={smileys:[{emoji:"",name:"grinning face happy smile"},{emoji:"",name:"grinning face big eyes happy"},{emoji:"",name:"grinning face smiling eyes happy"},{emoji:"",name:"beaming face grin happy"},{emoji:"",name:"grinning face sweat nervous"},{emoji:"",name:"face tears joy laughing lol"},{emoji:"",name:"rolling floor laughing rofl lol"},{emoji:"",name:"smiling face blush happy"},{emoji:"",name:"smiling face halo angel innocent"},{emoji:"",name:"slightly smiling face"},{emoji:"",name:"upside down face silly"},{emoji:"",name:"winking face wink"},{emoji:"",name:"relieved face peaceful"},{emoji:"",name:"heart eyes love smitten"},{emoji:"",name:"smiling face hearts love"},{emoji:"",name:"face blowing kiss love"},{emoji:"",name:"face savoring food yummy delicious"},{emoji:"",name:"face tongue out playful"},{emoji:"",name:"winking face tongue playful crazy"},{emoji:"",name:"zany face crazy wild silly"},{emoji:"",name:"face sunglasses cool"},{emoji:"",name:"star struck excited amazing"},{emoji:"",name:"partying face celebration party"},{emoji:"",name:"smirking face smirk"},{emoji:"",name:"unamused face annoyed"},{emoji:"",name:"pensive face sad thoughtful"},{emoji:"",name:"crying face sad tear"},{emoji:"",name:"loudly crying face sob"},{emoji:"",name:"face screaming fear shocked"},{emoji:"",name:"pouting face angry mad"},{emoji:"",name:"thinking face hmm wonder"},{emoji:"",name:"hugging face hug"},{emoji:"",name:"shushing face quiet secret"},{emoji:"",name:"face hand over mouth giggle oops"},{emoji:"",name:"zipper mouth face quiet secret"},{emoji:"",name:"yawning face tired sleepy bored"},{emoji:"",name:"sleeping face zzz sleep tired"}],people:[{emoji:"",name:"waving hand wave hello hi bye"},{emoji:"",name:"raised back hand stop"},{emoji:"",name:"raised hand high five stop"},{emoji:"",name:"hand fingers splayed"},{emoji:"",name:"ok hand okay perfect"},{emoji:"",name:"pinched fingers italian"},{emoji:"",name:"victory hand peace"},{emoji:"",name:"crossed fingers luck hope"},{emoji:"",name:"love you gesture hand"},{emoji:"",name:"sign horns rock metal"},{emoji:"",name:"thumbs up good like yes approve"},{emoji:"",name:"thumbs down bad dislike no"},{emoji:"",name:"raised fist power"},{emoji:"",name:"oncoming fist punch bump"},{emoji:"",name:"handshake deal agree"},{emoji:"",name:"clapping hands applause bravo"},{emoji:"",name:"raising hands celebration hooray"},{emoji:"",name:"flexed biceps strong muscle"},{emoji:"",name:"folded hands pray please thanks"}],animals:[{emoji:"",name:"cat face kitty meow"},{emoji:"",name:"dog face puppy woof"},{emoji:"",name:"mouse face rat"},{emoji:"",name:"rabbit face bunny"},{emoji:"",name:"fox face"},{emoji:"",name:"bear face teddy"},{emoji:"",name:"panda face"},{emoji:"",name:"koala face"},{emoji:"",name:"tiger face"},{emoji:"",name:"lion face"},{emoji:"",name:"cow face moo"},{emoji:"",name:"pig face oink"},{emoji:"",name:"frog face ribbit"},{emoji:"",name:"monkey face"},{emoji:"",name:"chicken face hen"},{emoji:"",name:"unicorn face magic"},{emoji:"",name:"honeybee bee buzz"},{emoji:"",name:"butterfly insect"}],food:[{emoji:"",name:"red apple fruit"},{emoji:"",name:"pizza slice"},{emoji:"",name:"hamburger burger"},{emoji:"",name:"french fries"},{emoji:"",name:"hot dog"},{emoji:"",name:"popcorn movie snack"},{emoji:"",name:"doughnut donut"},{emoji:"",name:"cookie biscuit"},{emoji:"",name:"birthday cake celebration"},{emoji:"",name:"shortcake cake slice"},{emoji:"",name:"hot beverage coffee tea"},{emoji:"",name:"beer mug drink"},{emoji:"",name:"wine glass drink"},{emoji:"",name:"cocktail glass martini drink"}],travel:[{emoji:"",name:"airplane plane flight travel"},{emoji:"",name:"automobile car vehicle"},{emoji:"",name:"taxi cab car"},{emoji:"",name:"bus vehicle"},{emoji:"",name:"rocket space launch"},{emoji:"",name:"house home building"},{emoji:"",name:"office building"},{emoji:"",name:"globe earth world planet"},{emoji:"",name:"statue liberty new york"},{emoji:"",name:"tokyo tower"},{emoji:"",name:"castle palace"},{emoji:"",name:"beach umbrella vacation"},{emoji:"",name:"mountain nature"}],activities:[{emoji:"",name:"soccer ball football sport"},{emoji:"",name:"basketball sport"},{emoji:"",name:"american football sport"},{emoji:"",name:"baseball sport"},{emoji:"",name:"tennis sport"},{emoji:"",name:"video game controller gaming"},{emoji:"",name:"bullseye target dart"},{emoji:"",name:"guitar music instrument rock"},{emoji:"",name:"microphone singing karaoke"},{emoji:"",name:"clapper board movie film"},{emoji:"",name:"artist palette painting art"},{emoji:"",name:"performing arts theater drama"}],objects:[{emoji:"",name:"light bulb idea"},{emoji:"",name:"mobile phone smartphone"},{emoji:"",name:"laptop computer"},{emoji:"",name:"camera photo"},{emoji:"",name:"books reading study"},{emoji:"",name:"memo note write"},{emoji:"",name:"pencil write draw"},{emoji:"",name:"key unlock"},{emoji:"",name:"money bag cash"},{emoji:"",name:"gem stone diamond jewel"},{emoji:"",name:"wrapped gift present"},{emoji:"",name:"bell notification alert"}],symbols:[{emoji:"",name:"red heart love"},{emoji:"",name:"orange heart love"},{emoji:"",name:"yellow heart love"},{emoji:"",name:"green heart love"},{emoji:"",name:"blue heart love"},{emoji:"",name:"purple heart love"},{emoji:"",name:"black heart love dark"},{emoji:"",name:"broken heart sad"},{emoji:"",name:"sparkles stars magic"},{emoji:"",name:"star"},{emoji:"",name:"glowing star shine"},{emoji:"",name:"hundred points perfect score"},{emoji:"",name:"check mark yes done complete"},{emoji:"",name:"cross mark no wrong"},{emoji:"",name:"warning sign alert caution"},{emoji:"",name:"fire hot flame lit"},{emoji:"",name:"collision boom explosion"},{emoji:"",name:"party popper celebration confetti"}],flags:[{emoji:"",name:"white flag surrender"},{emoji:"",name:"black flag"},{emoji:"",name:"triangular flag red flag"}]},Xc={smileys:"Smileys & Emotion",people:"People & Body",animals:"Animals & Nature",food:"Food & Drink",travel:"Travel & Places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"},Rr="vxfeed_emoji_recents",Qc=20,Yn=()=>{try{const e=localStorage.getItem(Rr);return e?JSON.parse(e):[]}catch{return[]}},Kc=e=>{try{const t=Yn().filter(n=>n!==e);t.unshift(e),localStorage.setItem(Rr,JSON.stringify(t.slice(0,Qc)))}catch{}},eu=()=>React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M12.5 11H11.71L11.43 10.73C12.41 9.59 13 8.11 13 6.5C13 2.91 10.09 0 6.5 0C2.91 0 0 2.91 0 6.5C0 10.09 2.91 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z",fill:"currentColor"}));function ra({isOpen:e,onClose:t,onSelect:n,target:a}){const[r,s]=V(""),[i,c]=V([]),u=ne(null);ce(()=>{c(Yn())},[]),ce(()=>{e&&u.current&&setTimeout(()=>{u.current?.focus()},100)},[e]),ce(()=>{e||s("")},[e]);const f=Pe(()=>{if(!r.trim())return[];const d=r.toLowerCase();return Object.values(ga).flat().filter(E=>E.name.toLowerCase().includes(d))},[r]),g=x(d=>{Kc(d),c(Yn()),n(d)},[n]);return e?React.createElement(Bs,{isOpen:e,popupId:"emoji-picker-popup",target:a,onClose:t,showHeader:!1,showFooter:!1,popupClass:"ts-emoji-popup"},React.createElement("div",{className:"ts-sticky-top uib b-bottom"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement(eu,null),React.createElement("input",{ref:u,type:"text",value:r,onChange:d=>s(d.target.value),placeholder:"Search emojis",className:"autofocus"}))),React.createElement("div",{className:"ts-emoji-list"},r.trim()?React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,f.length>0?"Search results":"No emojis found"),React.createElement("ul",{className:"flexify simplify-ul"},f.map((d,w)=>React.createElement("li",{key:`search-${w}`},React.createElement("span",{onClick:()=>g(d.emoji)},d.emoji))))):React.createElement(React.Fragment,null,i.length>0&&React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,"Recently used"),React.createElement("ul",{className:"flexify simplify-ul"},i.map((d,w)=>React.createElement("li",{key:`recent-${w}`},React.createElement("span",{onClick:()=>g(d)},d))))),Object.entries(ga).map(([d,w])=>React.createElement("div",{key:d,className:"ts-form-group"},React.createElement("label",{className:"hidden"},Xc[d]||d),React.createElement("ul",{className:"flexify simplify-ul"},w.map((E,b)=>React.createElement("li",{key:`${d}-${b}`},React.createElement("span",{onClick:()=>g(E.emoji)},E.emoji))))))))):null}function tu({config:e,value:t,onChange:n,className:a=""}){const[r,s]=V(t);ce(()=>{s(t)},[t]);const i=x((d,w)=>{s(E=>{const b={...E};return E[d]===w?delete b[d]:b[d]=w,n(b),b})},[n]),c=x((d,w)=>r[d]===w,[r]),u=x((d,w)=>{const E=r[d];return typeof E=="number"&&E>=w},[r]),f=x(d=>{const w=r[d];if(typeof w!="number")return null;const E=w+2;return E>=0&&E<e.rating_levels.length?e.rating_levels[E]:null},[r,e.rating_levels]),g=e.categories||[];return React.createElement("div",{className:`rev-score-input ${a}`},g.map(d=>{const w=f(d.key);return React.createElement("div",{key:d.key,className:"rev-category",style:w?{"--ts-accent-1":w.color}:void 0},React.createElement("div",{className:"rev-category-label"},React.createElement("span",null,d.label),w&&React.createElement("span",{className:"rev-active-label"},w.label)),e.input_mode==="stars"?React.createElement("ul",{className:"rev-star-input flexify simplify-ul"},e.rating_levels.map((E,b)=>{const v=b-2,h=u(d.key,v),y=c(d.key,v);return React.createElement("li",{key:E.score,className:`${h?"active":""} ${y?"selected":""}`,onClick:()=>i(d.key,v)},React.createElement("span",{dangerouslySetInnerHTML:{__html:h?e.active_icon??e.default_icon??"":e.default_icon??""}}))})):React.createElement("ul",{className:"rev-num-input flexify simplify-ul"},e.rating_levels.map((E,b)=>{const v=b-2,h=c(d.key,v);return React.createElement("li",{key:E.score,className:h?"active":"",onClick:()=>i(d.key,v),style:h?{"--ts-accent-1":E.color}:void 0},React.createElement("span",null,E.label))})))}))}const nu=()=>React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M8.25016 10.5C7.5598 10.5 7.00016 11.0596 7.00016 11.75C7.00016 12.4404 7.5598 13 8.25016 13H8.26016C8.95051 13 9.51016 12.4404 9.51016 11.75C9.51016 11.0596 8.95051 10.5 8.26016 10.5H8.25016Z",fill:"currentColor"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.75016 5.5C7.75016 4.25736 8.75751 3.25 10.0002 3.25H19.0002C20.2428 3.25 21.2502 4.25736 21.2502 5.5V14.5C21.2502 15.7426 20.2428 16.75 19.0002 16.75H17.2502V18.5C17.2502 19.7426 16.2428 20.75 15.0002 20.75H6.00016C4.75751 20.75 3.75016 19.7426 3.75016 18.5V17.6916C3.74995 17.6814 3.74995 17.6712 3.75016 17.6611V9.5C3.75016 8.25736 4.75751 7.25 6.00016 7.25H7.75016V5.5ZM15.7502 9.5V15.9558L13.4851 13.8525C12.789 13.206 11.7619 13.0665 10.9186 13.5037L5.25016 16.4421L5.25016 9.5C5.25016 9.08579 5.58594 8.75 6.00016 8.75H15.0002C15.4144 8.75 15.7502 9.08579 15.7502 9.5ZM5.25016 18.5V18.1317L11.6089 14.8354C11.89 14.6896 12.2324 14.7362 12.4644 14.9516L15.7502 18.0028V18.5C15.7502 18.9142 15.4144 19.25 15.0002 19.25H6.00016C5.58594 19.25 5.25016 18.9142 5.25016 18.5ZM9.25016 7.25H15.0002C16.2428 7.25 17.2502 8.25736 17.2502 9.5V15.25H19.0002C19.4144 15.25 19.7502 14.9142 19.7502 14.5V5.5C19.7502 5.08579 19.4144 4.75 19.0002 4.75H10.0002C9.58594 4.75 9.25016 5.08579 9.25016 5.5V7.25Z",fill:"currentColor"})),au=()=>React.createElement("svg",{viewBox:"0 0 25 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M6.80747 9.56843C6.80747 6.46718 9.32153 3.95312 12.4228 3.95312C15.524 3.95312 18.0381 6.46718 18.0381 9.56843V9.87773H18.098C20.9007 9.87773 23.1727 12.1498 23.1727 14.9524C23.1727 17.7551 20.9007 20.0272 18.098 20.0272H14.2524C14.5162 19.6585 14.6715 19.2069 14.6715 18.719V18.5272H18.098C20.0723 18.5272 21.6727 16.9267 21.6727 14.9524C21.6727 12.9782 20.0723 11.3777 18.098 11.3777H17.2881C16.8739 11.3777 16.5381 11.0419 16.5381 10.6277V9.56843C16.5381 7.29561 14.6956 5.45312 12.4228 5.45312C10.15 5.45312 8.30747 7.29561 8.30747 9.56843L8.30747 10.6277C8.30747 11.0419 7.97169 11.3777 7.55747 11.3777H6.74659C4.77233 11.3777 3.17188 12.9782 3.17188 14.9524C3.17188 16.9267 4.77233 18.5272 6.74659 18.5272H10.1715V18.719C10.1715 19.2069 10.3268 19.6585 10.5906 20.0272H6.74659C3.94391 20.0272 1.67188 17.7551 1.67188 14.9524C1.67188 12.1498 3.9439 9.87773 6.74659 9.87773H6.80747V9.56843Z",fill:"currentColor"}),React.createElement("path",{d:"M12.4246 11.0874C12.2107 11.0874 12.0178 11.1768 11.8812 11.3204L9.24138 13.9585C8.94839 14.2513 8.94824 14.7262 9.24104 15.0192C9.53384 15.3122 10.0087 15.3123 10.3017 15.0195L11.6746 13.6475V18.718C11.6746 19.1322 12.0104 19.468 12.4246 19.468C12.8388 19.468 13.1746 19.1322 13.1746 18.718V13.6499L14.5452 15.0196C14.8382 15.3124 15.3131 15.3122 15.6059 15.0192C15.8987 14.7262 15.8985 14.2513 15.6055 13.9585L12.9916 11.3465C12.8541 11.1878 12.6511 11.0874 12.4246 11.0874Z",fill:"currentColor"})),ru=()=>React.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM12 20.5C7.31 20.5 3.5 16.69 3.5 12C3.5 7.31 7.31 3.5 12 3.5C16.69 3.5 20.5 7.31 20.5 12C20.5 16.69 16.69 20.5 12 20.5Z",fill:"currentColor"}),React.createElement("path",{d:"M17.6 13.19C17.37 13.04 17.07 13.02 16.83 13.15C16.81 13.16 14.56 14.35 12 14.35C9.44 14.35 7.19 13.16 7.17 13.15C6.93 13.02 6.63 13.03 6.4 13.19C6.17 13.34 6.04 13.61 6.07 13.89C6.3 16.26 8.46 18.78 12 18.78C15.54 18.78 17.69 16.26 17.93 13.89C17.96 13.61 17.83 13.35 17.6 13.19ZM12 17.27C10.07 17.27 8.7 16.31 8.02 15.13C9.04 15.48 10.45 15.85 12 15.85C13.55 15.85 14.96 15.49 15.98 15.13C15.3 16.31 13.93 17.27 12 17.27Z",fill:"currentColor"}),React.createElement("path",{d:"M7.33 10.14C7.36 10.22 7.4 10.29 7.44 10.36C7.49 10.43 7.54 10.49 7.6 10.55C7.65 10.61 7.72 10.66 7.79 10.7C7.85 10.75 7.93 10.79 8 10.82C8.08 10.85 8.16 10.87 8.24 10.89C8.32 10.91 8.4 10.92 8.48 10.92C8.56 10.92 8.64 10.92 8.72 10.89C8.8 10.86 8.88 10.85 8.96 10.82C9.03 10.79 9.11 10.75 9.17 10.7C9.24 10.66 9.31 10.61 9.36 10.55C9.6 10.32 9.73 9.99 9.73 9.67C9.73 9.35 9.6 9.01 9.36 8.78C9.31 8.72 9.24 8.67 9.17 8.63C9.11 8.58 9.03 8.54 8.96 8.51C8.88 8.48 8.8 8.46 8.72 8.44C8.56 8.41 8.4 8.41 8.24 8.44C8.16 8.46 8.08 8.48 8 8.51C7.93 8.54 7.85 8.58 7.79 8.63C7.72 8.67 7.65 8.72 7.6 8.78C7.36 9.01 7.23 9.33 7.23 9.67C7.23 9.75 7.23 9.83 7.26 9.91C7.27 9.99 7.29 10.07 7.33 10.14Z",fill:"currentColor"}),React.createElement("path",{d:"M12.99 11.02C13.38 11.16 13.8 10.95 13.94 10.56C13.97 10.48 14.25 9.76 14.97 9.76C15.69 9.76 15.97 10.48 16 10.55C16.1 10.86 16.4 11.06 16.71 11.06C16.79 11.06 16.87 11.05 16.95 11.02C17.34 10.89 17.55 10.46 17.42 10.07C17.19 9.4 16.42 8.25 14.97 8.25C13.52 8.25 12.75 9.39 12.52 10.07C12.39 10.46 12.6 10.88 12.99 11.01V11.02Z",fill:"currentColor"})),va=()=>React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M10 9.75C10.4142 9.75 10.75 10.0858 10.75 10.5V16.5C10.75 16.9142 10.4142 17.25 10 17.25C9.58579 17.25 9.25 16.9142 9.25 16.5V10.5C9.25 10.0858 9.58579 9.75 10 9.75Z",fill:"currentColor"}),React.createElement("path",{d:"M14.75 10.5C14.75 10.0858 14.4142 9.75 14 9.75C13.5858 9.75 13.25 10.0858 13.25 10.5V16.5C13.25 16.9142 13.5858 17.25 14 17.25C14.4142 17.25 14.75 16.9142 14.75 16.5V10.5Z",fill:"currentColor"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99951 4.25C7.99951 3.00736 9.00687 2 10.2495 2H13.7495C14.9922 2 15.9995 3.00736 15.9995 4.25V5H19.999C20.4132 5 20.749 5.33579 20.749 5.75C20.749 6.16421 20.4132 6.5 19.999 6.5H19.5V19.75C19.5 20.9926 18.4926 22 17.25 22H6.75C5.50736 22 4.5 20.9926 4.5 19.75V6.5H4C3.58579 6.5 3.25 6.16421 3.25 5.75C3.25 5.33579 3.58579 5 4 5H7.99951V4.25ZM18 6.5H6V19.75C6 20.1642 6.33579 20.5 6.75 20.5H17.25C17.6642 20.5 18 20.1642 18 19.75V6.5ZM9.49951 5H14.4995V4.25C14.4995 3.83579 14.1637 3.5 13.7495 3.5H10.2495C9.8353 3.5 9.49951 3.83579 9.49951 4.25V5Z",fill:"currentColor"})),_a=()=>React.createElement("svg",{viewBox:"0 0 25 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M6.80747 9.56843C6.80747 6.46718 9.32153 3.95312 12.4228 3.95312C15.524 3.95312 18.0381 6.46718 18.0381 9.56843V9.87773H18.098C20.9007 9.87773 23.1727 12.1498 23.1727 14.9524C23.1727 17.7551 20.9007 20.0272 18.098 20.0272H14.2524C14.5162 19.6585 14.6715 19.2069 14.6715 18.719V18.5272H18.098C20.0723 18.5272 21.6727 16.9267 21.6727 14.9524C21.6727 12.9782 20.0723 11.3777 18.098 11.3777H17.2881C16.8739 11.3777 16.5381 11.0419 16.5381 10.6277V9.56843C16.5381 7.29561 14.6956 5.45312 12.4228 5.45312C10.15 5.45312 8.30747 7.29561 8.30747 9.56843L8.30747 10.6277C8.30747 11.0419 7.97169 11.3777 7.55747 11.3777H6.74659C4.77233 11.3777 3.17188 12.9782 3.17188 14.9524C3.17188 16.9267 4.77233 18.5272 6.74659 18.5272H10.1715V18.719C10.1715 19.2069 10.3268 19.6585 10.5906 20.0272H6.74659C3.94391 20.0272 1.67188 17.7551 1.67188 14.9524C1.67188 12.1498 3.9439 9.87773 6.74659 9.87773H6.80747V9.56843Z",fill:"currentColor"}),React.createElement("path",{d:"M12.4246 11.0874C12.2107 11.0874 12.0178 11.1768 11.8812 11.3204L9.24138 13.9585C8.94839 14.2513 8.94824 14.7262 9.24104 15.0192C9.53384 15.3122 10.0087 15.3123 10.3017 15.0195L11.6746 13.6475V18.718C11.6746 19.1322 12.0104 19.468 12.4246 19.468C12.8388 19.468 13.1746 19.1322 13.1746 18.718V13.6499L14.5452 15.0196C14.8382 15.3124 15.3131 15.3122 15.6059 15.0192C15.8987 14.7262 15.8985 14.2513 15.6055 13.9585L12.9916 11.3465C12.8541 11.1878 12.6511 11.0874 12.4246 11.0874Z",fill:"currentColor"}));function xr({feed:e="user_timeline",postId:t,placeholder:n,onStatusCreated:a,className:r="",status:s,onCancel:i,onUpdate:c}){const{config:u}=$e(),f=Ss(),g=Ct(),d=!!s,w=d?s?.current_user.can_edit:!0,E=d?!0:f.can_post,[b,v]=V(d),[h,y]=V(s?.content??""),[p,C]=V(!1),[S,P]=V(null),[$,L]=V(s?.files??[]),[k,Y]=V(s?.review?.rating??{}),[q,Q]=V(!1),[re,le]=V(!1),[H,j]=V({url:null,loading:!1,data:null}),se=ne(null),{uploads:W,completedFiles:l,isUploading:o,addFiles:_,removeFile:m,clearAll:N,uploadAll:A}=Da({maxFiles:u?.upload_config.max_files??5,maxFileSize:u?.upload_config.max_file_size??2*1024*1024,allowedTypes:u?.upload_config.allowed_types??["image/jpeg","image/png","image/gif","image/webp"]});ce(()=>{d&&s&&(y(s.content),L(s.files??[]),Y(s.review?.rating??{}),v(!0))},[d,s]);const M=Pe(()=>/(https?:\/\/[^\s]+)/g,[]);ce(()=>{if(d)return;const U=setTimeout(()=>{const z=h.match(M);if(z&&z[0]!==H.url){const ge=z[0];j(Ie=>({...Ie,url:ge,loading:!0})),se.current?.abort();const ye=new AbortController;se.current=ye;const Ce=u?.nonces?.status_publish??"";Es(ge,Ce,ye.signal).then(Ie=>{ye.signal.aborted||j({url:ge,loading:!1,data:Ie})}).catch(()=>{ye.signal.aborted||j({url:ge,loading:!1,data:null})})}else!z&&H.url&&j({url:null,loading:!1,data:null})},500);return()=>{clearTimeout(U)}},[h,M,H.url,d,u?.nonces?.status_publish]),ce(()=>()=>{se.current?.abort()},[]);const I=ne(null),B=ne(null),Z=ne(null),me=Oa(h),he=u?.character_limits.status_max??5e3,ke=me>he,We=d?s?.current_user.can_edit:f.can_post,oe=h.trim().length>0||$.length>0||l.length>0,Ye=We&&oe&&!ke&&!p&&!o,O=x(()=>{v(!0)},[]),Ne=x(U=>{y(U.target.value),P(null);const z=U.target;z.style.height="auto",z.style.height=`${z.scrollHeight}px`},[]),Ht=x(U=>{const z=U.target.files;z&&z.length>0&&_(z),U.target.value=""},[_]),be=x(U=>{if(U.preventDefault(),d&&i){i();return}y(""),N(),L([]),v(!1),P(null),I.current&&(I.current.style.height="auto",I.current.blur())},[d,i,N]),ft=x(async U=>{if(U?.preventDefault(),!!Ye){C(!0),P(null);try{let z=[];W.some(Ce=>Ce.status==="pending")?z=(await A()).map(Ie=>Ie.id):z=l.map(Ce=>Ce.id);const ye=[...$.map(Ce=>Ce.id),...z];if(d&&s){const Ce=u?.nonces?.status_edit??"",Ie={status_id:s.id,content:h.trim(),files:ye,rating:k},yn=await cs(Ie,Ce);c?.(yn)}else{const Ce=u?.nonces?.status_publish??"";if(!Ce)throw new Error("Configuration not loaded");const Ie={feed:e,content:h.trim(),files:ye,rating:Object.keys(k).length>0?k:void 0};t&&(Ie.post_id=t),H.data&&H.url&&(Ie.link_preview=H.url);const yn=await ls(Ie,Ce);y(""),N(),L([]),Y({}),j({url:null,loading:!1,data:null}),v(!1),I.current&&(I.current.style.height="auto"),a?.(yn)}}catch(z){P(z instanceof Error?z.message:g.error_generic)}finally{C(!1)}}},[Ye,h,e,t,W,l,$,A,N,d,s,u?.nonces?.status_edit,u?.nonces?.status_publish,a,c,g.error_generic,H,k]),hn=x(U=>{(U.metaKey||U.ctrlKey)&&U.key==="Enter"&&(U.preventDefault(),ft())},[ft]),pn=x(U=>{U.preventDefault(),B.current?.click()},[]),Wt=x(U=>{const z=I.current;if(!z)return;const ge=z.selectionStart,ye=z.selectionEnd,Ce=h.substring(0,ge)+U+h.substring(ye);y(Ce),requestAnimationFrame(()=>{z.focus(),z.setSelectionRange(ge+U.length,ge+U.length)})},[h]),it=x(U=>{U.preventDefault(),Q(z=>!z)},[]),bt=x(U=>{L(z=>z.filter(ge=>ge.id!==U))},[]),mt=Pe(()=>{const U=e==="post_reviews",z=d&&s?.feed==="post_reviews"&&s?.review;if(!U&&!z)return null;const ge=u?.review_config;if(!ge)return null;let ye;return z&&s?.review?.post_type?ye=s.review.post_type:ye=u?.current_post?.post_type,!ye||!ge[ye]?null:ge[ye]},[e,d,s,u?.review_config,u?.current_post]);if(d&&!w||!d&&!E)return null;const Mt=u?.current_user,gn=Mt?.avatar_url??"",vn=Mt?.display_name??"",_n=n??g.compose_placeholder??"What's on your mind?";return React.createElement("div",{style:{minHeight:"61px"}},React.createElement("div",{ref:Z,className:`vxf-create-post flexify ${b?"vxf-expanded":""} ${r}`},Mt&&React.createElement("div",{className:"vxf-avatar flexify"},React.createElement("img",{src:gn,alt:vn})),React.createElement("div",{className:"vxf-create-post__content"},React.createElement("div",{className:"vxf-content__highlighter"}),React.createElement("textarea",{ref:I,className:"vxf-content__textarea",value:h,onChange:Ne,onFocus:O,onKeyDown:hn,placeholder:_n,maxLength:he,disabled:p})),b&&React.createElement("div",{className:"vxf-footer-wrapper"},mt&&React.createElement("div",{className:"vxf-review-score-section"},React.createElement(tu,{config:mt,value:k,onChange:Y})),(W.length>0||l.length>0||$.length>0)&&React.createElement("div",{className:"ts-form-group ts-file-upload vxf-create-section"},React.createElement("div",{className:"ts-file-list"},$.map(U=>{const z=U.url?.match(/\.(jpg|jpeg|png|gif|webp)$/i);return React.createElement("div",{key:`existing-${U.id}`,className:`ts-file ${z?"ts-file-img":""}`,style:z?{backgroundImage:`url(${U.preview||U.url})`}:{}},React.createElement("div",{className:"ts-file-info"},React.createElement(_a,null),React.createElement("code",null,U.alt||"File")),React.createElement("a",{href:"#",className:"ts-remove-file flexify",onClick:ge=>{ge.preventDefault(),bt(U.id)}},React.createElement(va,null)))}),W.map(U=>{const z=U.file.type.startsWith("image/"),ge=z?URL.createObjectURL(U.file):"";return React.createElement("div",{key:U.id,className:`ts-file ${z?"ts-file-img":""}`,style:z?{backgroundImage:`url(${ge})`}:{}},React.createElement("div",{className:"ts-file-info"},React.createElement(_a,null),React.createElement("code",null,U.file.name)),React.createElement("a",{href:"#",className:"ts-remove-file flexify",onClick:ye=>{ye.preventDefault(),m(U.id)}},React.createElement(va,null)),U.status==="uploading"&&React.createElement("div",{className:"vxf-file-progress",style:{width:`${U.progress}%`}}))}))),React.createElement("div",{className:"vxf-footer flexify"},React.createElement("div",{className:"vxf-actions flexify"},f.can_upload&&u?.features.file_upload&&React.createElement(React.Fragment,null,React.createElement(zr,{multiple:!0,saveLabel:"Insert",target:Z.current,onSave:U=>{console.log("[StatusComposer] Media selected:",U)}},React.createElement("a",{href:"#",onClick:U=>U.preventDefault(),className:"vxf-icon vxf-media-target"},React.createElement(nu,null))),React.createElement("a",{href:"#",onClick:pn,className:"vxf-icon"},React.createElement(au,null))),React.createElement("a",{href:"#",className:"vxf-icon vxf-emoji-picker",onClick:it},React.createElement(ru,null)),React.createElement(ra,{isOpen:q,onClose:()=>Q(!1),onSelect:Wt,target:Z.current})),React.createElement("div",{className:"vxf-buttons flexify"},React.createElement("a",{href:"#",onClick:be,className:"ts-btn ts-btn-1"},g.cancel??"Cancel"),React.createElement("a",{href:"#",onClick:ft,className:`ts-btn ts-btn-2 ${p?"vx-pending":""}`},p?React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{className:"ts-loader"})):d?g.update??"Update":g.compose_submit??"Publish")))),f.can_upload&&u?.features.file_upload&&React.createElement("input",{ref:B,type:"file",accept:u.upload_config.allowed_types.join(","),multiple:!0,onChange:Ht,style:{display:"none"},"aria-hidden":"true"})),S&&React.createElement("div",{className:"vxf-create-post__error ts-form-error"},S))}function Er(e,t,n,a,r){const s=`${e.type}-${t}`;switch(e.type){case"text":return React.createElement(wn,{key:s},e.content.split(`
`).map((g,d,w)=>React.createElement(wn,{key:d},g,d<w.length-1&&React.createElement("br",null))));case"mention":const i=e.metadata?.userId?`${n}?user_id=${e.metadata.userId}`:`${n}?username=${encodeURIComponent(e.content)}`;return React.createElement("a",{key:s,href:i,className:"vxf-mention","data-user-id":e.metadata?.userId},"@",e.content);case"hashtag":const c=`${a}?search=${encodeURIComponent("#"+e.content)}`;return React.createElement("a",{key:s,href:c,className:"vxf-hashtag"},"#",e.content);case"link":const u=e.content.replace(/^https?:\/\//,"").replace(/\/$/,""),f=u.length>40?u.slice(0,37)+"...":u;return React.createElement("a",{key:s,href:e.metadata?.url||e.content,className:"vxf-link",target:r,rel:r==="_blank"?"noopener noreferrer":void 0},f);case"code":return e.content.includes(`
`)?React.createElement("pre",{key:s,className:"vxf-code-block"},React.createElement("code",null,e.content)):React.createElement("code",{key:s,className:"vxf-code-inline"},e.content);case"bold":return React.createElement("strong",{key:s,className:"vxf-bold"},e.content);case"italic":return React.createElement("em",{key:s,className:"vxf-italic"},e.content);case"strikethrough":return React.createElement("del",{key:s,className:"vxf-strikethrough"},e.content);default:return React.createElement(wn,{key:s},e.content)}}function br({content:e,maxLength:t,onToggleExpand:n,isExpanded:a=!0,mentionBaseUrl:r="/members/",hashtagBaseUrl:s="/search/",className:i="",linkTarget:c="_blank"}){const{displayContent:u,isTruncated:f}=Pe(()=>{if(!t||a||e.length<=t)return{displayContent:e,isTruncated:!1};const d=Ws(e,t,!0);return{displayContent:d.text,isTruncated:d.isTruncated}},[e,t,a]),g=Pe(()=>Na(u),[u]);return React.createElement("div",{className:`vxf-content ${i}`},g.map((d,w)=>Er(d,w,r,s,c)),f&&!a&&n&&React.createElement("button",{type:"button",className:"vxf-content-toggle vxf-content-toggle--more",onClick:n},"Read more"),a&&t&&e.length>t&&n&&React.createElement("button",{type:"button",className:"vxf-content-toggle vxf-content-toggle--less",onClick:n},"Show less"))}function su({content:e,className:t=""}){const n=Pe(()=>Na(e),[e]);return React.createElement("span",{className:t},n.map((a,r)=>Er(a,r,"/members/","/search/","_blank")))}function Mr({files:e,galleryIcon:t,statusId:n,className:a=""}){const r=e.filter(i=>i.type==="image"||i.mime_type?.startsWith("image/"));if(r.length===0)return null;const s=n&&r.length>1?`vxtl_${n}`:null;return React.createElement("ul",{className:`vxf-gallery simplify-ul ${a}`},r.map((i,c)=>React.createElement("li",{key:i.id||c},React.createElement("a",{href:i.url,"data-elementor-open-lightbox":"yes","data-elementor-lightbox-slideshow":s},React.createElement("img",{src:i.preview??i.thumbnail_url??i.url,alt:i.alt||"",loading:"lazy"})))))}function iu({preview:e,externalIcon:t,className:n=""}){const{config:a}=et();return e.type==="youtube"&&e.embed_url&&e.video_id?React.createElement("div",{className:`vxf-youtube-embed ${n}`},React.createElement("iframe",{src:`${e.embed_url}?rel=0&modestbranding=1&showinfo=0&controls=1&disablekb=1&iv_load_policy=3&fs=1&autoplay=0&mute=0&loop=0&playlist=${e.video_id}`,frameBorder:0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy",className:"vxf-youtube-iframe"})):React.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer nofollow",className:`vxf-link flexify ${n}`},e.image&&React.createElement("img",{src:e.image,alt:"",loading:"lazy"}),React.createElement("div",{className:"vxf-link-details flexify"},React.createElement("b",null,e.title),React.createElement("span",{className:"vxf-icon vxf-link-source"},e.domain,React.createElement("span",{dangerouslySetInnerHTML:{__html:a?.icons?.["external-link"]??""}}))))}function Sr({status:e,truncateAt:t=140,className:n=""}){const a=e.publisher,r=a.avatar_url??"",s=a.display_name??"",i=a.link??"#",c=Pe(()=>Vs(e.created_at),[e.created_at]),u=Pe(()=>e.content?$s(e.content,t):"",[e.content,t]);return e.private?React.createElement("div",{className:`vxf-quoted vxf-quoted--unavailable ${n}`},React.createElement("div",{className:"vxf-quoted--body"},React.createElement("p",{className:"vxf-quoted-unavailable"},"This content is no longer available"))):React.createElement("div",{className:`vxf-quoted ${n}`},React.createElement("div",{className:"vxf-quoted--head"},React.createElement("a",{href:i,className:"vxf-quoted-avatar"},r?React.createElement("img",{src:r,alt:s}):React.createElement("span",{className:"vxf-avatar-initials"},s.charAt(0).toUpperCase())),React.createElement("div",{className:"vxf-quoted-publisher"},React.createElement("a",{href:i,className:"vxf-quoted-name"},s),React.createElement("span",{className:"vxf-quoted-timestamp"},c))),React.createElement("div",{className:"vxf-quoted--body"},e.content&&React.createElement("div",{className:"vxf-quoted-content"},React.createElement(su,{content:u})),e.files&&e.files.length>0&&e.files[0].type==="image"&&React.createElement("div",{className:"vxf-quoted-image"},React.createElement("img",{src:e.files[0].thumbnail_url||e.files[0].url,alt:"",loading:"lazy"}),e.files.length>1&&React.createElement("span",{className:"vxf-quoted-image-more"},"+",e.files.length-1))))}function It({target:e,onBlur:t,children:n,className:a=""}){const r=ne(null),s=ne(null),[i,c]=V({}),u=x(()=>{if(!r.current||!s.current||!e)return;const f=document.body.clientWidth,g=e.getBoundingClientRect(),d=s.current,w=e.offsetWidth,E={left:g.left+window.scrollX,top:g.top+window.scrollY},b=d.getBoundingClientRect(),v=window.getComputedStyle(d),h=parseFloat(v.minWidth)||180,y=Math.max(g.width,h),p=E.left+w/2,C=f/2;let S;p>C+1?S=E.left-y+w:S=E.left,S<10&&(S=10),S+y>f-10&&(S=f-y-10);let P=E.top+g.height;const $=window.innerHeight,L=b.height,k=g.bottom+L>$,Y=g.top-L>=0;k&&Y&&(P=E.top-L),c({position:"absolute",top:`${P}px`,left:`${S}px`,width:`${y}px`})},[e]);return ce(()=>{const f=d=>{const w=d.target;s.current?.contains(w)||e?.contains(w)||t()},g=requestAnimationFrame(()=>{document.addEventListener("mousedown",f)});return()=>{cancelAnimationFrame(g),document.removeEventListener("mousedown",f)}},[e,t]),ce(()=>{const f=g=>{g.key==="Escape"&&t()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[t]),jr(()=>{u()},[u]),ce(()=>{const f=()=>u(),g=()=>u();window.addEventListener("scroll",f,!0),window.addEventListener("resize",g,!0);let d=null;return s.current&&(d=new ResizeObserver(()=>u()),d.observe(s.current)),()=>{window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",g,!0),d?.disconnect()}},[u]),e?Gr(React.createElement("div",{className:`elementor vx-popup xs-width ${a}`},React.createElement("div",{className:"ts-popup-root elementor-element"},React.createElement("div",{ref:r,className:"ts-form elementor-element",style:i},React.createElement("div",{className:"ts-field-popup-container"},React.createElement("div",{className:"ts-field-popup triggers-blur",ref:s},React.createElement("div",{className:"ts-popup-content-wrapper min-scroll"},React.createElement("div",{className:"ts-term-dropdown ts-md-group"},React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list min-scroll"},n)))))))),document.body):null}const ou=()=>React.createElement("div",{className:"ray-holder"},[...Array(8)].map((e,t)=>React.createElement("div",{key:t,className:"ray"})));function lu({comment:e,status:t,depth:n,maxDepth:a=2,onCommentUpdate:r,onCommentDelete:s,onShowReplies:i,onReplyClick:c,showRepliesButton:u=!0}){const{config:f}=et(),g=Ct(),d=kt(),w=ne(null),[E,b]=V(!1),[v,h]=V(!1),{actionState:y,optimisticComment:p,handleLike:C,handleDelete:S,handleApprove:P,handleMarkPending:$}=js(e,r,s),L=Pe(()=>({...e,...p,likes:{...e.likes,...p.likes},current_user:{...e.current_user,...p.current_user}}),[e,p]),k=f?.strings??{},Y=e.publisher,q=Y.avatar_url??"",Q=Y.display_name??"",re=Y.username??"",le=Y.link??"#",H=e.created_at,j=L.current_user?.has_liked??!1,se=e.replies?.count>0,W=n<a,l=x(m=>{m.preventDefault(),C()},[C]),o=x(async()=>{const m=window.Voxel_Config?.l10n?.confirmAction??g.delete_comment_confirm??"Are you sure?";confirm(m)&&(b(!1),await S())},[S,g.delete_comment_confirm]),_=["vxf-post","vxf-comment",y.isDeleting?"vx-pending":""].filter(Boolean).join(" ");return React.createElement("div",{className:_},React.createElement("div",{className:"vxf-head flexify"},React.createElement("a",{href:le,className:"vxf-avatar flexify"},React.createElement("img",{src:q,alt:Q})),React.createElement("div",{className:"vxf-user flexify"},React.createElement("a",{href:le},Q,Y.is_verified&&React.createElement("div",{className:"vxf-icon vxf-verified",dangerouslySetInnerHTML:{__html:f?.icons?.verified??""}})),React.createElement("span",null,re&&React.createElement("a",{href:le},"@",re),React.createElement("a",{href:e.link??"#",title:e.edited_at?k.editedOn?.replace("@date",e.edited_at):void 0},H),e.badges?.map(m=>React.createElement("span",{key:m.key,"data-badge":m.key,className:"vxf-badge"},m.label)))),(L.current_user?.can_edit||L.current_user?.can_delete||L.current_user?.can_moderate)&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",className:"vxf-icon vxf-more",ref:w,onClick:m=>m.preventDefault(),onMouseDown:()=>b(m=>!m),dangerouslySetInnerHTML:{__html:f?.icons?.more??""}}),E&&React.createElement(It,{target:w.current,onBlur:()=>b(!1)},L.current_user?.can_moderate&&e.is_pending&&React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:async m=>{m.preventDefault(),await P(),b(!1)}},React.createElement("span",null,k.approve??"Approve"))),L.current_user?.can_moderate&&!e.is_pending&&React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:async m=>{m.preventDefault(),await $(),b(!1)}},React.createElement("span",null,k.mark_pending??"Mark as pending"))),L.current_user?.can_delete&&React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:m=>{m.preventDefault(),o()}},React.createElement("span",null,k.delete??"Delete")))))),React.createElement("div",{className:"vxf-body"},e.content&&React.createElement("div",{className:"vxf-body-text"},React.createElement(br,{content:e.content,maxLength:280,isExpanded:v,onToggleExpand:()=>h(!v)})),e.files&&e.files.length>0&&React.createElement(Mr,{files:e.files,statusId:e.id})),React.createElement("div",{className:"vxf-footer flexify"},React.createElement("div",{className:"vxf-actions flexify"},React.createElement("a",{href:"#",onClick:l,className:`vxf-icon ${j?"vxf-liked":""} ${y.isLiking?"vx-inert":""} ${e.is_pending&&!j?"vx-pending":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:j?f?.icons?.liked??"":f?.icons?.like??""}}),React.createElement(ou,null)),d&&W&&React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),c?.()},className:`vxf-icon ${e.is_pending?"vx-pending":""}`,dangerouslySetInnerHTML:{__html:f?.icons?.reply??""}}),se&&u&&React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),i?.()},className:"vxf-icon vxf-has-replies",dangerouslySetInnerHTML:{__html:f?.icons?.comment??""}})),(L.likes?.count>0||e.replies?.count>0)&&React.createElement("div",{className:"vxf-details flexify"},L.likes?.last3?.length>0&&React.createElement("div",{className:"vxf-recent-likes flexify"},L.likes.last3.map((m,N)=>React.createElement("img",{key:N,src:m.avatar_url,alt:m.display_name,title:m.display_name}))),React.createElement("span",null,L.likes?.count>0&&React.createElement("span",null,L.likes.count===1?k.oneLike??"1 like":k.countLikes?.replace("@count",String(L.likes.count))??`${L.likes.count} likes`),e.replies?.count>0&&React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),i?.()}},e.replies.count===1?k.oneReply??"1 reply":k.countReplies?.replace("@count",String(e.replies.count))??`${e.replies.count} replies`)))))}const cu=()=>React.createElement("svg",{viewBox:"0 0 25 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M6.80747 9.56843C6.80747 6.46718 9.32153 3.95312 12.4228 3.95312C15.524 3.95312 18.0381 6.46718 18.0381 9.56843V9.87773H18.098C20.9007 9.87773 23.1727 12.1498 23.1727 14.9524C23.1727 17.7551 20.9007 20.0272 18.098 20.0272H14.2524C14.5162 19.6585 14.6715 19.2069 14.6715 18.719V18.5272H18.098C20.0723 18.5272 21.6727 16.9267 21.6727 14.9524C21.6727 12.9782 20.0723 11.3777 18.098 11.3777H17.2881C16.8739 11.3777 16.5381 11.0419 16.5381 10.6277V9.56843C16.5381 7.29561 14.6956 5.45312 12.4228 5.45312C10.15 5.45312 8.30747 7.29561 8.30747 9.56843L8.30747 10.6277C8.30747 11.0419 7.97169 11.3777 7.55747 11.3777H6.74659C4.77233 11.3777 3.17188 12.9782 3.17188 14.9524C3.17188 16.9267 4.77233 18.5272 6.74659 18.5272H10.1715V18.719C10.1715 19.2069 10.3268 19.6585 10.5906 20.0272H6.74659C3.94391 20.0272 1.67188 17.7551 1.67188 14.9524C1.67188 12.1498 3.9439 9.87773 6.74659 9.87773H6.80747V9.56843Z",fill:"currentColor"}),React.createElement("path",{d:"M12.4246 11.0874C12.2107 11.0874 12.0178 11.1768 11.8812 11.3204L9.24138 13.9585C8.94839 14.2513 8.94824 14.7262 9.24104 15.0192C9.53384 15.3122 10.0087 15.3123 10.3017 15.0195L11.6746 13.6475V18.718C11.6746 19.1322 12.0104 19.468 12.4246 19.468C12.8388 19.468 13.1746 19.1322 13.1746 18.718V13.6499L14.5452 15.0196C14.8382 15.3124 15.3131 15.3122 15.6059 15.0192C15.8987 14.7262 15.8985 14.2513 15.6055 13.9585L12.9916 11.3465C12.8541 11.1878 12.6511 11.0874 12.4246 11.0874Z",fill:"currentColor"})),uu=()=>React.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM12 20.5C7.31 20.5 3.5 16.69 3.5 12C3.5 7.31 7.31 3.5 12 3.5C16.69 3.5 20.5 7.31 20.5 12C20.5 16.69 16.69 20.5 12 20.5Z",fill:"currentColor"}),React.createElement("path",{d:"M17.6 13.19C17.37 13.04 17.07 13.02 16.83 13.15C16.81 13.16 14.56 14.35 12 14.35C9.44 14.35 7.19 13.16 7.17 13.15C6.93 13.02 6.63 13.03 6.4 13.19C6.17 13.34 6.04 13.61 6.07 13.89C6.3 16.26 8.46 18.78 12 18.78C15.54 18.78 17.69 16.26 17.93 13.89C17.96 13.61 17.83 13.35 17.6 13.19ZM12 17.27C10.07 17.27 8.7 16.31 8.02 15.13C9.04 15.48 10.45 15.85 12 15.85C13.55 15.85 14.96 15.49 15.98 15.13C15.3 16.31 13.93 17.27 12 17.27Z",fill:"currentColor"}),React.createElement("path",{d:"M7.33 10.14C7.36 10.22 7.4 10.29 7.44 10.36C7.49 10.43 7.54 10.49 7.6 10.55C7.65 10.61 7.72 10.66 7.79 10.7C7.85 10.75 7.93 10.79 8 10.82C8.08 10.85 8.16 10.87 8.24 10.89C8.32 10.91 8.4 10.92 8.48 10.92C8.56 10.92 8.64 10.92 8.72 10.89C8.8 10.86 8.88 10.85 8.96 10.82C9.03 10.79 9.11 10.75 9.17 10.7C9.24 10.66 9.31 10.61 9.36 10.55C9.6 10.32 9.73 9.99 9.73 9.67C9.73 9.35 9.6 9.01 9.36 8.78C9.31 8.72 9.24 8.67 9.17 8.63C9.11 8.58 9.03 8.54 8.96 8.51C8.88 8.48 8.8 8.46 8.72 8.44C8.56 8.41 8.4 8.41 8.24 8.44C8.16 8.46 8.08 8.48 8 8.51C7.93 8.54 7.85 8.58 7.79 8.63C7.72 8.67 7.65 8.72 7.6 8.78C7.36 9.01 7.23 9.33 7.23 9.67C7.23 9.75 7.23 9.83 7.26 9.91C7.27 9.99 7.29 10.07 7.33 10.14Z",fill:"currentColor"}),React.createElement("path",{d:"M12.99 11.02C13.38 11.16 13.8 10.95 13.94 10.56C13.97 10.48 14.25 9.76 14.97 9.76C15.69 9.76 15.97 10.48 16 10.55C16.1 10.86 16.4 11.06 16.71 11.06C16.79 11.06 16.87 11.05 16.95 11.02C17.34 10.89 17.55 10.46 17.42 10.07C17.19 9.4 16.42 8.25 14.97 8.25C13.52 8.25 12.75 9.39 12.52 10.07C12.39 10.46 12.6 10.88 12.99 11.01V11.02Z",fill:"currentColor"}));function ya({statusId:e,parentId:t,onCommentPublished:n,onCancel:a,placeholder:r,autoFocus:s=!1}){const i=kt(),{config:c}=et(),u=Ct(),[f,g]=V(""),[d,w]=V(s),[E,b]=V(!1),[v,h]=V(null),[y,p]=V(!1),C=ne(null),S=ne(null),P=c?.strings??{},$=x(H=>{g(H.target.value),h(null);const j=H.target;j.style.height="auto",j.style.height=`${j.scrollHeight}px`},[]),L=x(()=>{w(!0)},[]),k=x(()=>{g(""),w(!1),h(null),C.current&&(C.current.style.height="auto"),a&&a()},[a]),Y=x(H=>{(H.metaKey||H.ctrlKey)&&H.key==="Enter"&&f.trim()&&(H.preventDefault(),q()),H.key==="Escape"&&a&&(H.preventDefault(),k())},[f,a]),q=x(async()=>{const H=f.trim();if(!H){h(u.content_too_short??"Please enter some content");return}const j=c?.nonces?.comment_publish;if(!j){h("Configuration not loaded");return}b(!0),h(null);try{const se={status_id:e,parent_id:t,content:H};console.log("[CommentComposer] Publishing comment:",se);const W=await _s(se,j);console.log("[CommentComposer] Comment published:",W),g(""),w(!1),C.current&&(C.current.style.height="auto"),n&&n(W)}catch(se){console.error("[CommentComposer] Failed to publish:",se),h(se instanceof Error?se.message:"Failed to publish comment")}finally{b(!1)}},[f,e,t,c?.nonces?.comment_publish,u,n]),Q=x(H=>{const j=C.current;if(!j)return;const se=j.selectionStart,W=j.selectionEnd,l=f.substring(0,se)+H+f.substring(W);g(l),requestAnimationFrame(()=>{j.focus(),j.setSelectionRange(se+H.length,se+H.length)})},[f]),re=x(H=>{H.preventDefault(),p(j=>!j)},[]);if(!i)return null;const le=["vxf-create-post","vxf-create-comment","flexify",d?"vxf-expanded":""].filter(Boolean).join(" ");return React.createElement("div",{ref:S,className:le},React.createElement("div",{className:"vxf-avatar flexify"},React.createElement("img",{src:i.avatar_url,alt:i.display_name})),React.createElement("div",{className:"vxf-create-post__content"},React.createElement("div",{className:"vxf-content__highlighter"},f),React.createElement("textarea",{ref:C,className:"vxf-content__textarea",placeholder:r??P.post_reply??"Post a reply",value:f,onChange:$,onFocus:L,onKeyDown:Y,disabled:E,autoFocus:s})),d&&React.createElement("div",{className:"vxf-footer-wrapper"},v&&React.createElement("div",{className:"vxf-error",style:{color:"var(--ts-shade-5)",padding:"0 10px 10px",fontSize:"13px"}},v),React.createElement("div",{className:"vxf-footer flexify"},React.createElement("div",{className:"vxf-actions flexify"},c?.features?.file_upload&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",className:"vxf-icon",onClick:H=>{H.preventDefault(),console.log("[CommentComposer] Upload clicked - not yet implemented")}},React.createElement(cu,null))),React.createElement("a",{href:"#",className:"vxf-icon vxf-emoji-picker",onClick:re},React.createElement(uu,null)),React.createElement(ra,{isOpen:y,onClose:()=>p(!1),onSelect:Q,target:S.current})),React.createElement("div",{className:"vxf-buttons flexify"},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1",onClick:H=>{H.preventDefault(),k()}},P.cancel??"Cancel"),React.createElement("a",{href:"#",className:`ts-btn ts-btn-2 ${E?"vx-pending":""}`,onClick:H=>{H.preventDefault(),q()}},E?React.createElement("span",{className:"ts-loader"}):P.reply??"Reply")))))}function Dr({status:e,parentComment:t=null,depth:n=0,maxDepth:a=2,focusComposer:r=!1}){const{config:s}=et(),i=kt(),[c,u]=V(null),[f,g]=V(new Set),{comments:d,isLoading:w,isLoadingMore:E,hasMore:b,error:v,loadMore:h,addComment:y,updateComment:p,removeComment:C}=Is(e.id,t?.id??void 0),S=s?.strings??{},P=n>0,$=n<a,L=!!i,k=x(j=>{y(j),u(null)},[y]),Y=x(j=>{p(j)},[p]),q=x(j=>{C(j)},[C]),Q=x(j=>{j.preventDefault(),h()},[h]),re=x(j=>{u(se=>se===j?null:j)},[]),le=x(j=>{g(se=>{const W=new Set(se);return W.has(j)?W.delete(j):W.add(j),W})},[]),H=["vxf-comment-level","vxf-subgrid",P?"vxf-second-level":""].filter(Boolean).join(" ");return React.createElement("div",{className:H},!P&&L&&!e.is_pending&&React.createElement(ya,{statusId:e.id,onCommentPublished:k,autoFocus:r}),d.map(j=>React.createElement("div",{key:j.id,className:"vxf-comment-wrapper"},React.createElement(lu,{comment:j,status:e,depth:n,maxDepth:a,onCommentUpdate:Y,onCommentDelete:q,onReplyClick:()=>re(j.id),onShowReplies:()=>le(j.id),showRepliesButton:$&&j.replies?.count>0&&!f.has(j.id)}),c===j.id&&$&&React.createElement(ya,{statusId:e.id,parentId:j.id,onCommentPublished:k,onCancel:()=>u(null),autoFocus:!0}),$&&f.has(j.id)&&j.replies?.count>0&&React.createElement(Dr,{status:e,parentComment:j,depth:n+1,maxDepth:a}))),b&&!w&&d.length>0&&React.createElement("a",{href:"#",className:`ts-btn ts-btn-4 ${E?"vx-pending":""}`,onClick:Q},E?React.createElement("span",{className:"ts-loader"}):S.load_more_replies??"Load more replies"),w&&React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"})),v&&React.createElement("div",{className:"ts-no-posts"},React.createElement("p",null,v)))}const du=()=>React.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM12 20.5C7.31 20.5 3.5 16.69 3.5 12C3.5 7.31 7.31 3.5 12 3.5C16.69 3.5 20.5 7.31 20.5 12C20.5 16.69 16.69 20.5 12 20.5Z",fill:"currentColor"}),React.createElement("path",{d:"M17.6 13.19C17.37 13.04 17.07 13.02 16.83 13.15C16.81 13.16 14.56 14.35 12 14.35C9.44 14.35 7.19 13.16 7.17 13.15C6.93 13.02 6.63 13.03 6.4 13.19C6.17 13.34 6.04 13.61 6.07 13.89C6.3 16.26 8.46 18.78 12 18.78C15.54 18.78 17.69 16.26 17.93 13.89C17.96 13.61 17.83 13.35 17.6 13.19ZM12 17.27C10.07 17.27 8.7 16.31 8.02 15.13C9.04 15.48 10.45 15.85 12 15.85C13.55 15.85 14.96 15.49 15.98 15.13C15.3 16.31 13.93 17.27 12 17.27Z",fill:"currentColor"}),React.createElement("path",{d:"M7.33 10.14C7.36 10.22 7.4 10.29 7.44 10.36C7.49 10.43 7.54 10.49 7.6 10.55C7.65 10.61 7.72 10.66 7.79 10.7C7.85 10.75 7.93 10.79 8 10.82C8.08 10.85 8.16 10.87 8.24 10.89C8.32 10.91 8.4 10.92 8.48 10.92C8.56 10.92 8.64 10.92 8.72 10.89C8.8 10.86 8.88 10.85 8.96 10.82C9.03 10.79 9.11 10.75 9.17 10.7C9.24 10.66 9.31 10.61 9.36 10.55C9.6 10.32 9.73 9.99 9.73 9.67C9.73 9.35 9.6 9.01 9.36 8.78C9.31 8.72 9.24 8.67 9.17 8.63C9.11 8.58 9.03 8.54 8.96 8.51C8.88 8.48 8.8 8.46 8.72 8.44C8.56 8.41 8.4 8.41 8.24 8.44C8.16 8.46 8.08 8.48 8 8.51C7.93 8.54 7.85 8.58 7.79 8.63C7.72 8.67 7.65 8.72 7.6 8.78C7.36 9.01 7.23 9.33 7.23 9.67C7.23 9.75 7.23 9.83 7.26 9.91C7.27 9.99 7.29 10.07 7.33 10.14Z",fill:"currentColor"}),React.createElement("path",{d:"M12.99 11.02C13.38 11.16 13.8 10.95 13.94 10.56C13.97 10.48 14.25 9.76 14.97 9.76C15.69 9.76 15.97 10.48 16 10.55C16.1 10.86 16.4 11.06 16.71 11.06C16.79 11.06 16.87 11.05 16.95 11.02C17.34 10.89 17.55 10.46 17.42 10.07C17.19 9.4 16.42 8.25 14.97 8.25C13.52 8.25 12.75 9.39 12.52 10.07C12.39 10.46 12.6 10.88 12.99 11.01V11.02Z",fill:"currentColor"})),fu=()=>React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M8.25016 10.5C7.5598 10.5 7.00016 11.0596 7.00016 11.75C7.00016 12.4404 7.5598 13 8.25016 13H8.26016C8.95051 13 9.51016 12.4404 9.51016 11.75C9.51016 11.0596 8.95051 10.5 8.26016 10.5H8.25016Z",fill:"currentColor"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.75016 5.5C7.75016 4.25736 8.75751 3.25 10.0002 3.25H19.0002C20.2428 3.25 21.2502 4.25736 21.2502 5.5V14.5C21.2502 15.7426 20.2428 16.75 19.0002 16.75H17.2502V18.5C17.2502 19.7426 16.2428 20.75 15.0002 20.75H6.00016C4.75751 20.75 3.75016 19.7426 3.75016 18.5V17.6916C3.74995 17.6814 3.74995 17.6712 3.75016 17.6611V9.5C3.75016 8.25736 4.75751 7.25 6.00016 7.25H7.75016V5.5ZM15.7502 9.5V15.9558L13.4851 13.8525C12.789 13.206 11.7619 13.0665 10.9186 13.5037L5.25016 16.4421L5.25016 9.5C5.25016 9.08579 5.58594 8.75 6.00016 8.75H15.0002C15.4144 8.75 15.7502 9.08579 15.7502 9.5ZM5.25016 18.5V18.1317L11.6089 14.8354C11.89 14.6896 12.2324 14.7362 12.4644 14.9516L15.7502 18.0028V18.5C15.7502 18.9142 15.4144 19.25 15.0002 19.25H6.00016C5.58594 19.25 5.25016 18.9142 5.25016 18.5ZM9.25016 7.25H15.0002C16.2428 7.25 17.2502 8.25736 17.2502 9.5V15.25H19.0002C19.4144 15.25 19.7502 14.9142 19.7502 14.5V5.5C19.7502 5.08579 19.4144 4.75 19.0002 4.75H10.0002C9.58594 4.75 9.25016 5.08579 9.25016 5.5V7.25Z",fill:"currentColor"})),mu=()=>React.createElement("svg",{viewBox:"0 0 25 24",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{d:"M6.80747 9.56843C6.80747 6.46718 9.32153 3.95312 12.4228 3.95312C15.524 3.95312 18.0381 6.46718 18.0381 9.56843V9.87773H18.098C20.9007 9.87773 23.1727 12.1498 23.1727 14.9524C23.1727 17.7551 20.9007 20.0272 18.098 20.0272H14.2524C14.5162 19.6585 14.6715 19.2069 14.6715 18.719V18.5272H18.098C20.0723 18.5272 21.6727 16.9267 21.6727 14.9524C21.6727 12.9782 20.0723 11.3777 18.098 11.3777H17.2881C16.8739 11.3777 16.5381 11.0419 16.5381 10.6277V9.56843C16.5381 7.29561 14.6956 5.45312 12.4228 5.45312C10.15 5.45312 8.30747 7.29561 8.30747 9.56843L8.30747 10.6277C8.30747 11.0419 7.97169 11.3777 7.55747 11.3777H6.74659C4.77233 11.3777 3.17188 12.9782 3.17188 14.9524C3.17188 16.9267 4.77233 18.5272 6.74659 18.5272H10.1715V18.719C10.1715 19.2069 10.3268 19.6585 10.5906 20.0272H6.74659C3.94391 20.0272 1.67188 17.7551 1.67188 14.9524C1.67188 12.1498 3.9439 9.87773 6.74659 9.87773H6.80747V9.56843Z",fill:"currentColor"}),React.createElement("path",{d:"M12.4246 11.0874C12.2107 11.0874 12.0178 11.1768 11.8812 11.3204L9.24138 13.9585C8.94839 14.2513 8.94824 14.7262 9.24104 15.0192C9.53384 15.3122 10.0087 15.3123 10.3017 15.0195L11.6746 13.6475V18.718C11.6746 19.1322 12.0104 19.468 12.4246 19.468C12.8388 19.468 13.1746 19.1322 13.1746 18.718V13.6499L14.5452 15.0196C14.8382 15.3124 15.3131 15.3122 15.6059 15.0192C15.8987 14.7262 15.8985 14.2513 15.6055 13.9585L12.9916 11.3465C12.8541 11.1878 12.6511 11.0874 12.4246 11.0874Z",fill:"currentColor"}));function hu({quoteOf:e,onQuotePublished:t,onCancel:n,className:a=""}){const{config:r}=$e(),s=Ct(),[i,c]=V(""),[u,f]=V(!1),[g,d]=V(null),[w,E]=V(!1),{uploads:b,completedFiles:v,isUploading:h,addFiles:y,removeFile:p,clearAll:C,uploadAll:S}=Da({maxFiles:r?.upload_config.max_files??5,maxFileSize:r?.upload_config.max_file_size??2*1024*1024,allowedTypes:r?.upload_config.allowed_types??["image/jpeg","image/png","image/gif","image/webp"]}),P=ne(null),$=ne(null),L=ne(null),k=Oa(i),Y=r?.character_limits.status_max??5e3,Q=!(k>Y)&&!u&&!h;ce(()=>{P.current?.focus()},[]);const re=x(M=>{c(M.target.value),d(null);const I=M.target;I.style.height="auto",I.style.height=`${I.scrollHeight}px`},[]),le=x(M=>{const I=M.target.files;I&&I.length>0&&y(I),M.target.value=""},[y]),H=x(()=>{c(""),C(),d(null),P.current&&(P.current.style.height="auto")},[C]),j=x(M=>{M.preventDefault(),H(),n()},[H,n]),se=x(async M=>{if(M?.preventDefault(),!!Q){f(!0),d(null);try{let I=[];b.some(me=>me.status==="pending")?I=(await S()).map(he=>he.id):I=v.map(me=>me.id);const B=r?.nonces?.status_quote??r?.nonces?.status_publish??"";if(!B)throw new Error("Configuration not loaded");const Z=await ms({quote_of:e.id,content:i.trim(),files:I},B);H(),t(Z)}catch(I){d(I instanceof Error?I.message:s.error_generic)}finally{f(!1)}}},[Q,i,e.id,b,v,S,r?.nonces?.status_quote,r?.nonces?.status_publish,H,t,s.error_generic]),W=x(M=>{M.preventDefault(),L.current?.click()},[]),l=x(M=>{const I=P.current;if(!I)return;const B=I.selectionStart,Z=I.selectionEnd,me=i.substring(0,B)+M+i.substring(Z);c(me),requestAnimationFrame(()=>{I.focus(),I.setSelectionRange(B+M.length,B+M.length)})},[i]),o=x(M=>{M.preventDefault(),E(I=>!I)},[]),_=r?.current_user,m=_?.avatar_url??"",N=_?.display_name??"",A=r?.strings.compose_placeholder??"Add a comment...";return React.createElement("div",{ref:$,className:`vxf-create-post vxf-quote-composer flexify vxf-expanded ${a}`},_&&React.createElement("div",{className:"vxf-avatar flexify"},React.createElement("img",{src:m,alt:N})),React.createElement("div",{className:"vxf-create-post__content"},React.createElement("div",{className:"vxf-content__highlighter"}),React.createElement("textarea",{ref:P,className:"vxf-content__textarea",value:i,onChange:re,placeholder:A,maxLength:Y,disabled:u})),React.createElement("div",{className:"vxf-footer-wrapper"},React.createElement("div",{className:"vxf-quote-preview"},React.createElement(Sr,{status:e,truncateAt:140})),(b.length>0||v.length>0)&&React.createElement("div",{className:"ts-form-group ts-file-upload vxf-create-section"},React.createElement("div",{className:"ts-file-list"},b.map(M=>{const I=M.file.type.startsWith("image/"),B=I?URL.createObjectURL(M.file):"";return React.createElement("div",{key:M.id,className:`ts-file ${I?"ts-file-img":""}`,style:I?{backgroundImage:`url(${B})`}:{}},React.createElement("div",{className:"ts-file-info"},React.createElement("code",null,M.file.name)),React.createElement("a",{href:"#",className:"ts-remove-file flexify",onClick:Z=>{Z.preventDefault(),p(M.id)}},""),M.status==="uploading"&&React.createElement("div",{className:"vxf-file-progress",style:{width:`${M.progress}%`}}))}))),React.createElement("div",{className:"vxf-footer flexify"},React.createElement("div",{className:"vxf-actions flexify"},r?.features.file_upload&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",onClick:W,className:"vxf-icon"},React.createElement(fu,null)),React.createElement("a",{href:"#",onClick:W,className:"vxf-icon"},React.createElement(mu,null))),React.createElement("a",{href:"#",className:"vxf-icon vxf-emoji-picker",onClick:o},React.createElement(du,null)),React.createElement(ra,{isOpen:w,onClose:()=>E(!1),onSelect:l,target:$.current})),React.createElement("div",{className:"vxf-buttons flexify"},React.createElement("a",{href:"#",onClick:j,className:"ts-btn ts-btn-1"},s.cancel??"Cancel"),React.createElement("a",{href:"#",onClick:se,className:`ts-btn ts-btn-2 ${u?"vx-pending":""}`},u?React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{className:"ts-loader"})):s.compose_submit??"Quote")))),r?.features.file_upload&&React.createElement("input",{ref:L,type:"file",accept:r.upload_config.allowed_types.join(","),multiple:!0,onChange:le,style:{display:"none"},"aria-hidden":"true"}),g&&React.createElement("div",{className:"vxf-create-post__error ts-form-error"},g))}const wa=()=>React.createElement("div",{className:"ray-holder"},[...Array(8)].map((e,t)=>React.createElement("div",{key:t,className:"ray"})));function Nr({status:e,onStatusUpdate:t,onStatusDelete:n,onQuote:a,repostedBy:r,isQuoted:s=!1,className:i=""}){const c=Sa(),u=Ct(),f=kt(),{config:g}=et(),d=ne(null),w=ne(null),[E,b]=V(!1),[v,h]=V(!1),[y,p]=V(!1),[C,S]=V(!1),[P,$]=V(!1),[L,k]=V("view"),[Y,q]=V(!1),{actionState:Q,optimisticStatus:re,handleLike:le,handleRepost:H,handleDelete:j,handleApprove:se,handleMarkPending:W}=Ys(e,t,n),l=Pe(()=>({...e,...re,likes:{...e.likes,...re.likes},current_user:{...e.current_user,...re.current_user}}),[e,re]),o=x(O=>{O.preventDefault(),le()},[le]),_=x(O=>{O.preventDefault(),H(),h(!1)},[H]),m=x(async()=>{const O=window.Voxel_Config?.l10n?.confirmAction??u.delete_confirm??"Are you sure?";confirm(O)&&(b(!1),await j())},[j,u.delete_confirm]),N=x(async()=>{try{const O=e.link??window.location.href;await navigator.clipboard.writeText(O),typeof window<"u"&&window.Voxel?.alert&&window.Voxel.alert(u.copied??"Copied to clipboard")}catch(O){console.error("Failed to copy link:",O)}b(!1)},[e.link,u.copied]),A=x(()=>{const O=navigator;O.share&&O.share({url:e.link??window.location.href}),b(!1)},[e.link]),M=e.created_at,I=e.publisher,B=I.avatar_url??"",Z=I.display_name??"",me=I.username??"",he=I.link??"#",ke=l.current_user?.has_liked??!1,We=l.current_user?.has_reposted??!1,oe=g?.strings??{},Ye=["vxf-post",Q.isDeleting?"vx-pending":"",i].filter(Boolean).join(" ");return e.repost_of?React.createElement(Nr,{status:e.repost_of,onStatusUpdate:O=>{t?.({...e,repost_of:O})},repostedBy:e,onStatusDelete:n}):React.createElement("div",{className:"vxf-subgrid"},React.createElement("div",{className:Ye},e.annotation&&React.createElement("div",{className:"vxf-highlight flexify"},React.createElement("div",{className:"vxf-icon",dangerouslySetInnerHTML:{__html:e.annotation.icon??""}}),React.createElement("span",null,e.annotation.text)),!e.annotation&&r&&React.createElement("div",{className:"vxf-highlight flexify"},r.annotation?React.createElement(React.Fragment,null,React.createElement("div",{className:"vxf-icon",dangerouslySetInnerHTML:{__html:r.annotation.icon??""}}),React.createElement("span",null,r.annotation.text)):React.createElement(React.Fragment,null,React.createElement("div",{className:"vxf-icon",dangerouslySetInnerHTML:{__html:g?.icons?.repost??""}}),React.createElement("span",null,React.createElement("a",{href:r.publisher.link},r.publisher.display_name)," ",oe.reposted??"reposted"))),React.createElement("div",{className:"vxf-head flexify"},React.createElement("a",{href:he,className:"vxf-avatar flexify"},React.createElement("img",{src:B,alt:Z})),React.createElement("div",{className:"vxf-user flexify"},React.createElement("a",{href:he},Z,I.is_verified&&React.createElement("div",{className:"vxf-icon vxf-verified",dangerouslySetInnerHTML:{__html:g?.icons?.verified??""}})),React.createElement("span",null,me&&React.createElement("a",{href:he},"@",me),e.post?.link&&e.post?.title&&React.createElement("a",{href:e.post.link},e.post.title),React.createElement("a",{href:e.link??"#",title:e.edited_at?oe.editedOn?.replace("@date",e.edited_at):void 0},M),e.badges?.map(O=>React.createElement("span",{key:O.key,"data-badge":O.key,className:"vxf-badge"},O.label)))),React.createElement("a",{href:"#",className:"vxf-icon vxf-more",ref:d,onClick:O=>O.preventDefault(),onMouseDown:()=>b(O=>!O),dangerouslySetInnerHTML:{__html:g?.icons?.more??""}}),E&&React.createElement(It,{target:d.current,onBlur:()=>b(!1)},React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:O=>{O.preventDefault(),N(),b(!1)}},React.createElement("span",null,oe.copy_link??"Copy link"))),navigator.share&&React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:O=>{O.preventDefault(),A(),b(!1)}},React.createElement("span",null,oe.share_via??"Share via"))),l.current_user?.can_edit&&e.link_preview&&React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:O=>{O.preventDefault(),b(!1)}},React.createElement("span",null,oe.remove_link_preview??"Remove link preview"))),l.current_user?.can_edit&&g?.features?.posts_editable&&React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:O=>{O.preventDefault(),k("edit"),b(!1)}},React.createElement("span",null,oe.edit??"Edit"))),l.current_user?.can_moderate&&e.is_pending&&React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:async O=>{O.preventDefault(),await se(),b(!1)}},React.createElement("span",null,oe.approve??"Approve"))),l.current_user?.can_moderate&&!e.is_pending&&React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:async O=>{O.preventDefault(),await W(),b(!1)}},React.createElement("span",null,oe.mark_pending??"Mark as pending"))),l.current_user?.can_delete&&React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:O=>{O.preventDefault(),m()}},React.createElement("span",null,oe.delete??"Delete"))))),React.createElement("div",{className:"vxf-body"},L==="edit"&&React.createElement(xr,{status:e,onCancel:()=>k("view"),onUpdate:O=>{t?.(O),k("view")},className:"vxf-edit-mode"}),L==="view"&&e.review&&React.createElement("div",{className:"rev-score",style:{"--ts-accent-1":e.review.level?.color}},e.review.config?.input_mode==="stars"?React.createElement("ul",{className:"rev-star-score flexify simplify-ul"},[-2,-1,0,1,2].map(O=>React.createElement("li",{key:O,className:e.review.score>=O-.5?"active":""},React.createElement("span",{dangerouslySetInnerHTML:{__html:e.review.score>=O-.5?e.review.config?.active_icon??e.review.config?.default_icon??"":e.review.config?.default_icon??""}})))):React.createElement("div",{className:"rev-num-score flexify"},e.review.formatted_score),React.createElement("span",null,e.review.level?.label)),L==="view"&&e.content&&e.link_preview?.type!=="youtube"&&React.createElement(React.Fragment,null,React.createElement("div",{className:"vxf-body-text"},React.createElement(br,{content:e.content,maxLength:280,isExpanded:Y,onToggleExpand:()=>q(!Y)}))),L==="view"&&e.link_preview?.type==="youtube"&&React.createElement("div",{className:"vxf-body-text"}),L==="view"&&e.private&&React.createElement("div",{className:"vxf-body-text",style:{opacity:.5}},oe.restricted_visibility??"This post has restricted visibility."),L==="view"&&e.files&&e.files.length>0&&React.createElement(Mr,{files:e.files,galleryIcon:c.galleryIcon,statusId:e.id}),L==="view"&&e.link_preview&&React.createElement(iu,{preview:e.link_preview,externalIcon:c.externalIcon}),L==="view"&&e.quote_of&&React.createElement(Sr,{status:e.quote_of,truncateAt:140})),!s&&React.createElement("div",{className:"vxf-footer flexify"},React.createElement("div",{className:"vxf-actions flexify"},React.createElement("a",{href:"#",onClick:o,className:`vxf-icon ${ke?"vxf-liked":""} ${Q.isLiking?"vx-inert":""} ${e.is_pending&&!ke?"vx-pending":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:ke?g?.icons?.liked??"":g?.icons?.like??""}}),React.createElement(wa,null)),g?.features?.reposts&&React.createElement("a",{href:"#",className:`vxf-icon ${We?"vxf-reposted":""} ${Q.isReposting?"vx-inert":""} ${e.is_pending?"vx-pending":""}`,ref:w,onClick:O=>O.preventDefault(),onMouseDown:()=>h(O=>!O)},React.createElement("span",{dangerouslySetInnerHTML:{__html:g?.icons?.repost??""}}),React.createElement(wa,null)),React.createElement("a",{href:"#",onClick:O=>{O.preventDefault(),f&&(C?(S(!1),$(!1)):(S(!0),$(!0)))},className:`vxf-icon ${e.is_pending?"vx-pending":""}`,dangerouslySetInnerHTML:{__html:g?.icons?.reply??""}}),e.replies?.count>0&&React.createElement("a",{href:"#",onClick:O=>{O.preventDefault(),S(!C),$(!1)},className:"vxf-icon vxf-has-replies",dangerouslySetInnerHTML:{__html:g?.icons?.comment??""}})),(l.likes?.count>0||l.replies?.count>0)&&React.createElement("div",{className:"vxf-details flexify"},l.likes?.last3?.length>0&&React.createElement("div",{className:"vxf-recent-likes flexify"},l.likes.last3.map((O,Ne)=>React.createElement("img",{key:Ne,src:O.avatar_url,alt:O.display_name,title:O.display_name}))),React.createElement("span",null,l.likes?.count>0&&React.createElement("span",null,l.likes.count===1?oe.oneLike??"1 like":oe.countLikes?.replace("@count",String(l.likes.count))??`${l.likes.count} likes`),l.replies?.count>0&&React.createElement("a",{href:"#",onClick:O=>{O.preventDefault(),S(!C)}},l.replies.count===1?oe.oneReply??"1 reply":oe.countReplies?.replace("@count",String(l.replies.count))??`${l.replies.count} replies`))),v&&React.createElement(It,{target:w.current,onBlur:()=>h(!1)},React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:_},React.createElement("span",null,We?oe.unrepost??"Unrepost":oe.repost??"Repost"))),React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:O=>{if(O.preventDefault(),h(!1),!window.Voxel_Config?.is_logged_in){window.Voxel?.authRequired?.();return}p(!0)}},React.createElement("span",null,oe.quote??"Quote")))))),y&&React.createElement(hu,{quoteOf:e,onQuotePublished:O=>{p(!1),a?.(O)},onCancel:()=>p(!1)}),C&&React.createElement(Dr,{status:e,depth:0,maxDepth:g?.features?.comment_depth??2,focusComposer:P}))}const pu=()=>React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z",fill:"#343C54"}));function gu({filters:e,onFiltersChange:t,orderingOptions:n=[],showSearch:a=!0,showFilterTabs:r=!0,className:s=""}){const i=Array.isArray(n)?n:[],[c,u]=V(e.search??""),f=ne(null),[g,d]=V(!1),[w,E]=V(!1),b=ne(null),v=ne(null),h=i.find(k=>k.order===e.order&&k.time===e.time)??i[0],y=e.filter??"all",p=Os(),C=x(k=>{const Y=k.target.value;u(Y),f.current&&clearTimeout(f.current),f.current=window.setTimeout(()=>{t({search:Y||void 0})},300)},[t]),S=x((k,Y)=>{k.preventDefault(),t({filter:Y==="all"?void 0:Y}),d(!1)},[t]),P=x((k,Y)=>{k.preventDefault(),t({order:Y.order,time:Y.time,timeCustom:Y.time==="custom"?Y.timeCustom:void 0}),E(!1)},[t]),$=x(k=>{k.preventDefault(),d(Y=>!Y),E(!1)},[]),L=x(k=>{k.preventDefault(),E(Y=>!Y),d(!1)},[]);return ce(()=>()=>{f.current&&clearTimeout(f.current)},[]),React.createElement("div",{className:`vxf-filters ${s}`},a&&React.createElement("div",{className:"ts-form"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement(pu,null),React.createElement("input",{type:"text",value:c,onChange:C,placeholder:"Search",className:"autofocus",maxLength:128}))),r&&Object.keys(p).length>=2&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",ref:b,onClick:k=>k.preventDefault(),onMouseDown:$},p[y]||"All",React.createElement("div",{className:"ts-down-icon"})),g&&React.createElement(It,{target:b.current,onBlur:()=>d(!1)},Object.entries(p).map(([k,Y])=>React.createElement("li",{key:k},React.createElement("a",{href:"#",className:"flexify",onClick:q=>S(q,k)},React.createElement("span",null,Y)))))),i.length>0&&h&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",ref:v,onClick:k=>k.preventDefault(),onMouseDown:L},h.label,React.createElement("div",{className:"ts-down-icon"})),w&&React.createElement(It,{target:v.current,onBlur:()=>E(!1)},i.map(k=>React.createElement("li",{key:k._id},React.createElement("a",{href:"#",className:"flexify",onClick:Y=>P(Y,k)},React.createElement("span",null,k.label)))))))}const vu=()=>React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})),_u=()=>React.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 3.75C6.21979 3.75 2.75 7.21979 2.75 11.5C2.75 15.7802 6.21979 19.25 10.5 19.25C12.4067 19.25 14.1566 18.5645 15.5146 17.4227L19.2197 21.1278C19.5126 21.4207 19.9875 21.4207 20.2804 21.1278C20.5733 20.8349 20.5733 20.36 20.2804 20.0671L16.5753 16.362C17.717 15.0041 18.4025 13.2542 18.4025 11.3475C18.4025 7.06729 14.9327 3.5975 10.6525 3.5975L10.5 3.75ZM4.25 11.5C4.25 8.04822 7.04822 5.25 10.5 5.25C13.9518 5.25 16.75 8.04822 16.75 11.5C16.75 14.9518 13.9518 17.75 10.5 17.75C7.04822 17.75 4.25 14.9518 4.25 11.5Z",fill:"currentColor"})),yu=Pr(function({mode:t,postId:n,authorId:a,showFilters:r=!0,showSearch:s=!0,emptyMessage:i,className:c=""},u){const f=Sa(),g=Ct(),{config:d}=et(),w=t??f.mode??"user_feed";console.log("[StatusFeed] Render with mode:",{propMode:t,attributeMode:f.mode,finalMode:w,currentPost:d?.current_post,postIdProp:n,authorIdProp:a});const E={};if(["post_timeline","post_wall","post_reviews"].includes(w)){const W=n??d?.current_post?.id;W?(E.postId=W,console.log(`[StatusFeed] Mode "${w}" requires post_id, using:`,W)):console.warn(`[StatusFeed] Mode "${w}" requires post_id but none available!`)}else n&&(E.postId=n);if(w==="author_timeline"){const W=a??d?.current_post?.author_id;W?(E.authorId=W,console.log('[StatusFeed] Mode "author_timeline" requires author_id, using:',W)):console.warn('[StatusFeed] Mode "author_timeline" requires author_id but none available!')}else a&&(E.authorId=a);if(f.orderingOptions?.length>0){const W=f.orderingOptions[0];E.order=W.order,E.time=W.time,W.time==="custom"&&(E.timeCustom=W.timeCustom)}const{statuses:h,isLoading:y,isLoadingMore:p,hasMore:C,loadMore:S,refresh:P,setFilters:$,addStatus:L,updateStatus:k,removeStatus:Y,filters:q}=Ls(w,E);Fr(u,()=>({addStatus:L,refresh:P}),[L,P]);const Q=ne(null);ce(()=>{if(!Q.current||!C||p)return;const W=new IntersectionObserver(l=>{l[0].isIntersecting&&C&&!p&&S()},{rootMargin:"200px",threshold:0});return W.observe(Q.current),()=>{W.disconnect()}},[C,p,S]);const re=x(W=>{$(W)},[$]),le=x(W=>{k(W)},[k]),H=x(W=>{Y(W)},[Y]),j=i??d?.strings?.no_activity??f.noStatusText??g.no_posts,se=()=>y?React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"})):React.createElement("div",{className:"ts-no-posts"},React.createElement(_u,null),React.createElement("p",null,j));return React.createElement(React.Fragment,null,r&&React.createElement(gu,{filters:q,onFiltersChange:re,orderingOptions:f.orderingOptions,showSearch:s&&f.searchEnabled}),h.length>0?React.createElement(React.Fragment,null,h.map(W=>React.createElement(Nr,{key:W.id,status:W,onStatusUpdate:le,onStatusDelete:H})),C&&React.createElement("a",{ref:Q,href:"#",onClick:W=>{W.preventDefault(),S()},className:`ts-load-more ts-btn ts-btn-1 ${p?"vx-pending":""}`},React.createElement(vu,null),g.load_more??"Load more")):se())});function wu({reason:e}){const n=e?{login_required:"Please log in to view this content.",followers_only:"Only followers can view this content.",customers_only:"Only customers can view this content.",private:"This content is private.",no_post_context:"Post not found.",no_author_context:"Author not found."}[e]??"Content not available.":"Content not available.";return React.createElement("div",{className:"ts-no-posts"},React.createElement("p",null,n))}function ku({attributes:e,context:t,className:n=""}){const{config:a}=et(),{visible:r,reason:s}=Ds(),i=Ns(),c=ne(null),u=e?.orderingOptions,f=Pe(()=>(Array.isArray(u)?u:[]).map(v=>({_id:v._id??"default",order:v.order??"latest",time:v.time??"all_time",timeCustom:v.timeCustom??7,label:v.label??"Latest"})),[u]),g=b=>{c.current?.addStatus(b)};if(!r)return React.createElement("div",{className:`vxfeed ${n}`},React.createElement(wu,{reason:s}));const w=t==="editor"?!0:i?.can_post??!1,E=i?.placeholder;return React.createElement(React.Fragment,null,a&&React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify({timeline:{mode:e.mode},current_user:a.current_user,current_post:a.current_post??null,settings:{character_limits:a.character_limits,upload_config:a.upload_config,features:a.features,statuses_per_page:a.statuses_per_page,comments_per_page:a.comments_per_page},l10n:a.strings,reviews:a.review_config,nonce:a.nonces.status_publish,composer:{post_types:a.post_types,default_order:a.default_order}})}}),React.createElement("script",{type:"text/json",className:"vxconfig__icons",dangerouslySetInnerHTML:{__html:JSON.stringify(a.icons||{})}})),React.createElement("div",{className:`vxfeed ${n}`},w&&React.createElement(xr,{feed:i?.feed,placeholder:E,onStatusCreated:g}),React.createElement(yu,{ref:c,mode:e.mode,showFilters:f.length>1||e.searchEnabled,showSearch:e.searchEnabled,emptyMessage:e.noStatusText})))}function Cu({attributes:e,context:t,postId:n,className:a=""}){return React.createElement(Ms,{attributes:e,postId:n,context:t},React.createElement(ku,{attributes:e,context:t,className:a}))}function Ru({attributes:e,setAttributes:t}){ce(()=>{const a="voxel-social-feed-css";if(!document.getElementById(a)){const r=document.createElement("link");r.id=a,r.rel="stylesheet";const i=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");r.href=`${i}/wp-content/themes/voxel/assets/dist/social-feed.css?ver=1.7.5.2`,document.head.appendChild(r)}},[]);const n=Ca({className:"voxel-fse-timeline-block-editor"});return React.createElement(React.Fragment,null,React.createElement(Lr,null,React.createElement(Wr,{tabs:[{id:"content",label:ae("Content","voxel-fse"),icon:"",render:()=>React.createElement(ns,{attributes:e,setAttributes:t})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:t})),React.createElement("div",{...n},React.createElement(Cu,{attributes:e,context:"editor",className:"voxel-fse-timeline-editor"})))}function xe(e){return!e||!e.library||!e.value?"":e.library==="svg"?`<img src="${e.value}" class="ts-svg-icon" alt="" />`:e.library==="icon"?`<i class="${e.value}"></i>`:""}function xu(e){return{timeline:{mode:e.mode},block_settings:{no_status_text:e.noStatusText,search_enabled:e.searchEnabled,search_value:e.searchValue,ordering_options:e.orderingOptions.map(t=>({_id:t._id,label:t.label,order:t.order,time:t.time,time_custom:t.timeCustom}))}}}function Eu(e){return{verified:xe(e.verifiedIcon),repost:xe(e.repostIcon),more:xe(e.moreIcon),like:xe(e.likeIcon),liked:xe(e.likedIcon),comment:xe(e.commentIcon),reply:xe(e.replyIcon),gallery:xe(e.galleryIcon),upload:xe(e.uploadIcon),emoji:xe(e.emojiIcon),search:xe(e.searchIcon),trash:xe(e.trashIcon),"external-link":xe(e.externalIcon),loading:xe(e.loadMoreIcon),"no-post":xe(e.noPostsIcon)}}function bu({attributes:e}){const t=qr(e,{blockId:e.blockId||"timeline",baseClass:"voxel-fse-timeline-frontend"}),n=Ca.save({id:t.elementId,className:t.className,style:t.styles,"data-mode":e.mode,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...t.customAttrs}),a=xu(e),r=Eu(e);return React.createElement("div",{...n},t.responsiveCSS&&React.createElement("style",{dangerouslySetInnerHTML:{__html:t.responsiveCSS}}),Jr(e,!1,void 0,void 0,t.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig-block",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),React.createElement("script",{type:"text/json",className:"vxconfig-icons",dangerouslySetInnerHTML:{__html:JSON.stringify(r)}}),React.createElement("div",{className:"voxel-fse-timeline-placeholder"},React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px",backgroundColor:"#f5f5f5",borderRadius:"4px",color:"#666",gap:"8px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",style:{opacity:.5}},React.createElement("path",{d:"M13.5 2c-5.288 0-9.649 3.914-10.377 9h-3.123l4 5.917 4-5.917h-2.847c.711-3.972 4.174-7 8.347-7 4.687 0 8.5 3.813 8.5 8.5s-3.813 8.5-8.5 8.5c-3.015 0-5.662-1.583-7.171-3.957l-1.2 1.775c1.916 2.536 4.948 4.182 8.371 4.182 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z"})),React.createElement("span",null,"Timeline (VX) - Loading..."))))}const Mu="https://schemas.wp.org/trunk/block.json",Su=3,Du="voxel-fse/timeline",Nu="1.0.0",Ou="Timeline (VX)",Tu="voxel-fse",Lu="Social timeline feed with posts, comments, likes, and reposts. Converted from Voxel Timeline widget.",Yu=["timeline","feed","social","posts","voxel","newsfeed","activity"],Iu="voxel-fse",ju="file:./index.js",Pu="file:./frontend.js",Fu="file:./render.php",Au="file:./frontend.css",Hu={html:!1,anchor:!0,className:!0},Wu={mode:{type:"string",default:"user_feed"},orderingOptions:{type:"array",default:[]},noStatusText:{type:"string",default:"No posts available"},searchEnabled:{type:"boolean",default:!0},searchValue:{type:"string",default:"@tags()@site().query_var(q)@endtags()"},verifiedIcon:{type:"object",default:null},repostIcon:{type:"object",default:null},moreIcon:{type:"object",default:null},likeIcon:{type:"object",default:null},likedIcon:{type:"object",default:null},commentIcon:{type:"object",default:null},replyIcon:{type:"object",default:null},galleryIcon:{type:"object",default:null},uploadIcon:{type:"object",default:null},emojiIcon:{type:"object",default:null},searchIcon:{type:"object",default:null},trashIcon:{type:"object",default:null},externalIcon:{type:"object",default:null},loadMoreIcon:{type:"object",default:null},noPostsIcon:{type:"object",default:null},contentTabOpenPanel:{type:"string",default:"timeline-settings"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},ka={$schema:Mu,apiVersion:Su,name:Du,version:Nu,title:Ou,category:Tu,description:Lu,keywords:Yu,textdomain:Iu,editorScript:ju,viewScript:Pu,render:Fu,style:Au,supports:Hu,attributes:Wu};Tr(ka.name,{...ka,icon:Xr,edit:Ru,save:bu})});export default Vu();
