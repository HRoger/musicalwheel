import{registerBlockType as q}from"@wordpress/blocks";import S,{useMemo as j,useRef as A,useState as X,useEffect as z,useCallback as K}from"react";import{__ as n}from"@wordpress/i18n";import{useBlockProps as D,InspectorControls as Q}from"@wordpress/block-editor";import{TextControl as M,SelectControl as H,ToggleControl as F,RangeControl as L}from"@wordpress/components";import{useSelect as Y}from"@wordpress/data";import{A as U,a as b,R as C,C as v,c as I,T as N,S as E,B as ee,p as oe,n as te}from"../TypographyPopup-CAcEJ5NA.js";import{I as re,V as ne,v as ae}from"../InspectorTabs-Bq2wAh4W.js";import"../RepeaterControl-C7JnAhZL.js";import"@wordpress/api-fetch";/* empty css                            */import{E as le}from"../EmptyPlaceholder-BsL18qxN.js";import{R as ce}from"../RelationControl-D8hRYr3b.js";import"../voxelShim-DB_Ue-9R.js";import{g as G}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as ie}from"../backgroundElements-Ui-iCrLV.js";import{I as Z}from"../IconPickerControl-Lep6knGI.js";import"react-dom";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";const se=({label:e,values:c,onChange:o,placeholder:r="0px"})=>{const s=(t,k)=>{o({...c,[t]:k})};return S.createElement("div",{className:"voxel-fse-box-control"},S.createElement("label",{className:"components-base-control__label"},e),S.createElement("div",{className:"voxel-fse-box-control__grid"},S.createElement(M,{label:n("Top","voxel-fse"),value:c?.top||"",onChange:t=>s("top",t),placeholder:r}),S.createElement(M,{label:n("Right","voxel-fse"),value:c?.right||"",onChange:t=>s("right",t),placeholder:r}),S.createElement(M,{label:n("Bottom","voxel-fse"),value:c?.bottom||"",onChange:t=>s("bottom",t),placeholder:r}),S.createElement(M,{label:n("Left","voxel-fse"),value:c?.left||"",onChange:t=>s("left",t),placeholder:r})))},me="https://schemas.wp.org/trunk/block.json",pe=3,de="voxel-fse/map",he="1.0.0",ge="Map (VX)",xe="voxel-fse",fe="Interactive map displaying markers from search results or current post location.",ve=["map","location","markers","google maps","mapbox","voxel"],ke="voxel-fse",ye={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},Ce="file:./index.js",ue="file:./frontend.js",Be="file:./render.php",$e={blockId:{type:"string",default:""},source:{type:"string",default:"search-form",enum:["search-form","current-post"]},searchFormId:{type:"string",default:""},dragSearch:{type:"boolean",default:!0},dragSearchMode:{type:"string",default:"manual",enum:["automatic","manual"]},dragSearchDefault:{type:"string",default:"unchecked",enum:["checked","unchecked"]},height:{type:"number",default:400},height_tablet:{type:"number"},height_mobile:{type:"number"},heightUnit:{type:"string",default:"px"},enableCalcHeight:{type:"boolean",default:!1},enableCalcHeight_tablet:{type:"boolean"},enableCalcHeight_mobile:{type:"boolean"},calcHeight:{type:"string",default:""},calcHeight_tablet:{type:"string"},calcHeight_mobile:{type:"string"},mapBorderRadius:{type:"number",default:0},mapBorderRadius_tablet:{type:"number"},mapBorderRadius_mobile:{type:"number"},defaultLat:{type:"number",default:51.492},defaultLng:{type:"number",default:-.13},defaultZoom:{type:"number",default:11},minZoom:{type:"number",default:2},maxZoom:{type:"number",default:18},clusterSize:{type:"number"},clusterSize_tablet:{type:"number"},clusterSize_mobile:{type:"number"},clusterBgColor:{type:"string"},clusterBgColor_tablet:{type:"string"},clusterBgColor_mobile:{type:"string"},clusterShadow:{type:"object",default:{}},clusterRadius:{type:"number"},clusterRadius_tablet:{type:"number"},clusterRadius_mobile:{type:"number"},clusterTypography:{type:"object",default:{}},clusterTextColor:{type:"string"},clusterTextColor_tablet:{type:"string"},clusterTextColor_mobile:{type:"string"},iconMarkerSize:{type:"number"},iconMarkerSize_tablet:{type:"number"},iconMarkerSize_mobile:{type:"number"},iconMarkerIconSize:{type:"number"},iconMarkerIconSize_tablet:{type:"number"},iconMarkerIconSize_mobile:{type:"number"},iconMarkerRadius:{type:"number"},iconMarkerRadius_tablet:{type:"number"},iconMarkerRadius_mobile:{type:"number"},iconMarkerShadow:{type:"object",default:{}},iconMarkerStaticBg:{type:"string"},iconMarkerStaticBg_tablet:{type:"string"},iconMarkerStaticBg_mobile:{type:"string"},iconMarkerStaticBgActive:{type:"string"},iconMarkerStaticBgActive_tablet:{type:"string"},iconMarkerStaticBgActive_mobile:{type:"string"},iconMarkerStaticIconColor:{type:"string"},iconMarkerStaticIconColor_tablet:{type:"string"},iconMarkerStaticIconColor_mobile:{type:"string"},iconMarkerStaticIconColorActive:{type:"string"},iconMarkerStaticIconColorActive_tablet:{type:"string"},iconMarkerStaticIconColorActive_mobile:{type:"string"},textMarkerBgColor:{type:"string"},textMarkerBgColor_tablet:{type:"string"},textMarkerBgColor_mobile:{type:"string"},textMarkerBgColorActive:{type:"string"},textMarkerBgColorActive_tablet:{type:"string"},textMarkerBgColorActive_mobile:{type:"string"},textMarkerTextColor:{type:"string"},textMarkerTextColor_tablet:{type:"string"},textMarkerTextColor_mobile:{type:"string"},textMarkerTextColorActive:{type:"string"},textMarkerTextColorActive_tablet:{type:"string"},textMarkerTextColorActive_mobile:{type:"string"},textMarkerRadius:{type:"number"},textMarkerRadius_tablet:{type:"number"},textMarkerRadius_mobile:{type:"number"},textMarkerTypography:{type:"object",default:{}},textMarkerPadding:{type:"object",default:{}},textMarkerPadding_tablet:{type:"object"},textMarkerPadding_mobile:{type:"object"},textMarkerShadow:{type:"object",default:{}},imageMarkerSize:{type:"number"},imageMarkerSize_tablet:{type:"number"},imageMarkerSize_mobile:{type:"number"},imageMarkerRadius:{type:"number"},imageMarkerRadius_tablet:{type:"number"},imageMarkerRadius_mobile:{type:"number"},imageMarkerShadow:{type:"object",default:{}},popupCardWidth:{type:"number",default:270},popupCardWidth_tablet:{type:"number"},popupCardWidth_mobile:{type:"number"},popupLoaderColor1:{type:"string"},popupLoaderColor2:{type:"string"},searchBtnTypography:{type:"object",default:{}},searchBtnTextColor:{type:"string"},searchBtnTextColor_tablet:{type:"string"},searchBtnTextColor_mobile:{type:"string"},searchBtnBgColor:{type:"string"},searchBtnBgColor_tablet:{type:"string"},searchBtnBgColor_mobile:{type:"string"},searchBtnIconColor:{type:"string"},searchBtnIconColor_tablet:{type:"string"},searchBtnIconColor_mobile:{type:"string"},searchBtnIconColorActive:{type:"string"},searchBtnIconColorActive_tablet:{type:"string"},searchBtnIconColorActive_mobile:{type:"string"},searchBtnRadius:{type:"number"},searchBtnRadius_tablet:{type:"number"},searchBtnRadius_mobile:{type:"number"},checkmarkIcon:{type:"object",default:{}},searchIcon:{type:"object",default:{}},geolocationIcon:{type:"object",default:{}},navBtnIconColor:{type:"string"},navBtnIconSize:{type:"number"},navBtnIconSize_tablet:{type:"number"},navBtnIconSize_mobile:{type:"number"},navBtnBgColor:{type:"string"},navBtnBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},navBtnRadius:{type:"number",default:50},navBtnRadius_tablet:{type:"number"},navBtnRadius_mobile:{type:"number"},navBtnShadow:{type:"object",default:{}},navBtnSize:{type:"number"},navBtnSize_tablet:{type:"number"},navBtnSize_mobile:{type:"number"},navBtnIconColorHover:{type:"string"},navBtnBgColorHover:{type:"string"},navBtnBorderColorHover:{type:"string"},mapContentAccordion:{type:"string",default:"map-settings"},mapStyleAccordion:{type:"string",default:"clusters"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},V={$schema:me,apiVersion:pe,name:de,version:he,title:ge,category:xe,description:fe,keywords:ve,textdomain:ke,supports:ye,editorScript:Ce,viewScript:ue,render:Be,attributes:$e};function O(e){return{blockId:e.blockId,source:e.source,searchFormId:e.searchFormId,dragSearch:e.dragSearch,dragSearchMode:e.dragSearchMode,dragSearchDefault:e.dragSearchDefault,center:{lat:e.defaultLat,lng:e.defaultLng},zoom:e.defaultZoom,minZoom:e.minZoom,maxZoom:e.maxZoom,styles:{height:{desktop:e.height,tablet:e.height_tablet,mobile:e.height_mobile},heightUnit:e.heightUnit,calcHeight:{desktop:e.calcHeight,tablet:e.calcHeight_tablet,mobile:e.calcHeight_mobile},enableCalcHeight:{desktop:e.enableCalcHeight,tablet:e.enableCalcHeight_tablet,mobile:e.enableCalcHeight_mobile},borderRadius:{desktop:e.mapBorderRadius,tablet:e.mapBorderRadius_tablet,mobile:e.mapBorderRadius_mobile},cluster:{size:{desktop:e.clusterSize,tablet:e.clusterSize_tablet,mobile:e.clusterSize_mobile},bgColor:{desktop:e.clusterBgColor,tablet:e.clusterBgColor_tablet,mobile:e.clusterBgColor_mobile},shadow:e.clusterShadow,radius:{desktop:e.clusterRadius,tablet:e.clusterRadius_tablet,mobile:e.clusterRadius_mobile},typography:e.clusterTypography,textColor:{desktop:e.clusterTextColor,tablet:e.clusterTextColor_tablet,mobile:e.clusterTextColor_mobile}},iconMarker:{size:{desktop:e.iconMarkerSize,tablet:e.iconMarkerSize_tablet,mobile:e.iconMarkerSize_mobile},iconSize:{desktop:e.iconMarkerIconSize,tablet:e.iconMarkerIconSize_tablet,mobile:e.iconMarkerSize_mobile},radius:{desktop:e.iconMarkerRadius,tablet:e.iconMarkerRadius_tablet,mobile:e.iconMarkerRadius_mobile},shadow:e.iconMarkerShadow,staticBg:{desktop:e.iconMarkerStaticBg,tablet:e.iconMarkerStaticBg_tablet,mobile:e.iconMarkerStaticBg_mobile},staticBgActive:{desktop:e.iconMarkerStaticBgActive,tablet:e.iconMarkerStaticBgActive_tablet,mobile:e.iconMarkerStaticBgActive_mobile},staticIconColor:{desktop:e.iconMarkerStaticIconColor,tablet:e.iconMarkerStaticIconColor_tablet,mobile:e.iconMarkerStaticIconColor_mobile},staticIconColorActive:{desktop:e.iconMarkerStaticIconColorActive,tablet:e.iconMarkerStaticIconColorActive_tablet,mobile:e.iconMarkerStaticIconColorActive_mobile}},textMarker:{bgColor:{desktop:e.textMarkerBgColor,tablet:e.textMarkerBgColor_tablet,mobile:e.textMarkerBgColor_mobile},bgColorActive:{desktop:e.textMarkerBgColorActive,tablet:e.textMarkerBgColorActive_tablet,mobile:e.textMarkerBgColorActive_mobile},textColor:{desktop:e.textMarkerTextColor,tablet:e.textMarkerTextColor_tablet,mobile:e.textMarkerTextColor_mobile},textColorActive:{desktop:e.textMarkerTextColorActive,tablet:e.textMarkerTextColorActive_tablet,mobile:e.textMarkerTextColorActive_mobile},radius:{desktop:e.textMarkerRadius,tablet:e.textMarkerRadius_tablet,mobile:e.textMarkerRadius_mobile},typography:e.textMarkerTypography,padding:{desktop:e.textMarkerPadding,tablet:e.textMarkerPadding_tablet,mobile:e.textMarkerPadding_mobile},shadow:e.textMarkerShadow},imageMarker:{size:{desktop:e.imageMarkerSize,tablet:e.imageMarkerSize_tablet,mobile:e.imageMarkerSize_mobile},radius:{desktop:e.imageMarkerRadius,tablet:e.imageMarkerRadius_tablet,mobile:e.imageMarkerRadius_mobile},shadow:e.imageMarkerShadow},popup:{cardWidth:{desktop:e.popupCardWidth,tablet:e.popupCardWidth_tablet,mobile:e.popupCardWidth_mobile},loaderColor1:e.popupLoaderColor1,loaderColor2:e.popupLoaderColor2},searchBtn:{typography:e.searchBtnTypography,textColor:{desktop:e.searchBtnTextColor,tablet:e.searchBtnTextColor_tablet,mobile:e.searchBtnTextColor_mobile},bgColor:{desktop:e.searchBtnBgColor,tablet:e.searchBtnBgColor_tablet,mobile:e.searchBtnBgColor_mobile},iconColor:{desktop:e.searchBtnIconColor,tablet:e.searchBtnIconColor_tablet,mobile:e.searchBtnIconColor_mobile},iconColorActive:{desktop:e.searchBtnIconColorActive,tablet:e.searchBtnIconColorActive_tablet,mobile:e.searchBtnIconColorActive_mobile},radius:{desktop:e.searchBtnRadius,tablet:e.searchBtnRadius_tablet,mobile:e.searchBtnRadius_mobile},checkmarkIcon:e.checkmarkIcon,searchIcon:e.searchIcon},navBtn:{iconColor:e.navBtnIconColor,iconColorHover:e.navBtnIconColorHover,iconSize:{desktop:e.navBtnIconSize,tablet:e.navBtnIconSize_tablet,mobile:e.navBtnIconSize_mobile},bgColor:e.navBtnBgColor,bgColorHover:e.navBtnBgColorHover,border:e.navBtnBorder,borderColorHover:e.navBtnBorderColorHover,radius:{desktop:e.navBtnRadius,tablet:e.navBtnRadius_tablet,mobile:e.navBtnRadius_mobile},shadow:e.navBtnShadow,size:{desktop:e.navBtnSize,tablet:e.navBtnSize_tablet,mobile:e.navBtnSize_mobile}},geolocationIcon:e.geolocationIcon}}}function be(){if(typeof window>"u")return"desktop";const e=window.innerWidth;return e<768?"mobile":e<1024?"tablet":"desktop"}function x(e,c){if(!e)return c;const o=be();return o==="mobile"?e.mobile!==void 0?e.mobile:e.tablet!==void 0?e.tablet:e.desktop!==void 0?e.desktop:c:o==="tablet"&&e.tablet!==void 0?e.tablet:e.desktop!==void 0?e.desktop:c}function T(e){if(!e?.enable)return"none";const{horizontal:c=0,vertical:o=0,blur:r=0,spread:s=0,color:t="rgba(0,0,0,0.1)",position:k}=e;return`${k==="inset"?"inset ":""}${c}px ${o}px ${r}px ${s}px ${t}`}function W(e){if(!e)return{};const c={};return e.fontFamily&&(c["font-family"]=e.fontFamily),e.fontSize&&(c["font-size"]=`${e.fontSize}${e.fontSizeUnit||"px"}`),e.fontWeight&&(c["font-weight"]=e.fontWeight),e.fontStyle&&(c["font-style"]=e.fontStyle),e.textTransform&&(c["text-transform"]=e.textTransform),e.textDecoration&&(c["text-decoration"]=e.textDecoration),e.lineHeight&&(c["line-height"]=`${e.lineHeight}${e.lineHeightUnit||""}`),e.letterSpacing&&(c["letter-spacing"]=`${e.letterSpacing}${e.letterSpacingUnit||"px"}`),c}function Se(e,c){e.style.width="100%";const o=c.styles;if(!o)return;const r=x(o.height,400),s=o.heightUnit||"px",t=x(o.enableCalcHeight,!1),k=x(o.calcHeight,"");t&&k?e.style.setProperty("--vx-map-height",k):e.style.setProperty("--vx-map-height",`${r}${s}`);const a=x(o.borderRadius,0);if(e.style.setProperty("--vx-map-radius",`${a}px`),o.cluster){const l=x(o.cluster.size,40);e.style.setProperty("--vx-cluster-size",`${l}px`);const m=x(o.cluster.bgColor,"");m&&e.style.setProperty("--vx-cluster-bg",m);const p=x(o.cluster.radius,50);e.style.setProperty("--vx-cluster-radius",`${p}%`);const f=x(o.cluster.textColor,"");if(f&&e.style.setProperty("--vx-cluster-text-color",f),e.style.setProperty("--vx-cluster-shadow",T(o.cluster.shadow)),o.cluster.typography){const h=W(o.cluster.typography);h["font-family"]&&e.style.setProperty("--vx-cluster-font-family",h["font-family"]),h["font-size"]&&e.style.setProperty("--vx-cluster-font-size",h["font-size"]),h["font-weight"]&&e.style.setProperty("--vx-cluster-font-weight",h["font-weight"]),h["font-style"]&&e.style.setProperty("--vx-cluster-font-style",h["font-style"]),h["line-height"]&&e.style.setProperty("--vx-cluster-line-height",h["line-height"]),h["letter-spacing"]&&e.style.setProperty("--vx-cluster-letter-spacing",h["letter-spacing"]),h["text-transform"]&&e.style.setProperty("--vx-cluster-text-transform",h["text-transform"]),h["text-decoration"]&&e.style.setProperty("--vx-cluster-text-decoration",h["text-decoration"])}}if(o.iconMarker){const l=x(o.iconMarker.size,42);e.style.setProperty("--vx-icon-marker-size",`${l}px`);const m=x(o.iconMarker.iconSize,24);e.style.setProperty("--vx-icon-marker-icon-size",`${m}px`);const p=x(o.iconMarker.radius,50);e.style.setProperty("--vx-icon-marker-radius",`${p}%`),e.style.setProperty("--vx-icon-marker-shadow",T(o.iconMarker.shadow));const f=x(o.iconMarker.staticBg,"");f&&e.style.setProperty("--vx-icon-marker-bg",f);const h=x(o.iconMarker.staticBgActive,"");h&&e.style.setProperty("--vx-icon-marker-bg-active",h);const d=x(o.iconMarker.staticIconColor,"");d&&e.style.setProperty("--vx-icon-marker-icon-color",d);const g=x(o.iconMarker.staticIconColorActive,"");g&&e.style.setProperty("--vx-icon-marker-icon-color-active",g)}if(o.textMarker){const l=x(o.textMarker.bgColor,"");l&&e.style.setProperty("--vx-text-marker-bg",l);const m=x(o.textMarker.bgColorActive,"");m&&e.style.setProperty("--vx-text-marker-bg-active",m);const p=x(o.textMarker.textColor,"");p&&e.style.setProperty("--vx-text-marker-text-color",p);const f=x(o.textMarker.textColorActive,"");f&&e.style.setProperty("--vx-text-marker-text-color-active",f);const h=x(o.textMarker.radius,4);if(e.style.setProperty("--vx-text-marker-radius",`${h}px`),e.style.setProperty("--vx-text-marker-shadow",T(o.textMarker.shadow)),o.textMarker.typography){const g=W(o.textMarker.typography);g["font-family"]&&e.style.setProperty("--vx-text-marker-font-family",g["font-family"]),g["font-size"]&&e.style.setProperty("--vx-text-marker-font-size",g["font-size"]),g["font-weight"]&&e.style.setProperty("--vx-text-marker-font-weight",g["font-weight"]),g["font-style"]&&e.style.setProperty("--vx-text-marker-font-style",g["font-style"]),g["line-height"]&&e.style.setProperty("--vx-text-marker-line-height",g["line-height"]),g["letter-spacing"]&&e.style.setProperty("--vx-text-marker-letter-spacing",g["letter-spacing"]),g["text-transform"]&&e.style.setProperty("--vx-text-marker-text-transform",g["text-transform"]),g["text-decoration"]&&e.style.setProperty("--vx-text-marker-text-decoration",g["text-decoration"])}const d=x(o.textMarker.padding,{});if(d){const g=d;g.top&&e.style.setProperty("--vx-text-marker-padding-top",g.top),g.right&&e.style.setProperty("--vx-text-marker-padding-right",g.right),g.bottom&&e.style.setProperty("--vx-text-marker-padding-bottom",g.bottom),g.left&&e.style.setProperty("--vx-text-marker-padding-left",g.left)}}if(o.imageMarker){const l=x(o.imageMarker.size,42);e.style.setProperty("--vx-image-marker-size",`${l}px`);const m=x(o.imageMarker.radius,50);e.style.setProperty("--vx-image-marker-radius",`${m}%`),e.style.setProperty("--vx-image-marker-shadow",T(o.imageMarker.shadow))}if(o.popup){const l=x(o.popup.cardWidth,320);e.style.setProperty("--vx-popup-card-width",`${l}px`),o.popup.loaderColor1&&e.style.setProperty("--vx-popup-loader-color1",o.popup.loaderColor1),o.popup.loaderColor2&&e.style.setProperty("--vx-popup-loader-color2",o.popup.loaderColor2)}if(o.searchBtn){const l=x(o.searchBtn.textColor,"");l&&e.style.setProperty("--vx-search-btn-text-color",l);const m=x(o.searchBtn.bgColor,"");m&&e.style.setProperty("--vx-search-btn-bg",m);const p=x(o.searchBtn.iconColor,"");p&&e.style.setProperty("--vx-search-btn-icon-color",p);const f=x(o.searchBtn.iconColorActive,"");f&&e.style.setProperty("--vx-search-btn-icon-color-active",f);const h=x(o.searchBtn.radius,4);if(e.style.setProperty("--vx-search-btn-radius",`${h}px`),o.searchBtn.typography){const d=W(o.searchBtn.typography);d["font-family"]&&e.style.setProperty("--vx-search-btn-font-family",d["font-family"]),d["font-size"]&&e.style.setProperty("--vx-search-btn-font-size",d["font-size"]),d["font-weight"]&&e.style.setProperty("--vx-search-btn-font-weight",d["font-weight"]),d["font-style"]&&e.style.setProperty("--vx-search-btn-font-style",d["font-style"]),d["line-height"]&&e.style.setProperty("--vx-search-btn-line-height",d["line-height"]),d["letter-spacing"]&&e.style.setProperty("--vx-search-btn-letter-spacing",d["letter-spacing"]),d["text-transform"]&&e.style.setProperty("--vx-search-btn-text-transform",d["text-transform"]),d["text-decoration"]&&e.style.setProperty("--vx-search-btn-text-decoration",d["text-decoration"])}if(o.searchBtn.checkmarkIcon){const d=o.searchBtn.checkmarkIcon;e.dataset.checkmarkIcon=JSON.stringify(d)}}if(o.navBtn){o.navBtn.iconColor&&e.style.setProperty("--vx-nav-btn-icon-color",o.navBtn.iconColor),o.navBtn.iconColorHover&&e.style.setProperty("--vx-nav-btn-icon-color-hover",o.navBtn.iconColorHover);const l=x(o.navBtn.iconSize,20);e.style.setProperty("--vx-nav-btn-icon-size",`${l}px`),o.navBtn.bgColor&&e.style.setProperty("--vx-nav-btn-bg",o.navBtn.bgColor),o.navBtn.bgColorHover&&e.style.setProperty("--vx-nav-btn-bg-hover",o.navBtn.bgColorHover);const m=x(o.navBtn.radius,4);e.style.setProperty("--vx-nav-btn-radius",`${m}px`);const p=x(o.navBtn.size,36);if(e.style.setProperty("--vx-nav-btn-size",`${p}px`),e.style.setProperty("--vx-nav-btn-shadow",T(o.navBtn.shadow)),o.navBtn.borderType&&o.navBtn.borderType!=="none"){e.style.setProperty("--vx-nav-btn-border-style",o.navBtn.borderType);const f=x(o.navBtn.borderWidth,0);e.style.setProperty("--vx-nav-btn-border-width",`${f}px`),o.navBtn.borderColor&&e.style.setProperty("--vx-nav-btn-border-color",o.navBtn.borderColor),o.navBtn.borderColorHover&&e.style.setProperty("--vx-nav-btn-border-color-hover",o.navBtn.borderColorHover)}}}function Me({attributes:e,setAttributes:c}){const o=c;return React.createElement(U,{attributes:e,setAttributes:o,stateAttribute:"mapStyleAccordion",defaultPanel:"clusters"},React.createElement(b,{id:"clusters",title:n("Clusters","voxel-fse")},React.createElement(C,{label:n("Size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"clusterSize",min:0,max:100,step:1}),React.createElement(v,{label:n("Background color","voxel-fse"),value:e.clusterBgColor,onChange:r=>o({clusterBgColor:r})}),React.createElement(I,{label:n("Box Shadow","voxel-fse"),attributes:e,setAttributes:o,shadowAttributeName:"clusterShadow"}),React.createElement(C,{label:n("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"clusterRadius",min:0,max:100,step:1}),React.createElement(N,{label:n("Typography","voxel-fse"),value:e.clusterTypography,onChange:r=>o({clusterTypography:r})}),React.createElement(v,{label:n("Text color","voxel-fse"),value:e.clusterTextColor,onChange:r=>o({clusterTextColor:r})})),React.createElement(b,{id:"icon-marker",title:n("Icon marker","voxel-fse")},React.createElement(E,{label:n("General","voxel-fse")}),React.createElement(C,{label:n("Marker size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"iconMarkerSize",min:30,max:60,step:1}),React.createElement(C,{label:n("Marker icon size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"iconMarkerIconSize",min:10,max:60,step:1}),React.createElement(C,{label:n("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"iconMarkerRadius",min:0,max:100,step:1}),React.createElement(I,{label:n("Box Shadow","voxel-fse"),attributes:e,setAttributes:o,shadowAttributeName:"iconMarkerShadow"}),React.createElement(E,{label:n("Static marker","voxel-fse")}),React.createElement(v,{label:n("Background color","voxel-fse"),value:e.iconMarkerStaticBg,onChange:r=>o({iconMarkerStaticBg:r})}),React.createElement(v,{label:n("Background color (Active)","voxel-fse"),value:e.iconMarkerStaticBgActive,onChange:r=>o({iconMarkerStaticBgActive:r})}),React.createElement(v,{label:n("Icon color","voxel-fse"),value:e.iconMarkerStaticIconColor,onChange:r=>o({iconMarkerStaticIconColor:r})}),React.createElement(v,{label:n("Icon color (Active)","voxel-fse"),value:e.iconMarkerStaticIconColorActive,onChange:r=>o({iconMarkerStaticIconColorActive:r})})),React.createElement(b,{id:"text-marker",title:n("Text marker","voxel-fse")},React.createElement(v,{label:n("Background color","voxel-fse"),value:e.textMarkerBgColor,onChange:r=>o({textMarkerBgColor:r})}),React.createElement(v,{label:n("Background color (Active)","voxel-fse"),value:e.textMarkerBgColorActive,onChange:r=>o({textMarkerBgColorActive:r})}),React.createElement(v,{label:n("Text color","voxel-fse"),value:e.textMarkerTextColor,onChange:r=>o({textMarkerTextColor:r})}),React.createElement(v,{label:n("Text color (Active)","voxel-fse"),value:e.textMarkerTextColorActive,onChange:r=>o({textMarkerTextColorActive:r})}),React.createElement(C,{label:n("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"textMarkerRadius",min:0,max:100,step:1}),React.createElement(N,{label:n("Title typography","voxel-fse"),value:e.textMarkerTypography,onChange:r=>o({textMarkerTypography:r})}),React.createElement(se,{label:n("Padding","voxel-fse"),values:e.textMarkerPadding,onChange:r=>o({textMarkerPadding:r})}),React.createElement(I,{label:n("Box Shadow","voxel-fse"),attributes:e,setAttributes:o,shadowAttributeName:"textMarkerShadow"})),React.createElement(b,{id:"image-marker",title:n("Image marker","voxel-fse")},React.createElement(C,{label:n("Marker size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"imageMarkerSize",min:30,max:60,step:1}),React.createElement(C,{label:n("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"imageMarkerRadius",min:0,max:100,step:1}),React.createElement(I,{label:n("Box Shadow","voxel-fse"),attributes:e,setAttributes:o,shadowAttributeName:"imageMarkerShadow"})),React.createElement(b,{id:"map-popup",title:n("Map popup","voxel-fse")},React.createElement(C,{label:n("Card width","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"popupCardWidth",min:0,max:700,step:1}),React.createElement(E,{label:n("Loader","voxel-fse")}),React.createElement(v,{label:n("Color 1","voxel-fse"),value:e.popupLoaderColor1,onChange:r=>o({popupLoaderColor1:r})}),React.createElement(v,{label:n("Color 2","voxel-fse"),value:e.popupLoaderColor2,onChange:r=>o({popupLoaderColor2:r})})),React.createElement(b,{id:"search-button",title:n("Search button","voxel-fse")},React.createElement(N,{label:n("Typography","voxel-fse"),value:e.searchBtnTypography,onChange:r=>o({searchBtnTypography:r})}),React.createElement(v,{label:n("Text color","voxel-fse"),value:e.searchBtnTextColor,onChange:r=>o({searchBtnTextColor:r})}),React.createElement(v,{label:n("Background color","voxel-fse"),value:e.searchBtnBgColor,onChange:r=>o({searchBtnBgColor:r})}),React.createElement(v,{label:n("Icon color","voxel-fse"),value:e.searchBtnIconColor,onChange:r=>o({searchBtnIconColor:r})}),React.createElement(v,{label:n("Icon color (Active)","voxel-fse"),value:e.searchBtnIconColorActive,onChange:r=>o({searchBtnIconColorActive:r})}),React.createElement(C,{label:n("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"searchBtnRadius",min:0,max:100,step:1}),React.createElement(Z,{label:n("Checkmark icon","voxel-fse"),value:e.checkmarkIcon,onChange:r=>o({checkmarkIcon:r})}),React.createElement(Z,{label:n("Search icon","voxel-fse"),value:e.searchIcon,onChange:r=>o({searchIcon:r})})),React.createElement(b,{id:"nav-buttons",title:n("Next/Prev buttons","voxel-fse")},React.createElement(E,{label:n("Normal","voxel-fse")}),React.createElement(v,{label:n("Button icon color","voxel-fse"),value:e.navBtnIconColor,onChange:r=>o({navBtnIconColor:r})}),React.createElement(C,{label:n("Button icon size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"navBtnIconSize",min:0,max:100,step:1}),React.createElement(v,{label:n("Button background","voxel-fse"),value:e.navBtnBgColor,onChange:r=>o({navBtnBgColor:r})}),React.createElement(ee,{label:n("Border","voxel-fse"),value:e.navBtnBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:r=>o({navBtnBorder:r})}),React.createElement(C,{label:n("Button border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"navBtnRadius",min:0,max:100,step:1}),React.createElement(I,{label:n("Box Shadow","voxel-fse"),attributes:e,setAttributes:o,shadowAttributeName:"navBtnShadow"}),React.createElement(C,{label:n("Button size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"navBtnSize",min:0,max:100,step:1}),React.createElement(E,{label:n("Hover","voxel-fse")}),React.createElement(v,{label:n("Button icon color","voxel-fse"),value:e.navBtnIconColorHover,onChange:r=>o({navBtnIconColorHover:r})}),React.createElement(v,{label:n("Button background color","voxel-fse"),value:e.navBtnBgColorHover,onChange:r=>o({navBtnBgColorHover:r})}),React.createElement(v,{label:n("Button border color","voxel-fse"),value:e.navBtnBorderColorHover,onChange:r=>o({navBtnBorderColorHover:r})})),React.createElement(b,{id:"geolocation-button",title:n("Geolocation button","voxel-fse")},React.createElement(Z,{label:n("Geolocation icon","voxel-fse"),value:e.geolocationIcon,onChange:r=>o({geolocationIcon:r})})))}function J(e,c){const o=[],r=[],s=[],t=`.voxel-fse-map-${c}`;if(o.push(":root { --e-global-typography-text-font-size: 14px; --e-global-typography-secondary-font-weight: 500; --ts-shade-1: #1a1a1a; --ts-shade-2: #4a4a4a; --ts-shade-5: #999; --ts-accent-1: #3b82f6; }"),o.push(`${t} { --e-global-typography-text-font-size: 14px; --e-global-typography-secondary-font-weight: 500; }`),o.push(".marker-type-text { font-size: 14px !important; color: #4a4a4a !important; }"),o.push(".marker-wrapper { position: absolute; z-index: 10; transform: translate(-50%, -50%); }"),o.push(".map-marker { display: flex; align-items: center; justify-content: center; overflow: hidden; white-space: nowrap; }"),e.clusterSize!==void 0&&o.push(`${t} .ts-marker-cluster { width: ${e.clusterSize}px; height: ${e.clusterSize}px; }`),e.clusterSize_tablet!==void 0&&r.push(`${t} .ts-marker-cluster { width: ${e.clusterSize_tablet}px; height: ${e.clusterSize_tablet}px; }`),e.clusterSize_mobile!==void 0&&s.push(`${t} .ts-marker-cluster { width: ${e.clusterSize_mobile}px; height: ${e.clusterSize_mobile}px; }`),e.clusterBgColor&&o.push(`${t} .ts-marker-cluster { background-color: ${e.clusterBgColor}; }`),e.clusterBgColor_tablet&&r.push(`${t} .ts-marker-cluster { background-color: ${e.clusterBgColor_tablet}; }`),e.clusterBgColor_mobile&&s.push(`${t} .ts-marker-cluster { background-color: ${e.clusterBgColor_mobile}; }`),e.clusterShadow?.enable){const{horizontal:a=0,vertical:l=0,blur:m=0,spread:p=0,color:f="rgba(0,0,0,0.1)",position:h="outline"}=e.clusterShadow,d=h==="inset"?"inset ":"";o.push(`${t} .ts-marker-cluster { box-shadow: ${d}${a}px ${l}px ${m}px ${p}px ${f}; }`)}if(e.clusterRadius!==void 0&&o.push(`${t} .ts-marker-cluster { border-radius: ${e.clusterRadius}px; }`),e.clusterRadius_tablet!==void 0&&r.push(`${t} .ts-marker-cluster { border-radius: ${e.clusterRadius_tablet}px; }`),e.clusterRadius_mobile!==void 0&&s.push(`${t} .ts-marker-cluster { border-radius: ${e.clusterRadius_mobile}px; }`),e.clusterTypography){const a=e.clusterTypography;if(a.fontFamily&&o.push(`${t} .ts-marker-cluster { font-family: ${a.fontFamily}; }`),a.fontSize){const l=a.fontSizeUnit||"px";o.push(`${t} .ts-marker-cluster { font-size: ${a.fontSize}${l}; }`)}if(a.fontWeight&&o.push(`${t} .ts-marker-cluster { font-weight: ${a.fontWeight}; }`),a.fontStyle&&o.push(`${t} .ts-marker-cluster { font-style: ${a.fontStyle}; }`),a.textTransform&&o.push(`${t} .ts-marker-cluster { text-transform: ${a.textTransform}; }`),a.textDecoration&&o.push(`${t} .ts-marker-cluster { text-decoration: ${a.textDecoration}; }`),a.lineHeight){const l=a.lineHeightUnit||"";o.push(`${t} .ts-marker-cluster { line-height: ${a.lineHeight}${l}; }`)}if(a.letterSpacing){const l=a.letterSpacingUnit||"px";o.push(`${t} .ts-marker-cluster { letter-spacing: ${a.letterSpacing}${l}; }`)}}if(e.clusterTextColor&&o.push(`${t} .ts-marker-cluster { color: ${e.clusterTextColor}; }`),e.clusterTextColor_tablet&&r.push(`${t} .ts-marker-cluster { color: ${e.clusterTextColor_tablet}; }`),e.clusterTextColor_mobile&&s.push(`${t} .ts-marker-cluster { color: ${e.clusterTextColor_mobile}; }`),e.iconMarkerSize!==void 0&&o.push(`${t} .marker-type-icon { width: ${e.iconMarkerSize}px; height: ${e.iconMarkerSize}px; }`),e.iconMarkerSize_tablet!==void 0&&r.push(`${t} .marker-type-icon { width: ${e.iconMarkerSize_tablet}px; height: ${e.iconMarkerSize_tablet}px; }`),e.iconMarkerSize_mobile!==void 0&&s.push(`${t} .marker-type-icon { width: ${e.iconMarkerSize_mobile}px; height: ${e.iconMarkerSize_mobile}px; }`),e.iconMarkerIconSize!==void 0&&o.push(`${t} .marker-type-icon { --ts-icon-size: ${e.iconMarkerIconSize}px; }`),e.iconMarkerIconSize_tablet!==void 0&&r.push(`${t} .marker-type-icon { --ts-icon-size: ${e.iconMarkerIconSize_tablet}px; }`),e.iconMarkerIconSize_mobile!==void 0&&s.push(`${t} .marker-type-icon { --ts-icon-size: ${e.iconMarkerIconSize_mobile}px; }`),e.iconMarkerRadius!==void 0&&o.push(`${t} .marker-type-icon { border-radius: ${e.iconMarkerRadius}px; }`),e.iconMarkerRadius_tablet!==void 0&&r.push(`${t} .marker-type-icon { border-radius: ${e.iconMarkerRadius_tablet}px; }`),e.iconMarkerRadius_mobile!==void 0&&s.push(`${t} .marker-type-icon { border-radius: ${e.iconMarkerRadius_mobile}px; }`),e.iconMarkerShadow?.enable){const{horizontal:a=0,vertical:l=0,blur:m=0,spread:p=0,color:f="rgba(0,0,0,0.1)",position:h="outline"}=e.iconMarkerShadow,d=h==="inset"?"inset ":"";o.push(`${t} .marker-type-icon { box-shadow: ${d}${a}px ${l}px ${m}px ${p}px ${f}; }`)}if(e.iconMarkerStaticBg&&o.push(`${t} .mi-static { background-color: ${e.iconMarkerStaticBg}; }`),e.iconMarkerStaticBg_tablet&&r.push(`${t} .mi-static { background-color: ${e.iconMarkerStaticBg_tablet}; }`),e.iconMarkerStaticBg_mobile&&s.push(`${t} .mi-static { background-color: ${e.iconMarkerStaticBg_mobile}; }`),e.iconMarkerStaticBgActive&&o.push(`${t} .marker-active .mi-static { background-color: ${e.iconMarkerStaticBgActive}; }`),e.iconMarkerStaticBgActive_tablet&&r.push(`${t} .marker-active .mi-static { background-color: ${e.iconMarkerStaticBgActive_tablet}; }`),e.iconMarkerStaticBgActive_mobile&&s.push(`${t} .marker-active .mi-static { background-color: ${e.iconMarkerStaticBgActive_mobile}; }`),e.iconMarkerStaticIconColor&&o.push(`${t} .mi-static { --ts-icon-color: ${e.iconMarkerStaticIconColor}; }`),e.iconMarkerStaticIconColor_tablet&&r.push(`${t} .mi-static { --ts-icon-color: ${e.iconMarkerStaticIconColor_tablet}; }`),e.iconMarkerStaticIconColor_mobile&&s.push(`${t} .mi-static { --ts-icon-color: ${e.iconMarkerStaticIconColor_mobile}; }`),e.iconMarkerStaticIconColorActive&&o.push(`${t} .marker-active .mi-static { --ts-icon-color: ${e.iconMarkerStaticIconColorActive}; }`),e.iconMarkerStaticIconColorActive_tablet&&r.push(`${t} .marker-active .mi-static { --ts-icon-color: ${e.iconMarkerStaticIconColorActive_tablet}; }`),e.iconMarkerStaticIconColorActive_mobile&&s.push(`${t} .marker-active .mi-static { --ts-icon-color: ${e.iconMarkerStaticIconColorActive_mobile}; }`),e.textMarkerBgColor&&o.push(`${t} .marker-type-text { background-color: ${e.textMarkerBgColor}; }`),e.textMarkerBgColor_tablet&&r.push(`${t} .marker-type-text { background-color: ${e.textMarkerBgColor_tablet}; }`),e.textMarkerBgColor_mobile&&s.push(`${t} .marker-type-text { background-color: ${e.textMarkerBgColor_mobile}; }`),e.textMarkerBgColorActive&&o.push(`${t} .marker-active .marker-type-text { background-color: ${e.textMarkerBgColorActive}; }`),e.textMarkerBgColorActive_tablet&&r.push(`${t} .marker-active .marker-type-text { background-color: ${e.textMarkerBgColorActive_tablet}; }`),e.textMarkerBgColorActive_mobile&&s.push(`${t} .marker-active .marker-type-text { background-color: ${e.textMarkerBgColorActive_mobile}; }`),e.textMarkerTextColor&&o.push(`${t} .marker-type-text { color: ${e.textMarkerTextColor}; }`),e.textMarkerTextColor_tablet&&r.push(`${t} .marker-type-text { color: ${e.textMarkerTextColor_tablet}; }`),e.textMarkerTextColor_mobile&&s.push(`${t} .marker-type-text { color: ${e.textMarkerTextColor_mobile}; }`),e.textMarkerTextColorActive&&o.push(`${t} .marker-active .marker-type-text { color: ${e.textMarkerTextColorActive}; }`),e.textMarkerTextColorActive_tablet&&r.push(`${t} .marker-active .marker-type-text { color: ${e.textMarkerTextColorActive_tablet}; }`),e.textMarkerTextColorActive_mobile&&s.push(`${t} .marker-active .marker-type-text { color: ${e.textMarkerTextColorActive_mobile}; }`),e.textMarkerRadius!==void 0&&o.push(`${t} .marker-type-text { border-radius: ${e.textMarkerRadius}px; }`),e.textMarkerRadius_tablet!==void 0&&r.push(`${t} .marker-type-text { border-radius: ${e.textMarkerRadius_tablet}px; }`),e.textMarkerRadius_mobile!==void 0&&s.push(`${t} .marker-type-text { border-radius: ${e.textMarkerRadius_mobile}px; }`),e.textMarkerTypography){const a=e.textMarkerTypography;if(a.fontFamily&&o.push(`${t} .marker-type-text { font-family: ${a.fontFamily}; }`),a.fontSize){const l=a.fontSizeUnit||"px";o.push(`${t} .marker-type-text { font-size: ${a.fontSize}${l}; }`)}if(a.fontWeight&&o.push(`${t} .marker-type-text { font-weight: ${a.fontWeight}; }`),a.fontStyle&&o.push(`${t} .marker-type-text { font-style: ${a.fontStyle}; }`),a.textTransform&&o.push(`${t} .marker-type-text { text-transform: ${a.textTransform}; }`),a.textDecoration&&o.push(`${t} .marker-type-text { text-decoration: ${a.textDecoration}; }`),a.lineHeight){const l=a.lineHeightUnit||"";o.push(`${t} .marker-type-text { line-height: ${a.lineHeight}${l}; }`)}if(a.letterSpacing){const l=a.letterSpacingUnit||"px";o.push(`${t} .marker-type-text { letter-spacing: ${a.letterSpacing}${l}; }`)}}if(e.textMarkerPadding){const{top:a,right:l,bottom:m,left:p}=e.textMarkerPadding;(a||l||m||p)&&o.push(`${t} .marker-type-text { padding: ${a||0}px ${l||0}px ${m||0}px ${p||0}px; }`)}if(e.textMarkerPadding_tablet){const{top:a,right:l,bottom:m,left:p}=e.textMarkerPadding_tablet;(a||l||m||p)&&r.push(`${t} .marker-type-text { padding: ${a||0}px ${l||0}px ${m||0}px ${p||0}px; }`)}if(e.textMarkerPadding_mobile){const{top:a,right:l,bottom:m,left:p}=e.textMarkerPadding_mobile;(a||l||m||p)&&s.push(`${t} .marker-type-text { padding: ${a||0}px ${l||0}px ${m||0}px ${p||0}px; }`)}if(e.textMarkerShadow?.enable){const{horizontal:a=0,vertical:l=0,blur:m=0,spread:p=0,color:f="rgba(0,0,0,0.1)",position:h="outline"}=e.textMarkerShadow,d=h==="inset"?"inset ":"";o.push(`${t} .marker-type-text { box-shadow: ${d}${a}px ${l}px ${m}px ${p}px ${f}; }`)}if(e.imageMarkerSize!==void 0&&o.push(`${t} .marker-type-image { width: ${e.imageMarkerSize}px; height: ${e.imageMarkerSize}px; }`),e.imageMarkerSize_tablet!==void 0&&r.push(`${t} .marker-type-image { width: ${e.imageMarkerSize_tablet}px; height: ${e.imageMarkerSize_tablet}px; }`),e.imageMarkerSize_mobile!==void 0&&s.push(`${t} .marker-type-image { width: ${e.imageMarkerSize_mobile}px; height: ${e.imageMarkerSize_mobile}px; }`),e.imageMarkerRadius!==void 0&&o.push(`${t} .marker-type-image { border-radius: ${e.imageMarkerRadius}px; }`),e.imageMarkerRadius_tablet!==void 0&&r.push(`${t} .marker-type-image { border-radius: ${e.imageMarkerRadius_tablet}px; }`),e.imageMarkerRadius_mobile!==void 0&&s.push(`${t} .marker-type-image { border-radius: ${e.imageMarkerRadius_mobile}px; }`),e.imageMarkerShadow?.enable){const{horizontal:a=0,vertical:l=0,blur:m=0,spread:p=0,color:f="rgba(0,0,0,0.1)",position:h="outline"}=e.imageMarkerShadow,d=h==="inset"?"inset ":"";o.push(`${t} .marker-type-image { box-shadow: ${d}${a}px ${l}px ${m}px ${p}px ${f}; }`)}if(e.popupCardWidth!==void 0&&o.push(`${t} .ts-preview-popup { width: ${e.popupCardWidth}px; }`),e.popupCardWidth_tablet!==void 0&&r.push(`${t} .ts-preview-popup { width: ${e.popupCardWidth_tablet}px; }`),e.popupCardWidth_mobile!==void 0&&s.push(`${t} .ts-preview-popup { width: ${e.popupCardWidth_mobile}px; }`),e.popupLoaderColor1&&o.push(`${t} .ts-loading-popup .ts-loader { border-color: ${e.popupLoaderColor1}; }`),e.popupLoaderColor2&&o.push(`${t} .ts-loading-popup .ts-loader { border-bottom-color: ${e.popupLoaderColor2}; }`),e.searchBtnTypography){const a=e.searchBtnTypography;if(a.fontFamily&&o.push(`${t} .ts-map-btn { font-family: ${a.fontFamily}; }`),a.fontSize){const l=a.fontSizeUnit||"px";o.push(`${t} .ts-map-btn { font-size: ${a.fontSize}${l}; }`)}if(a.fontWeight&&o.push(`${t} .ts-map-btn { font-weight: ${a.fontWeight}; }`),a.fontStyle&&o.push(`${t} .ts-map-btn { font-style: ${a.fontStyle}; }`),a.textTransform&&o.push(`${t} .ts-map-btn { text-transform: ${a.textTransform}; }`),a.textDecoration&&o.push(`${t} .ts-map-btn { text-decoration: ${a.textDecoration}; }`),a.lineHeight){const l=a.lineHeightUnit||"";o.push(`${t} .ts-map-btn { line-height: ${a.lineHeight}${l}; }`)}if(a.letterSpacing){const l=a.letterSpacingUnit||"px";o.push(`${t} .ts-map-btn { letter-spacing: ${a.letterSpacing}${l}; }`)}}if(e.searchBtnTextColor&&o.push(`${t} .ts-map-btn { color: ${e.searchBtnTextColor}; }`),e.searchBtnTextColor_tablet&&r.push(`${t} .ts-map-btn { color: ${e.searchBtnTextColor_tablet}; }`),e.searchBtnTextColor_mobile&&s.push(`${t} .ts-map-btn { color: ${e.searchBtnTextColor_mobile}; }`),e.searchBtnBgColor&&o.push(`${t} .ts-map-btn { background-color: ${e.searchBtnBgColor}; }`),e.searchBtnBgColor_tablet&&r.push(`${t} .ts-map-btn { background-color: ${e.searchBtnBgColor_tablet}; }`),e.searchBtnBgColor_mobile&&s.push(`${t} .ts-map-btn { background-color: ${e.searchBtnBgColor_mobile}; }`),e.searchBtnIconColor&&o.push(`${t} .ts-map-btn svg { fill: ${e.searchBtnIconColor}; }`),e.searchBtnIconColor_tablet&&r.push(`${t} .ts-map-btn svg { fill: ${e.searchBtnIconColor_tablet}; }`),e.searchBtnIconColor_mobile&&s.push(`${t} .ts-map-btn svg { fill: ${e.searchBtnIconColor_mobile}; }`),e.searchBtnIconColorActive&&o.push(`${t} .ts-map-btn.active svg { fill: ${e.searchBtnIconColorActive}; }`),e.searchBtnIconColorActive_tablet&&r.push(`${t} .ts-map-btn.active svg { fill: ${e.searchBtnIconColorActive_tablet}; }`),e.searchBtnIconColorActive_mobile&&s.push(`${t} .ts-map-btn.active svg { fill: ${e.searchBtnIconColorActive_mobile}; }`),e.searchBtnRadius!==void 0&&o.push(`${t} .ts-map-btn { border-radius: ${e.searchBtnRadius}px; }`),e.searchBtnRadius_tablet!==void 0&&r.push(`${t} .ts-map-btn { border-radius: ${e.searchBtnRadius_tablet}px; }`),e.searchBtnRadius_mobile!==void 0&&s.push(`${t} .ts-map-btn { border-radius: ${e.searchBtnRadius_mobile}px; }`),e.navBtnIconColor&&(o.push(`${t} .ts-map-nav .ts-icon-btn i { color: ${e.navBtnIconColor}; }`),o.push(`${t} .ts-map-nav .ts-icon-btn svg { fill: ${e.navBtnIconColor}; }`)),e.navBtnIconSize!==void 0&&(o.push(`${t} .ts-map-nav .ts-icon-btn i { font-size: ${e.navBtnIconSize}px; }`),o.push(`${t} .ts-map-nav .ts-icon-btn svg { width: ${e.navBtnIconSize}px; height: ${e.navBtnIconSize}px; }`)),e.navBtnIconSize_tablet!==void 0&&(r.push(`${t} .ts-map-nav .ts-icon-btn i { font-size: ${e.navBtnIconSize_tablet}px; }`),r.push(`${t} .ts-map-nav .ts-icon-btn svg { width: ${e.navBtnIconSize_tablet}px; height: ${e.navBtnIconSize_tablet}px; }`)),e.navBtnIconSize_mobile!==void 0&&(s.push(`${t} .ts-map-nav .ts-icon-btn i { font-size: ${e.navBtnIconSize_mobile}px; }`),s.push(`${t} .ts-map-nav .ts-icon-btn svg { width: ${e.navBtnIconSize_mobile}px; height: ${e.navBtnIconSize_mobile}px; }`)),e.navBtnBgColor&&o.push(`${t} .ts-map-nav .ts-icon-btn { background-color: ${e.navBtnBgColor}; }`),e.navBtnBorder){const{borderType:a,borderWidth:l,borderColor:m}=e.navBtnBorder;if(a&&a!=="none"){if(o.push(`${t} .ts-map-nav .ts-icon-btn { border-style: ${a}; }`),l){const{top:p,right:f,bottom:h,left:d,unit:g="px",linked:w}=l;if(w&&p!==void 0)o.push(`${t} .ts-map-nav .ts-icon-btn { border-width: ${p}${g}; }`);else{const P=p!==void 0?`${p}${g}`:"0",i=f!==void 0?`${f}${g}`:"0",y=h!==void 0?`${h}${g}`:"0",u=d!==void 0?`${d}${g}`:"0";o.push(`${t} .ts-map-nav .ts-icon-btn { border-width: ${P} ${i} ${y} ${u}; }`)}}m&&o.push(`${t} .ts-map-nav .ts-icon-btn { border-color: ${m}; }`)}}if(e.navBtnRadius!==void 0&&o.push(`${t} .ts-map-nav .ts-icon-btn { border-radius: ${e.navBtnRadius}px; }`),e.navBtnRadius_tablet!==void 0&&r.push(`${t} .ts-map-nav .ts-icon-btn { border-radius: ${e.navBtnRadius_tablet}px; }`),e.navBtnRadius_mobile!==void 0&&s.push(`${t} .ts-map-nav .ts-icon-btn { border-radius: ${e.navBtnRadius_mobile}px; }`),e.navBtnShadow?.enable){const{horizontal:a=0,vertical:l=0,blur:m=0,spread:p=0,color:f="rgba(0,0,0,0.1)",position:h="outline"}=e.navBtnShadow,d=h==="inset"?"inset ":"";o.push(`${t} .ts-map-nav .ts-icon-btn { box-shadow: ${d}${a}px ${l}px ${m}px ${p}px ${f}; }`)}e.navBtnSize!==void 0&&o.push(`${t} .ts-map-nav .ts-icon-btn { width: ${e.navBtnSize}px; height: ${e.navBtnSize}px; }`),e.navBtnSize_tablet!==void 0&&r.push(`${t} .ts-map-nav .ts-icon-btn { width: ${e.navBtnSize_tablet}px; height: ${e.navBtnSize_tablet}px; }`),e.navBtnSize_mobile!==void 0&&s.push(`${t} .ts-map-nav .ts-icon-btn { width: ${e.navBtnSize_mobile}px; height: ${e.navBtnSize_mobile}px; }`),e.navBtnIconColorHover&&(o.push(`${t} .ts-map-nav .ts-icon-btn:hover i { color: ${e.navBtnIconColorHover}; }`),o.push(`${t} .ts-map-nav .ts-icon-btn:hover svg { fill: ${e.navBtnIconColorHover}; }`)),e.navBtnBgColorHover&&o.push(`${t} .ts-map-nav .ts-icon-btn:hover { background-color: ${e.navBtnBgColorHover}; }`),e.navBtnBorderColorHover&&o.push(`${t} .ts-map-nav .ts-icon-btn:hover { border-color: ${e.navBtnBorderColorHover}; }`);let k="";return o.length>0&&(k+=o.join(`
`)),r.length>0&&(k+=`
@media (max-width: 1024px) {
${r.join(`
`)}
}`),s.length>0&&(k+=`
@media (max-width: 767px) {
${s.join(`
`)}
}`),k}function _e(){return`map-${Math.random().toString(36).substring(2,11)}`}function Re({attributes:e,setAttributes:c,clientId:o}){const r=e.blockId||"map",s=G(e,{blockId:r,baseClass:"voxel-fse-map-editor ts-map-widget elementor-widget-ts-map",selectorPrefix:"voxel-fse-map"}),t=j(()=>J(e,r),[e,r]),k=j(()=>[s.responsiveCSS,t].filter(Boolean).join(`
`),[s.responsiveCSS,t]),a=D({className:s.className,style:s.styles}),l=A(null),m=A(null),p=A(null),f=A(!1),[h,d]=X(!1);z(()=>{e.blockId||c({blockId:_e()})},[e.blockId,c]),z(()=>{const i="voxel-map-css";if(!document.getElementById(i)){const y=document.createElement("link");y.id=i,y.rel="stylesheet";const B=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");y.href=`${B}/wp-content/themes/voxel/assets/dist/map.css?ver=1.7.5.2`,document.head.appendChild(y)}},[]);const g=Y(i=>{const{getBlocks:y}=i("core/block-editor"),u=(B,$)=>{let _=[];return B.forEach(R=>{R.name===$&&R.clientId!==o&&_.push(R),R.innerBlocks&&R.innerBlocks.length>0&&(_=_.concat(u(R.innerBlocks,$)))}),_};return u(y(),"voxel-fse/search-form")},[o]),w=K(()=>{if(!(!m.current||f.current)){if(typeof Voxel>"u"||!Voxel.Maps){console.warn("[Map Block] Voxel.Maps not available yet");return}Voxel.Maps.await(()=>{if(!(!m.current||f.current))try{const i=new Voxel.Maps.LatLng(e.defaultLat,e.defaultLng);p.current=new Voxel.Maps.Map({el:m.current,zoom:e.defaultZoom,center:i,minZoom:e.minZoom,maxZoom:e.maxZoom}),m.current.classList.add("ts-map-loaded"),f.current=!0,d(!0);const y=p.current?.getSourceObject?.();y&&typeof window.google<"u"&&(y.setOptions({mapTypeControl:!1,streetViewControl:!1}),setTimeout(()=>{m.current&&(m.current.querySelectorAll(".gm-style-mtc, .gm-style-mtc-bbw").forEach($=>{$.style.display="none"}),m.current.querySelectorAll(".gm-svpc").forEach($=>{$.style.display="none"}))},100)),console.log("[Map Block] Interactive map initialized in editor")}catch(i){console.error("[Map Block] Failed to initialize map:",i)}})}},[e.defaultLat,e.defaultLng,e.defaultZoom,e.minZoom,e.maxZoom]);z(()=>{const i=setTimeout(()=>{w()},100);return()=>clearTimeout(i)},[w]),z(()=>{if(p.current&&f.current&&typeof Voxel<"u"&&Voxel.Maps){const i=new Voxel.Maps.LatLng(e.defaultLat,e.defaultLng);p.current.setCenter(i),p.current.setZoom(e.defaultZoom)}},[e.defaultLat,e.defaultLng,e.defaultZoom]),z(()=>{if(l.current){const i=O(e);Se(l.current,i)}},[e]);const P=()=>React.createElement(U,{attributes:e,setAttributes:c,stateAttribute:"mapContentAccordion",defaultPanel:"map-settings"},React.createElement(b,{id:"map-settings",title:n("Map settings","voxel-fse")},React.createElement(H,{label:n("Markers","voxel-fse"),value:e.source,options:[{label:n("Get markers from Search Form widget","voxel-fse"),value:"search-form"},{label:n("Show marker of current post","voxel-fse"),value:"current-post"}],onChange:i=>c({source:i})}),e.source==="search-form"&&React.createElement(React.Fragment,null,React.createElement(ce,{label:n("Link to search form","voxel-fse"),items:g.map(i=>({id:i.attributes.blockId||i.clientId,clientId:i.clientId,label:i.attributes.blockId||i.clientId.substring(0,7)})),selectedId:e.searchFormId,onSelect:i=>c({searchFormId:i??""}),widgetType:"SearchForm",description:n("Select the search form to link this map to.","voxel-fse")}),React.createElement(F,{label:n('Show "Search this area" button',"voxel-fse"),checked:e.dragSearch,onChange:i=>c({dragSearch:i})}),e.dragSearch&&React.createElement(React.Fragment,null,React.createElement(H,{label:n("Search mode","voxel-fse"),value:e.dragSearchMode,options:[{label:n("Automatic: Search is performed automatically as the user drags the map","voxel-fse"),value:"automatic"},{label:n("Manual: Search is performed when the button is clicked","voxel-fse"),value:"manual"}],onChange:i=>c({dragSearchMode:i})}),e.dragSearchMode==="automatic"&&React.createElement(H,{label:n("Map drag default state","voxel-fse"),help:n("If enabled, dragging the map will trigger a search for posts within the visible map bounds.","voxel-fse"),value:e.dragSearchDefault,options:[{label:n("Checked","voxel-fse"),value:"checked"},{label:n("Unchecked","voxel-fse"),value:"unchecked"}],onChange:i=>c({dragSearchDefault:i})}))),React.createElement(C,{label:n("Height","voxel-fse"),attributes:e,setAttributes:c,attributeBaseName:"height",min:100,max:1200,step:1}),React.createElement(F,{label:n("Calculate height?","voxel-fse"),checked:e.enableCalcHeight,onChange:i=>c({enableCalcHeight:i})}),e.enableCalcHeight&&React.createElement(M,{label:n("Calculation","voxel-fse"),help:n("Use CSS calc() to calculate height e.g calc(100vh - 215px)","voxel-fse"),value:e.calcHeight,onChange:i=>c({calcHeight:i}),placeholder:"calc(100vh - 70px)"}),React.createElement(C,{label:n("Border radius","voxel-fse"),attributes:e,setAttributes:c,attributeBaseName:"mapBorderRadius",min:0,max:100,step:1})),React.createElement(b,{id:"default-location",title:n("Default map location","voxel-fse")},React.createElement("div",{style:{display:"flex",gap:"10px"}},React.createElement(M,{label:n("Default latitude","voxel-fse"),type:"number",value:String(e.defaultLat),onChange:i=>c({defaultLat:parseFloat(i)||0}),help:n("-90 to 90","voxel-fse")}),React.createElement(M,{label:n("Default longitude","voxel-fse"),type:"number",value:String(e.defaultLng),onChange:i=>c({defaultLng:parseFloat(i)||0}),help:n("-180 to 180","voxel-fse")})),React.createElement(L,{label:n("Default zoom level","voxel-fse"),value:e.defaultZoom,onChange:i=>c({defaultZoom:i}),min:0,max:30}),React.createElement("div",{style:{display:"flex",gap:"10px"}},React.createElement(L,{label:n("Minimum zoom level","voxel-fse"),value:e.minZoom,onChange:i=>c({minZoom:i}),min:0,max:30}),React.createElement(L,{label:n("Maximum zoom level","voxel-fse"),value:e.maxZoom,onChange:i=>c({maxZoom:i}),min:0,max:30}))));return React.createElement(React.Fragment,null,React.createElement(Q,null,React.createElement(re,{tabs:[{id:"content",label:n("Content","voxel-fse"),icon:"",render:P},{id:"style",label:n("Style","voxel-fse"),icon:"",render:()=>React.createElement(Me,{attributes:e,setAttributes:c,context:"editor"})},{id:"advanced",label:n("Advanced","voxel-fse"),icon:"",render:()=>React.createElement(oe,{attributes:e,setAttributes:c})},{id:"voxel",label:n("Voxel","voxel-fse"),icon:"/wp-content/themes/voxel/assets/images/post-types/logo.svg",render:()=>React.createElement(ne,{attributes:e,setAttributes:c})}]})),React.createElement("div",{...a,ref:l},k&&React.createElement("style",{dangerouslySetInnerHTML:{__html:k}}),e.source==="search-form"&&e.dragSearch&&React.createElement("div",{className:"ts-map-drag"},e.dragSearchMode==="automatic"?React.createElement("a",{href:"#",className:`ts-map-btn ts-drag-toggle ${e.dragSearchDefault==="checked"?"active":""}`,onClick:i=>i.preventDefault()},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},React.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})),n("Search as I move the map","voxel-fse")):React.createElement("a",{href:"#",className:"ts-search-area ts-map-btn",onClick:i=>i.preventDefault()},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor"},React.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})),n("Search this area","voxel-fse"))),React.createElement("a",{href:"#",rel:"nofollow",role:"button",className:"vx-geolocate-me","aria-label":n("Share your location","voxel-fse"),onClick:i=>{i.preventDefault();const y=i.currentTarget;if(y.classList.add("loading"),!navigator.geolocation){y.classList.remove("loading");const u=window.Voxel_Config?.l10n?.positionFail||"Geolocation is not supported by your browser.";typeof window.Voxel?.alert=="function"?window.Voxel.alert(u,"error"):console.warn("[Map Block]",u);return}navigator.geolocation.getCurrentPosition(u=>{y.classList.remove("loading");const{latitude:B,longitude:$}=u.coords;if(p.current&&typeof Voxel<"u"&&Voxel.Maps){const _=new Voxel.Maps.LatLng(B,$);p.current.setCenter(_),p.current.setZoom(15)}c({defaultLat:B,defaultLng:$,defaultZoom:15}),console.log("[Map Block] Geolocation success:",B,$)},u=>{y.classList.remove("loading");const B=window.Voxel_Config?.l10n?.positionFail||"Could not determine your location.";typeof window.Voxel?.alert=="function"?window.Voxel.alert(B,"error"):console.warn("[Map Block]",B)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},style:{display:"flex",position:"absolute",top:"8px",left:"8px",width:"32px",height:"32px",backgroundColor:"#fff",boxShadow:"0 1px 4px -1px rgba(0,0,0,.3)",padding:"5px",borderRadius:"2px",alignItems:"center",justifyContent:"center",zIndex:5}},React.createElement("svg",{width:"22",height:"22",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{opacity:.6}},React.createElement("path",{d:"M12.4025 9.44141C10.884 9.44141 9.65283 10.6727 9.65283 12.1914C9.65283 13.7101 10.884 14.9414 12.4025 14.9414C13.921 14.9414 15.1522 13.7101 15.1522 12.1914C15.1522 10.6727 13.921 9.44141 12.4025 9.44141Z",fill:"currentColor"}),React.createElement("path",{d:"M13.1523 2.19141C13.1523 1.77719 12.8166 1.44141 12.4023 1.44141C11.9881 1.44141 11.6523 1.77719 11.6523 2.19141V3.72405C7.5566 4.0822 4.29367 7.34575 3.93549 11.4414H2.40234C1.98813 11.4414 1.65234 11.7772 1.65234 12.1914C1.65234 12.6056 1.98813 12.9414 2.40234 12.9414H3.93545C4.29344 17.0373 7.55645 20.301 11.6523 20.6592V22.1914C11.6523 22.6056 11.9881 22.9414 12.4023 22.9414C12.8166 22.9414 13.1523 22.6056 13.1523 22.1914V20.6592C17.2482 20.301 20.5113 17.0373 20.8692 12.9414H22.4023C22.8166 12.9414 23.1523 12.6056 23.1523 12.1914C23.1523 11.7772 22.8166 11.4414 22.4023 11.4414H20.8692C20.511 7.34575 17.2481 4.0822 13.1523 3.72405V2.19141ZM12.4025 7.94141C14.7496 7.94141 16.6522 9.84446 16.6522 12.1914C16.6522 14.5383 14.7496 16.4414 12.4025 16.4414C10.0554 16.4414 8.15283 14.5384 8.15283 12.1914C8.15283 9.84446 10.0554 7.94141 12.4025 7.94141ZM12.4025 9.44141C10.884 9.44141 9.65283 10.6727 9.65283 12.1914C9.65283 13.7101 10.884 14.9414 12.4025 14.9414C13.921 14.9414 15.1522 13.7101 15.1522 12.1914C15.1522 10.6727 13.921 9.44141 12.4025 9.44141Z",fill:"currentColor"}))),React.createElement("div",{style:{position:"relative"}},!h&&React.createElement(le,{icon:"",text:n("Loading map...","voxel-fse"),style:{position:"absolute",inset:0,zIndex:10,height:e.enableCalcHeight&&e.calcHeight?e.calcHeight:`${e.height||400}${e.heightUnit||"px"}`,borderRadius:`${e.borderRadius||0}px`}}),React.createElement("div",{ref:m,className:"ts-map",style:{height:e.enableCalcHeight&&e.calcHeight?e.calcHeight:`${e.height||400}${e.heightUnit||"px"}`,borderRadius:`${e.borderRadius||0}px`},"data-config":JSON.stringify({center:{lat:e.defaultLat,lng:e.defaultLng},zoom:e.defaultZoom,minZoom:e.minZoom,maxZoom:e.maxZoom})})),React.createElement("div",{style:{display:"none"}},React.createElement("svg",{id:"ts-symbol-marker",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M3 10.9696C3 6.01585 7.02944 2 12 2C16.9706 2 21 6.01585 21 10.9696C21 16.3296 15.929 20.2049 12.7799 21.8117C12.2877 22.0628 11.7123 22.0628 11.2201 21.8117C8.07101 20.2049 3 16.3296 3 10.9696ZM12 14.6136C13.933 14.6136 15.5 13.0323 15.5 11.0818C15.5 9.13121 13.933 7.54997 12 7.54997C10.067 7.54997 8.5 9.13121 8.5 11.0818C8.5 13.0323 10.067 14.6136 12 14.6136Z"})))))}function ze({attributes:e}){const c=e.blockId||"map",o=G(e,{blockId:c,baseClass:"voxel-fse-map ts-map-widget elementor-widget-ts-map",selectorPrefix:"voxel-fse-map"}),r=J(e,c),s=[o.responsiveCSS,r].filter(Boolean).join(`
`),t=D.save({id:o.elementId,className:o.className,style:o.styles,"data-source":e.source,"data-search-form-id":e.searchFormId||void 0,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-property":e.loopProperty||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...o.customAttrs}),k=O(e);return React.createElement("div",{...t},s&&React.createElement("style",{dangerouslySetInnerHTML:{__html:s}}),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(k)}}),ie(e,!1,void 0,void 0,o.uniqueSelector),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e8e8e8",minHeight:"200px",borderRadius:"4px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"#999"},React.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}))))}const Ie=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},React.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}));q(V.name,{...V,attributes:{...V.attributes,...te,...ae},icon:Ie,edit:Re,save:ze});
