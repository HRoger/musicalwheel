function h(){if(window.Voxel&&window.Voxel._fseInitialized)return;const a=window.Voxel_Config||{ajax_url:"/?vx=1",is_logged_in:!1,login_url:"/login",register_url:"/register",currency:"USD",locale:"en_US",is_rtl:!1,l10n:{ajaxError:"Something went wrong",accountRequired:"Please log in to continue",login:"Log In",register:"Sign Up",copied:"Copied!",added_to_cart:"Added to cart",view_cart:"View Cart"},maps:{provider:"google_maps"}};let g=0;const d=window.Voxel||{},f=d.Maps||{},w=function(e){if(f.Loaded){e();return}document.addEventListener("maps:loaded",()=>e());const o=a.maps?.provider||"google_maps",r=a[o]?.handle;if(r&&typeof r=="string"){const i=document.getElementById(r),c=i?.dataset?.src;i&&c&&(i.src=c)}},y={...f,Loaded:f.Loaded||!1,await:w};window.Voxel={...d,_fseInitialized:!0,mixins:d.mixins||{},components:d.components||{},Maps:y,helpers:{getParent(e,t){return null},dateFormatYmd(e){return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")},dateTimeFormat(e){return e.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})},dateFormat(e){return e.toLocaleString(void 0,{dateStyle:"medium"})},timeFormat(e){return e.toLocaleString(void 0,{timeStyle:"short"})},currencyFormat(e,t){const o=t||String(a.currency||"USD");try{const n=e%1!==0,r=String(a.locale||"en_US");return new Intl.NumberFormat(r.replace("_","-"),{style:"currency",currency:o,minimumFractionDigits:n?2:0,maximumFractionDigits:n?2:0}).format(e)}catch{return o+" "+e}},debounce(e,t=200,o=null){let n;return(...r)=>{clearTimeout(n);let i=r;typeof o=="function"&&(i=o(r)),n=setTimeout(()=>{e.apply(null,i)},t)}},viewportPercentage(e){const t=e.getBoundingClientRect(),o=window.innerHeight;if(t.top>=o||t.bottom<=0)return 0;if(t.top<0&&t.bottom>o)return 1;const n=t.top<0?Math.abs(t.top):0,r=o<t.bottom?t.bottom-o:0;return(t.height-n-r)/o},sequentialId(){return g||(g=1),g++},randomId(e=8){const t="0123456789abcdefghijklmnopqrstuvwxyz",o=t.length-1;let n="";for(let r=0;r<e;r++){const i=Math.floor(0+Math.random()*(o-0+1));n+=t[i]}return n}},_filters:{},addFilter(e,t,o=10){const n=this._filters;n[e]||(n[e]=[]),n[e].push({callback:t,priority:o}),n[e].sort((r,i)=>r.priority-i.priority)},applyFilters(e,t,...o){const n=this._filters;if(!n[e]||!n[e].length)return t;let r=t;for(let i=0;i<n[e].length;i++)r=n[e][i].callback.apply(null,[r,...o]);return r},dialog(e={message:""}){const t=typeof e.message=="string"?e.message:"";if(!t.length)return;const o=typeof e.type=="string"&&e.type.length?e.type:"info",n=Array.isArray(e.actions)?e.actions:[],r=typeof e.timeout=="number"?e.timeout:7500,i=!!e.hideClose,m=document.getElementById("vx-alert-tpl");if(!m){console.warn("[Voxel FSE] #vx-alert-tpl template not found, using console fallback"),console.log(`[Voxel ${o}] ${t}`);return}const c=m.textContent?.replace("{type}",o||"info").replace("{message}",t);if(!c)return;const u=window.jQuery;if(!u){console.warn("[Voxel FSE] jQuery not available for dialog");return}const l=u(c).hide();n.length&&[...n].reverse().forEach(s=>{const p=u('<a href="javascript:void(0);" class="ts-btn ts-btn-4">').attr({href:s.link||"#"}).html(s.label);typeof s.onClick=="function"&&p.on("click",s.onClick),p.on("click",()=>l.find(".close-alert").trigger("click")),l.find(".alert-actions").prepend(p)}),i&&l.find(".close-alert").hide(),l.find(".close-alert").on("click",s=>{s.preventDefault(),l.fadeOut(100,()=>l.remove())}),typeof e.closeLabel=="string"&&e.closeLabel.length&&l.find(".close-alert").html(e.closeLabel),typeof r=="number"&&r>0&&setTimeout(()=>l.fadeOut(100,()=>l.remove()),r),u("#vx-alert").html(l),l.fadeIn(100)},alert(e,t="info",o=[],n=7500){this.dialog({message:e,type:t,actions:o,timeout:n})},prompt(e,t="info",o=[],n=-1){this.dialog({message:e,type:t,actions:o,timeout:n,hideClose:!0})},authRequired(e=null){const t=a.l10n;e===null&&(e=String(t?.accountRequired||"Please log in to continue")),this.alert(e,"info",[{link:String(a.login_url||"/login"),label:String(t?.login||"Log In")},{link:String(a.register_url||"/register"),label:String(t?.register||"Sign Up")}],7500)},requireAuth(e){a.is_logged_in||(e.preventDefault(),this.authRequired())},getSearchParam(e){return new URL(window.location.href).searchParams.get(e)},setSearchParam(e,t){const o=new URL(window.location.href);o.searchParams.set(e,t),window.history.replaceState(null,"",o.toString())},deleteSearchParam(e){const t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState(null,"",t.toString())},async share(e){try{await navigator.share(e)}catch{}},copy(e){const t=a.l10n;navigator.clipboard.writeText(e).then(()=>this.alert(String(t?.copied||"Copied!"),"info",[],2250))},scrollTo(e){e&&window.scrollTo({top:e.getBoundingClientRect().top+window.pageYOffset,behavior:"smooth"})},getCookie(e){return document.cookie.split("; ").find(t=>t.startsWith(e+"="))?.split("=")[1]},openCart(){const e=document.querySelector(".ts-popup-cart > a");e&&(this.scrollTo(e),e.dispatchEvent(new Event("vx:open")))}},document.dispatchEvent(new CustomEvent("voxel/commons/init")),console.log("[Voxel FSE Commons] Initialized (React-compatible)")}h();document.readyState==="loading"&&document.addEventListener("DOMContentLoaded",h);
