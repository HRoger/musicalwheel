import{registerBlockType as Je}from"@wordpress/blocks";import{__ as i}from"@wordpress/i18n";import{useBlockProps as Me,InspectorControls as Ke}from"@wordpress/block-editor";import{useEffect as T,useCallback as k,useState as D,useRef as Q,forwardRef as Xe,useMemo as $,useImperativeHandle as Ae}from"react";import{A as ze,a as L,S as H,R as et,T as V,C as b,b as J,B as le,m as _,c as K}from"../TypographyPopup-BXz72zyZ.js";import{I as tt}from"../InspectorTabs-DmdaThza.js";import{SelectControl as ot,ToggleControl as ge}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-BJok1GGr.js";import{I as pe}from"../IconPickerControl-DZSJ-4aK.js";import{E as nt}from"../EmptyPlaceholder-CZuftqhV.js";import"../voxelShim-DB_Ue-9R.js";import{g as Qe}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as at}from"../backgroundElements-Ui-iCrLV.js";import{V as rt}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";const W={addToCart:{library:"icon",value:"la-shopping-cart"},outOfStock:{library:"icon",value:"la-exclamation-circle"},checkout:{library:"icon",value:"la-arrow-right"},calendar:{library:"icon",value:"la-calendar"},clock:{library:"icon",value:"la-clock"}},lt={start_date:null,end_date:null,date:null,slot:null};function ct({attributes:e,setAttributes:t}){const o=(n,p)=>{t({icons:{...W,...e.icons,[n]:p}})};return React.createElement(ze,{attributes:e,setAttributes:t,stateAttribute:"contentTabOpenPanel",defaultPanel:"settings"},React.createElement(L,{id:"settings",title:i("Settings","voxel-fse")},React.createElement(ot,{label:i("Show Price Calculator","voxel-fse"),value:e.showPriceCalculator,options:[{label:i("Show","voxel-fse"),value:"show"},{label:i("Hide","voxel-fse"),value:"hide"}],onChange:n=>t({showPriceCalculator:n})}),React.createElement(ge,{label:i("Show only subtotal?","voxel-fse"),checked:e.showSubtotalOnly,onChange:n=>t({showSubtotalOnly:n})})),React.createElement(L,{id:"cards",title:i("Cards","voxel-fse")},React.createElement(ge,{label:i("Hide Cards subheading","voxel-fse"),checked:e.hideCardSubheading,onChange:n=>t({hideCardSubheading:n})}),React.createElement(ge,{label:i("Select/Deselect on click","voxel-fse"),help:i("Useful if you are selecting add-ons through Select add-on action","voxel-fse"),checked:!e.cardSelectOnClick,onChange:n=>t({cardSelectOnClick:!n})})),React.createElement(L,{id:"icons",title:i("Icons","voxel-fse")},React.createElement(pe,{label:i("Add to cart icon","voxel-fse"),value:e.icons?.addToCart||W.addToCart,onChange:n=>o("addToCart",n)}),React.createElement(pe,{label:i("Out of stock icons","voxel-fse"),value:e.icons?.outOfStock||W.outOfStock,onChange:n=>o("outOfStock",n)}),React.createElement(pe,{label:i("Checkout icon","voxel-fse"),value:e.icons?.checkout||W.checkout,onChange:n=>o("checkout",n)}),React.createElement(pe,{label:i("Calendar icon","voxel-fse"),value:e.icons?.calendar||W.calendar,onChange:n=>o("calendar",n)}),React.createElement(pe,{label:i("Clock icon","voxel-fse"),value:e.icons?.clock||W.clock,onChange:n=>o("clock",n)})))}function st({attributes:e,setAttributes:t}){return React.createElement(ze,{attributes:e,setAttributes:t,stateAttribute:"styleTabOpenPanel",defaultPanel:"general"},React.createElement(L,{id:"general",title:i("General","voxel-fse")},React.createElement(H,{label:i("Field","voxel-fse")}),React.createElement(et,{label:i("Spacing","voxel-fse"),attributes:e,setAttributes:t,attributeBaseName:"fieldSpacing",min:0,max:50}),React.createElement(H,{label:i("Field label","voxel-fse")}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.fieldLabelTypography,onChange:o=>t({fieldLabelTypography:o})}),React.createElement(b,{label:i("Color","voxel-fse"),value:e.fieldLabelColor,onChange:o=>t({fieldLabelColor:o??""})})),React.createElement(L,{id:"primary-button",title:i("Primary button","voxel-fse")},React.createElement(J,{attributeName:"primaryBtnState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(V,{label:i("Button typography","voxel-fse"),value:e.primaryButtonTypography,onChange:n=>t({primaryButtonTypography:n})}),React.createElement(le,{label:i("Border Type","voxel-fse"),value:e.primaryButtonBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({primaryButtonBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.primaryButtonBorderRadius,onChange:n=>t({primaryButtonBorderRadius:n??0}),min:0,max:100,units:["px"]}),React.createElement(K,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"primaryButtonBoxShadow"}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.primaryButtonTextColor,onChange:n=>t({primaryButtonTextColor:n??""})}),React.createElement(b,{label:i("Background color","voxel-fse"),value:e.primaryButtonBackground,onChange:n=>t({primaryButtonBackground:n??""})}),React.createElement(_,{label:i("Icon size","voxel-fse"),value:e.primaryButtonIconSize,onChange:n=>t({primaryButtonIconSize:n??24}),min:0,max:100,units:["px"]}),React.createElement(b,{label:i("Icon color","voxel-fse"),value:e.primaryButtonIconColor,onChange:n=>t({primaryButtonIconColor:n??""})}),React.createElement(_,{label:i("Icon/Text spacing","voxel-fse"),value:e.primaryButtonIconTextSpacing,onChange:n=>t({primaryButtonIconTextSpacing:n??8}),min:0,max:100,units:["px"]})),o.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(b,{label:i("Text color","voxel-fse"),value:e.primaryButtonTextColorHover,onChange:n=>t({primaryButtonTextColorHover:n??""})}),React.createElement(b,{label:i("Background color","voxel-fse"),value:e.primaryButtonBackgroundHover,onChange:n=>t({primaryButtonBackgroundHover:n??""})}),React.createElement(b,{label:i("Border color","voxel-fse"),value:e.primaryButtonBorderColorHover,onChange:n=>t({primaryButtonBorderColorHover:n??""})}),React.createElement(K,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"primaryButtonBoxShadowHover"}),React.createElement(b,{label:i("Icon color","voxel-fse"),value:e.primaryButtonIconColorHover,onChange:n=>t({primaryButtonIconColorHover:n??""})}))))),React.createElement(L,{id:"price-calculator",title:i("Price calculator","voxel-fse")},React.createElement(_,{label:i("List spacing","voxel-fse"),value:e.priceCalculatorListSpacing,onChange:o=>t({priceCalculatorListSpacing:o??10}),min:0,max:50,units:["px"]}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.priceCalculatorTypography,onChange:o=>t({priceCalculatorTypography:o})}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.priceCalculatorTextColor,onChange:o=>t({priceCalculatorTextColor:o??""})}),React.createElement(V,{label:i("Typography (Total)","voxel-fse"),value:e.priceCalculatorTotalTypography,onChange:o=>t({priceCalculatorTotalTypography:o})}),React.createElement(b,{label:i("Text color (Total)","voxel-fse"),value:e.priceCalculatorTotalTextColor,onChange:o=>t({priceCalculatorTotalTextColor:o??""})})),React.createElement(L,{id:"loading-out-of-stock",title:i("Loading / Out of stock","voxel-fse")},React.createElement(H,{label:i("Loading","voxel-fse")}),React.createElement(b,{label:i("Color 1","voxel-fse"),value:e.loadingColor1,onChange:o=>t({loadingColor1:o??""})}),React.createElement(b,{label:i("Color 2","voxel-fse"),value:e.loadingColor2,onChange:o=>t({loadingColor2:o??""})}),React.createElement(H,{label:i("Out of stock","voxel-fse")}),React.createElement(_,{label:i("Content gap","voxel-fse"),value:e.outOfStockContentGap,onChange:o=>t({outOfStockContentGap:o??15}),min:0,max:100,units:["px"]}),React.createElement(_,{label:i("Icon size","voxel-fse"),value:e.outOfStockIconSize,onChange:o=>t({outOfStockIconSize:o??40}),min:0,max:100,units:["px"]}),React.createElement(b,{label:i("Icon color","voxel-fse"),value:e.outOfStockIconColor,onChange:o=>t({outOfStockIconColor:o??""})}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.outOfStockTypography,onChange:o=>t({outOfStockTypography:o})}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.outOfStockTextColor,onChange:o=>t({outOfStockTextColor:o??""})})),React.createElement(L,{id:"number-stepper",title:i("Number stepper","voxel-fse")},React.createElement(J,{attributeName:"stepperState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(_,{label:i("Input value size","voxel-fse"),value:e.stepperInputSize,onChange:n=>t({stepperInputSize:n??16}),min:13,max:30,units:["px"]}),React.createElement(b,{label:i("Button icon color","voxel-fse"),value:e.stepperButtonIconColor,onChange:n=>t({stepperButtonIconColor:n??""})}),React.createElement(b,{label:i("Button background","voxel-fse"),value:e.stepperButtonBackground,onChange:n=>t({stepperButtonBackground:n??""})}),React.createElement(le,{label:i("Border Type","voxel-fse"),value:e.stepperButtonBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({stepperButtonBorder:n})}),React.createElement(_,{label:i("Button border radius","voxel-fse"),value:e.stepperButtonBorderRadius,onChange:n=>t({stepperButtonBorderRadius:n??0}),min:0,max:50,units:["px"]})),o.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(b,{label:i("Button icon color","voxel-fse"),value:e.stepperButtonIconColorHover,onChange:n=>t({stepperButtonIconColorHover:n??""})}),React.createElement(b,{label:i("Button background color","voxel-fse"),value:e.stepperButtonBackgroundHover,onChange:n=>t({stepperButtonBackgroundHover:n??""})}),React.createElement(b,{label:i("Button border color","voxel-fse"),value:e.stepperButtonBorderColorHover,onChange:n=>t({stepperButtonBorderColorHover:n??""})}))))),React.createElement(L,{id:"cards-style",title:i("Cards","voxel-fse")},React.createElement(J,{attributeName:"cardsState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"selected",title:i("Selected","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Cards","voxel-fse")}),React.createElement(_,{label:i("Gap","voxel-fse"),value:e.cardsGap,onChange:n=>t({cardsGap:n??10}),min:0,max:100,units:["px"]}),React.createElement(b,{label:i("Background","voxel-fse"),value:e.cardsBackground,onChange:n=>t({cardsBackground:n??""})}),React.createElement(le,{label:i("Border Type","voxel-fse"),value:e.cardsBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({cardsBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.cardsBorderRadius,onChange:n=>t({cardsBorderRadius:n??0}),min:0,max:50,units:["px"]}),React.createElement(H,{label:i("Text","voxel-fse")}),React.createElement(V,{label:i("Primary","voxel-fse"),value:e.cardsPrimaryTypography,onChange:n=>t({cardsPrimaryTypography:n})}),React.createElement(b,{label:i("Primary Color","voxel-fse"),value:e.cardsPrimaryColor,onChange:n=>t({cardsPrimaryColor:n??""})}),React.createElement(V,{label:i("Secondary","voxel-fse"),value:e.cardsSecondaryTypography,onChange:n=>t({cardsSecondaryTypography:n})}),React.createElement(b,{label:i("Secondary Color","voxel-fse"),value:e.cardsSecondaryColor,onChange:n=>t({cardsSecondaryColor:n??""})}),React.createElement(V,{label:i("Price","voxel-fse"),value:e.cardsPriceTypography,onChange:n=>t({cardsPriceTypography:n})}),React.createElement(b,{label:i("Price color Color","voxel-fse"),value:e.cardsPriceColor,onChange:n=>t({cardsPriceColor:n??""})}),React.createElement(H,{label:i("Image","voxel-fse")}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.cardsImageBorderRadius,onChange:n=>t({cardsImageBorderRadius:n??0}),min:0,max:100,units:["px"]}),React.createElement(_,{label:i("Size","voxel-fse"),value:e.cardsImageSize,onChange:n=>t({cardsImageSize:n??60}),min:20,max:200,units:["px"]})),o.name==="selected"&&React.createElement(React.Fragment,null,React.createElement(b,{label:i("Background","voxel-fse"),value:e.cardsSelectedBackground,onChange:n=>t({cardsSelectedBackground:n??""})}),React.createElement(b,{label:i("Border color","voxel-fse"),value:e.cardsSelectedBorderColor,onChange:n=>t({cardsSelectedBorderColor:n??""})}),React.createElement(K,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"cardsSelectedBoxShadow"}),React.createElement(V,{label:i("Primary text","voxel-fse"),value:e.cardsSelectedPrimaryTypography,onChange:n=>t({cardsSelectedPrimaryTypography:n})}))))),React.createElement(L,{id:"buttons",title:i("Buttons","voxel-fse")},React.createElement(J,{t:!0,attributeName:"buttonsState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"selected",title:i("Selected","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(_,{label:i("Gap","voxel-fse"),value:e.buttonsGap,onChange:n=>t({buttonsGap:n??10}),min:0,max:100,units:["px"]}),React.createElement(b,{label:i("Background","voxel-fse"),value:e.buttonsBackground,onChange:n=>t({buttonsBackground:n??""})}),React.createElement(le,{label:i("Border Type","voxel-fse"),value:e.buttonsBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({buttonsBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.buttonsBorderRadius,onChange:n=>t({buttonsBorderRadius:n??0}),min:0,max:50,units:["px"]}),React.createElement(V,{label:i("Text","voxel-fse"),value:e.buttonsTextTypography,onChange:n=>t({buttonsTextTypography:n})}),React.createElement(b,{label:i("Text Color","voxel-fse"),value:e.buttonsTextColor,onChange:n=>t({buttonsTextColor:n??""})})),o.name==="selected"&&React.createElement(React.Fragment,null,React.createElement(b,{label:i("Background","voxel-fse"),value:e.buttonsSelectedBackground,onChange:n=>t({buttonsSelectedBackground:n??""})}),React.createElement(b,{label:i("Border color","voxel-fse"),value:e.buttonsSelectedBorderColor,onChange:n=>t({buttonsSelectedBorderColor:n??""})}),React.createElement(K,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"buttonsSelectedBoxShadow"}))))),React.createElement(L,{id:"dropdown",title:i("Dropdown","voxel-fse")},React.createElement(J,{t:!0,attributeName:"dropdownState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")},{name:"filled",title:i("Filled","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Style","voxel-fse")}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.dropdownTypography,onChange:n=>t({dropdownTypography:n})}),React.createElement(K,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"dropdownBoxShadow"}),React.createElement(b,{label:i("Background color","voxel-fse"),value:e.dropdownBackground,onChange:n=>t({dropdownBackground:n??""})}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.dropdownTextColor,onChange:n=>t({dropdownTextColor:n??""})}),React.createElement(le,{label:i("Border Type","voxel-fse"),value:e.dropdownBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({dropdownBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.dropdownBorderRadius,onChange:n=>t({dropdownBorderRadius:n??0}),min:0,max:50,units:["px"]}),React.createElement(H,{label:i("Icons","voxel-fse")}),React.createElement(b,{label:i("Icon color","voxel-fse"),value:e.dropdownIconColor,onChange:n=>t({dropdownIconColor:n??""})}),React.createElement(_,{label:i("Icon size","voxel-fse"),value:e.dropdownIconSize,onChange:n=>t({dropdownIconSize:n??24}),min:0,max:50,units:["px"]}),React.createElement(_,{label:i("Icon/Text spacing","voxel-fse"),value:e.dropdownIconTextSpacing,onChange:n=>t({dropdownIconTextSpacing:n??10}),min:0,max:50,units:["px"]}),React.createElement(H,{label:i("Chevron","voxel-fse")}),React.createElement(ge,{label:i("Hide chevron","voxel-fse"),checked:e.dropdownHideChevron,onChange:n=>t({dropdownHideChevron:n})}),React.createElement(b,{label:i("Chevron color","voxel-fse"),value:e.dropdownChevronColor,onChange:n=>t({dropdownChevronColor:n??""})})),o.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Style","voxel-fse")}),React.createElement(b,{label:i("Background color","voxel-fse"),value:e.dropdownBackgroundHover,onChange:n=>t({dropdownBackgroundHover:n??""})}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.dropdownTextColorHover,onChange:n=>t({dropdownTextColorHover:n??""})}),React.createElement(b,{label:i("Border color","voxel-fse"),value:e.dropdownBorderColorHover,onChange:n=>t({dropdownBorderColorHover:n??""})}),React.createElement(b,{label:i("Icon color","voxel-fse"),value:e.dropdownIconColorHover,onChange:n=>t({dropdownIconColorHover:n??""})}),React.createElement(K,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"dropdownBoxShadowHover"})),o.name==="filled"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Style (Filled)","voxel-fse")}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.dropdownFilledTypography,onChange:n=>t({dropdownFilledTypography:n})}),React.createElement(b,{label:i("Background","voxel-fse"),value:e.dropdownFilledBackground,onChange:n=>t({dropdownFilledBackground:n??""})}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.dropdownFilledTextColor,onChange:n=>t({dropdownFilledTextColor:n??""})}),React.createElement(b,{label:i("Icon color","voxel-fse"),value:e.dropdownFilledIconColor,onChange:n=>t({dropdownFilledIconColor:n??""})}),React.createElement(b,{label:i("Border color","voxel-fse"),value:e.dropdownFilledBorderColor,onChange:n=>t({dropdownFilledBorderColor:n??""})}),React.createElement(_,{label:i("Border width","voxel-fse"),value:e.dropdownFilledBorderWidth,onChange:n=>t({dropdownFilledBorderWidth:n??0}),min:0,max:10,units:["px"]}),React.createElement(K,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"dropdownFilledBoxShadow"}))))),React.createElement(L,{id:"radio-checkboxes",title:i("Radio/Checkboxes","voxel-fse")},React.createElement(J,{t:!0,attributeName:"radioCheckboxState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"selected",title:i("Selected","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(b,{label:i("Border-color","voxel-fse"),value:e.radioCheckboxBorderColor,onChange:n=>t({radioCheckboxBorderColor:n??""})}),React.createElement(V,{label:i("Text","voxel-fse"),value:e.radioCheckboxTextTypography,onChange:n=>t({radioCheckboxTextTypography:n})}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.radioCheckboxTextColor,onChange:n=>t({radioCheckboxTextColor:n??""})})),o.name==="selected"&&React.createElement(React.Fragment,null,React.createElement(b,{label:i("Background color","voxel-fse"),value:e.radioCheckboxSelectedBackground,onChange:n=>t({radioCheckboxSelectedBackground:n??""})}),React.createElement(V,{label:i("Text","voxel-fse"),value:e.radioCheckboxSelectedTextTypography,onChange:n=>t({radioCheckboxSelectedTextTypography:n})}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.radioCheckboxSelectedTextColor,onChange:n=>t({radioCheckboxSelectedTextColor:n??""})}),React.createElement(K,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"radioCheckboxSelectedBoxShadow"}))))),React.createElement(L,{id:"switcher",title:i("Switcher","voxel-fse")},React.createElement(H,{label:i("Switch slider","voxel-fse")}),React.createElement(b,{label:i("Background (Inactive)","voxel-fse"),value:e.switcherBackgroundInactive,onChange:o=>t({switcherBackgroundInactive:o??""})}),React.createElement(b,{label:i("Background (Active)","voxel-fse"),value:e.switcherBackgroundActive,onChange:o=>t({switcherBackgroundActive:o??""})}),React.createElement(b,{label:i("Handle background","voxel-fse"),value:e.switcherHandleBackground,onChange:o=>t({switcherHandleBackground:o??""})})),React.createElement(L,{id:"images",title:i("Images","voxel-fse")},React.createElement(J,{t:!0,attributeName:"imagesState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"selected",title:i("Selected","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(_,{label:i("Gap","voxel-fse"),value:e.imagesGap,onChange:n=>t({imagesGap:n??10}),min:0,max:50,units:["px"]}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.imagesBorderRadius,onChange:n=>t({imagesBorderRadius:n??0}),min:0,max:100,units:["px"]})),o.name==="selected"&&React.createElement(React.Fragment,null,React.createElement(b,{label:i("Border color","voxel-fse"),value:e.imagesSelectedBorderColor,onChange:n=>t({imagesSelectedBorderColor:n??""})}))))),React.createElement(L,{id:"colors",title:i("Colors","voxel-fse")},React.createElement(_,{label:i("Gap","voxel-fse"),value:e.colorsGap,onChange:o=>t({colorsGap:o??10}),min:0,max:50,units:["px"]}),React.createElement(_,{label:i("Size","voxel-fse"),value:e.colorsSize,onChange:o=>t({colorsSize:o??30}),min:10,max:100,units:["px"]}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.colorsBorderRadius,onChange:o=>t({colorsBorderRadius:o??50}),min:0,max:100,units:["px"]}),React.createElement(b,{label:i("Inset color","voxel-fse"),value:e.colorsInsetColor,onChange:o=>t({colorsInsetColor:o??""})})),React.createElement(L,{id:"input-textarea",title:i("Input and Textarea","voxel-fse")},React.createElement(J,{t:!0,attributeName:"inputTextareaState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")},{name:"active",title:i("Active","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Placeholder","voxel-fse")}),React.createElement(b,{label:i("Placeholder color","voxel-fse"),value:e.inputPlaceholderColor,onChange:n=>t({inputPlaceholderColor:n??""})}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.inputPlaceholderTypography,onChange:n=>t({inputPlaceholderTypography:n})}),React.createElement(H,{label:i("Value","voxel-fse")}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.inputValueColor,onChange:n=>t({inputValueColor:n??""})}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.inputValueTypography,onChange:n=>t({inputValueTypography:n})}),React.createElement(H,{label:i("General","voxel-fse")}),React.createElement(b,{label:i("Background color","voxel-fse"),value:e.inputBackground,onChange:n=>t({inputBackground:n??""})}),React.createElement(le,{label:i("Border Type","voxel-fse"),value:e.inputBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({inputBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.inputBorderRadius,onChange:n=>t({inputBorderRadius:n??0}),min:0,max:50,units:["px"]})),o.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(b,{label:i("Background color","voxel-fse"),value:e.inputBackgroundHover,onChange:n=>t({inputBackgroundHover:n??""})}),React.createElement(b,{label:i("Border color","voxel-fse"),value:e.inputBorderColorHover,onChange:n=>t({inputBorderColorHover:n??""})}),React.createElement(b,{label:i("Placeholder color","voxel-fse"),value:e.inputPlaceholderColorHover,onChange:n=>t({inputPlaceholderColorHover:n??""})}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.inputTextColorHover,onChange:n=>t({inputTextColorHover:n??""})})),o.name==="active"&&React.createElement(React.Fragment,null,React.createElement(b,{label:i("Background color","voxel-fse"),value:e.inputBackgroundActive,onChange:n=>t({inputBackgroundActive:n??""})}),React.createElement(b,{label:i("Border color","voxel-fse"),value:e.inputBorderColorActive,onChange:n=>t({inputBorderColorActive:n??""})}),React.createElement(b,{label:i("Text color","voxel-fse"),value:e.inputTextColorActive,onChange:n=>t({inputTextColorActive:n??""})}))))))}function be({addon:e,value:t,onChange:o,getRepeatConfig:n,getCustomPrice:p,getCustomPriceForDate:a,searchContext:d}){T(()=>{e.required&&!t.enabled&&o({enabled:!0}),d?.switcher_addons?.[e.key]===!0&&!t.enabled&&o({enabled:!0})},[e.key,e.required,d,t.enabled,o]);const r=k(()=>{e.required&&t.enabled||o({enabled:!t.enabled})},[e.required,t.enabled,o]);k(()=>{if(!t.enabled)return null;let v=e.label;const m=n(e),u=p(e);let g=0;if(m!==null){g=0;const f=new Date(m.start+"T00:00:00Z"),l=new Date(m.end+"T00:00:00Z");for(;m.count_mode==="nights"?f<l:f<=l;){const s=a(f);if(s!==null){const y=s.prices.addons?.[e.key],R=y&&"price"in y?y.price:null;g+=R??e.props.price??0}else g+=e.props.price??0;f.setDate(f.getDate()+1)}v+=m.label}else{let f=e.props.price??0;if(u!==null){const l=u.prices.addons?.[e.key],s=l&&"price"in l?l.price:null;s!=null&&(f=s)}g=f}return{label:v,amount:g}},[e,t.enabled,n,p,a]);const c=e.props.price!=null?`+${e.props.price.toLocaleString()}`:"";return React.createElement("div",{className:"ts-form-group ts-addon-switcher"},React.createElement("div",{className:"switch-slider"},React.createElement("label",{className:"container-switch"},React.createElement("input",{type:"checkbox",checked:t.enabled,onChange:r,disabled:e.required&&t.enabled}),React.createElement("span",{className:"switch"})),React.createElement("span",{className:"switch-label"},e.label,c&&React.createElement("span",{className:"addon-price"}," (",c,")"))))}be.getPricingSummary=function(e,t,o,n,p){if(!t.enabled)return null;let a=e.label;const d=o(e),r=n(e);let c=0;if(d!==null){c=0;const v=new Date(d.start+"T00:00:00Z"),m=new Date(d.end+"T00:00:00Z");for(;d.count_mode==="nights"?v<m:v<=m;){const u=p(v);if(u!==null){const g=u.prices.addons?.[e.key],f=g&&"price"in g?g.price:null;c+=f??e.props.price??0}else c+=e.props.price??0;v.setDate(v.getDate()+1)}a+=d.label}else{let v=e.props.price??0;if(r!==null){const m=r.prices.addons?.[e.key],u=m&&"price"in m?m.price:null;u!=null&&(v=u)}c=v}return{label:a,amount:c}};function Ce({addon:e,value:t,onChange:o,getRepeatConfig:n,getCustomPrice:p,getCustomPriceForDate:a,searchContext:d}){const r=e.props.min_units??1,c=e.props.max_units??999;T(()=>{if(t.quantity===null){const y=e.required?r:0;o({quantity:y})}const s=d?.numeric_addons?.[e.key];if(s!==void 0){const y=parseInt(String(s),10);typeof y=="number"&&y>=r&&y<=c&&o({quantity:y})}},[e.key,e.required,r,c,d]);const v=k(()=>{const s=t.quantity??0;typeof s!="number"||s+1<r?o({quantity:r}):o({quantity:Math.min(s+1,c)})},[t.quantity,r,c,o]),m=k(()=>{const s=t.quantity??0;if(typeof s!="number")o({quantity:r});else{const y=s-1;!e.required&&y<r?o({quantity:0}):o({quantity:Math.max(y,r)})}},[e.required,t.quantity,r,o]),u=k(()=>{const s=t.quantity;typeof s=="number"&&(s>c?o({quantity:c}):s<r&&(!e.required&&s===0||o({quantity:r})))},[e.required,t.quantity,r,c,o]),g=k(s=>{const y=parseInt(s.target.value,10);isNaN(y)||o({quantity:y})},[o]),f=e.props.price!=null?`+${e.props.price.toLocaleString()}`:"",l=t.quantity??0;return React.createElement("div",{className:"ts-form-group ts-addon-numeric"},React.createElement("label",null,e.label,f&&React.createElement("span",{className:"addon-price"}," (",f," each)")),React.createElement("div",{className:"ts-stepper-input"},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:m,disabled:e.required&&l<=r},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("input",{type:"number",value:l,onChange:g,onBlur:u,min:e.required?r:0,max:c,className:"ts-stepper-value"}),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:v,disabled:l>=c},React.createElement("span",{className:"ts-icon"},"+"))),e.props.charge_after?.enabled&&e.props.charge_after.quantity>0&&React.createElement("small",{className:"charge-after-note"},"First ",e.props.charge_after.quantity," free"))}Ce.getPricingSummary=function(e,t,o,n,p){const a=t.quantity??0;if(a<1)return null;let d=e.label;a>=1&&(d+=` × ${a}`);let r=a;e.props.charge_after?.enabled&&e.props.charge_after?.quantity>0&&(r=Math.max(0,a-e.props.charge_after.quantity));const c=o(e),v=n(e);let m=0;if(c!==null){m=0;const u=new Date(c.start+"T00:00:00Z"),g=new Date(c.end+"T00:00:00Z");for(;c.count_mode==="nights"?u<g:u<=g;){const f=p(u);if(f!==null){const l=f.prices.addons?.[e.key],s=l&&"price"in l?l.price:null;m+=s??e.props.price??0}else m+=e.props.price??0;u.setDate(u.getDate()+1)}m*=r,d+=c.label}else{let u=e.props.price??0;if(v!==null){const g=v.prices.addons?.[e.key],f=g&&"price"in g?g.price:null;f!=null&&(u=f)}m=u*r}return{label:d,amount:m}};function Se({addon:e,value:t,onChange:o}){const[n,p]=D(!1),a=Q(null),d=e.props.choices??{},r=Object.keys(d);T(()=>{e.required&&t.selected===null&&r.length>0&&o({selected:r[0]})},[e.required,t.selected,r,o]);const c=k(g=>{o({selected:g}),p(!1)},[o]),v=k(()=>{e.required||o({selected:null})},[e.required,o]),m=t.selected?d[t.selected]??null:null,u=g=>g.price!=null&&g.price>0?`+${g.price.toLocaleString()}`:"";return React.createElement("div",{className:"ts-form-group ts-addon-select"},React.createElement("label",null,e.label),React.createElement("div",{ref:a,className:`ts-filter ts-popup-target${m?" ts-filled":""}`,onClick:()=>p(!n),role:"button",tabIndex:0,onKeyDown:g=>g.key==="Enter"&&p(!n)},React.createElement("span",{className:"ts-filter-text"},m?m.label:"Select..."),React.createElement("div",{className:"ts-down-icon"})),n&&React.createElement("div",{className:"ts-popup-list"},React.createElement("ul",{className:"simplify-ul ts-form-options"},!e.required&&t.selected&&React.createElement("li",{className:"ts-option ts-option-clear",onClick:v,role:"option"},React.createElement("span",null,"Clear selection")),r.map(g=>{const f=d[g],l=t.selected===g,s=u(f);return React.createElement("li",{key:g,className:`ts-option${l?" ts-selected":""}`,onClick:()=>c(g),role:"option","aria-selected":l},React.createElement("span",{className:"option-label"},f.label),s&&React.createElement("span",{className:"option-price"},s))}))))}Se.getPricingSummary=function(e,t,o,n,p){const a=t.selected;if(a===null)return null;const r=(e.props.choices??{})[a];if(!r)return null;let c=r.label;const v=o(e),m=n(e);let u=0;if(v!==null){u=0;const g=new Date(v.start+"T00:00:00Z"),f=new Date(v.end+"T00:00:00Z");for(;v.count_mode==="nights"?g<f:g<=f;){const l=p(g);if(l!==null){const s=l.prices.addons?.[e.key],R=(s&&typeof s=="object"&&!("price"in s)?s[a]:null)?.price??null;u+=R??r.price}else u+=r.price;g.setDate(g.getDate()+1)}c+=v.label}else{let g=r.price;if(m!==null){const f=m.prices.addons?.[e.key],s=(f&&typeof f=="object"&&!("price"in f)?f[a]:null)?.price??null;s!=null&&(g=s)}u=g}return{label:c,amount:u}};function we({addon:e,value:t,onChange:o}){const[n,p]=D(!1),a=Q(null),d=e.props.choices??{},r=Object.keys(d),c=t.selected??[],v=k(l=>{const s=[...c],y=s.indexOf(l);y!==-1?s.splice(y,1):s.push(l),o({selected:s})},[c,o]),m=k(()=>{o({selected:[]})},[o]),u=l=>c.includes(l),g=l=>l.price!=null&&l.price>0?`+${l.price.toLocaleString()}`:"",f=()=>c.length===0?"Select...":c.length===1?d[c[0]]?.label??"Selected":`${c.length} selected`;return React.createElement("div",{className:"ts-form-group ts-addon-multiselect"},React.createElement("label",null,e.label),React.createElement("div",{ref:a,className:`ts-filter ts-popup-target${c.length>0?" ts-filled":""}`,onClick:()=>p(!n),role:"button",tabIndex:0,onKeyDown:l=>l.key==="Enter"&&p(!n)},React.createElement("span",{className:"ts-filter-text"},f()),React.createElement("div",{className:"ts-down-icon"})),n&&React.createElement("div",{className:"ts-popup-list"},React.createElement("ul",{className:"simplify-ul ts-form-options ts-checkboxes"},c.length>0&&!e.required&&React.createElement("li",{className:"ts-option ts-option-clear",onClick:m,role:"option"},React.createElement("span",null,"Clear all")),r.map(l=>{const s=d[l],y=u(l),R=g(s);return React.createElement("li",{key:l,className:`ts-option ts-checkbox-option${y?" ts-selected":""}`,onClick:()=>v(l),role:"option","aria-selected":y},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-checkbox"},React.createElement("input",{type:"checkbox",checked:y,onChange:()=>{},tabIndex:-1}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",{className:"option-label"},s.label),R&&React.createElement("span",{className:"option-price"},R))}))))}we.getPricingSummary=function(e,t,o,n,p){const a=[],d=o(e),r=n(e),c=e.props.choices??{};return(t.selected??[]).forEach(m=>{const u=m;if(u===null)return;const g=c[u];if(!g)return;let f=g.label,l=0;if(d!==null){l=0;const s=new Date(d.start+"T00:00:00Z"),y=new Date(d.end+"T00:00:00Z");for(;d.count_mode==="nights"?s<y:s<=y;){const R=p(s);if(R!==null){const h=R.prices.addons?.[e.key],E=(h&&typeof h=="object"&&!("price"in h)?h[u]:null)?.price??null;l+=E??g.price}else l+=g.price;s.setDate(s.getDate()+1)}f+=d.label}else{let s=g.price;if(r!==null){const y=r.prices.addons?.[e.key],h=(y&&typeof y=="object"&&!("price"in y)?y[u]:null)?.price??null;h!=null&&(s=h)}l=s}a.push({label:f,amount:l})}),a};function Be({addon:e,value:t,onChange:o}){const n=e.props.choices??{},p=Object.values(n);T(()=>{if(e.required&&t.selected.item===null&&p.length>0){const u=p[0];o({selected:{item:u.value,quantity:u.quantity?.enabled?u.quantity.min:1}})}},[e.required,t.selected.item,p,o]);const a=()=>!e._has_external_handler||t.selected.item!==null,d=u=>!e._has_external_handler||t.selected.item===u.value,r=k(u=>{u&&t.selected.item!==u.value?o({selected:{item:u.value,quantity:u.quantity?.enabled?u.quantity.min:1}}):e.required||o({selected:{item:null,quantity:1}})},[e.required,t.selected.item,o]);k(u=>{const g=t.selected.quantity;typeof g=="number"&&u.quantity?.enabled&&(g>u.quantity.max?o({selected:{item:t.selected.item,quantity:u.quantity.max}}):g<u.quantity.min&&o({selected:{item:t.selected.item,quantity:u.quantity.min}}))},[t.selected,o]);const c=k(u=>{if(!u.quantity?.enabled)return;const g=t.selected.quantity;if(typeof g!="number")o({selected:{item:t.selected.item,quantity:u.quantity.min}});else{const f=g+1;f<u.quantity.min?o({selected:{item:t.selected.item,quantity:u.quantity.min}}):o({selected:{item:t.selected.item,quantity:Math.min(f,u.quantity.max)}})}},[t.selected,o]),v=k(u=>{if(!u.quantity?.enabled)return;const g=t.selected.quantity;o(typeof g!="number"?{selected:{item:t.selected.item,quantity:u.quantity.min}}:{selected:{item:t.selected.item,quantity:Math.max(g-1,u.quantity.min)}})},[t.selected,o]),m=u=>u.price!=null&&u.price>0?`+${u.price.toLocaleString()}`:"";return a()?React.createElement("div",{className:"ts-form-group ts-addon-custom-select"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-custom-select-cards"},p.map(u=>{if(!d(u))return null;const g=t.selected.item===u.value,f=m(u),l=u.quantity?.enabled&&g;return React.createElement("div",{key:u.value,className:`ts-card-choice${g?" ts-selected":""}`,onClick:()=>r(u),role:"option","aria-selected":g},u.image&&React.createElement("div",{className:"ts-card-image"},React.createElement("img",{src:u.image,alt:u.label})),React.createElement("div",{className:"ts-card-content"},React.createElement("span",{className:"ts-card-label"},u.label),f&&React.createElement("span",{className:"ts-card-price"},f)),l&&React.createElement("div",{className:"ts-stepper-input",onClick:s=>s.stopPropagation()},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:()=>v(u),disabled:t.selected.quantity<=(u.quantity?.min??1)},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("span",{className:"ts-stepper-value"},t.selected.quantity),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:()=>c(u),disabled:t.selected.quantity>=(u.quantity?.max??999)},React.createElement("span",{className:"ts-icon"},"+"))))}))):null}Be.getPricingSummary=function(e,t,o,n,p){const{item:a,quantity:d}=t.selected;if(a===null)return null;const c=(e.props.choices??{})[a];if(!c)return null;let v=c.label;c.quantity?.enabled&&d>=1&&(v+=` × ${d}`);const m=o(e),u=n(e);let g=0;if(m!==null){const f=new Date(m.start+"T00:00:00Z"),l=new Date(m.end+"T00:00:00Z");for(;m.count_mode==="nights"?f<l:f<=l;){const s=p(f);if(s!==null){const y=s.prices.addons?.[e.key],h=(y&&typeof y=="object"&&!("price"in y)?y[a]:null)?.price??null;g+=h??c.price}else g+=c.price;f.setDate(f.getDate()+1)}c.quantity?.enabled&&(g*=d),v+=m.label}else{let f=c.price;if(u!==null){const l=u.prices.addons?.[e.key],y=(l&&typeof l=="object"&&!("price"in l)?l[a]:null)?.price??null;y!=null&&(f=y)}g=f,c.quantity?.enabled&&(g*=d)}return{label:v,amount:g}};function $e({addon:e,value:t,onChange:o}){const n=e.props.choices??{},p=Object.values(n),a=t.selected??[],d=()=>!e._has_external_handler||a.length>0,r=l=>!e._has_external_handler||v(l),c=l=>a.findIndex(s=>s.item===l.value),v=l=>c(l)!==-1,m=k(l=>{const s=c(l),y=[...a];s!==-1?y.splice(s,1):y.push({item:l.value,quantity:l.quantity?.min??1}),o({selected:y})},[a,o]);k(l=>{const s=c(l);if(s===-1||!l.quantity?.enabled)return;const y=a[s].quantity;if(typeof y=="number"){const R=[...a];y>l.quantity.max?(R[s]={...R[s],quantity:l.quantity.max},o({selected:R})):y<l.quantity.min&&(R[s]={...R[s],quantity:l.quantity.min},o({selected:R}))}},[a,o]);const u=k(l=>{const s=c(l);if(s===-1||!l.quantity?.enabled)return;const y=[...a],R=y[s].quantity;if(typeof R!="number")y[s]={...y[s],quantity:l.quantity.min};else{const h=R+1;h<l.quantity.min?y[s]={...y[s],quantity:l.quantity.min}:y[s]={...y[s],quantity:Math.min(h,l.quantity.max)}}o({selected:y})},[a,o]),g=k(l=>{const s=c(l);if(s===-1||!l.quantity?.enabled)return;const y=[...a],R=y[s].quantity;typeof R!="number"?y[s]={...y[s],quantity:l.quantity.min}:y[s]={...y[s],quantity:Math.max(R-1,l.quantity.min)},o({selected:y})},[a,o]),f=l=>l.price!=null&&l.price>0?`+${l.price.toLocaleString()}`:"";return d()?React.createElement("div",{className:"ts-form-group ts-addon-custom-multiselect"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-custom-select-cards ts-multi"},p.map(l=>{if(!r(l))return null;const s=c(l),y=s!==-1,R=f(l),h=l.quantity?.enabled&&y,x=y?a[s].quantity:1;return React.createElement("div",{key:l.value,className:`ts-card-choice${y?" ts-selected":""}`,onClick:()=>m(l),role:"option","aria-selected":y},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-checkbox"},React.createElement("input",{type:"checkbox",checked:y,onChange:()=>{},tabIndex:-1}),React.createElement("span",{className:"checkmark"}))),l.image&&React.createElement("div",{className:"ts-card-image"},React.createElement("img",{src:l.image,alt:l.label})),React.createElement("div",{className:"ts-card-content"},React.createElement("span",{className:"ts-card-label"},l.label),R&&React.createElement("span",{className:"ts-card-price"},R)),h&&React.createElement("div",{className:"ts-stepper-input",onClick:E=>E.stopPropagation()},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:()=>g(l),disabled:x<=(l.quantity?.min??1)},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("span",{className:"ts-stepper-value"},x),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:()=>u(l),disabled:x>=(l.quantity?.max??999)},React.createElement("span",{className:"ts-icon"},"+"))))}))):null}$e.getPricingSummary=function(e,t,o,n,p){const a=[],d=o(e),r=n(e),c=e.props.choices??{};return(t.selected??[]).forEach(m=>{const{item:u,quantity:g}=m;if(u===null)return;const f=c[u];if(!f)return;let l=f.label;f.quantity?.enabled&&g>=1&&(l+=` × ${g}`);let s=0;if(d!==null){let y=0;const R=new Date(d.start+"T00:00:00Z"),h=new Date(d.end+"T00:00:00Z");for(;d.count_mode==="nights"?R<h:R<=h;){const x=p(R);if(x!==null){const E=x.prices.addons?.[e.key],S=(E&&typeof E=="object"&&!("price"in E)?E[u]:null)?.price??null;y+=S??f.price}else y+=f.price;R.setDate(R.getDate()+1)}f.quantity?.enabled&&(y*=g),s=y,l+=d.label}else{let y=f.price;if(r!==null){const R=r.prices.addons?.[e.key],x=(R&&typeof R=="object"&&!("price"in R)?R[u]:null)?.price??null;x!=null&&(y=x)}s=y,f.quantity?.enabled&&(s*=g)}a.push({label:l,amount:s})}),a};function it(e){return e?Array.isArray(e)?e:Object.entries(e).map(([t,o])=>({...o,key:o.key||t})):[]}const dt=Xe(function({config:t,values:o,onValueChange:n,bookingValue:p,bookingRangeLength:a,searchContext:d},r){const c=t.props?.fields?.["form-addons"],v=$(()=>it(c?.props.addons),[c]),m=c?.props.l10n??{},u=t.settings?.product_mode??"regular",g=t.props?.custom_prices,f=k(h=>{if(!g?.enabled||!g.list?.length)return null;const x=h.toISOString().split("T")[0],E=h.getUTCDay();for(const C of g.list)for(const S of C.conditions){if(S.type==="date"&&S.date===x)return C;if(S.type==="date_range"&&S.range){const P=new Date(S.range.from+"T00:00:00Z"),F=new Date(S.range.to+"T00:00:00Z");if(h>=P&&h<=F)return C}if(S.type==="day_of_week"&&S.days){const P=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];if(S.days.includes(P[E]))return C}}return null},[g]),l=k(h=>{const x=t.props?.fields?.["form-booking"];if(u==="booking")return x&&["single_day","timeslots"].includes(x.props?.mode??"")&&p?.date?f(new Date(p.date+"T00:00:00Z")):null;if(u==="regular"){const E=t.props?.today?.date;if(E)return f(new Date(E+"T00:00:00Z"))}return null},[u,p,t.props,f]),s=k(h=>{const x=t.props?.fields?.["form-booking"];if(!x||x.props?.mode!=="date_range"||!h.repeat||!p?.start_date||!p?.end_date)return null;const E=a??0;if(E<1)return null;const C=x.props?.count_mode??"nights";let S="";return E>1&&(C==="nights"?S=` (${(m.amount_nights??"@count nights").replace("@count",String(E))})`:S=` (${(m.amount_days??"@count days").replace("@count",String(E))})`),{length:E,label:S,start:p.start_date,end:p.end_date,count_mode:C}},[t.props,p,a,m]),y=k(()=>{const h=[];return v.forEach(x=>{const E=o[x.key];if(!E)return;let C=null;switch(x.type){case"switcher":C=be.getPricingSummary(x,E,s,l,f);break;case"numeric":C=Ce.getPricingSummary(x,E,s,l,f);break;case"select":C=Se.getPricingSummary(x,E,s,l,f);break;case"multiselect":C=we.getPricingSummary(x,E,s,l,f);break;case"custom-select":C=Be.getPricingSummary(x,E,s,l,f);break;case"custom-multiselect":C=$e.getPricingSummary(x,E,s,l,f);break}C!==null&&(Array.isArray(C)?h.push(...C):h.push(C))}),h},[v,o,s,l,f]);Ae(r,()=>({getPricingSummary:y}),[y]);const R=h=>{const x=o[h.key],E=S=>{n(h.key,S)},C={addon:h,getRepeatConfig:s,getCustomPrice:l,getCustomPriceForDate:f};switch(h.type){case"switcher":return React.createElement(be,{key:h.key,...C,value:x??{enabled:!1},onChange:E,searchContext:d});case"numeric":return React.createElement(Ce,{key:h.key,...C,value:x??{quantity:null},onChange:E,searchContext:d});case"select":return React.createElement(Se,{key:h.key,...C,value:x??{selected:null},onChange:E});case"multiselect":return React.createElement(we,{key:h.key,...C,value:x??{selected:[]},onChange:E});case"custom-select":return React.createElement(Be,{key:h.key,...C,value:x??{selected:{item:null,quantity:1}},onChange:E});case"custom-multiselect":return React.createElement($e,{key:h.key,...C,value:x??{selected:[]},onChange:E});default:return null}};return v.length===0?null:React.createElement("div",{className:"ts-form-group ts-field-addons"},v.map(R))});function pt({maxQuantity:e,value:t,onChange:o,label:n="Quantity"}){const p=k(()=>{if(typeof t!="number")o(1);else{const v=t+1;o(v<1?1:Math.min(v,e))}},[t,e,o]),a=k(()=>{o(typeof t!="number"?1:Math.max(t-1,1))},[t,o]),d=k(()=>{typeof t=="number"&&(t>e?o(e):t<1&&o(1))},[t,e,o]),r=k(v=>{const m=parseInt(v.target.value,10);isNaN(m)||o(m)},[o]),c=t??1;return React.createElement("div",{className:"ts-form-group ts-field-quantity"},React.createElement("label",null,n),React.createElement("div",{className:"ts-stepper-input"},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:a,disabled:c<=1},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("input",{type:"number",value:c,onChange:r,onBlur:d,min:1,max:e,className:"ts-stepper-value"}),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:p,disabled:c>=e},React.createElement("span",{className:"ts-icon"},"+"))))}function ut({attribute:e,allAttributes:t,variations:o,selections:n,stockEnabled:p,onSelect:a}){const[d,r]=D(!1),c=Object.values(e.props.choices),v=k(()=>Object.values(o).filter(h=>{for(const x of t){if(x.key===e.key)break;if(n[x.key]!==h.attributes[x.key])return!1}return!0}),[o,t,e.key,n]);$(()=>{const h=v();return c.filter(x=>h.find(E=>E.attributes[e.key]===x.value))},[c,v,e.key]);const m=k(h=>{const E=v().filter(S=>S.attributes[e.key]===h.value);return E.length?p?E.find(S=>S._status==="active")?"active":"out_of_stock":"active":"inactive"},[v,e.key,p]),u=k(h=>n[e.key]===h.value,[n,e.key]),g=k(h=>{m(h)!=="inactive"&&(a(e.key,h.value),r(!1))},[e.key,a,m]),f=$(()=>{const h=n[e.key];return c.find(E=>E.value===h)?.label??"Select"},[n,e.key,c]),l=()=>React.createElement("div",{className:"ts-form-group ts-variation-attribute ts-variation-dropdown"},React.createElement("label",null,e.label),React.createElement("div",{className:`ts-filter ts-popup-target${n[e.key]?" ts-filled":""}`,onClick:()=>r(!d),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&r(!d)},React.createElement("span",{className:"ts-filter-text"},f),React.createElement("div",{className:"ts-down-icon"})),d&&React.createElement("div",{className:"ts-popup-list"},React.createElement("ul",{className:"simplify-ul ts-form-options"},c.map(h=>{const x=m(h),E=u(h);return React.createElement("li",{key:h.value,className:`ts-option${E?" ts-selected":""}${x==="inactive"?" ts-inactive":""}${x==="out_of_stock"?" ts-out-of-stock":""}`,onClick:()=>g(h),role:"option","aria-selected":E,"aria-disabled":x==="inactive"},React.createElement("span",{className:"option-label"},h.label),x==="out_of_stock"&&React.createElement("span",{className:"option-status"},"Out of stock"))})))),s=()=>React.createElement("div",{className:"ts-form-group ts-variation-attribute ts-variation-buttons"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-variation-options ts-buttons-list"},c.map(h=>{const x=m(h),E=u(h);return React.createElement("button",{key:h.value,type:"button",className:`ts-btn ts-btn-4${E?" ts-selected":""}${x==="inactive"?" ts-inactive":""}${x==="out_of_stock"?" ts-out-of-stock":""}`,onClick:()=>g(h),disabled:x==="inactive"},h.label)}))),y=()=>React.createElement("div",{className:"ts-form-group ts-variation-attribute ts-variation-images"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-variation-options ts-images-list"},c.map(h=>{const x=m(h),E=u(h);return React.createElement("div",{key:h.value,className:`ts-variation-image${E?" ts-selected":""}${x==="inactive"?" ts-inactive":""}${x==="out_of_stock"?" ts-out-of-stock":""}`,onClick:()=>g(h),role:"button",tabIndex:x==="inactive"?-1:0,title:h.label},h.image?React.createElement("img",{src:h.image,alt:h.label}):React.createElement("span",{className:"ts-image-placeholder"},h.label.charAt(0)))}))),R=()=>React.createElement("div",{className:"ts-form-group ts-variation-attribute ts-variation-colors"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-variation-options ts-colors-list"},c.map(h=>{const x=m(h),E=u(h);return React.createElement("div",{key:h.value,className:`ts-variation-color${E?" ts-selected":""}${x==="inactive"?" ts-inactive":""}${x==="out_of_stock"?" ts-out-of-stock":""}`,onClick:()=>g(h),role:"button",tabIndex:x==="inactive"?-1:0,title:h.label,style:{backgroundColor:h.color||"#ccc"}},E&&React.createElement("span",{className:"ts-color-check"},"✓"))})));switch(e.display_type){case"buttons":return s();case"images":return y();case"colors":return R();default:return l()}}function Te({field:e,value:t,onChange:o}){const[n,p]=D(()=>({...e.props.selections})),a=$(()=>Object.values(e.props.attributes),[e.props.attributes]),d=e.props.variations,r=e.props.stock?.enabled??!1,c=$(()=>t.variation_id?d[t.variation_id]??null:null,[t.variation_id,d]),v=k(()=>{if(c)if(r&&c.config.stock.enabled&&!c.config.stock.sold_individually){const x=c.config.stock.quantity;t.quantity>x?o({...t,quantity:x}):t.quantity<1&&o({...t,quantity:1})}else t.quantity!==1&&o({...t,quantity:1})},[c,r,t,o]),m=k(()=>{let x=null;const E=Object.values(d).filter(C=>C._status==="active");for(const C of Object.keys(n)){const S=E.filter(P=>{for(const F of Object.keys(n))if(P.attributes[F]!==n[F])return!1;return!0});if(S.length){x=S[0];break}}if(!x&&E.length){x=E[0];const C={};Object.keys(n).forEach(S=>{C[S]=x.attributes[S]}),p(C)}if(x&&(t.variation_id!==x.id&&o({...t,variation_id:x.id}),x.image)){const C=document.getElementById("ts-media-"+x.image.id);C?.parentElement&&(C.parentElement.scrollLeft=C.offsetLeft)}},[d,n,t,o]),u=k(()=>{for(const x of Object.values(d))if(x._status==="active"){const E={};Object.keys(n).forEach(C=>{E[C]=x.attributes[C]}),p(E),o({...t,variation_id:x.id});break}},[d,n,t,o]),g=k((x,E)=>{p(C=>({...C,[x]:E}))},[]);T(()=>{m()},[n]),T(()=>{c&&v()},[c]),T(()=>{t.variation_id||u()},[]);const f=k(()=>{if(!c)return;const x=c.config.stock.quantity;if(typeof t.quantity!="number")o({...t,quantity:1});else{const E=t.quantity+1;o({...t,quantity:E<1?1:Math.min(E,x)})}},[c,t,o]),l=k(()=>{typeof t.quantity!="number"?o({...t,quantity:1}):o({...t,quantity:Math.max(t.quantity-1,1)})},[t,o]),s=k(x=>{const E=parseInt(x.target.value,10);isNaN(E)||o({...t,quantity:E})},[t,o]),y=k(()=>{if(!c)return;const x=c.config.stock.quantity;typeof t.quantity=="number"&&(t.quantity>x?o({...t,quantity:x}):t.quantity<1&&o({...t,quantity:1}))},[c,t,o]),R=c&&r&&c.config.stock.enabled&&!c.config.stock.sold_individually,h=c?.config.stock.quantity??1;return a.length===0?null:React.createElement("div",{className:"ts-field-variations"},a.map(x=>React.createElement(ut,{key:x.key,attribute:x,allAttributes:a,variations:d,selections:n,stockEnabled:r,onSelect:g})),R&&React.createElement("div",{className:"ts-form-group ts-variation-quantity"},React.createElement("label",null,"Quantity"),React.createElement("div",{className:"ts-stepper-input"},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:l,disabled:t.quantity<=1},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("input",{type:"number",value:t.quantity,onChange:s,onBlur:y,min:1,max:h,className:"ts-stepper-value"}),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:f,disabled:t.quantity>=h},React.createElement("span",{className:"ts-icon"},"+")))))}Te.getPricingSummary=function(e,t){if(!t.variation_id)return null;const o=e.props.variations[t.variation_id];if(!o)return null;const n=o.config.base_price;let p=n.discount_amount!=null?n.discount_amount:n.amount,a=null;(e.props.stock?.enabled??!1)&&o.config.stock.enabled&&!o.config.stock.sold_individually&&(a=t.quantity,p*=t.quantity);const r=[];return Object.keys(o.attributes).forEach(c=>{const v=o.attributes[c],m=e.props.attributes[c];if(m){const u=m.props.choices["choice_"+v];u&&r.push(u.label)}}),{label:r.join(" / "),amount:p,quantity:a}};function he(e){const t=Q(null),o=Q(null),n=Q(e);n.current=e,T(()=>{if(!t.current||typeof window.Pikaday>"u")return;const f={field:t.current,bound:n.current.bound??!0,format:n.current.format??"YYYY-MM-DD",minDate:n.current.minDate,maxDate:n.current.maxDate,defaultDate:n.current.defaultDate,setDefaultDate:!!n.current.defaultDate,disableDayFn:n.current.disableDayFn,numberOfMonths:n.current.numberOfMonths??1,showDaysInNextAndPreviousMonths:!0,enableSelectionDaysInNextAndPreviousMonths:!1,firstDay:1,onSelect:l=>{n.current.onSelect?.(l)},onDraw:l=>{n.current.onDraw?.(l)},dayRenderHook:n.current.dayRenderHook};return n.current.container&&(f.container=n.current.container,f.bound=!1),o.current=new window.Pikaday(f),()=>{o.current?.destroy(),o.current=null}},[]),T(()=>{o.current&&e.minDate&&o.current.setMinDate(e.minDate)},[e.minDate]),T(()=>{o.current&&e.maxDate&&o.current.setMaxDate(e.maxDate)},[e.maxDate]);const p=k(f=>{o.current?.setDate(f,!0)},[]),a=k(()=>o.current?.getDate()??null,[]),d=k(()=>{o.current?.show()},[]),r=k(()=>{o.current?.hide()},[]),c=k(f=>{o.current?.gotoDate(f)},[]),v=k(()=>{o.current?.draw(!0)},[]),m=k(f=>{o.current?.setStartRange(f)},[]),u=k(f=>{o.current?.setEndRange(f)},[]),g=k(()=>o.current?.el??null,[]);return{inputRef:t,pickerRef:o,setDate:p,getDate:a,setStartRange:m,setEndRange:u,show:d,hide:r,gotoDate:c,redraw:v,getPickerElement:g}}function ne(e){const t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${o}-${n}`}function I(e){return new Date(e+"T00:00:00")}function Ge(e){return["sun","mon","tue","wed","thu","fri","sat"][e.getDay()]}function mt(e,t){const o=ne(e);return t.includes(o)}function ft(e,t){const o=Ge(e);return t.includes(o)}function yt(e,t){const o=I(t.date);return e<o}function gt(e,t,o){if(!o||o.amount<=0)return!1;const n=I(t.date);if(o.unit==="hours"){const[p,a]=t.time.split(":").map(Number);n.setHours(p,a,0,0);const d=o.amount*60*60*1e3;return e.getTime()-n.getTime()<d}else{const p=new Date(n);return p.setDate(p.getDate()+o.amount),e<p}}function ht(e,t,o){const n=I(t.date),p=new Date(n);return p.setDate(p.getDate()+o),e>p}function vt(e,t){const{excluded_days:o=[],excluded_weekdays:n=[],availability:p,today:a}=t.props;return!(mt(e,o)||ft(e,n)||a&&(yt(e,a)||gt(e,a,p?.buffer)||p?.max_days&&ht(e,a,p.max_days)))}function Rt(e,t){const{timeslots:o,quantity_per_slot:n=1,booked_slot_counts:p={}}=t.props;if(!o?.groups)return[];const a=Ge(e),d=ne(e),r=[];for(const c of o.groups)if(c.days.includes(a))for(const v of c.slots){const m=`${v.from}-${v.to}`,u=`${d} ${m}`,g=p[u]||0,f=Math.max(0,n-g);r.push({...v,key:m,label:`${v.from} - ${v.to}`,available:f,booked:g,isAvailable:f>0})}return r}function se(e,t,o){const n=I(e),a=I(t).getTime()-n.getTime(),d=Math.ceil(a/(1e3*60*60*24));return o==="nights"?d:d+1}function xt(e,t,o){const{count_mode:n="nights",date_range:p,l10n:a}=o.props,d=se(e,t,n);if(!p)return{valid:!0,length:d};const{min_length:r=1,max_length:c=365}=p;if(d<r||d>c){const v=n==="nights"?a?.nights_range_error??"Min @minlength, max @maxlength nights":a?.days_range_error??"Min @minlength, max @maxlength days";return{valid:!1,length:d,error:v.replace("@minlength",String(r)).replace("@maxlength",String(c))}}return{valid:!0,length:d}}function _e(e,t,o){return t==="nights"?e===1?o?.one_night??"1 night":(o?.multiple_nights??"@count nights").replace("@count",String(e)):e===1?o?.one_day??"1 day":(o?.multiple_days??"@count days").replace("@count",String(e))}function Ne(e){const{today:t,availability:o}=e.props;if(!t)return new Date;const n=I(t.date);if(o?.buffer)if(o.buffer.unit==="days")n.setDate(n.getDate()+o.buffer.amount);else{const[p]=t.time.split(":").map(Number);p+o.buffer.amount>=24&&n.setDate(n.getDate()+1)}return n}function De(e){const{today:t,availability:o}=e.props;if(!t){const p=new Date;return p.setFullYear(p.getFullYear()+1),p}const n=I(t.date);return n.setDate(n.getDate()+(o?.max_days??365)),n}function Ie(e){return t=>!vt(t,e)}function q(e){return typeof window<"u"&&window.Voxel?.helpers?.currencyFormat?window.Voxel.helpers.currencyFormat(e):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Et(e){if(typeof window<"u"&&window.Voxel?.helpers?.dateFormatYmd)return window.Voxel.helpers.dateFormatYmd(e);const t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${o}-${n}`}function We(e,t){const o=t.props?.custom_prices;if(!o?.enabled||!o.list?.length)return null;const n=Et(e);return o.list.find(a=>{for(const d of a.conditions)if(d.type==="date"){if(d.date===n)return!0}else if(d.type==="date_range"){if(d.range){const r=new Date(d.range.from+"T00:00:00Z"),c=new Date(d.range.to+"T00:00:00Z"),v=new Date(n+"T00:00:00Z");if(r<=v&&v<=c)return!0}}else if(d.type==="day_of_week"){const r=new Date(n+"T00:00:00Z"),v=["sun","mon","tue","wed","thu","fri","sat"][r.getDay()];if(d.days?.includes(v))return!0}return!1})??null}function Pe(e,t){const o=t.props?.minimum_price??0;if(!t.props?.custom_prices?.enabled||e===null)return o;const n=We(e,t);return n===null?o:n.minimum_price??o}function kt(e){const t=e.props?.base_price;if(!t?.enabled)return null;let o=t.discount_amount??t.amount;if(e.settings?.product_mode==="regular"){const n=e.props?.today?.date;if(n){const p=We(new Date(n+"T00:00:00Z"),e);p?.prices?.base_price&&(o=p.prices.base_price.discount_amount??p.prices.base_price.amount)}}return{label:"Price",amount:o}}function bt(e,t){return e.props?.fields?.["form-quantity"]&&t>1?t:1}function xe(e){return e.reduce((t,o)=>t+(o.amount??0),0)}function Ct(e){const{config:t,quantity:o,bookingValue:n,getAddonsPricingSummary:p,getVariationsPricingSummary:a}=e,d=k(()=>{if(!t)return{visible_items:[],total:0,formatted_total:q(0)};const m=[],u=kt(t),g=p?.()??null,f=bt(t,o);u!==null&&m.push({key:"base_price",...u,hidden:g===null||g.length===0}),g!==null&&g.forEach((R,h)=>{m.push({key:`addon_${h}`,...R})}),f>1&&m.push({key:"quantity",label:t.l10n?.quantity??"Quantity",amount:0,value:f});let l=xe(m);l*=f;const s={key:"total",label:"Total",price:l,formatted_price:q(l)},y=m.filter(R=>!R.hidden).map(R=>({key:R.key,label:R.label,price:R.amount,formatted_price:R.value!==void 0?`× ${R.value}`:q(R.amount)}));return y.push(s),{visible_items:y,total:l,formatted_total:q(l)}},[t,o,p]),r=k(()=>{if(!t)return{visible_items:[],total:0,formatted_total:q(0)};const m=[],u=a?.()??null;u!==null&&(m.push({key:"variation",label:u.label,amount:u.amount}),u.quantity&&u.quantity>1&&m.push({key:"quantity",label:t.l10n?.quantity??"Quantity",amount:0,value:u.quantity}));const g=xe(m),f={key:"total",label:"Total",price:g,formatted_price:q(g)},l=m.filter(s=>!s.hidden).map(s=>({key:s.key,label:s.label,price:s.amount,formatted_price:s.value!==void 0?`× ${s.value}`:q(s.amount)}));return l.push(f),{visible_items:l,total:g,formatted_total:q(g)}},[t,a]),c=k(()=>{if(!t)return{visible_items:[],total:0,formatted_total:q(0)};const m=[],u=t.props?.fields?.["form-booking"],g=u?me.getPricingSummary(u,n,t):null,f=p?.()??null;g!==null&&(m.push({key:"booking",label:g.label,amount:g.amount,hidden:g.amount===0}),f!==null&&f.forEach((R,h)=>{m.push({key:`addon_${h}`,...R})}));const l=xe(m),s={key:"total",label:"Total",price:l,formatted_price:q(l)},y=m.filter(R=>!R.hidden).map(R=>({key:R.key,label:R.label,price:R.amount,formatted_price:q(R.amount)}));return(l>0||y.length>0)&&y.push(s),{visible_items:y,total:l,formatted_total:q(l)}},[t,n,p]);return{summary:$(()=>{if(!t)return{visible_items:[],total:0,formatted_total:q(0)};switch(t.settings?.product_mode??"regular"){case"regular":return d();case"variable":return r();case"booking":return c();default:return{visible_items:[],total:0,formatted_total:q(0)}}},[t,d,r,c]),formatPrice:q}}const Fe=1440*60*1e3;function St(e){if(e)return(t,o)=>{if(t.isDisabled)return;const n=new Date(t.year,t.month,t.day),p=Pe(n,e);if(p>0){const a=`<div class="pika-tooltip">${q(p)}</div>`;o.beforeCloseTd+=a}}}function Ze({field:e,value:t,onChange:o,initialAvailability:n,config:p}){const[a,d]=D("start"),[r,c]=D(null),[v,m]=D(!1),[u,g]=D(null),f=Q(null),l=Q(null),{count_mode:s="nights",l10n:y}=e.props;T(()=>{v||n?.start&&(t.start_date||t.end_date||(m(!0),o({...t,start_date:n.start,end_date:n.end||n.start})))},[n,v,t,o]);const R=$(()=>Ne(e),[e]),h=$(()=>De(e),[e]),x=$(()=>Ie(e),[e]),E=$(()=>!t.start_date||!t.end_date?null:xt(t.start_date,t.end_date,e),[t.start_date,t.end_date,e]);T(()=>{E&&!E.valid?c(E.error??null):c(null)},[E]);const C=k(B=>{const N=ne(B);t.end_date&&N>=t.end_date?o({...t,start_date:N,end_date:null}):o({...t,start_date:N}),d("end")},[t,o]),S=k(B=>{const N=ne(B);t.start_date&&N<=t.start_date?o({...t,start_date:N,end_date:t.start_date}):o({...t,end_date:N}),d("start")},[t,o]),P=k((B,N)=>{if(!t.start_date||t.end_date||!N)return;const A=B.target,U=A.tagName==="TD"?A:A.closest("td");if(!U||U.classList.contains("is-empty")||U.classList.contains("is-disabled"))return;const ee=U.querySelector(".pika-button");if(!ee||ee.disabled)return;U.classList.add("is-endrange");const O=parseInt(ee.getAttribute("data-pika-year")??"0",10),te=parseInt(ee.getAttribute("data-pika-month")??"0",10),re=parseInt(ee.getAttribute("data-pika-day")??"0",10),fe=new Date(O,te,re);g(new Date(fe.getTime()));const ye=I(t.start_date);let oe=new Date(fe.getTime()-Fe);for(;oe>ye;){const Re=[`.pika-button[data-pika-year="${oe.getFullYear()}"]`,`[data-pika-month="${oe.getMonth()}"]`,`[data-pika-day="${oe.getDate()}"]`].join(""),qe=N.querySelector(Re);qe?.parentElement&&qe.parentElement.classList.add("is-inrange"),oe.setTime(oe.getTime()-Fe)}U.addEventListener("mouseleave",()=>{Array.from(N.querySelectorAll("td.is-inrange:not(.is-disabled)")).forEach(Re=>Re.classList.remove("is-inrange")),U.classList.remove("is-endrange"),g(null)},{once:!0})},[t.start_date,t.end_date]),F=$(()=>St(p??null),[p]),z=k(B=>{B.el.addEventListener("mouseover",N=>P(N,B.el))},[P]),w=k(B=>{B.el.addEventListener("mouseover",N=>P(N,B.el))},[P]),M=he({onSelect:C,onDraw:z,minDate:R,maxDate:h,defaultDate:t.start_date?I(t.start_date):void 0,disableDayFn:x,dayRenderHook:F,container:f.current,bound:!1,startRange:t.start_date?I(t.start_date):null,endRange:t.end_date?I(t.end_date):null}),G=$(()=>{if(!t.start_date)return R;const B=I(t.start_date);return B.setDate(B.getDate()+1),B>R?B:R},[t.start_date,R]),Z=he({onSelect:S,onDraw:w,minDate:G,maxDate:h,defaultDate:t.end_date?I(t.end_date):void 0,disableDayFn:x,dayRenderHook:F,container:l.current,bound:!1,startRange:t.start_date?I(t.start_date):null,endRange:t.end_date?I(t.end_date):null});T(()=>{if(t.start_date){const B=I(t.start_date);M.setDate(t.start_date),M.setStartRange(B),Z.setStartRange(B)}else M.setStartRange(null),Z.setStartRange(null)},[t.start_date]),T(()=>{if(t.end_date){const B=I(t.end_date);Z.setDate(t.end_date),M.setEndRange(B),Z.setEndRange(B)}else M.setEndRange(null),Z.setEndRange(null)},[t.end_date]),T(()=>{g(null)},[t.start_date]);const ie=y?.select_start_and_end_date??"Select start date",Y=y?.select_end_date??"Select end date",ae=s==="nights"?y?.select_nights??"Select nights":y?.select_days??"Select days",de=$(()=>{if(!t.start_date)return ae;if(t.end_date){const B=se(t.start_date,t.end_date,s),N=_e(B,s,y);return`${t.start_date} - ${t.end_date} (${N})`}if(u){const B=ne(u),N=se(t.start_date,B,s),A=_e(N,s,y);return`${t.start_date} - ${B} (${A})`}return`${t.start_date} - ${y?.select_end_date??"..."}`},[t.start_date,t.end_date,u,s,y,ae]);return React.createElement("div",{className:"ts-form-group ts-booking-field ts-booking-date-range"},React.createElement("label",null,s==="nights"?"Dates":"Days"),React.createElement("div",{className:`ts-filter ts-popup-target${t.start_date?" ts-filled":""}`},React.createElement("span",{className:"ts-filter-text"},de),React.createElement("div",{className:"ts-down-icon"})),React.createElement("div",{className:"ts-booking-calendars"},React.createElement("div",{className:"ts-booking-calendar ts-booking-start"},React.createElement("div",{className:"ts-calendar-label"},ie),React.createElement("div",{ref:f,className:`ts-calendar-container${a==="start"?" ts-active":""}`},React.createElement("input",{ref:M.inputRef,type:"hidden",readOnly:!0}))),React.createElement("div",{className:"ts-booking-calendar ts-booking-end"},React.createElement("div",{className:"ts-calendar-label"},Y),React.createElement("div",{ref:l,className:`ts-calendar-container${a==="end"?" ts-active":""}`},React.createElement("input",{ref:Z.inputRef,type:"hidden",readOnly:!0})))),r&&React.createElement("div",{className:"ts-field-error"},React.createElement("span",null,r)))}Ze.getSelectedRangeLength=function(e,t){return!e.start_date||!e.end_date?0:se(e.start_date,e.end_date,t.props.count_mode??"nights")};function wt(e,t){if(!e||!t)return;e.querySelectorAll(".pika-button").forEach(n=>{const p=n,a=p.dataset,d=parseInt(a.pikaYear??"0",10),r=parseInt(a.pikaMonth??"0",10),c=parseInt(a.pikaDay??"0",10);if(d&&c){const v=new Date(d,r,c),m=Pe(v,t);m>0&&p.setAttribute("title",q(m))}})}function Bt({field:e,value:t,onChange:o,initialAvailability:n,config:p}){const a=Q(null),[d,r]=D(!1),{l10n:c}=e.props;T(()=>{d||n?.start&&(t.date||(r(!0),o({...t,date:n.start})))},[n,d,t,o]);const v=$(()=>Ne(e),[e]),m=$(()=>De(e),[e]),u=$(()=>Ie(e),[e]),g=k(R=>{o({...t,date:ne(R)})},[t,o]),f=k(()=>{wt(a.current,p??null)},[p]),l=he({onSelect:g,onDraw:f,minDate:v,maxDate:m,defaultDate:t.date?I(t.date):void 0,disableDayFn:u,container:a.current,bound:!1});T(()=>{t.date&&l.setDate(t.date)},[t.date]);const s=c?.select_date??"Select date",y=t.date??s;return React.createElement("div",{className:"ts-form-group ts-booking-field ts-booking-single-day"},React.createElement("label",null,"Date"),React.createElement("div",{className:`ts-filter ts-popup-target${t.date?" ts-filled":""}`},React.createElement("span",{className:"ts-filter-text"},y),React.createElement("div",{className:"ts-down-icon"})),React.createElement("div",{className:"ts-booking-calendars"},React.createElement("div",{className:"ts-booking-calendar"},React.createElement("div",{ref:a,className:"ts-calendar-container ts-active"},React.createElement("input",{ref:l.inputRef,type:"hidden",readOnly:!0})))))}function $t(e,t){if(!e||!t)return;e.querySelectorAll(".pika-button").forEach(n=>{const p=n,a=p.dataset,d=parseInt(a.pikaYear??"0",10),r=parseInt(a.pikaMonth??"0",10),c=parseInt(a.pikaDay??"0",10);if(d&&c){const v=new Date(d,r,c),m=Pe(v,t);m>0&&p.setAttribute("title",q(m))}})}function Tt({field:e,value:t,onChange:o,initialAvailability:n,config:p}){const a=Q(null),[d,r]=D(!1),[c,v]=D(!1),{l10n:m,quantity_per_slot:u=1}=e.props;T(()=>{c||n?.start&&(t.date||(v(!0),o({...t,date:n.start})))},[n,c,t,o]);const g=$(()=>Ne(e),[e]),f=$(()=>De(e),[e]),l=$(()=>Ie(e),[e]),s=$(()=>{if(!t.date)return[];const w=I(t.date);return Rt(w,e)},[t.date,e]),y=k(w=>{const M=ne(w);o({...t,date:M,slot:null}),r(!0)},[t,o]),R=k(w=>{w.isAvailable&&(o({...t,slot:w.key}),r(!1))},[t,o]),h=k(()=>{$t(a.current,p??null)},[p]),x=he({onSelect:y,onDraw:h,minDate:g,maxDate:f,defaultDate:t.date?I(t.date):void 0,disableDayFn:l,container:a.current,bound:!1});T(()=>{t.date&&x.setDate(t.date)},[t.date]);const E=m?.select_date??"Select date",C=m?.select_timeslot??"Select time",S=m?.no_slots_available??"No time slots available",P=m?.amount_available??"@count available",F=t.date??E,z=$(()=>t.slot?s.find(M=>M.key===t.slot)?.label??t.slot:C,[t.slot,s,C]);return React.createElement("div",{className:"ts-form-group ts-booking-field ts-booking-timeslots"},React.createElement("div",{className:"ts-booking-date-section"},React.createElement("label",null,"Date"),React.createElement("div",{className:`ts-filter ts-popup-target${t.date?" ts-filled":""}`},React.createElement("span",{className:"ts-filter-text"},F),React.createElement("div",{className:"ts-down-icon"})),React.createElement("div",{className:"ts-booking-calendars"},React.createElement("div",{className:"ts-booking-calendar"},React.createElement("div",{ref:a,className:"ts-calendar-container ts-active"},React.createElement("input",{ref:x.inputRef,type:"hidden",readOnly:!0}))))),t.date&&React.createElement("div",{className:"ts-booking-slots-section"},React.createElement("label",null,"Time"),React.createElement("div",{className:`ts-filter ts-popup-target${t.slot?" ts-filled":""}`,onClick:()=>r(!d),role:"button",tabIndex:0,onKeyDown:w=>w.key==="Enter"&&r(!d)},React.createElement("span",{className:"ts-filter-text"},z),React.createElement("div",{className:"ts-down-icon"})),d&&React.createElement("div",{className:"ts-popup-list ts-timeslot-list"},s.length===0?React.createElement("div",{className:"ts-no-slots"},React.createElement("span",null,S)):React.createElement("ul",{className:"simplify-ul ts-form-options"},s.map(w=>React.createElement("li",{key:w.key,className:`ts-option${t.slot===w.key?" ts-selected":""}${w.isAvailable?"":" ts-unavailable"}`,onClick:()=>R(w),role:"option","aria-selected":t.slot===w.key,"aria-disabled":!w.isAvailable},React.createElement("span",{className:"ts-slot-time"},w.label),u>1&&React.createElement("span",{className:"ts-slot-availability"},w.isAvailable?P.replace("@count",String(w.available)):"Fully booked")))))))}function me({field:e,value:t,onChange:o,config:n,initialAvailability:p}){switch(e.props.mode){case"date_range":return React.createElement(Ze,{field:e,value:t,onChange:o,initialAvailability:p,config:n});case"single_day":return React.createElement(Bt,{field:e,value:t,onChange:o,initialAvailability:p,config:n});case"timeslots":return React.createElement(Tt,{field:e,value:t,onChange:o,initialAvailability:p,config:n});default:return null}}me.getPricingSummary=function(e,t,o){const{mode:n,count_mode:p="nights",l10n:a}=e.props,d=o?.props?.base_price;if(!d?.enabled)return null;const r=d.discount_amount??d.amount;let c=r,v=a?.booking_price??"Booking";if(n==="date_range"){if(!t.start_date||!t.end_date)return null;const m=se(t.start_date,t.end_date,p);if(m<1)return null;c=r*m,v=_e(m,p,a)}else if(n==="single_day"){if(!t.date)return null}else if(n==="timeslots"&&(!t.date||!t.slot))return null;return{label:v,amount:c,hidden:c===0}};me.isComplete=function(e,t){const{mode:o}=e.props;switch(o){case"date_range":return!!t.start_date&&!!t.end_date;case"single_day":return!!t.date;case"timeslots":return!!t.date&&!!t.slot;default:return!1}};me.getSelectedRangeLength=function(e,t){return e.props.mode!=="date_range"?1:!t.start_date||!t.end_date?0:se(t.start_date,t.end_date,e.props.count_mode??"nights")};function Oe(e){return e?.value?e.library==="line-awesome"||e.value.startsWith("la-")?React.createElement("i",{className:`las ${e.value}`}):React.createElement("i",{className:`las ${e.value}`}):null}function _t({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"text",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder,minLength:e.props.minlength,maxLength:e.props.maxlength})))}function Nt({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("textarea",{className:"ts-filter min-scroll",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder,minLength:e.props.minlength,maxLength:e.props.maxlength})))}function Dt({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"email",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder})))}function It({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"tel",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder})))}function Pt({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"url",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder})))}function qt({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"date",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder,style:{display:"block"}})))}function Ft({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group switcher-label"},React.createElement("label",null,React.createElement("div",{className:"switch-slider"},React.createElement("div",{className:"onoffswitch"},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:t||!1,onChange:n=>o(n.target.checked)}),React.createElement("label",{className:"onoffswitch-label",onClick:n=>{n.preventDefault(),o(!t)}}))),e.label))}function Ot({dataInput:e,value:t,onChange:o,icons:n}){const{min:p=0,max:a=999999,display_mode:d="default"}=e.props,r=k(u=>u===null?null:u<p?p:u>a?a:u,[p,a]),c=k(()=>{const g=r((typeof t=="number"?t:p)+1);o(g)},[t,p,r,o]),v=k(()=>{const g=r((typeof t=="number"?t:p)-1);o(g)},[t,p,r,o]),m=k(u=>{const g=u.target.value===""?null:parseInt(u.target.value,10);o(r(g))},[r,o]);return d==="stepper"?React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-stepper-input flexify"},React.createElement("button",{className:`ts-stepper-left ts-icon-btn${(t??0)<=p?" vx-disabled":""}`,onClick:u=>{u.preventDefault(),v()},type:"button"},Oe(n?.minusIcon)||React.createElement("i",{className:"las la-minus"})),React.createElement("input",{type:"number",className:"ts-input-box",value:t??"",onChange:m,placeholder:e.props.placeholder}),React.createElement("button",{className:`ts-stepper-right ts-icon-btn${(t??0)>=a?" vx-disabled":""}`,onClick:u=>{u.preventDefault(),c()},type:"button"},Oe(n?.plusIcon)||React.createElement("i",{className:"las la-plus"})))):React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"number",className:"ts-filter",value:t??"",onChange:m,placeholder:e.props.placeholder,min:p,max:a})))}function Ht({dataInput:e,value:t,onChange:o}){const{display_mode:n="default",choices:p={},placeholder:a,l10n:d}=e.props,r=$(()=>Object.values(p),[p]),c=k(m=>t===m.value,[t]),v=k(m=>{t===m.value?o(null):o(m.value)},[t,o]);return n==="buttons"?React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},r.map(m=>React.createElement("li",{key:m.value,className:`flexify${c(m)?" adb-selected":""}`,onClick:u=>{u.preventDefault(),v(m)}},m.label)))):n==="radio"?React.createElement("div",{className:"ts-form-group inline-terms-wrapper ts-inline-filter"},React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul ts-addition-list flexify"},r.map(m=>React.createElement("li",{key:m.value,className:`flexify${c(m)?" ts-checked":""}`},React.createElement("div",{className:"addition-body",onClick:u=>{u.preventDefault(),v(m)}},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:m.value,checked:c(m),className:"onoffswitch-checkbox",disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"})),React.createElement("span",null,m.label)))))):React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-filter"},React.createElement("select",{value:t??"",onChange:m=>o(m.target.value||null)},React.createElement("option",{value:""},a||d?.default_placeholder||"Select..."),r.map(m=>React.createElement("option",{key:m.value,value:m.value},m.label))),React.createElement("div",{className:"ts-down-icon"})))}function Vt({dataInput:e,value:t,onChange:o}){const{display_mode:n="default",choices:p={}}=e.props,a=$(()=>Object.values(p),[p]),d=k(c=>(t||[]).includes(c.value),[t]),r=k(c=>{const v=t||[];v.includes(c.value)?o(v.filter(m=>m!==c.value)):o([...v,c.value])},[t,o]);return n==="buttons"?React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},a.map(c=>React.createElement("li",{key:c.value,className:`flexify${d(c)?" adb-selected":""}`,onClick:v=>{v.preventDefault(),r(c)}},c.label)))):React.createElement("div",{className:"ts-form-group ts-custom-additions"},React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul ts-addition-list flexify"},a.map(c=>React.createElement("li",{key:c.value,className:`flexify${d(c)?" ts-checked":""}`},React.createElement("div",{className:"addition-body",onClick:v=>{v.preventDefault(),r(c)}},React.createElement("label",{className:"container-checkbox"},React.createElement("input",{type:"checkbox",checked:d(c),className:"onoffswitch-checkbox",disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"})),React.createElement("span",null,c.label))))))}function jt({field:e,values:t,onValueChange:o,icons:n}){const p=$(()=>Object.values(e.props.data_inputs||{}),[e.props.data_inputs]);return p.length?React.createElement(React.Fragment,null,p.map(a=>{const d=a.key,r=t[d];switch(a.type){case"text":return React.createElement(_t,{key:d,dataInput:a,value:r,onChange:c=>o(d,c)});case"textarea":return React.createElement(Nt,{key:d,dataInput:a,value:r,onChange:c=>o(d,c)});case"email":return React.createElement(Dt,{key:d,dataInput:a,value:r,onChange:c=>o(d,c)});case"phone":return React.createElement(It,{key:d,dataInput:a,value:r,onChange:c=>o(d,c)});case"url":return React.createElement(Pt,{key:d,dataInput:a,value:r,onChange:c=>o(d,c)});case"date":return React.createElement(qt,{key:d,dataInput:a,value:r,onChange:c=>o(d,c)});case"switcher":return React.createElement(Ft,{key:d,dataInput:a,value:r,onChange:c=>o(d,c)});case"number":return React.createElement(Ot,{key:d,dataInput:a,value:r,onChange:c=>o(d,c),icons:n});case"select":return React.createElement(Ht,{key:d,dataInput:a,value:r,onChange:c=>o(d,c)});case"multiselect":return React.createElement(Vt,{key:d,dataInput:a,value:r,onChange:c=>o(d,c)});default:return null}})):null}const Ue="voxel:guest_cart",Lt="voxel:direct_cart";function Ee(e,t){return`${window.Voxel_Config?.ajax_url??"/?vx=1"}&action=${e}&_wpnonce=${t}`}function Mt(){return window.Voxel_Config?.is_logged_in??!1}function zt(){return typeof localStorage>"u"?null:localStorage.getItem(Ue)}function Qt(e){typeof localStorage>"u"||localStorage.setItem(Ue,JSON.stringify(e))}function Gt(e,t){typeof localStorage>"u"||localStorage.setItem(Lt,JSON.stringify({[e]:t}))}function ue(e,t="info",o,n){window.Voxel?.alert?window.Voxel.alert(e,t,o,n):console.log(`[${t.toUpperCase()}]`,e)}function Wt(e){const t=[];typeof document<"u"&&document.querySelector(".ts-popup-cart > a")&&t.push({label:e.view_cart??"View Cart",link:"#",onClick:o=>{o.preventDefault(),window.Voxel?.openCart&&window.Voxel.openCart(),o.target.closest(".ts-notice")?.querySelector(".close-alert")?.click()}}),ue(e.added_to_cart??"Added to cart","success",t,4e3)}function Zt(e){window.jQuery&&window.jQuery(document).trigger("voxel:added_cart_item",e)}function He(e,t,o,n,p,a={}){const d=e.settings?.product_mode??"regular",r={post_id:0};return Object.keys(t).length>0&&(r.addons=t),d==="regular"?r.stock={quantity:o}:d==="variable"?r.variations=n:d==="booking"&&(r.booking=p),Object.keys(a).length>0&&(r.data_inputs=a),r}async function ke(e,t){if(window.jQuery?.post)return new Promise(n=>{window.jQuery.post(e,t).always(p=>{n(p)})});const o=new FormData;Object.entries(t).forEach(([n,p])=>{o.append(n,p)});try{return await(await fetch(e,{method:"POST",body:o})).json()}catch{return{success:!1,message:window.Voxel_Config?.l10n?.ajaxError??"Request failed"}}}function Ut(e){const{config:t,addonValues:o,quantity:n,variationsValue:p,bookingValue:a,dataInputValues:d}=e,[r,c]=D(!1),[v,m]=D(null),u=k(async()=>{if(!t)return m("Product configuration not available"),!1;c(!0),m(null);try{const f=t.settings?.cart_nonce??t.nonce,l=He(t,o,n,p,a,d),s={...t.value??{},...l};let y;if(Mt()){const R=Ee("products.add_to_cart",f);y=await ke(R,{item:JSON.stringify(s)})}else{const R=Ee("products.add_to_guest_cart",f);y=await ke(R,{item:JSON.stringify(s),guest_cart:zt()??""}),y.success&&y.guest_cart&&Qt(y.guest_cart)}if(y.success)return Zt(y.item),Wt({added_to_cart:t.l10n?.added_to_cart,view_cart:t.l10n?.view_cart}),!0;{const R=y.message??"Failed to add to cart";return m(R),ue(R,"error"),!1}}catch(f){const l=f instanceof Error?f.message:"Failed to add to cart";return m(l),ue(l,"error"),!1}finally{c(!1)}},[t,o,n,p,a,d]),g=k(async()=>{if(!t)return m("Product configuration not available"),!1;c(!0),m(null);try{const f=t.settings?.cart_nonce??t.nonce,l=He(t,o,n,p,a,d),s={...t.value??{},...l},y=Ee("products.get_direct_cart",f),R=await ke(y,{item:JSON.stringify(s)});if(R.success&&R.item&&R.checkout_link)return Gt(R.item.key,R.item.value),window.location.href=R.checkout_link,!0;{const h=R.message??"Failed to proceed to checkout";return m(h),ue(h,"error"),!1}}catch(f){const l=f instanceof Error?f.message:"Failed to proceed to checkout";return m(l),ue(l,"error"),!1}finally{c(!1)}},[t,o,n,p,a,d]);return{isProcessing:r,addToCart:u,directCheckout:g,error:v}}const Ve={active:!1,element:null,choice:null,addonKey:null};function Yt(e){const{config:t,addonValues:o,onAddonValueChange:n}=e,[p,a]=D(Ve),d=Q([]),r=k(u=>{try{return JSON.parse(atob(u))}catch{return null}},[]),c=k((u,g,f,l)=>{const s=u.parentElement;s&&(g?(u.classList.add("active"),l?s.dataset.tooltip=l:delete s.dataset.tooltip):(u.classList.remove("active"),f?s.dataset.tooltip=f:delete s.dataset.tooltip))},[]),v=k(()=>{a(Ve)},[]),m=k(u=>{if(!p.active||!p.addonKey||!p.choice)return;const g=p.addonKey,f=p.choice.value,l=o[g];if(!l)return;const s=t?.props?.fields?.["form-addons"]?.props?.addons?.[g];if(s){if(s.type==="custom-multiselect"){const y=l.selected||[],R=y.findIndex(h=>h.item===f);if(R!==-1){const h=[...y];h[R]={...h[R],quantity:u},n(g,{...l,selected:h})}}else if(s.type==="custom-select"){const y=l.selected;y.item===f&&n(g,{...l,selected:{...y,quantity:u}})}v()}},[p,o,t,n,v]);return T(()=>{if(!t)return;d.current.forEach(f=>f()),d.current=[];const u=t.props?.fields?.["form-addons"]?.props?.addons;return u?(document.querySelectorAll(".ts-use-addition").forEach(f=>{const l=f.dataset.id;if(!l)return;const s=r(l);if(!s)return;const y=u[s.addon],R=y?.props?.choices?.[s.choice];if(!y||!R)return;const h=f.parentElement,x=h?.dataset.tooltipDefault||null,E=h?.dataset.tooltipActive||null;if(y._has_external_handler=!0,y.type==="custom-multiselect"){const C=F=>{F.preventDefault();const z=o[s.addon],w=z?.selected||[],M=w.findIndex(G=>G.item===s.choice);if(M===-1){const G=[...w,{item:s.choice,quantity:R.props?.quantity?.min??1}];n(s.addon,{...z,selected:G}),R.props?.quantity?.enabled&&a({active:!0,element:f,choice:R,addonKey:s.addon})}else{const G=w.filter((Z,ie)=>ie!==M);n(s.addon,{...z,selected:G})}};f.addEventListener("click",C),d.current.push(()=>f.removeEventListener("click",C));const P=o[s.addon]?.selected?.some(F=>F.item===s.choice)??!1;c(f,P,x,E)}else if(y.type==="custom-select"){const C=F=>{F.preventDefault();const z=o[s.addon];z?.selected?.item!==s.choice?(n(s.addon,{...z,selected:{item:s.choice,quantity:R.props?.quantity?.min??1}}),R.props?.quantity?.enabled&&a({active:!0,element:f,choice:R,addonKey:s.addon})):n(s.addon,{...z,selected:{item:null,quantity:1}})};f.addEventListener("click",C),d.current.push(()=>f.removeEventListener("click",C));const P=o[s.addon]?.selected?.item===s.choice;c(f,P,x,E)}}),()=>{d.current.forEach(f=>f()),d.current=[]}):void 0},[t,r,c]),T(()=>{if(!t)return;const u=t.props?.fields?.["form-addons"]?.props?.addons;if(!u)return;document.querySelectorAll(".ts-use-addition").forEach(f=>{const l=f.dataset.id;if(!l)return;const s=r(l);if(!s)return;const y=u[s.addon];if(!y)return;const R=f.parentElement,h=R?.dataset.tooltipDefault||null,x=R?.dataset.tooltipActive||null;if(y.type==="custom-multiselect"){const C=o[s.addon]?.selected?.some(S=>S.item===s.choice)??!1;c(f,C,h,x)}else if(y.type==="custom-select"){const C=o[s.addon]?.selected?.item===s.choice;c(f,C,h,x)}})},[t,o,r,c]),{externalChoice:p,closeExternalChoice:v,updateExternalChoiceQuantity:m}}function je(e){return e?.value?e.library==="line-awesome"||e.value.startsWith("la-")?React.createElement("i",{className:`las ${e.value}`}):React.createElement("i",{className:`las ${e.value}`}):null}function Jt({active:e,element:t,choice:o,onClose:n,onConfirm:p,icons:a}){const d=Q(null),[r,c]=D(1),v=o?.props?.quantity?.min??1,m=o?.props?.quantity?.max??999;T(()=>{e&&c(v)},[e,v]),T(()=>{if(!e||!t||!d.current)return;const l=d.current,s=t.getBoundingClientRect(),y=l.getBoundingClientRect();let R=s.bottom+window.scrollY+8,h=s.left+window.scrollX+s.width/2-y.width/2;const x=window.innerWidth,E=window.innerHeight;h<8&&(h=8),h+y.width>x-8&&(h=x-y.width-8),s.bottom+y.height+16>E&&(R=s.top+window.scrollY-y.height-8),l.style.top=`${R}px`,l.style.left=`${h}px`},[e,t]),T(()=>{if(!e)return;const l=y=>{d.current&&!d.current.contains(y.target)&&n()},s=setTimeout(()=>{document.addEventListener("click",l)},100);return()=>{clearTimeout(s),document.removeEventListener("click",l)}},[e,n]),T(()=>{if(!e)return;const l=s=>{s.key==="Escape"&&n()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,n]);const u=k(()=>{c(l=>Math.min(l+1,m))},[m]),g=k(()=>{c(l=>Math.max(l-1,v))},[v]),f=k(()=>{p(r)},[r,p]);return!e||!o?null:React.createElement("div",{ref:d,className:"ts-popup ts-external-choice-popup",style:{position:"absolute",zIndex:9999}},React.createElement("div",{className:"ts-popup-content"},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,o.label," - Quantity"),React.createElement("div",{className:"ts-stepper-input flexify"},React.createElement("button",{className:`ts-stepper-left ts-icon-btn${r<=v?" vx-disabled":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),g()},type:"button",disabled:r<=v},je(a?.minusIcon)||React.createElement("i",{className:"las la-minus"})),React.createElement("input",{type:"number",className:"ts-input-box",value:r,onChange:l=>{const s=parseInt(l.target.value,10);isNaN(s)||c(Math.max(v,Math.min(s,m)))},min:v,max:m}),React.createElement("button",{className:`ts-stepper-right ts-icon-btn${r>=m?" vx-disabled":""}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),u()},type:"button",disabled:r>=m},je(a?.plusIcon)||React.createElement("i",{className:"las la-plus"})))),React.createElement("div",{className:"ts-form-group ts-popup-actions flexify"},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1",onClick:l=>{l.preventDefault(),n()}},"Cancel"),React.createElement("a",{href:"#",className:"ts-btn ts-btn-2",onClick:l=>{l.preventDefault(),f()}},"Confirm"))))}function ve(e,t){return e?.value?e.library==="line-awesome"||e.value.startsWith("la-")?React.createElement("i",{className:`las ${e.value} `}):e.library==="fa-solid"||e.library==="fa-regular"?React.createElement("i",{className:`${e.library==="fa-solid"?"fas":"far"} fa-${e.value} `}):React.createElement("i",{className:`las ${e.value} `}):null}function Kt(){return React.createElement("div",{className:"ts-product-main vx-loading-screen"},React.createElement(nt,null))}function Xt({message:e,icon:t}){return React.createElement("div",{className:"ts-product-main"},React.createElement("div",{className:"ts-form-group ts-no-posts"},ve(t),React.createElement("p",null,e)))}function At({attributes:e}){const t=e.icons||W;return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify({blockId:e.blockId,settings:{showPriceCalculator:e.showPriceCalculator,showSubtotalOnly:e.showSubtotalOnly,hideCardSubheading:e.hideCardSubheading,cardSelectOnClick:e.cardSelectOnClick},icons:{...W,...e.icons}})}}),React.createElement("div",{className:"ts-product-main"},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,"Product Options"),React.createElement("div",{className:"ts-filter ts-popup-target"},React.createElement("span",{className:"ts-filter-text"},"Select an option"),React.createElement("div",{className:"ts-down-icon"}))),React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,"Add-ons"),React.createElement("ul",{className:"addon-cards simplify-ul flexify"},React.createElement("li",null,React.createElement("div",{className:"adc-title"},"Sample Add-on"),React.createElement("div",{className:"adc-subtitle"},"Description"),React.createElement("span",{className:"vx-addon-price"},"+$10.00")),React.createElement("li",{className:"adc-selected"},React.createElement("div",{className:"adc-title"},"Selected Add-on"),React.createElement("div",{className:"adc-subtitle"},"Description"),React.createElement("span",{className:"vx-addon-price"},"+$15.00")))),React.createElement("div",{className:"ts-form-group product-actions"},React.createElement("a",{href:"#",className:"ts-btn form-btn ts-btn-2"},ve(t.addToCart),React.createElement("span",null,"Add to cart"))),e.showPriceCalculator==="show"&&React.createElement("div",{className:"ts-form-group tcc-container"},React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify"},React.createElement("li",null,React.createElement("p",{className:"ts-item-name"},"Base price"),React.createElement("p",{className:"ts-item-price"},"$50.00")),React.createElement("li",null,React.createElement("p",{className:"ts-item-name"},"Add-on: Selected"),React.createElement("p",{className:"ts-item-price"},"$15.00")),React.createElement("li",{className:"ts-total"},React.createElement("p",{className:"ts-item-name"},"Total"),React.createElement("p",{className:"ts-item-price"},"$65.00"))))))}function eo({summary:e,showSubtotalOnly:t}){if(!e.visible_items.length)return null;const o=t?e.visible_items.filter(n=>n.key==="total"):e.visible_items;return React.createElement("div",{className:"ts-form-group tcc-container"},React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify"},o.map(n=>React.createElement("li",{key:n.key,className:n.key==="total"?"ts-total":""},React.createElement("p",{className:"ts-item-name"},n.label),React.createElement("p",{className:"ts-item-price"},n.formatted_price)))))}function to({attributes:e,context:t,config:o,productConfig:n}){const[p,a]=D({}),[d,r]=D(1),[c,v]=D({variation_id:null,quantity:1}),[m,u]=D(lt),[g,f]=D({}),[l,s]=D(t==="frontend"),{isProcessing:y,addToCart:R,directCheckout:h}=Ut({config:n??null,addonValues:p,quantity:d,variationsValue:c,bookingValue:m,dataInputValues:g}),x=Q(null),E=n?.props?.fields?.["form-quantity"],C=E?.props?.quantity??999,S=$(()=>{const O=n?.props?.fields?.["form-booking"];if(!O||O.props?.mode!=="date_range"||!m.start_date||!m.end_date)return 0;const te=new Date(m.start_date+"T00:00:00Z"),fe=new Date(m.end_date+"T00:00:00Z").getTime()-te.getTime(),ye=Math.ceil(fe/(1e3*60*60*24));return(O.props?.count_mode??"nights")==="nights"?ye:ye+1},[n,m.start_date,m.end_date]),P=k(()=>x.current?.getPricingSummary()??null,[]),F=k(()=>{const O=n?.props?.fields?.["form-variations"];return O?Te.getPricingSummary(O,c):null},[n,c]),{summary:z}=Ct({config:n??null,quantity:d,bookingValue:m,getAddonsPricingSummary:P,getVariationsPricingSummary:F}),w=k((O,te)=>{a(re=>({...re,[O]:te}))},[]),M=k((O,te)=>{f(re=>({...re,[O]:te}))},[]),{externalChoice:G,closeExternalChoice:Z,updateExternalChoiceQuantity:ie}=Yt({config:n??null,addonValues:p,onAddonValueChange:w}),Y=o?.icons||e.icons||W,ae=o?.settings||{showPriceCalculator:e.showPriceCalculator,showSubtotalOnly:e.showSubtotalOnly,hideCardSubheading:e.hideCardSubheading,cardSelectOnClick:e.cardSelectOnClick};if(t==="editor")return React.createElement(At,{attributes:e});if(l&&!n)return React.createElement(Kt,null);if(!n||!n.is_purchasable)return React.createElement(Xt,{message:n?.out_of_stock_message||"This product is not available",icon:Y.outOfStock});const de=n?.settings?.product_mode??"regular",B=!!n?.props?.fields?.["form-addons"],N=!!E,A=!!n?.props?.fields?.["form-variations"],U=!!n?.props?.fields?.["form-booking"],ee=!!n?.props?.fields?.["form-data-inputs"];return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify({blockId:e.blockId||o?.blockId,settings:ae,icons:Y})}}),React.createElement("div",{className:"ts-product-main"},B&&n&&React.createElement(dt,{ref:x,config:n,values:p,onValueChange:w,bookingValue:m,bookingRangeLength:S,searchContext:n.settings?.search_context}),A&&de==="variable"&&n?.props?.fields?.["form-variations"]&&React.createElement(Te,{field:n.props.fields["form-variations"],value:c,onChange:v}),U&&de==="booking"&&n?.props?.fields?.["form-booking"]&&React.createElement(me,{field:n.props.fields["form-booking"],value:m,onChange:u,config:n,initialAvailability:n.settings?.search_context?.availability}),N&&de==="regular"&&React.createElement(pt,{maxQuantity:C,value:d,onChange:r,label:n?.l10n?.quantity??"Quantity"}),ee&&n?.props?.fields?.["form-data-inputs"]&&React.createElement(jt,{field:n.props.fields["form-data-inputs"],values:g,onValueChange:M,icons:Y}),React.createElement("div",{className:"ts-form-group product-actions"},n.cart.enabled?React.createElement("a",{href:"#",className:`ts-btn form-btn ts-btn-2 ${y?"ts-loading-btn":""}`,onClick:O=>{O.preventDefault(),y||R()}},y?React.createElement("span",{className:"ts-loader"}):React.createElement(React.Fragment,null,ve(Y.addToCart),React.createElement("span",null,"Add to cart"))):React.createElement("a",{href:"#",className:`ts-btn form-btn ts-btn-2 ${y?"ts-loading-btn":""}`,onClick:O=>{O.preventDefault(),y||h()}},y?React.createElement("span",{className:"ts-loader"}):React.createElement(React.Fragment,null,ve(Y.checkout),React.createElement("span",null,"Continue")))),ae.showPriceCalculator==="show"&&React.createElement(eo,{summary:z,showSubtotalOnly:ae.showSubtotalOnly})),React.createElement(Jt,{active:G.active,element:G.element,choice:G.choice,onClose:Z,onConfirm:ie,icons:Y}))}function ce(e){if(!e?.borderType||e.borderType==="none")return"";const t=e.borderWidth||{},o=parseFloat(String(t.top))||0,n=parseFloat(String(t.right))||0,p=parseFloat(String(t.bottom))||0,a=parseFloat(String(t.left))||0,d=e.borderColor||"#000000";return`border-style: ${e.borderType}; border-width: ${o}px ${n}px ${p}px ${a}px; border-color: ${d};`}function X(e){if(!e||!e.enable)return"";const{horizontal:t=0,vertical:o=0,blur:n=0,spread:p=0,color:a="rgba(0,0,0,0.1)",position:d="outline"}=e;return`box-shadow: ${d==="inset"?"inset ":""}${t}px ${o}px ${n}px ${p}px ${a};`}function j(e){if(!e)return"";let t="";return e.fontFamily&&(t+=`font-family: ${e.fontFamily}; `),e.fontSize&&(t+=`font-size: ${e.fontSize}${e.fontSizeUnit||"px"}; `),e.fontWeight&&(t+=`font-weight: ${e.fontWeight}; `),e.fontStyle&&(t+=`font-style: ${e.fontStyle}; `),e.textTransform&&(t+=`text-transform: ${e.textTransform}; `),e.textDecoration&&(t+=`text-decoration: ${e.textDecoration}; `),e.lineHeight&&(t+=`line-height: ${e.lineHeight}${e.lineHeightUnit||""}; `),e.letterSpacing&&(t+=`letter-spacing: ${e.letterSpacing}${e.letterSpacingUnit||"px"}; `),t}function Ye(e,t){const o=[],n=[],p=[],a=`.voxel-fse-product-form-${t}`;if(e.fieldSpacing!==void 0&&o.push(`${a} .ts-form-group { margin-bottom: ${e.fieldSpacing}px; }`),e.fieldSpacingTablet!==void 0&&n.push(`${a} .ts-form-group { margin-bottom: ${e.fieldSpacingTablet}px; }`),e.fieldSpacingMobile!==void 0&&p.push(`${a} .ts-form-group { margin-bottom: ${e.fieldSpacingMobile}px; }`),e.fieldLabelTypography){const r=j(e.fieldLabelTypography);r&&o.push(`${a} .ts-form label { ${r} }`)}if(e.fieldLabelColor&&o.push(`${a} .ts-form label { color: ${e.fieldLabelColor}; }`),e.primaryButtonTypography){const r=j(e.primaryButtonTypography);r&&o.push(`${a} .ts-btn.form-btn { ${r} }`)}if(e.primaryButtonBorder){const r=ce(e.primaryButtonBorder);r&&o.push(`${a} .ts-btn.form-btn { ${r} }`)}if(e.primaryButtonBorderRadius!==void 0&&o.push(`${a} .ts-btn.form-btn { border-radius: ${e.primaryButtonBorderRadius}px; }`),e.primaryButtonBoxShadow){const r=X(e.primaryButtonBoxShadow);r&&o.push(`${a} .ts-btn.form-btn { ${r} }`)}if(e.primaryButtonTextColor&&(o.push(`${a} .ts-btn.form-btn { color: ${e.primaryButtonTextColor}; }`),o.push(`${a} .ts-btn.form-btn svg { fill: ${e.primaryButtonTextColor}; }`)),e.primaryButtonBackground&&o.push(`${a} .ts-btn.form-btn { background-color: ${e.primaryButtonBackground}; }`),e.primaryButtonIconSize!==void 0&&(o.push(`${a} .ts-btn.form-btn i { font-size: ${e.primaryButtonIconSize}px; }`),o.push(`${a} .ts-btn.form-btn svg { width: ${e.primaryButtonIconSize}px; height: ${e.primaryButtonIconSize}px; }`)),e.primaryButtonIconColor&&(o.push(`${a} .ts-btn.form-btn i { color: ${e.primaryButtonIconColor}; }`),o.push(`${a} .ts-btn.form-btn svg { fill: ${e.primaryButtonIconColor}; }`)),e.primaryButtonIconTextSpacing!==void 0&&(o.push(`${a} .ts-btn.form-btn i { margin-right: ${e.primaryButtonIconTextSpacing}px; }`),o.push(`${a} .ts-btn.form-btn svg { margin-right: ${e.primaryButtonIconTextSpacing}px; }`)),e.primaryButtonTextColorHover&&(o.push(`${a} .ts-btn.form-btn:hover { color: ${e.primaryButtonTextColorHover}; }`),o.push(`${a} .ts-btn.form-btn:hover svg { fill: ${e.primaryButtonTextColorHover}; }`)),e.primaryButtonBackgroundHover&&o.push(`${a} .ts-btn.form-btn:hover { background-color: ${e.primaryButtonBackgroundHover}; }`),e.primaryButtonBorderColorHover&&o.push(`${a} .ts-btn.form-btn:hover { border-color: ${e.primaryButtonBorderColorHover}; }`),e.primaryButtonBoxShadowHover){const r=X(e.primaryButtonBoxShadowHover);r&&o.push(`${a} .ts-btn.form-btn:hover { ${r} }`)}if(e.primaryButtonIconColorHover&&(o.push(`${a} .ts-btn.form-btn:hover i { color: ${e.primaryButtonIconColorHover}; }`),o.push(`${a} .ts-btn.form-btn:hover svg { fill: ${e.primaryButtonIconColorHover}; }`)),e.priceCalculatorListSpacing!==void 0&&o.push(`${a} .ts-cost-calculator li { margin-bottom: ${e.priceCalculatorListSpacing}px; }`),e.priceCalculatorTypography){const r=j(e.priceCalculatorTypography);r&&o.push(`${a} .ts-cost-calculator { ${r} }`)}if(e.priceCalculatorTextColor&&o.push(`${a} .ts-cost-calculator { color: ${e.priceCalculatorTextColor}; }`),e.priceCalculatorTotalTypography){const r=j(e.priceCalculatorTotalTypography);r&&o.push(`${a} .ts-cost-calculator .ts-total { ${r} }`)}if(e.priceCalculatorTotalTextColor&&o.push(`${a} .ts-cost-calculator .ts-total { color: ${e.priceCalculatorTotalTextColor}; }`),e.loadingColor1&&o.push(`${a} .ts-loader::before { border-top-color: ${e.loadingColor1}; }`),e.loadingColor2&&o.push(`${a} .ts-loader::before { border-bottom-color: ${e.loadingColor2}; }`),e.outOfStockContentGap!==void 0&&o.push(`${a} .ts-no-posts { gap: ${e.outOfStockContentGap}px; }`),e.outOfStockIconSize!==void 0&&(o.push(`${a} .ts-no-posts i { font-size: ${e.outOfStockIconSize}px; }`),o.push(`${a} .ts-no-posts svg { width: ${e.outOfStockIconSize}px; height: ${e.outOfStockIconSize}px; }`)),e.outOfStockIconColor&&(o.push(`${a} .ts-no-posts i { color: ${e.outOfStockIconColor}; }`),o.push(`${a} .ts-no-posts svg { fill: ${e.outOfStockIconColor}; }`)),e.outOfStockTypography){const r=j(e.outOfStockTypography);r&&o.push(`${a} .ts-no-posts p { ${r} }`)}if(e.outOfStockTextColor&&o.push(`${a} .ts-no-posts p { color: ${e.outOfStockTextColor}; }`),e.stepperInputSize!==void 0&&o.push(`${a} .pf-number-input .ts-stepper-number { font-size: ${e.stepperInputSize}px; }`),e.stepperButtonIconColor&&(o.push(`${a} .pf-number-input .ts-icon-btn i { color: ${e.stepperButtonIconColor}; }`),o.push(`${a} .pf-number-input .ts-icon-btn svg { fill: ${e.stepperButtonIconColor}; }`)),e.stepperButtonBackground&&o.push(`${a} .pf-number-input .ts-icon-btn { background-color: ${e.stepperButtonBackground}; }`),e.stepperButtonBorder){const r=ce(e.stepperButtonBorder);r&&o.push(`${a} .pf-number-input .ts-icon-btn { ${r} }`)}if(e.stepperButtonBorderRadius!==void 0&&o.push(`${a} .pf-number-input .ts-icon-btn { border-radius: ${e.stepperButtonBorderRadius}px; }`),e.stepperButtonIconColorHover&&(o.push(`${a} .pf-number-input .ts-icon-btn:hover i { color: ${e.stepperButtonIconColorHover}; }`),o.push(`${a} .pf-number-input .ts-icon-btn:hover svg { fill: ${e.stepperButtonIconColorHover}; }`)),e.stepperButtonBackgroundHover&&o.push(`${a} .pf-number-input .ts-icon-btn:hover { background-color: ${e.stepperButtonBackgroundHover}; }`),e.stepperButtonBorderColorHover&&o.push(`${a} .pf-number-input .ts-icon-btn:hover { border-color: ${e.stepperButtonBorderColorHover}; }`),e.cardsGap!==void 0&&o.push(`${a} .pf-card-choices { gap: ${e.cardsGap}px; }`),e.cardsBackground&&o.push(`${a} .pf-card-choice { background-color: ${e.cardsBackground}; }`),e.cardsBorder){const r=ce(e.cardsBorder);r&&o.push(`${a} .pf-card-choice { ${r} }`)}if(e.cardsBorderRadius!==void 0&&o.push(`${a} .pf-card-choice { border-radius: ${e.cardsBorderRadius}px; }`),e.cardsPrimaryTypography){const r=j(e.cardsPrimaryTypography);r&&o.push(`${a} .pf-card-choice .pf-cc-title { ${r} }`)}if(e.cardsPrimaryColor&&o.push(`${a} .pf-card-choice .pf-cc-title { color: ${e.cardsPrimaryColor}; }`),e.cardsSecondaryTypography){const r=j(e.cardsSecondaryTypography);r&&o.push(`${a} .pf-card-choice .pf-cc-description { ${r} }`)}if(e.cardsSecondaryColor&&o.push(`${a} .pf-card-choice .pf-cc-description { color: ${e.cardsSecondaryColor}; }`),e.cardsPriceTypography){const r=j(e.cardsPriceTypography);r&&o.push(`${a} .pf-card-choice .pf-cc-price { ${r} }`)}if(e.cardsPriceColor&&o.push(`${a} .pf-card-choice .pf-cc-price { color: ${e.cardsPriceColor}; }`),e.cardsImageBorderRadius!==void 0&&o.push(`${a} .pf-card-choice .pf-cc-image { border-radius: ${e.cardsImageBorderRadius}px; }`),e.cardsImageSize!==void 0&&o.push(`${a} .pf-card-choice .pf-cc-image { width: ${e.cardsImageSize}px; height: ${e.cardsImageSize}px; }`),e.cardsSelectedBackground&&o.push(`${a} .pf-card-choice.pf-selected { background-color: ${e.cardsSelectedBackground}; }`),e.cardsSelectedBorderColor&&o.push(`${a} .pf-card-choice.pf-selected { border-color: ${e.cardsSelectedBorderColor}; }`),e.cardsSelectedBoxShadow){const r=X(e.cardsSelectedBoxShadow);r&&o.push(`${a} .pf-card-choice.pf-selected { ${r} }`)}if(e.cardsSelectedPrimaryTypography){const r=j(e.cardsSelectedPrimaryTypography);r&&o.push(`${a} .pf-card-choice.pf-selected .pf-cc-title { ${r} }`)}if(e.buttonsGap!==void 0&&o.push(`${a} .pf-btn-choices { gap: ${e.buttonsGap}px; }`),e.buttonsBackground&&o.push(`${a} .pf-btn-choice { background-color: ${e.buttonsBackground}; }`),e.buttonsBorder){const r=ce(e.buttonsBorder);r&&o.push(`${a} .pf-btn-choice { ${r} }`)}if(e.buttonsBorderRadius!==void 0&&o.push(`${a} .pf-btn-choice { border-radius: ${e.buttonsBorderRadius}px; }`),e.buttonsTextTypography){const r=j(e.buttonsTextTypography);r&&o.push(`${a} .pf-btn-choice { ${r} }`)}if(e.buttonsTextColor&&o.push(`${a} .pf-btn-choice { color: ${e.buttonsTextColor}; }`),e.buttonsSelectedBackground&&o.push(`${a} .pf-btn-choice.pf-selected { background-color: ${e.buttonsSelectedBackground}; }`),e.buttonsSelectedBorderColor&&o.push(`${a} .pf-btn-choice.pf-selected { border-color: ${e.buttonsSelectedBorderColor}; }`),e.buttonsSelectedBoxShadow){const r=X(e.buttonsSelectedBoxShadow);r&&o.push(`${a} .pf-btn-choice.pf-selected { ${r} }`)}if(e.dropdownTypography){const r=j(e.dropdownTypography);r&&o.push(`${a} .pf-select { ${r} }`)}if(e.dropdownBoxShadow){const r=X(e.dropdownBoxShadow);r&&o.push(`${a} .pf-select { ${r} }`)}if(e.dropdownBackground&&o.push(`${a} .pf-select { background-color: ${e.dropdownBackground}; }`),e.dropdownTextColor&&o.push(`${a} .pf-select { color: ${e.dropdownTextColor}; }`),e.dropdownBorder){const r=ce(e.dropdownBorder);r&&o.push(`${a} .pf-select { ${r} }`)}if(e.dropdownBorderRadius!==void 0&&o.push(`${a} .pf-select { border-radius: ${e.dropdownBorderRadius}px; }`),e.dropdownIconColor&&(o.push(`${a} .pf-select i { color: ${e.dropdownIconColor}; }`),o.push(`${a} .pf-select svg { fill: ${e.dropdownIconColor}; }`)),e.dropdownIconSize!==void 0&&(o.push(`${a} .pf-select i { font-size: ${e.dropdownIconSize}px; }`),o.push(`${a} .pf-select svg { width: ${e.dropdownIconSize}px; height: ${e.dropdownIconSize}px; }`)),e.dropdownIconTextSpacing!==void 0&&(o.push(`${a} .pf-select i { margin-right: ${e.dropdownIconTextSpacing}px; }`),o.push(`${a} .pf-select svg { margin-right: ${e.dropdownIconTextSpacing}px; }`)),e.dropdownHideChevron&&o.push(`${a} .pf-select .ts-down-icon { display: none; }`),e.dropdownChevronColor&&(o.push(`${a} .pf-select .ts-down-icon { color: ${e.dropdownChevronColor}; }`),o.push(`${a} .pf-select .ts-down-icon svg { fill: ${e.dropdownChevronColor}; }`)),e.dropdownBackgroundHover&&o.push(`${a} .pf-select:hover { background-color: ${e.dropdownBackgroundHover}; }`),e.dropdownTextColorHover&&o.push(`${a} .pf-select:hover { color: ${e.dropdownTextColorHover}; }`),e.dropdownBorderColorHover&&o.push(`${a} .pf-select:hover { border-color: ${e.dropdownBorderColorHover}; }`),e.dropdownIconColorHover&&(o.push(`${a} .pf-select:hover i { color: ${e.dropdownIconColorHover}; }`),o.push(`${a} .pf-select:hover svg { fill: ${e.dropdownIconColorHover}; }`)),e.dropdownBoxShadowHover){const r=X(e.dropdownBoxShadowHover);r&&o.push(`${a} .pf-select:hover { ${r} }`)}if(e.dropdownFilledTypography){const r=j(e.dropdownFilledTypography);r&&o.push(`${a} .pf-select.pf-filled { ${r} }`)}if(e.dropdownFilledBackground&&o.push(`${a} .pf-select.pf-filled { background-color: ${e.dropdownFilledBackground}; }`),e.dropdownFilledTextColor&&o.push(`${a} .pf-select.pf-filled { color: ${e.dropdownFilledTextColor}; }`),e.dropdownFilledIconColor&&(o.push(`${a} .pf-select.pf-filled i { color: ${e.dropdownFilledIconColor}; }`),o.push(`${a} .pf-select.pf-filled svg { fill: ${e.dropdownFilledIconColor}; }`)),e.dropdownFilledBorderColor&&o.push(`${a} .pf-select.pf-filled { border-color: ${e.dropdownFilledBorderColor}; }`),e.dropdownFilledBorderWidth!==void 0&&o.push(`${a} .pf-select.pf-filled { border-width: ${e.dropdownFilledBorderWidth}px; }`),e.dropdownFilledBoxShadow){const r=X(e.dropdownFilledBoxShadow);r&&o.push(`${a} .pf-select.pf-filled { ${r} }`)}if(e.radioCheckboxBorderColor&&o.push(`${a} .pf-radio-choice, ${a} .pf-checkbox-choice { border-color: ${e.radioCheckboxBorderColor}; }`),e.radioCheckboxTextTypography){const r=j(e.radioCheckboxTextTypography);r&&o.push(`${a} .pf-radio-choice, ${a} .pf-checkbox-choice { ${r} }`)}if(e.radioCheckboxTextColor&&o.push(`${a} .pf-radio-choice, ${a} .pf-checkbox-choice { color: ${e.radioCheckboxTextColor}; }`),e.radioCheckboxSelectedBackground&&o.push(`${a} .pf-radio-choice.pf-selected, ${a} .pf-checkbox-choice.pf-selected { background-color: ${e.radioCheckboxSelectedBackground}; }`),e.radioCheckboxSelectedTextTypography){const r=j(e.radioCheckboxSelectedTextTypography);r&&o.push(`${a} .pf-radio-choice.pf-selected, ${a} .pf-checkbox-choice.pf-selected { ${r} }`)}if(e.radioCheckboxSelectedTextColor&&o.push(`${a} .pf-radio-choice.pf-selected, ${a} .pf-checkbox-choice.pf-selected { color: ${e.radioCheckboxSelectedTextColor}; }`),e.radioCheckboxSelectedBoxShadow){const r=X(e.radioCheckboxSelectedBoxShadow);r&&o.push(`${a} .pf-radio-choice.pf-selected, ${a} .pf-checkbox-choice.pf-selected { ${r} }`)}if(e.switcherBackgroundInactive&&o.push(`${a} .pf-switcher .ts-switcher { background-color: ${e.switcherBackgroundInactive}; }`),e.switcherBackgroundActive&&o.push(`${a} .pf-switcher input:checked + .ts-switcher { background-color: ${e.switcherBackgroundActive}; }`),e.switcherHandleBackground&&o.push(`${a} .pf-switcher .ts-switcher:before { background-color: ${e.switcherHandleBackground}; }`),e.imagesGap!==void 0&&o.push(`${a} .pf-image-choices { gap: ${e.imagesGap}px; }`),e.imagesBorderRadius!==void 0&&o.push(`${a} .pf-image-choice { border-radius: ${e.imagesBorderRadius}px; }`),e.imagesSelectedBorderColor&&o.push(`${a} .pf-image-choice.pf-selected { border-color: ${e.imagesSelectedBorderColor}; }`),e.colorsGap!==void 0&&o.push(`${a} .pf-color-choices { gap: ${e.colorsGap}px; }`),e.colorsSize!==void 0&&o.push(`${a} .pf-color-choice { width: ${e.colorsSize}px; height: ${e.colorsSize}px; }`),e.colorsBorderRadius!==void 0&&o.push(`${a} .pf-color-choice { border-radius: ${e.colorsBorderRadius}px; }`),e.colorsInsetColor&&o.push(`${a} .pf-color-choice { box-shadow: inset 0 0 0 2px ${e.colorsInsetColor}; }`),e.inputPlaceholderColor&&o.push(`${a} input.pf-input::placeholder, ${a} textarea.pf-input::placeholder { color: ${e.inputPlaceholderColor}; }`),e.inputPlaceholderTypography){const r=j(e.inputPlaceholderTypography);r&&o.push(`${a} input.pf-input::placeholder, ${a} textarea.pf-input::placeholder { ${r} }`)}if(e.inputValueColor&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { color: ${e.inputValueColor}; }`),e.inputValueTypography){const r=j(e.inputValueTypography);r&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { ${r} }`)}if(e.inputBackground&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { background-color: ${e.inputBackground}; }`),e.inputBorder){const r=ce(e.inputBorder);r&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { ${r} }`)}e.inputBorderRadius!==void 0&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { border-radius: ${e.inputBorderRadius}px; }`),e.inputBackgroundHover&&o.push(`${a} input.pf-input:hover, ${a} textarea.pf-input:hover { background-color: ${e.inputBackgroundHover}; }`),e.inputBorderColorHover&&o.push(`${a} input.pf-input:hover, ${a} textarea.pf-input:hover { border-color: ${e.inputBorderColorHover}; }`),e.inputPlaceholderColorHover&&o.push(`${a} input.pf-input:hover::placeholder, ${a} textarea.pf-input:hover::placeholder { color: ${e.inputPlaceholderColorHover}; }`),e.inputTextColorHover&&o.push(`${a} input.pf-input:hover, ${a} textarea.pf-input:hover { color: ${e.inputTextColorHover}; }`),e.inputBackgroundActive&&o.push(`${a} input.pf-input:focus, ${a} textarea.pf-input:focus { background-color: ${e.inputBackgroundActive}; }`),e.inputBorderColorActive&&o.push(`${a} input.pf-input:focus, ${a} textarea.pf-input:focus { border-color: ${e.inputBorderColorActive}; }`),e.inputTextColorActive&&o.push(`${a} input.pf-input:focus, ${a} textarea.pf-input:focus { color: ${e.inputTextColorActive}; }`);let d="";return o.length>0&&(d+=o.join(`
`)),n.length>0&&(d+=`
@media (max-width: 1024px) {
${n.join(`
`)}
}`),p.length>0&&(d+=`
@media (max-width: 767px) {
${p.join(`
`)}
}`),d}function oo({attributes:e,setAttributes:t,clientId:o}){const n=e.blockId||o;T(()=>{e.blockId||t({blockId:o})},[e.blockId,o,t]);const p=Qe(e,{blockId:n,baseClass:"ts-form ts-product-form voxel-fse-product-form",selectorPrefix:"voxel-fse-product-form"}),a=$(()=>Ye(e,n),[e,n]),d=$(()=>[p.responsiveCSS,a].filter(Boolean).join(`
`),[p.responsiveCSS,a]),r=Me({id:p.elementId,className:p.className,style:p.styles,...p.customAttrs});return React.createElement(React.Fragment,null,React.createElement(Ke,null,React.createElement(tt,{tabs:[{id:"content",label:i("Content","voxel-fse"),icon:"",render:()=>React.createElement(ct,{attributes:e,setAttributes:t})},{id:"style",label:i("Style","voxel-fse"),icon:"",render:()=>React.createElement(st,{attributes:e,setAttributes:t})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:t})),React.createElement("div",{...r},d&&React.createElement("style",{dangerouslySetInnerHTML:{__html:d}}),React.createElement(to,{attributes:e,context:"editor"})))}function no({attributes:e}){const t=e.blockId||"product-form",o=Qe(e,{blockId:t,baseClass:"ts-form ts-product-form voxel-fse-product-form"}),n=Ye(e,t),p=[o.responsiveCSS,n].filter(Boolean).join(`
`),a=Me.save({id:o.elementId,className:o.className,style:o.styles,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...o.customAttrs}),d={blockId:e.blockId,settings:{showPriceCalculator:e.showPriceCalculator,showSubtotalOnly:e.showSubtotalOnly,hideCardSubheading:e.hideCardSubheading,cardSelectOnClick:e.cardSelectOnClick},icons:{...W,...e.icons}};return React.createElement("div",{...a},p&&React.createElement("style",{dangerouslySetInnerHTML:{__html:p}}),at(e,!1,void 0,void 0,o.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),React.createElement("div",{className:"ts-product-main vx-loading-screen"},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"}))))}const ao="https://schemas.wp.org/trunk/block.json",ro=3,lo="voxel-fse/product-form",co="1.0.0",so="Product Form (VX)",io="voxel-fse",po="A product purchase form with dynamic fields, cart integration, and price calculator. Must be placed on a single post template with a product field.",uo=["product","form","cart","checkout","purchase","voxel"],mo="voxel-fse",fo={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},yo="file:./index.js",go="file:./editor.css",ho="file:./frontend.js",vo="file:./render.php",Ro={blockId:{type:"string",default:""},contentTabOpenPanel:{type:"string",default:"settings"},styleTabOpenPanel:{type:"string",default:"general"},primaryBtnState:{type:"string",default:"normal"},stepperState:{type:"string",default:"normal"},cardsState:{type:"string",default:"normal"},buttonsState:{type:"string",default:"normal"},dropdownState:{type:"string",default:"normal"},radioCheckboxState:{type:"string",default:"normal"},imagesState:{type:"string",default:"normal"},inputTextareaState:{type:"string",default:"normal"},showPriceCalculator:{type:"string",default:"show",enum:["show","hide"]},showPriceCalculatorTablet:{type:"string",default:"show",enum:["show","hide"]},showPriceCalculatorMobile:{type:"string",default:"show",enum:["show","hide"]},showSubtotalOnly:{type:"boolean",default:!1},hideCardSubheading:{type:"boolean",default:!1},cardSelectOnClick:{type:"boolean",default:!0},icons:{type:"object",default:{addToCart:{library:"line-awesome",value:"la-shopping-cart"},outOfStock:{library:"line-awesome",value:"la-exclamation-circle"},checkout:{library:"line-awesome",value:"la-arrow-right"},calendar:{library:"line-awesome",value:"la-calendar"},clock:{library:"line-awesome",value:"la-clock"}}},fieldSpacing:{type:"number",default:20},fieldSpacingTablet:{type:"number"},fieldSpacingMobile:{type:"number"},fieldLabelTypography:{type:"object",default:{}},fieldLabelColor:{type:"string",default:""},primaryButtonTypography:{type:"object",default:{}},primaryButtonBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},primaryButtonBorderRadius:{type:"number",default:0},primaryButtonBoxShadow:{type:"object",default:{}},primaryButtonTextColor:{type:"string",default:""},primaryButtonBackground:{type:"string",default:""},primaryButtonIconSize:{type:"number",default:24},primaryButtonIconColor:{type:"string",default:""},primaryButtonIconTextSpacing:{type:"number",default:8},primaryButtonTextColorHover:{type:"string",default:""},primaryButtonBackgroundHover:{type:"string",default:""},primaryButtonBorderColorHover:{type:"string",default:""},primaryButtonBoxShadowHover:{type:"object",default:{}},primaryButtonIconColorHover:{type:"string",default:""},priceCalculatorListSpacing:{type:"number",default:10},priceCalculatorTypography:{type:"object",default:{}},priceCalculatorTextColor:{type:"string",default:""},priceCalculatorTotalTypography:{type:"object",default:{}},priceCalculatorTotalTextColor:{type:"string",default:""},loadingColor1:{type:"string",default:""},loadingColor2:{type:"string",default:""},outOfStockContentGap:{type:"number",default:15},outOfStockIconSize:{type:"number",default:40},outOfStockIconColor:{type:"string",default:""},outOfStockTypography:{type:"object",default:{}},outOfStockTextColor:{type:"string",default:""},stepperInputSize:{type:"number",default:16},stepperButtonIconColor:{type:"string",default:""},stepperButtonBackground:{type:"string",default:""},stepperButtonBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},stepperButtonBorderRadius:{type:"number",default:0},stepperButtonIconColorHover:{type:"string",default:""},stepperButtonBackgroundHover:{type:"string",default:""},stepperButtonBorderColorHover:{type:"string",default:""},cardsGap:{type:"number",default:10},cardsBackground:{type:"string",default:""},cardsBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},cardsBorderRadius:{type:"number",default:0},cardsPrimaryTypography:{type:"object",default:{}},cardsPrimaryColor:{type:"string",default:""},cardsSecondaryTypography:{type:"object",default:{}},cardsSecondaryColor:{type:"string",default:""},cardsPriceTypography:{type:"object",default:{}},cardsPriceColor:{type:"string",default:""},cardsImageBorderRadius:{type:"number",default:0},cardsImageSize:{type:"number",default:60},cardsSelectedBackground:{type:"string",default:""},cardsSelectedBorderColor:{type:"string",default:""},cardsSelectedBoxShadow:{type:"object",default:{}},cardsSelectedPrimaryTypography:{type:"object",default:{}},buttonsGap:{type:"number",default:10},buttonsBackground:{type:"string",default:""},buttonsBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},buttonsBorderRadius:{type:"number",default:0},buttonsTextTypography:{type:"object",default:{}},buttonsTextColor:{type:"string",default:""},buttonsSelectedBackground:{type:"string",default:""},buttonsSelectedBorderColor:{type:"string",default:""},buttonsSelectedBoxShadow:{type:"object",default:{}},dropdownTypography:{type:"object",default:{}},dropdownBoxShadow:{type:"object",default:{}},dropdownBackground:{type:"string",default:""},dropdownTextColor:{type:"string",default:""},dropdownBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},dropdownBorderRadius:{type:"number",default:0},dropdownIconColor:{type:"string",default:""},dropdownIconSize:{type:"number",default:24},dropdownIconTextSpacing:{type:"number",default:10},dropdownHideChevron:{type:"boolean",default:!1},dropdownChevronColor:{type:"string",default:""},dropdownBackgroundHover:{type:"string",default:""},dropdownTextColorHover:{type:"string",default:""},dropdownBorderColorHover:{type:"string",default:""},dropdownIconColorHover:{type:"string",default:""},dropdownBoxShadowHover:{type:"object",default:{}},dropdownFilledTypography:{type:"object",default:{}},dropdownFilledBackground:{type:"string",default:""},dropdownFilledTextColor:{type:"string",default:""},dropdownFilledIconColor:{type:"string",default:""},dropdownFilledBorderColor:{type:"string",default:""},dropdownFilledBorderWidth:{type:"number",default:0},dropdownFilledBoxShadow:{type:"object",default:{}},radioCheckboxBorderColor:{type:"string",default:""},radioCheckboxTextTypography:{type:"object",default:{}},radioCheckboxTextColor:{type:"string",default:""},radioCheckboxSelectedBackground:{type:"string",default:""},radioCheckboxSelectedTextTypography:{type:"object",default:{}},radioCheckboxSelectedTextColor:{type:"string",default:""},radioCheckboxSelectedBoxShadow:{type:"object",default:{}},switcherBackgroundInactive:{type:"string",default:""},switcherBackgroundActive:{type:"string",default:""},switcherHandleBackground:{type:"string",default:""},imagesGap:{type:"number",default:10},imagesBorderRadius:{type:"number",default:0},imagesSelectedBorderColor:{type:"string",default:""},colorsGap:{type:"number",default:10},colorsSize:{type:"number",default:30},colorsBorderRadius:{type:"number",default:50},colorsInsetColor:{type:"string",default:""},inputPlaceholderColor:{type:"string",default:""},inputPlaceholderTypography:{type:"object",default:{}},inputValueColor:{type:"string",default:""},inputValueTypography:{type:"object",default:{}},inputBackground:{type:"string",default:""},inputBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},inputBorderRadius:{type:"number",default:0},inputBackgroundHover:{type:"string",default:""},inputBorderColorHover:{type:"string",default:""},inputPlaceholderColorHover:{type:"string",default:""},inputTextColorHover:{type:"string",default:""},inputBackgroundActive:{type:"string",default:""},inputBorderColorActive:{type:"string",default:""},inputTextColorActive:{type:"string",default:""},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},Le={$schema:ao,apiVersion:ro,name:lo,version:co,title:so,category:io,description:po,keywords:uo,textdomain:mo,supports:fo,editorScript:yo,editorStyle:go,viewScript:ho,render:vo,attributes:Ro};Je(Le.name,{...Le,icon:rt,title:i("Product Form (VX)","voxel-fse"),description:i("A product purchase form with dynamic fields, cart integration, and price calculator.","voxel-fse"),edit:oo,save:no});
