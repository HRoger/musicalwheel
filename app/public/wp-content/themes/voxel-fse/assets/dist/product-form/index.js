import{registerBlockType as Je}from"@wordpress/blocks";import{__ as i}from"@wordpress/i18n";import{useBlockProps as Me,InspectorControls as Ke}from"@wordpress/block-editor";import{useEffect as $,useCallback as k,useState as D,useRef as G,forwardRef as Xe,useMemo as T,useImperativeHandle as Ae}from"react";import{A as ze,a as L,S as H,R as et,T as V,C,b as K,B as ce,m as _,c as X}from"../TypographyPopup-BXz72zyZ.js";import{I as tt}from"../InspectorTabs-DmdaThza.js";import{SelectControl as ot,ToggleControl as ge}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-BJok1GGr.js";import{I as ue}from"../IconPickerControl-DZSJ-4aK.js";import{E as nt}from"../EmptyPlaceholder-BsL18qxN.js";import"../voxelShim-DB_Ue-9R.js";import{g as Qe}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as at}from"../backgroundElements-Ui-iCrLV.js";import{V as rt}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";const Z={addToCart:{library:"icon",value:"la-shopping-cart"},outOfStock:{library:"icon",value:"la-exclamation-circle"},checkout:{library:"icon",value:"la-arrow-right"},calendar:{library:"icon",value:"la-calendar"},clock:{library:"icon",value:"la-clock"}},lt={start_date:null,end_date:null,date:null,slot:null};function ct({attributes:e,setAttributes:t}){const o=(n,p)=>{t({icons:{...Z,...e.icons,[n]:p}})};return React.createElement(ze,{attributes:e,setAttributes:t,stateAttribute:"contentTabOpenPanel",defaultPanel:"settings"},React.createElement(L,{id:"settings",title:i("Settings","voxel-fse")},React.createElement(ot,{label:i("Show Price Calculator","voxel-fse"),value:e.showPriceCalculator,options:[{label:i("Show","voxel-fse"),value:"show"},{label:i("Hide","voxel-fse"),value:"hide"}],onChange:n=>t({showPriceCalculator:n})}),React.createElement(ge,{label:i("Show only subtotal?","voxel-fse"),checked:e.showSubtotalOnly,onChange:n=>t({showSubtotalOnly:n})})),React.createElement(L,{id:"cards",title:i("Cards","voxel-fse")},React.createElement(ge,{label:i("Hide Cards subheading","voxel-fse"),checked:e.hideCardSubheading,onChange:n=>t({hideCardSubheading:n})}),React.createElement(ge,{label:i("Select/Deselect on click","voxel-fse"),help:i("Useful if you are selecting add-ons through Select add-on action","voxel-fse"),checked:!e.cardSelectOnClick,onChange:n=>t({cardSelectOnClick:!n})})),React.createElement(L,{id:"icons",title:i("Icons","voxel-fse")},React.createElement(ue,{label:i("Add to cart icon","voxel-fse"),value:e.icons?.addToCart||Z.addToCart,onChange:n=>o("addToCart",n)}),React.createElement(ue,{label:i("Out of stock icons","voxel-fse"),value:e.icons?.outOfStock||Z.outOfStock,onChange:n=>o("outOfStock",n)}),React.createElement(ue,{label:i("Checkout icon","voxel-fse"),value:e.icons?.checkout||Z.checkout,onChange:n=>o("checkout",n)}),React.createElement(ue,{label:i("Calendar icon","voxel-fse"),value:e.icons?.calendar||Z.calendar,onChange:n=>o("calendar",n)}),React.createElement(ue,{label:i("Clock icon","voxel-fse"),value:e.icons?.clock||Z.clock,onChange:n=>o("clock",n)})))}function st({attributes:e,setAttributes:t}){return React.createElement(ze,{attributes:e,setAttributes:t,stateAttribute:"styleTabOpenPanel",defaultPanel:"general"},React.createElement(L,{id:"general",title:i("General","voxel-fse")},React.createElement(H,{label:i("Field","voxel-fse")}),React.createElement(et,{label:i("Spacing","voxel-fse"),attributes:e,setAttributes:t,attributeBaseName:"fieldSpacing",min:0,max:50}),React.createElement(H,{label:i("Field label","voxel-fse")}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.fieldLabelTypography,onChange:o=>t({fieldLabelTypography:o})}),React.createElement(C,{label:i("Color","voxel-fse"),value:e.fieldLabelColor,onChange:o=>t({fieldLabelColor:o??""})})),React.createElement(L,{id:"primary-button",title:i("Primary button","voxel-fse")},React.createElement(K,{attributeName:"primaryBtnState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(V,{label:i("Button typography","voxel-fse"),value:e.primaryButtonTypography,onChange:n=>t({primaryButtonTypography:n})}),React.createElement(ce,{label:i("Border Type","voxel-fse"),value:e.primaryButtonBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({primaryButtonBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.primaryButtonBorderRadius,onChange:n=>t({primaryButtonBorderRadius:n??0}),min:0,max:100,units:["px"]}),React.createElement(X,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"primaryButtonBoxShadow"}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.primaryButtonTextColor,onChange:n=>t({primaryButtonTextColor:n??""})}),React.createElement(C,{label:i("Background color","voxel-fse"),value:e.primaryButtonBackground,onChange:n=>t({primaryButtonBackground:n??""})}),React.createElement(_,{label:i("Icon size","voxel-fse"),value:e.primaryButtonIconSize,onChange:n=>t({primaryButtonIconSize:n??24}),min:0,max:100,units:["px"]}),React.createElement(C,{label:i("Icon color","voxel-fse"),value:e.primaryButtonIconColor,onChange:n=>t({primaryButtonIconColor:n??""})}),React.createElement(_,{label:i("Icon/Text spacing","voxel-fse"),value:e.primaryButtonIconTextSpacing,onChange:n=>t({primaryButtonIconTextSpacing:n??8}),min:0,max:100,units:["px"]})),o.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(C,{label:i("Text color","voxel-fse"),value:e.primaryButtonTextColorHover,onChange:n=>t({primaryButtonTextColorHover:n??""})}),React.createElement(C,{label:i("Background color","voxel-fse"),value:e.primaryButtonBackgroundHover,onChange:n=>t({primaryButtonBackgroundHover:n??""})}),React.createElement(C,{label:i("Border color","voxel-fse"),value:e.primaryButtonBorderColorHover,onChange:n=>t({primaryButtonBorderColorHover:n??""})}),React.createElement(X,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"primaryButtonBoxShadowHover"}),React.createElement(C,{label:i("Icon color","voxel-fse"),value:e.primaryButtonIconColorHover,onChange:n=>t({primaryButtonIconColorHover:n??""})}))))),React.createElement(L,{id:"price-calculator",title:i("Price calculator","voxel-fse")},React.createElement(_,{label:i("List spacing","voxel-fse"),value:e.priceCalculatorListSpacing,onChange:o=>t({priceCalculatorListSpacing:o??10}),min:0,max:50,units:["px"]}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.priceCalculatorTypography,onChange:o=>t({priceCalculatorTypography:o})}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.priceCalculatorTextColor,onChange:o=>t({priceCalculatorTextColor:o??""})}),React.createElement(V,{label:i("Typography (Total)","voxel-fse"),value:e.priceCalculatorTotalTypography,onChange:o=>t({priceCalculatorTotalTypography:o})}),React.createElement(C,{label:i("Text color (Total)","voxel-fse"),value:e.priceCalculatorTotalTextColor,onChange:o=>t({priceCalculatorTotalTextColor:o??""})})),React.createElement(L,{id:"loading-out-of-stock",title:i("Loading / Out of stock","voxel-fse")},React.createElement(H,{label:i("Loading","voxel-fse")}),React.createElement(C,{label:i("Color 1","voxel-fse"),value:e.loadingColor1,onChange:o=>t({loadingColor1:o??""})}),React.createElement(C,{label:i("Color 2","voxel-fse"),value:e.loadingColor2,onChange:o=>t({loadingColor2:o??""})}),React.createElement(H,{label:i("Out of stock","voxel-fse")}),React.createElement(_,{label:i("Content gap","voxel-fse"),value:e.outOfStockContentGap,onChange:o=>t({outOfStockContentGap:o??15}),min:0,max:100,units:["px"]}),React.createElement(_,{label:i("Icon size","voxel-fse"),value:e.outOfStockIconSize,onChange:o=>t({outOfStockIconSize:o??40}),min:0,max:100,units:["px"]}),React.createElement(C,{label:i("Icon color","voxel-fse"),value:e.outOfStockIconColor,onChange:o=>t({outOfStockIconColor:o??""})}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.outOfStockTypography,onChange:o=>t({outOfStockTypography:o})}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.outOfStockTextColor,onChange:o=>t({outOfStockTextColor:o??""})})),React.createElement(L,{id:"number-stepper",title:i("Number stepper","voxel-fse")},React.createElement(K,{attributeName:"stepperState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(_,{label:i("Input value size","voxel-fse"),value:e.stepperInputSize,onChange:n=>t({stepperInputSize:n??16}),min:13,max:30,units:["px"]}),React.createElement(C,{label:i("Button icon color","voxel-fse"),value:e.stepperButtonIconColor,onChange:n=>t({stepperButtonIconColor:n??""})}),React.createElement(C,{label:i("Button background","voxel-fse"),value:e.stepperButtonBackground,onChange:n=>t({stepperButtonBackground:n??""})}),React.createElement(ce,{label:i("Border Type","voxel-fse"),value:e.stepperButtonBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({stepperButtonBorder:n})}),React.createElement(_,{label:i("Button border radius","voxel-fse"),value:e.stepperButtonBorderRadius,onChange:n=>t({stepperButtonBorderRadius:n??0}),min:0,max:50,units:["px"]})),o.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(C,{label:i("Button icon color","voxel-fse"),value:e.stepperButtonIconColorHover,onChange:n=>t({stepperButtonIconColorHover:n??""})}),React.createElement(C,{label:i("Button background color","voxel-fse"),value:e.stepperButtonBackgroundHover,onChange:n=>t({stepperButtonBackgroundHover:n??""})}),React.createElement(C,{label:i("Button border color","voxel-fse"),value:e.stepperButtonBorderColorHover,onChange:n=>t({stepperButtonBorderColorHover:n??""})}))))),React.createElement(L,{id:"cards-style",title:i("Cards","voxel-fse")},React.createElement(K,{attributeName:"cardsState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"selected",title:i("Selected","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Cards","voxel-fse")}),React.createElement(_,{label:i("Gap","voxel-fse"),value:e.cardsGap,onChange:n=>t({cardsGap:n??10}),min:0,max:100,units:["px"]}),React.createElement(C,{label:i("Background","voxel-fse"),value:e.cardsBackground,onChange:n=>t({cardsBackground:n??""})}),React.createElement(ce,{label:i("Border Type","voxel-fse"),value:e.cardsBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({cardsBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.cardsBorderRadius,onChange:n=>t({cardsBorderRadius:n??0}),min:0,max:50,units:["px"]}),React.createElement(H,{label:i("Text","voxel-fse")}),React.createElement(V,{label:i("Primary","voxel-fse"),value:e.cardsPrimaryTypography,onChange:n=>t({cardsPrimaryTypography:n})}),React.createElement(C,{label:i("Primary Color","voxel-fse"),value:e.cardsPrimaryColor,onChange:n=>t({cardsPrimaryColor:n??""})}),React.createElement(V,{label:i("Secondary","voxel-fse"),value:e.cardsSecondaryTypography,onChange:n=>t({cardsSecondaryTypography:n})}),React.createElement(C,{label:i("Secondary Color","voxel-fse"),value:e.cardsSecondaryColor,onChange:n=>t({cardsSecondaryColor:n??""})}),React.createElement(V,{label:i("Price","voxel-fse"),value:e.cardsPriceTypography,onChange:n=>t({cardsPriceTypography:n})}),React.createElement(C,{label:i("Price color Color","voxel-fse"),value:e.cardsPriceColor,onChange:n=>t({cardsPriceColor:n??""})}),React.createElement(H,{label:i("Image","voxel-fse")}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.cardsImageBorderRadius,onChange:n=>t({cardsImageBorderRadius:n??0}),min:0,max:100,units:["px"]}),React.createElement(_,{label:i("Size","voxel-fse"),value:e.cardsImageSize,onChange:n=>t({cardsImageSize:n??60}),min:20,max:200,units:["px"]})),o.name==="selected"&&React.createElement(React.Fragment,null,React.createElement(C,{label:i("Background","voxel-fse"),value:e.cardsSelectedBackground,onChange:n=>t({cardsSelectedBackground:n??""})}),React.createElement(C,{label:i("Border color","voxel-fse"),value:e.cardsSelectedBorderColor,onChange:n=>t({cardsSelectedBorderColor:n??""})}),React.createElement(X,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"cardsSelectedBoxShadow"}),React.createElement(V,{label:i("Primary text","voxel-fse"),value:e.cardsSelectedPrimaryTypography,onChange:n=>t({cardsSelectedPrimaryTypography:n})}))))),React.createElement(L,{id:"buttons",title:i("Buttons","voxel-fse")},React.createElement(K,{t:!0,attributeName:"buttonsState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"selected",title:i("Selected","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(_,{label:i("Gap","voxel-fse"),value:e.buttonsGap,onChange:n=>t({buttonsGap:n??10}),min:0,max:100,units:["px"]}),React.createElement(C,{label:i("Background","voxel-fse"),value:e.buttonsBackground,onChange:n=>t({buttonsBackground:n??""})}),React.createElement(ce,{label:i("Border Type","voxel-fse"),value:e.buttonsBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({buttonsBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.buttonsBorderRadius,onChange:n=>t({buttonsBorderRadius:n??0}),min:0,max:50,units:["px"]}),React.createElement(V,{label:i("Text","voxel-fse"),value:e.buttonsTextTypography,onChange:n=>t({buttonsTextTypography:n})}),React.createElement(C,{label:i("Text Color","voxel-fse"),value:e.buttonsTextColor,onChange:n=>t({buttonsTextColor:n??""})})),o.name==="selected"&&React.createElement(React.Fragment,null,React.createElement(C,{label:i("Background","voxel-fse"),value:e.buttonsSelectedBackground,onChange:n=>t({buttonsSelectedBackground:n??""})}),React.createElement(C,{label:i("Border color","voxel-fse"),value:e.buttonsSelectedBorderColor,onChange:n=>t({buttonsSelectedBorderColor:n??""})}),React.createElement(X,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"buttonsSelectedBoxShadow"}))))),React.createElement(L,{id:"dropdown",title:i("Dropdown","voxel-fse")},React.createElement(K,{t:!0,attributeName:"dropdownState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")},{name:"filled",title:i("Filled","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Style","voxel-fse")}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.dropdownTypography,onChange:n=>t({dropdownTypography:n})}),React.createElement(X,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"dropdownBoxShadow"}),React.createElement(C,{label:i("Background color","voxel-fse"),value:e.dropdownBackground,onChange:n=>t({dropdownBackground:n??""})}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.dropdownTextColor,onChange:n=>t({dropdownTextColor:n??""})}),React.createElement(ce,{label:i("Border Type","voxel-fse"),value:e.dropdownBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({dropdownBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.dropdownBorderRadius,onChange:n=>t({dropdownBorderRadius:n??0}),min:0,max:50,units:["px"]}),React.createElement(H,{label:i("Icons","voxel-fse")}),React.createElement(C,{label:i("Icon color","voxel-fse"),value:e.dropdownIconColor,onChange:n=>t({dropdownIconColor:n??""})}),React.createElement(_,{label:i("Icon size","voxel-fse"),value:e.dropdownIconSize,onChange:n=>t({dropdownIconSize:n??24}),min:0,max:50,units:["px"]}),React.createElement(_,{label:i("Icon/Text spacing","voxel-fse"),value:e.dropdownIconTextSpacing,onChange:n=>t({dropdownIconTextSpacing:n??10}),min:0,max:50,units:["px"]}),React.createElement(H,{label:i("Chevron","voxel-fse")}),React.createElement(ge,{label:i("Hide chevron","voxel-fse"),checked:e.dropdownHideChevron,onChange:n=>t({dropdownHideChevron:n})}),React.createElement(C,{label:i("Chevron color","voxel-fse"),value:e.dropdownChevronColor,onChange:n=>t({dropdownChevronColor:n??""})})),o.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Style","voxel-fse")}),React.createElement(C,{label:i("Background color","voxel-fse"),value:e.dropdownBackgroundHover,onChange:n=>t({dropdownBackgroundHover:n??""})}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.dropdownTextColorHover,onChange:n=>t({dropdownTextColorHover:n??""})}),React.createElement(C,{label:i("Border color","voxel-fse"),value:e.dropdownBorderColorHover,onChange:n=>t({dropdownBorderColorHover:n??""})}),React.createElement(C,{label:i("Icon color","voxel-fse"),value:e.dropdownIconColorHover,onChange:n=>t({dropdownIconColorHover:n??""})}),React.createElement(X,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"dropdownBoxShadowHover"})),o.name==="filled"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Style (Filled)","voxel-fse")}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.dropdownFilledTypography,onChange:n=>t({dropdownFilledTypography:n})}),React.createElement(C,{label:i("Background","voxel-fse"),value:e.dropdownFilledBackground,onChange:n=>t({dropdownFilledBackground:n??""})}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.dropdownFilledTextColor,onChange:n=>t({dropdownFilledTextColor:n??""})}),React.createElement(C,{label:i("Icon color","voxel-fse"),value:e.dropdownFilledIconColor,onChange:n=>t({dropdownFilledIconColor:n??""})}),React.createElement(C,{label:i("Border color","voxel-fse"),value:e.dropdownFilledBorderColor,onChange:n=>t({dropdownFilledBorderColor:n??""})}),React.createElement(_,{label:i("Border width","voxel-fse"),value:e.dropdownFilledBorderWidth,onChange:n=>t({dropdownFilledBorderWidth:n??0}),min:0,max:10,units:["px"]}),React.createElement(X,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"dropdownFilledBoxShadow"}))))),React.createElement(L,{id:"radio-checkboxes",title:i("Radio/Checkboxes","voxel-fse")},React.createElement(K,{t:!0,attributeName:"radioCheckboxState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"selected",title:i("Selected","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(C,{label:i("Border-color","voxel-fse"),value:e.radioCheckboxBorderColor,onChange:n=>t({radioCheckboxBorderColor:n??""})}),React.createElement(V,{label:i("Text","voxel-fse"),value:e.radioCheckboxTextTypography,onChange:n=>t({radioCheckboxTextTypography:n})}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.radioCheckboxTextColor,onChange:n=>t({radioCheckboxTextColor:n??""})})),o.name==="selected"&&React.createElement(React.Fragment,null,React.createElement(C,{label:i("Background color","voxel-fse"),value:e.radioCheckboxSelectedBackground,onChange:n=>t({radioCheckboxSelectedBackground:n??""})}),React.createElement(V,{label:i("Text","voxel-fse"),value:e.radioCheckboxSelectedTextTypography,onChange:n=>t({radioCheckboxSelectedTextTypography:n})}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.radioCheckboxSelectedTextColor,onChange:n=>t({radioCheckboxSelectedTextColor:n??""})}),React.createElement(X,{label:i("Box Shadow","voxel-fse"),attributes:e,setAttributes:t,shadowAttributeName:"radioCheckboxSelectedBoxShadow"}))))),React.createElement(L,{id:"switcher",title:i("Switcher","voxel-fse")},React.createElement(H,{label:i("Switch slider","voxel-fse")}),React.createElement(C,{label:i("Background (Inactive)","voxel-fse"),value:e.switcherBackgroundInactive,onChange:o=>t({switcherBackgroundInactive:o??""})}),React.createElement(C,{label:i("Background (Active)","voxel-fse"),value:e.switcherBackgroundActive,onChange:o=>t({switcherBackgroundActive:o??""})}),React.createElement(C,{label:i("Handle background","voxel-fse"),value:e.switcherHandleBackground,onChange:o=>t({switcherHandleBackground:o??""})})),React.createElement(L,{id:"images",title:i("Images","voxel-fse")},React.createElement(K,{t:!0,attributeName:"imagesState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"selected",title:i("Selected","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(_,{label:i("Gap","voxel-fse"),value:e.imagesGap,onChange:n=>t({imagesGap:n??10}),min:0,max:50,units:["px"]}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.imagesBorderRadius,onChange:n=>t({imagesBorderRadius:n??0}),min:0,max:100,units:["px"]})),o.name==="selected"&&React.createElement(React.Fragment,null,React.createElement(C,{label:i("Border color","voxel-fse"),value:e.imagesSelectedBorderColor,onChange:n=>t({imagesSelectedBorderColor:n??""})}))))),React.createElement(L,{id:"colors",title:i("Colors","voxel-fse")},React.createElement(_,{label:i("Gap","voxel-fse"),value:e.colorsGap,onChange:o=>t({colorsGap:o??10}),min:0,max:50,units:["px"]}),React.createElement(_,{label:i("Size","voxel-fse"),value:e.colorsSize,onChange:o=>t({colorsSize:o??30}),min:10,max:100,units:["px"]}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.colorsBorderRadius,onChange:o=>t({colorsBorderRadius:o??50}),min:0,max:100,units:["px"]}),React.createElement(C,{label:i("Inset color","voxel-fse"),value:e.colorsInsetColor,onChange:o=>t({colorsInsetColor:o??""})})),React.createElement(L,{id:"input-textarea",title:i("Input and Textarea","voxel-fse")},React.createElement(K,{t:!0,attributeName:"inputTextareaState",attributes:e,setAttributes:t,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")},{name:"active",title:i("Active","voxel-fse")}]},o=>React.createElement(React.Fragment,null,o.name==="normal"&&React.createElement(React.Fragment,null,React.createElement(H,{label:i("Placeholder","voxel-fse")}),React.createElement(C,{label:i("Placeholder color","voxel-fse"),value:e.inputPlaceholderColor,onChange:n=>t({inputPlaceholderColor:n??""})}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.inputPlaceholderTypography,onChange:n=>t({inputPlaceholderTypography:n})}),React.createElement(H,{label:i("Value","voxel-fse")}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.inputValueColor,onChange:n=>t({inputValueColor:n??""})}),React.createElement(V,{label:i("Typography","voxel-fse"),value:e.inputValueTypography,onChange:n=>t({inputValueTypography:n})}),React.createElement(H,{label:i("General","voxel-fse")}),React.createElement(C,{label:i("Background color","voxel-fse"),value:e.inputBackground,onChange:n=>t({inputBackground:n??""})}),React.createElement(ce,{label:i("Border Type","voxel-fse"),value:e.inputBorder||{borderType:"none",borderWidth:{},borderColor:""},onChange:n=>t({inputBorder:n})}),React.createElement(_,{label:i("Border radius","voxel-fse"),value:e.inputBorderRadius,onChange:n=>t({inputBorderRadius:n??0}),min:0,max:50,units:["px"]})),o.name==="hover"&&React.createElement(React.Fragment,null,React.createElement(C,{label:i("Background color","voxel-fse"),value:e.inputBackgroundHover,onChange:n=>t({inputBackgroundHover:n??""})}),React.createElement(C,{label:i("Border color","voxel-fse"),value:e.inputBorderColorHover,onChange:n=>t({inputBorderColorHover:n??""})}),React.createElement(C,{label:i("Placeholder color","voxel-fse"),value:e.inputPlaceholderColorHover,onChange:n=>t({inputPlaceholderColorHover:n??""})}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.inputTextColorHover,onChange:n=>t({inputTextColorHover:n??""})})),o.name==="active"&&React.createElement(React.Fragment,null,React.createElement(C,{label:i("Background color","voxel-fse"),value:e.inputBackgroundActive,onChange:n=>t({inputBackgroundActive:n??""})}),React.createElement(C,{label:i("Border color","voxel-fse"),value:e.inputBorderColorActive,onChange:n=>t({inputBorderColorActive:n??""})}),React.createElement(C,{label:i("Text color","voxel-fse"),value:e.inputTextColorActive,onChange:n=>t({inputTextColorActive:n??""})}))))))}function Ce({addon:e,value:t,onChange:o,getRepeatConfig:n,getCustomPrice:p,getCustomPriceForDate:a,searchContext:d}){$(()=>{e.required&&!t.enabled&&o({enabled:!0}),d?.switcher_addons?.[e.key]===!0&&!t.enabled&&o({enabled:!0})},[e.key,e.required,d,t.enabled,o]);const r=k(()=>{e.required&&t.enabled||o({enabled:!t.enabled})},[e.required,t.enabled,o]);k(()=>{if(!t.enabled)return null;let v=e.label;const m=n(e),u=p(e);let g=0;if(m!==null){g=0;const f=new Date(m.start+"T00:00:00Z"),c=new Date(m.end+"T00:00:00Z");for(;m.count_mode==="nights"?f<c:f<=c;){const s=a(f);if(s!==null){const y=s.prices.addons?.[e.key],x=y&&"price"in y?y.price:null;g+=x??e.props.price??0}else g+=e.props.price??0;f.setDate(f.getDate()+1)}v+=m.label}else{let f=e.props.price??0;if(u!==null){const c=u.prices.addons?.[e.key],s=c&&"price"in c?c.price:null;s!=null&&(f=s)}g=f}return{label:v,amount:g}},[e,t.enabled,n,p,a]);const l=e.props.price!=null?`+${e.props.price.toLocaleString()}`:"";return React.createElement("div",{className:"ts-form-group ts-addon-switcher"},React.createElement("div",{className:"switch-slider"},React.createElement("label",{className:"container-switch"},React.createElement("input",{type:"checkbox",checked:t.enabled,onChange:r,disabled:e.required&&t.enabled}),React.createElement("span",{className:"switch"})),React.createElement("span",{className:"switch-label"},e.label,l&&React.createElement("span",{className:"addon-price"}," (",l,")"))))}Ce.getPricingSummary=function(e,t,o,n,p){if(!t.enabled)return null;let a=e.label;const d=o(e),r=n(e);let l=0;if(d!==null){l=0;const v=new Date(d.start+"T00:00:00Z"),m=new Date(d.end+"T00:00:00Z");for(;d.count_mode==="nights"?v<m:v<=m;){const u=p(v);if(u!==null){const g=u.prices.addons?.[e.key],f=g&&"price"in g?g.price:null;l+=f??e.props.price??0}else l+=e.props.price??0;v.setDate(v.getDate()+1)}a+=d.label}else{let v=e.props.price??0;if(r!==null){const m=r.prices.addons?.[e.key],u=m&&"price"in m?m.price:null;u!=null&&(v=u)}l=v}return{label:a,amount:l}};function be({addon:e,value:t,onChange:o,getRepeatConfig:n,getCustomPrice:p,getCustomPriceForDate:a,searchContext:d}){const r=e.props.min_units??1,l=e.props.max_units??999;$(()=>{if(t.quantity===null){const y=e.required?r:0;o({quantity:y})}const s=d?.numeric_addons?.[e.key];if(s!==void 0){const y=parseInt(String(s),10);typeof y=="number"&&y>=r&&y<=l&&o({quantity:y})}},[e.key,e.required,r,l,d]);const v=k(()=>{const s=t.quantity??0;typeof s!="number"||s+1<r?o({quantity:r}):o({quantity:Math.min(s+1,l)})},[t.quantity,r,l,o]),m=k(()=>{const s=t.quantity??0;if(typeof s!="number")o({quantity:r});else{const y=s-1;!e.required&&y<r?o({quantity:0}):o({quantity:Math.max(y,r)})}},[e.required,t.quantity,r,o]),u=k(()=>{const s=t.quantity;typeof s=="number"&&(s>l?o({quantity:l}):s<r&&(!e.required&&s===0||o({quantity:r})))},[e.required,t.quantity,r,l,o]),g=k(s=>{const y=parseInt(s.target.value,10);isNaN(y)||o({quantity:y})},[o]),f=e.props.price!=null?`+${e.props.price.toLocaleString()}`:"",c=t.quantity??0;return React.createElement("div",{className:"ts-form-group ts-addon-numeric"},React.createElement("label",null,e.label,f&&React.createElement("span",{className:"addon-price"}," (",f," each)")),React.createElement("div",{className:"ts-stepper-input"},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:m,disabled:e.required&&c<=r},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("input",{type:"number",value:c,onChange:g,onBlur:u,min:e.required?r:0,max:l,className:"ts-stepper-value"}),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:v,disabled:c>=l},React.createElement("span",{className:"ts-icon"},"+"))),e.props.charge_after?.enabled&&e.props.charge_after.quantity>0&&React.createElement("small",{className:"charge-after-note"},"First ",e.props.charge_after.quantity," free"))}be.getPricingSummary=function(e,t,o,n,p){const a=t.quantity??0;if(a<1)return null;let d=e.label;a>=1&&(d+=` × ${a}`);let r=a;e.props.charge_after?.enabled&&e.props.charge_after?.quantity>0&&(r=Math.max(0,a-e.props.charge_after.quantity));const l=o(e),v=n(e);let m=0;if(l!==null){m=0;const u=new Date(l.start+"T00:00:00Z"),g=new Date(l.end+"T00:00:00Z");for(;l.count_mode==="nights"?u<g:u<=g;){const f=p(u);if(f!==null){const c=f.prices.addons?.[e.key],s=c&&"price"in c?c.price:null;m+=s??e.props.price??0}else m+=e.props.price??0;u.setDate(u.getDate()+1)}m*=r,d+=l.label}else{let u=e.props.price??0;if(v!==null){const g=v.prices.addons?.[e.key],f=g&&"price"in g?g.price:null;f!=null&&(u=f)}m=u*r}return{label:d,amount:m}};function Se({addon:e,value:t,onChange:o}){const[n,p]=D(!1),a=G(null),d=e.props.choices??{},r=Object.keys(d);$(()=>{e.required&&t.selected===null&&r.length>0&&o({selected:r[0]})},[e.required,t.selected,r,o]);const l=k(g=>{o({selected:g}),p(!1)},[o]),v=k(()=>{e.required||o({selected:null})},[e.required,o]),m=t.selected?d[t.selected]??null:null,u=g=>g.price!=null&&g.price>0?`+${g.price.toLocaleString()}`:"";return React.createElement("div",{className:"ts-form-group ts-addon-select"},React.createElement("label",null,e.label),React.createElement("div",{ref:a,className:`ts-filter ts-popup-target${m?" ts-filled":""}`,onClick:()=>p(!n),role:"button",tabIndex:0,onKeyDown:g=>g.key==="Enter"&&p(!n)},React.createElement("span",{className:"ts-filter-text"},m?m.label:"Select..."),React.createElement("div",{className:"ts-down-icon"})),n&&React.createElement("div",{className:"ts-popup-list"},React.createElement("ul",{className:"simplify-ul ts-form-options"},!e.required&&t.selected&&React.createElement("li",{className:"ts-option ts-option-clear",onClick:v,role:"option"},React.createElement("span",null,"Clear selection")),r.map(g=>{const f=d[g],c=t.selected===g,s=u(f);return React.createElement("li",{key:g,className:`ts-option${c?" ts-selected":""}`,onClick:()=>l(g),role:"option","aria-selected":c},React.createElement("span",{className:"option-label"},f.label),s&&React.createElement("span",{className:"option-price"},s))}))))}Se.getPricingSummary=function(e,t,o,n,p){const a=t.selected;if(a===null)return null;const r=(e.props.choices??{})[a];if(!r)return null;let l=r.label;const v=o(e),m=n(e);let u=0;if(v!==null){u=0;const g=new Date(v.start+"T00:00:00Z"),f=new Date(v.end+"T00:00:00Z");for(;v.count_mode==="nights"?g<f:g<=f;){const c=p(g);if(c!==null){const s=c.prices.addons?.[e.key],x=(s&&typeof s=="object"&&!("price"in s)?s[a]:null)?.price??null;u+=x??r.price}else u+=r.price;g.setDate(g.getDate()+1)}l+=v.label}else{let g=r.price;if(m!==null){const f=m.prices.addons?.[e.key],s=(f&&typeof f=="object"&&!("price"in f)?f[a]:null)?.price??null;s!=null&&(g=s)}u=g}return{label:l,amount:u}};function we({addon:e,value:t,onChange:o}){const[n,p]=D(!1),a=G(null),d=e.props.choices??{},r=Object.keys(d),l=t.selected??[],v=k(c=>{const s=[...l],y=s.indexOf(c);y!==-1?s.splice(y,1):s.push(c),o({selected:s})},[l,o]),m=k(()=>{o({selected:[]})},[o]),u=c=>l.includes(c),g=c=>c.price!=null&&c.price>0?`+${c.price.toLocaleString()}`:"",f=()=>l.length===0?"Select...":l.length===1?d[l[0]]?.label??"Selected":`${l.length} selected`;return React.createElement("div",{className:"ts-form-group ts-addon-multiselect"},React.createElement("label",null,e.label),React.createElement("div",{ref:a,className:`ts-filter ts-popup-target${l.length>0?" ts-filled":""}`,onClick:()=>p(!n),role:"button",tabIndex:0,onKeyDown:c=>c.key==="Enter"&&p(!n)},React.createElement("span",{className:"ts-filter-text"},f()),React.createElement("div",{className:"ts-down-icon"})),n&&React.createElement("div",{className:"ts-popup-list"},React.createElement("ul",{className:"simplify-ul ts-form-options ts-checkboxes"},l.length>0&&!e.required&&React.createElement("li",{className:"ts-option ts-option-clear",onClick:m,role:"option"},React.createElement("span",null,"Clear all")),r.map(c=>{const s=d[c],y=u(c),x=g(s);return React.createElement("li",{key:c,className:`ts-option ts-checkbox-option${y?" ts-selected":""}`,onClick:()=>v(c),role:"option","aria-selected":y},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-checkbox"},React.createElement("input",{type:"checkbox",checked:y,onChange:()=>{},tabIndex:-1}),React.createElement("span",{className:"checkmark"}))),React.createElement("span",{className:"option-label"},s.label),x&&React.createElement("span",{className:"option-price"},x))}))))}we.getPricingSummary=function(e,t,o,n,p){const a=[],d=o(e),r=n(e),l=e.props.choices??{};return(t.selected??[]).forEach(m=>{const u=m;if(u===null)return;const g=l[u];if(!g)return;let f=g.label,c=0;if(d!==null){c=0;const s=new Date(d.start+"T00:00:00Z"),y=new Date(d.end+"T00:00:00Z");for(;d.count_mode==="nights"?s<y:s<=y;){const x=p(s);if(x!==null){const h=x.prices.addons?.[e.key],E=(h&&typeof h=="object"&&!("price"in h)?h[u]:null)?.price??null;c+=E??g.price}else c+=g.price;s.setDate(s.getDate()+1)}f+=d.label}else{let s=g.price;if(r!==null){const y=r.prices.addons?.[e.key],h=(y&&typeof y=="object"&&!("price"in y)?y[u]:null)?.price??null;h!=null&&(s=h)}c=s}a.push({label:f,amount:c})}),a};function Be({addon:e,value:t,onChange:o}){const n=e.props.choices??{},p=Object.values(n);$(()=>{if(e.required&&t.selected.item===null&&p.length>0){const u=p[0];o({selected:{item:u.value,quantity:u.quantity?.enabled?u.quantity.min:1}})}},[e.required,t.selected.item,p,o]);const a=()=>!e._has_external_handler||t.selected.item!==null,d=u=>!e._has_external_handler||t.selected.item===u.value,r=k(u=>{u&&t.selected.item!==u.value?o({selected:{item:u.value,quantity:u.quantity?.enabled?u.quantity.min:1}}):e.required||o({selected:{item:null,quantity:1}})},[e.required,t.selected.item,o]);k(u=>{const g=t.selected.quantity;typeof g=="number"&&u.quantity?.enabled&&(g>u.quantity.max?o({selected:{item:t.selected.item,quantity:u.quantity.max}}):g<u.quantity.min&&o({selected:{item:t.selected.item,quantity:u.quantity.min}}))},[t.selected,o]);const l=k(u=>{if(!u.quantity?.enabled)return;const g=t.selected.quantity;if(typeof g!="number")o({selected:{item:t.selected.item,quantity:u.quantity.min}});else{const f=g+1;f<u.quantity.min?o({selected:{item:t.selected.item,quantity:u.quantity.min}}):o({selected:{item:t.selected.item,quantity:Math.min(f,u.quantity.max)}})}},[t.selected,o]),v=k(u=>{if(!u.quantity?.enabled)return;const g=t.selected.quantity;o(typeof g!="number"?{selected:{item:t.selected.item,quantity:u.quantity.min}}:{selected:{item:t.selected.item,quantity:Math.max(g-1,u.quantity.min)}})},[t.selected,o]),m=u=>u.price!=null&&u.price>0?`+${u.price.toLocaleString()}`:"";return a()?React.createElement("div",{className:"ts-form-group ts-addon-custom-select"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-custom-select-cards"},p.map(u=>{if(!d(u))return null;const g=t.selected.item===u.value,f=m(u),c=u.quantity?.enabled&&g;return React.createElement("div",{key:u.value,className:`ts-card-choice${g?" ts-selected":""}`,onClick:()=>r(u),role:"option","aria-selected":g},u.image&&React.createElement("div",{className:"ts-card-image"},React.createElement("img",{src:u.image,alt:u.label})),React.createElement("div",{className:"ts-card-content"},React.createElement("span",{className:"ts-card-label"},u.label),f&&React.createElement("span",{className:"ts-card-price"},f)),c&&React.createElement("div",{className:"ts-stepper-input",onClick:s=>s.stopPropagation()},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:()=>v(u),disabled:t.selected.quantity<=(u.quantity?.min??1)},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("span",{className:"ts-stepper-value"},t.selected.quantity),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:()=>l(u),disabled:t.selected.quantity>=(u.quantity?.max??999)},React.createElement("span",{className:"ts-icon"},"+"))))}))):null}Be.getPricingSummary=function(e,t,o,n,p){const{item:a,quantity:d}=t.selected;if(a===null)return null;const l=(e.props.choices??{})[a];if(!l)return null;let v=l.label;l.quantity?.enabled&&d>=1&&(v+=` × ${d}`);const m=o(e),u=n(e);let g=0;if(m!==null){const f=new Date(m.start+"T00:00:00Z"),c=new Date(m.end+"T00:00:00Z");for(;m.count_mode==="nights"?f<c:f<=c;){const s=p(f);if(s!==null){const y=s.prices.addons?.[e.key],h=(y&&typeof y=="object"&&!("price"in y)?y[a]:null)?.price??null;g+=h??l.price}else g+=l.price;f.setDate(f.getDate()+1)}l.quantity?.enabled&&(g*=d),v+=m.label}else{let f=l.price;if(u!==null){const c=u.prices.addons?.[e.key],y=(c&&typeof c=="object"&&!("price"in c)?c[a]:null)?.price??null;y!=null&&(f=y)}g=f,l.quantity?.enabled&&(g*=d)}return{label:v,amount:g}};function $e({addon:e,value:t,onChange:o}){const n=e.props.choices??{},p=Object.values(n),a=t.selected??[],d=()=>!e._has_external_handler||a.length>0,r=c=>!e._has_external_handler||v(c),l=c=>a.findIndex(s=>s.item===c.value),v=c=>l(c)!==-1,m=k(c=>{const s=l(c),y=[...a];s!==-1?y.splice(s,1):y.push({item:c.value,quantity:c.quantity?.min??1}),o({selected:y})},[a,o]);k(c=>{const s=l(c);if(s===-1||!c.quantity?.enabled)return;const y=a[s].quantity;if(typeof y=="number"){const x=[...a];y>c.quantity.max?(x[s]={...x[s],quantity:c.quantity.max},o({selected:x})):y<c.quantity.min&&(x[s]={...x[s],quantity:c.quantity.min},o({selected:x}))}},[a,o]);const u=k(c=>{const s=l(c);if(s===-1||!c.quantity?.enabled)return;const y=[...a],x=y[s].quantity;if(typeof x!="number")y[s]={...y[s],quantity:c.quantity.min};else{const h=x+1;h<c.quantity.min?y[s]={...y[s],quantity:c.quantity.min}:y[s]={...y[s],quantity:Math.min(h,c.quantity.max)}}o({selected:y})},[a,o]),g=k(c=>{const s=l(c);if(s===-1||!c.quantity?.enabled)return;const y=[...a],x=y[s].quantity;typeof x!="number"?y[s]={...y[s],quantity:c.quantity.min}:y[s]={...y[s],quantity:Math.max(x-1,c.quantity.min)},o({selected:y})},[a,o]),f=c=>c.price!=null&&c.price>0?`+${c.price.toLocaleString()}`:"";return d()?React.createElement("div",{className:"ts-form-group ts-addon-custom-multiselect"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-custom-select-cards ts-multi"},p.map(c=>{if(!r(c))return null;const s=l(c),y=s!==-1,x=f(c),h=c.quantity?.enabled&&y,R=y?a[s].quantity:1;return React.createElement("div",{key:c.value,className:`ts-card-choice${y?" ts-selected":""}`,onClick:()=>m(c),role:"option","aria-selected":y},React.createElement("div",{className:"ts-checkbox-container"},React.createElement("label",{className:"container-checkbox"},React.createElement("input",{type:"checkbox",checked:y,onChange:()=>{},tabIndex:-1}),React.createElement("span",{className:"checkmark"}))),c.image&&React.createElement("div",{className:"ts-card-image"},React.createElement("img",{src:c.image,alt:c.label})),React.createElement("div",{className:"ts-card-content"},React.createElement("span",{className:"ts-card-label"},c.label),x&&React.createElement("span",{className:"ts-card-price"},x)),h&&React.createElement("div",{className:"ts-stepper-input",onClick:E=>E.stopPropagation()},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:()=>g(c),disabled:R<=(c.quantity?.min??1)},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("span",{className:"ts-stepper-value"},R),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:()=>u(c),disabled:R>=(c.quantity?.max??999)},React.createElement("span",{className:"ts-icon"},"+"))))}))):null}$e.getPricingSummary=function(e,t,o,n,p){const a=[],d=o(e),r=n(e),l=e.props.choices??{};return(t.selected??[]).forEach(m=>{const{item:u,quantity:g}=m;if(u===null)return;const f=l[u];if(!f)return;let c=f.label;f.quantity?.enabled&&g>=1&&(c+=` × ${g}`);let s=0;if(d!==null){let y=0;const x=new Date(d.start+"T00:00:00Z"),h=new Date(d.end+"T00:00:00Z");for(;d.count_mode==="nights"?x<h:x<=h;){const R=p(x);if(R!==null){const E=R.prices.addons?.[e.key],S=(E&&typeof E=="object"&&!("price"in E)?E[u]:null)?.price??null;y+=S??f.price}else y+=f.price;x.setDate(x.getDate()+1)}f.quantity?.enabled&&(y*=g),s=y,c+=d.label}else{let y=f.price;if(r!==null){const x=r.prices.addons?.[e.key],R=(x&&typeof x=="object"&&!("price"in x)?x[u]:null)?.price??null;R!=null&&(y=R)}s=y,f.quantity?.enabled&&(s*=g)}a.push({label:c,amount:s})}),a};function it(e){return e?Array.isArray(e)?e:Object.entries(e).map(([t,o])=>({...o,key:o.key||t})):[]}const dt=Xe(function({config:t,values:o,onValueChange:n,bookingValue:p,bookingRangeLength:a,searchContext:d},r){const l=t.props?.fields?.["form-addons"],v=T(()=>it(l?.props.addons),[l]),m=l?.props.l10n??{},u=t.settings?.product_mode??"regular",g=t.props?.custom_prices,f=k(h=>{if(!g?.enabled||!g.list?.length)return null;const R=h.toISOString().split("T")[0],E=h.getUTCDay();for(const b of g.list)for(const S of b.conditions){if(S.type==="date"&&S.date===R)return b;if(S.type==="date_range"&&S.range){const q=new Date(S.range.from+"T00:00:00Z"),O=new Date(S.range.to+"T00:00:00Z");if(h>=q&&h<=O)return b}if(S.type==="day_of_week"&&S.days){const q=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];if(S.days.includes(q[E]))return b}}return null},[g]),c=k(h=>{const R=t.props?.fields?.["form-booking"];if(u==="booking")return R&&["single_day","timeslots"].includes(R.props?.mode??"")&&p?.date?f(new Date(p.date+"T00:00:00Z")):null;if(u==="regular"){const E=t.props?.today?.date;if(E)return f(new Date(E+"T00:00:00Z"))}return null},[u,p,t.props,f]),s=k(h=>{const R=t.props?.fields?.["form-booking"];if(!R||R.props?.mode!=="date_range"||!h.repeat||!p?.start_date||!p?.end_date)return null;const E=a??0;if(E<1)return null;const b=R.props?.count_mode??"nights";let S="";return E>1&&(b==="nights"?S=` (${(m.amount_nights??"@count nights").replace("@count",String(E))})`:S=` (${(m.amount_days??"@count days").replace("@count",String(E))})`),{length:E,label:S,start:p.start_date,end:p.end_date,count_mode:b}},[t.props,p,a,m]),y=k(()=>{const h=[];return v.forEach(R=>{const E=o[R.key];if(!E)return;let b=null;switch(R.type){case"switcher":b=Ce.getPricingSummary(R,E,s,c,f);break;case"numeric":b=be.getPricingSummary(R,E,s,c,f);break;case"select":b=Se.getPricingSummary(R,E,s,c,f);break;case"multiselect":b=we.getPricingSummary(R,E,s,c,f);break;case"custom-select":b=Be.getPricingSummary(R,E,s,c,f);break;case"custom-multiselect":b=$e.getPricingSummary(R,E,s,c,f);break}b!==null&&(Array.isArray(b)?h.push(...b):h.push(b))}),h},[v,o,s,c,f]);Ae(r,()=>({getPricingSummary:y}),[y]);const x=h=>{const R=o[h.key],E=S=>{n(h.key,S)},b={addon:h,getRepeatConfig:s,getCustomPrice:c,getCustomPriceForDate:f};switch(h.type){case"switcher":return React.createElement(Ce,{key:h.key,...b,value:R??{enabled:!1},onChange:E,searchContext:d});case"numeric":return React.createElement(be,{key:h.key,...b,value:R??{quantity:null},onChange:E,searchContext:d});case"select":return React.createElement(Se,{key:h.key,...b,value:R??{selected:null},onChange:E});case"multiselect":return React.createElement(we,{key:h.key,...b,value:R??{selected:[]},onChange:E});case"custom-select":return React.createElement(Be,{key:h.key,...b,value:R??{selected:{item:null,quantity:1}},onChange:E});case"custom-multiselect":return React.createElement($e,{key:h.key,...b,value:R??{selected:[]},onChange:E});default:return null}};return v.length===0?null:React.createElement("div",{className:"ts-form-group ts-field-addons"},v.map(x))});function pt({maxQuantity:e,value:t,onChange:o,label:n="Quantity"}){const p=k(()=>{if(typeof t!="number")o(1);else{const v=t+1;o(v<1?1:Math.min(v,e))}},[t,e,o]),a=k(()=>{o(typeof t!="number"?1:Math.max(t-1,1))},[t,o]),d=k(()=>{typeof t=="number"&&(t>e?o(e):t<1&&o(1))},[t,e,o]),r=k(v=>{const m=parseInt(v.target.value,10);isNaN(m)||o(m)},[o]),l=t??1;return React.createElement("div",{className:"ts-form-group ts-field-quantity"},React.createElement("label",null,n),React.createElement("div",{className:"ts-stepper-input"},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:a,disabled:l<=1},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("input",{type:"number",value:l,onChange:r,onBlur:d,min:1,max:e,className:"ts-stepper-value"}),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:p,disabled:l>=e},React.createElement("span",{className:"ts-icon"},"+"))))}function ut({attribute:e,allAttributes:t,variations:o,selections:n,stockEnabled:p,onSelect:a}){const[d,r]=D(!1),l=Object.values(e.props.choices),v=k(()=>Object.values(o).filter(h=>{for(const R of t){if(R.key===e.key)break;if(n[R.key]!==h.attributes[R.key])return!1}return!0}),[o,t,e.key,n]);T(()=>{const h=v();return l.filter(R=>h.find(E=>E.attributes[e.key]===R.value))},[l,v,e.key]);const m=k(h=>{const E=v().filter(S=>S.attributes[e.key]===h.value);return E.length?p?E.find(S=>S._status==="active")?"active":"out_of_stock":"active":"inactive"},[v,e.key,p]),u=k(h=>n[e.key]===h.value,[n,e.key]),g=k(h=>{m(h)!=="inactive"&&(a(e.key,h.value),r(!1))},[e.key,a,m]),f=T(()=>{const h=n[e.key];return l.find(E=>E.value===h)?.label??"Select"},[n,e.key,l]),c=()=>React.createElement("div",{className:"ts-form-group ts-variation-attribute ts-variation-dropdown"},React.createElement("label",null,e.label),React.createElement("div",{className:`ts-filter ts-popup-target${n[e.key]?" ts-filled":""}`,onClick:()=>r(!d),role:"button",tabIndex:0,onKeyDown:h=>h.key==="Enter"&&r(!d)},React.createElement("span",{className:"ts-filter-text"},f),React.createElement("div",{className:"ts-down-icon"})),d&&React.createElement("div",{className:"ts-popup-list"},React.createElement("ul",{className:"simplify-ul ts-form-options"},l.map(h=>{const R=m(h),E=u(h);return React.createElement("li",{key:h.value,className:`ts-option${E?" ts-selected":""}${R==="inactive"?" ts-inactive":""}${R==="out_of_stock"?" ts-out-of-stock":""}`,onClick:()=>g(h),role:"option","aria-selected":E,"aria-disabled":R==="inactive"},React.createElement("span",{className:"option-label"},h.label),R==="out_of_stock"&&React.createElement("span",{className:"option-status"},"Out of stock"))})))),s=()=>React.createElement("div",{className:"ts-form-group ts-variation-attribute ts-variation-buttons"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-variation-options ts-buttons-list"},l.map(h=>{const R=m(h),E=u(h);return React.createElement("button",{key:h.value,type:"button",className:`ts-btn ts-btn-4${E?" ts-selected":""}${R==="inactive"?" ts-inactive":""}${R==="out_of_stock"?" ts-out-of-stock":""}`,onClick:()=>g(h),disabled:R==="inactive"},h.label)}))),y=()=>React.createElement("div",{className:"ts-form-group ts-variation-attribute ts-variation-images"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-variation-options ts-images-list"},l.map(h=>{const R=m(h),E=u(h);return React.createElement("div",{key:h.value,className:`ts-variation-image${E?" ts-selected":""}${R==="inactive"?" ts-inactive":""}${R==="out_of_stock"?" ts-out-of-stock":""}`,onClick:()=>g(h),role:"button",tabIndex:R==="inactive"?-1:0,title:h.label},h.image?React.createElement("img",{src:h.image,alt:h.label}):React.createElement("span",{className:"ts-image-placeholder"},h.label.charAt(0)))}))),x=()=>React.createElement("div",{className:"ts-form-group ts-variation-attribute ts-variation-colors"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-variation-options ts-colors-list"},l.map(h=>{const R=m(h),E=u(h);return React.createElement("div",{key:h.value,className:`ts-variation-color${E?" ts-selected":""}${R==="inactive"?" ts-inactive":""}${R==="out_of_stock"?" ts-out-of-stock":""}`,onClick:()=>g(h),role:"button",tabIndex:R==="inactive"?-1:0,title:h.label,style:{backgroundColor:h.color||"#ccc"}},E&&React.createElement("span",{className:"ts-color-check"},"✓"))})));switch(e.display_type){case"buttons":return s();case"images":return y();case"colors":return x();default:return c()}}function Te({field:e,value:t,onChange:o}){const[n,p]=D(()=>({...e.props.selections})),a=T(()=>Object.values(e.props.attributes),[e.props.attributes]),d=e.props.variations,r=e.props.stock?.enabled??!1,l=T(()=>t.variation_id?d[t.variation_id]??null:null,[t.variation_id,d]),v=k(()=>{if(l)if(r&&l.config.stock.enabled&&!l.config.stock.sold_individually){const R=l.config.stock.quantity;t.quantity>R?o({...t,quantity:R}):t.quantity<1&&o({...t,quantity:1})}else t.quantity!==1&&o({...t,quantity:1})},[l,r,t,o]),m=k(()=>{let R=null;const E=Object.values(d).filter(b=>b._status==="active");for(const b of Object.keys(n)){const S=E.filter(q=>{for(const O of Object.keys(n))if(q.attributes[O]!==n[O])return!1;return!0});if(S.length){R=S[0];break}}if(!R&&E.length){R=E[0];const b={};Object.keys(n).forEach(S=>{b[S]=R.attributes[S]}),p(b)}if(R&&(t.variation_id!==R.id&&o({...t,variation_id:R.id}),R.image)){const b=document.getElementById("ts-media-"+R.image.id);b?.parentElement&&(b.parentElement.scrollLeft=b.offsetLeft)}},[d,n,t,o]),u=k(()=>{for(const R of Object.values(d))if(R._status==="active"){const E={};Object.keys(n).forEach(b=>{E[b]=R.attributes[b]}),p(E),o({...t,variation_id:R.id});break}},[d,n,t,o]),g=k((R,E)=>{p(b=>({...b,[R]:E}))},[]);$(()=>{m()},[n]),$(()=>{l&&v()},[l]),$(()=>{t.variation_id||u()},[]);const f=k(()=>{if(!l)return;const R=l.config.stock.quantity;if(typeof t.quantity!="number")o({...t,quantity:1});else{const E=t.quantity+1;o({...t,quantity:E<1?1:Math.min(E,R)})}},[l,t,o]),c=k(()=>{typeof t.quantity!="number"?o({...t,quantity:1}):o({...t,quantity:Math.max(t.quantity-1,1)})},[t,o]),s=k(R=>{const E=parseInt(R.target.value,10);isNaN(E)||o({...t,quantity:E})},[t,o]),y=k(()=>{if(!l)return;const R=l.config.stock.quantity;typeof t.quantity=="number"&&(t.quantity>R?o({...t,quantity:R}):t.quantity<1&&o({...t,quantity:1}))},[l,t,o]),x=l&&r&&l.config.stock.enabled&&!l.config.stock.sold_individually,h=l?.config.stock.quantity??1;return a.length===0?null:React.createElement("div",{className:"ts-field-variations"},a.map(R=>React.createElement(ut,{key:R.key,attribute:R,allAttributes:a,variations:d,selections:n,stockEnabled:r,onSelect:g})),x&&React.createElement("div",{className:"ts-form-group ts-variation-quantity"},React.createElement("label",null,"Quantity"),React.createElement("div",{className:"ts-stepper-input"},React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-minus",onClick:c,disabled:t.quantity<=1},React.createElement("span",{className:"ts-icon"},"-")),React.createElement("input",{type:"number",value:t.quantity,onChange:s,onBlur:y,min:1,max:h,className:"ts-stepper-value"}),React.createElement("button",{type:"button",className:"ts-stepper-btn ts-stepper-plus",onClick:f,disabled:t.quantity>=h},React.createElement("span",{className:"ts-icon"},"+")))))}Te.getPricingSummary=function(e,t){if(!t.variation_id)return null;const o=e.props.variations[t.variation_id];if(!o)return null;const n=o.config.base_price;let p=n.discount_amount!=null?n.discount_amount:n.amount,a=null;(e.props.stock?.enabled??!1)&&o.config.stock.enabled&&!o.config.stock.sold_individually&&(a=t.quantity,p*=t.quantity);const r=[];return Object.keys(o.attributes).forEach(l=>{const v=o.attributes[l],m=e.props.attributes[l];if(m){const u=m.props.choices["choice_"+v];u&&r.push(u.label)}}),{label:r.join(" / "),amount:p,quantity:a}};function he(e){const t=G(null),o=G(null),n=G(e);n.current=e,$(()=>{if(!t.current||typeof window.Pikaday>"u")return;const f={field:t.current,bound:n.current.bound??!0,format:n.current.format??"YYYY-MM-DD",minDate:n.current.minDate,maxDate:n.current.maxDate,defaultDate:n.current.defaultDate,setDefaultDate:!!n.current.defaultDate,disableDayFn:n.current.disableDayFn,numberOfMonths:n.current.numberOfMonths??1,showDaysInNextAndPreviousMonths:!0,enableSelectionDaysInNextAndPreviousMonths:!1,firstDay:1,onSelect:c=>{n.current.onSelect?.(c)},onDraw:c=>{n.current.onDraw?.(c)},dayRenderHook:n.current.dayRenderHook};return n.current.container&&(f.container=n.current.container,f.bound=!1),o.current=new window.Pikaday(f),()=>{o.current?.destroy(),o.current=null}},[]),$(()=>{o.current&&e.minDate&&o.current.setMinDate(e.minDate)},[e.minDate]),$(()=>{o.current&&e.maxDate&&o.current.setMaxDate(e.maxDate)},[e.maxDate]);const p=k(f=>{o.current?.setDate(f,!0)},[]),a=k(()=>o.current?.getDate()??null,[]),d=k(()=>{o.current?.show()},[]),r=k(()=>{o.current?.hide()},[]),l=k(f=>{o.current?.gotoDate(f)},[]),v=k(()=>{o.current?.draw(!0)},[]),m=k(f=>{o.current?.setStartRange(f)},[]),u=k(f=>{o.current?.setEndRange(f)},[]),g=k(()=>o.current?.el??null,[]);return{inputRef:t,pickerRef:o,setDate:p,getDate:a,setStartRange:m,setEndRange:u,show:d,hide:r,gotoDate:l,redraw:v,getPickerElement:g}}function ae(e){const t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${o}-${n}`}function I(e){return new Date(e+"T00:00:00")}function Ge(e){return["sun","mon","tue","wed","thu","fri","sat"][e.getDay()]}function mt(e,t){const o=ae(e);return t.includes(o)}function ft(e,t){const o=Ge(e);return t.includes(o)}function yt(e,t){const o=I(t.date);return e<o}function gt(e,t,o){if(!o||o.amount<=0)return!1;const n=I(t.date);if(o.unit==="hours"){const[p,a]=t.time.split(":").map(Number);n.setHours(p,a,0,0);const d=o.amount*60*60*1e3;return e.getTime()-n.getTime()<d}else{const p=new Date(n);return p.setDate(p.getDate()+o.amount),e<p}}function ht(e,t,o){const n=I(t.date),p=new Date(n);return p.setDate(p.getDate()+o),e>p}function vt(e,t){const{excluded_days:o=[],excluded_weekdays:n=[],availability:p,today:a}=t.props;return!(mt(e,o)||ft(e,n)||a&&(yt(e,a)||gt(e,a,p?.buffer)||p?.max_days&&ht(e,a,p.max_days)))}function xt(e,t){const{timeslots:o,quantity_per_slot:n=1,booked_slot_counts:p={}}=t.props;if(!o?.groups)return[];const a=Ge(e),d=ae(e),r=[];for(const l of o.groups)if(l.days.includes(a))for(const v of l.slots){const m=`${v.from}-${v.to}`,u=`${d} ${m}`,g=p[u]||0,f=Math.max(0,n-g);r.push({...v,key:m,label:`${v.from} - ${v.to}`,available:f,booked:g,isAvailable:f>0})}return r}function ie(e,t,o){const n=I(e),a=I(t).getTime()-n.getTime(),d=Math.ceil(a/(1e3*60*60*24));return o==="nights"?d:d+1}function Rt(e,t,o){const{count_mode:n="nights",date_range:p,l10n:a}=o.props,d=ie(e,t,n);if(!p)return{valid:!0,length:d};const{min_length:r=1,max_length:l=365}=p;if(d<r||d>l){const v=n==="nights"?a?.nights_range_error??"Min @minlength, max @maxlength nights":a?.days_range_error??"Min @minlength, max @maxlength days";return{valid:!1,length:d,error:v.replace("@minlength",String(r)).replace("@maxlength",String(l))}}return{valid:!0,length:d}}function _e(e,t,o){return t==="nights"?e===1?o?.one_night??"1 night":(o?.multiple_nights??"@count nights").replace("@count",String(e)):e===1?o?.one_day??"1 day":(o?.multiple_days??"@count days").replace("@count",String(e))}function Ne(e){const{today:t,availability:o}=e.props;if(!t)return new Date;const n=I(t.date);if(o?.buffer)if(o.buffer.unit==="days")n.setDate(n.getDate()+o.buffer.amount);else{const[p]=t.time.split(":").map(Number);p+o.buffer.amount>=24&&n.setDate(n.getDate()+1)}return n}function De(e){const{today:t,availability:o}=e.props;if(!t){const p=new Date;return p.setFullYear(p.getFullYear()+1),p}const n=I(t.date);return n.setDate(n.getDate()+(o?.max_days??365)),n}function Ie(e){return t=>!vt(t,e)}function F(e){return typeof window<"u"&&window.Voxel?.helpers?.currencyFormat?window.Voxel.helpers.currencyFormat(e):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Et(e){if(typeof window<"u"&&window.Voxel?.helpers?.dateFormatYmd)return window.Voxel.helpers.dateFormatYmd(e);const t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${o}-${n}`}function We(e,t){const o=t.props?.custom_prices;if(!o?.enabled||!o.list?.length)return null;const n=Et(e);return o.list.find(a=>{for(const d of a.conditions)if(d.type==="date"){if(d.date===n)return!0}else if(d.type==="date_range"){if(d.range){const r=new Date(d.range.from+"T00:00:00Z"),l=new Date(d.range.to+"T00:00:00Z"),v=new Date(n+"T00:00:00Z");if(r<=v&&v<=l)return!0}}else if(d.type==="day_of_week"){const r=new Date(n+"T00:00:00Z"),v=["sun","mon","tue","wed","thu","fri","sat"][r.getDay()];if(d.days?.includes(v))return!0}return!1})??null}function Pe(e,t){const o=t.props?.minimum_price??0;if(!t.props?.custom_prices?.enabled||e===null)return o;const n=We(e,t);return n===null?o:n.minimum_price??o}function kt(e){const t=e.props?.base_price;if(!t?.enabled)return null;let o=t.discount_amount??t.amount;if(e.settings?.product_mode==="regular"){const n=e.props?.today?.date;if(n){const p=We(new Date(n+"T00:00:00Z"),e);p?.prices?.base_price&&(o=p.prices.base_price.discount_amount??p.prices.base_price.amount)}}return{label:"Price",amount:o}}function Ct(e,t){return e.props?.fields?.["form-quantity"]&&t>1?t:1}function Re(e){return e.reduce((t,o)=>t+(o.amount??0),0)}function bt(e){const{config:t,quantity:o,bookingValue:n,getAddonsPricingSummary:p,getVariationsPricingSummary:a}=e,d=k(()=>{if(!t)return{visible_items:[],total:0,formatted_total:F(0)};const m=[],u=kt(t),g=p?.()??null,f=Ct(t,o);u!==null&&m.push({key:"base_price",...u,hidden:g===null||g.length===0}),g!==null&&g.forEach((x,h)=>{m.push({key:`addon_${h}`,...x})}),f>1&&m.push({key:"quantity",label:t.l10n?.quantity??"Quantity",amount:0,value:f});let c=Re(m);c*=f;const s={key:"total",label:"Total",price:c,formatted_price:F(c)},y=m.filter(x=>!x.hidden).map(x=>({key:x.key,label:x.label,price:x.amount,formatted_price:x.value!==void 0?`× ${x.value}`:F(x.amount)}));return y.push(s),{visible_items:y,total:c,formatted_total:F(c)}},[t,o,p]),r=k(()=>{if(!t)return{visible_items:[],total:0,formatted_total:F(0)};const m=[],u=a?.()??null;u!==null&&(m.push({key:"variation",label:u.label,amount:u.amount}),u.quantity&&u.quantity>1&&m.push({key:"quantity",label:t.l10n?.quantity??"Quantity",amount:0,value:u.quantity}));const g=Re(m),f={key:"total",label:"Total",price:g,formatted_price:F(g)},c=m.filter(s=>!s.hidden).map(s=>({key:s.key,label:s.label,price:s.amount,formatted_price:s.value!==void 0?`× ${s.value}`:F(s.amount)}));return c.push(f),{visible_items:c,total:g,formatted_total:F(g)}},[t,a]),l=k(()=>{if(!t)return{visible_items:[],total:0,formatted_total:F(0)};const m=[],u=t.props?.fields?.["form-booking"],g=u?fe.getPricingSummary(u,n,t):null,f=p?.()??null;g!==null&&(m.push({key:"booking",label:g.label,amount:g.amount,hidden:g.amount===0}),f!==null&&f.forEach((x,h)=>{m.push({key:`addon_${h}`,...x})}));const c=Re(m),s={key:"total",label:"Total",price:c,formatted_price:F(c)},y=m.filter(x=>!x.hidden).map(x=>({key:x.key,label:x.label,price:x.amount,formatted_price:F(x.amount)}));return(c>0||y.length>0)&&y.push(s),{visible_items:y,total:c,formatted_total:F(c)}},[t,n,p]);return{summary:T(()=>{if(!t)return{visible_items:[],total:0,formatted_total:F(0)};switch(t.settings?.product_mode??"regular"){case"regular":return d();case"variable":return r();case"booking":return l();default:return{visible_items:[],total:0,formatted_total:F(0)}}},[t,d,r,l]),formatPrice:F}}const Fe=1440*60*1e3;function St(e){if(e)return(t,o)=>{if(t.isDisabled)return;const n=new Date(t.year,t.month,t.day),p=Pe(n,e);if(p>0){const a=`<div class="pika-tooltip">${F(p)}</div>`;o.beforeCloseTd+=a}}}function Ze({field:e,value:t,onChange:o,initialAvailability:n,config:p}){const[a,d]=D("start"),[r,l]=D(null),[v,m]=D(!1),[u,g]=D(null),f=G(null),c=G(null),{count_mode:s="nights",l10n:y}=e.props;$(()=>{v||n?.start&&(t.start_date||t.end_date||(m(!0),o({...t,start_date:n.start,end_date:n.end||n.start})))},[n,v,t,o]);const x=T(()=>Ne(e),[e]),h=T(()=>De(e),[e]),R=T(()=>Ie(e),[e]),E=T(()=>!t.start_date||!t.end_date?null:Rt(t.start_date,t.end_date,e),[t.start_date,t.end_date,e]);$(()=>{E&&!E.valid?l(E.error??null):l(null)},[E]);const b=k(B=>{const N=ae(B);t.end_date&&N>=t.end_date?o({...t,start_date:N,end_date:null}):o({...t,start_date:N}),d("end")},[t,o]),S=k(B=>{const N=ae(B);t.start_date&&N<=t.start_date?o({...t,start_date:N,end_date:t.start_date}):o({...t,end_date:N}),d("start")},[t,o]),q=k((B,N)=>{if(!t.start_date||t.end_date||!N)return;const ee=B.target,Y=ee.tagName==="TD"?ee:ee.closest("td");if(!Y||Y.classList.contains("is-empty")||Y.classList.contains("is-disabled"))return;const te=Y.querySelector(".pika-button");if(!te||te.disabled)return;Y.classList.add("is-endrange");const P=parseInt(te.getAttribute("data-pika-year")??"0",10),Q=parseInt(te.getAttribute("data-pika-month")??"0",10),oe=parseInt(te.getAttribute("data-pika-day")??"0",10),le=new Date(P,Q,oe);g(new Date(le.getTime()));const ye=I(t.start_date);let ne=new Date(le.getTime()-Fe);for(;ne>ye;){const xe=[`.pika-button[data-pika-year="${ne.getFullYear()}"]`,`[data-pika-month="${ne.getMonth()}"]`,`[data-pika-day="${ne.getDate()}"]`].join(""),qe=N.querySelector(xe);qe?.parentElement&&qe.parentElement.classList.add("is-inrange"),ne.setTime(ne.getTime()-Fe)}Y.addEventListener("mouseleave",()=>{Array.from(N.querySelectorAll("td.is-inrange:not(.is-disabled)")).forEach(xe=>xe.classList.remove("is-inrange")),Y.classList.remove("is-endrange"),g(null)},{once:!0})},[t.start_date,t.end_date]),O=T(()=>St(p??null),[p]),z=k(B=>{B.el.addEventListener("mouseover",N=>q(N,B.el))},[q]),w=k(B=>{B.el.addEventListener("mouseover",N=>q(N,B.el))},[q]),M=he({onSelect:b,onDraw:z,minDate:x,maxDate:h,defaultDate:t.start_date?I(t.start_date):void 0,disableDayFn:R,dayRenderHook:O,container:f.current,bound:!1,startRange:t.start_date?I(t.start_date):null,endRange:t.end_date?I(t.end_date):null}),W=T(()=>{if(!t.start_date)return x;const B=I(t.start_date);return B.setDate(B.getDate()+1),B>x?B:x},[t.start_date,x]),U=he({onSelect:S,onDraw:w,minDate:W,maxDate:h,defaultDate:t.end_date?I(t.end_date):void 0,disableDayFn:R,dayRenderHook:O,container:c.current,bound:!1,startRange:t.start_date?I(t.start_date):null,endRange:t.end_date?I(t.end_date):null});$(()=>{if(t.start_date){const B=I(t.start_date);M.setDate(t.start_date),M.setStartRange(B),U.setStartRange(B)}else M.setStartRange(null),U.setStartRange(null)},[t.start_date]),$(()=>{if(t.end_date){const B=I(t.end_date);U.setDate(t.end_date),M.setEndRange(B),U.setEndRange(B)}else M.setEndRange(null),U.setEndRange(null)},[t.end_date]),$(()=>{g(null)},[t.start_date]);const de=y?.select_start_and_end_date??"Select start date",J=y?.select_end_date??"Select end date",re=s==="nights"?y?.select_nights??"Select nights":y?.select_days??"Select days",pe=T(()=>{if(!t.start_date)return re;if(t.end_date){const B=ie(t.start_date,t.end_date,s),N=_e(B,s,y);return`${t.start_date} - ${t.end_date} (${N})`}if(u){const B=ae(u),N=ie(t.start_date,B,s),ee=_e(N,s,y);return`${t.start_date} - ${B} (${ee})`}return`${t.start_date} - ${y?.select_end_date??"..."}`},[t.start_date,t.end_date,u,s,y,re]);return React.createElement("div",{className:"ts-form-group ts-booking-field ts-booking-date-range"},React.createElement("label",null,s==="nights"?"Dates":"Days"),React.createElement("div",{className:`ts-filter ts-popup-target${t.start_date?" ts-filled":""}`},React.createElement("span",{className:"ts-filter-text"},pe),React.createElement("div",{className:"ts-down-icon"})),React.createElement("div",{className:"ts-booking-calendars"},React.createElement("div",{className:"ts-booking-calendar ts-booking-start"},React.createElement("div",{className:"ts-calendar-label"},de),React.createElement("div",{ref:f,className:`ts-calendar-container${a==="start"?" ts-active":""}`},React.createElement("input",{ref:M.inputRef,type:"hidden",readOnly:!0}))),React.createElement("div",{className:"ts-booking-calendar ts-booking-end"},React.createElement("div",{className:"ts-calendar-label"},J),React.createElement("div",{ref:c,className:`ts-calendar-container${a==="end"?" ts-active":""}`},React.createElement("input",{ref:U.inputRef,type:"hidden",readOnly:!0})))),r&&React.createElement("div",{className:"ts-field-error"},React.createElement("span",null,r)))}Ze.getSelectedRangeLength=function(e,t){return!e.start_date||!e.end_date?0:ie(e.start_date,e.end_date,t.props.count_mode??"nights")};function wt(e,t){if(!e||!t)return;e.querySelectorAll(".pika-button").forEach(n=>{const p=n,a=p.dataset,d=parseInt(a.pikaYear??"0",10),r=parseInt(a.pikaMonth??"0",10),l=parseInt(a.pikaDay??"0",10);if(d&&l){const v=new Date(d,r,l),m=Pe(v,t);m>0&&p.setAttribute("title",F(m))}})}function Bt({field:e,value:t,onChange:o,initialAvailability:n,config:p}){const a=G(null),[d,r]=D(!1),{l10n:l}=e.props;$(()=>{d||n?.start&&(t.date||(r(!0),o({...t,date:n.start})))},[n,d,t,o]);const v=T(()=>Ne(e),[e]),m=T(()=>De(e),[e]),u=T(()=>Ie(e),[e]),g=k(x=>{o({...t,date:ae(x)})},[t,o]),f=k(()=>{wt(a.current,p??null)},[p]),c=he({onSelect:g,onDraw:f,minDate:v,maxDate:m,defaultDate:t.date?I(t.date):void 0,disableDayFn:u,container:a.current,bound:!1});$(()=>{t.date&&c.setDate(t.date)},[t.date]);const s=l?.select_date??"Select date",y=t.date??s;return React.createElement("div",{className:"ts-form-group ts-booking-field ts-booking-single-day"},React.createElement("label",null,"Date"),React.createElement("div",{className:`ts-filter ts-popup-target${t.date?" ts-filled":""}`},React.createElement("span",{className:"ts-filter-text"},y),React.createElement("div",{className:"ts-down-icon"})),React.createElement("div",{className:"ts-booking-calendars"},React.createElement("div",{className:"ts-booking-calendar"},React.createElement("div",{ref:a,className:"ts-calendar-container ts-active"},React.createElement("input",{ref:c.inputRef,type:"hidden",readOnly:!0})))))}function $t(e,t){if(!e||!t)return;e.querySelectorAll(".pika-button").forEach(n=>{const p=n,a=p.dataset,d=parseInt(a.pikaYear??"0",10),r=parseInt(a.pikaMonth??"0",10),l=parseInt(a.pikaDay??"0",10);if(d&&l){const v=new Date(d,r,l),m=Pe(v,t);m>0&&p.setAttribute("title",F(m))}})}function Tt({field:e,value:t,onChange:o,initialAvailability:n,config:p}){const a=G(null),[d,r]=D(!1),[l,v]=D(!1),{l10n:m,quantity_per_slot:u=1}=e.props;$(()=>{l||n?.start&&(t.date||(v(!0),o({...t,date:n.start})))},[n,l,t,o]);const g=T(()=>Ne(e),[e]),f=T(()=>De(e),[e]),c=T(()=>Ie(e),[e]),s=T(()=>{if(!t.date)return[];const w=I(t.date);return xt(w,e)},[t.date,e]),y=k(w=>{const M=ae(w);o({...t,date:M,slot:null}),r(!0)},[t,o]),x=k(w=>{w.isAvailable&&(o({...t,slot:w.key}),r(!1))},[t,o]),h=k(()=>{$t(a.current,p??null)},[p]),R=he({onSelect:y,onDraw:h,minDate:g,maxDate:f,defaultDate:t.date?I(t.date):void 0,disableDayFn:c,container:a.current,bound:!1});$(()=>{t.date&&R.setDate(t.date)},[t.date]);const E=m?.select_date??"Select date",b=m?.select_timeslot??"Select time",S=m?.no_slots_available??"No time slots available",q=m?.amount_available??"@count available",O=t.date??E,z=T(()=>t.slot?s.find(M=>M.key===t.slot)?.label??t.slot:b,[t.slot,s,b]);return React.createElement("div",{className:"ts-form-group ts-booking-field ts-booking-timeslots"},React.createElement("div",{className:"ts-booking-date-section"},React.createElement("label",null,"Date"),React.createElement("div",{className:`ts-filter ts-popup-target${t.date?" ts-filled":""}`},React.createElement("span",{className:"ts-filter-text"},O),React.createElement("div",{className:"ts-down-icon"})),React.createElement("div",{className:"ts-booking-calendars"},React.createElement("div",{className:"ts-booking-calendar"},React.createElement("div",{ref:a,className:"ts-calendar-container ts-active"},React.createElement("input",{ref:R.inputRef,type:"hidden",readOnly:!0}))))),t.date&&React.createElement("div",{className:"ts-booking-slots-section"},React.createElement("label",null,"Time"),React.createElement("div",{className:`ts-filter ts-popup-target${t.slot?" ts-filled":""}`,onClick:()=>r(!d),role:"button",tabIndex:0,onKeyDown:w=>w.key==="Enter"&&r(!d)},React.createElement("span",{className:"ts-filter-text"},z),React.createElement("div",{className:"ts-down-icon"})),d&&React.createElement("div",{className:"ts-popup-list ts-timeslot-list"},s.length===0?React.createElement("div",{className:"ts-no-slots"},React.createElement("span",null,S)):React.createElement("ul",{className:"simplify-ul ts-form-options"},s.map(w=>React.createElement("li",{key:w.key,className:`ts-option${t.slot===w.key?" ts-selected":""}${w.isAvailable?"":" ts-unavailable"}`,onClick:()=>x(w),role:"option","aria-selected":t.slot===w.key,"aria-disabled":!w.isAvailable},React.createElement("span",{className:"ts-slot-time"},w.label),u>1&&React.createElement("span",{className:"ts-slot-availability"},w.isAvailable?q.replace("@count",String(w.available)):"Fully booked")))))))}function fe({field:e,value:t,onChange:o,config:n,initialAvailability:p}){switch(e.props.mode){case"date_range":return React.createElement(Ze,{field:e,value:t,onChange:o,initialAvailability:p,config:n});case"single_day":return React.createElement(Bt,{field:e,value:t,onChange:o,initialAvailability:p,config:n});case"timeslots":return React.createElement(Tt,{field:e,value:t,onChange:o,initialAvailability:p,config:n});default:return null}}fe.getPricingSummary=function(e,t,o){const{mode:n,count_mode:p="nights",l10n:a}=e.props,d=o?.props?.base_price;if(!d?.enabled)return null;const r=d.discount_amount??d.amount;let l=r,v=a?.booking_price??"Booking";if(n==="date_range"){if(!t.start_date||!t.end_date)return null;const m=ie(t.start_date,t.end_date,p);if(m<1)return null;l=r*m,v=_e(m,p,a)}else if(n==="single_day"){if(!t.date)return null}else if(n==="timeslots"&&(!t.date||!t.slot))return null;return{label:v,amount:l,hidden:l===0}};fe.isComplete=function(e,t){const{mode:o}=e.props;switch(o){case"date_range":return!!t.start_date&&!!t.end_date;case"single_day":return!!t.date;case"timeslots":return!!t.date&&!!t.slot;default:return!1}};fe.getSelectedRangeLength=function(e,t){return e.props.mode!=="date_range"?1:!t.start_date||!t.end_date?0:ie(t.start_date,t.end_date,e.props.count_mode??"nights")};function Oe(e){return e?.value?e.library==="line-awesome"||e.value.startsWith("la-")?React.createElement("i",{className:`las ${e.value}`}):React.createElement("i",{className:`las ${e.value}`}):null}function _t({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"text",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder,minLength:e.props.minlength,maxLength:e.props.maxlength})))}function Nt({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("textarea",{className:"ts-filter min-scroll",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder,minLength:e.props.minlength,maxLength:e.props.maxlength})))}function Dt({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"email",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder})))}function It({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"tel",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder})))}function Pt({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"url",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder})))}function qt({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"date",className:"ts-filter",value:t||"",onChange:n=>o(n.target.value),placeholder:e.props.placeholder,style:{display:"block"}})))}function Ft({dataInput:e,value:t,onChange:o}){return React.createElement("div",{className:"ts-form-group switcher-label"},React.createElement("label",null,React.createElement("div",{className:"switch-slider"},React.createElement("div",{className:"onoffswitch"},React.createElement("input",{type:"checkbox",className:"onoffswitch-checkbox",checked:t||!1,onChange:n=>o(n.target.checked)}),React.createElement("label",{className:"onoffswitch-label",onClick:n=>{n.preventDefault(),o(!t)}}))),e.label))}function Ot({dataInput:e,value:t,onChange:o,icons:n}){const{min:p=0,max:a=999999,display_mode:d="default"}=e.props,r=k(u=>u===null?null:u<p?p:u>a?a:u,[p,a]),l=k(()=>{const g=r((typeof t=="number"?t:p)+1);o(g)},[t,p,r,o]),v=k(()=>{const g=r((typeof t=="number"?t:p)-1);o(g)},[t,p,r,o]),m=k(u=>{const g=u.target.value===""?null:parseInt(u.target.value,10);o(r(g))},[r,o]);return d==="stepper"?React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-stepper-input flexify"},React.createElement("button",{className:`ts-stepper-left ts-icon-btn${(t??0)<=p?" vx-disabled":""}`,onClick:u=>{u.preventDefault(),v()},type:"button"},Oe(n?.minusIcon)||React.createElement("i",{className:"las la-minus"})),React.createElement("input",{type:"number",className:"ts-input-box",value:t??"",onChange:m,placeholder:e.props.placeholder}),React.createElement("button",{className:`ts-stepper-right ts-icon-btn${(t??0)>=a?" vx-disabled":""}`,onClick:u=>{u.preventDefault(),l()},type:"button"},Oe(n?.plusIcon)||React.createElement("i",{className:"las la-plus"})))):React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"input-container"},React.createElement("input",{type:"number",className:"ts-filter",value:t??"",onChange:m,placeholder:e.props.placeholder,min:p,max:a})))}function Ht({dataInput:e,value:t,onChange:o}){const{display_mode:n="default",choices:p={},placeholder:a,l10n:d}=e.props,r=T(()=>Object.values(p),[p]),l=k(m=>t===m.value,[t]),v=k(m=>{t===m.value?o(null):o(m.value)},[t,o]);return n==="buttons"?React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},r.map(m=>React.createElement("li",{key:m.value,className:`flexify${l(m)?" adb-selected":""}`,onClick:u=>{u.preventDefault(),v(m)}},m.label)))):n==="radio"?React.createElement("div",{className:"ts-form-group inline-terms-wrapper ts-inline-filter"},React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul ts-addition-list flexify"},r.map(m=>React.createElement("li",{key:m.value,className:`flexify${l(m)?" ts-checked":""}`},React.createElement("div",{className:"addition-body",onClick:u=>{u.preventDefault(),v(m)}},React.createElement("label",{className:"container-radio"},React.createElement("input",{type:"radio",value:m.value,checked:l(m),className:"onoffswitch-checkbox",disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"})),React.createElement("span",null,m.label)))))):React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("div",{className:"ts-filter"},React.createElement("select",{value:t??"",onChange:m=>o(m.target.value||null)},React.createElement("option",{value:""},a||d?.default_placeholder||"Select..."),r.map(m=>React.createElement("option",{key:m.value,value:m.value},m.label))),React.createElement("div",{className:"ts-down-icon"})))}function Vt({dataInput:e,value:t,onChange:o}){const{display_mode:n="default",choices:p={}}=e.props,a=T(()=>Object.values(p),[p]),d=k(l=>(t||[]).includes(l.value),[t]),r=k(l=>{const v=t||[];v.includes(l.value)?o(v.filter(m=>m!==l.value)):o([...v,l.value])},[t,o]);return n==="buttons"?React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul addon-buttons flexify"},a.map(l=>React.createElement("li",{key:l.value,className:`flexify${d(l)?" adb-selected":""}`,onClick:v=>{v.preventDefault(),r(l)}},l.label)))):React.createElement("div",{className:"ts-form-group ts-custom-additions"},React.createElement("label",null,e.label),React.createElement("ul",{className:"simplify-ul ts-addition-list flexify"},a.map(l=>React.createElement("li",{key:l.value,className:`flexify${d(l)?" ts-checked":""}`},React.createElement("div",{className:"addition-body",onClick:v=>{v.preventDefault(),r(l)}},React.createElement("label",{className:"container-checkbox"},React.createElement("input",{type:"checkbox",checked:d(l),className:"onoffswitch-checkbox",disabled:!0,hidden:!0,readOnly:!0}),React.createElement("span",{className:"checkmark"})),React.createElement("span",null,l.label))))))}function jt({field:e,values:t,onValueChange:o,icons:n}){const p=T(()=>Object.values(e.props.data_inputs||{}),[e.props.data_inputs]);return p.length?React.createElement(React.Fragment,null,p.map(a=>{const d=a.key,r=t[d];switch(a.type){case"text":return React.createElement(_t,{key:d,dataInput:a,value:r,onChange:l=>o(d,l)});case"textarea":return React.createElement(Nt,{key:d,dataInput:a,value:r,onChange:l=>o(d,l)});case"email":return React.createElement(Dt,{key:d,dataInput:a,value:r,onChange:l=>o(d,l)});case"phone":return React.createElement(It,{key:d,dataInput:a,value:r,onChange:l=>o(d,l)});case"url":return React.createElement(Pt,{key:d,dataInput:a,value:r,onChange:l=>o(d,l)});case"date":return React.createElement(qt,{key:d,dataInput:a,value:r,onChange:l=>o(d,l)});case"switcher":return React.createElement(Ft,{key:d,dataInput:a,value:r,onChange:l=>o(d,l)});case"number":return React.createElement(Ot,{key:d,dataInput:a,value:r,onChange:l=>o(d,l),icons:n});case"select":return React.createElement(Ht,{key:d,dataInput:a,value:r,onChange:l=>o(d,l)});case"multiselect":return React.createElement(Vt,{key:d,dataInput:a,value:r,onChange:l=>o(d,l)});default:return null}})):null}const Ue="voxel:guest_cart",Lt="voxel:direct_cart";function Ee(e,t){return`${window.Voxel_Config?.ajax_url??"/?vx=1"}&action=${e}&_wpnonce=${t}`}function Mt(){return window.Voxel_Config?.is_logged_in??!1}function zt(){return typeof localStorage>"u"?null:localStorage.getItem(Ue)}function Qt(e){typeof localStorage>"u"||localStorage.setItem(Ue,JSON.stringify(e))}function Gt(e,t){typeof localStorage>"u"||localStorage.setItem(Lt,JSON.stringify({[e]:t}))}function me(e,t="info",o,n){window.Voxel?.alert?window.Voxel.alert(e,t,o,n):console.log(`[${t.toUpperCase()}]`,e)}function Wt(e){const t=[];typeof document<"u"&&document.querySelector(".ts-popup-cart > a")&&t.push({label:e.view_cart??"View Cart",link:"#",onClick:o=>{o.preventDefault(),window.Voxel?.openCart&&window.Voxel.openCart(),o.target.closest(".ts-notice")?.querySelector(".close-alert")?.click()}}),me(e.added_to_cart??"Added to cart","success",t,4e3)}function Zt(e){window.jQuery&&window.jQuery(document).trigger("voxel:added_cart_item",e)}function He(e,t,o,n,p,a={}){const d=e.settings?.product_mode??"regular",r={post_id:0};return Object.keys(t).length>0&&(r.addons=t),d==="regular"?r.stock={quantity:o}:d==="variable"?r.variations=n:d==="booking"&&(r.booking=p),Object.keys(a).length>0&&(r.data_inputs=a),r}async function ke(e,t){if(window.jQuery?.post)return new Promise(n=>{window.jQuery.post(e,t).always(p=>{n(p)})});const o=new FormData;Object.entries(t).forEach(([n,p])=>{o.append(n,p)});try{return await(await fetch(e,{method:"POST",body:o})).json()}catch{return{success:!1,message:window.Voxel_Config?.l10n?.ajaxError??"Request failed"}}}function Ut(e){const{config:t,addonValues:o,quantity:n,variationsValue:p,bookingValue:a,dataInputValues:d}=e,[r,l]=D(!1),[v,m]=D(null),u=k(async()=>{if(!t)return m("Product configuration not available"),!1;l(!0),m(null);try{const f=t.settings?.cart_nonce??t.nonce,c=He(t,o,n,p,a,d),s={...t.value??{},...c};let y;if(Mt()){const x=Ee("products.add_to_cart",f);y=await ke(x,{item:JSON.stringify(s)})}else{const x=Ee("products.add_to_guest_cart",f);y=await ke(x,{item:JSON.stringify(s),guest_cart:zt()??""}),y.success&&y.guest_cart&&Qt(y.guest_cart)}if(y.success)return Zt(y.item),Wt({added_to_cart:t.l10n?.added_to_cart,view_cart:t.l10n?.view_cart}),!0;{const x=y.message??"Failed to add to cart";return m(x),me(x,"error"),!1}}catch(f){const c=f instanceof Error?f.message:"Failed to add to cart";return m(c),me(c,"error"),!1}finally{l(!1)}},[t,o,n,p,a,d]),g=k(async()=>{if(!t)return m("Product configuration not available"),!1;l(!0),m(null);try{const f=t.settings?.cart_nonce??t.nonce,c=He(t,o,n,p,a,d),s={...t.value??{},...c},y=Ee("products.get_direct_cart",f),x=await ke(y,{item:JSON.stringify(s)});if(x.success&&x.item&&x.checkout_link)return Gt(x.item.key,x.item.value),window.location.href=x.checkout_link,!0;{const h=x.message??"Failed to proceed to checkout";return m(h),me(h,"error"),!1}}catch(f){const c=f instanceof Error?f.message:"Failed to proceed to checkout";return m(c),me(c,"error"),!1}finally{l(!1)}},[t,o,n,p,a,d]);return{isProcessing:r,addToCart:u,directCheckout:g,error:v}}const Ve={active:!1,element:null,choice:null,addonKey:null};function Yt(e){const{config:t,addonValues:o,onAddonValueChange:n}=e,[p,a]=D(Ve),d=G([]),r=k(u=>{try{return JSON.parse(atob(u))}catch{return null}},[]),l=k((u,g,f,c)=>{const s=u.parentElement;s&&(g?(u.classList.add("active"),c?s.dataset.tooltip=c:delete s.dataset.tooltip):(u.classList.remove("active"),f?s.dataset.tooltip=f:delete s.dataset.tooltip))},[]),v=k(()=>{a(Ve)},[]),m=k(u=>{if(!p.active||!p.addonKey||!p.choice)return;const g=p.addonKey,f=p.choice.value,c=o[g];if(!c)return;const s=t?.props?.fields?.["form-addons"]?.props?.addons?.[g];if(s){if(s.type==="custom-multiselect"){const y=c.selected||[],x=y.findIndex(h=>h.item===f);if(x!==-1){const h=[...y];h[x]={...h[x],quantity:u},n(g,{...c,selected:h})}}else if(s.type==="custom-select"){const y=c.selected;y.item===f&&n(g,{...c,selected:{...y,quantity:u}})}v()}},[p,o,t,n,v]);return $(()=>{if(!t)return;d.current.forEach(f=>f()),d.current=[];const u=t.props?.fields?.["form-addons"]?.props?.addons;return u?(document.querySelectorAll(".ts-use-addition").forEach(f=>{const c=f.dataset.id;if(!c)return;const s=r(c);if(!s)return;const y=u[s.addon],x=y?.props?.choices?.[s.choice];if(!y||!x)return;const h=f.parentElement,R=h?.dataset.tooltipDefault||null,E=h?.dataset.tooltipActive||null;if(y._has_external_handler=!0,y.type==="custom-multiselect"){const b=O=>{O.preventDefault();const z=o[s.addon],w=z?.selected||[],M=w.findIndex(W=>W.item===s.choice);if(M===-1){const W=[...w,{item:s.choice,quantity:x.props?.quantity?.min??1}];n(s.addon,{...z,selected:W}),x.props?.quantity?.enabled&&a({active:!0,element:f,choice:x,addonKey:s.addon})}else{const W=w.filter((U,de)=>de!==M);n(s.addon,{...z,selected:W})}};f.addEventListener("click",b),d.current.push(()=>f.removeEventListener("click",b));const q=o[s.addon]?.selected?.some(O=>O.item===s.choice)??!1;l(f,q,R,E)}else if(y.type==="custom-select"){const b=O=>{O.preventDefault();const z=o[s.addon];z?.selected?.item!==s.choice?(n(s.addon,{...z,selected:{item:s.choice,quantity:x.props?.quantity?.min??1}}),x.props?.quantity?.enabled&&a({active:!0,element:f,choice:x,addonKey:s.addon})):n(s.addon,{...z,selected:{item:null,quantity:1}})};f.addEventListener("click",b),d.current.push(()=>f.removeEventListener("click",b));const q=o[s.addon]?.selected?.item===s.choice;l(f,q,R,E)}}),()=>{d.current.forEach(f=>f()),d.current=[]}):void 0},[t,r,l]),$(()=>{if(!t)return;const u=t.props?.fields?.["form-addons"]?.props?.addons;if(!u)return;document.querySelectorAll(".ts-use-addition").forEach(f=>{const c=f.dataset.id;if(!c)return;const s=r(c);if(!s)return;const y=u[s.addon];if(!y)return;const x=f.parentElement,h=x?.dataset.tooltipDefault||null,R=x?.dataset.tooltipActive||null;if(y.type==="custom-multiselect"){const b=o[s.addon]?.selected?.some(S=>S.item===s.choice)??!1;l(f,b,h,R)}else if(y.type==="custom-select"){const b=o[s.addon]?.selected?.item===s.choice;l(f,b,h,R)}})},[t,o,r,l]),{externalChoice:p,closeExternalChoice:v,updateExternalChoiceQuantity:m}}function je(e){return e?.value?e.library==="line-awesome"||e.value.startsWith("la-")?React.createElement("i",{className:`las ${e.value}`}):React.createElement("i",{className:`las ${e.value}`}):null}function Jt({active:e,element:t,choice:o,onClose:n,onConfirm:p,icons:a}){const d=G(null),[r,l]=D(1),v=o?.props?.quantity?.min??1,m=o?.props?.quantity?.max??999;$(()=>{e&&l(v)},[e,v]),$(()=>{if(!e||!t||!d.current)return;const c=d.current,s=t.getBoundingClientRect(),y=c.getBoundingClientRect();let x=s.bottom+window.scrollY+8,h=s.left+window.scrollX+s.width/2-y.width/2;const R=window.innerWidth,E=window.innerHeight;h<8&&(h=8),h+y.width>R-8&&(h=R-y.width-8),s.bottom+y.height+16>E&&(x=s.top+window.scrollY-y.height-8),c.style.top=`${x}px`,c.style.left=`${h}px`},[e,t]),$(()=>{if(!e)return;const c=y=>{d.current&&!d.current.contains(y.target)&&n()},s=setTimeout(()=>{document.addEventListener("click",c)},100);return()=>{clearTimeout(s),document.removeEventListener("click",c)}},[e,n]),$(()=>{if(!e)return;const c=s=>{s.key==="Escape"&&n()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[e,n]);const u=k(()=>{l(c=>Math.min(c+1,m))},[m]),g=k(()=>{l(c=>Math.max(c-1,v))},[v]),f=k(()=>{p(r)},[r,p]);return!e||!o?null:React.createElement("div",{ref:d,className:"ts-popup ts-external-choice-popup",style:{position:"absolute",zIndex:9999}},React.createElement("div",{className:"ts-popup-content"},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,o.label," - Quantity"),React.createElement("div",{className:"ts-stepper-input flexify"},React.createElement("button",{className:`ts-stepper-left ts-icon-btn${r<=v?" vx-disabled":""}`,onClick:c=>{c.preventDefault(),c.stopPropagation(),g()},type:"button",disabled:r<=v},je(a?.minusIcon)||React.createElement("i",{className:"las la-minus"})),React.createElement("input",{type:"number",className:"ts-input-box",value:r,onChange:c=>{const s=parseInt(c.target.value,10);isNaN(s)||l(Math.max(v,Math.min(s,m)))},min:v,max:m}),React.createElement("button",{className:`ts-stepper-right ts-icon-btn${r>=m?" vx-disabled":""}`,onClick:c=>{c.preventDefault(),c.stopPropagation(),u()},type:"button",disabled:r>=m},je(a?.plusIcon)||React.createElement("i",{className:"las la-plus"})))),React.createElement("div",{className:"ts-form-group ts-popup-actions flexify"},React.createElement("a",{href:"#",className:"ts-btn ts-btn-1",onClick:c=>{c.preventDefault(),n()}},"Cancel"),React.createElement("a",{href:"#",className:"ts-btn ts-btn-2",onClick:c=>{c.preventDefault(),f()}},"Confirm"))))}function ve(e,t){return e?.value?e.library==="line-awesome"||e.value.startsWith("la-")?React.createElement("i",{className:`las ${e.value} `}):e.library==="fa-solid"||e.library==="fa-regular"?React.createElement("i",{className:`${e.library==="fa-solid"?"fas":"far"} fa-${e.value} `}):React.createElement("i",{className:`las ${e.value} `}):null}function Kt(){return React.createElement("div",{className:"ts-product-main vx-loading-screen"},React.createElement(nt,null))}function Xt({message:e,icon:t}){return React.createElement("div",{className:"ts-product-main"},React.createElement("div",{className:"ts-form-group ts-no-posts"},ve(t),React.createElement("p",null,e)))}function At({attributes:e}){const t=e.icons||Z;return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify({blockId:e.blockId,settings:{showPriceCalculator:e.showPriceCalculator,showSubtotalOnly:e.showSubtotalOnly,hideCardSubheading:e.hideCardSubheading,cardSelectOnClick:e.cardSelectOnClick},icons:{...Z,...e.icons}})}}),React.createElement("div",{className:"ts-product-main"},React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,"Product Options"),React.createElement("div",{className:"ts-filter ts-popup-target"},React.createElement("span",{className:"ts-filter-text"},"Select an option"),React.createElement("div",{className:"ts-down-icon"}))),React.createElement("div",{className:"ts-form-group"},React.createElement("label",null,"Add-ons"),React.createElement("ul",{className:"addon-cards simplify-ul flexify"},React.createElement("li",null,React.createElement("div",{className:"adc-title"},"Sample Add-on"),React.createElement("div",{className:"adc-subtitle"},"Description"),React.createElement("span",{className:"vx-addon-price"},"+$10.00")),React.createElement("li",{className:"adc-selected"},React.createElement("div",{className:"adc-title"},"Selected Add-on"),React.createElement("div",{className:"adc-subtitle"},"Description"),React.createElement("span",{className:"vx-addon-price"},"+$15.00")))),React.createElement("div",{className:"ts-form-group product-actions"},React.createElement("a",{href:"#",className:"ts-btn form-btn ts-btn-2"},ve(t.addToCart),React.createElement("span",null,"Add to cart"))),e.showPriceCalculator==="show"&&React.createElement("div",{className:"ts-form-group tcc-container"},React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify"},React.createElement("li",null,React.createElement("p",{className:"ts-item-name"},"Base price"),React.createElement("p",{className:"ts-item-price"},"$50.00")),React.createElement("li",null,React.createElement("p",{className:"ts-item-name"},"Add-on: Selected"),React.createElement("p",{className:"ts-item-price"},"$15.00")),React.createElement("li",{className:"ts-total"},React.createElement("p",{className:"ts-item-name"},"Total"),React.createElement("p",{className:"ts-item-price"},"$65.00"))))))}function eo({summary:e,showSubtotalOnly:t}){if(!e.visible_items.length)return null;const o=t?e.visible_items.filter(n=>n.key==="total"):e.visible_items;return React.createElement("div",{className:"ts-form-group tcc-container"},React.createElement("ul",{className:"ts-cost-calculator simplify-ul flexify"},o.map(n=>React.createElement("li",{key:n.key,className:n.key==="total"?"ts-total":""},React.createElement("p",{className:"ts-item-name"},n.label),React.createElement("p",{className:"ts-item-price"},n.formatted_price)))))}function to({attributes:e,context:t,config:o,productConfig:n}){const[p,a]=D({}),[d,r]=D(1),[l,v]=D({variation_id:null,quantity:1}),[m,u]=D(lt),[g,f]=D({}),[c,s]=D(t==="frontend");$(()=>{const P="voxel-product-form-css";if(!document.getElementById(P)){const Q=document.createElement("link");Q.id=P,Q.rel="stylesheet";const le=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");Q.href=`${le}/wp-content/themes/voxel/assets/dist/product-form.css?ver=1.7.5.2`,document.head.appendChild(Q)}},[]);const{isProcessing:y,addToCart:x,directCheckout:h}=Ut({config:n??null,addonValues:p,quantity:d,variationsValue:l,bookingValue:m,dataInputValues:g}),R=G(null),E=n?.props?.fields?.["form-quantity"],b=E?.props?.quantity??999,S=T(()=>{const P=n?.props?.fields?.["form-booking"];if(!P||P.props?.mode!=="date_range"||!m.start_date||!m.end_date)return 0;const Q=new Date(m.start_date+"T00:00:00Z"),le=new Date(m.end_date+"T00:00:00Z").getTime()-Q.getTime(),ye=Math.ceil(le/(1e3*60*60*24));return(P.props?.count_mode??"nights")==="nights"?ye:ye+1},[n,m.start_date,m.end_date]),q=k(()=>R.current?.getPricingSummary()??null,[]),O=k(()=>{const P=n?.props?.fields?.["form-variations"];return P?Te.getPricingSummary(P,l):null},[n,l]),{summary:z}=bt({config:n??null,quantity:d,bookingValue:m,getAddonsPricingSummary:q,getVariationsPricingSummary:O}),w=k((P,Q)=>{a(oe=>({...oe,[P]:Q}))},[]),M=k((P,Q)=>{f(oe=>({...oe,[P]:Q}))},[]),{externalChoice:W,closeExternalChoice:U,updateExternalChoiceQuantity:de}=Yt({config:n??null,addonValues:p,onAddonValueChange:w}),J=o?.icons||e.icons||Z,re=o?.settings||{showPriceCalculator:e.showPriceCalculator,showSubtotalOnly:e.showSubtotalOnly,hideCardSubheading:e.hideCardSubheading,cardSelectOnClick:e.cardSelectOnClick};if(t==="editor")return React.createElement(At,{attributes:e});if(c&&!n)return React.createElement(Kt,null);if(!n||!n.is_purchasable)return React.createElement(Xt,{message:n?.out_of_stock_message||"This product is not available",icon:J.outOfStock});const pe=n?.settings?.product_mode??"regular",B=!!n?.props?.fields?.["form-addons"],N=!!E,ee=!!n?.props?.fields?.["form-variations"],Y=!!n?.props?.fields?.["form-booking"],te=!!n?.props?.fields?.["form-data-inputs"];return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify({blockId:e.blockId||o?.blockId,settings:re,icons:J})}}),React.createElement("div",{className:"ts-product-main"},B&&n&&React.createElement(dt,{ref:R,config:n,values:p,onValueChange:w,bookingValue:m,bookingRangeLength:S,searchContext:n.settings?.search_context}),ee&&pe==="variable"&&n?.props?.fields?.["form-variations"]&&React.createElement(Te,{field:n.props.fields["form-variations"],value:l,onChange:v}),Y&&pe==="booking"&&n?.props?.fields?.["form-booking"]&&React.createElement(fe,{field:n.props.fields["form-booking"],value:m,onChange:u,config:n,initialAvailability:n.settings?.search_context?.availability}),N&&pe==="regular"&&React.createElement(pt,{maxQuantity:b,value:d,onChange:r,label:n?.l10n?.quantity??"Quantity"}),te&&n?.props?.fields?.["form-data-inputs"]&&React.createElement(jt,{field:n.props.fields["form-data-inputs"],values:g,onValueChange:M,icons:J}),React.createElement("div",{className:"ts-form-group product-actions"},n.cart.enabled?React.createElement("a",{href:"#",className:`ts-btn form-btn ts-btn-2 ${y?"ts-loading-btn":""}`,onClick:P=>{P.preventDefault(),y||x()}},y?React.createElement("span",{className:"ts-loader"}):React.createElement(React.Fragment,null,ve(J.addToCart),React.createElement("span",null,"Add to cart"))):React.createElement("a",{href:"#",className:`ts-btn form-btn ts-btn-2 ${y?"ts-loading-btn":""}`,onClick:P=>{P.preventDefault(),y||h()}},y?React.createElement("span",{className:"ts-loader"}):React.createElement(React.Fragment,null,ve(J.checkout),React.createElement("span",null,"Continue")))),re.showPriceCalculator==="show"&&React.createElement(eo,{summary:z,showSubtotalOnly:re.showSubtotalOnly})),React.createElement(Jt,{active:W.active,element:W.element,choice:W.choice,onClose:U,onConfirm:de,icons:J}))}function se(e){if(!e?.borderType||e.borderType==="none")return"";const t=e.borderWidth||{},o=parseFloat(String(t.top))||0,n=parseFloat(String(t.right))||0,p=parseFloat(String(t.bottom))||0,a=parseFloat(String(t.left))||0,d=e.borderColor||"#000000";return`border-style: ${e.borderType}; border-width: ${o}px ${n}px ${p}px ${a}px; border-color: ${d};`}function A(e){if(!e||!e.enable)return"";const{horizontal:t=0,vertical:o=0,blur:n=0,spread:p=0,color:a="rgba(0,0,0,0.1)",position:d="outline"}=e;return`box-shadow: ${d==="inset"?"inset ":""}${t}px ${o}px ${n}px ${p}px ${a};`}function j(e){if(!e)return"";let t="";return e.fontFamily&&(t+=`font-family: ${e.fontFamily}; `),e.fontSize&&(t+=`font-size: ${e.fontSize}${e.fontSizeUnit||"px"}; `),e.fontWeight&&(t+=`font-weight: ${e.fontWeight}; `),e.fontStyle&&(t+=`font-style: ${e.fontStyle}; `),e.textTransform&&(t+=`text-transform: ${e.textTransform}; `),e.textDecoration&&(t+=`text-decoration: ${e.textDecoration}; `),e.lineHeight&&(t+=`line-height: ${e.lineHeight}${e.lineHeightUnit||""}; `),e.letterSpacing&&(t+=`letter-spacing: ${e.letterSpacing}${e.letterSpacingUnit||"px"}; `),t}function Ye(e,t){const o=[],n=[],p=[],a=`.voxel-fse-product-form-${t}`;if(e.fieldSpacing!==void 0&&o.push(`${a} .ts-form-group { margin-bottom: ${e.fieldSpacing}px; }`),e.fieldSpacingTablet!==void 0&&n.push(`${a} .ts-form-group { margin-bottom: ${e.fieldSpacingTablet}px; }`),e.fieldSpacingMobile!==void 0&&p.push(`${a} .ts-form-group { margin-bottom: ${e.fieldSpacingMobile}px; }`),e.fieldLabelTypography){const r=j(e.fieldLabelTypography);r&&o.push(`${a} .ts-form label { ${r} }`)}if(e.fieldLabelColor&&o.push(`${a} .ts-form label { color: ${e.fieldLabelColor}; }`),e.primaryButtonTypography){const r=j(e.primaryButtonTypography);r&&o.push(`${a} .ts-btn.form-btn { ${r} }`)}if(e.primaryButtonBorder){const r=se(e.primaryButtonBorder);r&&o.push(`${a} .ts-btn.form-btn { ${r} }`)}if(e.primaryButtonBorderRadius!==void 0&&o.push(`${a} .ts-btn.form-btn { border-radius: ${e.primaryButtonBorderRadius}px; }`),e.primaryButtonBoxShadow){const r=A(e.primaryButtonBoxShadow);r&&o.push(`${a} .ts-btn.form-btn { ${r} }`)}if(e.primaryButtonTextColor&&(o.push(`${a} .ts-btn.form-btn { color: ${e.primaryButtonTextColor}; }`),o.push(`${a} .ts-btn.form-btn svg { fill: ${e.primaryButtonTextColor}; }`)),e.primaryButtonBackground&&o.push(`${a} .ts-btn.form-btn { background-color: ${e.primaryButtonBackground}; }`),e.primaryButtonIconSize!==void 0&&(o.push(`${a} .ts-btn.form-btn i { font-size: ${e.primaryButtonIconSize}px; }`),o.push(`${a} .ts-btn.form-btn svg { width: ${e.primaryButtonIconSize}px; height: ${e.primaryButtonIconSize}px; }`)),e.primaryButtonIconColor&&(o.push(`${a} .ts-btn.form-btn i { color: ${e.primaryButtonIconColor}; }`),o.push(`${a} .ts-btn.form-btn svg { fill: ${e.primaryButtonIconColor}; }`)),e.primaryButtonIconTextSpacing!==void 0&&(o.push(`${a} .ts-btn.form-btn i { margin-right: ${e.primaryButtonIconTextSpacing}px; }`),o.push(`${a} .ts-btn.form-btn svg { margin-right: ${e.primaryButtonIconTextSpacing}px; }`)),e.primaryButtonTextColorHover&&(o.push(`${a} .ts-btn.form-btn:hover { color: ${e.primaryButtonTextColorHover}; }`),o.push(`${a} .ts-btn.form-btn:hover svg { fill: ${e.primaryButtonTextColorHover}; }`)),e.primaryButtonBackgroundHover&&o.push(`${a} .ts-btn.form-btn:hover { background-color: ${e.primaryButtonBackgroundHover}; }`),e.primaryButtonBorderColorHover&&o.push(`${a} .ts-btn.form-btn:hover { border-color: ${e.primaryButtonBorderColorHover}; }`),e.primaryButtonBoxShadowHover){const r=A(e.primaryButtonBoxShadowHover);r&&o.push(`${a} .ts-btn.form-btn:hover { ${r} }`)}if(e.primaryButtonIconColorHover&&(o.push(`${a} .ts-btn.form-btn:hover i { color: ${e.primaryButtonIconColorHover}; }`),o.push(`${a} .ts-btn.form-btn:hover svg { fill: ${e.primaryButtonIconColorHover}; }`)),e.priceCalculatorListSpacing!==void 0&&o.push(`${a} .ts-cost-calculator li { margin-bottom: ${e.priceCalculatorListSpacing}px; }`),e.priceCalculatorTypography){const r=j(e.priceCalculatorTypography);r&&o.push(`${a} .ts-cost-calculator { ${r} }`)}if(e.priceCalculatorTextColor&&o.push(`${a} .ts-cost-calculator { color: ${e.priceCalculatorTextColor}; }`),e.priceCalculatorTotalTypography){const r=j(e.priceCalculatorTotalTypography);r&&o.push(`${a} .ts-cost-calculator .ts-total { ${r} }`)}if(e.priceCalculatorTotalTextColor&&o.push(`${a} .ts-cost-calculator .ts-total { color: ${e.priceCalculatorTotalTextColor}; }`),e.loadingColor1&&o.push(`${a} .ts-loader::before { border-top-color: ${e.loadingColor1}; }`),e.loadingColor2&&o.push(`${a} .ts-loader::before { border-bottom-color: ${e.loadingColor2}; }`),e.outOfStockContentGap!==void 0&&o.push(`${a} .ts-no-posts { gap: ${e.outOfStockContentGap}px; }`),e.outOfStockIconSize!==void 0&&(o.push(`${a} .ts-no-posts i { font-size: ${e.outOfStockIconSize}px; }`),o.push(`${a} .ts-no-posts svg { width: ${e.outOfStockIconSize}px; height: ${e.outOfStockIconSize}px; }`)),e.outOfStockIconColor&&(o.push(`${a} .ts-no-posts i { color: ${e.outOfStockIconColor}; }`),o.push(`${a} .ts-no-posts svg { fill: ${e.outOfStockIconColor}; }`)),e.outOfStockTypography){const r=j(e.outOfStockTypography);r&&o.push(`${a} .ts-no-posts p { ${r} }`)}if(e.outOfStockTextColor&&o.push(`${a} .ts-no-posts p { color: ${e.outOfStockTextColor}; }`),e.stepperInputSize!==void 0&&o.push(`${a} .pf-number-input .ts-stepper-number { font-size: ${e.stepperInputSize}px; }`),e.stepperButtonIconColor&&(o.push(`${a} .pf-number-input .ts-icon-btn i { color: ${e.stepperButtonIconColor}; }`),o.push(`${a} .pf-number-input .ts-icon-btn svg { fill: ${e.stepperButtonIconColor}; }`)),e.stepperButtonBackground&&o.push(`${a} .pf-number-input .ts-icon-btn { background-color: ${e.stepperButtonBackground}; }`),e.stepperButtonBorder){const r=se(e.stepperButtonBorder);r&&o.push(`${a} .pf-number-input .ts-icon-btn { ${r} }`)}if(e.stepperButtonBorderRadius!==void 0&&o.push(`${a} .pf-number-input .ts-icon-btn { border-radius: ${e.stepperButtonBorderRadius}px; }`),e.stepperButtonIconColorHover&&(o.push(`${a} .pf-number-input .ts-icon-btn:hover i { color: ${e.stepperButtonIconColorHover}; }`),o.push(`${a} .pf-number-input .ts-icon-btn:hover svg { fill: ${e.stepperButtonIconColorHover}; }`)),e.stepperButtonBackgroundHover&&o.push(`${a} .pf-number-input .ts-icon-btn:hover { background-color: ${e.stepperButtonBackgroundHover}; }`),e.stepperButtonBorderColorHover&&o.push(`${a} .pf-number-input .ts-icon-btn:hover { border-color: ${e.stepperButtonBorderColorHover}; }`),e.cardsGap!==void 0&&o.push(`${a} .pf-card-choices { gap: ${e.cardsGap}px; }`),e.cardsBackground&&o.push(`${a} .pf-card-choice { background-color: ${e.cardsBackground}; }`),e.cardsBorder){const r=se(e.cardsBorder);r&&o.push(`${a} .pf-card-choice { ${r} }`)}if(e.cardsBorderRadius!==void 0&&o.push(`${a} .pf-card-choice { border-radius: ${e.cardsBorderRadius}px; }`),e.cardsPrimaryTypography){const r=j(e.cardsPrimaryTypography);r&&o.push(`${a} .pf-card-choice .pf-cc-title { ${r} }`)}if(e.cardsPrimaryColor&&o.push(`${a} .pf-card-choice .pf-cc-title { color: ${e.cardsPrimaryColor}; }`),e.cardsSecondaryTypography){const r=j(e.cardsSecondaryTypography);r&&o.push(`${a} .pf-card-choice .pf-cc-description { ${r} }`)}if(e.cardsSecondaryColor&&o.push(`${a} .pf-card-choice .pf-cc-description { color: ${e.cardsSecondaryColor}; }`),e.cardsPriceTypography){const r=j(e.cardsPriceTypography);r&&o.push(`${a} .pf-card-choice .pf-cc-price { ${r} }`)}if(e.cardsPriceColor&&o.push(`${a} .pf-card-choice .pf-cc-price { color: ${e.cardsPriceColor}; }`),e.cardsImageBorderRadius!==void 0&&o.push(`${a} .pf-card-choice .pf-cc-image { border-radius: ${e.cardsImageBorderRadius}px; }`),e.cardsImageSize!==void 0&&o.push(`${a} .pf-card-choice .pf-cc-image { width: ${e.cardsImageSize}px; height: ${e.cardsImageSize}px; }`),e.cardsSelectedBackground&&o.push(`${a} .pf-card-choice.pf-selected { background-color: ${e.cardsSelectedBackground}; }`),e.cardsSelectedBorderColor&&o.push(`${a} .pf-card-choice.pf-selected { border-color: ${e.cardsSelectedBorderColor}; }`),e.cardsSelectedBoxShadow){const r=A(e.cardsSelectedBoxShadow);r&&o.push(`${a} .pf-card-choice.pf-selected { ${r} }`)}if(e.cardsSelectedPrimaryTypography){const r=j(e.cardsSelectedPrimaryTypography);r&&o.push(`${a} .pf-card-choice.pf-selected .pf-cc-title { ${r} }`)}if(e.buttonsGap!==void 0&&o.push(`${a} .pf-btn-choices { gap: ${e.buttonsGap}px; }`),e.buttonsBackground&&o.push(`${a} .pf-btn-choice { background-color: ${e.buttonsBackground}; }`),e.buttonsBorder){const r=se(e.buttonsBorder);r&&o.push(`${a} .pf-btn-choice { ${r} }`)}if(e.buttonsBorderRadius!==void 0&&o.push(`${a} .pf-btn-choice { border-radius: ${e.buttonsBorderRadius}px; }`),e.buttonsTextTypography){const r=j(e.buttonsTextTypography);r&&o.push(`${a} .pf-btn-choice { ${r} }`)}if(e.buttonsTextColor&&o.push(`${a} .pf-btn-choice { color: ${e.buttonsTextColor}; }`),e.buttonsSelectedBackground&&o.push(`${a} .pf-btn-choice.pf-selected { background-color: ${e.buttonsSelectedBackground}; }`),e.buttonsSelectedBorderColor&&o.push(`${a} .pf-btn-choice.pf-selected { border-color: ${e.buttonsSelectedBorderColor}; }`),e.buttonsSelectedBoxShadow){const r=A(e.buttonsSelectedBoxShadow);r&&o.push(`${a} .pf-btn-choice.pf-selected { ${r} }`)}if(e.dropdownTypography){const r=j(e.dropdownTypography);r&&o.push(`${a} .pf-select { ${r} }`)}if(e.dropdownBoxShadow){const r=A(e.dropdownBoxShadow);r&&o.push(`${a} .pf-select { ${r} }`)}if(e.dropdownBackground&&o.push(`${a} .pf-select { background-color: ${e.dropdownBackground}; }`),e.dropdownTextColor&&o.push(`${a} .pf-select { color: ${e.dropdownTextColor}; }`),e.dropdownBorder){const r=se(e.dropdownBorder);r&&o.push(`${a} .pf-select { ${r} }`)}if(e.dropdownBorderRadius!==void 0&&o.push(`${a} .pf-select { border-radius: ${e.dropdownBorderRadius}px; }`),e.dropdownIconColor&&(o.push(`${a} .pf-select i { color: ${e.dropdownIconColor}; }`),o.push(`${a} .pf-select svg { fill: ${e.dropdownIconColor}; }`)),e.dropdownIconSize!==void 0&&(o.push(`${a} .pf-select i { font-size: ${e.dropdownIconSize}px; }`),o.push(`${a} .pf-select svg { width: ${e.dropdownIconSize}px; height: ${e.dropdownIconSize}px; }`)),e.dropdownIconTextSpacing!==void 0&&(o.push(`${a} .pf-select i { margin-right: ${e.dropdownIconTextSpacing}px; }`),o.push(`${a} .pf-select svg { margin-right: ${e.dropdownIconTextSpacing}px; }`)),e.dropdownHideChevron&&o.push(`${a} .pf-select .ts-down-icon { display: none; }`),e.dropdownChevronColor&&(o.push(`${a} .pf-select .ts-down-icon { color: ${e.dropdownChevronColor}; }`),o.push(`${a} .pf-select .ts-down-icon svg { fill: ${e.dropdownChevronColor}; }`)),e.dropdownBackgroundHover&&o.push(`${a} .pf-select:hover { background-color: ${e.dropdownBackgroundHover}; }`),e.dropdownTextColorHover&&o.push(`${a} .pf-select:hover { color: ${e.dropdownTextColorHover}; }`),e.dropdownBorderColorHover&&o.push(`${a} .pf-select:hover { border-color: ${e.dropdownBorderColorHover}; }`),e.dropdownIconColorHover&&(o.push(`${a} .pf-select:hover i { color: ${e.dropdownIconColorHover}; }`),o.push(`${a} .pf-select:hover svg { fill: ${e.dropdownIconColorHover}; }`)),e.dropdownBoxShadowHover){const r=A(e.dropdownBoxShadowHover);r&&o.push(`${a} .pf-select:hover { ${r} }`)}if(e.dropdownFilledTypography){const r=j(e.dropdownFilledTypography);r&&o.push(`${a} .pf-select.pf-filled { ${r} }`)}if(e.dropdownFilledBackground&&o.push(`${a} .pf-select.pf-filled { background-color: ${e.dropdownFilledBackground}; }`),e.dropdownFilledTextColor&&o.push(`${a} .pf-select.pf-filled { color: ${e.dropdownFilledTextColor}; }`),e.dropdownFilledIconColor&&(o.push(`${a} .pf-select.pf-filled i { color: ${e.dropdownFilledIconColor}; }`),o.push(`${a} .pf-select.pf-filled svg { fill: ${e.dropdownFilledIconColor}; }`)),e.dropdownFilledBorderColor&&o.push(`${a} .pf-select.pf-filled { border-color: ${e.dropdownFilledBorderColor}; }`),e.dropdownFilledBorderWidth!==void 0&&o.push(`${a} .pf-select.pf-filled { border-width: ${e.dropdownFilledBorderWidth}px; }`),e.dropdownFilledBoxShadow){const r=A(e.dropdownFilledBoxShadow);r&&o.push(`${a} .pf-select.pf-filled { ${r} }`)}if(e.radioCheckboxBorderColor&&o.push(`${a} .pf-radio-choice, ${a} .pf-checkbox-choice { border-color: ${e.radioCheckboxBorderColor}; }`),e.radioCheckboxTextTypography){const r=j(e.radioCheckboxTextTypography);r&&o.push(`${a} .pf-radio-choice, ${a} .pf-checkbox-choice { ${r} }`)}if(e.radioCheckboxTextColor&&o.push(`${a} .pf-radio-choice, ${a} .pf-checkbox-choice { color: ${e.radioCheckboxTextColor}; }`),e.radioCheckboxSelectedBackground&&o.push(`${a} .pf-radio-choice.pf-selected, ${a} .pf-checkbox-choice.pf-selected { background-color: ${e.radioCheckboxSelectedBackground}; }`),e.radioCheckboxSelectedTextTypography){const r=j(e.radioCheckboxSelectedTextTypography);r&&o.push(`${a} .pf-radio-choice.pf-selected, ${a} .pf-checkbox-choice.pf-selected { ${r} }`)}if(e.radioCheckboxSelectedTextColor&&o.push(`${a} .pf-radio-choice.pf-selected, ${a} .pf-checkbox-choice.pf-selected { color: ${e.radioCheckboxSelectedTextColor}; }`),e.radioCheckboxSelectedBoxShadow){const r=A(e.radioCheckboxSelectedBoxShadow);r&&o.push(`${a} .pf-radio-choice.pf-selected, ${a} .pf-checkbox-choice.pf-selected { ${r} }`)}if(e.switcherBackgroundInactive&&o.push(`${a} .pf-switcher .ts-switcher { background-color: ${e.switcherBackgroundInactive}; }`),e.switcherBackgroundActive&&o.push(`${a} .pf-switcher input:checked + .ts-switcher { background-color: ${e.switcherBackgroundActive}; }`),e.switcherHandleBackground&&o.push(`${a} .pf-switcher .ts-switcher:before { background-color: ${e.switcherHandleBackground}; }`),e.imagesGap!==void 0&&o.push(`${a} .pf-image-choices { gap: ${e.imagesGap}px; }`),e.imagesBorderRadius!==void 0&&o.push(`${a} .pf-image-choice { border-radius: ${e.imagesBorderRadius}px; }`),e.imagesSelectedBorderColor&&o.push(`${a} .pf-image-choice.pf-selected { border-color: ${e.imagesSelectedBorderColor}; }`),e.colorsGap!==void 0&&o.push(`${a} .pf-color-choices { gap: ${e.colorsGap}px; }`),e.colorsSize!==void 0&&o.push(`${a} .pf-color-choice { width: ${e.colorsSize}px; height: ${e.colorsSize}px; }`),e.colorsBorderRadius!==void 0&&o.push(`${a} .pf-color-choice { border-radius: ${e.colorsBorderRadius}px; }`),e.colorsInsetColor&&o.push(`${a} .pf-color-choice { box-shadow: inset 0 0 0 2px ${e.colorsInsetColor}; }`),e.inputPlaceholderColor&&o.push(`${a} input.pf-input::placeholder, ${a} textarea.pf-input::placeholder { color: ${e.inputPlaceholderColor}; }`),e.inputPlaceholderTypography){const r=j(e.inputPlaceholderTypography);r&&o.push(`${a} input.pf-input::placeholder, ${a} textarea.pf-input::placeholder { ${r} }`)}if(e.inputValueColor&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { color: ${e.inputValueColor}; }`),e.inputValueTypography){const r=j(e.inputValueTypography);r&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { ${r} }`)}if(e.inputBackground&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { background-color: ${e.inputBackground}; }`),e.inputBorder){const r=se(e.inputBorder);r&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { ${r} }`)}e.inputBorderRadius!==void 0&&o.push(`${a} input.pf-input, ${a} textarea.pf-input { border-radius: ${e.inputBorderRadius}px; }`),e.inputBackgroundHover&&o.push(`${a} input.pf-input:hover, ${a} textarea.pf-input:hover { background-color: ${e.inputBackgroundHover}; }`),e.inputBorderColorHover&&o.push(`${a} input.pf-input:hover, ${a} textarea.pf-input:hover { border-color: ${e.inputBorderColorHover}; }`),e.inputPlaceholderColorHover&&o.push(`${a} input.pf-input:hover::placeholder, ${a} textarea.pf-input:hover::placeholder { color: ${e.inputPlaceholderColorHover}; }`),e.inputTextColorHover&&o.push(`${a} input.pf-input:hover, ${a} textarea.pf-input:hover { color: ${e.inputTextColorHover}; }`),e.inputBackgroundActive&&o.push(`${a} input.pf-input:focus, ${a} textarea.pf-input:focus { background-color: ${e.inputBackgroundActive}; }`),e.inputBorderColorActive&&o.push(`${a} input.pf-input:focus, ${a} textarea.pf-input:focus { border-color: ${e.inputBorderColorActive}; }`),e.inputTextColorActive&&o.push(`${a} input.pf-input:focus, ${a} textarea.pf-input:focus { color: ${e.inputTextColorActive}; }`);let d="";return o.length>0&&(d+=o.join(`
`)),n.length>0&&(d+=`
@media (max-width: 1024px) {
${n.join(`
`)}
}`),p.length>0&&(d+=`
@media (max-width: 767px) {
${p.join(`
`)}
}`),d}function oo({attributes:e,setAttributes:t,clientId:o}){const n=e.blockId||o;$(()=>{e.blockId||t({blockId:o})},[e.blockId,o,t]),$(()=>{const l="voxel-product-form-css";if(!document.getElementById(l)){const v=document.createElement("link");v.id=l,v.rel="stylesheet";const u=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");v.href=`${u}/wp-content/themes/voxel/assets/dist/product-form.css?ver=1.7.5.2`,document.head.appendChild(v)}},[]);const p=Qe(e,{blockId:n,baseClass:"ts-form ts-product-form voxel-fse-product-form",selectorPrefix:"voxel-fse-product-form"}),a=T(()=>Ye(e,n),[e,n]),d=T(()=>[p.responsiveCSS,a].filter(Boolean).join(`
`),[p.responsiveCSS,a]),r=Me({id:p.elementId,className:p.className,style:p.styles,...p.customAttrs});return React.createElement(React.Fragment,null,React.createElement(Ke,null,React.createElement(tt,{tabs:[{id:"content",label:i("Content","voxel-fse"),icon:"",render:()=>React.createElement(ct,{attributes:e,setAttributes:t})},{id:"style",label:i("Style","voxel-fse"),icon:"",render:()=>React.createElement(st,{attributes:e,setAttributes:t})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:t})),React.createElement("div",{...r},d&&React.createElement("style",{dangerouslySetInnerHTML:{__html:d}}),React.createElement(to,{attributes:e,context:"editor"})))}function no({attributes:e}){const t=e.blockId||"product-form",o=Qe(e,{blockId:t,baseClass:"ts-form ts-product-form voxel-fse-product-form"}),n=Ye(e,t),p=[o.responsiveCSS,n].filter(Boolean).join(`
`),a=Me.save({id:o.elementId,className:o.className,style:o.styles,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...o.customAttrs}),d={blockId:e.blockId,settings:{showPriceCalculator:e.showPriceCalculator,showSubtotalOnly:e.showSubtotalOnly,hideCardSubheading:e.hideCardSubheading,cardSelectOnClick:e.cardSelectOnClick},icons:{...Z,...e.icons}};return React.createElement("div",{...a},p&&React.createElement("style",{dangerouslySetInnerHTML:{__html:p}}),at(e,!1,void 0,void 0,o.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),React.createElement("div",{className:"ts-product-main vx-loading-screen"},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{className:"ts-loader"}))))}const ao="https://schemas.wp.org/trunk/block.json",ro=3,lo="voxel-fse/product-form",co="1.0.0",so="Product Form (VX)",io="voxel-fse",po="A product purchase form with dynamic fields, cart integration, and price calculator. Must be placed on a single post template with a product field.",uo=["product","form","cart","checkout","purchase","voxel"],mo="voxel-fse",fo={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},yo="file:./index.js",go="file:./frontend.js",ho="file:./render.php",vo={blockId:{type:"string",default:""},contentTabOpenPanel:{type:"string",default:"settings"},styleTabOpenPanel:{type:"string",default:"general"},primaryBtnState:{type:"string",default:"normal"},stepperState:{type:"string",default:"normal"},cardsState:{type:"string",default:"normal"},buttonsState:{type:"string",default:"normal"},dropdownState:{type:"string",default:"normal"},radioCheckboxState:{type:"string",default:"normal"},imagesState:{type:"string",default:"normal"},inputTextareaState:{type:"string",default:"normal"},showPriceCalculator:{type:"string",default:"show",enum:["show","hide"]},showPriceCalculatorTablet:{type:"string",default:"show",enum:["show","hide"]},showPriceCalculatorMobile:{type:"string",default:"show",enum:["show","hide"]},showSubtotalOnly:{type:"boolean",default:!1},hideCardSubheading:{type:"boolean",default:!1},cardSelectOnClick:{type:"boolean",default:!0},icons:{type:"object",default:{addToCart:{library:"line-awesome",value:"la-shopping-cart"},outOfStock:{library:"line-awesome",value:"la-exclamation-circle"},checkout:{library:"line-awesome",value:"la-arrow-right"},calendar:{library:"line-awesome",value:"la-calendar"},clock:{library:"line-awesome",value:"la-clock"}}},fieldSpacing:{type:"number",default:20},fieldSpacingTablet:{type:"number"},fieldSpacingMobile:{type:"number"},fieldLabelTypography:{type:"object",default:{}},fieldLabelColor:{type:"string",default:""},primaryButtonTypography:{type:"object",default:{}},primaryButtonBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},primaryButtonBorderRadius:{type:"number",default:0},primaryButtonBoxShadow:{type:"object",default:{}},primaryButtonTextColor:{type:"string",default:""},primaryButtonBackground:{type:"string",default:""},primaryButtonIconSize:{type:"number",default:24},primaryButtonIconColor:{type:"string",default:""},primaryButtonIconTextSpacing:{type:"number",default:8},primaryButtonTextColorHover:{type:"string",default:""},primaryButtonBackgroundHover:{type:"string",default:""},primaryButtonBorderColorHover:{type:"string",default:""},primaryButtonBoxShadowHover:{type:"object",default:{}},primaryButtonIconColorHover:{type:"string",default:""},priceCalculatorListSpacing:{type:"number",default:10},priceCalculatorTypography:{type:"object",default:{}},priceCalculatorTextColor:{type:"string",default:""},priceCalculatorTotalTypography:{type:"object",default:{}},priceCalculatorTotalTextColor:{type:"string",default:""},loadingColor1:{type:"string",default:""},loadingColor2:{type:"string",default:""},outOfStockContentGap:{type:"number",default:15},outOfStockIconSize:{type:"number",default:40},outOfStockIconColor:{type:"string",default:""},outOfStockTypography:{type:"object",default:{}},outOfStockTextColor:{type:"string",default:""},stepperInputSize:{type:"number",default:16},stepperButtonIconColor:{type:"string",default:""},stepperButtonBackground:{type:"string",default:""},stepperButtonBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},stepperButtonBorderRadius:{type:"number",default:0},stepperButtonIconColorHover:{type:"string",default:""},stepperButtonBackgroundHover:{type:"string",default:""},stepperButtonBorderColorHover:{type:"string",default:""},cardsGap:{type:"number",default:10},cardsBackground:{type:"string",default:""},cardsBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},cardsBorderRadius:{type:"number",default:0},cardsPrimaryTypography:{type:"object",default:{}},cardsPrimaryColor:{type:"string",default:""},cardsSecondaryTypography:{type:"object",default:{}},cardsSecondaryColor:{type:"string",default:""},cardsPriceTypography:{type:"object",default:{}},cardsPriceColor:{type:"string",default:""},cardsImageBorderRadius:{type:"number",default:0},cardsImageSize:{type:"number",default:60},cardsSelectedBackground:{type:"string",default:""},cardsSelectedBorderColor:{type:"string",default:""},cardsSelectedBoxShadow:{type:"object",default:{}},cardsSelectedPrimaryTypography:{type:"object",default:{}},buttonsGap:{type:"number",default:10},buttonsBackground:{type:"string",default:""},buttonsBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},buttonsBorderRadius:{type:"number",default:0},buttonsTextTypography:{type:"object",default:{}},buttonsTextColor:{type:"string",default:""},buttonsSelectedBackground:{type:"string",default:""},buttonsSelectedBorderColor:{type:"string",default:""},buttonsSelectedBoxShadow:{type:"object",default:{}},dropdownTypography:{type:"object",default:{}},dropdownBoxShadow:{type:"object",default:{}},dropdownBackground:{type:"string",default:""},dropdownTextColor:{type:"string",default:""},dropdownBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},dropdownBorderRadius:{type:"number",default:0},dropdownIconColor:{type:"string",default:""},dropdownIconSize:{type:"number",default:24},dropdownIconTextSpacing:{type:"number",default:10},dropdownHideChevron:{type:"boolean",default:!1},dropdownChevronColor:{type:"string",default:""},dropdownBackgroundHover:{type:"string",default:""},dropdownTextColorHover:{type:"string",default:""},dropdownBorderColorHover:{type:"string",default:""},dropdownIconColorHover:{type:"string",default:""},dropdownBoxShadowHover:{type:"object",default:{}},dropdownFilledTypography:{type:"object",default:{}},dropdownFilledBackground:{type:"string",default:""},dropdownFilledTextColor:{type:"string",default:""},dropdownFilledIconColor:{type:"string",default:""},dropdownFilledBorderColor:{type:"string",default:""},dropdownFilledBorderWidth:{type:"number",default:0},dropdownFilledBoxShadow:{type:"object",default:{}},radioCheckboxBorderColor:{type:"string",default:""},radioCheckboxTextTypography:{type:"object",default:{}},radioCheckboxTextColor:{type:"string",default:""},radioCheckboxSelectedBackground:{type:"string",default:""},radioCheckboxSelectedTextTypography:{type:"object",default:{}},radioCheckboxSelectedTextColor:{type:"string",default:""},radioCheckboxSelectedBoxShadow:{type:"object",default:{}},switcherBackgroundInactive:{type:"string",default:""},switcherBackgroundActive:{type:"string",default:""},switcherHandleBackground:{type:"string",default:""},imagesGap:{type:"number",default:10},imagesBorderRadius:{type:"number",default:0},imagesSelectedBorderColor:{type:"string",default:""},colorsGap:{type:"number",default:10},colorsSize:{type:"number",default:30},colorsBorderRadius:{type:"number",default:50},colorsInsetColor:{type:"string",default:""},inputPlaceholderColor:{type:"string",default:""},inputPlaceholderTypography:{type:"object",default:{}},inputValueColor:{type:"string",default:""},inputValueTypography:{type:"object",default:{}},inputBackground:{type:"string",default:""},inputBorder:{type:"object",default:{borderType:"none",borderWidth:{},borderColor:""}},inputBorderRadius:{type:"number",default:0},inputBackgroundHover:{type:"string",default:""},inputBorderColorHover:{type:"string",default:""},inputPlaceholderColorHover:{type:"string",default:""},inputTextColorHover:{type:"string",default:""},inputBackgroundActive:{type:"string",default:""},inputBorderColorActive:{type:"string",default:""},inputTextColorActive:{type:"string",default:""},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},Le={$schema:ao,apiVersion:ro,name:lo,version:co,title:so,category:io,description:po,keywords:uo,textdomain:mo,supports:fo,editorScript:yo,viewScript:go,render:ho,attributes:vo};Je(Le.name,{...Le,icon:rt,title:i("Product Form (VX)","voxel-fse"),description:i("A product purchase form with dynamic fields, cart integration, and price calculator.","voxel-fse"),edit:oo,save:no});
