import{registerBlockType as eo}from"@wordpress/blocks";import{useRef as z,useState as F,useCallback as H,useEffect as P,useMemo as oo}from"react";import{__ as l}from"@wordpress/i18n";import{useBlockProps as be,InspectorControls as no}from"@wordpress/block-editor";import{useSelect as de}from"@wordpress/data";import{A as De,a as G,R as x,T as pe,C as R,m as me,D as lo,n as je}from"../TypographyPopup-CAcEJ5NA.js";import{I as ao,v as Ge}from"../InspectorTabs-Bq2wAh4W.js";import{SelectControl as B,RangeControl as ae,ToggleControl as he,TextControl as fe}from"@wordpress/components";import Oe from"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-C7JnAhZL.js";import"../voxelShim-DB_Ue-9R.js";import{g as Ue}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as to}from"../backgroundElements-Ui-iCrLV.js";import{E as ro}from"../EmptyPlaceholder-CnO9R1NI.js";import{I as q}from"../IconPickerControl-Lep6knGI.js";import{R as so}from"../RelationControl-D8hRYr3b.js";import{S as Le}from"../StyleTabPanel-BnA2rBs5.js";import{V as io}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";function ve(e){if(!e)return"";const n=[];if(e.fontFamily&&n.push(`font-family: ${e.fontFamily};`),e.fontSize!==void 0){const o=e.fontSizeUnit||"px";n.push(`font-size: ${e.fontSize}${o};`)}if(e.fontWeight&&n.push(`font-weight: ${e.fontWeight};`),e.fontStyle&&e.fontStyle!=="default"&&n.push(`font-style: ${e.fontStyle};`),e.textDecoration&&e.textDecoration!=="none"&&n.push(`text-decoration: ${e.textDecoration};`),e.lineHeight!==void 0){const o=e.lineHeightUnit||"";n.push(`line-height: ${e.lineHeight}${o};`)}if(e.letterSpacing!==void 0){const o=e.letterSpacingUnit||"px";n.push(`letter-spacing: ${e.letterSpacing}${o};`)}if(e.wordSpacing!==void 0){const o=e.wordSpacingUnit||"px";n.push(`word-spacing: ${e.wordSpacing}${o};`)}return e.textTransform&&e.textTransform!=="none"&&n.push(`text-transform: ${e.textTransform};`),n.join(" ")}function ge(e){return e?!!(e.fontFamily||e.fontSize!==void 0||e.fontWeight||e.fontStyle&&e.fontStyle!=="default"||e.textDecoration&&e.textDecoration!=="none"||e.lineHeight!==void 0||e.letterSpacing!==void 0||e.wordSpacing!==void 0||e.textTransform&&e.textTransform!=="none"):!1}function co(e,n){if(!e)return"";const o=e.top!==void 0&&e.top!==""?e.top:void 0,r=e.right!==void 0&&e.right!==""?e.right:void 0,c=e.bottom!==void 0&&e.bottom!==""?e.bottom:void 0,a=e.left!==void 0&&e.left!==""?e.left:void 0;if(o===void 0&&r===void 0&&c===void 0&&a===void 0)return"";const d=[];return o!==void 0&&d.push(`${n}-top: ${o};`),r!==void 0&&d.push(`${n}-right: ${r};`),c!==void 0&&d.push(`${n}-bottom: ${c};`),a!==void 0&&d.push(`${n}-left: ${a};`),d.join(" ")}function Ae(e,n){const o=[],r=[],c=[],a=`[data-block-id="${n}"]`;if(o.push(`${a} { position: relative; max-width: 100%; min-width: 0; overflow: hidden; }`),ge(e.counterTypography)){const t=ve(e.counterTypography);t&&o.push(`${a} .result-count { ${t} }`)}if(e.counterTextColor&&o.push(`${a} .result-count { color: ${e.counterTextColor}; }`),e.counterBottomSpacing!==void 0&&o.push(`${a} .post-feed-header { margin-bottom: ${e.counterBottomSpacing}px; }`),e.counterBottomSpacing_tablet!==void 0&&r.push(`${a} .post-feed-header { margin-bottom: ${e.counterBottomSpacing_tablet}px; }`),e.counterBottomSpacing_mobile!==void 0&&c.push(`${a} .post-feed-header { margin-bottom: ${e.counterBottomSpacing_mobile}px; }`),ge(e.orderByTypography)){const t=ve(e.orderByTypography);t&&o.push(`${a} .vxf-sort { ${t} }`)}if(e.orderByTextColor&&o.push(`${a} .vxf-sort { --ts-shade-3: ${e.orderByTextColor}; }`),e.orderByTextColorHover&&o.push(`${a} .vxf-sort { --ts-shade-2: ${e.orderByTextColorHover}; }`),e.noResultsContentGap!==void 0&&o.push(`${a} .ts-no-posts { gap: ${e.noResultsContentGap}px; }`),e.noResultsContentGap_tablet!==void 0&&r.push(`${a} .ts-no-posts { gap: ${e.noResultsContentGap_tablet}px; }`),e.noResultsContentGap_mobile!==void 0&&c.push(`${a} .ts-no-posts { gap: ${e.noResultsContentGap_mobile}px; }`),e.noResultsIconSize!==void 0&&o.push(`${a} .ts-no-posts > svg, ${a} .ts-no-posts > i { --ts-icon-size: ${e.noResultsIconSize}px; width: ${e.noResultsIconSize}px; height: ${e.noResultsIconSize}px; font-size: ${e.noResultsIconSize}px; }`),e.noResultsIconSize_tablet!==void 0&&r.push(`${a} .ts-no-posts > svg, ${a} .ts-no-posts > i { --ts-icon-size: ${e.noResultsIconSize_tablet}px; width: ${e.noResultsIconSize_tablet}px; height: ${e.noResultsIconSize_tablet}px; font-size: ${e.noResultsIconSize_tablet}px; }`),e.noResultsIconSize_mobile!==void 0&&c.push(`${a} .ts-no-posts > svg, ${a} .ts-no-posts > i { --ts-icon-size: ${e.noResultsIconSize_mobile}px; width: ${e.noResultsIconSize_mobile}px; height: ${e.noResultsIconSize_mobile}px; font-size: ${e.noResultsIconSize_mobile}px; }`),e.noResultsIconColor&&o.push(`${a} .ts-no-posts > svg, ${a} .ts-no-posts > i { --ts-icon-color: ${e.noResultsIconColor}; color: ${e.noResultsIconColor}; fill: ${e.noResultsIconColor}; }`),ge(e.noResultsTypography)){const t=ve(e.noResultsTypography);t&&o.push(`${a} .ts-no-posts p { ${t} }`)}if(e.noResultsTextColor&&o.push(`${a} .ts-no-posts p { color: ${e.noResultsTextColor}; }`),e.noResultsLinkColor&&o.push(`${a} .ts-no-posts a { color: ${e.noResultsLinkColor}; }`),e.paginationTopMargin!==void 0&&o.push(`${a} .feed-pagination { margin-top: ${e.paginationTopMargin}px; }`),e.paginationTopMargin_tablet!==void 0&&r.push(`${a} .feed-pagination { margin-top: ${e.paginationTopMargin_tablet}px; }`),e.paginationTopMargin_mobile!==void 0&&c.push(`${a} .feed-pagination { margin-top: ${e.paginationTopMargin_mobile}px; }`),ge(e.paginationTypography)){const t=ve(e.paginationTypography);t&&o.push(`${a} .feed-pagination .ts-btn { ${t} }`)}if(e.paginationPadding){const t=co(e.paginationPadding,"padding");t&&o.push(`${a} .feed-pagination .ts-btn { ${t} }`)}if(e.paginationHeight!==void 0&&o.push(`${a} .feed-pagination .ts-btn { height: ${e.paginationHeight}px; }`),e.paginationHeight_tablet!==void 0&&r.push(`${a} .feed-pagination .ts-btn { height: ${e.paginationHeight_tablet}px; }`),e.paginationHeight_mobile!==void 0&&c.push(`${a} .feed-pagination .ts-btn { height: ${e.paginationHeight_mobile}px; }`),e.paginationWidth!==void 0&&e.paginationWidth>0){const t=e.paginationWidthUnit||"%";o.push(`${a} .feed-pagination .ts-btn { width: ${e.paginationWidth}${t}; }`)}else e.paginationWidth;e.paginationIconTextSpacing!==void 0&&o.push(`${a} .feed-pagination .ts-btn { gap: ${e.paginationIconTextSpacing}px; }`),e.paginationBorderType&&o.push(`${a} .feed-pagination .ts-btn { border-style: ${e.paginationBorderType}; }`),e.paginationBorderWidth!==void 0?o.push(`${a} .feed-pagination .ts-btn { border-width: ${e.paginationBorderWidth}px; }`):e.paginationBorderType&&e.paginationBorderType!=="none"&&o.push(`${a} .feed-pagination .ts-btn { border-width: 1px; }`),e.paginationBorderColor&&o.push(`${a} .feed-pagination .ts-btn { border-color: ${e.paginationBorderColor}; }`),e.paginationJustify&&o.push(`${a} .feed-pagination { justify-content: ${e.paginationJustify}; }`),e.paginationSpacing!==void 0&&o.push(`${a} .feed-pagination { gap: ${e.paginationSpacing}px; }`),e.paginationSpacing_tablet!==void 0&&r.push(`${a} .feed-pagination { gap: ${e.paginationSpacing_tablet}px; }`),e.paginationSpacing_mobile!==void 0&&c.push(`${a} .feed-pagination { gap: ${e.paginationSpacing_mobile}px; }`),e.paginationBorderRadius!==void 0&&o.push(`${a} .feed-pagination .ts-btn { border-radius: ${e.paginationBorderRadius}px; }`),e.paginationBorderRadius_tablet!==void 0&&r.push(`${a} .feed-pagination .ts-btn { border-radius: ${e.paginationBorderRadius_tablet}px; }`),e.paginationBorderRadius_mobile!==void 0&&c.push(`${a} .feed-pagination .ts-btn { border-radius: ${e.paginationBorderRadius_mobile}px; }`),e.paginationTextColor&&o.push(`${a} .feed-pagination .ts-btn { color: ${e.paginationTextColor}; }`),e.paginationBackgroundColor&&o.push(`${a} .feed-pagination .ts-btn { background-color: ${e.paginationBackgroundColor}; }`),e.paginationIconSize!==void 0&&o.push(`${a} .feed-pagination .ts-btn svg, ${a} .feed-pagination .ts-btn i { --ts-icon-size: ${e.paginationIconSize}px; width: ${e.paginationIconSize}px; height: ${e.paginationIconSize}px; font-size: ${e.paginationIconSize}px; }`),e.paginationIconSize_tablet!==void 0&&r.push(`${a} .feed-pagination .ts-btn svg, ${a} .feed-pagination .ts-btn i { --ts-icon-size: ${e.paginationIconSize_tablet}px; width: ${e.paginationIconSize_tablet}px; height: ${e.paginationIconSize_tablet}px; font-size: ${e.paginationIconSize_tablet}px; }`),e.paginationIconSize_mobile!==void 0&&c.push(`${a} .feed-pagination .ts-btn svg, ${a} .feed-pagination .ts-btn i { --ts-icon-size: ${e.paginationIconSize_mobile}px; width: ${e.paginationIconSize_mobile}px; height: ${e.paginationIconSize_mobile}px; font-size: ${e.paginationIconSize_mobile}px; }`),e.paginationIconColor&&o.push(`${a} .feed-pagination .ts-btn svg, ${a} .feed-pagination .ts-btn i { --ts-icon-color: ${e.paginationIconColor}; color: ${e.paginationIconColor}; fill: ${e.paginationIconColor}; }`),e.paginationTextColorHover&&o.push(`${a} .feed-pagination .ts-btn:hover { color: ${e.paginationTextColorHover}; }`),e.paginationBackgroundColorHover&&o.push(`${a} .feed-pagination .ts-btn:hover { background-color: ${e.paginationBackgroundColorHover}; }`),e.paginationBorderColorHover&&o.push(`${a} .feed-pagination .ts-btn:hover { border-color: ${e.paginationBorderColorHover}; }`),e.paginationIconColorHover&&o.push(`${a} .feed-pagination .ts-btn:hover svg, ${a} .feed-pagination .ts-btn:hover i { --ts-icon-color: ${e.paginationIconColorHover}; color: ${e.paginationIconColorHover}; fill: ${e.paginationIconColorHover}; }`),e.carouselNavHorizontalPosition!==void 0&&(o.push(`${a} .post-feed-nav .ts-prev-page { left: ${e.carouselNavHorizontalPosition}px; }`),o.push(`${a} .post-feed-nav .ts-next-page { right: ${e.carouselNavHorizontalPosition}px; }`)),e.carouselNavHorizontalPosition_tablet!==void 0&&(r.push(`${a} .post-feed-nav .ts-prev-page { left: ${e.carouselNavHorizontalPosition_tablet}px; }`),r.push(`${a} .post-feed-nav .ts-next-page { right: ${e.carouselNavHorizontalPosition_tablet}px; }`)),e.carouselNavHorizontalPosition_mobile!==void 0&&(c.push(`${a} .post-feed-nav .ts-prev-page { left: ${e.carouselNavHorizontalPosition_mobile}px; }`),c.push(`${a} .post-feed-nav .ts-next-page { right: ${e.carouselNavHorizontalPosition_mobile}px; }`)),e.carouselNavVerticalPosition!==void 0&&o.push(`${a} .post-feed-nav .ts-icon-btn { top: ${e.carouselNavVerticalPosition}%; transform: translateY(-50%); }`),e.carouselNavVerticalPosition_tablet!==void 0&&r.push(`${a} .post-feed-nav .ts-icon-btn { top: ${e.carouselNavVerticalPosition_tablet}%; transform: translateY(-50%); }`),e.carouselNavVerticalPosition_mobile!==void 0&&c.push(`${a} .post-feed-nav .ts-icon-btn { top: ${e.carouselNavVerticalPosition_mobile}%; transform: translateY(-50%); }`),e.carouselNavIconColor&&o.push(`${a} .post-feed-nav .ts-icon-btn svg, ${a} .post-feed-nav .ts-icon-btn i { --ts-icon-color: ${e.carouselNavIconColor}; color: ${e.carouselNavIconColor}; fill: ${e.carouselNavIconColor}; }`),e.carouselNavButtonSize!==void 0&&o.push(`${a} .post-feed-nav .ts-icon-btn { width: ${e.carouselNavButtonSize}px; height: ${e.carouselNavButtonSize}px; }`),e.carouselNavButtonSize_tablet!==void 0&&r.push(`${a} .post-feed-nav .ts-icon-btn { width: ${e.carouselNavButtonSize_tablet}px; height: ${e.carouselNavButtonSize_tablet}px; }`),e.carouselNavButtonSize_mobile!==void 0&&c.push(`${a} .post-feed-nav .ts-icon-btn { width: ${e.carouselNavButtonSize_mobile}px; height: ${e.carouselNavButtonSize_mobile}px; }`),e.carouselNavIconSize!==void 0&&o.push(`${a} .post-feed-nav .ts-icon-btn svg, ${a} .post-feed-nav .ts-icon-btn i { --ts-icon-size: ${e.carouselNavIconSize}px; width: ${e.carouselNavIconSize}px; height: ${e.carouselNavIconSize}px; font-size: ${e.carouselNavIconSize}px; }`),e.carouselNavIconSize_tablet!==void 0&&r.push(`${a} .post-feed-nav .ts-icon-btn svg, ${a} .post-feed-nav .ts-icon-btn i { --ts-icon-size: ${e.carouselNavIconSize_tablet}px; width: ${e.carouselNavIconSize_tablet}px; height: ${e.carouselNavIconSize_tablet}px; font-size: ${e.carouselNavIconSize_tablet}px; }`),e.carouselNavIconSize_mobile!==void 0&&c.push(`${a} .post-feed-nav .ts-icon-btn svg, ${a} .post-feed-nav .ts-icon-btn i { --ts-icon-size: ${e.carouselNavIconSize_mobile}px; width: ${e.carouselNavIconSize_mobile}px; height: ${e.carouselNavIconSize_mobile}px; font-size: ${e.carouselNavIconSize_mobile}px; }`),e.carouselNavBackground&&o.push(`${a} .post-feed-nav .ts-icon-btn { background-color: ${e.carouselNavBackground}; }`),e.carouselNavBackdropBlur!==void 0&&o.push(`${a} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.carouselNavBackdropBlur}px); -webkit-backdrop-filter: blur(${e.carouselNavBackdropBlur}px); }`),e.carouselNavBorderType&&o.push(`${a} .post-feed-nav .ts-icon-btn { border-style: ${e.carouselNavBorderType}; }`),e.carouselNavBorderWidth!==void 0?o.push(`${a} .post-feed-nav .ts-icon-btn { border-width: ${e.carouselNavBorderWidth}px; }`):e.carouselNavBorderType&&e.carouselNavBorderType!=="none"&&o.push(`${a} .post-feed-nav .ts-icon-btn { border-width: 1px; }`),e.carouselNavBorderColor&&o.push(`${a} .post-feed-nav .ts-icon-btn { border-color: ${e.carouselNavBorderColor}; }`),e.carouselNavBorderRadius!==void 0&&o.push(`${a} .post-feed-nav .ts-icon-btn { border-radius: ${e.carouselNavBorderRadius}px; }`),e.carouselNavBorderRadius_tablet!==void 0&&r.push(`${a} .post-feed-nav .ts-icon-btn { border-radius: ${e.carouselNavBorderRadius_tablet}px; }`),e.carouselNavBorderRadius_mobile!==void 0&&c.push(`${a} .post-feed-nav .ts-icon-btn { border-radius: ${e.carouselNavBorderRadius_mobile}px; }`),e.carouselNavButtonSizeHover!==void 0&&o.push(`${a} .post-feed-nav .ts-icon-btn:hover { width: ${e.carouselNavButtonSizeHover}px; height: ${e.carouselNavButtonSizeHover}px; }`),e.carouselNavButtonSizeHover_tablet!==void 0&&r.push(`${a} .post-feed-nav .ts-icon-btn:hover { width: ${e.carouselNavButtonSizeHover_tablet}px; height: ${e.carouselNavButtonSizeHover_tablet}px; }`),e.carouselNavButtonSizeHover_mobile!==void 0&&c.push(`${a} .post-feed-nav .ts-icon-btn:hover { width: ${e.carouselNavButtonSizeHover_mobile}px; height: ${e.carouselNavButtonSizeHover_mobile}px; }`),e.carouselNavIconSizeHover!==void 0&&o.push(`${a} .post-feed-nav .ts-icon-btn:hover svg, ${a} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-size: ${e.carouselNavIconSizeHover}px; width: ${e.carouselNavIconSizeHover}px; height: ${e.carouselNavIconSizeHover}px; font-size: ${e.carouselNavIconSizeHover}px; }`),e.carouselNavIconSizeHover_tablet!==void 0&&r.push(`${a} .post-feed-nav .ts-icon-btn:hover svg, ${a} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-size: ${e.carouselNavIconSizeHover_tablet}px; width: ${e.carouselNavIconSizeHover_tablet}px; height: ${e.carouselNavIconSizeHover_tablet}px; font-size: ${e.carouselNavIconSizeHover_tablet}px; }`),e.carouselNavIconSizeHover_mobile!==void 0&&c.push(`${a} .post-feed-nav .ts-icon-btn:hover svg, ${a} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-size: ${e.carouselNavIconSizeHover_mobile}px; width: ${e.carouselNavIconSizeHover_mobile}px; height: ${e.carouselNavIconSizeHover_mobile}px; font-size: ${e.carouselNavIconSizeHover_mobile}px; }`),e.carouselNavIconColorHover&&o.push(`${a} .post-feed-nav .ts-icon-btn:hover svg, ${a} .post-feed-nav .ts-icon-btn:hover i { --ts-icon-color: ${e.carouselNavIconColorHover}; color: ${e.carouselNavIconColorHover}; fill: ${e.carouselNavIconColorHover}; }`),e.carouselNavBackgroundHover&&o.push(`${a} .post-feed-nav .ts-icon-btn:hover { background-color: ${e.carouselNavBackgroundHover}; }`),e.carouselNavBorderColorHover&&o.push(`${a} .post-feed-nav .ts-icon-btn:hover { border-color: ${e.carouselNavBorderColorHover}; }`),e.loadingStyle==="opacity"&&e.loadingOpacity!==void 0&&o.push(`${a}.vx-loading .vx-opacity { opacity: ${e.loadingOpacity}; }`),e.loadingStyle==="skeleton"&&e.skeletonBackgroundColor&&o.push(`${a}.vx-loading .vx-skeleton .ts-preview { background-color: ${e.skeletonBackgroundColor}; }`);let d=o.join(`
`);return r.length>0&&(d+=`
@media (max-width: 1024px) {
${r.join(`
`)}
}`),c.length>0&&(d+=`
@media (max-width: 767px) {
${c.join(`
`)}
}`),d}function po({variant:e="inline",className:n="",ariaLabel:o="Loading",text:r,ref:c}){return e==="inline"?React.createElement("span",{ref:c,className:`ts-loader ${n}`,role:"status","aria-label":o}):e==="centered"?React.createElement("div",{className:`ts-no-posts ${n}`},React.createElement("span",{ref:c,className:"ts-loader",role:"status","aria-label":o}),r&&React.createElement("p",null,r)):e==="fullpage"?React.createElement("div",{className:`vx-loading-screen ${n}`},React.createElement("div",{className:"ts-no-posts"},React.createElement("span",{ref:c,className:"ts-loader",role:"status","aria-label":o}))):e==="button"?React.createElement("div",{className:"ts-loader-wrapper"},React.createElement("span",{ref:c,className:"ts-loader",role:"status","aria-label":o}),r&&React.createElement("span",null,r)):React.createElement("span",{ref:c,className:`ts-loader ${n}`,role:"status","aria-label":o})}const L={loadMore:'<svg fill="none" viewBox="0 0 25 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z" fill="currentColor"/><path d="M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z" fill="currentColor"/></svg>',noResults:'<svg viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z" fill="currentColor"/></svg>',leftArrow:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 12H5m0 0l7 7m-7-7l7-7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',rightArrow:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5 12h14m0 0l-7-7m7 7l-7 7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',leftChevron:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15 19l-7-7 7-7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>',rightChevron:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 5l7 7-7 7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>'};function We(e){let n=document.getElementById("vx-assets-cache");n||(n=document.createElement("div"),n.id="vx-assets-cache",n.style.display="none",document.body.appendChild(n));const o=[];return e.querySelectorAll('link[rel="stylesheet"]').forEach(r=>{if(r.id&&!document.querySelector(`#vx-assets-cache #${CSS.escape(r.id)}`)){const a=r.cloneNode(!0);n.appendChild(a),o.push(new Promise(d=>{a.onload=()=>d(),a.onerror=()=>d()}))}}),Promise.all(o).then(()=>{})}function mo(e){let n=document.getElementById("vx-assets-cache");n||(n=document.createElement("div"),n.id="vx-assets-cache",n.style.display="none",document.body.appendChild(n)),e.querySelectorAll('script[type="text/javascript"]').forEach(o=>{o.id&&(document.querySelectorAll(`script[id="${CSS.escape(o.id)}"]`).length>=2?o.remove():n.appendChild(o))})}function W(e,n){return!e||!e.value?n:e.library==="svg"?e.value:`<i class="${e.value}"></i>`}function fo(e){if(!e||!e.trim())return[];const o=new DOMParser().parseFromString(`<div class="parse-wrapper">${e}</div>`,"text/html"),r=o.querySelectorAll(".ts-preview");if(r.length>0)return Array.from(r).map(a=>({html:a.innerHTML,postId:a.getAttribute("data-post-id")}));const c=o.querySelector(".parse-wrapper");if(c){const a=new Set(["div","article","section","li"]),d=Array.from(c.children).filter(t=>{const C=t.tagName.toLowerCase();return a.has(C)});if(d.length>0)return d.map(t=>({html:t.outerHTML,postId:t.getAttribute("data-post-id")}))}return[]}function vo(e,n){const o=[],r=`[data-block-id="${n}"]`,c=[],a=[];if(e.layoutMode==="grid"&&(e.columns&&o.push(`${r} .post-feed-grid { grid-template-columns: repeat(${e.columns}, minmax(0, 1fr)); }`),e.columns_tablet&&c.push(`${r} .post-feed-grid { grid-template-columns: repeat(${e.columns_tablet}, minmax(0, 1fr)); }`),e.columns_mobile&&a.push(`${r} .post-feed-grid { grid-template-columns: repeat(${e.columns_mobile}, minmax(0, 1fr)); }`)),e.itemGap!==void 0&&o.push(`${r} .post-feed-grid { grid-gap: ${e.itemGap}px; }`),e.itemGap_tablet!==void 0&&c.push(`${r} .post-feed-grid { grid-gap: ${e.itemGap_tablet}px; }`),e.itemGap_mobile!==void 0&&a.push(`${r} .post-feed-grid { grid-gap: ${e.itemGap_mobile}px; }`),e.layoutMode==="carousel"){const t=e.carouselItemWidthUnit||"px";e.carouselItemWidth&&o.push(`${r} .post-feed-grid > div { width: ${e.carouselItemWidth}${t}; min-width: ${e.carouselItemWidth}${t}; }`),e.scrollPadding&&o.push(`${r} .post-feed-grid { padding: 0 ${e.scrollPadding}px; scroll-padding: ${e.scrollPadding}px; }`),e.itemPadding&&o.push(`${r} .post-feed-grid > .ts-preview { padding: ${e.itemPadding}px; }`),e.carouselItemWidth_tablet&&c.push(`${r} .post-feed-grid > div { width: ${e.carouselItemWidth_tablet}${t}; min-width: ${e.carouselItemWidth_tablet}${t}; }`),e.scrollPadding_tablet&&c.push(`${r} .post-feed-grid { padding: 0 ${e.scrollPadding_tablet}px; scroll-padding: ${e.scrollPadding_tablet}px; }`),e.itemPadding_tablet&&c.push(`${r} .post-feed-grid > .ts-preview { padding: ${e.itemPadding_tablet}px; }`),e.carouselItemWidth_mobile&&a.push(`${r} .post-feed-grid > div { width: ${e.carouselItemWidth_mobile}${t}; min-width: ${e.carouselItemWidth_mobile}${t}; }`),e.scrollPadding_mobile&&a.push(`${r} .post-feed-grid { padding: 0 ${e.scrollPadding_mobile}px; scroll-padding: ${e.scrollPadding_mobile}px; }`),e.itemPadding_mobile&&a.push(`${r} .post-feed-grid > .ts-preview { padding: ${e.itemPadding_mobile}px; }`)}let d=o.join(`
`);return c.length>0&&(d+=`
@media (max-width: 1024px) {
${c.join(`
`)}
}`),a.length>0&&(d+=`
@media (max-width: 767px) {
${a.join(`
`)}
}`),d}function go({attributes:e,context:n,editorFilters:o,containerElement:r}){const c=z(null),a=z(null),d=z(!1),t=z(!1),C=z(0),[i,b]=F({loading:!0,page:1,results:"",totalCount:0,displayCount:"0",hasPrev:!1,hasNext:!1,hasResults:!1}),[U,ee]=F({}),[O,oe]=F(e.postType||""),$=H(s=>{if(n!=="editor")return;const p=s.target.closest("a");p&&!p.closest(".post-feed-nav")&&!p.closest(".feed-pagination")&&(s.preventDefault(),s.stopPropagation())},[n]);P(()=>{n==="editor"&&e.postType&&e.postType!==O&&oe(e.postType)},[n,e.postType,O]);const w=z(void 0);P(()=>{if(n!=="editor"||!o)return;const s=w.current;JSON.stringify(s)!==JSON.stringify(o)&&(w.current=o,ee(o),e.postType&&(async()=>{const f=new URLSearchParams({type:e.postType,pg:"1",limit:String(e.postsPerPage)});e.displayDetails&&f.set("__get_total_count","yes"),o&&typeof o=="object"&&Object.entries(o).forEach(([g,u])=>{g!=="postType"&&u!=null&&u!==""&&f.set(g,String(u))});let v=window.Voxel_Config?.home_url;if(!v){const g=window.wpApiSettings?.root;if(g)v=g.replace(/\/wp-json\/?$/,"");else{const u=window.location.pathname,I=u.indexOf("/wp-admin"),E=I>0?u.substring(0,I):"";v=window.location.origin+E}}f.set("action","search_posts");const h=`${v}/?vx=1&${f.toString()}`;try{b(Y=>({...Y,loading:!0}));const g={Accept:"text/html"},u=window.wpApiSettings?.nonce;u&&(g["X-WP-Nonce"]=u);const I=await fetch(h,{method:"GET",credentials:"same-origin",headers:g});if(!I.ok)throw new Error(`HTTP error: ${I.status}`);const E=await I.text(),A=new DOMParser().parseFromString(`<div>${E}</div>`,"text/html"),M=A.querySelector("script.info"),Be=M?.getAttribute("data-has-prev")==="true",re=M?.getAttribute("data-has-next")==="true",V=M?.getAttribute("data-has-results")==="true",se=parseInt(M?.getAttribute("data-total-count")||"0",10),ie=M?.getAttribute("data-display-count")||"0";await We(A);let Z=E.replace(/<script class="info"[^>]*><\/script>/g,"");Z=Z.replace(/<link[^>]*rel="stylesheet"[^>]*>/g,""),b(Y=>({...Y,loading:!1,page:1,results:Z,totalCount:se,displayCount:ie,hasPrev:Be,hasNext:re,hasResults:V}))}catch(g){console.error("[PostFeedComponent] Editor filter sync fetch failed:",g),b(u=>({...u,loading:!1,hasResults:!1}))}})())},[n,o,e.postType,e.postsPerPage,e.displayDetails]);const _=`vx-${e.loadingStyle}`;P(()=>{const s=r||a.current;s&&(i.loading?s.classList.add("vx-loading"):s.classList.remove("vx-loading"))},[i.loading,r]);const D=`post-feed-grid ts-feed-grid-default ${_} ${e.source==="search-form"?"sf-post-feed vx-event-scroll":""}`.trim(),k=vo(e,e.blockId),S=Ae(e,e.blockId),y=H(async(s=1,p=!1,m,f)=>{console.log("[PostFeed] fetchPosts called - page:",s,"overridePostType:",f,"dynamicPostType:",O,"attributes.postType:",e.postType),console.log("[PostFeed] fetchPosts caller stack:",new Error().stack),b(v=>({...v,loading:!0})),n==="frontend"&&(window.dispatchEvent(new CustomEvent("voxel-fse:feed-loading",{detail:{sourceId:e.blockId,searchFormId:e.searchFormId}})),document.querySelector(".elementor-widget-ts-map")?.classList.add("map-pending"));try{const v=f||O||e.postType||"";if(console.log("[PostFeed] fetchPosts using postType:",v),n==="editor"&&e.source==="search-form"&&!v){b(N=>({...N,loading:!1,hasResults:!1}));return}const h=new URLSearchParams({type:v,pg:String(s),limit:String(e.postsPerPage)});e.displayDetails&&h.set("__get_total_count","yes"),e.source==="manual"&&e.manualPostIds.length>0&&h.set("post__in",e.manualPostIds.join(",")),e.excludePosts&&h.set("exclude",e.excludePosts),e.priorityFilter&&(h.set("priority_min",String(e.priorityMin||0)),h.set("priority_max",String(e.priorityMax||0))),e.offset&&e.offset>0&&h.set("offset",String(e.offset)),e.cardTemplate&&e.cardTemplate!=="main"&&h.set("template",e.cardTemplate),console.log("[PostFeed] hasMapWidgetRef.current:",t.current),t.current&&(h.set("__load_markers","yes"),console.log("[PostFeed] Added __load_markers=yes to request"),C.current>0&&h.set("__load_additional_markers",String(C.current)));const g=m||{...e.filters,...U};g&&typeof g=="object"&&Object.entries(g).forEach(([N,T])=>{N!=="postType"&&T!=null&&T!==""&&h.set(N,String(T))});let u=window.Voxel_Config?.home_url;if(!u){const N=window.wpApiSettings?.root;if(N)u=N.replace(/\/wp-json\/?$/,"");else{const T=window.location.pathname,Q=T.indexOf("/wp-admin"),K=Q>0?T.substring(0,Q):"";u=window.location.origin+K}}h.set("action","search_posts");const I=`${u}/?vx=1&${h.toString()}`,E={Accept:"text/html"},xe=window.wpApiSettings?.nonce;xe&&(E["X-WP-Nonce"]=xe);const A=await fetch(I,{method:"GET",credentials:"same-origin",headers:E});if(!A.ok)throw new Error(`HTTP error: ${A.status} ${A.statusText}`);const M=await A.text();console.log("[PostFeed] fetchPosts response length:",M.length,"first 500 chars:",M.substring(0,500));const re=new DOMParser().parseFromString(`<div>${M}</div>`,"text/html"),V=re.querySelector("script.info"),se=V?.getAttribute("data-has-prev")==="true",ie=V?.getAttribute("data-has-next")==="true",Z=V?.getAttribute("data-has-results")==="true",Y=parseInt(V?.getAttribute("data-total-count")||"0",10),Ye=V?.getAttribute("data-display-count")||"0";console.log("[PostFeed] fetchPosts parsed - hasResults:",Z,"totalCount:",Y,"hasPrev:",se,"hasNext:",ie),await We(re);let le=M.replace(/<script class="info"[^>]*><\/script>/g,"");if(!le.includes("vx:post-feed.css-css")){const N=window.Voxel_Config;N?.ajax_url&&(le=`<link rel="stylesheet" id="vx:post-feed.css-css" href="${`${N.ajax_url.replace(/\?vx=1.*$/,"")}wp-content/themes/voxel/assets/dist/post-feed.css?ver=1.7.5.2`}" type="text/css" media="all">`+le)}requestAnimationFrame(()=>{b(N=>({...N,loading:!1,page:s,results:p?N.results+le:le,totalCount:Y,displayCount:Ye,hasPrev:se,hasNext:ie,hasResults:Z})),n==="frontend"&&(window.dispatchEvent(new CustomEvent("voxel-fse:feed-loaded",{detail:{sourceId:e.blockId,searchFormId:e.searchFormId}})),document.querySelector(".elementor-widget-ts-map")?.classList.remove("map-pending")),setTimeout(()=>{const N=r||a.current;if(N&&mo(N),window.jQuery&&window.jQuery(document).trigger("voxel:markup-update"),n==="frontend"&&e.source==="search-form"){const T=r||a.current;if(console.log("[PostFeed] MAP INTEGRATION: feedContainer:",T),T){console.log("[PostFeed] Feed HTML (first 2000 chars):",T.innerHTML.substring(0,2e3));const Q=T.querySelectorAll(".post-feed-grid .ts-marker-wrapper > .map-marker");console.log("[PostFeed] Found marker elements:",Q.length),console.log("[PostFeed] All .ts-marker-wrapper elements:",T.querySelectorAll(".ts-marker-wrapper").length),console.log("[PostFeed] All .map-marker elements:",T.querySelectorAll(".map-marker").length);const K=[];Q.forEach(Qe=>{const ce=Qe,ke=ce.dataset.position,ze=ce.dataset.postId;if(!ke||!ze)return;const[He,Fe]=ke.split(",").map(parseFloat);if(isNaN(He)||isNaN(Fe))return;const Me=ce.parentElement,Ke=Me?Me.innerHTML:ce.outerHTML;K.push({postId:ze,lat:He,lng:Fe,template:Ke})}),K.length>0&&(console.log("[PostFeed] Dispatching",K.length,"markers to Map block"),window.dispatchEvent(new CustomEvent("voxel-fse:post-feed-markers",{detail:{sourceBlockId:e.blockId,markers:K},bubbles:!0})))}}},0)})}catch(v){console.error("[PostFeedComponent] Failed to fetch posts:",v),v instanceof TypeError&&(console.error("[PostFeedComponent] TypeError details - likely CORS or network issue"),console.error("[PostFeedComponent] Current location:",window.location.href),console.error("[PostFeedComponent] Target URL was:",`${window.location.origin}${window.location.pathname.includes("/wp-admin")?window.location.pathname.split("/wp-admin")[0]:""}/?vx=1`)),b(h=>({...h,loading:!1,hasResults:!1})),n==="frontend"&&(window.dispatchEvent(new CustomEvent("voxel-fse:feed-loaded",{detail:{sourceId:e.blockId,searchFormId:e.searchFormId}})),document.querySelector(".elementor-widget-ts-map")?.classList.remove("map-pending"))}},[e,n,U,O]);P(()=>{if(n!=="frontend"||e.source!=="search-form")return;const s=p=>{const m=p;if(m.detail?.targetId!==e.blockId)return;const{postType:f,filters:v}=m.detail;m.detail.hasMapWidget!==void 0&&(t.current=m.detail.hasMapWidget),m.detail.mapAdditionalMarkers!==void 0&&(C.current=m.detail.mapAdditionalMarkers),ee(v),f&&oe(f),y(1,!1,v,f)};return window.addEventListener("voxel-search-submit",s),()=>window.removeEventListener("voxel-search-submit",s)},[n,e.source,e.blockId,y]),P(()=>{if(!(d.current&&n==="frontend")){if(e.source!=="search-form")d.current=!0,y(1);else if(n==="editor"&&e.postType)y(1);else if(n==="frontend"&&e.source==="search-form"){const s=document.querySelector(".voxel-fse-map");console.log("[PostFeed] Looking for .voxel-fse-map element:",s),s?(t.current=!0,console.log("[PostFeed] Map element found! hasMapWidgetRef set to true")):console.log("[PostFeed] No map element found. All elements with voxel-fse class:",document.querySelectorAll('[class*="voxel-fse"]')),d.current=!0;const p=new URL(window.location.href),m=p.searchParams.get("type")||p.searchParams.get("post_type"),f={};p.searchParams.forEach((h,g)=>{if(!(g==="type"||g==="post_type"||g==="pg"||g==="page"))if(g.startsWith("filter_")){const u=g.replace("filter_","");try{f[u]=JSON.parse(h)}catch{f[u]=h}}else try{f[g]=JSON.parse(h)}catch{f[g]=h}});let v=m||e.postType;if(!v&&e.searchFormId){const h=[`#${e.searchFormId}`,`[data-id="${e.searchFormId}"]`,`.voxel-fse-search-form-${e.searchFormId}`];let g=null;for(const u of h)try{if(g=document.querySelector(u),g){console.log("[PostFeed] Found Search Form with selector:",u);break}}catch{}if(g){const u=g.getAttribute("data-post-types");if(u)try{const I=JSON.parse(u);Array.isArray(I)&&I.length>0&&(v=I[0],console.log("[PostFeed] Got default postType from data-post-types:",v))}catch(I){console.error("[PostFeed] Failed to parse data-post-types:",I)}if(!v){const I=g.querySelector("script.vxconfig");if(I?.textContent)try{const E=JSON.parse(I.textContent);E.postTypes&&E.postTypes.length>0&&(v=E.postTypes[0].key,console.log("[PostFeed] Got default postType from vxconfig:",v))}catch(E){console.error("[PostFeed] Failed to parse Search Form vxconfig:",E)}}}else console.warn("[PostFeed] Could not find linked Search Form. searchFormId:",e.searchFormId,"Tried selectors:",h)}console.log("[PostFeed] Frontend initial fetch - postTypeToUse:",v,"attributes.postType:",e.postType),v?(m&&oe(m),Object.keys(f).length>0&&ee(f),y(1,!1,Object.keys(f).length>0?f:void 0,v)):console.warn("[PostFeed] No post type available. attributes.postType:",e.postType,"searchFormId:",e.searchFormId)}}},[n,e.source,e.postType,e.blockId,e.searchFormId]);const ye=z(e.postsPerPage),Ce=z(e.pagination),Re=z(e.displayDetails),$e=z(e.cardTemplate);P(()=>{if(n!=="editor")return;const s=ye.current!==e.postsPerPage||Ce.current!==e.pagination||Re.current!==e.displayDetails||$e.current!==e.cardTemplate;ye.current=e.postsPerPage,Ce.current=e.pagination,Re.current=e.displayDetails,$e.current=e.cardTemplate,s&&e.postType&&y(1)},[n,e.postsPerPage,e.pagination,e.displayDetails,e.cardTemplate,e.postType]);const Ie=H(()=>{!i.loading&&i.hasNext&&y(i.page+1,!0)},[i.loading,i.hasNext,i.page,y]),te=H(()=>{const s=r||a.current;s&&s.scrollIntoView({behavior:"smooth",block:"start"})},[r]),Se=H(()=>{!i.loading&&i.hasPrev&&(y(i.page-1),setTimeout(te,100))},[i.loading,i.hasPrev,i.page,y,te]),_e=H(()=>{!i.loading&&i.hasNext&&(y(i.page+1),setTimeout(te,100))},[i.loading,i.hasNext,i.page,y,te]),J=oo(()=>e.layoutMode!=="carousel"||!i.results?[]:fo(i.results),[e.layoutMode,i.results]),j=z(null),[qe,Ne]=F(!1),[Je,we]=F(!0),ne=H(()=>{if(!j.current||e.layoutMode!=="carousel")return;const s=j.current;Ne(Math.abs(s.scrollLeft)>10),we(s.scrollLeft+s.clientWidth+10<s.scrollWidth)},[e.layoutMode]);P(()=>{const s=j.current;if(!s||e.layoutMode!=="carousel")return;const p=()=>{if(!s||s.clientWidth<1)return;const f=s.scrollWidth>s.clientWidth;Ne(Math.abs(s.scrollLeft)>10),we(f&&s.scrollLeft+s.clientWidth+10<s.scrollWidth)};requestAnimationFrame(p);let m=null;return typeof ResizeObserver<"u"&&(m=new ResizeObserver(()=>{requestAnimationFrame(p)}),m.observe(s)),s.addEventListener("scroll",ne,{passive:!0}),window.addEventListener("resize",ne),()=>{m?.disconnect(),s.removeEventListener("scroll",ne),window.removeEventListener("resize",ne)}},[ne,J.length,e.carouselItemWidth,e.itemGap,e.scrollPadding]);const X=H(s=>{const p=j.current;if(!p)return;const m=p.querySelector(".ts-preview");if(!m)return;let f;s==="next"?(f=m.scrollWidth,p.clientWidth+Math.abs(p.scrollLeft)+10>=p.scrollWidth&&(f=-p.scrollLeft)):(f=-m.scrollWidth,Math.abs(p.scrollLeft)<=10&&(f=p.scrollWidth-p.clientWidth-p.scrollLeft)),p.scrollBy({left:f,behavior:"smooth"})},[]),Xe=H(s=>{s.preventDefault(),X("prev")},[X]),Ze=H(s=>{s.preventDefault(),X("next")},[X]);P(()=>{if(!e.carouselAutoSlide||e.layoutMode!=="carousel")return;const s=e.carouselAutoSlideInterval||3e3;if(s<20)return;let p=!1;const m=j.current?.closest(".voxel-fse-post-feed-frontend")||j.current?.closest(".ts-post-feed"),f=()=>{p=!0},v=()=>{p=!1};m?.addEventListener("mouseenter",f),m?.addEventListener("mouseleave",v);const h=setInterval(()=>{!p&&j.current&&X("next")},s);return()=>{clearInterval(h),m?.removeEventListener("mouseenter",f),m?.removeEventListener("mouseleave",v)}},[e.carouselAutoSlide,e.carouselAutoSlideInterval,e.layoutMode,X]);const Te={blockId:e.blockId,source:e.source,searchFormId:e.searchFormId,postType:e.postType,manualPostIds:e.manualPostIds,filters:e.filters,excludePosts:e.excludePosts||"",priorityFilter:e.priorityFilter||!1,priorityMin:e.priorityMin||0,priorityMax:e.priorityMax||0,offset:e.offset||0,cardTemplate:e.cardTemplate||"main",pagination:e.pagination,postsPerPage:e.postsPerPage,displayDetails:e.displayDetails,noResultsLabel:e.noResultsLabel,layoutMode:e.layoutMode,columns:e.columns,columns_tablet:e.columns_tablet,columns_mobile:e.columns_mobile,itemGap:e.itemGap,itemGap_tablet:e.itemGap_tablet,itemGap_mobile:e.itemGap_mobile,carouselItemWidth:e.carouselItemWidth,carouselItemWidth_tablet:e.carouselItemWidth_tablet,carouselItemWidth_mobile:e.carouselItemWidth_mobile,carouselItemWidthUnit:e.carouselItemWidthUnit,carouselAutoSlide:e.carouselAutoSlide,scrollPadding:e.scrollPadding,scrollPadding_tablet:e.scrollPadding_tablet,scrollPadding_mobile:e.scrollPadding_mobile,itemPadding:e.itemPadding,itemPadding_tablet:e.itemPadding_tablet,itemPadding_mobile:e.itemPadding_mobile,loadingStyle:e.loadingStyle,loadingOpacity:e.loadingOpacity,icons:{loadMore:e.loadMoreIcon,noResults:e.noResultsIcon,rightArrow:e.rightArrowIcon,leftArrow:e.leftArrowIcon,rightChevron:e.rightChevronIcon,leftChevron:e.leftChevronIcon,reset:e.resetIcon}},Ee=`post-feed-grid ts-feed-nowrap min-scroll min-scroll-h ${_} vx-event-autoslide vx-event-scroll`.trim(),Pe=e.layoutMode==="carousel"&&J.length>0?React.createElement("ul",{className:"simplify-ul flexify post-feed-nav"},React.createElement("li",null,React.createElement("a",{href:"#",className:`ts-icon-btn ts-prev-page${qe?"":" disabled"}`,"aria-label":l("Previous","voxel-fse"),onClick:Xe},React.createElement("span",{dangerouslySetInnerHTML:{__html:W(e.leftChevronIcon,L.leftChevron)}}))),React.createElement("li",null,React.createElement("a",{href:"#",className:`ts-icon-btn ts-next-page${Je?"":" disabled"}`,"aria-label":l("Next","voxel-fse"),onClick:Ze},React.createElement("span",{dangerouslySetInnerHTML:{__html:W(e.rightChevronIcon,L.rightChevron)}})))):null;if(n==="editor"){const s=!e.postType&&!i.loading&&!i.results,p=i.loading&&e.postType;return React.createElement("div",{ref:a,className:`ts-post-feed ${i.loading?"vx-loading":""}`,"data-block-id":e.blockId,onClickCapture:$},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(Te)}}),k&&React.createElement("style",{dangerouslySetInnerHTML:{__html:k}}),S&&React.createElement("style",{dangerouslySetInnerHTML:{__html:S}}),e.displayDetails&&React.createElement("div",{className:"post-feed-header flexify"},React.createElement("span",{className:`result-count ${!i.hasResults||i.totalCount===0,""}`},i.hasResults?i.displayCount:l("Showing results","voxel-fse"))),!s&&!p&&i.results?e.layoutMode==="carousel"&&J.length>0?React.createElement("div",{ref:j,className:Ee,"data-auto-slide":e.carouselAutoSlide?String(e.carouselAutoSlideInterval||3e3):"0"},J.map((m,f)=>React.createElement("div",{key:f,className:"ts-preview","data-post-id":m.postId||void 0,dangerouslySetInnerHTML:{__html:m.html}}))):React.createElement("div",{ref:c,className:D,dangerouslySetInnerHTML:{__html:i.results}}):s?React.createElement("div",{ref:c,className:D},React.createElement(ro,null)):null,p&&React.createElement("div",{className:"ts-no-posts"},React.createElement(po,{variant:"inline",ariaLabel:"Loading posts..."})),React.createElement("div",{className:`ts-no-posts ${s||p||i.hasResults?"hidden":""}`,dangerouslySetInnerHTML:{__html:`${W(e.noResultsIcon,L.noResults)}<p>${e.noResultsLabel}</p>`}}),e.pagination!=="none"&&React.createElement("div",{className:"feed-pagination flexify"},e.pagination==="prev_next"&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large ts-load-prev ${i.hasPrev?"":"disabled"}`,onClick:m=>{m.preventDefault(),Se()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:W(e.leftArrowIcon,L.leftArrow)}}),React.createElement("span",null,l("Previous","voxel-fse"))),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large btn-icon-right ts-load-next ${i.hasNext?"":"disabled"}`,onClick:m=>{m.preventDefault(),_e()}},React.createElement("span",null,l("Next","voxel-fse")),React.createElement("span",{dangerouslySetInnerHTML:{__html:W(e.rightArrowIcon,L.rightArrow)}}))),e.pagination==="load_more"&&i.hasNext&&React.createElement("a",{href:"#",className:"ts-btn ts-btn-1 ts-btn-large ts-load-more",onClick:m=>{m.preventDefault(),Ie()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:W(e.loadMoreIcon,L.loadMore)}}),React.createElement("span",null,l("Load more","voxel-fse")))),Pe)}return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(Te)}}),k&&React.createElement("style",{dangerouslySetInnerHTML:{__html:k}}),S&&React.createElement("style",{dangerouslySetInnerHTML:{__html:S}}),e.displayDetails&&React.createElement("div",{className:"post-feed-header"},React.createElement("span",{className:`result-count ${!i.hasResults||i.totalCount===0?"hidden":""}`},i.displayCount)),e.layoutMode==="carousel"&&J.length>0?React.createElement("div",{ref:j,className:Ee,"data-auto-slide":e.carouselAutoSlide?String(e.carouselAutoSlideInterval||3e3):"0"},J.map((s,p)=>React.createElement("div",{key:p,className:"ts-preview","data-post-id":s.postId||void 0,dangerouslySetInnerHTML:{__html:s.html}}))):React.createElement("div",{ref:c,className:D,dangerouslySetInnerHTML:{__html:i.results}}),React.createElement("div",{className:`ts-no-posts ${i.hasResults||i.loading?"hidden":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:W(e.noResultsIcon,L.noResults)}}),React.createElement("p",null,e.noResultsLabel,e.source==="search-form"&&React.createElement(React.Fragment,null," ",React.createElement("a",{href:"#",className:"ts-feed-reset",onClick:s=>{s.preventDefault();const p=new CustomEvent("voxel-search-clear",{detail:{postType:O||e.postType,searchFormId:e.searchFormId},bubbles:!0});window.dispatchEvent(p)}},l("Reset filters?","voxel-fse"))))),e.pagination!=="none"&&React.createElement("div",{className:`feed-pagination flexify ${!i.hasPrev&&!i.hasNext?"hidden":""}`},e.pagination==="prev_next"&&React.createElement(React.Fragment,null,React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large ts-load-prev ${i.hasPrev?"":"disabled"}`,onClick:s=>{s.preventDefault(),i.hasPrev&&!i.loading&&Se()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:W(e.leftArrowIcon,L.leftArrow)}}),React.createElement("span",null,l("Previous","voxel-fse"))),React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large btn-icon-right ts-load-next ${i.hasNext?"":"disabled"}`,onClick:s=>{s.preventDefault(),i.hasNext&&!i.loading&&_e()}},React.createElement("span",null,l("Next","voxel-fse")),React.createElement("span",{dangerouslySetInnerHTML:{__html:W(e.rightArrowIcon,L.rightArrow)}}))),e.pagination==="load_more"&&React.createElement("a",{href:"#",className:`ts-btn ts-btn-1 ts-btn-large ts-load-more ${i.hasNext?"":"hidden"}`,onClick:s=>{s.preventDefault(),i.hasNext&&!i.loading&&Ie()}},React.createElement("span",{dangerouslySetInnerHTML:{__html:W(e.loadMoreIcon,L.loadMore)}}),React.createElement("span",null,l("Load more","voxel-fse")))),Pe)}function ho(){const[e,n]=F(null),[o,r]=F(!0),[c,a]=F(null);return P(()=>{let d=!0;async function t(){try{const C=await Oe({path:"/voxel-fse/v1/post-feed/config"});d&&(n(C),r(!1))}catch(C){if(d){const i=C instanceof Error?C.message:"Failed to fetch configuration";a(i),r(!1)}}}return t(),()=>{d=!1}},[]),{config:e,isLoading:o,error:c}}function uo(e){const[n,o]=F([{id:"main",label:"Main template"}]),[r,c]=F(!1),[a,d]=F(null),t=H(async()=>{if(!e){o([{id:"main",label:"Main template"}]);return}c(!0),d(null);try{const C=await Oe({path:`/voxel-fse/v1/post-feed/card-templates?post_type=${encodeURIComponent(e)}`});C.error&&d(C.error),o(C.templates||[{id:"main",label:"Main template"}])}catch(C){const i=C instanceof Error?C.message:"Failed to fetch templates";d(i),o([{id:"main",label:"Main template"}])}finally{c(!1)}},[e]);return P(()=>{t()},[t]),{templates:n,isLoading:r,error:a,refetch:t}}function xo({attributes:e,setAttributes:n,config:o,searchFormItems:r,cardTemplates:c,isLoadingTemplates:a}){const d=[{label:l("Select post type...","voxel-fse"),value:""},...(o?.postTypes||[]).map(t=>({label:t.label,value:t.key}))];return React.createElement(De,{attributes:e,setAttributes:n,stateAttribute:"postFeedSettingsAccordion",defaultPanel:"settings"},React.createElement(G,{id:"settings",title:l("Post Feed Settings","voxel-fse")},React.createElement(B,{label:l("Data source","voxel-fse"),value:e.source,options:[{label:l("Search Form widget","voxel-fse"),value:"search-form"},{label:l("Filters","voxel-fse"),value:"search-filters"},{label:l("Manual selection","voxel-fse"),value:"manual"},{label:l("WP default archive","voxel-fse"),value:"archive"}],onChange:t=>n({source:t})}),e.source==="search-form"&&React.createElement(React.Fragment,null,React.createElement(so,{label:l("Link to search form","voxel-fse"),items:r,selectedId:e.searchFormId,onSelect:t=>n({searchFormId:t??""}),widgetType:"SearchForm",description:l("Select a Search Form block on this page to link with.","voxel-fse")}),React.createElement(B,{label:l("Pagination","voxel-fse"),value:e.pagination,options:[{label:l("Load more button","voxel-fse"),value:"load_more"},{label:l("Prev/Next buttons","voxel-fse"),value:"prev_next"},{label:l("None","voxel-fse"),value:"none"}],onChange:t=>n({pagination:t})}),React.createElement(ae,{label:l("Posts per page","voxel-fse"),value:e.postsPerPage,onChange:t=>n({postsPerPage:t??10}),min:1,max:100}),React.createElement(he,{label:l("Display details","voxel-fse"),help:l("Display results count and order by (if enabled) on top","voxel-fse"),checked:e.displayDetails,onChange:t=>n({displayDetails:t})})),e.source==="search-filters"&&React.createElement(React.Fragment,null,React.createElement(B,{label:l("Choose post type","voxel-fse"),value:e.postType,options:d,onChange:t=>n({postType:t})}),React.createElement(ae,{label:l("Number of posts to load","voxel-fse"),value:e.postsPerPage,onChange:t=>n({postsPerPage:t??10}),min:0,max:500}),React.createElement(B,{label:l("Pagination","voxel-fse"),value:e.pagination,options:[{label:l("Load more button","voxel-fse"),value:"load_more"},{label:l("Prev/Next buttons","voxel-fse"),value:"prev_next"},{label:l("None","voxel-fse"),value:"none"}],onChange:t=>n({pagination:t})}),React.createElement(fe,{label:l("Exclude posts","voxel-fse"),value:e.excludePosts,onChange:t=>n({excludePosts:t}),help:l("Comma-separated post IDs to exclude","voxel-fse")}),React.createElement(he,{label:l("Filter posts by priority","voxel-fse"),checked:e.priorityFilter,onChange:t=>n({priorityFilter:t})}),e.priorityFilter&&React.createElement("div",{className:"voxel-fse-half-width-controls"},React.createElement(ae,{label:l("Priority min","voxel-fse"),value:e.priorityMin,onChange:t=>n({priorityMin:t??0}),min:0,max:100}),React.createElement(ae,{label:l("Priority max","voxel-fse"),value:e.priorityMax,onChange:t=>n({priorityMax:t??0}),min:0,max:100})),React.createElement(ae,{label:l("Offset","voxel-fse"),value:e.offset,onChange:t=>n({offset:t??0}),min:0,max:100}),React.createElement(B,{label:l("Preview card template","voxel-fse"),value:e.cardTemplate,options:c.map(t=>({label:t.label,value:t.id})),onChange:t=>n({cardTemplate:t}),disabled:a||!e.postType,help:a?l("Loading templates...","voxel-fse"):l("Select post type first to see available templates","voxel-fse")})),(e.source==="manual"||e.source==="archive")&&React.createElement(fe,{label:l("No results label","voxel-fse"),value:e.noResultsLabel,onChange:t=>n({noResultsLabel:t})}),(e.source==="manual"||e.source==="archive")&&React.createElement(B,{label:l("Choose post type","voxel-fse"),value:e.postType,options:d,onChange:t=>n({postType:t})}),e.source==="manual"&&React.createElement(fe,{label:l("Choose posts","voxel-fse"),value:e.manualPostIds.join(", "),onChange:t=>{const C=t.split(",").map(i=>parseInt(i.trim(),10)).filter(i=>!isNaN(i)&&i>0);n({manualPostIds:C})},help:l("Enter post IDs separated by commas. A proper post selector will be added in future updates.","voxel-fse")}),(e.source==="manual"||e.source==="archive")&&e.postType&&React.createElement(B,{label:l("Preview card template","voxel-fse"),value:e.cardTemplate,options:c.map(t=>({label:t.label,value:t.id})),onChange:t=>n({cardTemplate:t}),disabled:a}),(e.source==="search-form"||e.source==="search-filters")&&React.createElement(fe,{label:l("No results label","voxel-fse"),value:e.noResultsLabel,onChange:t=>n({noResultsLabel:t})})),React.createElement(G,{id:"layout",title:l("Layout","voxel-fse")},React.createElement(B,{label:l("Mode","voxel-fse"),value:e.layoutMode,options:[{label:l("Grid","voxel-fse"),value:"grid"},{label:l("Carousel","voxel-fse"),value:"carousel"}],onChange:t=>n({layoutMode:t})}),e.layoutMode==="grid"&&React.createElement(React.Fragment,null,React.createElement(x,{label:l("Number of columns","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"columns",min:1,max:6})),e.layoutMode==="carousel"&&React.createElement(React.Fragment,null,React.createElement(x,{label:l("Item width","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"carouselItemWidth",min:0,max:e.carouselItemWidthUnit==="%"?100:800,availableUnits:["px","%"],unitAttributeName:"carouselItemWidthUnit"}),React.createElement(he,{label:l("Auto slide?","voxel-fse"),checked:e.carouselAutoSlide,onChange:t=>n({carouselAutoSlide:t})}),e.carouselAutoSlide&&React.createElement(x,{label:l("Auto slide interval (ms)","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"carouselAutoSlideInterval",min:1e3,max:1e4,help:l("Time between slides in milliseconds","voxel-fse")})),React.createElement(x,{label:l("Item gap","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"itemGap",min:0,max:100,help:l("Adds gap between the items","voxel-fse")}),e.layoutMode==="carousel"&&React.createElement(React.Fragment,null,React.createElement(x,{label:l("Scroll padding","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"scrollPadding",min:0,max:100,help:l("Adds padding to the scrollable area, useful in full width layouts or in responsive mode","voxel-fse")}),React.createElement(x,{label:l("Item padding","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"itemPadding",min:0,max:100,help:l("Adds padding to an individual item","voxel-fse")}))),React.createElement(G,{id:"icons",title:l("Icons","voxel-fse")},React.createElement(q,{label:l("Load more icon","voxel-fse"),value:e.loadMoreIcon,onChange:t=>n({loadMoreIcon:t})}),React.createElement(q,{label:l("No results icon","voxel-fse"),value:e.noResultsIcon,onChange:t=>n({noResultsIcon:t})}),React.createElement(q,{label:l("Right arrow","voxel-fse"),value:e.rightArrowIcon,onChange:t=>n({rightArrowIcon:t})}),React.createElement(q,{label:l("Left arrow","voxel-fse"),value:e.leftArrowIcon,onChange:t=>n({leftArrowIcon:t})}),React.createElement(q,{label:l("Right chevron","voxel-fse"),value:e.rightChevronIcon,onChange:t=>n({rightChevronIcon:t})}),React.createElement(q,{label:l("Left chevron","voxel-fse"),value:e.leftChevronIcon,onChange:t=>n({leftChevronIcon:t})}),React.createElement(q,{label:l("Reset icon","voxel-fse"),value:e.resetIcon,onChange:t=>n({resetIcon:t})})))}function yo({attributes:e,setAttributes:n}){return React.createElement(De,{attributes:e,setAttributes:n,stateAttribute:"postFeedStylesAccordion",defaultPanel:"counter"},React.createElement(G,{id:"counter",title:l("Counter","voxel-fse")},React.createElement(pe,{label:l("Typography","voxel-fse"),value:e.counterTypography,onChange:o=>n({counterTypography:o})}),React.createElement(R,{label:l("Text color","voxel-fse"),value:e.counterTextColor,onChange:o=>n({counterTextColor:o})}),React.createElement(x,{label:l("Bottom spacing","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"counterBottomSpacing",min:0,max:100})),React.createElement(G,{id:"order-by",title:l("Order by","voxel-fse")},React.createElement(pe,{label:l("Typography","voxel-fse"),value:e.orderByTypography,onChange:o=>n({orderByTypography:o})}),React.createElement(R,{label:l("Text color","voxel-fse"),value:e.orderByTextColor,onChange:o=>n({orderByTextColor:o})}),React.createElement(R,{label:l("Text color (Hover)","voxel-fse"),value:e.orderByTextColorHover,onChange:o=>n({orderByTextColorHover:o})})),React.createElement(G,{id:"loading-results",title:l("Loading results","voxel-fse")},React.createElement(B,{label:l("Loading style","voxel-fse"),value:e.loadingStyle,options:[{label:l("Opacity","voxel-fse"),value:"opacity"},{label:l("Skeleton","voxel-fse"),value:"skeleton"},{label:l("None","voxel-fse"),value:"none"}],onChange:o=>n({loadingStyle:o})}),e.loadingStyle==="opacity"&&React.createElement(me,{label:l("Opacity","voxel-fse"),value:e.loadingOpacity,onChange:o=>n({loadingOpacity:o}),min:0,max:1,step:.1}),e.loadingStyle==="skeleton"&&React.createElement(R,{label:l("Skeleton background","voxel-fse"),value:e.skeletonBackgroundColor,onChange:o=>n({skeletonBackgroundColor:o})})),React.createElement(G,{id:"no-results",title:l("No results","voxel-fse")},React.createElement(he,{label:l("Hide screen","voxel-fse"),checked:e.noResultsHideScreen,onChange:o=>n({noResultsHideScreen:o})}),React.createElement(x,{label:l("Content gap","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"noResultsContentGap",min:0,max:100}),React.createElement(x,{label:l("Icon size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"noResultsIconSize",min:16,max:128}),React.createElement(R,{label:l("Icon color","voxel-fse"),value:e.noResultsIconColor,onChange:o=>n({noResultsIconColor:o})}),React.createElement(pe,{label:l("Typography","voxel-fse"),value:e.noResultsTypography,onChange:o=>n({noResultsTypography:o})}),React.createElement(R,{label:l("Text color","voxel-fse"),value:e.noResultsTextColor,onChange:o=>n({noResultsTextColor:o})}),React.createElement(R,{label:l("Link color","voxel-fse"),value:e.noResultsLinkColor,onChange:o=>n({noResultsLinkColor:o})})),React.createElement(G,{id:"pagination",title:l("Load more / Next / Prev","voxel-fse")},React.createElement(Le,{tabs:[{name:"normal",title:l("Normal","voxel-fse")},{name:"hover",title:l("Hover","voxel-fse")}]},o=>o.name==="normal"?React.createElement(React.Fragment,null,React.createElement(x,{label:l("Top margin","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"paginationTopMargin",min:0,max:100}),React.createElement(pe,{label:l("Button typography","voxel-fse"),value:e.paginationTypography,onChange:r=>n({paginationTypography:r})}),React.createElement(B,{label:l("Justify","voxel-fse"),value:e.paginationJustify,options:[{label:l("Start","voxel-fse"),value:"flex-start"},{label:l("Center","voxel-fse"),value:"center"},{label:l("End","voxel-fse"),value:"flex-end"},{label:l("Space between","voxel-fse"),value:"space-between"},{label:l("Space around","voxel-fse"),value:"space-around"}],onChange:r=>n({paginationJustify:r})}),React.createElement(x,{label:l("Spacing between buttons","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"paginationSpacing",min:0,max:50}),React.createElement(x,{label:l("Border radius","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"paginationBorderRadius",min:0,max:50}),React.createElement(R,{label:l("Text color","voxel-fse"),value:e.paginationTextColor,onChange:r=>n({paginationTextColor:r})}),React.createElement(R,{label:l("Background color","voxel-fse"),value:e.paginationBackgroundColor,onChange:r=>n({paginationBackgroundColor:r})}),React.createElement(x,{label:l("Icon size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"paginationIconSize",min:12,max:48}),React.createElement(R,{label:l("Icon color","voxel-fse"),value:e.paginationIconColor,onChange:r=>n({paginationIconColor:r})})):React.createElement(React.Fragment,null,React.createElement(R,{label:l("Text color","voxel-fse"),value:e.paginationTextColorHover,onChange:r=>n({paginationTextColorHover:r})}),React.createElement(R,{label:l("Background color","voxel-fse"),value:e.paginationBackgroundColorHover,onChange:r=>n({paginationBackgroundColorHover:r})}),React.createElement(R,{label:l("Border color","voxel-fse"),value:e.paginationBorderColorHover,onChange:r=>n({paginationBorderColorHover:r})}),React.createElement(R,{label:l("Icon color","voxel-fse"),value:e.paginationIconColorHover,onChange:r=>n({paginationIconColorHover:r})}))),React.createElement(lo,{label:l("Padding","voxel-fse"),values:e.paginationPadding||{},onChange:o=>n({paginationPadding:o}),availableUnits:["px","em","%"]}),React.createElement(x,{label:l("Height","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"paginationHeight",min:0,max:100}),React.createElement(x,{label:l("Width","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"paginationWidth",unitAttributeName:"paginationWidthUnit",availableUnits:["px","%"],min:0,max:100}),React.createElement(x,{label:l("Icon text spacing","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"paginationIconTextSpacing",min:0,max:50}),React.createElement(B,{label:l("Border type","voxel-fse"),value:e.paginationBorderType,options:[{label:l("None","voxel-fse"),value:""},{label:l("Solid","voxel-fse"),value:"solid"},{label:l("Double","voxel-fse"),value:"double"},{label:l("Dotted","voxel-fse"),value:"dotted"},{label:l("Dashed","voxel-fse"),value:"dashed"},{label:l("Groove","voxel-fse"),value:"groove"}],onChange:o=>n({paginationBorderType:o})}),e.paginationBorderType&&React.createElement(React.Fragment,null,React.createElement(me,{label:l("Border width","voxel-fse"),value:e.paginationBorderWidth,onChange:o=>n({paginationBorderWidth:o}),min:0,max:10}),React.createElement(R,{label:l("Border color","voxel-fse"),value:e.paginationBorderColor,onChange:o=>n({paginationBorderColor:o})}))),React.createElement(G,{id:"carousel-navigation",title:l("Carousel navigation","voxel-fse")},React.createElement(Le,{tabs:[{name:"normal",title:l("Normal","voxel-fse")},{name:"hover",title:l("Hover","voxel-fse")}]},o=>o.name==="normal"?React.createElement(React.Fragment,null,React.createElement(x,{label:l("Horizontal position","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"carouselNavHorizontalPosition",min:-100,max:100}),React.createElement(x,{label:l("Vertical position","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"carouselNavVerticalPosition",min:-100,max:100}),React.createElement(R,{label:l("Button icon color","voxel-fse"),value:e.carouselNavIconColor,onChange:r=>n({carouselNavIconColor:r})}),React.createElement(x,{label:l("Button size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"carouselNavButtonSize",min:20,max:80}),React.createElement(x,{label:l("Button icon size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"carouselNavIconSize",min:12,max:48}),React.createElement(R,{label:l("Button background","voxel-fse"),value:e.carouselNavBackground,onChange:r=>n({carouselNavBackground:r})}),React.createElement(me,{label:l("Backdrop blur","voxel-fse"),value:e.carouselNavBackdropBlur,onChange:r=>n({carouselNavBackdropBlur:r}),min:0,max:20}),React.createElement(x,{label:l("Button border radius","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"carouselNavBorderRadius",min:0,max:50})):React.createElement(React.Fragment,null,React.createElement(x,{label:l("Button size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"carouselNavButtonSizeHover",min:20,max:80}),React.createElement(x,{label:l("Button icon size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"carouselNavIconSizeHover",min:12,max:48}),React.createElement(R,{label:l("Button icon color","voxel-fse"),value:e.carouselNavIconColorHover,onChange:r=>n({carouselNavIconColorHover:r})}),React.createElement(R,{label:l("Button background color","voxel-fse"),value:e.carouselNavBackgroundHover,onChange:r=>n({carouselNavBackgroundHover:r})}),React.createElement(R,{label:l("Button border color","voxel-fse"),value:e.carouselNavBorderColorHover,onChange:r=>n({carouselNavBorderColorHover:r})}))),React.createElement(B,{label:l("Border type","voxel-fse"),value:e.carouselNavBorderType,options:[{label:l("None","voxel-fse"),value:""},{label:l("Solid","voxel-fse"),value:"solid"},{label:l("Double","voxel-fse"),value:"double"},{label:l("Dotted","voxel-fse"),value:"dotted"},{label:l("Dashed","voxel-fse"),value:"dashed"},{label:l("Groove","voxel-fse"),value:"groove"}],onChange:o=>n({carouselNavBorderType:o})}),e.carouselNavBorderType&&React.createElement(React.Fragment,null,React.createElement(me,{label:l("Border width","voxel-fse"),value:e.carouselNavBorderWidth,onChange:o=>n({carouselNavBorderWidth:o}),min:0,max:10}),React.createElement(R,{label:l("Border color","voxel-fse"),value:e.carouselNavBorderColor,onChange:o=>n({carouselNavBorderColor:o})}))))}function Co(){return Math.random().toString(36).substring(2,10)}function Ro({attributes:e,setAttributes:n,clientId:o}){const r=e.blockId||"post-feed",c=Ue(e,{blockId:r,baseClass:"voxel-fse-post-feed-editor",selectorPrefix:"voxel-fse-post-feed"}),a=be({className:c.className,style:{...c.styles,overflow:"hidden",minWidth:0}}),{config:d,error:t}=ho(),{templates:C,isLoading:i}=uo(e.postType);P(()=>{e.blockId||n({blockId:Co()})},[e.blockId,n]),P(()=>{const $="voxel-post-feed-css";if(!document.getElementById($)){const w=document.createElement("link");w.id=$,w.rel="stylesheet";const D=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");w.href=`${D}/wp-content/themes/voxel/assets/dist/post-feed.css?ver=1.7.5.2`,document.head.appendChild(w)}},[]);const b=de($=>{const{getBlocks:w}=$("core/block-editor"),_=(D,k)=>{let S=[];return D.forEach(y=>{y.name===k&&y.clientId!==o&&S.push(y),y.innerBlocks&&y.innerBlocks.length>0&&(S=S.concat(_(y.innerBlocks,k)))}),S};return _(w(),"voxel-fse/search-form")},[o]),U=de($=>{if(e.source!=="search-form"||!e.searchFormId)return null;const{getBlocks:w}=$("core/block-editor"),_=(D,k)=>{for(const S of D){if(S.name==="voxel-fse/search-form"&&(S.attributes.blockId===k||S.clientId===k))return S.clientId;if(S.innerBlocks&&S.innerBlocks.length>0){const y=_(S.innerBlocks,k);if(y)return y}}return null};return _(w(),e.searchFormId)},[e.source,e.searchFormId]),ee=de($=>{if(!U)return"";const{getBlock:w}=$("core/block-editor"),_=w(U);return _&&(_.attributes.selectedPostType||_.attributes.postTypes?.[0])||""}),O=de($=>{if(!U)return{};const{getBlock:w}=$("core/block-editor"),_=w(U);return _?_.attributes.editorFilterValues||{}:{}}),oe=b.map($=>({id:$.attributes.blockId||$.clientId,clientId:$.clientId,label:$.attributes.blockId||$.clientId.substring(0,7)}));return React.createElement(React.Fragment,null,React.createElement(no,null,React.createElement(ao,{tabs:[{id:"content",label:l("Content","voxel-fse"),icon:"",render:()=>React.createElement(xo,{attributes:e,setAttributes:n,config:d,searchFormItems:oe,cardTemplates:C,isLoadingTemplates:i})},{id:"style",label:l("Style","voxel-fse"),icon:"",render:()=>React.createElement(yo,{attributes:e,setAttributes:n})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:n,activeTabAttribute:"postFeedActiveTab"})),React.createElement("div",{...a},t?React.createElement("div",{className:"voxel-fse-error"},React.createElement("span",null,t)):React.createElement(go,{attributes:{...e,postType:e.source==="search-form"&&ee||e.postType},config:d,context:"editor",editorFilters:e.source==="search-form"?O:void 0})))}function Ve(e){return function({attributes:o}){const r=o.blockId||"post-feed",c=Ue(o,{blockId:r,baseClass:"voxel-fse-post-feed-frontend ts-post-feed",selectorPrefix:"voxel-fse-post-feed"}),a=be.save({id:c.elementId,className:c.className,style:c.styles,...c.customAttrs,"data-block-type":"post-feed","data-visibility-behavior":o.visibilityBehavior||void 0,"data-visibility-rules":o.visibilityRules?.length?JSON.stringify(o.visibilityRules):void 0,"data-loop-source":o.loopSource||void 0,"data-loop-property":o.loopProperty||void 0,"data-loop-limit":o.loopLimit||void 0,"data-loop-offset":o.loopOffset||void 0}),d={blockId:o.blockId,source:o.source,searchFormId:o.searchFormId,postType:o.postType,manualPostIds:o.manualPostIds,filters:o.filters,excludePosts:o.excludePosts,priorityFilter:o.priorityFilter,priorityMin:o.priorityMin,priorityMax:o.priorityMax,offset:o.offset,cardTemplate:o.cardTemplate,pagination:o.pagination,postsPerPage:o.postsPerPage,displayDetails:o.displayDetails,noResultsLabel:o.noResultsLabel,layoutMode:o.layoutMode,columns:o.columns,columns_tablet:o.columns_tablet,columns_mobile:o.columns_mobile,itemGap:o.itemGap,itemGap_tablet:o.itemGap_tablet,itemGap_mobile:o.itemGap_mobile,carouselItemWidth:o.carouselItemWidth,carouselItemWidth_tablet:o.carouselItemWidth_tablet,carouselItemWidth_mobile:o.carouselItemWidth_mobile,carouselItemWidthUnit:o.carouselItemWidthUnit,carouselAutoSlide:o.carouselAutoSlide,scrollPadding:o.scrollPadding,scrollPadding_tablet:o.scrollPadding_tablet,scrollPadding_mobile:o.scrollPadding_mobile,itemPadding:o.itemPadding,itemPadding_tablet:o.itemPadding_tablet,itemPadding_mobile:o.itemPadding_mobile,loadingStyle:o.loadingStyle,loadingOpacity:o.loadingOpacity,icons:{loadMore:o.loadMoreIcon,noResults:o.noResultsIcon,rightArrow:o.rightArrowIcon,leftArrow:o.leftArrowIcon,rightChevron:o.rightChevronIcon,leftChevron:o.leftChevronIcon,reset:o.resetIcon}},t=Ae(o,o.blockId);return React.createElement("div",{...a,"data-block-id":o.blockId,"data-source":o.source,"data-search-form":o.searchFormId||""},c.responsiveCSS&&React.createElement("style",{dangerouslySetInnerHTML:{__html:c.responsiveCSS}}),t&&React.createElement("style",{dangerouslySetInnerHTML:{__html:t}}),to(o,!1,void 0,void 0,c.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}}),e&&React.createElement("div",{className:"voxel-fse-block-placeholder"},React.createElement("span",{className:"placeholder-icon"},""),React.createElement("span",{className:"placeholder-text"},"Post Feed (VX)")),o.customCSS&&React.createElement("style",{dangerouslySetInnerHTML:{__html:o.customCSS.replace(/selector/g,c.uniqueSelector)}}))}}const $o=Ve(!1),Io=Ve(!0),So="https://schemas.wp.org/trunk/block.json",_o=3,No="voxel-fse/post-feed",wo="1.0.0",To="Post Feed (VX)",Eo="voxel-fse",Po="Display posts from any Voxel post type with search form integration, filtering, and pagination.",Bo=["post","feed","search","results","voxel","grid","carousel"],ko="voxel-fse",zo={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},Ho="file:./index.js",Fo="file:./frontend.js",Mo="file:./render.php",Lo={blockId:{type:"string",default:""},source:{type:"string",default:"search-form",enum:["search-form","search-filters","manual","archive"]},searchFormId:{type:"string",default:""},postType:{type:"string",default:""},manualPostIds:{type:"array",default:[],items:{type:"number"}},filters:{type:"object",default:{}},excludePosts:{type:"string",default:""},priorityFilter:{type:"boolean",default:!1},priorityMin:{type:"number",default:0},priorityMax:{type:"number",default:0},offset:{type:"number",default:0},cardTemplate:{type:"string",default:"main"},pagination:{type:"string",default:"load_more",enum:["load_more","prev_next","none"]},postsPerPage:{type:"number",default:10},displayDetails:{type:"boolean",default:!0},noResultsLabel:{type:"string",default:"There are no results matching your search"},layoutMode:{type:"string",default:"grid",enum:["grid","carousel"]},columns:{type:"number",default:3},columns_tablet:{type:"number"},columns_mobile:{type:"number"},itemGap:{type:"number",default:20},itemGap_tablet:{type:"number"},itemGap_mobile:{type:"number"},carouselItemWidth:{type:"number"},carouselItemWidth_tablet:{type:"number"},carouselItemWidth_mobile:{type:"number"},carouselItemWidthUnit:{type:"string",default:"px"},carouselAutoSlide:{type:"boolean",default:!1},carouselAutoSlideInterval:{type:"number",default:3e3},scrollPadding:{type:"number"},scrollPadding_tablet:{type:"number"},scrollPadding_mobile:{type:"number"},itemPadding:{type:"number"},itemPadding_tablet:{type:"number"},itemPadding_mobile:{type:"number"},loadMoreIcon:{type:"object",default:{}},noResultsIcon:{type:"object",default:{}},rightArrowIcon:{type:"object",default:{}},leftArrowIcon:{type:"object",default:{}},rightChevronIcon:{type:"object",default:{}},leftChevronIcon:{type:"object",default:{}},resetIcon:{type:"object",default:{}},counterTypography:{type:"object",default:{}},counterTextColor:{type:"string",default:""},counterBottomSpacing:{type:"number"},counterBottomSpacing_tablet:{type:"number"},counterBottomSpacing_mobile:{type:"number"},orderByTypography:{type:"object",default:{}},orderByTextColor:{type:"string",default:""},orderByTextColorHover:{type:"string",default:""},loadingStyle:{type:"string",default:"opacity",enum:["opacity","skeleton","none"]},loadingOpacity:{type:"number",default:.5},skeletonBackgroundColor:{type:"string",default:""},noResultsHideScreen:{type:"boolean",default:!1},noResultsContentGap:{type:"number"},noResultsContentGap_tablet:{type:"number"},noResultsContentGap_mobile:{type:"number"},noResultsIconSize:{type:"number"},noResultsIconSize_tablet:{type:"number"},noResultsIconSize_mobile:{type:"number"},noResultsIconColor:{type:"string",default:""},noResultsTypography:{type:"object",default:{}},noResultsTextColor:{type:"string",default:""},noResultsLinkColor:{type:"string",default:""},paginationTopMargin:{type:"number"},paginationTopMargin_tablet:{type:"number"},paginationTopMargin_mobile:{type:"number"},paginationTypography:{type:"object",default:{}},paginationPadding:{type:"object",default:{}},paginationHeight:{type:"number"},paginationHeight_tablet:{type:"number"},paginationHeight_mobile:{type:"number"},paginationWidth:{type:"number",default:100},paginationWidthUnit:{type:"string",default:"%"},paginationJustify:{type:"string",default:"center"},paginationSpacing:{type:"number"},paginationSpacing_tablet:{type:"number"},paginationSpacing_mobile:{type:"number"},paginationBorderType:{type:"string",default:""},paginationBorderWidth:{type:"number"},paginationBorderColor:{type:"string",default:""},paginationBorderRadius:{type:"number"},paginationBorderRadius_tablet:{type:"number"},paginationBorderRadius_mobile:{type:"number"},paginationTextColor:{type:"string",default:""},paginationBackgroundColor:{type:"string",default:""},paginationIconSize:{type:"number"},paginationIconColor:{type:"string",default:""},paginationIconTextSpacing:{type:"number"},paginationTextColorHover:{type:"string",default:""},paginationBackgroundColorHover:{type:"string",default:""},paginationBorderColorHover:{type:"string",default:""},paginationIconColorHover:{type:"string",default:""},carouselNavHorizontalPosition:{type:"number"},carouselNavHorizontalPosition_tablet:{type:"number"},carouselNavHorizontalPosition_mobile:{type:"number"},carouselNavVerticalPosition:{type:"number"},carouselNavVerticalPosition_tablet:{type:"number"},carouselNavVerticalPosition_mobile:{type:"number"},carouselNavIconColor:{type:"string",default:""},carouselNavButtonSize:{type:"number"},carouselNavButtonSize_tablet:{type:"number"},carouselNavButtonSize_mobile:{type:"number"},carouselNavIconSize:{type:"number"},carouselNavIconSize_tablet:{type:"number"},carouselNavIconSize_mobile:{type:"number"},carouselNavBackground:{type:"string",default:""},carouselNavBackdropBlur:{type:"number"},carouselNavBorderType:{type:"string",default:""},carouselNavBorderWidth:{type:"number"},carouselNavBorderColor:{type:"string",default:""},carouselNavBorderRadius:{type:"number"},carouselNavBorderRadius_tablet:{type:"number"},carouselNavBorderRadius_mobile:{type:"number"},carouselNavButtonSizeHover:{type:"number"},carouselNavButtonSizeHover_tablet:{type:"number"},carouselNavButtonSizeHover_mobile:{type:"number"},carouselNavIconSizeHover:{type:"number"},carouselNavIconSizeHover_tablet:{type:"number"},carouselNavIconSizeHover_mobile:{type:"number"},carouselNavIconColorHover:{type:"string",default:""},carouselNavBackgroundHover:{type:"string",default:""},carouselNavBorderColorHover:{type:"string",default:""},blockMargin:{type:"object",default:{}},blockMargin_tablet:{type:"object",default:{}},blockMargin_mobile:{type:"object",default:{}},blockPadding:{type:"object",default:{}},blockPadding_tablet:{type:"object",default:{}},blockPadding_mobile:{type:"object",default:{}},zIndex:{type:"number"},elementId:{type:"string",default:""},hideDesktop:{type:"boolean",default:!1},hideTablet:{type:"boolean",default:!1},hideMobile:{type:"boolean",default:!1},customClasses:{type:"string",default:""},customCSS:{type:"string",default:""},postFeedSettingsAccordion:{type:"string"},postFeedIconsAccordion:{type:"string"},postFeedStylesAccordion:{type:"string"},postFeedActiveTab:{type:"string",default:"content"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"number"},loopOffset:{type:"number"}},ue={$schema:So,apiVersion:_o,name:No,version:wo,title:To,category:Eo,description:Po,keywords:Bo,textdomain:ko,supports:zo,editorScript:Ho,viewScript:Fo,render:Mo,attributes:Lo},Wo=[{attributes:{...ue.attributes,...je,...Ge},save:Io}];eo(ue.name,{...ue,attributes:{...ue.attributes,...je,...Ge},icon:io,edit:Ro,save:$o,deprecated:Wo});
