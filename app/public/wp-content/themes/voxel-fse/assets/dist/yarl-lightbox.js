(function(Pe,bn,xn){"use strict";function wn(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const n=wn(Pe),pt="carousel",Ze="controller",Cn="navigation",_n="no-scroll",We="portal",Pn="root",vt="toolbar",Ve="fullscreen",gt="thumbnails",Et="zoom",$e="loading",ze="error",Ue="complete",Sn="placeholder",Mn=e=>`active-slide-${e}`,bt="fullsize",Xe="flex_center",In="no_scroll",xt="no_scroll_padding",He="slide",wt="slide_wrapper",Ln="slide_wrapper_interactive",ue="prev",de="next",Ct="swipe",me="close",_t="onPointerDown",Pt="onPointerMove",St="onPointerUp",Mt="onPointerLeave",It="onPointerCancel",Ye="onKeyDown",yn="onKeyUp",Be="onWheel",On="Escape",Nn="ArrowLeft",Rn="ArrowRight",Tn="button",Ke="icon",Lt="contain",yt="cover",Ot="Unknown action type",Nt="yarl__";function G(...e){return[...e].filter(Boolean).join(" ")}function O(e){return`${Nt}${e}`}function K(e){return`--${Nt}${e}`}function be(e,t){return`${e}${t?`_${t}`:""}`}function qe(e){return t=>be(e,t)}function pe(e,t){var r;return(r=e?.[t])!==null&&r!==void 0?r:t}function Dn(e,t,r){return pe(e,"{index} of {total}").replace(/\{index}/g,`${Je(r,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function Se(...e){return()=>{e.forEach(t=>{t()})}}function te(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function je(){return typeof window<"u"}function Ge(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function ve(e){return e.type===void 0||e.type==="image"}function Qe(e,t){return e.imageFit===yt||e.imageFit!==Lt&&t===yt}function Me(e){return typeof e=="string"?Number.parseInt(e,10):e}function Ie(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Me(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function kn(e,t){const r=Ie(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function Fn(){return(je()?window?.devicePixelRatio:void 0)||1}function Je(e,t){return t>0?(e%t+t)%t:0}function Rt(e){return e.length>0}function Tt(e,t){return e[Je(t,e.length)]}function et(e,t){return Rt(e)?Tt(e,t):void 0}function An(e){return ve(e)?e.src:void 0}function Dt(e,t,r){if(!r)return e;const{buttons:o,...i}=e,c=o.findIndex(s=>s===t),l=n.isValidElement(r)?n.cloneElement(r,{key:t},null):r;if(c>=0){const s=[...o];return s.splice(c,1,l),{buttons:s,...i}}return{buttons:[l,...o],...i}}function Zn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const Wn=Number(n.version.split(".")[0])>=19;function Vn(e){return{inert:Wn?e:e?"":void 0}}function $n(e){e.scrollTop}const tt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[me]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Lt,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ce(e,t){return{name:e,component:t}}function X(e,t){return{module:e,children:t}}function kt(e,t,r){return e.module.name===t?r(e):e.children?[X(e.module,e.children.flatMap(o=>{var i;return(i=kt(o,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function ge(e,t,r){return e.flatMap(o=>{var i;return(i=kt(o,t,r))!==null&&i!==void 0?i:[]})}function zn(e,t=[],r=[]){let o=e;const i=m=>{const g=[...o];for(;g.length>0;){const p=g.pop();if(p?.module.name===m)return!0;p?.children&&g.push(...p.children)}return!1},c=(m,g)=>{if(m===""){o=[X(g,o)];return}o=ge(o,m,p=>[X(g,[p])])},l=(m,g)=>{o=ge(o,m,p=>[X(p.module,[X(g,p.children)])])},s=(m,g,p)=>{o=ge(o,m,C=>{var w;return[X(C.module,[...p?[X(g)]:[],...(w=C.children)!==null&&w!==void 0?w:[],...p?[]:[X(g)]])]})},a=(m,g,p)=>{o=ge(o,m,C=>[...p?[X(g)]:[],C,...p?[]:[X(g)]])},f=m=>{l(Ze,m)},v=(m,g)=>{o=ge(o,m,p=>[X(g,p.children)])},u=m=>{o=ge(o,m,g=>g.children)},h=m=>{r.push(m)};return t.forEach(m=>{m({contains:i,addParent:c,append:l,addChild:s,addSibling:a,addModule:f,replace:v,remove:u,augment:h})}),{config:o,augmentation:m=>r.reduce((g,p)=>p(g),m)}}const Ft=n.createContext(null),At=te("useA11yContext","A11yContext",Ft);function Un({children:e}){const[t,r]=n.useState(!1),[o,i]=n.useState(!1),c=n.useMemo(()=>({focusWithin:t,trackFocusWithin:(s,a)=>{const f=v=>u=>{var h;u.currentTarget.contains(u.relatedTarget)||r(v),(h=v?s:a)===null||h===void 0||h(u)};return{onFocus:f(!0),onBlur:f(!1)}},autoPlaying:o,setAutoPlaying:i}),[t,o]);return n.createElement(Ft.Provider,{value:c},e)}const Zt=n.createContext(null),xe=te("useDocument","DocumentContext",Zt);function Xn({nodeRef:e,children:t}){const r=n.useMemo(()=>{const o=c=>{var l;return((l=c||e.current)===null||l===void 0?void 0:l.ownerDocument)||document};return{getOwnerDocument:o,getOwnerWindow:c=>{var l;return((l=o(c))===null||l===void 0?void 0:l.defaultView)||window}}},[e]);return n.createElement(Zt.Provider,{value:r},t)}const Wt=n.createContext(null),Le=te("useEvents","EventsContext",Wt);function Hn({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(l,s)=>{var a;(a=t[l])===null||a===void 0||a.splice(0,t[l].length,...t[l].filter(f=>f!==s))};return{publish:(...[l,s])=>{var a;(a=t[l])===null||a===void 0||a.forEach(f=>f(s))},subscribe:(l,s)=>(t[l]||(t[l]=[]),t[l].push(s),()=>o(l,s)),unsubscribe:o}},[t]);return n.createElement(Wt.Provider,{value:r},e)}const Vt=n.createContext(null),q=te("useLightboxProps","LightboxPropsContext",Vt);function Yn({children:e,...t}){return n.createElement(Vt.Provider,{value:t},e)}const $t=n.createContext(null),ae=te("useLightboxState","LightboxStateContext",$t),zt=n.createContext(null),Bn=te("useLightboxDispatch","LightboxDispatchContext",zt);function Kn(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=t?.increment||0,i=e.globalIndex+o,c=Je(i,r.length),l=et(r,c),s=o||t.duration!==void 0?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:c,globalIndex:i,currentSlide:l,animation:s}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:et(t.slides,t.index)}:e;default:throw new Error(Ot)}}function qn({slides:e,index:t,children:r}){const[o,i]=n.useReducer(Kn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:et(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const c=n.useMemo(()=>({...o,state:o,dispatch:i}),[o,i]);return n.createElement(zt.Provider,{value:i},n.createElement($t.Provider,{value:c},r))}const Ut=n.createContext(null),ye=te("useTimeouts","TimeoutsContext",Ut);function jn({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=l=>{t.splice(0,t.length,...t.filter(s=>s!==l))};return{setTimeout:(l,s)=>{const a=window.setTimeout(()=>{o(a),l()},s);return t.push(a),a},clearTimeout:l=>{l!==void 0&&(o(l),window.clearTimeout(l))}}},[t]);return n.createElement(Ut.Provider,{value:r},e)}const Oe=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:i,onClick:c,style:l,...s},a){const{styles:f,labels:v}=q(),u=pe(v,t);return n.createElement("button",{ref:a,type:"button",title:u,"aria-label":u,className:G(O(Tn),r),onClick:c,style:{...l,...f.button},...s},i?i():n.createElement(o,{className:O(Ke),style:f.icon}))});function Gn(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function le(e,t){return Gn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const Qn=le("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Jn=le("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),eo=le("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),to=le("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),no=le("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Q=je()?n.useLayoutEffect:n.useEffect;function nt(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i?.matches);const c=l=>t(l.matches);return(o=i?.addEventListener)===null||o===void 0||o.call(i,"change",c),()=>{var l;return(l=i?.removeEventListener)===null||l===void 0?void 0:l.call(i,"change",c)}},[]),e}function oo(e){let t=0,r=0,o=0;const c=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(c){const l=c[1].split(",").map(Me);l.length===6?(t=l[4],r=l[5]):l.length===16&&(t=l[12],r=l[13],o=l[14])}return{x:t,y:r,z:o}}function Xt(e,t){const r=n.useRef(void 0),o=n.useRef(void 0),i=nt();return Q(()=>{var c,l,s;if(e.current&&r.current!==void 0&&!i){const{keyframes:a,duration:f,easing:v,onfinish:u}=t(r.current,e.current.getBoundingClientRect(),oo(e.current))||{};if(a&&f){(c=o.current)===null||c===void 0||c.cancel(),o.current=void 0;try{o.current=(s=(l=e.current).animate)===null||s===void 0?void 0:s.call(l,a,{duration:f,easing:v})}catch(h){console.error(h)}o.current&&(o.current.onfinish=()=>{o.current=void 0,u?.()})}}r.current=void 0}),{prepareAnimation:c=>{r.current=c},isAnimationPlaying:()=>{var c;return((c=o.current)===null||c===void 0?void 0:c.playState)==="running"}}}function Ht(){const e=n.useRef(null),t=n.useRef(void 0),[r,o]=n.useState();return{setContainerRef:n.useCallback(c=>{e.current=c,t.current&&(t.current.disconnect(),t.current=void 0);const l=()=>{if(c){const s=window.getComputedStyle(c),a=f=>parseFloat(f)||0;o({width:Math.round(c.clientWidth-a(s.paddingLeft)-a(s.paddingRight)),height:Math.round(c.clientHeight-a(s.paddingTop)-a(s.paddingBottom))})}else o(void 0)};l(),c&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(l),t.current.observe(c))},[]),containerRef:e,containerRect:r}}function Ne(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:r}=ye();return n.useCallback((o,i)=>{r(e.current),e.current=t(o,i>0?i:0)},[t,r])}function T(e){const t=n.useRef(e);return Q(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function Yt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ot(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{Yt(e,r),Yt(t,r)},[e,t])}function ro(e,t=!1){const r=n.useRef(!1);Q(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),i=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:i}}function rt(){const[e,t]=n.useState(!1);return Q(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function io(){const[e]=n.useState({}),t=n.useCallback((i,c)=>{var l;(l=e[i])===null||l===void 0||l.forEach(s=>{c.isPropagationStopped()||s(c)})},[e]),r=n.useMemo(()=>({onPointerDown:i=>t(_t,i),onPointerMove:i=>t(Pt,i),onPointerUp:i=>t(St,i),onPointerLeave:i=>t(Mt,i),onPointerCancel:i=>t(It,i),onKeyDown:i=>t(Ye,i),onKeyUp:i=>t(yn,i),onWheel:i=>t(Be,i)}),[t]),o=n.useCallback((i,c)=>(e[i]||(e[i]=[]),e[i].unshift(c),()=>{const l=e[i];l&&l.splice(0,l.length,...l.filter(s=>s!==c))}),[e]);return{registerSensors:r,subscribeSensors:o}}function Bt(e,t){const r=n.useRef(0),o=Ne(),i=T((...c)=>{r.current=Date.now(),e(c)});return n.useCallback((...c)=>{o(()=>{i(c)},t-(Date.now()-r.current))},[t,i,o])}const it=qe("slide"),ct=qe("slide_image");function Re({slide:e,offset:t,render:r,rect:o,imageFit:i,imageProps:c,onClick:l,onLoad:s,onError:a,style:f}){var v,u,h,m,g,p,C,w;const[P,d]=n.useState($e),{publish:S}=Le(),{setTimeout:_}=ye(),M=n.useRef(null);n.useEffect(()=>{t===0&&S(Mn(P))},[t,P,S]);const b=T(L=>{("decode"in L?L.decode():Promise.resolve()).catch(()=>{}).then(()=>{L.parentNode&&(d(Ue),_(()=>{s?.(L)},0))})}),k=n.useCallback(L=>{M.current=L,L?.complete&&b(L)},[b]),y=n.useCallback(L=>{b(L.currentTarget)},[b]),V=T(()=>{d(ze),a?.()}),D=Qe(e,i),Z=(L,H)=>Number.isFinite(L)?L:H,I=Z(Math.max(...((u=(v=e.srcSet)===null||v===void 0?void 0:v.map(L=>L.width))!==null&&u!==void 0?u:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((h=M.current)===null||h===void 0?void 0:h.naturalWidth)||0),F=Z(Math.max(...((g=(m=e.srcSet)===null||m===void 0?void 0:m.map(L=>L.height))!==null&&g!==void 0?g:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((p=M.current)===null||p===void 0?void 0:p.naturalHeight)||0),R=I&&F?{maxWidth:`min(${I}px, 100%)`,maxHeight:`min(${F}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},$=(C=e.srcSet)===null||C===void 0?void 0:C.sort((L,H)=>L.width-H.width).map(L=>`${L.src} ${L.width}w`).join(", "),W=()=>o&&!D&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,x=$&&o&&je()?`${Math.round(Math.min(W(),o.width))}px`:void 0,{style:N,className:U,...z}=c||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:k,onLoad:y,onError:V,onClick:l,draggable:!1,className:G(O(ct()),D&&O(ct("cover")),P!==Ue&&O(ct("loading")),U),style:{...R,...f,...N},...z,alt:(w=e.alt)!==null&&w!==void 0?w:"",sizes:x,srcSet:$,src:e.src}),P!==Ue&&n.createElement("div",{className:O(it(Sn))},P===$e&&(r?.iconLoading?r.iconLoading():n.createElement(to,{className:G(O(Ke),O(it($e)))})),P===ze&&(r?.iconError?r.iconError():n.createElement(no,{className:G(O(Ke),O(it(ze)))}))))}const co=n.forwardRef(function({className:t,children:r,onFocus:o,onBlur:i,...c},l){const s=n.useRef(null),{trackFocusWithin:a}=At();return n.createElement(Xn,{nodeRef:s},n.createElement("div",{ref:ot(l,s),className:G(O("root"),t),...a(o,i),...c},r))});var Y;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(Y||(Y={}));function Kt(e,t,r,o,i){n.useEffect(()=>i?()=>{}:Se(e(_t,t),e(Pt,r),e(St,o),e(Mt,o),e(It,o)),[e,t,r,o,i])}var J;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(J||(J={}));const lt=30;function lo({disableSwipeNavigation:e,closeOnBackdropClick:t},r,o,i,c,l,s,a,f,v,u,h,m,g,p,C){const w=n.useRef(0),P=n.useRef([]),d=n.useRef(void 0),S=n.useRef(0),_=n.useRef(J.NONE),M=n.useCallback(I=>{d.current===I.pointerId&&(d.current=void 0,_.current=J.NONE);const F=P.current;F.splice(0,F.length,...F.filter(R=>R.pointerId!==I.pointerId))},[]),b=n.useCallback(I=>{M(I),I.persist(),P.current.push(I)},[M]),k=n.useCallback(I=>P.current.find(({pointerId:F})=>I.pointerId===F),[]),y=T(I=>{b(I)}),V=(I,F)=>u&&I>F||v&&I<-F,D=T(I=>{const F=k(I);if(F)if(d.current===I.pointerId){const R=Date.now()-S.current,$=w.current;_.current===J.SWIPE?Math.abs($)>.3*i||Math.abs($)>5&&R<c?a($,R):f($):_.current===J.PULL&&(V($,2*lt)?g($,R):p($)),w.current=0,_.current=J.NONE}else{const{target:R}=I;t&&R instanceof HTMLElement&&R===F.target&&(R.classList.contains(O(He))||R.classList.contains(O(wt)))&&C()}M(I)}),Z=T(I=>{const F=k(I);if(F){const R=d.current===I.pointerId;if(I.buttons===0){R&&w.current!==0?D(I):M(F);return}const $=I.clientX-F.clientX,W=I.clientY-F.clientY;if(d.current===void 0){const x=N=>{b(I),d.current=I.pointerId,S.current=Date.now(),_.current=N};Math.abs($)>Math.abs(W)&&Math.abs($)>lt&&o($)?e||(x(J.SWIPE),l()):Math.abs(W)>Math.abs($)&&V(W,lt)&&(x(J.PULL),h())}else R&&(_.current===J.SWIPE?(w.current=$,s($)):_.current===J.PULL&&(w.current=W,m(W)))}});Kt(r,y,Z,D)}function so({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=T(i=>{const c=Math.abs(i.deltaX)>Math.abs(i.deltaY);(c&&e||!c&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var c;i?i.addEventListener("wheel",o,{passive:!1}):(c=r.current)===null||c===void 0||c.removeEventListener("wheel",o),r.current=i},[o])}function ao(e,t,r,o,i,c,l,s,a){const f=n.useRef(0),v=n.useRef(0),u=n.useRef(void 0),h=n.useRef(void 0),m=n.useRef(0),g=n.useRef(void 0),p=n.useRef(0),{setTimeout:C,clearTimeout:w}=ye(),P=n.useCallback(()=>{u.current&&(w(u.current),u.current=void 0)},[w]),d=n.useCallback(()=>{h.current&&(w(h.current),h.current=void 0)},[w]),S=T(()=>{e!==Y.SWIPE&&(f.current=0,p.current=0,P(),d())});n.useEffect(S,[e,S]);const _=T(b=>{h.current=void 0,f.current===b&&a(f.current)}),M=T(b=>{if(b.ctrlKey||Math.abs(b.deltaY)>Math.abs(b.deltaX))return;const k=y=>{m.current=y,w(g.current),g.current=y>0?C(()=>{m.current=0,g.current=void 0},300):void 0};if(e===Y.NONE){if(Math.abs(b.deltaX)<=1.2*Math.abs(m.current)){k(b.deltaX);return}if(!r(-b.deltaX))return;if(v.current+=b.deltaX,P(),Math.abs(v.current)>30)v.current=0,k(0),p.current=Date.now(),c();else{const y=v.current;u.current=C(()=>{u.current=void 0,y===v.current&&(v.current=0)},i)}}else if(e===Y.SWIPE){let y=f.current-b.deltaX;if(y=Math.min(Math.abs(y),o)*Math.sign(y),f.current=y,l(y),d(),Math.abs(y)>.2*o){k(b.deltaX),s(y,Date.now()-p.current);return}h.current=C(()=>_(y),2*i)}else k(b.deltaX)});n.useEffect(()=>t(Be,M),[t,M])}const qt=qe("container"),jt=n.createContext(null),se=te("useController","ControllerContext",jt);function uo({children:e,...t}){var r;const{carousel:o,animation:i,controller:c,on:l,styles:s,render:a}=t,{closeOnPullUp:f,closeOnPullDown:v,preventDefaultWheelX:u,preventDefaultWheelY:h}=c,[m,g]=n.useState(),p=ae(),C=Bn(),[w,P]=n.useState(Y.NONE),d=n.useRef(0),S=n.useRef(0),_=n.useRef(1),{registerSensors:M,subscribeSensors:b}=io(),{subscribe:k,publish:y}=Le(),V=Ne(),D=Ne(),Z=Ne(),{containerRef:I,setContainerRef:F,containerRect:R}=Ht(),$=ot(so({preventDefaultWheelX:u,preventDefaultWheelY:h}),F),W=n.useRef(null),x=ot(W,void 0),{getOwnerDocument:N}=xe(),U=rt(),z=E=>(U?-1:1)*(typeof E=="number"?E:1),L=T(()=>{var E;return(E=I.current)===null||E===void 0?void 0:E.focus()}),H=T(()=>t),ee=T(()=>p),ne=n.useCallback(E=>y(ue,E),[y]),oe=n.useCallback(E=>y(de,E),[y]),Ee=n.useCallback(()=>y(me),[y]),ut=E=>!(o.finite&&(z(E)>0&&p.currentIndex===0||z(E)<0&&p.currentIndex===p.slides.length-1)),hn=E=>{var A;d.current=E,(A=I.current)===null||A===void 0||A.style.setProperty(K("swipe_offset"),`${Math.round(E)}px`)},dt=E=>{var A,B;S.current=E,_.current=(()=>{const Ce=v&&E>0?E:f&&E<0?-E:0;return Math.min(Math.max(Ge(1-Ce/60*(1-.5),2),.5),1)})(),(A=I.current)===null||A===void 0||A.style.setProperty(K("pull_offset"),`${Math.round(E)}px`),(B=I.current)===null||B===void 0||B.style.setProperty(K("pull_opacity"),`${_.current}`)},{prepareAnimation:ir}=Xt(W,(E,A,B)=>{if(W.current&&R)return{keyframes:[{transform:`translate(0, ${E.rect.y-A.y+B.y}px)`,opacity:E.opacity},{transform:"translate(0, 0)",opacity:1}],duration:E.duration,easing:i.easing.fade}}),mn=(E,A)=>{if(f||v){dt(E);let B=0;W.current&&(B=i.fade*(A?2:1),ir({rect:W.current.getBoundingClientRect(),opacity:_.current,duration:B})),Z(()=>{dt(0),P(Y.NONE)},B),P(Y.ANIMATION),A||Ee()}},{prepareAnimation:cr,isAnimationPlaying:lr}=Xt(W,(E,A,B)=>{var re;if(W.current&&R&&(!((re=p.animation)===null||re===void 0)&&re.duration)){const j=Ie(o.spacing),Ce=(j.percent?j.percent*R.width/100:j.pixel)||0;return{keyframes:[{transform:`translate(${z(p.globalIndex-E.index)*(R.width+Ce)+E.rect.x-A.x+B.x}px, 0)`},{transform:"translate(0, 0)"}],duration:p.animation.duration,easing:p.animation.easing}}}),we=T(E=>{var A,B;const re=E.offset||0,j=re?i.swipe:(A=i.navigation)!==null&&A!==void 0?A:i.swipe,Ce=!re&&!lr()?i.easing.navigation:i.easing.swipe;let{direction:Fe}=E;const Ae=(B=E.count)!==null&&B!==void 0?B:1;let ft=Y.ANIMATION,ie=j*Ae;if(!Fe){const _e=R?.width,En=E.duration||0,mt=_e?j/_e*Math.abs(re):j;Ae!==0?(En<mt?ie=ie/mt*Math.max(En,mt/5):_e&&(ie=j/_e*(_e-Math.abs(re))),Fe=z(re)>0?ue:de):ie=j/2}let ht=0;Fe===ue?ut(z(1))?ht=-Ae:(ft=Y.NONE,ie=j):Fe===de&&(ut(z(-1))?ht=Ae:(ft=Y.NONE,ie=j)),ie=Math.round(ie),D(()=>{hn(0),P(Y.NONE)},ie),W.current&&cr({rect:W.current.getBoundingClientRect(),index:p.globalIndex}),P(ft),y(Ct,{type:"swipe",increment:ht,duration:ie,easing:Ce})});n.useEffect(()=>{var E,A;!((E=p.animation)===null||E===void 0)&&E.increment&&(!((A=p.animation)===null||A===void 0)&&A.duration)&&V(()=>C({type:"swipe",increment:0}),p.animation.duration)},[p.animation,C,V]);const pn=[b,ut,R?.width||0,i.swipe,()=>P(Y.SWIPE),E=>hn(E),(E,A)=>we({offset:E,duration:A,count:1}),E=>we({offset:E,count:0})],sr=[()=>{v&&P(Y.PULL)},E=>dt(E),E=>mn(E),E=>mn(E,!0)];lo(c,...pn,f,v,...sr,Ee),ao(w,...pn);const vn=T(()=>{c.focus&&N().querySelector(`.${O(We)} .${O(qt())}`)&&L()});n.useEffect(vn,[vn]);const gn=T(()=>{var E;(E=l.view)===null||E===void 0||E.call(l,{index:p.currentIndex})});n.useEffect(gn,[p.globalIndex,gn]),n.useEffect(()=>Se(k(ue,E=>we({direction:ue,...E})),k(de,E=>we({direction:de,...E})),k(Ct,E=>C(E))),[k,we,C]);const ar=n.useMemo(()=>({prev:ne,next:oe,close:Ee,focus:L,slideRect:R?kn(R,o.padding):{width:0,height:0},containerRect:R||{width:0,height:0},subscribeSensors:b,containerRef:I,setCarouselRef:x,toolbarWidth:m,setToolbarWidth:g}),[ne,oe,Ee,L,b,R,I,x,m,g,o.padding]);return n.useImperativeHandle(c.ref,()=>({prev:ne,next:oe,close:Ee,focus:L,getLightboxProps:H,getLightboxState:ee}),[ne,oe,Ee,L,H,ee]),n.createElement("div",{ref:$,className:G(O(qt()),O(Xe)),style:{...w===Y.SWIPE?{[K("swipe_offset")]:`${Math.round(d.current)}px`}:null,...w===Y.PULL?{[K("pull_offset")]:`${Math.round(S.current)}px`,[K("pull_opacity")]:`${_.current}`}:null,...c.touchAction!=="none"?{[K("controller_touch_action")]:c.touchAction}:null,...s.container},tabIndex:-1,...M},R&&n.createElement(jt.Provider,{value:ar},e,(r=a.controls)===null||r===void 0?void 0:r.call(a)))}const fo=ce(Ze,uo);function fe(e){return be(pt,e)}function Gt(e){return be(He,e)}function ho({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o,slides:i}=ae(),{slideRect:c,focus:l}=se(),{render:s,carousel:{imageFit:a,imageProps:f},on:{click:v},styles:{slide:u},labels:h}=q(),{getOwnerDocument:m}=xe(),g=t!==0;n.useEffect(()=>{var C;g&&(!((C=r.current)===null||C===void 0)&&C.contains(m().activeElement))&&l()},[g,l,m]);const p=()=>{var C,w,P,d;let S=(C=s.slide)===null||C===void 0?void 0:C.call(s,{slide:e,offset:t,rect:c});return!S&&ve(e)&&(S=n.createElement(Re,{slide:e,offset:t,render:s,rect:c,imageFit:a,imageProps:f,onClick:g?void 0:()=>v?.({index:o})})),S?n.createElement(n.Fragment,null,(w=s.slideHeader)===null||w===void 0?void 0:w.call(s,{slide:e}),((P=s.slideContainer)!==null&&P!==void 0?P:(({children:_})=>_))({slide:e,children:S}),(d=s.slideFooter)===null||d===void 0?void 0:d.call(s,{slide:e})):null};return n.createElement("div",{ref:r,className:G(O(Gt()),!g&&O(Gt("current")),O(Xe)),...Vn(g),style:u,role:"group","aria-roledescription":pe(h,"Slide"),"aria-label":Dn(h,i,o+t)},p())}function mo(){const e=q().styles.slide;return n.createElement("div",{className:O(He),style:e})}function po({carousel:e,labels:t}){const{slides:r,currentIndex:o,globalIndex:i}=ae(),{setCarouselRef:c}=se(),{autoPlaying:l,focusWithin:s}=At(),a=Ie(e.spacing),f=Ie(e.padding),v=Zn(e,r,1),u=[];if(Rt(r))for(let h=o-v;h<=o+v;h+=1){const m=Tt(r,h),g=i-o+h,p=e.finite&&(h<0||h>r.length-1);u.push(p?{key:g}:{key:[`${g}`,An(m)].filter(Boolean).join("|"),offset:h-o,slide:m})}return n.createElement("div",{ref:c,className:G(O(fe()),u.length>0&&O(fe("with_slides"))),style:{[`${K(fe("slides_count"))}`]:u.length,[`${K(fe("spacing_px"))}`]:a.pixel||0,[`${K(fe("spacing_percent"))}`]:a.percent||0,[`${K(fe("padding_px"))}`]:f.pixel||0,[`${K(fe("padding_percent"))}`]:f.percent||0},role:"region","aria-live":l&&!s?"off":"polite","aria-roledescription":pe(t,"Carousel"),"aria-label":pe(t,"Photo gallery")},u.map(({key:h,slide:m,offset:g})=>m?n.createElement(ho,{key:h,slide:m,offset:g}):n.createElement(mo,{key:h})))}const vo=ce(pt,po);function Qt(){const{carousel:e}=q(),{slides:t,currentIndex:r}=ae(),o=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:i}}function go(e){var t;const r=rt(),{publish:o}=Le(),{animation:i}=q(),{prevDisabled:c,nextDisabled:l}=Qt(),s=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=Bt(()=>o(ue),s),f=Bt(()=>o(de),s),v=T(u=>{switch(u.key){case On:o(me);break;case Nn:(r?l:c)||(r?f:a)();break;case Rn:(r?c:l)||(r?a:f)();break}});n.useEffect(()=>e(Ye,v),[e,v])}function Jt({label:e,icon:t,renderIcon:r,action:o,onClick:i,disabled:c,style:l}){return n.createElement(Oe,{label:e,icon:t,renderIcon:r,className:O(`navigation_${o}`),disabled:c,onClick:i,style:l,...ro(se().focus,c)})}function Eo({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:i}){const{prev:c,next:l,subscribeSensors:s}=se(),{prevDisabled:a,nextDisabled:f}=Qt();return go(s),n.createElement(n.Fragment,null,e?e():n.createElement(Jt,{label:"Previous",action:ue,icon:Jn,renderIcon:r,style:i.navigationPrev,disabled:a,onClick:c}),t?t():n.createElement(Jt,{label:"Next",action:de,icon:eo,renderIcon:o,style:i.navigationNext,disabled:f,onClick:l}))}const bo=ce(Cn,Eo),en=O(In),xo=O(xt);function wo(e){return"style"in e}function tn(e,t,r){const o=window.getComputedStyle(e),i=r?"padding-left":"padding-right",c=r?o.paddingLeft:o.paddingRight,l=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Me(c)||0)+t}px`),()=>{l?e.style.setProperty(i,l):e.style.removeProperty(i)}}function Co({noScroll:{disabled:e},children:t}){const r=rt(),{getOwnerDocument:o,getOwnerWindow:i}=xe();return n.useEffect(()=>{if(e)return()=>{};const c=[],l=i(),{body:s,documentElement:a}=o(),f=Math.round(l.innerWidth-a.clientWidth);if(f>0){c.push(tn(s,f,r));const v=s.getElementsByTagName("*");for(let u=0;u<v.length;u+=1){const h=v[u];wo(h)&&l.getComputedStyle(h).getPropertyValue("position")==="fixed"&&!h.classList.contains(xo)&&c.push(tn(h,f,r))}}return s.classList.add(en),()=>{s.classList.remove(en),c.forEach(v=>v())}},[r,e,o,i]),n.createElement(n.Fragment,null,t)}const _o=ce(_n,Co);function nn(e){return be(We,e)}function on(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function Po({children:e,animation:t,styles:r,className:o,on:i,portal:c,close:l,labels:s}){const[a,f]=n.useState(!1),[v,u]=n.useState(!1),h=n.useRef([]),m=n.useRef(null),{setTimeout:g}=ye(),{subscribe:p}=Le(),w=nt()?0:t.fade;n.useEffect(()=>(f(!0),()=>{f(!1),u(!1)}),[]);const P=T(()=>{h.current.forEach(M=>M()),h.current=[]}),d=T(()=>{var M;u(!1),P(),(M=i.exiting)===null||M===void 0||M.call(i),g(()=>{var b;(b=i.exited)===null||b===void 0||b.call(i),l()},w)});n.useEffect(()=>p(me,d),[p,d]);const S=T(M=>{var b,k,y;$n(M),u(!0),(b=i.entering)===null||b===void 0||b.call(i);const V=(y=(k=M.parentNode)===null||k===void 0?void 0:k.children)!==null&&y!==void 0?y:[];for(let D=0;D<V.length;D+=1){const Z=V[D];["TEMPLATE","SCRIPT","STYLE"].indexOf(Z.tagName)===-1&&Z!==M&&(h.current.push(on(Z,"inert","")),h.current.push(on(Z,"aria-hidden","true")))}h.current.push(()=>{var D,Z;(Z=(D=m.current)===null||D===void 0?void 0:D.focus)===null||Z===void 0||Z.call(D)}),g(()=>{var D;(D=i.entered)===null||D===void 0||D.call(i)},w)}),_=n.useCallback(M=>{M?S(M):P()},[S,P]);return a?xn.createPortal(n.createElement(co,{ref:_,className:G(o,O(nn()),O(xt),v&&O(nn("open"))),"aria-modal":!0,role:"dialog","aria-label":pe(s,"Lightbox"),style:{...t.fade!==tt.animation.fade?{[K("fade_animation_duration")]:`${w}ms`}:null,...t.easing.fade!==tt.animation.easing.fade?{[K("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:M=>{m.current||(m.current=M.relatedTarget)}},e),c.root||document.body):null}const So=ce(We,Po);function Mo({children:e}){return n.createElement(n.Fragment,null,e)}const Io=ce(Pn,Mo);function Lo(e){return be(vt,e)}function yo({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:i,setToolbarWidth:c}=se(),{setContainerRef:l,containerRect:s}=Ht();Q(()=>{c(s?.width)},[c,s?.width]);const a=()=>t?t():n.createElement(Oe,{key:me,label:"Close",icon:Qn,renderIcon:r,onClick:i});return n.createElement("div",{ref:l,style:o.toolbar,className:O(Lo())},e?.map(f=>f===me?a():f))}const Oo=ce(vt,yo);function rn(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>rn(o,t)))}function No(e,t={}){const{easing:r,...o}=e,{easing:i,...c}=t;return{easing:{...r,...i},...o,...c}}function Ro({carousel:e,animation:t,render:r,toolbar:o,controller:i,noScroll:c,on:l,plugins:s,slides:a,index:f,...v}){const{animation:u,carousel:h,render:m,toolbar:g,controller:p,noScroll:C,on:w,slides:P,index:d,plugins:S,..._}=tt,{config:M,augmentation:b}=zn([X(So,[X(_o,[X(fo,[X(vo),X(Oo),X(bo)])])])],s||S),k=b({animation:No(u,t),carousel:{...h,...e},render:{...m,...r},toolbar:{...g,...o},controller:{...p,...i},noScroll:{...C,...c},on:{...w,...l},..._,...v});return k.open?n.createElement(Yn,{...k},n.createElement(qn,{slides:a||P,index:Me(f||d)},n.createElement(jn,null,n.createElement(Hn,null,n.createElement(Un,null,rn(X(Io,M),k)))))):null}const To={minZoom:1,maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,pinchZoomV4:!1,scrollToZoom:!1};function Do(e){return Math.min(Math.max(e,Number.EPSILON),1)}function cn(e){const{minZoom:t,...r}={...To,...e};return{minZoom:Do(t),...r}}function ko(e,t,r,o){const i=n.useRef(void 0),c=n.useRef(void 0),{zoom:l}=q().animation,s=nt(),a=T(()=>{var f,v,u;if((f=i.current)===null||f===void 0||f.cancel(),i.current=void 0,c.current&&o?.current){try{i.current=(u=(v=o.current).animate)===null||u===void 0?void 0:u.call(v,[{transform:c.current},{transform:`scale(${e}) translateX(${t}px) translateY(${r}px)`}],{duration:s?0:l??500,easing:i.current?"ease-out":"ease-in-out"})}catch(h){console.error(h)}c.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return Q(a,[e,t,r,a]),n.useCallback(()=>{c.current=o?.current?window.getComputedStyle(o.current).transform:void 0},[o])}function Fo(e,t){const{on:r}=q(),o=T(()=>{var i;t||(i=r.zoom)===null||i===void 0||i.call(r,{zoom:e})});n.useEffect(o,[e,o])}function Te(){const{zoom:e}=q();return cn(e)}function Ao(e,t){var r,o;let i={width:0,height:0},c={width:0,height:0};const{currentSlide:l}=ae(),{imageFit:s}=q().carousel,{maxZoomPixelRatio:a}=Te();if(e&&l){const v={...l,...t};if(ve(v)){const u=Qe(v,s),h=Math.max(...(((r=v.srcSet)===null||r===void 0?void 0:r.map(g=>g.width))||[]).concat(v.width?[v.width]:[])),m=Math.max(...(((o=v.srcSet)===null||o===void 0?void 0:o.map(g=>g.height))||[]).concat(v.height?[v.height]:[]));h>0&&m>0&&e.width>0&&e.height>0&&(c=u?{width:Math.round(Math.min(h,e.width/e.height*m)),height:Math.round(Math.min(m,e.height/e.width*h))}:{width:h,height:m},c={width:c.width*a,height:c.height*a},i=u?{width:Math.min(e.width,c.width,h),height:Math.min(e.height,c.height,m)}:{width:Math.round(Math.min(e.width,e.height/m*h,h)),height:Math.round(Math.min(e.height,e.width/h*m,m))})}}const f=i.width?Math.max(Ge(c.width/i.width,5),1):1;return{imageRect:i,maxZoom:f}}function ln(e,t){return Math.hypot(e.clientX-t.clientX,e.clientY-t.clientY)}function sn(e,t,r=100,o=2){return e*Math.min(1+Math.abs(t/r),o)**Math.sign(t)}function Zo(e,t,r,o,i,c,l,s,a){const f=n.useRef([]),v=n.useRef(0),u=n.useRef(void 0),{globalIndex:h}=ae(),{getOwnerWindow:m}=xe(),{containerRef:g,subscribeSensors:p}=se(),{keyboardMoveDistance:C,zoomInMultiplier:w,wheelZoomDistanceFactor:P,scrollToZoom:d,doubleTapDelay:S,doubleClickDelay:_,doubleClickMaxStops:M,pinchZoomDistanceFactor:b,pinchZoomV4:k}=Te(),y=n.useCallback(x=>{if(g.current){const{pageX:N,pageY:U}=x,{scrollX:z,scrollY:L}=m(),{left:H,top:ee,width:ne,height:oe}=g.current.getBoundingClientRect();return[N-H-z-ne/2,U-ee-L-oe/2]}return[]},[g,m]),V=T(x=>{const{key:N,metaKey:U,ctrlKey:z}=x,L=U||z,H=()=>{x.preventDefault(),x.stopPropagation()};if(e>1){const ee=(ne,oe)=>{H(),s(ne,oe)};N==="ArrowDown"?ee(0,C):N==="ArrowUp"?ee(0,-C):N==="ArrowLeft"?ee(-C,0):N==="ArrowRight"&&ee(C,0)}N==="+"||L&&N==="="?(H(),i()):N==="-"||L&&N==="_"?(H(),c()):L&&N==="0"&&(H(),l(1))}),D=T(x=>{if((x.ctrlKey||d)&&Math.abs(x.deltaY)>Math.abs(x.deltaX)){x.stopPropagation(),l(sn(e,-x.deltaY,P),!0,...y(x));return}e>1&&(x.stopPropagation(),d||s(x.deltaX,x.deltaY))}),Z=n.useCallback(x=>{const N=f.current;N.splice(0,N.length,...N.filter(U=>U.pointerId!==x.pointerId))},[]),I=n.useCallback(x=>{Z(x),x.persist(),f.current.push(x)},[Z]),F=T(x=>{var N;const U=f.current;if(x.pointerType==="mouse"&&x.buttons>1||!(!((N=a?.current)===null||N===void 0)&&N.contains(x.target)))return;e>1&&x.stopPropagation();const{timeStamp:z}=x;if(U.length===0&&z-v.current<(x.pointerType==="touch"?S:_)){v.current=0;const L=e>=1?e!==r?e*Math.max(r**(1/M),w):1:e!==t?e/Math.max(t**(-1/M),w):1;l(L,!1,...y(x))}else v.current=z;if(I(x),U.length===2){const L=ln(U[0],U[1]);u.current={previousDistance:L,initialDistance:Math.max(L,1),initialZoom:e}}}),R=T(x=>{const N=f.current,U=N.find(z=>z.pointerId===x.pointerId);if(N.length===2&&u.current){x.stopPropagation(),I(x);const z=ln(N[0],N[1]),L=k?u.current.initialZoom/u.current.initialDistance*z:sn(e,z-u.current.previousDistance,b);l(L,!0,...N.map(H=>y(H)).reduce((H,ee)=>ee.map((ne,oe)=>H[oe]+ne/2))),u.current.previousDistance=z;return}e>1&&(x.stopPropagation(),U&&(N.length===1&&s((U.clientX-x.clientX)/e,(U.clientY-x.clientY)/e),I(x)))}),$=n.useCallback(x=>{const N=f.current;N.length===2&&N.find(U=>U.pointerId===x.pointerId)&&(u.current=void 0),Z(x)},[Z]),W=n.useCallback(()=>{const x=f.current;x.splice(0,x.length),v.current=0,u.current=void 0},[]);Kt(p,F,R,$,o),n.useEffect(W,[h,W]),n.useEffect(()=>o?()=>{}:Se(W,p(Ye,V),p(Be,D)),[o,p,W,V,D])}function Wo(e,t,r){const[o,i]=n.useState(1),[c,l]=n.useState(0),[s,a]=n.useState(0),f=ko(o,c,s,r),{currentSlide:v,globalIndex:u}=ae(),{containerRect:h,slideRect:m}=se(),{minZoom:g,zoomInMultiplier:p}=Te(),C=v&&ve(v)?v.src:void 0,w=!C||!r?.current;Q(()=>{i(1),l(0),a(0)},[u,C]);const P=n.useCallback((b,k,y)=>{const V=y||o,D=c-(b||0),Z=s-(k||0),I=(e.width*V-m.width)/2/V,F=(e.height*V-m.height)/2/V;l(Math.min(Math.abs(D),Math.max(I,0))*Math.sign(D)),a(Math.min(Math.abs(Z),Math.max(F,0))*Math.sign(Z))},[o,c,s,m,e.width,e.height]),d=n.useCallback((b,k,y,V)=>{const D=Ge(b+.01<t?b-.01>g?b:g:t,5);k||f(),P(y?y*(1/o-1/D):0,V?V*(1/o-1/D):0,D),i(D)},[o,g,t,P,f]),S=T(()=>{o>1&&(o>t&&d(t,!0),P())});Q(S,[h.width,h.height,S]);const _=n.useCallback(()=>{const b=o*p;d(o<1&&b>1?1:b)},[o,p,d]),M=n.useCallback(()=>{const b=o/p;d(o>1&&b<1?1:b)},[o,p,d]);return{zoom:o,offsetX:c,offsetY:s,disabled:w,changeOffsets:P,changeZoom:d,zoomIn:_,zoomOut:M}}const an=n.createContext(null),st=te("useZoom","ZoomControllerContext",an);function Vo({children:e}){const[t,r]=n.useState(),{slideRect:o}=se(),{ref:i,minZoom:c}=Te(),{imageRect:l,maxZoom:s}=Ao(o,t?.imageDimensions),{zoom:a,offsetX:f,offsetY:v,disabled:u,changeZoom:h,changeOffsets:m,zoomIn:g,zoomOut:p}=Wo(l,s,t?.zoomWrapperRef);Fo(a,u),Zo(a,c,s,u,g,p,h,m,t?.zoomWrapperRef);const C=n.useMemo(()=>({zoom:a,minZoom:c,maxZoom:s,offsetX:f,offsetY:v,disabled:u,zoomIn:g,zoomOut:p,changeZoom:h}),[a,c,s,f,v,u,g,p,h]);n.useImperativeHandle(i,()=>C,[C]);const w=n.useMemo(()=>({...C,setZoomWrapper:r}),[C,r]);return n.createElement(an.Provider,{value:w},e)}const $o=le("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),zo=le("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),un=n.forwardRef(function({zoomIn:t,onLoseFocus:r},o){const i=n.useRef(!1),c=n.useRef(!1),{zoom:l,minZoom:s,maxZoom:a,zoomIn:f,zoomOut:v,disabled:u}=st(),{render:h}=q(),m=u||(t?l>=a:l<=s);return n.useEffect(()=>{m&&i.current&&c.current&&r(),m||(i.current=!0)},[m,r]),n.createElement(Oe,{ref:o,disabled:m,label:t?"Zoom in":"Zoom out",icon:t?$o:zo,renderIcon:t?h.iconZoomIn:h.iconZoomOut,onClick:t?f:v,onFocus:()=>{c.current=!0},onBlur:()=>{c.current=!1}})});function Uo(){const e=n.useRef(null),t=n.useRef(null),{focus:r}=se(),o=n.useCallback(l=>{var s,a;!((s=l.current)===null||s===void 0)&&s.disabled?r():(a=l.current)===null||a===void 0||a.focus()},[r]),i=n.useCallback(()=>o(e),[o]),c=n.useCallback(()=>o(t),[o]);return n.createElement(n.Fragment,null,n.createElement(un,{zoomIn:!0,ref:e,onLoseFocus:c}),n.createElement(un,{ref:t,onLoseFocus:i}))}function Xo(){const{render:e}=q(),t=st();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Uo,null)}function Ho(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Yo({current:e,preload:t},{type:r,source:o}){switch(r){case"fetch":return e?{current:e,preload:o}:{current:o};case"done":return o===t?{current:o}:{current:e,preload:t};default:throw new Error(Ot)}}function Bo(e){var t,r;const[{current:o,preload:i},c]=n.useReducer(Yo,{}),{slide:l,rect:s,imageFit:a,render:f,interactive:v}=e,u=l.srcSet.sort((_,M)=>_.width-M.width),h=(t=l.width)!==null&&t!==void 0?t:u[u.length-1].width,m=(r=l.height)!==null&&r!==void 0?r:u[u.length-1].height,g=Qe(l,a),p=Math.max(...u.map(_=>_.width)),C=Math.min((g?Math.max:Math.min)(s.width,h*(s.height/m)),p),w=Fn(),P=T(()=>{var _;const M=(_=u.find(b=>b.width>=C*w))!==null&&_!==void 0?_:u[u.length-1];(!o||u.findIndex(b=>b.src===o)<u.findIndex(b=>b===M))&&c({type:"fetch",source:M.src})});Q(P,[s.width,s.height,w,P]);const d=T(_=>c({type:"done",source:_})),S={WebkitTransform:v?"initial":"translateZ(0)"};return g||Object.assign(S,s.width/s.height<h/m?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==o&&n.createElement(Re,{key:"preload",...e,offset:void 0,slide:{...l,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...S},onLoad:()=>d(i),render:{...f,iconLoading:()=>null,iconError:()=>null}}),o&&n.createElement(Re,{key:"current",...e,slide:{...l,src:o,srcSet:void 0},style:S}))}function Ko({render:e,slide:t,offset:r,rect:o}){var i;const[c,l]=n.useState(),s=n.useRef(null),{zoom:a,maxZoom:f,offsetX:v,offsetY:u,setZoomWrapper:h}=st(),m=a>1,{carousel:g,on:p}=q(),{currentIndex:C}=ae();Q(()=>r===0?(h({zoomWrapperRef:s,imageDimensions:c}),()=>h(void 0)):()=>{},[r,c,h]);let w=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:r,rect:o,zoom:a,maxZoom:f});if(!w&&ve(t)){const P={slide:t,offset:r,rect:o,render:e,imageFit:g.imageFit,imageProps:g.imageProps,onClick:r===0?()=>{var d;return(d=p.click)===null||d===void 0?void 0:d.call(p,{index:C})}:void 0};w=Ho(t)?n.createElement(Bo,{...P,slide:t,interactive:m,rect:r===0?{width:o.width*a,height:o.height*a}:o}):n.createElement(Re,{onLoad:d=>l({width:d.naturalWidth,height:d.naturalHeight}),...P})}return w?n.createElement("div",{ref:s,className:G(O(bt),O(Xe),O(wt),m&&O(Ln)),style:r===0?{transform:`scale(${a}) translateX(${v}px) translateY(${u}px)`}:void 0},w):null}const qo=({augment:e,addModule:t})=>{e(({zoom:r,toolbar:o,render:i,controller:c,...l})=>{const s=cn(r);return{zoom:s,toolbar:Dt(o,Et,n.createElement(Xo,null)),render:{...i,slide:a=>{var f;return ve(a.slide)?n.createElement(Ko,{render:i,...a}):(f=i.slide)===null||f===void 0?void 0:f.call(i,a)}},controller:{...c,preventDefaultWheelY:s.scrollToZoom},...l}}),t(ce(Et,Vo))},jo={auto:!1,ref:null},dn=e=>({...jo,...e}),fn=n.createContext(null),Go=te("useFullscreen","FullscreenContext",fn);function Qo({fullscreen:e,on:t,children:r}){const{auto:o,ref:i}=dn(e),c=n.useRef(null),[l,s]=n.useState(),[a,f]=n.useState(!1),v=n.useRef(!1),{getOwnerDocument:u}=xe();Q(()=>{var d,S,_,M;const b=u();s(!((M=(_=(S=(d=b.fullscreenEnabled)!==null&&d!==void 0?d:b.webkitFullscreenEnabled)!==null&&S!==void 0?S:b.mozFullScreenEnabled)!==null&&_!==void 0?_:b.msFullscreenEnabled)!==null&&M!==void 0&&M))},[u]);const h=n.useCallback(()=>{var d;const S=u(),_=S.fullscreenElement||S.webkitFullscreenElement||S.mozFullScreenElement||S.msFullscreenElement;return((d=_?.shadowRoot)===null||d===void 0?void 0:d.fullscreenElement)||_},[u]),m=n.useCallback(()=>{const d=c.current;try{d.requestFullscreen?d.requestFullscreen().catch(()=>{}):d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.msRequestFullscreen&&d.msRequestFullscreen()}catch{}},[]),g=n.useCallback(()=>{if(!h())return;const d=u();try{d.exitFullscreen?d.exitFullscreen().catch(()=>{}):d.webkitExitFullscreen?d.webkitExitFullscreen():d.mozCancelFullScreen?d.mozCancelFullScreen():d.msExitFullscreen&&d.msExitFullscreen()}catch{}},[h,u]);n.useEffect(()=>{const d=u(),S=()=>{f(h()===c.current)};return Se(...["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].map(_=>(d.addEventListener(_,S),()=>d.removeEventListener(_,S))))},[h,u]);const p=T(()=>{var d;return(d=t.enterFullscreen)===null||d===void 0?void 0:d.call(t)}),C=T(()=>{var d;return(d=t.exitFullscreen)===null||d===void 0?void 0:d.call(t)});n.useEffect(()=>{a&&(v.current=!0),v.current&&(a?p:C)()},[a,p,C]);const w=T(()=>{var d;return(d=o?m:null)===null||d===void 0||d(),g});n.useEffect(w,[w]);const P=n.useMemo(()=>({fullscreen:a,disabled:l,enter:m,exit:g}),[a,l,m,g]);return n.useImperativeHandle(i,()=>P,[P]),n.createElement("div",{ref:c,className:G(O(Ve),O(bt))},n.createElement(fn.Provider,{value:P},r))}const Jo=le("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),er=le("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function tr(){var e;const{fullscreen:t,disabled:r,enter:o,exit:i}=Go(),{render:c}=q();return r?null:c.buttonFullscreen?n.createElement(n.Fragment,null,(e=c.buttonFullscreen)===null||e===void 0?void 0:e.call(c,{fullscreen:t,disabled:r,enter:o,exit:i})):n.createElement(Oe,{disabled:r,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?er:Jo,renderIcon:t?c.iconExitFullscreen:c.iconEnterFullscreen,onClick:t?i:o})}function nr({augment:e,contains:t,addParent:r}){e(({fullscreen:o,toolbar:i,...c})=>({toolbar:Dt(i,Ve,n.createElement(tr,null)),fullscreen:dn(o),...c})),r(t(gt)?gt:Ze,ce(Ve,Qo))}let he=null,De=null,ke=null;function or(){const[e,t]=Pe.useState(!1),[r,o]=Pe.useState([]),[i,c]=Pe.useState(0);return he=t,De=o,ke=c,e?React.createElement(Ro,{open:e,close:()=>t(!1),slides:r,index:i,plugins:[qo,nr],animation:{fade:250},carousel:{finite:!1},controller:{closeOnBackdropClick:!0},zoom:{maxZoomPixelRatio:3,scrollToZoom:!0}}):null}function at(){if(document.getElementById("voxel-lightbox-root"))return;const e=document.createElement("div");e.id="voxel-lightbox-root",document.body.appendChild(e),bn.createRoot(e).render(React.createElement(or,null))}const rr={open(e,t=0){if(!he){at(),requestAnimationFrame(()=>{De&&ke&&he&&(De(e),ke(t),he(!0))});return}De(e),ke(t),he(!0)},close(){he&&he(!1)}};window.VoxelLightbox=rr,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",at,{once:!0}):at()})(React,ReactDOM,ReactDOM);
