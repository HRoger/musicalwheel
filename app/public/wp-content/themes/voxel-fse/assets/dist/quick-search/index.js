import{registerBlockType as ye}from"@wordpress/blocks";import{InspectorControls as be,useBlockProps as ee}from"@wordpress/block-editor";import{__ as l}from"@wordpress/i18n";import{useState as w,useRef as K,useEffect as B,useCallback as H,useMemo as X}from"react";import{a as Re}from"../siteUrl-7x5eJEvc.js";import"../voxelShim-DB_Ue-9R.js";import{g as ce}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as Ce}from"../backgroundElements-Ui-iCrLV.js";import{createPortal as Se}from"react-dom";import{b as Y,S as E,D as ke,R as b,C as $,T as O,A as ie,a as I,g as te,e as ne,c as W}from"../TypographyPopup-CAcEJ5NA.js";import{R as Ee,I as Be}from"../InspectorTabs-Bq2wAh4W.js";import{Spinner as $e,SelectControl as Z,ToggleControl as Te,RangeControl as le}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import{R as x}from"../RepeaterControl-BnF4Wtgt.js";import{I as D}from"../IconPickerControl-Lep6knGI.js";import{P as we}from"../PostSelectControl-DfkHxd67.js";import{R as ae}from"../ResponsiveDimensionsControl-BXd6ZjaD.js";import{P as Ie}from"../PopupCustomStyleControl-CqrYAaTh.js";import{V as _e}from"../VoxelGridIcon-D5dF5acW.js";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";function He({attributes:e,setAttributes:o,attributeNames:t={}}){const a={stateTab:t.stateTab||"customPopupMenuState",itemPadding:t.itemPadding||"menuItemPadding",itemHeight:t.itemHeight||"menuItemHeight",itemBorderRadius:t.itemBorderRadius||"menuItemBorderRadius",titleColor:t.titleColor||"menuTitleColor",titleTypography:t.titleTypography||"menuTitleTypography",logoWidth:t.logoWidth||"menuLogoWidth",logoRadius:t.logoRadius||"menuLogoRadius",iconColor:t.iconColor||"menuIconColor",iconSize:t.iconSize||"menuIconSize",iconContainerSize:t.iconContainerSize||"menuIconContainerSize",iconContainerSpacing:t.iconContainerSpacing||"menuIconContainerSpacing",chevronColor:t.chevronColor||"menuChevronColor",itemBackgroundHover:t.itemBackgroundHover||"menuItemBackgroundHover",titleColorHover:t.titleColorHover||"menuTitleColorHover",iconColorHover:t.iconColorHover||"menuIconColorHover"};return React.createElement(Y,{attributeName:a.stateTab,attributes:e,setAttributes:o,tabs:[{name:"normal",title:l("Normal","voxel-fse")},{name:"hover",title:l("Hover","voxel-fse")}]},p=>p.name==="normal"?React.createElement(React.Fragment,null,React.createElement(E,{label:l("Item","voxel-fse")}),React.createElement(ke,{label:l("Item padding","voxel-fse"),values:e[a.itemPadding]||{},onChange:n=>o({[a.itemPadding]:n})}),React.createElement(b,{label:l("Height","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:a.itemHeight,min:0,max:100}),React.createElement(b,{label:l("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:a.itemBorderRadius,min:0,max:100}),React.createElement(E,{label:l("Title","voxel-fse")}),React.createElement($,{label:l("Title color","voxel-fse"),value:e[a.titleColor],onChange:n=>o({[a.titleColor]:n})}),React.createElement(O,{label:l("Title typography","voxel-fse"),attributes:e,setAttributes:o,typographyAttributeName:a.titleTypography}),React.createElement(E,{label:l("Logo/Image","voxel-fse")}),React.createElement(b,{label:l("Width","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:a.logoWidth,min:0,max:40}),React.createElement(b,{label:l("Radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:a.logoRadius,min:0,max:100}),React.createElement(E,{label:l("Icon","voxel-fse")}),React.createElement($,{label:l("Icon color","voxel-fse"),value:e[a.iconColor],onChange:n=>o({[a.iconColor]:n})}),React.createElement(b,{label:l("Icon size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:a.iconSize,min:0,max:40}),React.createElement(E,{label:l("Icon container","voxel-fse")}),React.createElement(b,{label:l("Size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:a.iconContainerSize,min:0,max:40}),React.createElement(b,{label:l("Spacing","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:a.iconContainerSpacing,min:0,max:50}),React.createElement(E,{label:l("Chevron","voxel-fse")}),React.createElement($,{label:l("Chevron color","voxel-fse"),value:e[a.chevronColor],onChange:n=>o({[a.chevronColor]:n})})):p.name==="hover"?React.createElement(React.Fragment,null,React.createElement(E,{label:l("Term item","voxel-fse")}),React.createElement($,{label:l("List item background","voxel-fse"),value:e[a.itemBackgroundHover],onChange:n=>o({[a.itemBackgroundHover]:n})}),React.createElement($,{label:l("Title color","voxel-fse"),value:e[a.titleColorHover],onChange:n=>o({[a.titleColorHover]:n})}),React.createElement($,{label:l("Icon color","voxel-fse"),value:e[a.iconColorHover],onChange:n=>o({[a.iconColorHover]:n})})):null)}function Ne(e,o){let t=null;return(...a)=>{t&&clearTimeout(t),t=setTimeout(()=>e(...a),o)}}function Me(){return typeof navigator<"u"&&(navigator.platform||"").includes("Mac")?"macOS":"other"}const N=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"24",height:"24"},React.createElement("circle",{cx:"11",cy:"11",r:"8"}),React.createElement("path",{d:"m21 21-4.35-4.35"})),Pe=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"24",height:"24"},React.createElement("path",{d:"M18 6 6 18"}),React.createElement("path",{d:"m6 6 12 12"})),re=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"24",height:"24"},React.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),React.createElement("polyline",{points:"14 2 14 8 20 8"})),Fe=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"24",height:"24"},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("path",{d:"m15 9-6 6"}),React.createElement("path",{d:"m9 9 6 6"}));function k(e,o){return!e||!e.value||e.library===""?React.createElement(o,null):e.library==="svg"?React.createElement("img",{src:e.value,alt:""}):e.library==="icon"?React.createElement("i",{className:e.value}):React.createElement(o,null)}function Le({attributes:e,postTypes:o,context:t,vxConfig:a}){const[p,n]=w(!1),[m,r]=w(""),[c,g]=w(o[0]||null),[h,f]=w([]),[R,_]=w(!1),[C,L]=w([]),V=K(null),pe=K(null),q=K("");B(()=>{const d="voxel-quick-search-css";if(!document.getElementById(d)){const s=document.createElement("link");s.id=d,s.rel="stylesheet";const y=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");s.href=`${y}/wp-content/themes/voxel/assets/dist/quick-search.css?ver=1.7.5.2`,document.head.appendChild(s)}},[]);const u=a||{postTypes:{},displayMode:e.displayMode||"single",keywords:{minlength:2},singleMode:{submitTo:e.singleSubmitTo||null,filterKey:e.singleSubmitKey||"keywords"},icons:{search:e.searchIcon,close:e.closeIcon,result:e.resultIcon,clearSearches:e.clearSearchesIcon},buttonLabel:e.buttonLabel||"Quick search",hideCptTabs:e.hideCptTabs||!1};B(()=>{if(t==="frontend")try{const d=localStorage.getItem("voxel:recent_searches");if(d){const s=JSON.parse(d);Array.isArray(s)&&L(s)}}catch{}},[t]),B(()=>{o.length>0&&!c&&g(o[0])},[o,c]),B(()=>{if(t!=="frontend")return;const d=s=>{(s.ctrlKey||s.metaKey)&&s.keyCode===75&&(s.preventDefault(),n(v=>!v)),s.keyCode===27&&n(!1)};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[t]),B(()=>{p&&V.current&&setTimeout(()=>V.current?.focus(),100)},[p]);const U=H(async()=>{const d=m.trim();if(d.length<u.keywords.minlength){f([]),q.current="";return}if(d!==q.current){if(t==="editor"){q.current=d,f([{type:"post",key:"post:1",link:"#",title:`Search result for "${m}"`,logo:null,icon:null}]);return}q.current=d,_(!0);try{const s={};if(u.displayMode==="tabbed"&&c){const S=e.postTypeSettings?.[c.key]||{};s[c.key]={filter_key:S.filter||"keywords",taxonomies:S.taxonomies||[]}}else o.forEach(S=>{const z=e.postTypeSettings?.[S.key]||{};s[S.key]={filter_key:z.filter||"keywords",taxonomies:z.taxonomies||[]}});const M=`${window.Voxel_Config?.site_url||window.location.origin}/?vx=1`,P=await(await fetch(`${M}&action=quick_search&search=${encodeURIComponent(m.trim())}&post_types=${encodeURIComponent(JSON.stringify(s))}`)).json();if(P.success)f(P.data||[]);else{const S=window.Voxel,z=window.Voxel_Config,ve=P.message||z?.l10n?.ajaxError||"An error occurred";S?.alert&&S.alert(ve,"error"),f([])}}catch{const s=window.Voxel,y=window.Voxel_Config?.l10n?.ajaxError||"An error occurred";s?.alert&&s.alert(y,"error"),f([])}finally{_(!1)}}},[m,u,c,o,e.postTypeSettings,t]),oe=X(()=>Ne(()=>U(),250),[U]);B(()=>{oe()},[m,oe]);const j=H(d=>{if(t!=="frontend")return;const s=C.filter(y=>y.key!==d.key);s.unshift(d);const v=s.slice(0,8);L(v),localStorage.setItem("voxel:recent_searches",JSON.stringify(v))},[t,C]),Q=H(()=>{if(t!=="frontend"||!m.trim())return;const d=`keywords:${m.trim()}`;let s="";if(u.displayMode==="tabbed"&&c){const y=new URL(c.archive||window.location.origin),M=e.postTypeSettings?.[c.key]||{};y.searchParams.set(M.filter||"keywords",m.trim()),s=y.toString()}else if(u.singleMode.submitTo){const y=new URL(u.singleMode.submitTo);y.searchParams.set(u.singleMode.filterKey,m.trim()),s=y.toString()}const v={type:"keywords",key:d,title:m.trim(),logo:null,link:s};j(v)},[t,m,u,c,e.postTypeSettings,j]),J=H(()=>{if(t!=="frontend")return;let d;if(u.displayMode==="tabbed"&&c){d=new URL(c.archive||window.location.origin);const s=e.postTypeSettings?.[c.key]||{};d.searchParams.set(s.filter||"keywords",m.trim())}else if(u.singleMode.submitTo)d=new URL(u.singleMode.submitTo),d.searchParams.set(u.singleMode.filterKey,m.trim());else return;window.location.href=d.toString()},[t,u,c,e.postTypeSettings,m]),de=H(()=>{t==="frontend"&&(L([]),localStorage.setItem("voxel:recent_searches",JSON.stringify([])))},[t]),me=H(d=>{j(d)},[j]),ue=H(d=>{const s=C.filter(v=>v.key!==d.key);s.unshift(d),L(s),localStorage.setItem("voxel:recent_searches",JSON.stringify(s))},[C]),fe=Me()==="macOS"?"⌘+K":"CTRL+K",he=()=>{const d={postTypes:Object.fromEntries(o.map(s=>{const v=e.postTypeSettings?.[s.key]||{};return[s.key,{key:s.key,label:v.label||s.label,filter:v.filter||"keywords",taxonomies:v.taxonomies||[],archive:s.archive||"",results:{query:"",items:[]}}]})),displayMode:e.displayMode||"single",keywords:{minlength:2},singleMode:{submitTo:e.singleSubmitTo||null,filterKey:e.singleSubmitKey||"keywords"},icons:{search:e.searchIcon||{library:"",value:""},close:e.closeIcon||{library:"",value:""},result:e.resultIcon||{library:"",value:""},clearSearches:e.clearSearchesIcon||{library:"",value:""}},buttonLabel:e.buttonLabel||"Quick search",hideCptTabs:e.hideCptTabs||!1};return React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(d)}})},ge=()=>{const d=u.displayMode==="tabbed"&&!u.hideCptTabs&&o.length>1,s=m.trim().length<u.keywords.minlength&&C.length>0,v=m.trim().length<u.keywords.minlength&&C.length===0,y=m.trim().length>=u.keywords.minlength,M=y&&h.length===0&&!R;return React.createElement("form",{onSubmit:i=>{i.preventDefault(),Q(),J()}},React.createElement("div",{className:"ts-sticky-top qs-top uib b-bottom"},React.createElement("a",{href:"#",className:"ts-icon-btn hide-d",role:"button",onClick:i=>{i.preventDefault(),n(!1)}},k(u.icons.close,Pe)),React.createElement("div",{className:"ts-input-icon flexify"},k(u.icons.search,N),React.createElement("input",{ref:V,type:"text",value:m,onChange:i=>r(i.target.value),onKeyDown:i=>{i.key==="Enter"&&(i.preventDefault(),Q(),J())},placeholder:u.buttonLabel,className:"autofocus",maxLength:100}))),d&&React.createElement("div",{className:"ts-form-group cpt-tabs"},React.createElement("ul",{className:"ts-generic-tabs flexify simplify-ul quick-cpt-select"},o.map(i=>{const P=e.postTypeSettings?.[i.key]||{};return React.createElement("li",{key:i.key,className:c?.key===i.key?"ts-tab-active":""},React.createElement("a",{href:"#",onClick:S=>{S.preventDefault(),g(i),f([]),U()}},P.label||i.label))}))),React.createElement("div",{className:`ts-term-dropdown ts-md-group ts-multilevel-dropdown ${R?"vx-pending":""}`},v&&React.createElement("div",{className:"ts-empty-user-tab"},k(u.icons.search,N),React.createElement("p",null,l("No recent searches.","voxel-fse"))),s&&React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list quick-search-list"},C.map(i=>React.createElement("li",{key:i.key},React.createElement("a",{rel:"nofollow",href:i.link,onClick:()=>ue(i),className:"flexify"},i.logo&&React.createElement("div",{className:"ts-term-image"},React.createElement("span",{dangerouslySetInnerHTML:{__html:i.logo}})),!i.logo&&i.icon&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:i.icon}})),!i.logo&&!i.icon&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",null,k(u.icons.result,re))),React.createElement("span",null,i.title)))),React.createElement("li",null,React.createElement("a",{href:"#",className:"flexify",onClick:i=>{i.preventDefault(),de()}},React.createElement("div",{className:"ts-term-icon"},React.createElement("span",null,k(u.icons.clearSearches,Fe))),React.createElement("span",null,l("Clear searches","voxel-fse"))))),M&&React.createElement("div",{className:"ts-empty-user-tab"},k(u.icons.search,N),React.createElement("p",null,l("No results found","voxel-fse"))),R&&y&&h.length===0&&React.createElement("div",{className:"ts-empty-user-tab"},k(u.icons.search,N),React.createElement("p",null,l("Searching","voxel-fse"))),y&&h.length>0&&React.createElement("ul",{className:"simplify-ul ts-term-dropdown-list quick-search-list"},h.map(i=>React.createElement("li",{key:i.key},React.createElement("a",{rel:"nofollow",href:i.link,onClick:()=>me(i),className:"flexify"},i.logo&&React.createElement("div",{className:"ts-term-image"},React.createElement("span",{dangerouslySetInnerHTML:{__html:i.logo}})),!i.logo&&i.icon&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",{dangerouslySetInnerHTML:{__html:i.icon}})),!i.logo&&!i.icon&&React.createElement("div",{className:"ts-term-icon"},React.createElement("span",null,k(u.icons.result,re))),React.createElement("span",null,i.title)))),React.createElement("li",{className:"view-all"},React.createElement("a",{href:"#",onClick:i=>{i.preventDefault(),Q(),J()},className:"flexify"},React.createElement("div",{className:"ts-term-icon"},React.createElement("span",null,k(u.icons.search,N))),React.createElement("span",null,l("Search for","voxel-fse")," ",React.createElement("strong",null,m)))))))},xe=()=>{if(!p)return null;const d=React.createElement("div",{ref:pe,className:"ts-quicksearch-popup lg-width lg-height ts-popup-content"},ge());return t==="editor"?React.createElement("div",{className:"ts-popup-container ts-form-group quick-search-keyword"},d):Se(React.createElement("div",{className:"ts-popup-overlay"},React.createElement("div",{className:"ts-popup-backdrop",onClick:()=>n(!1)}),d),document.body)};return React.createElement(React.Fragment,null,he(),React.createElement("div",{style:{display:"none"},className:"ts-form-group quick-search-keyword"}),React.createElement("div",{className:"ts-form-group quick-search-keyword"},React.createElement("button",{type:"button",className:"ts-filter ts-popup-target",onClick:()=>n(!0),"aria-label":u.buttonLabel},k(u.icons.search,N),React.createElement("div",{className:"ts-filter-text"},u.buttonLabel),!e.suffixHide&&React.createElement("span",{className:"ts-shortcut"},fe))),xe())}function qe({attributes:e,setAttributes:o,availablePostTypes:t,isLoading:a}){const p=t.map(c=>({label:c.label,value:c.key})),n=(c,g)=>{const h=e.postTypeSettings||{};o({postTypeSettings:{...h,[c]:{...h[c]||{},...g}}})},m=c=>[{label:l("Keywords","voxel-fse"),value:"keywords"}],r=c=>{const g=t.find(h=>h.key===c);return!g||!g.taxonomies?[]:g.taxonomies.map(h=>({label:h,value:h}))};return React.createElement(ie,{attributes:e,setAttributes:o,stateAttribute:"contentTabOpenPanel",defaultPanel:"post_types"},React.createElement(I,{id:"post_types",title:l("Post types","voxel-fse")},a?React.createElement("div",{style:{padding:"20px",textAlign:"center"}},React.createElement($e,null)):React.createElement(React.Fragment,null,React.createElement(te,{label:l("Choose post types","voxel-fse"),value:e.postTypes||[],options:p,onChange:c=>o({postTypes:c}),placeholder:l("Select post types...","voxel-fse")}),React.createElement(ne,{label:l("Button label","voxel-fse"),value:e.buttonLabel||"",onChange:c=>o({buttonLabel:c}),placeholder:l("Quick search","voxel-fse")}),React.createElement(Z,{label:l("Display mode","voxel-fse"),value:e.displayMode||"single",options:[{label:l("Single: Display results in a single list","voxel-fse"),value:"single"},{label:l("Tabbed: Separate search results by CPT","voxel-fse"),value:"tabbed"}],onChange:c=>o({displayMode:c})}),e.displayMode==="tabbed"&&React.createElement(Te,{label:l("Hide CPT tabs","voxel-fse"),help:l("Useful if you add a single post type","voxel-fse"),checked:e.hideCptTabs||!1,onChange:c=>o({hideCptTabs:c})}),e.displayMode==="single"&&React.createElement(React.Fragment,null,React.createElement("p",{className:"description",style:{marginTop:"20px",marginBottom:"10px"}},l("View all button submits the form to page","voxel-fse")),React.createElement(we,{label:l("Search templates","voxel-fse"),value:e.singleSubmitTo||"",onChange:c=>o({singleSubmitTo:c}),postTypes:["page"],placeholder:l("Search templates","voxel-fse"),emptyMessage:l("No pages found","voxel-fse"),enableDynamicTags:!0})))),(e.postTypes||[]).map(c=>{const g=t.find(f=>f.key===c),h=e.postTypeSettings?.[c]||{};return React.createElement(I,{key:c,id:`post_type_settings_${c}`,title:g?.label||c},React.createElement(ne,{label:l("Label","voxel-fse"),value:h.label||"",onChange:f=>n(c,{label:f}),placeholder:g?.label||c}),React.createElement(Z,{label:l("Keywords filter","voxel-fse"),value:h.filter||"keywords",options:m(),onChange:f=>n(c,{filter:f})}),React.createElement(te,{label:l("Also search taxonomy terms for","voxel-fse"),value:h.taxonomies||[],options:r(c),onChange:f=>n(c,{taxonomies:f}),placeholder:l("Select taxonomies...","voxel-fse")}))}),React.createElement(I,{id:"icons",title:l("Icons","voxel-fse")},React.createElement(D,{label:l("Search icon","voxel-fse"),value:e.searchIcon,onChange:c=>o({searchIcon:c})}),React.createElement(D,{label:l("Close icon","voxel-fse"),value:e.closeIcon,onChange:c=>o({closeIcon:c})}),React.createElement(D,{label:l("Result icon","voxel-fse"),value:e.resultIcon,onChange:c=>o({resultIcon:c})}),React.createElement(D,{label:l("Clear searches icon","voxel-fse"),value:e.clearSearchesIcon,onChange:c=>o({clearSearchesIcon:c})})))}function je({attributes:e,setAttributes:o}){return React.createElement(ie,{attributes:e,setAttributes:o,stateAttribute:"styleTabOpenPanel",defaultPanel:"search_button"},React.createElement(I,{id:"search_button",title:l("Search button","voxel-fse")},React.createElement(Y,{attributeName:"searchButtonState",attributes:e,setAttributes:o,tabs:[{name:"normal",title:l("Normal","voxel-fse")},{name:"hover",title:l("Hover","voxel-fse")},{name:"filled",title:l("Filled","voxel-fse")}]},t=>t.name==="normal"?React.createElement(React.Fragment,null,React.createElement(O,{label:l("Typography","voxel-fse"),attributes:e,setAttributes:o,typographyAttributeName:"buttonTypography"}),React.createElement(ae,{label:l("Padding","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonPadding"}),React.createElement(b,{label:l("Height","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonHeight",min:0,max:200}),React.createElement(W,{label:l("Box Shadow","voxel-fse"),attributes:e,setAttributes:o,shadowAttributeName:"buttonBoxShadow"}),React.createElement(x,{label:l("Background color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonBackground"}),React.createElement(x,{label:l("Text color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonTextColor"}),React.createElement("div",{className:"voxel-control-group"},React.createElement(Z,{label:l("Border Type","voxel-fse"),value:e.buttonBorderType||"none",options:[{label:l("None","voxel-fse"),value:"none"},{label:l("Solid","voxel-fse"),value:"solid"},{label:l("Double","voxel-fse"),value:"double"},{label:l("Dotted","voxel-fse"),value:"dotted"},{label:l("Dashed","voxel-fse"),value:"dashed"},{label:l("Groove","voxel-fse"),value:"groove"}],onChange:a=>o({buttonBorderType:a})}),e.buttonBorderType&&e.buttonBorderType!=="none"&&React.createElement(React.Fragment,null,React.createElement(le,{label:l("Width","voxel-fse"),value:e.buttonBorderWidth,onChange:a=>o({buttonBorderWidth:a}),min:0,max:50}),React.createElement($,{label:l("Color","voxel-fse"),value:e.buttonBorderColor,onChange:a=>o({buttonBorderColor:a})})),React.createElement(b,{label:l("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonBorderRadius",min:0,max:100})),React.createElement(E,null,l("Icons","voxel-fse")),React.createElement(x,{label:l("Icon color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonIconColor"}),React.createElement(b,{label:l("Icon size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonIconSize",min:0,max:100}),React.createElement(b,{label:l("Icon/Text spacing","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonIconSpacing",min:0,max:100})):t.name==="hover"?React.createElement(React.Fragment,null,React.createElement(x,{label:l("Background color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonBackgroundHover"}),React.createElement(x,{label:l("Text color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonTextColorHover"}),React.createElement($,{label:l("Border color","voxel-fse"),value:e.buttonBorderColorHover,onChange:a=>o({buttonBorderColorHover:a})}),React.createElement(x,{label:l("Icon color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonIconColorHover"}),React.createElement(W,{label:l("Box Shadow","voxel-fse"),attributes:e,setAttributes:o,shadowAttributeName:"buttonBoxShadowHover"})):t.name==="filled"?React.createElement(React.Fragment,null,React.createElement(O,{label:l("Typography","voxel-fse"),attributes:e,setAttributes:o,typographyAttributeName:"buttonTypographyFilled"}),React.createElement(x,{label:l("Background color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonBackgroundFilled"}),React.createElement(x,{label:l("Text color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonTextColorFilled"}),React.createElement(x,{label:l("Icon color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"buttonIconColorFilled"}),React.createElement($,{label:l("Border color","voxel-fse"),value:e.buttonBorderColorFilled,onChange:a=>o({buttonBorderColorFilled:a})}),React.createElement(le,{label:l("Border width","voxel-fse"),value:e.buttonBorderWidthFilled,onChange:a=>o({buttonBorderWidthFilled:a}),min:0,max:50}),React.createElement(W,{label:l("Box Shadow","voxel-fse"),attributes:e,setAttributes:o,shadowAttributeName:"buttonBoxShadowFilled"})):null)),React.createElement(I,{id:"button_suffix",title:l("Button suffix","voxel-fse")},React.createElement(Ee,{label:l("Hide suffix","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"suffixHide"}),React.createElement(ae,{label:l("Padding","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"suffixPadding"}),React.createElement(O,{label:l("Button typography","voxel-fse"),attributes:e,setAttributes:o,typographyAttributeName:"suffixTypography"}),React.createElement(x,{label:l("Text color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"suffixTextColor"}),React.createElement(x,{label:l("Background color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"suffixBackground"}),React.createElement(b,{label:l("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"suffixBorderRadius",min:0,max:100}),React.createElement(W,{label:l("Box Shadow","voxel-fse"),attributes:e,setAttributes:o,shadowAttributeName:"suffixBoxShadow"}),React.createElement(b,{label:l("Side margin","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"suffixMargin",min:0,max:100})),React.createElement(I,{id:"popup_tabs",title:l("Popup: Tabs","voxel-fse")},React.createElement(Y,{attributeName:"popupTabsState",attributes:e,setAttributes:o,tabs:[{name:"normal",title:l("Normal","voxel-fse")},{name:"hover",title:l("Hover","voxel-fse")}]},t=>t.name==="normal"?React.createElement(React.Fragment,null,React.createElement(E,null,l("Timeline tabs","voxel-fse")),React.createElement(x,{label:l("Text color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"tabsTextColor"}),React.createElement(x,{label:l("Active text color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"tabsActiveTextColor"}),React.createElement(x,{label:l("Border color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"tabsBorderColor"}),React.createElement(x,{label:l("Active border color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"tabsActiveBorderColor"}),React.createElement(x,{label:l("Background","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"tabsBackground"}),React.createElement(x,{label:l("Active background","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"tabsActiveBackground"})):t.name==="hover"?React.createElement(React.Fragment,null,React.createElement(E,null,l("Timeline tabs","voxel-fse")),React.createElement(x,{label:l("Text color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"tabsTextColorHover"}),React.createElement(x,{label:l("Border color","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"tabsBorderColorHover"}),React.createElement(x,{label:l("Background","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"tabsBackgroundHover"})):null)),React.createElement(I,{id:"popup_custom_style",title:l("Popups: Custom style","voxel-fse")},React.createElement(Ie,{attributes:e,setAttributes:o,attributeNames:{enable:"popupCustomEnable",backdrop:"popupBackdropBackground",pointerEvents:"popupPointerEvents",centerPosition:"popupCenterPosition",shadow:"popupBoxShadow",border:"popupBorder",topMargin:"popupTopBottomMargin",minWidth:"popupMinWidth",maxWidth:"popupMaxWidth",maxHeight:"popupMaxHeight"},exclude:["autosuggestTopMargin"]})),e.popupCustomEnable&&React.createElement(I,{id:"popup_menu",title:l("Custom popup: Menu","voxel-fse")},React.createElement(He,{attributes:e,setAttributes:o})))}function ze({attributes:e,setAttributes:o,availablePostTypes:t,isLoading:a}){return React.createElement(be,null,React.createElement(Be,{tabs:[{id:"content",label:l("Content","voxel-fse"),icon:"",render:()=>React.createElement(qe,{attributes:e,setAttributes:o,availablePostTypes:t,isLoading:a})},{id:"style",label:l("Style","voxel-fse"),icon:"",render:()=>React.createElement(je,{attributes:e,setAttributes:o})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:o,activeTabAttribute:"activeTab"}))}function G(e){if(!e)return"";let o="";return e.fontFamily&&(o+=`font-family: ${e.fontFamily}; `),e.fontSize&&(o+=`font-size: ${e.fontSize}${e.fontSizeUnit||"px"}; `),e.fontWeight&&(o+=`font-weight: ${e.fontWeight}; `),e.fontStyle&&(o+=`font-style: ${e.fontStyle}; `),e.textTransform&&(o+=`text-transform: ${e.textTransform}; `),e.textDecoration&&(o+=`text-decoration: ${e.textDecoration}; `),e.lineHeight&&(o+=`line-height: ${e.lineHeight}${e.lineHeightUnit||""}; `),e.letterSpacing&&(o+=`letter-spacing: ${e.letterSpacing}${e.letterSpacingUnit||"px"}; `),o}function F(e){if(!e||!e.enable)return"";const{horizontal:o=0,vertical:t=0,blur:a=0,spread:p=0,color:n="rgba(0,0,0,0.1)",position:m="outline"}=e;return`box-shadow: ${m==="inset"?"inset ":""}${o}px ${t}px ${a}px ${p}px ${n};`}function T(e,o){if(!e)return"";const{unit:t="px"}=e,a=parseFloat(String(e.top))||0,p=parseFloat(String(e.right))||0,n=parseFloat(String(e.bottom))||0,m=parseFloat(String(e.left))||0;return`${o}: ${a}${t} ${p}${t} ${n}${t} ${m}${t};`}function se(e,o){const t=[],a=[],p=[],n=`.voxel-fse-quick-search-${o}`;if(e.buttonTypography){const r=G(e.buttonTypography);r&&t.push(`${n} .ts-form .ts-filter { ${r} }`)}if(e.buttonPadding){const r=T(e.buttonPadding,"padding");r&&t.push(`${n} .ts-form .ts-filter { ${r} }`)}if(e.buttonPadding_tablet){const r=T(e.buttonPadding_tablet,"padding");r&&a.push(`${n} .ts-form .ts-filter { ${r} }`)}if(e.buttonPadding_mobile){const r=T(e.buttonPadding_mobile,"padding");r&&p.push(`${n} .ts-form .ts-filter { ${r} }`)}if(e.buttonHeight!==void 0&&t.push(`${n} .ts-filter { height: ${e.buttonHeight}px; }`),e.buttonHeight_tablet!==void 0&&a.push(`${n} .ts-filter { height: ${e.buttonHeight_tablet}px; }`),e.buttonHeight_mobile!==void 0&&p.push(`${n} .ts-filter { height: ${e.buttonHeight_mobile}px; }`),e.buttonBoxShadow){const r=F(e.buttonBoxShadow);r&&t.push(`${n} .ts-filter { ${r} }`)}if(e.buttonBackground&&t.push(`${n} .ts-form .ts-filter { background: ${e.buttonBackground}; }`),e.buttonTextColor&&t.push(`${n} .ts-form .ts-filter-text { color: ${e.buttonTextColor}; }`),e.buttonBorderType&&e.buttonBorderType!=="none"){const r=e.buttonBorderType,c=e.buttonBorderWidth||1,g=e.buttonBorderColor||"#000000";t.push(`${n} .ts-filter { border-style: ${r}; border-width: ${c}px; border-color: ${g}; }`)}if(e.buttonBorderRadius!==void 0&&t.push(`${n} .ts-form .ts-filter { border-radius: ${e.buttonBorderRadius}px; }`),e.buttonBorderRadius_tablet!==void 0&&a.push(`${n} .ts-form .ts-filter { border-radius: ${e.buttonBorderRadius_tablet}px; }`),e.buttonBorderRadius_mobile!==void 0&&p.push(`${n} .ts-form .ts-filter { border-radius: ${e.buttonBorderRadius_mobile}px; }`),e.buttonIconColor&&(t.push(`${n} .ts-filter i { color: ${e.buttonIconColor}; }`),t.push(`${n} .ts-filter svg { fill: ${e.buttonIconColor}; }`)),e.buttonIconSize!==void 0&&(t.push(`${n} .ts-filter i { font-size: ${e.buttonIconSize}px; }`),t.push(`${n} .ts-filter svg { min-width: ${e.buttonIconSize}px; width: ${e.buttonIconSize}px; height: ${e.buttonIconSize}px; }`)),e.buttonIconSize_tablet!==void 0&&(a.push(`${n} .ts-filter i { font-size: ${e.buttonIconSize_tablet}px; }`),a.push(`${n} .ts-filter svg { min-width: ${e.buttonIconSize_tablet}px; width: ${e.buttonIconSize_tablet}px; height: ${e.buttonIconSize_tablet}px; }`)),e.buttonIconSize_mobile!==void 0&&(p.push(`${n} .ts-filter i { font-size: ${e.buttonIconSize_mobile}px; }`),p.push(`${n} .ts-filter svg { min-width: ${e.buttonIconSize_mobile}px; width: ${e.buttonIconSize_mobile}px; height: ${e.buttonIconSize_mobile}px; }`)),e.buttonIconSpacing!==void 0&&t.push(`${n} .ts-filter { grid-gap: ${e.buttonIconSpacing}px; }`),e.buttonIconSpacing_tablet!==void 0&&a.push(`${n} .ts-filter { grid-gap: ${e.buttonIconSpacing_tablet}px; }`),e.buttonIconSpacing_mobile!==void 0&&p.push(`${n} .ts-filter { grid-gap: ${e.buttonIconSpacing_mobile}px; }`),e.buttonBackgroundHover&&t.push(`${n} .ts-form .ts-filter:hover { background: ${e.buttonBackgroundHover}; }`),e.buttonTextColorHover&&t.push(`${n} .ts-form .ts-filter:hover .ts-filter-text { color: ${e.buttonTextColorHover}; }`),e.buttonBorderColorHover&&t.push(`${n} .ts-form .ts-filter:hover { border-color: ${e.buttonBorderColorHover}; }`),e.buttonIconColorHover&&(t.push(`${n} .ts-filter:hover i { color: ${e.buttonIconColorHover}; }`),t.push(`${n} .ts-filter:hover svg { fill: ${e.buttonIconColorHover}; }`)),e.buttonBoxShadowHover){const r=F(e.buttonBoxShadowHover);r&&t.push(`${n} .ts-filter:hover { ${r} }`)}if(e.buttonTypographyFilled){const r=G(e.buttonTypographyFilled);r&&t.push(`${n} .ts-form .ts-filter.ts-filled { ${r} }`)}if(e.buttonBackgroundFilled&&t.push(`${n} .ts-form .ts-filter.ts-filled { background: ${e.buttonBackgroundFilled}; }`),e.buttonTextColorFilled&&t.push(`${n} .ts-form .ts-filter.ts-filled .ts-filter-text { color: ${e.buttonTextColorFilled}; }`),e.buttonIconColorFilled&&(t.push(`${n} .ts-filter.ts-filled i { color: ${e.buttonIconColorFilled}; }`),t.push(`${n} .ts-filter.ts-filled svg { fill: ${e.buttonIconColorFilled}; }`)),e.buttonBorderColorFilled&&t.push(`${n} .ts-form .ts-filter.ts-filled { border-color: ${e.buttonBorderColorFilled}; }`),e.buttonBorderWidthFilled!==void 0&&t.push(`${n} .ts-form .ts-filter.ts-filled { border-width: ${e.buttonBorderWidthFilled}px; }`),e.buttonBoxShadowFilled){const r=F(e.buttonBoxShadowFilled);r&&t.push(`${n} .ts-filter.ts-filled { ${r} }`)}if(e.suffixHide&&t.push(`${n} .ts-shortcut { display: none !important; }`),e.suffixHide_tablet&&a.push(`${n} .ts-shortcut { display: none !important; }`),e.suffixHide_mobile&&p.push(`${n} .ts-shortcut { display: none !important; }`),e.suffixPadding){const r=T(e.suffixPadding,"padding");r&&t.push(`${n} .ts-shortcut { ${r} }`)}if(e.suffixPadding_tablet){const r=T(e.suffixPadding_tablet,"padding");r&&a.push(`${n} .ts-shortcut { ${r} }`)}if(e.suffixPadding_mobile){const r=T(e.suffixPadding_mobile,"padding");r&&p.push(`${n} .ts-shortcut { ${r} }`)}if(e.suffixTypography){const r=G(e.suffixTypography);r&&t.push(`${n} .ts-shortcut { ${r} }`)}if(e.suffixTextColor&&t.push(`${n} .ts-shortcut { color: ${e.suffixTextColor}; }`),e.suffixTextColor_tablet&&a.push(`${n} .ts-shortcut { color: ${e.suffixTextColor_tablet}; }`),e.suffixTextColor_mobile&&p.push(`${n} .ts-shortcut { color: ${e.suffixTextColor_mobile}; }`),e.suffixBackground&&t.push(`${n} .ts-shortcut { background: ${e.suffixBackground}; }`),e.suffixBackground_tablet&&a.push(`${n} .ts-shortcut { background: ${e.suffixBackground_tablet}; }`),e.suffixBackground_mobile&&p.push(`${n} .ts-shortcut { background: ${e.suffixBackground_mobile}; }`),e.suffixBorderRadius!==void 0&&t.push(`${n} .ts-shortcut { border-radius: ${e.suffixBorderRadius}px; }`),e.suffixBorderRadius_tablet!==void 0&&a.push(`${n} .ts-shortcut { border-radius: ${e.suffixBorderRadius_tablet}px; }`),e.suffixBorderRadius_mobile!==void 0&&p.push(`${n} .ts-shortcut { border-radius: ${e.suffixBorderRadius_mobile}px; }`),e.suffixBoxShadow){const r=F(e.suffixBoxShadow);r&&t.push(`${n} .ts-shortcut { ${r} }`)}if(e.suffixMargin!==void 0&&t.push(`${n} .ts-shortcut { right: ${e.suffixMargin}px; }`),e.suffixMargin_tablet!==void 0&&a.push(`${n} .ts-shortcut { right: ${e.suffixMargin_tablet}px; }`),e.suffixMargin_mobile!==void 0&&p.push(`${n} .ts-shortcut { right: ${e.suffixMargin_mobile}px; }`),e.tabsJustify&&t.push(`${n} .ts-generic-tabs { justify-content: ${e.tabsJustify}; }`),e.tabsPadding){const r=T(e.tabsPadding,"padding");r&&t.push(`${n} .ts-generic-tabs li a { ${r} }`)}if(e.tabsMargin){const r=T(e.tabsMargin,"margin");r&&t.push(`${n} .ts-generic-tabs li { ${r} }`)}if(e.tabsTextColor&&t.push(`${n} .ts-generic-tabs li a { color: ${e.tabsTextColor}; }`),e.tabsActiveTextColor&&t.push(`${n} .ts-generic-tabs li.ts-tab-active a { color: ${e.tabsActiveTextColor}; }`),e.tabsBorderColor&&t.push(`${n} .ts-generic-tabs li a { border-color: ${e.tabsBorderColor}; }`),e.tabsActiveBorderColor&&t.push(`${n} .ts-generic-tabs li.ts-tab-active a { border-color: ${e.tabsActiveBorderColor}; }`),e.tabsBackground&&t.push(`${n} .ts-generic-tabs li a { background: ${e.tabsBackground}; }`),e.tabsActiveBackground&&t.push(`${n} .ts-generic-tabs li.ts-tab-active a { background: ${e.tabsActiveBackground}; }`),e.tabsBorderRadius!==void 0&&t.push(`${n} .ts-generic-tabs li a { border-radius: ${e.tabsBorderRadius}px; }`),e.tabsTextColorHover&&t.push(`${n} .ts-generic-tabs li a:hover { color: ${e.tabsTextColorHover}; }`),e.tabsBorderColorHover&&t.push(`${n} .ts-generic-tabs li a:hover { border-color: ${e.tabsBorderColorHover}; }`),e.tabsBackgroundHover&&t.push(`${n} .ts-generic-tabs li a:hover { background: ${e.tabsBackgroundHover}; }`),e.popupCustomEnable){if(e.popupBackdropBackground&&t.push(`${n} .ts-popup-overlay::after { content: ''; position: absolute; inset: 0; background-color: ${e.popupBackdropBackground} !important; z-index: -1; }`),e.popupPointerEvents&&t.push(`${n} .ts-popup-overlay::after { pointer-events: all; }`),e.popupCenterPosition&&t.push(`${n} .ts-popup-overlay { position: fixed !important; top: 50%; left: 50%; transform: translate(-50%, -50%); }`),e.popupBoxShadow){const r=F(e.popupBoxShadow);r&&t.push(`${n} .ts-quicksearch-popup { ${r} }`)}if(e.popupBorder&&e.popupBorder.borderType&&e.popupBorder.borderType!=="none"){const r=e.popupBorder,c=r.borderType,g=r.borderWidth||{top:1,right:1,bottom:1,left:1},h=r.borderColor||"#000000",f=parseFloat(String(g.top))||0,R=parseFloat(String(g.right))||0,_=parseFloat(String(g.bottom))||0,C=parseFloat(String(g.left))||0;t.push(`${n} .ts-quicksearch-popup { border-style: ${c}; border-width: ${f}px ${R}px ${_}px ${C}px; border-color: ${h}; }`)}e.popupTopBottomMargin!==void 0&&t.push(`${n} .ts-quicksearch-popup { margin-top: ${e.popupTopBottomMargin}px; margin-bottom: ${e.popupTopBottomMargin}px; }`),e.popupTopBottomMargin_tablet!==void 0&&a.push(`${n} .ts-quicksearch-popup { margin-top: ${e.popupTopBottomMargin_tablet}px; margin-bottom: ${e.popupTopBottomMargin_tablet}px; }`),e.popupTopBottomMargin_mobile!==void 0&&p.push(`${n} .ts-quicksearch-popup { margin-top: ${e.popupTopBottomMargin_mobile}px; margin-bottom: ${e.popupTopBottomMargin_mobile}px; }`),e.popupMinWidth!==void 0&&t.push(`${n} .ts-quicksearch-popup { min-width: ${e.popupMinWidth}px; }`),e.popupMinWidth_tablet!==void 0&&a.push(`${n} .ts-quicksearch-popup { min-width: ${e.popupMinWidth_tablet}px; }`),e.popupMinWidth_mobile!==void 0&&p.push(`${n} .ts-quicksearch-popup { min-width: ${e.popupMinWidth_mobile}px; }`),e.popupMaxWidth!==void 0&&t.push(`${n} .ts-quicksearch-popup { max-width: ${e.popupMaxWidth}px; }`),e.popupMaxWidth_tablet!==void 0&&a.push(`${n} .ts-quicksearch-popup { max-width: ${e.popupMaxWidth_tablet}px; }`),e.popupMaxWidth_mobile!==void 0&&p.push(`${n} .ts-quicksearch-popup { max-width: ${e.popupMaxWidth_mobile}px; }`),e.popupMaxHeight!==void 0&&t.push(`${n} .ts-quicksearch-popup { max-height: ${e.popupMaxHeight}px; overflow-y: auto; }`),e.popupMaxHeight_tablet!==void 0&&a.push(`${n} .ts-quicksearch-popup { max-height: ${e.popupMaxHeight_tablet}px; }`),e.popupMaxHeight_mobile!==void 0&&p.push(`${n} .ts-quicksearch-popup { max-height: ${e.popupMaxHeight_mobile}px; }`)}let m="";return t.length>0&&(m+=t.join(`
`)),a.length>0&&(m+=`
@media (max-width: 1024px) {
${a.join(`
`)}
}`),p.length>0&&(m+=`
@media (max-width: 767px) {
${p.join(`
`)}
}`),m}async function We(){try{const e=Re(),o=await fetch(`${e}voxel-fse/v1/quick-search/post-types`);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return(await o.json()).postTypes||[]}catch(e){return console.error("Failed to fetch post types:",e),[]}}function De({attributes:e,setAttributes:o,clientId:t}){B(()=>{e.blockId||o({blockId:`quick-search-${t.slice(0,8)}`})},[e.blockId,t,o]),B(()=>{const f="voxel-quick-search-css";if(!document.getElementById(f)){const R=document.createElement("link");R.id=f,R.rel="stylesheet";const C=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");R.href=`${C}/wp-content/themes/voxel/assets/dist/quick-search.css?ver=1.7.5.2`,document.head.appendChild(R)}},[]);const a=ce(e,{blockId:e.blockId,baseClass:"ts-form quick-search voxel-fse-quick-search",selectorPrefix:"voxel-fse-quick-search"}),p=X(()=>se(e,e.blockId),[e]),n=X(()=>[a.responsiveCSS,p].filter(Boolean).join(`
`),[a.responsiveCSS,p]),m=ee({id:a.elementId,className:a.className,style:a.styles,...a.customAttrs}),[r,c]=w([]),[g,h]=w(!0);return B(()=>{let f=!1;async function R(){h(!0);const _=await We();f||(c(_),h(!1))}return R(),()=>{f=!0}},[]),React.createElement(React.Fragment,null,React.createElement(ze,{attributes:e,setAttributes:o,availablePostTypes:r,isLoading:g}),React.createElement("div",{...m},n&&React.createElement("style",{dangerouslySetInnerHTML:{__html:n}}),React.createElement(Le,{attributes:e,postTypes:r.filter(f=>(e.postTypes||[]).includes(f.key)),context:"editor"})))}function Oe({attributes:e}){const o=ce(e,{blockId:e.blockId||"quick-search",baseClass:"ts-form quick-search voxel-fse-quick-search"}),t=se(e,e.blockId||"quick-search"),a=[o.responsiveCSS,t].filter(Boolean).join(`
`),p=ee.save({id:o.elementId,className:o.className,style:o.styles,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...o.customAttrs}),n={};(e.postTypes||[]).forEach(r=>{const c=e.postTypeSettings?.[r]||{};n[r]={key:r,label:c.label||r,filter:c.filter||"keywords",taxonomies:c.taxonomies||[],archive:"",results:{query:"",items:[]}}});const m={postTypes:n,displayMode:e.displayMode||"single",keywords:{minlength:2},singleMode:{submitTo:e.singleSubmitTo||null,filterKey:e.singleSubmitKey||"keywords"},icons:{search:e.searchIcon||{library:"",value:""},close:e.closeIcon||{library:"",value:""},result:e.resultIcon||{library:"",value:""},clearSearches:e.clearSearchesIcon||{library:"",value:""}},buttonLabel:e.buttonLabel||"Quick search",hideCptTabs:e.hideCptTabs||!1};return React.createElement("div",{...p},a&&React.createElement("style",{dangerouslySetInnerHTML:{__html:a}}),Ce(e,!1,void 0,void 0,o.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(m)}}),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",padding:"16px",minHeight:"48px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",style:{opacity:.4}},React.createElement("rect",{x:"4",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"4",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"4",y:"16",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"16",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"16",width:"4",height:"4",rx:"0.5"}))))}const Ve="https://schemas.wp.org/trunk/block.json",Ue=3,Qe="voxel-fse/quick-search",Je="1.0.0",Ke="Quick Search (VX)",Ge="voxel-fse",Xe="A quick search widget with keyboard shortcut (Ctrl+K) support, post type tabs, and recent searches. FSE equivalent of Voxel's Quick Search widget.",Ye=["search","quick","keyboard","ctrl+k","voxel"],Ze="voxel-fse",Ae={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},eo="file:./index.js",oo="file:./frontend.js",to="file:./render.php",no={blockId:{type:"string",default:""},activeTab:{type:"string",default:"content"},contentTabOpenPanel:{type:"string",default:"post_types"},styleTabOpenPanel:{type:"string",default:"search_button"},searchButtonState:{type:"string",default:"normal"},popupTabsState:{type:"string",default:"normal"},postTypes:{type:"array",default:[],items:{type:"string"}},postTypeSettings:{type:"object",default:{}},buttonLabel:{type:"string",default:"Quick search"},displayMode:{type:"string",default:"single",enum:["single","tabbed"]},hideCptTabs:{type:"boolean",default:!1},singleSubmitTo:{type:"string",default:""},singleSubmitKey:{type:"string",default:"keywords"},searchIcon:{type:"object",default:{library:"",value:""}},closeIcon:{type:"object",default:{library:"",value:""}},resultIcon:{type:"object",default:{library:"",value:""}},clearSearchesIcon:{type:"object",default:{library:"",value:""}},buttonPadding:{type:"object",default:{}},buttonPadding_tablet:{type:"object",default:{}},buttonPadding_mobile:{type:"object",default:{}},buttonHeight:{type:"number",default:50},buttonHeight_tablet:{type:"number"},buttonHeight_mobile:{type:"number"},buttonBackground:{type:"string",default:""},buttonTextColor:{type:"string",default:""},buttonBorderRadius:{type:"number",default:5},buttonIconColor:{type:"string",default:""},buttonIconSize:{type:"number",default:24},buttonIconSpacing:{type:"number",default:10},buttonTypography:{type:"object",default:{}},buttonBoxShadow:{type:"object",default:{}},buttonBorderType:{type:"string",default:"none"},buttonBorderWidth:{type:"number"},buttonBorderColor:{type:"string",default:""},buttonBorderRadius_tablet:{type:"number"},buttonBorderRadius_mobile:{type:"number"},buttonIconSize_tablet:{type:"number"},buttonIconSize_mobile:{type:"number"},buttonIconSpacing_tablet:{type:"number"},buttonIconSpacing_mobile:{type:"number"},buttonBackgroundHover:{type:"string",default:""},buttonTextColorHover:{type:"string",default:""},buttonBorderColorHover:{type:"string",default:""},buttonIconColorHover:{type:"string",default:""},buttonBoxShadowHover:{type:"object",default:{}},buttonBackgroundFilled:{type:"string",default:""},buttonTextColorFilled:{type:"string",default:""},buttonIconColorFilled:{type:"string",default:""},buttonBorderColorFilled:{type:"string",default:""},buttonBorderWidthFilled:{type:"number"},buttonTypographyFilled:{type:"object",default:{}},buttonBoxShadowFilled:{type:"object",default:{}},suffixHide:{type:"boolean",default:!1},suffixHide_tablet:{type:"boolean"},suffixHide_mobile:{type:"boolean"},suffixPadding:{type:"object",default:{top:2,right:8,bottom:2,left:8}},suffixPadding_tablet:{type:"object"},suffixPadding_mobile:{type:"object"},suffixTypography:{type:"object",default:{}},suffixTextColor:{type:"string",default:""},suffixTextColor_tablet:{type:"string"},suffixTextColor_mobile:{type:"string"},suffixBackground:{type:"string",default:""},suffixBackground_tablet:{type:"string"},suffixBackground_mobile:{type:"string"},suffixBorderRadius:{type:"number",default:50},suffixBorderRadius_tablet:{type:"number"},suffixBorderRadius_mobile:{type:"number"},suffixBoxShadow:{type:"object",default:{}},suffixMargin:{type:"number"},suffixMargin_tablet:{type:"number"},suffixMargin_mobile:{type:"number"},tabsJustify:{type:"string",default:"center"},tabsPadding:{type:"object",default:{}},tabsMargin:{type:"object",default:{top:10,right:0,bottom:10,left:0}},tabsTextColor:{type:"string",default:""},tabsActiveTextColor:{type:"string",default:""},tabsBackground:{type:"string",default:""},tabsActiveBackground:{type:"string",default:""},tabsBorderRadius:{type:"number"},tabsBorderColor:{type:"string",default:""},tabsActiveBorderColor:{type:"string",default:""},tabsTextColorHover:{type:"string"},tabsBorderColorHover:{type:"string"},tabsBackgroundHover:{type:"string"},popupCustomEnable:{type:"boolean",default:!1},popupBackdropBackground:{type:"string",default:""},popupPointerEvents:{type:"boolean",default:!1},popupCenterPosition:{type:"boolean",default:!1},popupMinWidth:{type:"number",default:538},popupMaxWidth:{type:"number"},popupMaxHeight:{type:"number"},popupTopBottomMargin:{type:"number"},popupBoxShadow:{type:"object",default:{}},popupBorder:{type:"object",default:{}},customPopupMenuState:{type:"string",default:"normal"},menuItemPadding:{type:"object",default:{}},menuItemHeight:{type:"number"},menuItemHeight_tablet:{type:"number"},menuItemHeight_mobile:{type:"number"},menuItemBorderRadius:{type:"number"},menuItemBorderRadius_tablet:{type:"number"},menuItemBorderRadius_mobile:{type:"number"},menuTitleColor:{type:"string",default:""},menuTitleTypography:{type:"object",default:{}},menuLogoWidth:{type:"number"},menuLogoWidth_tablet:{type:"number"},menuLogoWidth_mobile:{type:"number"},menuLogoRadius:{type:"number"},menuLogoRadius_tablet:{type:"number"},menuLogoRadius_mobile:{type:"number"},menuIconColor:{type:"string",default:""},menuIconSize:{type:"number"},menuIconSize_tablet:{type:"number"},menuIconSize_mobile:{type:"number"},menuIconContainerSize:{type:"number"},menuIconContainerSize_tablet:{type:"number"},menuIconContainerSize_mobile:{type:"number"},menuIconContainerSpacing:{type:"number"},menuIconContainerSpacing_tablet:{type:"number"},menuIconContainerSpacing_mobile:{type:"number"},menuChevronColor:{type:"string",default:""},menuItemBackgroundHover:{type:"string",default:""},menuTitleColorHover:{type:"string",default:""},menuIconColorHover:{type:"string",default:""},hideDesktop:{type:"boolean",default:!1},hideTablet:{type:"boolean",default:!1},hideMobile:{type:"boolean",default:!1},customClasses:{type:"string",default:""},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},A={$schema:Ve,apiVersion:Ue,name:Qe,version:Je,title:Ke,category:Ge,description:Xe,keywords:Ye,textdomain:Ze,supports:Ae,editorScript:eo,viewScript:oo,render:to,attributes:no},lo=[{attributes:A.attributes,save({attributes:e}){const o=ee.save({className:"ts-form quick-search voxel-fse-quick-search"}),t={postTypes:{},displayMode:e.displayMode,keywords:{minlength:2},singleMode:{submitTo:e.singleSubmitTo||null,filterKey:e.singleSubmitKey||"keywords"},icons:{search:e.searchIcon,close:e.closeIcon,result:e.resultIcon,clearSearches:e.clearSearchesIcon},buttonLabel:e.buttonLabel,hideCptTabs:e.hideCptTabs};return React.createElement("div",{...o},React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}),React.createElement("div",{className:"voxel-fse-block-placeholder"},React.createElement("span",{className:"placeholder-icon"},"🔍"),React.createElement("span",{className:"placeholder-text"},"Quick Search (VX)")))}}];ye(A.name,{...A,icon:_e,title:l("Quick Search (VX)","voxel-fse"),description:l("A quick search widget with keyboard shortcut support and recent searches.","voxel-fse"),edit:De,save:Oe,deprecated:lo});
