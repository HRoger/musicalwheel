import{createRoot as Wt}from"react-dom/client";import l,{createContext as Ct,useState as $,useRef as ot,useCallback as De,useEffect as Ne}from"react";import{__ as o}from"@wordpress/i18n";import"@wordpress/data";import{Button as Qe}from"@wordpress/components";import He from"@wordpress/api-fetch";import"@wordpress/block-editor";/* empty css                           */import"react-dom";let mt=!1;function zt(){if(mt)return;const t=window.wp?.hooks,r=window.wp?.compose;if(!t||!r){console.warn("VoxelFSE: wp.hooks or wp.compose not available");return}const{addFilter:e}=t,{createHigherOrderComponent:x}=r,M=x(d=>w=>{const{name:T,attributes:b}=w;if(!T.startsWith("voxel-fse/"))return React.createElement(d,{...w});const Y={...w.wrapperProps},I={...Y.style||{}};return b.stickyEnabled&&(b.stickyDesktop??"sticky")==="sticky"&&(I.position="sticky",I.zIndex="10",I.alignSelf="flex-start",b.stickyTop!==void 0&&(I.top=`${b.stickyTop}${b.stickyTopUnit||"px"}`),b.stickyLeft!==void 0&&(I.left=`${b.stickyLeft}${b.stickyLeftUnit||"px"}`),b.stickyRight!==void 0&&(I.right=`${b.stickyRight}${b.stickyRightUnit||"px"}`),b.stickyBottom!==void 0&&(I.bottom=`${b.stickyBottom}${b.stickyBottomUnit||"px"}`)),T==="voxel-fse/flex-container"&&b.contentWidthType==="full"&&(Y["data-content-width"]="full"),Object.keys(I).length>0&&(Y.style=I),Y["data-content-width"]||Object.keys(I).length>0?React.createElement(d,{...w,wrapperProps:Y}):React.createElement(d,{...w})},"withVoxelWrapperProps");e("editor.BlockListBlock","voxel-fse/editor-wrapper-props",M),mt=!0}zt();Ct(null);typeof window<"u"&&(window.__voxelOpenPopups=window.__voxelOpenPopups||{});const Dt=({group:t,tag:r,level:e,searchQuery:x,onSelectTag:M,onLoadChildren:d,parentPath:w="",expandedPath:T,onExpandChange:b})=>{const[Y,I]=$(!1),[W,A]=$(r.children||[]),[L,O]=$(""),_=r.hasChildren||r.children&&r.children.length>0,B=r.hasChildren&&!r.isLoaded&&W.length===0,V=w?`${w}.${r.key}`:r.key,X=T===V;if(!(x===""||r.label.toLowerCase().includes(x.toLowerCase())||r.key.toLowerCase().includes(x.toLowerCase()))&&!_)return null;const K=async()=>{if(_)if(!X){if(b(V),B&&d){I(!0);try{const R=await d(t,`${t}.${V}`);A(R)}catch(R){console.error(`Failed to load children for ${r.key}:`,R)}finally{I(!1)}}}else b("");else M(t,V,r.type)},Q=[];_&&(Q.push("is-group"),X&&Q.push("is-open"));const ee=Q.join(" "),D=r.type==="method";return l.createElement("li",{className:ee},l.createElement("span",{draggable:!_,onClick:K},D&&l.createElement("i",{className:"las la-code"}),r.label),_&&X&&l.createElement("ul",{style:{height:"auto"}},Y?l.createElement("li",{className:"mw-tag-item__loading"},"Loading..."):W.map(S=>l.createElement(Dt,{key:S.key,group:t,tag:S,level:e+1,searchQuery:x,onSelectTag:M,onLoadChildren:d,parentPath:V,expandedPath:L,onExpandChange:O}))))},Gt=({group:t,searchQuery:r,onSelectTag:e,onLoadChildren:x,expandedPath:M,onExpandChange:d})=>{const[w,T]=$(!1),[b,Y]=$(t.exports||[]),[I,W]=$(""),A=M===t.type,L=async()=>{if(!A){if(d(t.type),t.hasChildren&&b.length===0&&x){T(!0);try{const V=await x(t.type);Y(V)}catch(V){console.error(`Failed to load children for ${t.type}:`,V)}finally{T(!1)}}}else d("")},O=["is-group"];A&&O.push("is-open");const _=O.join(" ");return l.createElement("li",{className:_},l.createElement("span",{onClick:L},t.label),A&&l.createElement("ul",{style:{height:"auto"}},w?l.createElement("li",{className:"mw-tag-group__loading"},"Loading..."):b.map(B=>l.createElement(Dt,{key:B.key,group:t.type,tag:B,level:0,searchQuery:r,onSelectTag:e,onLoadChildren:x,expandedPath:I,onExpandChange:W}))))},qt=({groups:t,searchQuery:r,onSelectTag:e,onLoadChildren:x})=>{const[M,d]=$(t&&t.length>0?t[0].type:"");return!t||t.length===0?l.createElement("div",{className:"mw-tag-tree mw-tag-tree--empty"},l.createElement("p",null,"No data groups available.")):l.createElement("div",{className:"nvx-tagslist mw-tag-tree"},l.createElement("ul",null,t.map(w=>l.createElement(Gt,{key:w.type,group:w,searchQuery:r,onSelectTag:e,onLoadChildren:x,expandedPath:M,onExpandChange:d}))))},Zt=({value:t,onChange:r})=>l.createElement("div",{className:"ts-form-group"},l.createElement("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Search tags",autoComplete:"off"})),Jt=({value:t,onChange:r,onTokenFocus:e,onInsertTag:x,context:M="post"})=>{const d=ot(null),w=ot(null),[T,b]=$(!1),[Y,I]=$({top:0,left:0}),[W,A]=$(0),[L,O]=$([]),[_,B]=$(0),[V,X]=$("tag"),[z,K]=$(null),[Q,ee]=$(null),[D,S]=$(!1),R=De(u=>{if(!d.current)return;const p=d.current.selectionStart,f=t.substring(0,p),k=t.substring(p),s=f+u+k;r(s),setTimeout(()=>{if(d.current){const g=p+u.length;d.current.selectionStart=g,d.current.selectionEnd=g,d.current.focus()}},0)},[t,r]);Ne(()=>{x&&x(R)},[x,R]),Ne(()=>{T&&d.current&&setTimeout(()=>{if(d.current){const u=de(d.current,W);I(u)}},0)},[T,t,W]);const j=async()=>{if(z)return z;const u=window.VoxelFSE_Dynamic_Data_Store;if(u&&u.flatTags&&Array.isArray(u.flatTags)){const p=u.flatTags.map(f=>({group:f.group,key:f.key,label:f.label,fullPath:f.fullPath||`@${f.group}(${f.key})`,breadcrumb:f.breadcrumb||f.group}));return K(p),p}if(D)return new Promise(p=>{const f=setInterval(()=>{z&&(clearInterval(f),p(z))},100)});S(!0);try{const p=await He({path:`/voxel-fse/v1/dynamic-data/tags-flat?context=${M}`}),f=Array.isArray(p)?p.map(k=>({group:k.group,key:k.key,label:k.label,fullPath:k.fullPath||`@${k.group}(${k.key})`,breadcrumb:k.breadcrumb||k.group})):[];return K(f),S(!1),f}catch(p){return console.error("[CodeEditor] Failed to fetch tags:",p),S(!1),K([]),[]}},te=async()=>{if(Q)return Q;const u=window.VoxelFSE_Dynamic_Data_Store;if(u&&u.modifiers&&Array.isArray(u.modifiers))return ee(u.modifiers),u.modifiers;try{const p=await He({path:"/voxel-fse/v1/dynamic-data/modifiers"});return ee(p),p}catch(p){return console.error("Failed to fetch modifiers for autocomplete:",p),[]}},de=(u,p)=>{const f=u.closest(".dtags-content");if(!f)return console.log("[getCursorCoordinates] No container found"),{top:0,left:0};const k=f.getBoundingClientRect(),s=document.createElement("div"),g=window.getComputedStyle(u);["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","textAlign","lineHeight","whiteSpace","wordWrap","wordBreak","overflowWrap","padding","border","boxSizing","tabSize"].forEach(pe=>{s.style[pe]=g[pe]}),s.style.position="absolute",s.style.visibility="hidden",s.style.width=`${u.clientWidth}px`,s.style.height="auto",s.style.top="0",s.style.left="0",s.style.overflow="hidden",s.style.pointerEvents="none";const m=u.value.substring(0,p),v=document.createTextNode(m);s.appendChild(v);const N=document.createElement("span");N.textContent="|",N.style.position="relative",s.appendChild(N),f.appendChild(s);const G=N.getBoundingClientRect();f.removeChild(s);const ne=G.top-k.top+G.height+4,ae=G.left-k.left;return console.log("[getCursorCoordinates] Details:",{position:p,textBeforeCursor:m.substring(Math.max(0,m.length-20)),containerRect:{top:k.top,left:k.left},markerRect:{top:G.top,left:G.left,height:G.height},calculated:{top:ne,left:ae},textareaScroll:{top:u.scrollTop,left:u.scrollLeft}}),{top:ne,left:ae}},me=u=>{const{key:p}=u;if(T){if(p==="ArrowDown"){u.preventDefault(),B(f=>Math.min(f+1,L.length-1));return}if(p==="ArrowUp"){u.preventDefault(),B(f=>Math.max(f-1,0));return}if(p==="Enter"||p==="Tab"){u.preventDefault(),L[_]&&be(L[_]);return}if(p==="Escape"){u.preventDefault(),b(!1);return}}},Ee=async u=>{if(r(u),!d.current)return;const p=d.current.selectionStart,f=u.substring(0,p);if(f.match(/@(\w*)$/)){console.log("[CodeEditor] @ detected in onChange, triggering autocomplete"),await ke(u);return}if(f.endsWith(".")&&f.charAt(p-2)===")"&&f.match(/@\w+\(/)){console.log("[CodeEditor] . after ) detected, triggering modifier autocomplete"),await Me(u);return}T&&Se(u,p)},ke=async u=>{const p=u!==void 0?u:t;if(console.log("[CodeEditor] showTagAutocomplete() called"),!d.current){console.log("[CodeEditor] No textarea ref, aborting");return}const f=d.current.selectionStart,s=p.substring(0,f).match(/@(\w*)$/);if(!s){console.log("[CodeEditor] No @ match found, aborting");return}const g=s[1]||"";console.log("[CodeEditor] @ match found, query:",g);const m=await j();console.log("[CodeEditor] Total tags available:",m.length);const v=g?m.filter(N=>N.label.toLowerCase().includes(g.toLowerCase())||N.group.toLowerCase().includes(g.toLowerCase())||N.breadcrumb?.toLowerCase().includes(g.toLowerCase())):m;console.log("[CodeEditor] Filtered tags:",v.length),O(v),B(0),X("tag"),b(v.length>0),console.log("[CodeEditor] showAutocomplete set to:",v.length>0),A(f)},Me=async u=>{const p=u!==void 0?u:t;if(!d.current)return;const f=d.current.selectionStart,k=p.substring(0,f),s=k.lastIndexOf("@");if(s===-1)return;const g=k.substring(s),m=g.match(/\)\.(\w*)$/);if(!m)return;const v=m[1]||"",N=await te();if(!N||N.length===0){console.log("[CodeEditor] No modifiers available");return}const G=g.match(/@(\w+)\(/),ne=G?G[1]:null;console.log("[CodeEditor] Current group for modifiers:",ne);const ae=oe=>oe?{post:[{key:"meta",label:"Post meta",category:"other",args:[{type:"text",label:"Meta key"}]}],author:[{key:"meta",label:"User meta",category:"other",args:[{type:"text",label:"Meta key"}]}],user:[{key:"meta",label:"User meta",category:"other",args:[{type:"text",label:"Meta key"}]}],site:[{key:"query_var",label:"Query variable",category:"other",args:[{type:"text",label:"Variable name"}]},{key:"math",label:"Math expression",category:"other",args:[{type:"text",label:"Math expression"}]}]}[oe]||[]:[],Z=[...N,...ae(ne)].map(oe=>{const _e=oe.args?.map(ze=>ze.label).join(", ")||"",Pe=`.${oe.key}(${_e})`;return{key:oe.key,label:oe.label,category:oe.category||"other",code:`.${oe.key}()`,fullSignature:Pe,description:oe.description}}),ve=v?Z.filter(oe=>oe.label.toLowerCase().includes(v.toLowerCase())||oe.key.toLowerCase().includes(v.toLowerCase())):Z;O(ve),B(0),X("modifier"),b(!0),A(f)},Se=(u,p)=>{const f=u.substring(0,p);if(V==="tag"){const k=f.match(/@(\w*)$/);if(!k){b(!1);return}const s=k[1]||"";if(z&&Array.isArray(z)){const g=z.map(v=>({group:v.group,key:v.key,label:v.label,fullPath:v.fullPath||`@${v.group}(${v.key})`,breadcrumb:v.breadcrumb||v.group})),m=s?g.filter(v=>v.label.toLowerCase().includes(s.toLowerCase())||v.group.toLowerCase().includes(s.toLowerCase())||v.breadcrumb?.toLowerCase().includes(s.toLowerCase())):g.slice(0,50);O(m),B(0)}}else if(V==="modifier"){const k=f.lastIndexOf("@");if(k===-1){b(!1);return}const s=f.substring(k),g=s.match(/\)\.(\w*)$/);if(!g){b(!1);return}const m=g[1]||"";if(Q&&Array.isArray(Q)){const v=s.match(/@(\w+)\(/),N=v?v[1]:null,G=Z=>Z?{post:[{key:"meta",label:"Post meta",category:"other",args:[{type:"text",label:"Meta key"}]}],author:[{key:"meta",label:"User meta",category:"other",args:[{type:"text",label:"Meta key"}]}],user:[{key:"meta",label:"User meta",category:"other",args:[{type:"text",label:"Meta key"}]}],site:[{key:"query_var",label:"Query variable",category:"other",args:[{type:"text",label:"Variable name"}]},{key:"math",label:"Math expression",category:"other",args:[{type:"text",label:"Math expression"}]}]}[Z]||[]:[],ae=[...Q,...G(N)].map(Z=>{const ve=Z.args?.map(_e=>_e.label).join(", ")||"",oe=`.${Z.key}(${ve})`;return{key:Z.key,label:Z.label,category:Z.category||"other",code:`.${Z.key}()`,fullSignature:oe,description:Z.description}}),pe=m?ae.filter(Z=>Z.label.toLowerCase().includes(m.toLowerCase())||Z.key.toLowerCase().includes(m.toLowerCase())):ae;O(pe),B(0)}}},be=u=>{if(console.log("[CodeEditor] handleSelectSuggestion called, type:",V,"suggestion:",u),!d.current){console.log("[CodeEditor] No textarea ref, aborting");return}const p=d.current.selectionStart,f=t.substring(0,p),k=t.substring(p);if(console.log("[CodeEditor] Current value:",t),console.log("[CodeEditor] Text before cursor:",f),console.log("[CodeEditor] Text after cursor:",k),V==="tag"){const s=u;if(console.log("[CodeEditor] Tag suggestion:",s),f.match(/@(\w*)$/)){const m=f.lastIndexOf("@"),v=t.substring(0,m)+s.fullPath+k;console.log("[CodeEditor] New text:",v),r(v),setTimeout(()=>{if(d.current){const N=m+s.fullPath.length;d.current.selectionStart=N,d.current.selectionEnd=N,d.current.focus()}},0)}else console.log("[CodeEditor] No @ match found in textBefore")}else if(V==="modifier"){const s=u,g=f.lastIndexOf("."),v=t.substring(0,g)+s.code+k;r(v),setTimeout(()=>{if(d.current&&s.code.includes("()")){const N=g+s.code.length-1;d.current.selectionStart=N,d.current.selectionEnd=N,d.current.focus()}},0)}b(!1)},Ie=u=>{const p=u.split(`
`);return p.length===0||p.length===1&&p[0]===""?'<span class="ts-line"><span class="ts-line-number">1</span></span>':p.map((f,k)=>{const g=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/@(\w+)\(([^)]*)\)((?:\.\w+(?:\([^)]*\))?)*)/g,(m,v,N,G)=>{const ne=N==="";let ae=G;return G&&(ae=G.replace(/\.(\w+)\(([^)]*)\)/g,(pe,Z,ve)=>ve?`.${Z}(<span class="hl-group-arg">${ve}</span>)`:`.${Z}()`)),ne?`<span class="hl-group">@${v}()${ae?`<span class="hl-group-mods">${ae}</span>`:""}</span>`:`<span class="hl-group">@${v}(<span class="hl-group-props">${N}</span>)${ae?`<span class="hl-group-mods">${ae}</span>`:""}</span>`});return`<span class="ts-line"><span class="ts-line-number">${k+1}</span>${g}</span>`}).join(`
`)},we=u=>{const p=u.currentTarget,f=p.parentElement?.querySelector("pre");f&&(f.scrollTop=p.scrollTop,f.scrollLeft=p.scrollLeft)},ye=()=>{if(!d.current||!e)return;const u=d.current.selectionStart,p=/@(\w+)\(([^)]*)\)((?:\.\w+(?:\([^)]*\))?)*)/g;let f,k=0,s=!1;for(;(f=p.exec(t))!==null;){const m=f.index,v=f.index+f[0].length;if(u>=m&&u<=v){e(k),s=!0;break}k++}s||e(-1);const g=t.substring(0,u);g.endsWith(".")&&g.charAt(u-2)===")"&&g.match(/@\w+\(/)&&(console.log("[CodeEditor] Click detected after ), triggering modifier autocomplete"),Me(t))};return Ne(()=>{if(!T)return;const u=f=>{f.target.closest(".dtags-ac")||(console.log("[CodeEditor] Click outside .dtags-ac, closing autocomplete"),b(!1))},p=setTimeout(()=>{document.addEventListener("click",u),console.log("[CodeEditor] Voxel-style click-outside listener attached")},50);return()=>{clearTimeout(p),document.removeEventListener("click",u),console.log("[CodeEditor] Voxel-style click-outside listener removed")}},[T]),console.log("[CodeEditor] Render - showAutocomplete:",T,"suggestions:",L.length),l.createElement("div",{className:"dtags-wrapper"},l.createElement("div",{className:"dtags-content"},l.createElement("pre",{className:"ts-snippet nvx-scrollable",dangerouslySetInnerHTML:{__html:Ie(t||"")}}),l.createElement("textarea",{ref:d,value:t,onChange:u=>Ee(u.target.value),onKeyDown:me,onClick:ye,onKeyUp:ye,onScroll:we,rows:4,className:"nvx-scrollable",placeholder:"Press @ to quickly add a tag, or pick one from the left sidebar",spellCheck:!1}),T&&L.length>0&&l.createElement("div",{ref:w,className:"dtags-ac nvx-scrollable",style:{top:`${Y.top}px`,left:`${Y.left}px`}},V==="tag"?l.createElement("ul",{className:"nvx-quick-tags"},L.map((u,p)=>{const f=u;return l.createElement("li",{key:p,className:p===_?"is-active":"","data-result-index":p,title:`${f.breadcrumb} / ${f.label}`,onClick:()=>be(u),onMouseEnter:()=>B(p)},l.createElement("span",null,f.breadcrumb),l.createElement("p",null,f.label))})):l.createElement("ul",{className:"nvx-quick-tags nvx-insert-mod"},(()=>{const u=["text","number","date","other","control"],p={text:"Text",number:"Number",date:"Date",other:"Other",control:"Conditionals"},f=L.reduce((s,g)=>{const m=g;return s[m.category]||(s[m.category]=[]),s[m.category].push(m),s},{});let k=0;return u.map(s=>{if(!f[s])return null;const g=f[s];return l.createElement(l.Fragment,{key:s},l.createElement("li",{className:"vx-inert"},l.createElement("span",null,p[s])),g.map((m,v)=>{const N=k++,ne=[N===_?"is-active":"",N===0?"first-item":""].filter(Boolean).join(" ");return l.createElement("li",{key:`${s}-${v}`,className:ne,"data-result-index":N,title:m.label,onClick:()=>be(m)},l.createElement("p",null,m.label," ",l.createElement("code",null,m.fullSignature||m.code)))}))})})()))))},Kt=({modifier:t,modifierDef:r,index:e,onUpdate:x,onRemove:M,isOpen:d,onToggle:w,onDragStart:T,onDragOver:b,onDrop:Y})=>{if(!r)return null;const I=(A,L)=>{const O=[...t.args];O[A]=L,x(e,{...t,args:O})},W=r.args&&r.args.length>0;return l.createElement("div",{className:`nvx-mod${d?" mod-open":""}`,"data-draggable":"true",draggable:!0,onDragStart:()=>T(e),onDragOver:A=>b(A,e),onDrop:()=>Y(e)},l.createElement("div",{className:"nvx-mod-title",onClick:()=>w(e)},r.label,l.createElement("button",{type:"button",className:"ts-button ts-outline icon-only",onClick:A=>{A.stopPropagation(),M(e)},title:"Remove modifier"},l.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M9.5 2C9.08579 2 8.75 2.33579 8.75 2.75C8.75 3.16421 9.08579 3.5 9.5 3.5H14.5C14.9142 3.5 15.25 3.16421 15.25 2.75C15.25 2.33579 14.9142 2 14.5 2H9.5Z",fill:"currentColor"}),l.createElement("path",{d:"M4 5C3.74924 5 3.51506 5.12533 3.37597 5.33397C3.23687 5.54262 3.21125 5.80699 3.3077 6.03846L4.44231 8.76154C4.4804 8.85294 4.5 8.95098 4.5 9.05V19.75C4.5 20.9926 5.50736 22 6.75 22H17.25C18.4926 22 19.5 20.9926 19.5 19.75V9.04978C19.5 8.95083 19.5196 8.85286 19.5576 8.76151L20.6914 6.03827C20.7878 5.8068 20.7621 5.54249 20.623 5.33389C20.4839 5.12529 20.2498 5 19.999 5H4ZM10.75 10.5V16.5C10.75 16.9142 10.4142 17.25 10 17.25C9.58579 17.25 9.25 16.9142 9.25 16.5V10.5C9.25 10.0858 9.58579 9.75 10 9.75C10.4142 9.75 10.75 10.0858 10.75 10.5ZM14.75 10.5V16.5C14.75 16.9142 14.4142 17.25 14 17.25C13.5858 17.25 13.25 16.9142 13.25 16.5V10.5C13.25 10.0858 13.5858 9.75 14 9.75C14.4142 9.75 14.75 10.0858 14.75 10.5Z",fill:"currentColor"})))),d&&l.createElement("div",{className:"nvx-mod-content"},W?r.args.map((A,L)=>l.createElement("div",{key:L,className:"ts-form-group"},l.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"}},l.createElement("label",{style:{margin:0}},A.label),A.description&&l.createElement("span",{className:"vx-info-box"},l.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0 0 0)"},l.createElement("path",{d:"M2 12.3906C2 6.86778 6.47715 2.39062 12 2.39062C17.5228 2.39062 22 6.86778 22 12.3906C22 17.9135 17.5228 22.3906 12 22.3906C6.47715 22.3906 2 17.9135 2 12.3906ZM11.9993 9.96045C12.4964 9.96045 12.9001 9.5575 12.9001 9.06045C12.9001 8.56339 12.4971 8.16045 12.0001 8.16045C11.503 8.16045 11.0993 8.56339 11.0993 9.06045C11.0993 9.5575 11.5023 9.96045 11.9993 9.96045ZM11.2501 15.8298C11.2501 16.244 11.5859 16.5798 12.0001 16.5798C12.4143 16.5798 12.7501 16.244 12.7501 15.8298V11.6054C12.7501 11.1912 12.4143 10.8554 12.0001 10.8554C11.5858 10.8554 11.2501 11.1912 11.2501 11.6054V15.8298Z",fill:"#343C54"})),l.createElement("p",null,A.description))),A.type==="select"?l.createElement("select",{value:t.args[L]||A.default||"",onChange:O=>I(L,O.target.value)},A.options?.map(O=>l.createElement("option",{key:O.value,value:O.value},O.label))):A.type==="number"?l.createElement("input",{type:"number",value:t.args[L]?.toString()||A.default?.toString()||"",onChange:O=>I(L,parseInt(O.target.value,10)||0)}):l.createElement("input",{type:"text",value:t.args[L]||A.default||"",onChange:O=>I(L,O.target.value)}))):l.createElement("div",{className:"ts-form-group"},l.createElement("p",null,"No additional settings."))))},Qt=({modifiers:t,availableModifiers:r,onUpdate:e,currentTag:x})=>{const[M,d]=$(""),[w,T]=$(new Set),[b,Y]=$(null),I=D=>{if(!D){d("");return}const S=K.find(j=>j.key===D);if(!S){d("");return}const R={key:D,args:S.args?.map(j=>j.default||"")||[]};e([...t,R]),d("")},W=(D,S)=>{const R=[...t];R[D]=S,e(R)},A=D=>{const S=t.filter((j,te)=>te!==D),R=new Set;w.forEach(j=>{j<D?R.add(j):j>D&&R.add(j-1)}),T(R),e(S)},L=D=>{w.has(D)?T(new Set):T(new Set([D]))},O=D=>{Y(D)},_=(D,S)=>{D.preventDefault()},B=D=>{if(b===null||b===D){Y(null);return}const S=[...t],[R]=S.splice(b,1);S.splice(D,0,R);const j=new Set;w.forEach(te=>{te===b?j.add(D):te>b&&te<=D?j.add(te-1):te<b&&te>=D?j.add(te+1):j.add(te)}),T(j),e(S),Y(null)},V=["text","number","date","other","control"],X={text:"Text",number:"Number",date:"Date",other:"Other",control:"Conditionals"};console.log("[ModifierEditor] Available modifiers:",r),console.log("[ModifierEditor] First modifier:",r[0]),console.log("[ModifierEditor] Current tag:",x);const z=D=>({post:[{key:"meta",label:"Post meta",category:"other",args:[{type:"text",label:"Meta key",default:""}]}],author:[{key:"meta",label:"User meta",category:"other",args:[{type:"text",label:"Meta key",default:""}]}],user:[{key:"meta",label:"User meta",category:"other",args:[{type:"text",label:"Meta key",default:""}]}],site:[{key:"query_var",label:"Query variable",category:"other",args:[{type:"text",label:"Variable name",default:""}]},{key:"math",label:"Math expression",category:"other",args:[{type:"text",label:"Math expression",default:""}]}]})[D]||[],K=x?[...r,...z(x.group)]:r,Q=K.reduce((D,S)=>{if(!S||typeof S.key!="string")return console.warn("[ModifierEditor] Invalid modifier object:",S),D;if(S.key==="then"||S.key==="else")return D;const R=S.category||"other";return D[R]||(D[R]=[]),D[R].push(S),D},{});console.log("[ModifierEditor] Modifiers by category:",Q);const ee=()=>{if(!x?.breadcrumb)return null;const D=x.breadcrumb.split(" / "),S=[];return D.forEach((R,j)=>{S.push(l.createElement("span",{key:`part-${j}`},R)),j<D.length-1&&S.push(l.createElement("span",{key:`sep-${j}`}," / "))}),S};return l.createElement(l.Fragment,null,l.createElement("div",{className:"mod-head"},l.createElement("h3",null,x?.property||"Select a tag"),l.createElement("div",{className:"nvx-placeholder nvx-tag-path"},ee())),l.createElement("div",{className:"ts-form-group"},l.createElement("select",{value:M,onChange:D=>I(D.target.value),disabled:!x},l.createElement("option",{value:"",disabled:!0},"Add a mod"),V.map(D=>Q[D]?l.createElement("optgroup",{key:D,label:X[D]},Q[D].map(S=>{const R=typeof S.key=="string"?S.key:String(S.key||"");return console.log("[ModifierEditor] Rendering modifier:",{key:S.key,keyValue:R,label:S.label}),l.createElement("option",{key:R,value:R},S.label)})):null))),t.length>0&&l.createElement("div",{className:"nvx-divider"}),t.length>0&&l.createElement("div",{className:"nvx-mod-list"},t.map((D,S)=>{const R=K.find(j=>j.key===D.key);return l.createElement(Kt,{key:S,modifier:D,modifierDef:R,index:S,onUpdate:W,onRemove:A,isOpen:w.has(S),onToggle:L,onDragStart:O,onDragOver:_,onDrop:B})})))},Xt=({value:t,onChange:r,label:e="Dynamic Content",context:x="post",onClose:M,autoOpen:d=!1})=>{const[w,T]=$(d),[b,Y]=$(t),[I,W]=$(""),[A,L]=$([]),[O,_]=$([]),[B,V]=$(null),[X,z]=$([]),[K,Q]=$(null),[ee,D]=$(!1),[S,R]=$(null),[j,te]=$({}),de=l.useRef(null);Ne(()=>{w&&A.length===0&&me()},[w]);const me=()=>{const u=window.VoxelFSE_Dynamic_Data_Store;u&&u.groups?(L(u.groups||[]),_(u.modifiers||[])):Ee()},Ee=async()=>{D(!0),R(null);try{const u=await He({path:`/voxel-fse/v1/dynamic-data/groups?context=${x}`});L(u||[]);const p=await He({path:"/voxel-fse/v1/dynamic-data/modifiers"});_(p||[])}catch(u){R("Failed to load data groups. Please try again."),console.error("Failed to fetch data groups:",u)}finally{D(!1)}},ke=async(u,p)=>{const f=p?`${u}:${p}`:u;if(j[f])return console.log(`[fetchGroupChildren] Using cached children for ${f}`),j[f];const k=window.VoxelFSE_Dynamic_Data_Store;if(k?.groupChildren?.[f]){console.log(`[fetchGroupChildren] Loading children from global store for ${f} (instant!)`);const s=k.groupChildren[f];return te(g=>({...g,[f]:s})),p||L(g=>g.map(m=>m.type===u?{...m,exports:s||[],isLoaded:!0}:m)),s}console.log(`[fetchGroupChildren] Fetching children from API for ${f}...`);try{const s=p?`/voxel-fse/v1/dynamic-data/groups?group=${u}&parent=${p}`:`/voxel-fse/v1/dynamic-data/groups?group=${u}`,g=await He({path:s});return console.log(`[fetchGroupChildren] Loaded ${g?.length||0} children for ${f}`),te(m=>({...m,[f]:g||[]})),L(m=>m.map(v=>v.type===u&&!p?{...v,exports:g||[],isLoaded:!0}:v)),g||[]}catch(s){return console.error(`Failed to fetch children for ${u}:`,s),te(g=>({...g,[f]:[]})),[]}},Me=(u,p,f)=>{const k=f==="method"?`@${u}().${p}()`:`@${u}(${p})`;de.current?de.current(k):Y(s=>s+(s?" ":"")+k)},Se=(u,p)=>{const f=/@(\w+)\(([^)]*)\)((?:\.\w+(?:\([^)]*\))?)*)/g;let k,s=0;for(;(k=f.exec(u))!==null;){if(s===p){const g=k[1],m=k[2],v=k[3]||"",N=[],G=/\.(\w+)(?:\(([^)]*)\))?/g;let ne;for(;(ne=G.exec(v))!==null;){const pe=ne[1],Z=ne[2]||"",ve=Z?Z.split(",").map(oe=>oe.trim()):[];N.push({key:pe,args:ve})}const ae=`${g.charAt(0).toUpperCase()+g.slice(1)} / ${m.charAt(0).toUpperCase()+m.slice(1)}`;return{group:g,property:m,breadcrumb:ae,modifiers:N}}s++}return null},be=u=>{V(u);const p=Se(b,u);p?(Q({group:p.group,property:p.property,breadcrumb:p.breadcrumb}),z(p.modifiers)):(Q(null),z([]))},Ie=u=>{if(z(u),B===null||B<0||!K)return;const p=/@(\w+)\(([^)]*)\)((?:\.\w+(?:\([^)]*\))?)*)/g;let f,k=0,s=b;for(;(f=p.exec(b))!==null;){if(k===B){const g=f[1],m=f[2];let v=`@${g}(${m})`;u.length>0&&u.forEach(N=>{v+=`.${N.key}`,N.args&&N.args.length>0?v+=`(${N.args.join(", ")})`:v+="()"}),s=b.substring(0,f.index)+v+b.substring(f.index+f[0].length),Y(s);return}k++}Y(s)},we=()=>{r(b),T(!1),M&&M()},ye=()=>{Y(t),T(!1),M&&M()};return Ne(()=>{if(!w)return;const u="voxel-backend-css-dynamic";if(document.getElementById(u))return;const p=document.createElement("link");p.id=u,p.rel="stylesheet",p.href="/wp-content/themes/voxel/assets/dist/backend.css",document.head.appendChild(p)},[w]),l.createElement(l.Fragment,null,l.createElement("div",{className:"mw-dynamic-tag-builder-trigger"},l.createElement("button",{type:"button",className:"components-button is-secondary",onClick:()=>T(!0)},l.createElement("span",{className:"dashicons dashicons-tag"}),e),t&&l.createElement("div",{className:"mw-dynamic-tag-builder-trigger__preview"},l.createElement("code",null,t))),w&&l.createElement("div",{className:"nvx-editor"},l.createElement("div",{className:"nvx-topbar"},l.createElement("div",{className:"nvx-topbar__title nvx-flex nvx-v-center"},l.createElement("h2",null,"Dynamic data")),l.createElement("div",{className:"nvx-topbar__buttons nvx-flex nvx-v-center"},l.createElement("button",{type:"button",className:"ts-button ts-outline",onClick:ye},"Discard"),l.createElement("button",{type:"button",className:"ts-button btn-shadow ts-save-settings",onClick:we},l.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M3.25 5.5C3.25 4.25736 4.25736 3.25 5.5 3.25H15.3809C15.977 3.25 16.5488 3.48658 16.9707 3.90779L20.0897 7.02197C20.5124 7.44403 20.7499 8.01685 20.7499 8.61418L20.7499 18.5C20.7499 19.7426 19.7425 20.75 18.4999 20.75H16.75V16.25C16.75 15.0074 15.7426 14 14.5 14L9.5 14C8.25736 14 7.25 15.0074 7.25 16.25L7.25001 20.75H5.5C4.25736 20.75 3.25 19.7426 3.25 18.5V5.5ZM8 6.25C7.58579 6.25 7.25 6.58579 7.25 7C7.25 7.41421 7.58579 7.75 8 7.75H12C12.4142 7.75 12.75 7.41421 12.75 7C12.75 6.58579 12.4142 6.25 12 6.25H8Z",fill:"currentColor"}),l.createElement("path",{d:"M8.75001 20.75L15.25 20.75V16.25C15.25 15.8358 14.9142 15.5 14.5 15.5L9.5 15.5C9.08579 15.5 8.75 15.8358 8.75 16.25L8.75001 20.75Z",fill:"currentColor"})),"Save"))),S&&l.createElement("div",{className:"mw-dynamic-tag-builder__error"},S),ee?l.createElement("div",{className:"mw-dynamic-tag-builder__loading"},"Loading..."):l.createElement("div",{className:"nvx-editor-body"},l.createElement("div",{className:"nvx-left-sidebar nvx-scrollable"},l.createElement(Zt,{value:I,onChange:W}),l.createElement(qt,{groups:A,searchQuery:I,onSelectTag:Me,onLoadChildren:ke})),l.createElement("div",{className:"nvx-main"},l.createElement("div",{className:"nvx-visual-editor"},l.createElement(Jt,{value:b,onChange:Y,onTokenFocus:be,onInsertTag:u=>{de.current=u}}))),l.createElement("div",{className:"nvx-right-sidebar nvx-scrollable"},B!==null&&B>=0&&K?l.createElement(Qt,{modifiers:X,availableModifiers:O,onUpdate:Ie,currentTag:K}):l.createElement("div",{className:"nvx-placeholder placeholder-all-center"},l.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M11.5811 3.06348C11.5811 2.81389 11.4569 2.58066 11.2498 2.44129C11.0428 2.30193 10.78 2.27469 10.5487 2.36864C8.65206 3.13926 7.3125 5.00074 7.3125 7.17688C7.3125 9.16904 8.43512 10.8975 10.0801 11.7667V20.0655C10.0801 21.3082 11.0874 22.3155 12.3301 22.3155H12.6701C13.9128 22.3155 14.9201 21.3082 14.9201 20.0655V11.7673C16.5657 10.8983 17.6888 9.16949 17.6888 7.17688C17.6888 5.00111 16.3497 3.13989 14.4535 2.36904C14.2223 2.27503 13.9595 2.30223 13.7524 2.44159C13.5453 2.58095 13.4211 2.8142 13.4211 3.06382V6.24913C13.4211 6.66334 13.0853 6.99913 12.6711 6.99913H12.3311C11.9168 6.99913 11.5811 6.66334 11.5811 6.24913V3.06348Z",fill:"#343C54"})),l.createElement("p",null,"Click on a tag to view options"))))))};function en({onClick:t,title:r=o("Enable Voxel tags","voxel-fse")}){return React.createElement("button",{type:"button",className:"voxel-fse-enable-tags",onClick:t,title:r},React.createElement("span",{className:"voxel-fse-enable-tags__icon"}))}o("Blue","voxel-fse"),o("Purple","voxel-fse"),o("Orange","voxel-fse"),o("White","voxel-fse"),o("Black","voxel-fse"),o("Light Gray","voxel-fse"),o("Gray","voxel-fse"),o("Dark Gray","voxel-fse"),o("Navy","voxel-fse"),o("Dark Blue","voxel-fse"),o("Dark Purple","voxel-fse"),o("Cyan","voxel-fse"),o("Teal","voxel-fse"),o("Green","voxel-fse"),o("Red","voxel-fse");o("None","voxel-fse"),o("Fading","voxel-fse"),o("Fade In","voxel-fse"),o("Fade In Down","voxel-fse"),o("Fade In Left","voxel-fse"),o("Fade In Right","voxel-fse"),o("Fade In Up","voxel-fse"),o("Zooming","voxel-fse"),o("Zoom In","voxel-fse"),o("Zoom In Down","voxel-fse"),o("Zoom In Left","voxel-fse"),o("Zoom In Right","voxel-fse"),o("Zoom In Up","voxel-fse"),o("Bouncing","voxel-fse"),o("Bounce In","voxel-fse"),o("Bounce In Down","voxel-fse"),o("Bounce In Left","voxel-fse"),o("Bounce In Right","voxel-fse"),o("Bounce In Up","voxel-fse"),o("Sliding","voxel-fse"),o("Slide In Down","voxel-fse"),o("Slide In Left","voxel-fse"),o("Slide In Right","voxel-fse"),o("Slide In Up","voxel-fse"),o("Rotating","voxel-fse"),o("Rotate In","voxel-fse"),o("Rotate In Down Left","voxel-fse"),o("Rotate In Down Right","voxel-fse"),o("Rotate In Up Left","voxel-fse"),o("Rotate In Up Right","voxel-fse"),o("Attention Seekers","voxel-fse"),o("Bounce","voxel-fse"),o("Flash","voxel-fse"),o("Pulse","voxel-fse"),o("Rubber Band","voxel-fse"),o("Shake","voxel-fse"),o("Head Shake","voxel-fse"),o("Swing","voxel-fse"),o("Tada","voxel-fse"),o("Wobble","voxel-fse"),o("Jello","voxel-fse"),o("Light Speed","voxel-fse"),o("Light Speed In","voxel-fse"),o("Specials","voxel-fse"),o("Roll In","voxel-fse");o("Default","voxel-fse"),o("None","voxel-fse"),o("Solid","voxel-fse"),o("Double","voxel-fse"),o("Dotted","voxel-fse"),o("Dashed","voxel-fse"),o("Groove","voxel-fse");o("Default","voxel-fse"),o("Full Width","voxel-fse")+"",o("Inline","voxel-fse")+"",o("Custom","voxel-fse");o("Default","voxel-fse"),o("Absolute","voxel-fse"),o("Fixed","voxel-fse");o("Circle","voxel-fse"),o("Oval Vertical","voxel-fse"),o("Oval Horizontal","voxel-fse"),o("Pill Vertical","voxel-fse"),o("Pill Horizontal","voxel-fse"),o("Triangle","voxel-fse"),o("Diamond","voxel-fse"),o("Pentagon","voxel-fse"),o("Hexagon Vertical","voxel-fse"),o("Hexagon Horizontal","voxel-fse"),o("Heptagon","voxel-fse"),o("Octagon","voxel-fse"),o("Parallelogram Right","voxel-fse"),o("Parallelogram Left","voxel-fse"),o("Trapezoid Up","voxel-fse"),o("Trapezoid Down","voxel-fse"),o("Flower","voxel-fse"),o("Sketch","voxel-fse"),o("Hexagon Donut","voxel-fse"),o("Blob","voxel-fse");o("Fit","voxel-fse"),o("Fill","voxel-fse"),o("Custom","voxel-fse");o("Center Center","voxel-fse"),o("Center Left","voxel-fse"),o("Center Right","voxel-fse"),o("Top Center","voxel-fse"),o("Top Left","voxel-fse"),o("Top Right","voxel-fse"),o("Bottom Center","voxel-fse"),o("Bottom Left","voxel-fse"),o("Bottom Right","voxel-fse"),o("Custom","voxel-fse");o("No-repeat","voxel-fse"),o("Repeat","voxel-fse"),o("Repeat-x","voxel-fse"),o("Repeat-y","voxel-fse"),o("Round","voxel-fse"),o("Space","voxel-fse");o("Select condition","voxel-fse"),o("Dynamic tag","voxel-fse"),o("User is logged in","voxel-fse"),o("User is logged out","voxel-fse"),o("User membership plan is","voxel-fse"),o("User role is","voxel-fse"),o("User is author of current post","voxel-fse"),o("User can create new post","voxel-fse"),o("User can edit current post","voxel-fse"),o("User is verified","voxel-fse"),o("User is a Stripe Connect vendor","voxel-fse"),o("User has bought product","voxel-fse"),o("User has bought product type","voxel-fse"),o("User is customer of author","voxel-fse"),o("User follows post","voxel-fse"),o("User follows author","voxel-fse"),o("Author membership plan is","voxel-fse"),o("Author role is","voxel-fse"),o("Author is verified","voxel-fse"),o("Author is a Stripe Connect vendor","voxel-fse"),o("Is page","voxel-fse"),o("Is child of page","voxel-fse"),o("Is single post","voxel-fse"),o("Is post type archive","voxel-fse"),o("Is author profile","voxel-fse"),o("Is single term","voxel-fse"),o("Is homepage","voxel-fse"),o("Is 404 page","voxel-fse"),o("Post is verified","voxel-fse"),o("Product is available","voxel-fse"),o("Product type is","voxel-fse"),o("Listing plan is","voxel-fse"),o("User has bought listing plan","voxel-fse"),o("Author has bought listing plan","voxel-fse");const tn=[{key:"countries",label:o("Top countries","voxel-fse"),type:"object-list"},{key:"ref_domains",label:o("Top referrers (domains)","voxel-fse"),type:"object-list"},{key:"ref_urls",label:o("Top referrers (URLs)","voxel-fse"),type:"object-list"},{key:"browsers",label:o("Top browsers","voxel-fse"),type:"object-list"},{key:"platforms",label:o("Top platforms","voxel-fse"),type:"object-list"},{key:"devices",label:o("Devices","voxel-fse"),type:"object-list"}];o("Post","voxel-fse"),o("Visit stats","voxel-fse"),o("Author","voxel-fse"),o("Role","voxel-fse"),o("User","voxel-fse"),o("Role","voxel-fse");o("Blue","voxel-fse"),o("Purple","voxel-fse"),o("Orange","voxel-fse"),o("White","voxel-fse"),o("Black","voxel-fse"),o("Light Gray","voxel-fse"),o("Gray","voxel-fse"),o("Dark Gray","voxel-fse"),o("Navy","voxel-fse"),o("Dark Blue","voxel-fse"),o("Dark Purple","voxel-fse"),o("Cyan","voxel-fse"),o("Teal","voxel-fse"),o("Green","voxel-fse"),o("Red","voxel-fse");o("Default","voxel-fse"),o("System Font","voxel-fse");const nn=({label:t,value:r,onChange:e,supportsDynamicTags:x=!0,dynamicTagContext:M="post",showSelectedIcon:d=!1})=>{const w={library:r?.library||"",value:r?.value||""},T=s=>s?!["","svg","dynamic"].includes(s):!1,[b,Y]=$(!1),[I,W]=$({}),[A,L]=$({}),[O,_]=$(""),[B,V]=$(""),[X,z]=$({}),K=ot(null),[Q,ee]=$(!1),D=()=>{const s=w.value;return typeof s=="string"&&s.startsWith("@tags()")&&s.includes("@endtags()")},S=()=>{if(!D())return w.value||"";const s=w.value.match(/@tags\(\)(.*?)@endtags\(\)/s);return s?s[1]:w.value},R=s=>s?`@tags()${s}@endtags()`:"",j=()=>{ee(!0)},te=()=>{window.confirm(o("Are you sure?","voxel-fse"))&&e({library:"",value:""})},de=s=>{s&&e({library:"dynamic",value:R(s)}),ee(!1)},me=D(),Ee=typeof window<"u"&&window.wp&&window.wp.media;Ne(()=>{if(b&&window.Voxel_Icon_Picker_Config&&!O){const s=window.Voxel_Icon_Picker_Config,g=Object.keys(s)[0];g&&_(g)}},[b,O]);const ke=De(()=>{e({library:"",value:""})},[e]),Me=De(()=>{if(!Ee||!window.wp?.media){console.warn("WordPress media library not available");return}const s=window.wp.media({title:o("Select SVG Icon","voxel-fse"),button:{text:o("Select","voxel-fse")},multiple:!1,library:{type:"image/svg+xml"}});s.on("select",()=>{const m=s.state().get("selection").first().toJSON();m&&m.url&&e({library:"svg",value:m.url})}),s.open()},[Ee,e]),Se=De(async(s,g)=>{if(!(I[s]||A[s]||!g.fetchJson)){L(m=>({...m,[s]:!0}));try{const m=await fetch(g.fetchJson);if(m.ok){const v=await m.json();let N=[];if(Array.isArray(v))N=v;else if(v&&typeof v=="object"){const G=v;N=G.icons||G.list||[]}W(G=>({...G,[s]:N}))}}catch(m){console.warn(`Failed to load icon list for ${s}:`,m)}finally{L(m=>{const v={...m};return delete v[s],v})}}},[I,A]),be=De(s=>{if(V(s),!s.trim()){z({});return}const g=window.Voxel_Icon_Picker_Config;if(!g)return;const m={},v=s.toLowerCase();Object.entries(g).forEach(([N,G])=>{const ae=(I[N]||G.list||[]).filter(pe=>pe.toLowerCase().includes(v));ae.length>0&&(m[N]=ae)}),z(m)},[I]);Ne(()=>{if(b){if(!document.getElementById("vx-backend-css-dynamic")){const s=document.querySelector('link[href*="backend.css"]');let g="";s&&s.href?g=s.href:g=`${window.location.origin}/wp-content/themes/voxel/assets/dist/backend.css`;const m=document.createElement("link");m.id="vx-backend-css-dynamic",m.rel="stylesheet",m.href=g,m.media="all",document.head.appendChild(m)}}else{const s=document.getElementById("vx-backend-css-dynamic");s&&s.remove()}},[b]);const Ie=De(()=>{if(!window.Voxel_Icon_Picker_Config){console.warn("Voxel icon picker config not available");return}Y(!0),V(""),z({});const s=window.Voxel_Icon_Picker_Config;Object.entries(s).forEach(([g,m])=>{m.fetchJson&&Se(g,m)})},[Se]),we=De(()=>{Y(!1),V(""),z({}),_("")},[]),ye=De(s=>{_(s),V(""),z({})},[]),u=De((s,g)=>{const m=window.Voxel_Icon_Picker_Config;if(!m||!m[g])return;const v=m[g],N=`${v.displayPrefix} ${v.prefix}${s}`;e({library:"icon",value:N}),we()},[e,we]),f=!window.Voxel_Icon_Picker_Config||!O?null:window.Voxel_Icon_Picker_Config[O],k=f?I[O]||f.list||[]:[];return l.createElement("div",{className:"voxel-icon-picker-control",style:{marginBottom:"16px"}},l.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},l.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},x&&l.createElement(en,{onClick:j}),l.createElement("label",{style:{fontWeight:500,margin:0}},t))),me?l.createElement("div",{className:"edit-voxel-tags",style:{backgroundColor:"rgb(47, 47, 49)",borderRadius:"10px",overflow:"hidden",padding:"12px"}},l.createElement("div",{style:{marginBottom:"12px"}},l.createElement("span",{style:{color:"#fff",fontSize:"13px",fontFamily:"inherit",wordBreak:"break-all"}},S())),l.createElement("div",{style:{height:"1px",backgroundColor:"rgba(255, 255, 255, 0.15)",marginBottom:"8px"}}),l.createElement("div",{style:{display:"flex"}},l.createElement("button",{type:"button",className:"edit-tags",onClick:j,style:{flex:1,background:"transparent",border:"none",color:"rgba(255, 255, 255, 0.8)",fontSize:"10px",fontWeight:600,letterSpacing:"0.5px",cursor:"pointer",padding:"6px 0",textAlign:"left"}},o("EDIT TAGS","voxel-fse")),l.createElement("button",{type:"button",className:"disable-tags",onClick:te,style:{flex:1,background:"transparent",border:"none",color:"rgba(255, 255, 255, 0.5)",fontSize:"10px",fontWeight:600,letterSpacing:"0.5px",cursor:"pointer",padding:"6px 0",textAlign:"right"}},o("DISABLE TAGS","voxel-fse")))):l.createElement(l.Fragment,null,l.createElement("style",null,`
						.voxel-icon-picker-control .voxel-icon-btn-active.components-button {
							background-color: var(--wp-components-color-accent, var(--wp-admin-theme-color, #3858e9)) !important;
							color: #fff !important;
						}
						.voxel-icon-picker-control .voxel-icon-picker-btn.components-button {
							min-width: 36px !important;
							width: 36px !important;
							height: 36px !important;
							padding: 0 !important;
							display: flex !important;
							align-items: center !important;
							justify-content: center !important;
							overflow: visible !important;
						}
						.voxel-icon-picker-control .voxel-icon-picker-btn.components-button i {
							font-size: 16px !important;
							line-height: 1 !important;
							width: auto !important;
							height: auto !important;
						}
					`),l.createElement("div",{style:{display:"flex",gap:"4px",alignItems:"center"}},l.createElement(Qe,{variant:w.library===""?"primary":"secondary",onClick:ke,title:o("None","voxel-fse"),className:`voxel-icon-picker-btn ${w.library===""?"voxel-icon-btn-active":""}`},l.createElement("i",{className:"eicon-ban","aria-hidden":"true"})),l.createElement(Qe,{variant:w.library==="svg"?"primary":"secondary",onClick:Me,title:o("Upload SVG","voxel-fse"),className:`voxel-icon-picker-btn ${w.library==="svg"?"voxel-icon-btn-active":""}`},l.createElement("i",{className:"eicon-upload","aria-hidden":"true"})),l.createElement(Qe,{variant:T(w.library)?"primary":"secondary",onClick:Ie,title:o("Icon Library","voxel-fse"),className:`voxel-icon-picker-btn ${T(w.library)?"voxel-icon-btn-active":""}`},(d||T(w.library))&&w.value?l.createElement("i",{className:w.value,"aria-hidden":"true"}):w.library==="svg"&&w.value?l.createElement("img",{src:w.value,alt:"",style:{width:"16px",height:"16px"}}):l.createElement("i",{className:"eicon-circle","aria-hidden":"true"})))),b&&l.createElement("div",{className:"icon-picker-modal"},l.createElement("div",{className:"ts-modal-backdrop",onClick:we}),l.createElement("div",{className:"icons-modal ts-theme-options",ref:K},f&&k.length>0?l.createElement("div",{className:"x-row"},l.createElement("div",{className:"inner-tab x-col-4"},l.createElement("div",{className:"x-row"},l.createElement("div",{className:"ts-form-group x-col-12"},l.createElement("label",null,"Search icons"),l.createElement("input",{type:"text",value:B,onChange:s=>be(s.target.value),placeholder:"Search icon"})),l.createElement("div",{className:"x-col-12"},l.createElement("ul",{className:"inner-tabs vertical-tabs"},window.Voxel_Icon_Picker_Config&&Object.entries(window.Voxel_Icon_Picker_Config).map(([s,g])=>l.createElement("li",{key:s,className:O===s?"current-item":""},l.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),ye(s)}},l.createElement("i",{className:g.labelIcon}),l.createElement("span",null,g.label)))))))),l.createElement("div",{className:"icon-list-wrapper min-scroll x-col-8"},B?l.createElement("div",{className:"filtered-icons"},Object.entries(X).map(([s,g])=>{const m=window.Voxel_Icon_Picker_Config?.[s];return m?l.createElement("div",{key:s},l.createElement("code",null,m.label),l.createElement("div",{className:"icon-list"},g.map(v=>l.createElement("div",{key:v,className:"single-icon",onClick:N=>{N.preventDefault(),N.stopPropagation(),u(v,s)},title:v},l.createElement("i",{className:`${m.displayPrefix} ${m.prefix}${v}`}),l.createElement("span",null,v))))):null})):l.createElement("div",{className:"icon-list"},k.map(s=>l.createElement("div",{key:s,className:"single-icon",onClick:g=>{g.preventDefault(),g.stopPropagation(),u(s,O)},title:s},l.createElement("i",{className:`${f.displayPrefix} ${f.prefix}${s}`}),l.createElement("span",null,s)))))):l.createElement("div",{className:"x-row"},l.createElement("div",{className:"x-col-12"},l.createElement("label",null,A[O]?o("Loading icons...","voxel-fse"):o("No icon packs available.","voxel-fse")))))),Q&&l.createElement(Xt,{value:S(),onChange:de,label:t,context:M,onClose:()=>ee(!1),autoOpen:!0}))};o("Start","voxel-fse"),o("Center","voxel-fse"),o("End","voxel-fse"),o("Space Between","voxel-fse"),o("Space Around","voxel-fse"),o("Space Evenly","voxel-fse");o("Mountains","voxel-fse"),o("Drops","voxel-fse"),o("Clouds","voxel-fse"),o("Zigzag","voxel-fse"),o("Pyramids","voxel-fse"),o("Triangle","voxel-fse"),o("Triangle Asymmetrical","voxel-fse"),o("Tilt","voxel-fse"),o("Tilt Opacity","voxel-fse"),o("Fan Opacity","voxel-fse"),o("Curve","voxel-fse"),o("Curve Asymmetrical","voxel-fse"),o("Waves","voxel-fse"),o("Waves Brush","voxel-fse"),o("Waves Pattern","voxel-fse"),o("Book","voxel-fse"),o("Split","voxel-fse"),o("Arrow","voxel-fse");var Xe=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Fe={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console<"u"&&console.warn(t)},getWeek:function(t){var r=new Date(t.getTime());r.setHours(0,0,0,0),r.setDate(r.getDate()+3-(r.getDay()+6)%7);var e=new Date(r.getFullYear(),0,4);return 1+Math.round(((r.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},je={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var r=t%100;if(r>3&&r<21)return"th";switch(r%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},se=function(t,r){return r===void 0&&(r=2),("000"+t).slice(r*-1)},ge=function(t){return t===!0?1:0};function pt(t,r){var e;return function(){var x=this,M=arguments;clearTimeout(e),e=setTimeout(function(){return t.apply(x,M)},r)}}var et=function(t){return t instanceof Array?t:[t]};function le(t,r,e){if(e===!0)return t.classList.add(r);t.classList.remove(r)}function U(t,r,e){var x=window.document.createElement(t);return r=r||"",e=e||"",x.className=r,e!==void 0&&(x.textContent=e),x}function Ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Et(t,r){if(r(t))return t;if(t.parentNode)return Et(t.parentNode,r)}function Ve(t,r){var e=U("div","numInputWrapper"),x=U("input","numInput "+t),M=U("span","arrowUp"),d=U("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?x.type="number":(x.type="text",x.pattern="\\d*"),r!==void 0)for(var w in r)x.setAttribute(w,r[w]);return e.appendChild(x),e.appendChild(M),e.appendChild(d),e}function ue(t){try{if(typeof t.composedPath=="function"){var r=t.composedPath();return r[0]}return t.target}catch{return t.target}}var tt=function(){},We=function(t,r,e){return e.months[r?"shorthand":"longhand"][t]},an={D:tt,F:function(t,r,e){t.setMonth(e.months.longhand.indexOf(r))},G:function(t,r){t.setHours((t.getHours()>=12?12:0)+parseFloat(r))},H:function(t,r){t.setHours(parseFloat(r))},J:function(t,r){t.setDate(parseFloat(r))},K:function(t,r,e){t.setHours(t.getHours()%12+12*ge(new RegExp(e.amPM[1],"i").test(r)))},M:function(t,r,e){t.setMonth(e.months.shorthand.indexOf(r))},S:function(t,r){t.setSeconds(parseFloat(r))},U:function(t,r){return new Date(parseFloat(r)*1e3)},W:function(t,r,e){var x=parseInt(r),M=new Date(t.getFullYear(),0,2+(x-1)*7,0,0,0,0);return M.setDate(M.getDate()-M.getDay()+e.firstDayOfWeek),M},Y:function(t,r){t.setFullYear(parseFloat(r))},Z:function(t,r){return new Date(r)},d:function(t,r){t.setDate(parseFloat(r))},h:function(t,r){t.setHours((t.getHours()>=12?12:0)+parseFloat(r))},i:function(t,r){t.setMinutes(parseFloat(r))},j:function(t,r){t.setDate(parseFloat(r))},l:tt,m:function(t,r){t.setMonth(parseFloat(r)-1)},n:function(t,r){t.setMonth(parseFloat(r)-1)},s:function(t,r){t.setSeconds(parseFloat(r))},u:function(t,r){return new Date(parseFloat(r))},w:tt,y:function(t,r){t.setFullYear(2e3+parseFloat(r))}},Te={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},$e={Z:function(t){return t.toISOString()},D:function(t,r,e){return r.weekdays.shorthand[$e.w(t,r,e)]},F:function(t,r,e){return We($e.n(t,r,e)-1,!1,r)},G:function(t,r,e){return se($e.h(t,r,e))},H:function(t){return se(t.getHours())},J:function(t,r){return r.ordinal!==void 0?t.getDate()+r.ordinal(t.getDate()):t.getDate()},K:function(t,r){return r.amPM[ge(t.getHours()>11)]},M:function(t,r){return We(t.getMonth(),!0,r)},S:function(t){return se(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,r,e){return e.getWeek(t)},Y:function(t){return se(t.getFullYear(),4)},d:function(t){return se(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return se(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,r){return r.weekdays.longhand[t.getDay()]},m:function(t){return se(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},kt=function(t){var r=t.config,e=r===void 0?Fe:r,x=t.l10n,M=x===void 0?je:x,d=t.isMobile,w=d===void 0?!1:d;return function(T,b,Y){var I=Y||M;return e.formatDate!==void 0&&!w?e.formatDate(T,b,I):b.split("").map(function(W,A,L){return $e[W]&&L[A-1]!=="\\"?$e[W](T,I,e):W!=="\\"?W:""}).join("")}},rt=function(t){var r=t.config,e=r===void 0?Fe:r,x=t.l10n,M=x===void 0?je:x;return function(d,w,T,b){if(!(d!==0&&!d)){var Y=b||M,I,W=d;if(d instanceof Date)I=new Date(d.getTime());else if(typeof d!="string"&&d.toFixed!==void 0)I=new Date(d);else if(typeof d=="string"){var A=w||(e||Fe).dateFormat,L=String(d).trim();if(L==="today")I=new Date,T=!0;else if(e&&e.parseDate)I=e.parseDate(d,A);else if(/Z$/.test(L)||/GMT$/.test(L))I=new Date(d);else{for(var O=void 0,_=[],B=0,V=0,X="";B<A.length;B++){var z=A[B],K=z==="\\",Q=A[B-1]==="\\"||K;if(Te[z]&&!Q){X+=Te[z];var ee=new RegExp(X).exec(d);ee&&(O=!0)&&_[z!=="Y"?"push":"unshift"]({fn:an[z],val:ee[++V]})}else K||(X+=".")}I=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),_.forEach(function(D){var S=D.fn,R=D.val;return I=S(I,R,Y)||I}),I=O?I:void 0}}if(!(I instanceof Date&&!isNaN(I.getTime()))){e.errorHandler(new Error("Invalid date provided: "+W));return}return T===!0&&I.setHours(0,0,0,0),I}}};function fe(t,r,e){return e===void 0&&(e=!0),e!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(r.getTime()).setHours(0,0,0,0):t.getTime()-r.getTime()}var on=function(t,r,e){return t>Math.min(r,e)&&t<Math.max(r,e)},nt=function(t,r,e){return t*3600+r*60+e},rn=function(t){var r=Math.floor(t/3600),e=(t-r*3600)/60;return[r,e,t-r*3600-e*60]},ln={DAY:864e5};function at(t){var r=t.defaultHour,e=t.defaultMinute,x=t.defaultSeconds;if(t.minDate!==void 0){var M=t.minDate.getHours(),d=t.minDate.getMinutes(),w=t.minDate.getSeconds();r<M&&(r=M),r===M&&e<d&&(e=d),r===M&&e===d&&x<w&&(x=t.minDate.getSeconds())}if(t.maxDate!==void 0){var T=t.maxDate.getHours(),b=t.maxDate.getMinutes();r=Math.min(r,T),r===T&&(e=Math.min(b,e)),r===T&&e===b&&(x=t.maxDate.getSeconds())}return{hours:r,minutes:e,seconds:x}}typeof Object.assign!="function"&&(Object.assign=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var x=function(T){T&&Object.keys(T).forEach(function(b){return t[b]=T[b]})},M=0,d=r;M<d.length;M++){var w=d[M];x(w)}return t});var ie=function(){return ie=Object.assign||function(t){for(var r,e=1,x=arguments.length;e<x;e++){r=arguments[e];for(var M in r)Object.prototype.hasOwnProperty.call(r,M)&&(t[M]=r[M])}return t},ie.apply(this,arguments)},gt=function(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var x=Array(t),M=0,r=0;r<e;r++)for(var d=arguments[r],w=0,T=d.length;w<T;w++,M++)x[M]=d[w];return x},sn=300;function cn(t,r){var e={config:ie(ie({},Fe),re.defaultConfig),l10n:je};e.parseDate=rt({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=_,e._setHoursFromDate=A,e._positionCalendar=Pe,e.changeMonth=ye,e.changeYear=g,e.clear=u,e.close=p,e.onMouseOver=ne,e._createElement=U,e.createDay=ee,e.destroy=f,e.isEnabled=m,e.jumpToDate=X,e.updateValue=Ce,e.open=pe,e.redraw=st,e.set=St,e.setDate=It,e.toggle=Pt;function x(){e.utils={getDaysInMonth:function(n,a){return n===void 0&&(n=e.currentMonth),a===void 0&&(a=e.currentYear),n===1&&(a%4===0&&a%100!==0||a%400===0)?29:e.l10n.daysInMonth[n]}}}function M(){e.element=e.input=t,e.isOpen=!1,ve(),_e(),Tt(),_t(),x(),e.isMobile||Q(),V(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&A(e.config.noCalendar?e.latestSelectedDateObj:void 0),Ce(!1)),T();var n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&n&&Pe(),J("onReady")}function d(){var n;return((n=e.calendarContainer)===null||n===void 0?void 0:n.getRootNode()).activeElement||document.activeElement}function w(n){return n.bind(e)}function T(){var n=e.config;n.weekNumbers===!1&&n.showMonths===1||n.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var a=(e.days.offsetWidth+1)*n.showMonths;e.daysContainer.style.width=a+"px",e.calendarContainer.style.width=a+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function b(n){if(e.selectedDates.length===0){var a=e.config.minDate===void 0||fe(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),i=at(e.config);a.setHours(i.hours,i.minutes,i.seconds,a.getMilliseconds()),e.selectedDates=[a],e.latestSelectedDateObj=a}n!==void 0&&n.type!=="blur"&&Ft(n);var c=e._input.value;W(),Ce(),e._input.value!==c&&e._debouncedChange()}function Y(n,a){return n%12+12*ge(a===e.l10n.amPM[1])}function I(n){switch(n%24){case 0:case 12:return 12;default:return n%12}}function W(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var n=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,a=(parseInt(e.minuteElement.value,10)||0)%60,i=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(n=Y(n,e.amPM.textContent));var c=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&fe(e.latestSelectedDateObj,e.config.minDate,!0)===0,h=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&fe(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var y=nt(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),F=nt(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),E=nt(n,a,i);if(E>F&&E<y){var H=rn(y);n=H[0],a=H[1],i=H[2]}}else{if(h){var C=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;n=Math.min(n,C.getHours()),n===C.getHours()&&(a=Math.min(a,C.getMinutes())),a===C.getMinutes()&&(i=Math.min(i,C.getSeconds()))}if(c){var P=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;n=Math.max(n,P.getHours()),n===P.getHours()&&a<P.getMinutes()&&(a=P.getMinutes()),a===P.getMinutes()&&(i=Math.max(i,P.getSeconds()))}}L(n,a,i)}}function A(n){var a=n||e.latestSelectedDateObj;a&&a instanceof Date&&L(a.getHours(),a.getMinutes(),a.getSeconds())}function L(n,a,i){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(n%24,a,i||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=se(e.config.time_24hr?n:(12+n)%12+12*ge(n%12===0)),e.minuteElement.value=se(a),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[ge(n>=12)]),e.secondElement!==void 0&&(e.secondElement.value=se(i)))}function O(n){var a=ue(n),i=parseInt(a.value)+(n.delta||0);(i/1e3>1||n.key==="Enter"&&!/[^\d]/.test(i.toString()))&&g(i)}function _(n,a,i,c){if(a instanceof Array)return a.forEach(function(h){return _(n,h,i,c)});if(n instanceof Array)return n.forEach(function(h){return _(h,a,i,c)});n.addEventListener(a,i,c),e._handlers.push({remove:function(){return n.removeEventListener(a,i,c)}})}function B(){J("onChange")}function V(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(i){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+i+"]"),function(c){return _(c,"click",e[i])})}),e.isMobile){Nt();return}var n=pt(ae,50);if(e._debouncedChange=pt(B,sn),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&_(e.daysContainer,"mouseover",function(i){e.config.mode==="range"&&ne(ue(i))}),_(e._input,"keydown",G),e.calendarContainer!==void 0&&_(e.calendarContainer,"keydown",G),!e.config.inline&&!e.config.static&&_(window,"resize",n),window.ontouchstart!==void 0?_(window.document,"touchstart",s):_(window.document,"mousedown",s),_(window.document,"focus",s,{capture:!0}),e.config.clickOpens===!0&&(_(e._input,"focus",e.open),_(e._input,"click",e.open)),e.daysContainer!==void 0&&(_(e.monthNav,"click",Lt),_(e.monthNav,["keyup","increment"],O),_(e.daysContainer,"click",ct)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var a=function(i){return ue(i).select()};_(e.timeContainer,["increment"],b),_(e.timeContainer,"blur",b,{capture:!0}),_(e.timeContainer,"click",z),_([e.hourElement,e.minuteElement],["focus","click"],a),e.secondElement!==void 0&&_(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&_(e.amPM,"click",function(i){b(i)})}e.config.allowInput&&_(e._input,"blur",N)}function X(n,a){var i=n!==void 0?e.parseDate(n):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),c=e.currentYear,h=e.currentMonth;try{i!==void 0&&(e.currentYear=i.getFullYear(),e.currentMonth=i.getMonth())}catch(y){y.message="Invalid date supplied: "+i,e.config.errorHandler(y)}a&&e.currentYear!==c&&(J("onYearChange"),me()),a&&(e.currentYear!==c||e.currentMonth!==h)&&J("onMonthChange"),e.redraw()}function z(n){var a=ue(n);~a.className.indexOf("arrow")&&K(n,a.classList.contains("arrowUp")?1:-1)}function K(n,a,i){var c=n&&ue(n),h=i||c&&c.parentNode&&c.parentNode.firstChild,y=qe("increment");y.delta=a,h&&h.dispatchEvent(y)}function Q(){var n=window.document.createDocumentFragment();if(e.calendarContainer=U("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(n.appendChild(Me()),e.innerContainer=U("div","flatpickr-innerContainer"),e.config.weekNumbers){var a=we(),i=a.weekWrapper,c=a.weekNumbers;e.innerContainer.appendChild(i),e.weekNumbers=c,e.weekWrapper=i}e.rContainer=U("div","flatpickr-rContainer"),e.rContainer.appendChild(be()),e.daysContainer||(e.daysContainer=U("div","flatpickr-days"),e.daysContainer.tabIndex=-1),de(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),n.appendChild(e.innerContainer)}e.config.enableTime&&n.appendChild(Se()),le(e.calendarContainer,"rangeMode",e.config.mode==="range"),le(e.calendarContainer,"animate",e.config.animate===!0),le(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(n);var h=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!h&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var y=U("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(y,e.element),y.appendChild(e.element),e.altInput&&y.appendChild(e.altInput),y.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function ee(n,a,i,c){var h=m(a,!0),y=U("span",n,a.getDate().toString());return y.dateObj=a,y.$i=c,y.setAttribute("aria-label",e.formatDate(a,e.config.ariaDateFormat)),n.indexOf("hidden")===-1&&fe(a,e.now)===0&&(e.todayDateElem=y,y.classList.add("today"),y.setAttribute("aria-current","date")),h?(y.tabIndex=-1,Ze(a)&&(y.classList.add("selected"),e.selectedDateElem=y,e.config.mode==="range"&&(le(y,"startRange",e.selectedDates[0]&&fe(a,e.selectedDates[0],!0)===0),le(y,"endRange",e.selectedDates[1]&&fe(a,e.selectedDates[1],!0)===0),n==="nextMonthDay"&&y.classList.add("inRange")))):y.classList.add("flatpickr-disabled"),e.config.mode==="range"&&At(a)&&!Ze(a)&&y.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&n!=="prevMonthDay"&&c%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(a)+"</span>"),J("onDayCreate",y),y}function D(n){n.focus(),e.config.mode==="range"&&ne(n)}function S(n){for(var a=n>0?0:e.config.showMonths-1,i=n>0?e.config.showMonths:-1,c=a;c!=i;c+=n)for(var h=e.daysContainer.children[c],y=n>0?0:h.children.length-1,F=n>0?h.children.length:-1,E=y;E!=F;E+=n){var H=h.children[E];if(H.className.indexOf("hidden")===-1&&m(H.dateObj))return H}}function R(n,a){for(var i=n.className.indexOf("Month")===-1?n.dateObj.getMonth():e.currentMonth,c=a>0?e.config.showMonths:-1,h=a>0?1:-1,y=i-e.currentMonth;y!=c;y+=h)for(var F=e.daysContainer.children[y],E=i-e.currentMonth===y?n.$i+a:a<0?F.children.length-1:0,H=F.children.length,C=E;C>=0&&C<H&&C!=(a>0?H:-1);C+=h){var P=F.children[C];if(P.className.indexOf("hidden")===-1&&m(P.dateObj)&&Math.abs(n.$i-C)>=Math.abs(a))return D(P)}e.changeMonth(h),j(S(h),0)}function j(n,a){var i=d(),c=v(i||document.body),h=n!==void 0?n:c?i:e.selectedDateElem!==void 0&&v(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&v(e.todayDateElem)?e.todayDateElem:S(a>0?1:-1);h===void 0?e._input.focus():c?R(h,a):D(h)}function te(n,a){for(var i=(new Date(n,a,1).getDay()-e.l10n.firstDayOfWeek+7)%7,c=e.utils.getDaysInMonth((a-1+12)%12,n),h=e.utils.getDaysInMonth(a,n),y=window.document.createDocumentFragment(),F=e.config.showMonths>1,E=F?"prevMonthDay hidden":"prevMonthDay",H=F?"nextMonthDay hidden":"nextMonthDay",C=c+1-i,P=0;C<=c;C++,P++)y.appendChild(ee("flatpickr-day "+E,new Date(n,a-1,C),C,P));for(C=1;C<=h;C++,P++)y.appendChild(ee("flatpickr-day",new Date(n,a,C),C,P));for(var q=h+1;q<=42-i&&(e.config.showMonths===1||P%7!==0);q++,P++)y.appendChild(ee("flatpickr-day "+H,new Date(n,a+1,q%h),q,P));var xe=U("div","dayContainer");return xe.appendChild(y),xe}function de(){if(e.daysContainer!==void 0){Ue(e.daysContainer),e.weekNumbers&&Ue(e.weekNumbers);for(var n=document.createDocumentFragment(),a=0;a<e.config.showMonths;a++){var i=new Date(e.currentYear,e.currentMonth,1);i.setMonth(e.currentMonth+a),n.appendChild(te(i.getFullYear(),i.getMonth()))}e.daysContainer.appendChild(n),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&ne()}}function me(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var n=function(c){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&c<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&c>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var a=0;a<12;a++)if(n(a)){var i=U("option","flatpickr-monthDropdown-month");i.value=new Date(e.currentYear,a).getMonth().toString(),i.textContent=We(a,e.config.shorthandCurrentMonth,e.l10n),i.tabIndex=-1,e.currentMonth===a&&(i.selected=!0),e.monthsDropdownContainer.appendChild(i)}}}function Ee(){var n=U("div","flatpickr-month"),a=window.document.createDocumentFragment(),i;e.config.showMonths>1||e.config.monthSelectorType==="static"?i=U("span","cur-month"):(e.monthsDropdownContainer=U("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),_(e.monthsDropdownContainer,"change",function(F){var E=ue(F),H=parseInt(E.value,10);e.changeMonth(H-e.currentMonth),J("onMonthChange")}),me(),i=e.monthsDropdownContainer);var c=Ve("cur-year",{tabindex:"-1"}),h=c.getElementsByTagName("input")[0];h.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&h.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(h.setAttribute("max",e.config.maxDate.getFullYear().toString()),h.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var y=U("div","flatpickr-current-month");return y.appendChild(i),y.appendChild(c),a.appendChild(y),n.appendChild(a),{container:n,yearElement:h,monthElement:i}}function ke(){Ue(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var n=e.config.showMonths;n--;){var a=Ee();e.yearElements.push(a.yearElement),e.monthElements.push(a.monthElement),e.monthNav.appendChild(a.container)}e.monthNav.appendChild(e.nextMonthNav)}function Me(){return e.monthNav=U("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=U("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=U("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,ke(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(n){e.__hidePrevMonthArrow!==n&&(le(e.prevMonthNav,"flatpickr-disabled",n),e.__hidePrevMonthArrow=n)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(n){e.__hideNextMonthArrow!==n&&(le(e.nextMonthNav,"flatpickr-disabled",n),e.__hideNextMonthArrow=n)}}),e.currentYearElement=e.yearElements[0],Be(),e.monthNav}function Se(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var n=at(e.config);e.timeContainer=U("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var a=U("span","flatpickr-time-separator",":"),i=Ve("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=i.getElementsByTagName("input")[0];var c=Ve("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=c.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=se(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?n.hours:I(n.hours)),e.minuteElement.value=se(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():n.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(i),e.timeContainer.appendChild(a),e.timeContainer.appendChild(c),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var h=Ve("flatpickr-second");e.secondElement=h.getElementsByTagName("input")[0],e.secondElement.value=se(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():n.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(U("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(h)}return e.config.time_24hr||(e.amPM=U("span","flatpickr-am-pm",e.l10n.amPM[ge((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function be(){e.weekdayContainer?Ue(e.weekdayContainer):e.weekdayContainer=U("div","flatpickr-weekdays");for(var n=e.config.showMonths;n--;){var a=U("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(a)}return Ie(),e.weekdayContainer}function Ie(){if(e.weekdayContainer){var n=e.l10n.firstDayOfWeek,a=gt(e.l10n.weekdays.shorthand);n>0&&n<a.length&&(a=gt(a.splice(n,a.length),a.splice(0,n)));for(var i=e.config.showMonths;i--;)e.weekdayContainer.children[i].innerHTML=`
      <span class='flatpickr-weekday'>
        `+a.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function we(){e.calendarContainer.classList.add("hasWeeks");var n=U("div","flatpickr-weekwrapper");n.appendChild(U("span","flatpickr-weekday",e.l10n.weekAbbreviation));var a=U("div","flatpickr-weeks");return n.appendChild(a),{weekWrapper:n,weekNumbers:a}}function ye(n,a){a===void 0&&(a=!0);var i=a?n:n-e.currentMonth;i<0&&e._hidePrevMonthArrow===!0||i>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=i,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,J("onYearChange"),me()),de(),J("onMonthChange"),Be())}function u(n,a){if(n===void 0&&(n=!0),a===void 0&&(a=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,a===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var i=at(e.config),c=i.hours,h=i.minutes,y=i.seconds;L(c,h,y)}e.redraw(),n&&J("onChange")}function p(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),J("onClose")}function f(){e.config!==void 0&&J("onDestroy");for(var n=e._handlers.length;n--;)e._handlers[n].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var a=e.calendarContainer.parentNode;if(a.lastChild&&a.removeChild(a.lastChild),a.parentNode){for(;a.firstChild;)a.parentNode.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(i){try{delete e[i]}catch{}})}function k(n){return e.calendarContainer.contains(n)}function s(n){if(e.isOpen&&!e.config.inline){var a=ue(n),i=k(a),c=a===e.input||a===e.altInput||e.element.contains(a)||n.path&&n.path.indexOf&&(~n.path.indexOf(e.input)||~n.path.indexOf(e.altInput)),h=!c&&!i&&!k(n.relatedTarget),y=!e.config.ignoredFocusElements.some(function(F){return F.contains(a)});h&&y&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&b(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function g(n){if(!(!n||e.config.minDate&&n<e.config.minDate.getFullYear()||e.config.maxDate&&n>e.config.maxDate.getFullYear())){var a=n,i=e.currentYear!==a;e.currentYear=a||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),i&&(e.redraw(),J("onYearChange"),me())}}function m(n,a){var i;a===void 0&&(a=!0);var c=e.parseDate(n,void 0,a);if(e.config.minDate&&c&&fe(c,e.config.minDate,a!==void 0?a:!e.minDateHasTime)<0||e.config.maxDate&&c&&fe(c,e.config.maxDate,a!==void 0?a:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(c===void 0)return!1;for(var h=!!e.config.enable,y=(i=e.config.enable)!==null&&i!==void 0?i:e.config.disable,F=0,E=void 0;F<y.length;F++){if(E=y[F],typeof E=="function"&&E(c))return h;if(E instanceof Date&&c!==void 0&&E.getTime()===c.getTime())return h;if(typeof E=="string"){var H=e.parseDate(E,void 0,!0);return H&&H.getTime()===c.getTime()?h:!h}else if(typeof E=="object"&&c!==void 0&&E.from&&E.to&&c.getTime()>=E.from.getTime()&&c.getTime()<=E.to.getTime())return h}return!h}function v(n){return e.daysContainer!==void 0?n.className.indexOf("hidden")===-1&&n.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(n):!1}function N(n){var a=n.target===e._input,i=e._input.value.trimEnd()!==Je();a&&i&&!(n.relatedTarget&&k(n.relatedTarget))&&e.setDate(e._input.value,!0,n.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function G(n){var a=ue(n),i=e.config.wrap?t.contains(a):a===e._input,c=e.config.allowInput,h=e.isOpen&&(!c||!i),y=e.config.inline&&i&&!c;if(n.keyCode===13&&i){if(c)return e.setDate(e._input.value,!0,a===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),a.blur();e.open()}else if(k(a)||h||y){var F=!!e.timeContainer&&e.timeContainer.contains(a);switch(n.keyCode){case 13:F?(n.preventDefault(),b(),Ge()):ct(n);break;case 27:n.preventDefault(),Ge();break;case 8:case 46:i&&!e.config.allowInput&&(n.preventDefault(),e.clear());break;case 37:case 39:if(!F&&!i){n.preventDefault();var E=d();if(e.daysContainer!==void 0&&(c===!1||E&&v(E))){var H=n.keyCode===39?1:-1;n.ctrlKey?(n.stopPropagation(),ye(H),j(S(1),0)):j(void 0,H)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:n.preventDefault();var C=n.keyCode===40?1:-1;e.daysContainer&&a.$i!==void 0||a===e.input||a===e.altInput?n.ctrlKey?(n.stopPropagation(),g(e.currentYear-C),j(S(1),0)):F||j(void 0,C*7):a===e.currentYearElement?g(e.currentYear-C):e.config.enableTime&&(!F&&e.hourElement&&e.hourElement.focus(),b(n),e._debouncedChange());break;case 9:if(F){var P=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(ce){return ce}),q=P.indexOf(a);if(q!==-1){var xe=P[q+(n.shiftKey?-1:1)];n.preventDefault(),(xe||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(a)&&n.shiftKey&&(n.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&a===e.amPM)switch(n.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],W(),Ce();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],W(),Ce();break}(i||k(a))&&J("onKeyDown",n)}function ne(n,a){if(a===void 0&&(a="flatpickr-day"),!(e.selectedDates.length!==1||n&&(!n.classList.contains(a)||n.classList.contains("flatpickr-disabled")))){for(var i=n?n.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),c=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),h=Math.min(i,e.selectedDates[0].getTime()),y=Math.max(i,e.selectedDates[0].getTime()),F=!1,E=0,H=0,C=h;C<y;C+=ln.DAY)m(new Date(C),!0)||(F=F||C>h&&C<y,C<c&&(!E||C>E)?E=C:C>c&&(!H||C<H)&&(H=C));var P=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+a));P.forEach(function(q){var xe=q.dateObj,ce=xe.getTime(),Re=E>0&&ce<E||H>0&&ce>H;if(Re){q.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Ae){q.classList.remove(Ae)});return}else if(F&&!Re)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Ae){q.classList.remove(Ae)}),n!==void 0&&(n.classList.add(i<=e.selectedDates[0].getTime()?"startRange":"endRange"),c<i&&ce===c?q.classList.add("startRange"):c>i&&ce===c&&q.classList.add("endRange"),ce>=E&&(H===0||ce<=H)&&on(ce,c,i)&&q.classList.add("inRange"))})}}function ae(){e.isOpen&&!e.config.static&&!e.config.inline&&Pe()}function pe(n,a){if(a===void 0&&(a=e._positionElement),e.isMobile===!0){if(n){n.preventDefault();var i=ue(n);i&&i.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),J("onOpen");return}else if(e._input.disabled||e.config.inline)return;var c=e.isOpen;e.isOpen=!0,c||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),J("onOpen"),Pe(a)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(n===void 0||!e.timeContainer.contains(n.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function Z(n){return function(a){var i=e.config["_"+n+"Date"]=e.parseDate(a,e.config.dateFormat),c=e.config["_"+(n==="min"?"max":"min")+"Date"];i!==void 0&&(e[n==="min"?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(h){return m(h)}),!e.selectedDates.length&&n==="min"&&A(i),Ce()),e.daysContainer&&(st(),i!==void 0?e.currentYearElement[n]=i.getFullYear().toString():e.currentYearElement.removeAttribute(n),e.currentYearElement.disabled=!!c&&i!==void 0&&c.getFullYear()===i.getFullYear())}}function ve(){var n=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=ie(ie({},JSON.parse(JSON.stringify(t.dataset||{}))),r),i={};e.config.parseDate=a.parseDate,e.config.formatDate=a.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(P){e.config._enable=ft(P)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(P){e.config._disable=ft(P)}});var c=a.mode==="time";if(!a.dateFormat&&(a.enableTime||c)){var h=re.defaultConfig.dateFormat||Fe.dateFormat;i.dateFormat=a.noCalendar||c?"H:i"+(a.enableSeconds?":S":""):h+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||c)&&!a.altFormat){var y=re.defaultConfig.altFormat||Fe.altFormat;i.altFormat=a.noCalendar||c?"h:i"+(a.enableSeconds?":S K":" K"):y+(" h:i"+(a.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:Z("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:Z("max")});var F=function(P){return function(q){e.config[P==="min"?"_minTime":"_maxTime"]=e.parseDate(q,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:F("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:F("max")}),a.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,i,a);for(var E=0;E<n.length;E++)e.config[n[E]]=e.config[n[E]]===!0||e.config[n[E]]==="true";Xe.filter(function(P){return e.config[P]!==void 0}).forEach(function(P){e.config[P]=et(e.config[P]||[]).map(w)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var E=0;E<e.config.plugins.length;E++){var H=e.config.plugins[E](e)||{};for(var C in H)Xe.indexOf(C)>-1?e.config[C]=et(H[C]).map(w).concat(e.config[C]):typeof a[C]>"u"&&(e.config[C]=H[C])}a.altInputClass||(e.config.altInputClass=oe().className+" "+e.config.altInputClass),J("onParseConfig")}function oe(){return e.config.wrap?t.querySelector("[data-input]"):t}function _e(){typeof e.config.locale!="object"&&typeof re.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ie(ie({},re.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?re.l10ns[e.config.locale]:void 0),Te.D="("+e.l10n.weekdays.shorthand.join("|")+")",Te.l="("+e.l10n.weekdays.longhand.join("|")+")",Te.M="("+e.l10n.months.shorthand.join("|")+")",Te.F="("+e.l10n.months.longhand.join("|")+")",Te.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var n=ie(ie({},r),JSON.parse(JSON.stringify(t.dataset||{})));n.time_24hr===void 0&&re.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=kt(e),e.parseDate=rt({config:e.config,l10n:e.l10n})}function Pe(n){if(typeof e.config.position=="function")return void e.config.position(e,n);if(e.calendarContainer!==void 0){J("onPreCalendarPosition");var a=n||e._positionElement,i=Array.prototype.reduce.call(e.calendarContainer.children,(function(Ut,Vt){return Ut+Vt.offsetHeight}),0),c=e.calendarContainer.offsetWidth,h=e.config.position.split(" "),y=h[0],F=h.length>1?h[1]:null,E=a.getBoundingClientRect(),H=window.innerHeight-E.bottom,C=y==="above"||y!=="below"&&H<i&&E.top>i,P=window.pageYOffset+E.top+(C?-i-2:a.offsetHeight+2);if(le(e.calendarContainer,"arrowTop",!C),le(e.calendarContainer,"arrowBottom",C),!e.config.inline){var q=window.pageXOffset+E.left,xe=!1,ce=!1;F==="center"?(q-=(c-E.width)/2,xe=!0):F==="right"&&(q-=c-E.width,ce=!0),le(e.calendarContainer,"arrowLeft",!xe&&!ce),le(e.calendarContainer,"arrowCenter",xe),le(e.calendarContainer,"arrowRight",ce);var Re=window.document.body.offsetWidth-(window.pageXOffset+E.right),Ae=q+c>window.document.body.offsetWidth,Ot=Re+c>window.document.body.offsetWidth;if(le(e.calendarContainer,"rightMost",Ae),!e.config.static)if(e.calendarContainer.style.top=P+"px",!Ae)e.calendarContainer.style.left=q+"px",e.calendarContainer.style.right="auto";else if(!Ot)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Re+"px";else{var Ke=ze();if(Ke===void 0)return;var Rt=window.document.body.offsetWidth,Ht=Math.max(0,Rt/2-c/2),$t=".flatpickr-calendar.centerMost:before",jt=".flatpickr-calendar.centerMost:after",Yt=Ke.cssRules.length,Bt="{left:"+E.left+"px;right:auto;}";le(e.calendarContainer,"rightMost",!1),le(e.calendarContainer,"centerMost",!0),Ke.insertRule($t+","+jt+Bt,Yt),e.calendarContainer.style.left=Ht+"px",e.calendarContainer.style.right="auto"}}}}function ze(){for(var n=null,a=0;a<document.styleSheets.length;a++){var i=document.styleSheets[a];if(i.cssRules){try{i.cssRules}catch{continue}n=i;break}}return n??Mt()}function Mt(){var n=document.createElement("style");return document.head.appendChild(n),n.sheet}function st(){e.config.noCalendar||e.isMobile||(me(),Be(),de())}function Ge(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function ct(n){n.preventDefault(),n.stopPropagation();var a=function(P){return P.classList&&P.classList.contains("flatpickr-day")&&!P.classList.contains("flatpickr-disabled")&&!P.classList.contains("notAllowed")},i=Et(ue(n),a);if(i!==void 0){var c=i,h=e.latestSelectedDateObj=new Date(c.dateObj.getTime()),y=(h.getMonth()<e.currentMonth||h.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=c,e.config.mode==="single")e.selectedDates=[h];else if(e.config.mode==="multiple"){var F=Ze(h);F?e.selectedDates.splice(parseInt(F),1):e.selectedDates.push(h)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=h,e.selectedDates.push(h),fe(h,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(P,q){return P.getTime()-q.getTime()}));if(W(),y){var E=e.currentYear!==h.getFullYear();e.currentYear=h.getFullYear(),e.currentMonth=h.getMonth(),E&&(J("onYearChange"),me()),J("onMonthChange")}if(Be(),de(),Ce(),!y&&e.config.mode!=="range"&&e.config.showMonths===1?D(c):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var H=e.config.mode==="single"&&!e.config.enableTime,C=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(H||C)&&Ge()}B()}}var Ye={locale:[_e,Ie],showMonths:[ke,T,be],minDate:[X],maxDate:[X],positionElement:[dt],clickOpens:[function(){e.config.clickOpens===!0?(_(e._input,"focus",e.open),_(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function St(n,a){if(n!==null&&typeof n=="object"){Object.assign(e.config,n);for(var i in n)Ye[i]!==void 0&&Ye[i].forEach(function(c){return c()})}else e.config[n]=a,Ye[n]!==void 0?Ye[n].forEach(function(c){return c()}):Xe.indexOf(n)>-1&&(e.config[n]=et(a));e.redraw(),Ce(!0)}function ut(n,a){var i=[];if(n instanceof Array)i=n.map(function(c){return e.parseDate(c,a)});else if(n instanceof Date||typeof n=="number")i=[e.parseDate(n,a)];else if(typeof n=="string")switch(e.config.mode){case"single":case"time":i=[e.parseDate(n,a)];break;case"multiple":i=n.split(e.config.conjunction).map(function(c){return e.parseDate(c,a)});break;case"range":i=n.split(e.l10n.rangeSeparator).map(function(c){return e.parseDate(c,a)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(n)));e.selectedDates=e.config.allowInvalidPreload?i:i.filter(function(c){return c instanceof Date&&m(c,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(c,h){return c.getTime()-h.getTime()})}function It(n,a,i){if(a===void 0&&(a=!1),i===void 0&&(i=e.config.dateFormat),n!==0&&!n||n instanceof Array&&n.length===0)return e.clear(a);ut(n,i),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),X(void 0,a),A(),e.selectedDates.length===0&&e.clear(!1),Ce(a),a&&J("onChange")}function ft(n){return n.slice().map(function(a){return typeof a=="string"||typeof a=="number"||a instanceof Date?e.parseDate(a,void 0,!0):a&&typeof a=="object"&&a.from&&a.to?{from:e.parseDate(a.from,void 0),to:e.parseDate(a.to,void 0)}:a}).filter(function(a){return a})}function _t(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var n=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);n&&ut(n,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Tt(){if(e.input=oe(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=U(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),dt()}function dt(){e._positionElement=e.config.positionElement||e._input}function Nt(){var n=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=U("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=n,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=n==="datetime-local"?"Y-m-d\\TH:i:S":n==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}_(e.mobileInput,"change",function(a){e.setDate(ue(a).value,!1,e.mobileFormatStr),J("onChange"),J("onClose")})}function Pt(n){if(e.isOpen===!0)return e.close();e.open(n)}function J(n,a){if(e.config!==void 0){var i=e.config[n];if(i!==void 0&&i.length>0)for(var c=0;i[c]&&c<i.length;c++)i[c](e.selectedDates,e.input.value,e,a);n==="onChange"&&(e.input.dispatchEvent(qe("change")),e.input.dispatchEvent(qe("input")))}}function qe(n){var a=document.createEvent("Event");return a.initEvent(n,!0,!0),a}function Ze(n){for(var a=0;a<e.selectedDates.length;a++){var i=e.selectedDates[a];if(i instanceof Date&&fe(i,n)===0)return""+a}return!1}function At(n){return e.config.mode!=="range"||e.selectedDates.length<2?!1:fe(n,e.selectedDates[0])>=0&&fe(n,e.selectedDates[1])<=0}function Be(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(n,a){var i=new Date(e.currentYear,e.currentMonth,1);i.setMonth(e.currentMonth+a),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[a].textContent=We(i.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=i.getMonth().toString(),n.value=i.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Je(n){var a=n||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(i){return e.formatDate(i,a)}).filter(function(i,c,h){return e.config.mode!=="range"||e.config.enableTime||h.indexOf(i)===c}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Ce(n){n===void 0&&(n=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Je(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Je(e.config.altFormat)),n!==!1&&J("onValueUpdate")}function Lt(n){var a=ue(n),i=e.prevMonthNav.contains(a),c=e.nextMonthNav.contains(a);i||c?ye(i?-1:1):e.yearElements.indexOf(a)>=0?a.select():a.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):a.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function Ft(n){n.preventDefault();var a=n.type==="keydown",i=ue(n),c=i;e.amPM!==void 0&&i===e.amPM&&(e.amPM.textContent=e.l10n.amPM[ge(e.amPM.textContent===e.l10n.amPM[0])]);var h=parseFloat(c.getAttribute("min")),y=parseFloat(c.getAttribute("max")),F=parseFloat(c.getAttribute("step")),E=parseInt(c.value,10),H=n.delta||(a?n.which===38?1:-1:0),C=E+F*H;if(typeof c.value<"u"&&c.value.length===2){var P=c===e.hourElement,q=c===e.minuteElement;C<h?(C=y+C+ge(!P)+(ge(P)&&ge(!e.amPM)),q&&K(void 0,-1,e.hourElement)):C>y&&(C=c===e.hourElement?C-y-ge(!e.amPM):h,q&&K(void 0,1,e.hourElement)),e.amPM&&P&&(F===1?C+E===23:Math.abs(C-E)>F)&&(e.amPM.textContent=e.l10n.amPM[ge(e.amPM.textContent===e.l10n.amPM[0])]),c.value=se(C)}}return M(),e}function Oe(t,r){for(var e=Array.prototype.slice.call(t).filter(function(w){return w instanceof HTMLElement}),x=[],M=0;M<e.length;M++){var d=e[M];try{if(d.getAttribute("data-fp-omit")!==null)continue;d._flatpickr!==void 0&&(d._flatpickr.destroy(),d._flatpickr=void 0),d._flatpickr=cn(d,r||{}),x.push(d._flatpickr)}catch(w){console.error(w)}}return x.length===1?x[0]:x}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return Oe(this,t)},HTMLElement.prototype.flatpickr=function(t){return Oe([this],t)});var re=function(t,r){return typeof t=="string"?Oe(window.document.querySelectorAll(t),r):t instanceof Node?Oe([t],r):Oe(t,r)};re.defaultConfig={};re.l10ns={en:ie({},je),default:ie({},je)};re.localize=function(t){re.l10ns.default=ie(ie({},re.l10ns.default),t)};re.setDefaults=function(t){re.defaultConfig=ie(ie({},re.defaultConfig),t)};re.parseDate=rt({});re.formatDate=kt({});re.compareDates=fe;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(t){return Oe(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window<"u"&&(window.flatpickr=re);var ht;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ht||(ht={}));const un=Object.freeze({x:0,y:0});var Le;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Le||(Le={}));var vt;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(vt||(vt={}));var he;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(he||(he={}));he.Space,he.Enter,he.Esc,he.Space,he.Enter,he.Tab;var bt;(function(t){t[t.RightClick=2]="RightClick"})(bt||(bt={}));var yt;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(yt||(yt={}));var xt;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(xt||(xt={}));Le.Backward+"",Le.Forward+"",Le.Backward+"",Le.Forward+"";var it;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(it||(it={}));var lt;(function(t){t.Optimized="optimized"})(lt||(lt={}));it.WhileDragging,lt.Optimized;({...un});var wt;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(wt||(wt={}));he.Down,he.Right,he.Up,he.Left;class fn{constructor(r,e){this.reactRoot=null,this.value={library:"",value:""},this.$root=r,this.onChange=e,this.mount()}mount(){const r=document.createElement("div");r.className="fse-icon-picker-wrapper",this.$root.appendChild(r),this.reactRoot=Wt(r),this.render()}render(){this.reactRoot&&this.reactRoot.render(React.createElement(nn,{label:"",value:this.value,onChange:r=>{this.value=r,this.onChange(r)}}))}preview(){}openLibrary(){const r=this.$root.querySelector('button[title="Icon Library"]');r&&r.click()}uploadSVG(){const r=this.$root.querySelector('button[title="Upload SVG"]');r&&r.click()}destroy(){this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null)}}window.Voxel_Icon_Picker=fn;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log("Voxel Icon Picker (React) loaded")}):console.log("Voxel Icon Picker (React) loaded");
