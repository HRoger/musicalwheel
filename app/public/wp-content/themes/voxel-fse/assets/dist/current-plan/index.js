import{registerBlockType as j}from"@wordpress/blocks";import{useBlockProps as H,InspectorControls as F}from"@wordpress/block-editor";import{__ as c}from"@wordpress/i18n";import{useMemo as _,useState as S,useEffect as w}from"react";import O from"@wordpress/api-fetch";import{A as k,a as I,R as t,B as N,C as r,c as J,S as R,D as T,T as h,b as U}from"../TypographyPopup-CAcEJ5NA.js";import{I as W}from"../InspectorTabs-Bq2wAh4W.js";import{SelectControl as P}from"@wordpress/components";import"@wordpress/data";/* empty css                            */import"../RepeaterControl-C7JnAhZL.js";import{I as v}from"../IconPickerControl-Lep6knGI.js";import{g as M,a as L,c as b,p as Y}from"../generateAdvancedStyles-CRpLcHXt.js";import{r as q}from"../backgroundElements-Ui-iCrLV.js";import"react-dom";function D({attributes:e,setAttributes:l}){return React.createElement(k,{attributes:e,setAttributes:l,stateAttribute:"contentTabOpenPanel",defaultPanel:"icons"},React.createElement(I,{id:"icons",title:c("Icons","voxel-fse")},React.createElement(v,{label:c("Plan icon","voxel-fse"),value:e.planIcon,onChange:n=>l({planIcon:n})}),React.createElement(v,{label:c("View plans icon","voxel-fse"),value:e.viewPlansIcon,onChange:n=>l({viewPlansIcon:n})}),React.createElement(v,{label:c("Customize plan icon","voxel-fse"),value:e.configureIcon,onChange:n=>l({configureIcon:n})}),React.createElement(v,{label:c("Switch icon","voxel-fse"),value:e.switchIcon,onChange:n=>l({switchIcon:n})}),React.createElement(v,{label:c("Cancel icon","voxel-fse"),value:e.cancelIcon,onChange:n=>l({cancelIcon:n})}),React.createElement(v,{label:c("Portal icon","voxel-fse"),value:e.portalIcon,onChange:n=>l({portalIcon:n})})))}function K({attributes:e,setAttributes:l}){return React.createElement(k,{attributes:e,setAttributes:l,stateAttribute:"styleTabOpenPanel",defaultPanel:"panel"},React.createElement(I,{id:"panel",title:c("Panel","voxel-fse")},React.createElement(t,{label:c("Panel gap","voxel-fse"),attributeBaseName:"panelsSpacing",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(N,{label:c("Border","voxel-fse"),value:e.panelBorder||{},onChange:n=>l({panelBorder:n}),hideRadius:!0}),React.createElement(t,{label:c("Border radius","voxel-fse"),attributeBaseName:"panelRadius",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(r,{label:c("Background","voxel-fse"),value:e.panelBg,onChange:n=>l({panelBg:n})}),React.createElement(J,{label:c("Box Shadow","voxel-fse"),attributes:e,setAttributes:l,shadowAttributeName:"panelShadow"}),React.createElement(R,{label:c("Panel head","voxel-fse")}),React.createElement(T,{label:c("Padding","voxel-fse"),values:e.headPadding||{},onChange:n=>l({headPadding:n})}),React.createElement(t,{label:c("Icon size","voxel-fse"),attributeBaseName:"headIcoSize",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(t,{label:c("Icon right margin","voxel-fse"),attributeBaseName:"headIcoMargin",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(r,{label:c("Icon color","voxel-fse"),value:e.headIcoCol,onChange:n=>l({headIcoCol:n})}),React.createElement(h,{label:c("Typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"headTypo"}),React.createElement(r,{label:c("Text color","voxel-fse"),value:e.headTypoCol,onChange:n=>l({headTypoCol:n})}),React.createElement(r,{label:c("Separator color","voxel-fse"),value:e.headBorderCol,onChange:n=>l({headBorderCol:n})}),React.createElement(R,{label:c("Panel Pricing","voxel-fse")}),React.createElement(P,{label:c("Align content","voxel-fse"),value:e.priceAlign||"left",options:[{label:c("Left","voxel-fse"),value:"left"},{label:c("Center","voxel-fse"),value:"center"},{label:c("Right","voxel-fse"),value:"flex-end"}],onChange:n=>l({priceAlign:n})}),React.createElement(h,{label:c("Price typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"priceTypo"}),React.createElement(r,{label:c("Price text color","voxel-fse"),value:e.priceCol,onChange:n=>l({priceCol:n})}),React.createElement(h,{label:c("Period typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"periodTypo"}),React.createElement(r,{label:c("Text color","voxel-fse"),value:e.periodCol,onChange:n=>l({periodCol:n})}),React.createElement(R,{label:c("Panel body","voxel-fse")}),React.createElement(t,{label:c("Body spacing","voxel-fse"),attributeBaseName:"panelSpacing",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(t,{label:c("Body content gap","voxel-fse"),attributeBaseName:"panelGap",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(P,{label:c("Align text","voxel-fse"),value:e.textAlign||"left",options:[{label:c("Left","voxel-fse"),value:"left"},{label:c("Center","voxel-fse"),value:"center"},{label:c("Right","voxel-fse"),value:"right"}],onChange:n=>l({textAlign:n})}),React.createElement(h,{label:c("Typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"bodyTypo"}),React.createElement(r,{label:c("Text color","voxel-fse"),value:e.bodyTypoCol,onChange:n=>l({bodyTypoCol:n})}),React.createElement(h,{label:c("Link typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"bodyTypoLink"}),React.createElement(r,{label:c("Link color","voxel-fse"),value:e.bodyColLink,onChange:n=>l({bodyColLink:n})}),React.createElement(R,{label:c("Panel buttons","voxel-fse")}),React.createElement(t,{label:c("Item gap","voxel-fse"),attributeBaseName:"panelButtonsGap",attributes:e,setAttributes:l,min:0,max:100,step:1})),React.createElement(I,{id:"secondary-button",title:c("Secondary button","voxel-fse")},React.createElement(U,{tabs:[{name:"normal",title:c("Normal","voxel-fse")},{name:"hover",title:c("Hover","voxel-fse")}],attributes:e,setAttributes:l,attributeName:"secondaryButtonState"},n=>n.name==="normal"?React.createElement(React.Fragment,null,React.createElement(h,{label:c("Button typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"scndBtnTypo"}),React.createElement(t,{label:c("Border radius","voxel-fse"),attributeBaseName:"scndBtnRadius",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(r,{label:c("Text color","voxel-fse"),value:e.scndBtnC,onChange:a=>l({scndBtnC:a})}),React.createElement(T,{label:c("Padding","voxel-fse"),values:e.scndBtnPadding||{},onChange:a=>l({scndBtnPadding:a})}),React.createElement(t,{label:c("Height","voxel-fse"),attributeBaseName:"scndBtnHeight",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(r,{label:c("Background color","voxel-fse"),value:e.scndBtnBg,onChange:a=>l({scndBtnBg:a})}),React.createElement(N,{label:c("Border","voxel-fse"),value:e.scndBtnBorder||{},onChange:a=>l({scndBtnBorder:a}),hideRadius:!0}),React.createElement(t,{label:c("Icon size","voxel-fse"),attributeBaseName:"scndBtnIconSize",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(t,{label:c("Icon/Text spacing","voxel-fse"),attributeBaseName:"scndBtnIconPad",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(r,{label:c("Icon color","voxel-fse"),value:e.scndBtnIconColor,onChange:a=>l({scndBtnIconColor:a})})):React.createElement(React.Fragment,null,React.createElement(r,{label:c("Text color","voxel-fse"),value:e.scndBtnCH,onChange:a=>l({scndBtnCH:a})}),React.createElement(r,{label:c("Background color","voxel-fse"),value:e.scndBtnBgH,onChange:a=>l({scndBtnBgH:a})}),React.createElement(r,{label:c("Border color","voxel-fse"),value:e.scndBtnBorderH,onChange:a=>l({scndBtnBorderH:a})}),React.createElement(r,{label:c("Icon color","voxel-fse"),value:e.scndBtnIconColorH,onChange:a=>l({scndBtnIconColorH:a})})))))}function C(e){return!e||!e.value?null:e.library==="svg"?React.createElement("img",{src:e.value,alt:"",className:"voxel-icon-svg"}):e.library==="icon"?React.createElement("i",{className:e.value,"aria-hidden":"true"}):null}function Q(){return React.createElement("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{d:"M20 7h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 4h4v3h-4V4zm10 16H4V9h16v11zM12 12c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))}function X(){return React.createElement("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{d:"M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}))}function Z(){return React.createElement("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{d:"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}))}function A({attributes:e,planData:l,isLoading:n,error:a,context:d}){const o={planIcon:e.planIcon??{library:"",value:""},viewPlansIcon:e.viewPlansIcon??{library:"",value:""},configureIcon:e.configureIcon??{library:"",value:""},switchIcon:e.switchIcon??{library:"",value:""},cancelIcon:e.cancelIcon??{library:"",value:""},portalIcon:e.portalIcon??{library:"",value:""}},p=C(e.planIcon)??React.createElement(Q,null),i=C(e.configureIcon)??React.createElement(X,null),m=C(e.switchIcon)??React.createElement(Z,null);return n?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,c("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("p",null,c("Loading...","voxel-fse"))))):a?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,c("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("p",null,a)))):l?.isLoggedIn?l.membershipType==="order"&&l.orderLink&&!l.isSubscriptionCanceled&&l.pricing?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,c("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("div",{className:"ac-plan-pricing"},React.createElement("span",{className:"ac-plan-price"},l.pricing.formattedPrice),React.createElement("div",{className:"ac-price-period"},"/ ",l.pricing.formattedPeriod)),l.statusMessage&&React.createElement("p",null,l.statusMessage),React.createElement("p",null,c("Your current plan is ","voxel-fse"),l.planLabel),React.createElement("div",{className:"ac-bottom"},React.createElement("ul",{className:"simplify-ul current-plan-btn"},React.createElement("li",null,React.createElement("a",{href:l.orderLink,className:"ts-btn ts-btn-1",onClick:d==="editor"?s=>s.preventDefault():void 0},i,c("Manage subscription","voxel-fse"))),l.switchPlanUrl&&React.createElement("li",null,React.createElement("a",{href:l.switchPlanUrl,className:"ts-btn ts-btn-1",onClick:d==="editor"?s=>s.preventDefault():void 0},m,c("Switch plan","voxel-fse")))))))):React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,c("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("p",null,c("Your current plan is ","voxel-fse"),l.planLabel),l.switchPlanUrl&&React.createElement("div",{className:"ac-bottom"},React.createElement("ul",{className:"simplify-ul current-plan-btn"},React.createElement("li",null,React.createElement("a",{href:l.switchPlanUrl,className:"ts-btn ts-btn-1",onClick:d==="editor"?s=>s.preventDefault():void 0},m,c("Switch plan","voxel-fse")))))))):React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,c("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("p",null,c("Please log in to view your membership plan.","voxel-fse")))))}function g(e){if(!e)return"";const l=[];if(e.fontFamily&&l.push(`font-family: ${e.fontFamily};`),e.fontSize!==void 0){const n=e.fontSizeUnit||"px";l.push(`font-size: ${e.fontSize}${n};`)}if(e.fontWeight&&l.push(`font-weight: ${e.fontWeight};`),e.fontStyle&&e.fontStyle!=="default"&&l.push(`font-style: ${e.fontStyle};`),e.textDecoration&&e.textDecoration!=="none"&&l.push(`text-decoration: ${e.textDecoration};`),e.lineHeight!==void 0){const n=e.lineHeightUnit||"";l.push(`line-height: ${e.lineHeight}${n};`)}if(e.letterSpacing!==void 0){const n=e.letterSpacingUnit||"px";l.push(`letter-spacing: ${e.letterSpacing}${n};`)}return e.textTransform&&e.textTransform!=="none"&&l.push(`text-transform: ${e.textTransform};`),l.join(" ")}function ee(e){return!e||!e.horizontal&&!e.vertical&&!e.blur&&!e.spread?"":`${e.horizontal||0}px ${e.vertical||0}px ${e.blur||0}px ${e.spread||0}px ${e.color||"rgba(0,0,0,0.1)"}`}function z(e){if(!e)return"";const l=[];if(e.borderType&&e.borderType!=="none"&&l.push(`border-style: ${e.borderType}`),e.borderWidth){const n=y(e.borderWidth,"border-width");n&&l.push(n)}return e.borderColor&&l.push(`border-color: ${e.borderColor}`),l.join("; ")}function B(e){if(e===void 0||e==="")return 0;const l=parseFloat(String(e));return isNaN(l)?0:l}function y(e,l="padding"){if(!e)return"";const n=B(e.top),a=B(e.right),d=B(e.bottom),o=B(e.left),p=e.unit||"px";return`${l}: ${n}${p} ${a}${p} ${d}${p} ${o}${p}`}function G(e,l){const n=[],a=[],d=[],o=`.voxel-fse-current-plan-${l}`;if(e.panelsSpacing!==void 0&&n.push(`${o} { display: flex; flex-direction: column; grid-gap: ${e.panelsSpacing}px; }`),e.panelsSpacing_tablet!==void 0&&a.push(`${o} { display: flex; flex-direction: column; grid-gap: ${e.panelsSpacing_tablet}px; }`),e.panelsSpacing_mobile!==void 0&&d.push(`${o} { display: flex; flex-direction: column; grid-gap: ${e.panelsSpacing_mobile}px; }`),e.panelBorder){const i=z(e.panelBorder);i&&n.push(`${o} .ts-panel { ${i} }`)}if(e.panelRadius!==void 0&&n.push(`${o} .ts-panel { border-radius: ${e.panelRadius}px; }`),e.panelRadius_tablet!==void 0&&a.push(`${o} .ts-panel { border-radius: ${e.panelRadius_tablet}px; }`),e.panelRadius_mobile!==void 0&&d.push(`${o} .ts-panel { border-radius: ${e.panelRadius_mobile}px; }`),e.panelBg&&n.push(`${o} .ts-panel { background-color: ${e.panelBg}; }`),e.panelShadow){const i=ee(e.panelShadow);i&&n.push(`${o} .ts-panel { box-shadow: ${i}; }`)}if(e.headPadding){const i=y(e.headPadding,"padding");i&&n.push(`${o} .ac-head { ${i} }`)}if(e.headIcoSize!==void 0&&(n.push(`${o} .ac-head > i { font-size: ${e.headIcoSize}px; }`),n.push(`${o} .ac-head > svg { width: ${e.headIcoSize}px; height: ${e.headIcoSize}px; }`)),e.headIcoSize_tablet!==void 0&&(a.push(`${o} .ac-head > i { font-size: ${e.headIcoSize_tablet}px; }`),a.push(`${o} .ac-head > svg { width: ${e.headIcoSize_tablet}px; height: ${e.headIcoSize_tablet}px; }`)),e.headIcoSize_mobile!==void 0&&(d.push(`${o} .ac-head > i { font-size: ${e.headIcoSize_mobile}px; }`),d.push(`${o} .ac-head > svg { width: ${e.headIcoSize_mobile}px; height: ${e.headIcoSize_mobile}px; }`)),e.headIcoMargin!==void 0&&(n.push(`${o} .ac-head > i { margin-right: ${e.headIcoMargin}px; }`),n.push(`${o} .ac-head > svg { margin-right: ${e.headIcoMargin}px; }`)),e.headIcoMargin_tablet!==void 0&&(a.push(`${o} .ac-head > i { margin-right: ${e.headIcoMargin_tablet}px; }`),a.push(`${o} .ac-head > svg { margin-right: ${e.headIcoMargin_tablet}px; }`)),e.headIcoMargin_mobile!==void 0&&(d.push(`${o} .ac-head > i { margin-right: ${e.headIcoMargin_mobile}px; }`),d.push(`${o} .ac-head > svg { margin-right: ${e.headIcoMargin_mobile}px; }`)),e.headIcoCol&&(n.push(`${o} .ac-head > i { color: ${e.headIcoCol}; }`),n.push(`${o} .ac-head > svg { fill: ${e.headIcoCol}; }`)),e.headTypo){const i=g(e.headTypo);i&&n.push(`${o} .ac-head b { ${i} }`)}if(e.headTypoCol&&n.push(`${o} .ac-head b { color: ${e.headTypoCol}; }`),e.headBorderCol&&n.push(`${o} .ac-head { border-bottom-color: ${e.headBorderCol}; }`),e.priceAlign&&n.push(`${o} .ac-plan-pricing { justify-content: ${e.priceAlign}; }`),e.priceTypo){const i=g(e.priceTypo);i&&n.push(`${o} .ac-plan-price { ${i} }`)}if(e.priceCol&&n.push(`${o} .ac-plan-price { color: ${e.priceCol}; }`),e.periodTypo){const i=g(e.periodTypo);i&&n.push(`${o} .ac-price-period { ${i} }`)}if(e.periodCol&&n.push(`${o} .ac-price-period { color: ${e.periodCol}; }`),e.panelSpacing!==void 0&&n.push(`${o} .ac-body { padding: ${e.panelSpacing}px; }`),e.panelSpacing_tablet!==void 0&&a.push(`${o} .ac-body { padding: ${e.panelSpacing_tablet}px; }`),e.panelSpacing_mobile!==void 0&&d.push(`${o} .ac-body { padding: ${e.panelSpacing_mobile}px; }`),e.panelGap!==void 0&&n.push(`${o} .ac-body { display: flex; flex-direction: column; grid-gap: ${e.panelGap}px; }`),e.panelGap_tablet!==void 0&&a.push(`${o} .ac-body { display: flex; flex-direction: column; grid-gap: ${e.panelGap_tablet}px; }`),e.panelGap_mobile!==void 0&&d.push(`${o} .ac-body { display: flex; flex-direction: column; grid-gap: ${e.panelGap_mobile}px; }`),e.textAlign&&n.push(`${o} .ac-body { text-align: ${e.textAlign}; }`),e.bodyTypo){const i=g(e.bodyTypo);i&&n.push(`${o} .ac-body p { ${i} }`)}if(e.bodyTypoCol&&n.push(`${o} .ac-body p { color: ${e.bodyTypoCol}; }`),e.bodyTypoLink){const i=g(e.bodyTypoLink);i&&n.push(`${o} .ac-body a { ${i} }`)}if(e.bodyColLink&&n.push(`${o} .ac-body a { color: ${e.bodyColLink}; }`),e.panelButtonsGap!==void 0&&n.push(`${o} .ac-bottom ul { grid-gap: ${e.panelButtonsGap}px; }`),e.panelButtonsGap_tablet!==void 0&&a.push(`${o} .ac-bottom ul { grid-gap: ${e.panelButtonsGap_tablet}px; }`),e.panelButtonsGap_mobile!==void 0&&d.push(`${o} .ac-bottom ul { grid-gap: ${e.panelButtonsGap_mobile}px; }`),e.scndBtnTypo){const i=g(e.scndBtnTypo);i&&n.push(`${o} .ts-btn-1 { ${i} }`)}if(e.scndBtnRadius!==void 0&&n.push(`${o} .ts-btn-1 { border-radius: ${e.scndBtnRadius}px; }`),e.scndBtnRadius_tablet!==void 0&&a.push(`${o} .ts-btn-1 { border-radius: ${e.scndBtnRadius_tablet}px; }`),e.scndBtnRadius_mobile!==void 0&&d.push(`${o} .ts-btn-1 { border-radius: ${e.scndBtnRadius_mobile}px; }`),e.scndBtnC&&n.push(`${o} .ts-btn-1 { color: ${e.scndBtnC}; }`),e.scndBtnPadding){const i=y(e.scndBtnPadding,"padding");i&&n.push(`${o} .ts-btn-1 { ${i} }`)}if(e.scndBtnHeight!==void 0&&n.push(`${o} .ts-btn-1 { min-height: ${e.scndBtnHeight}px; }`),e.scndBtnHeight_tablet!==void 0&&a.push(`${o} .ts-btn-1 { min-height: ${e.scndBtnHeight_tablet}px; }`),e.scndBtnHeight_mobile!==void 0&&d.push(`${o} .ts-btn-1 { min-height: ${e.scndBtnHeight_mobile}px; }`),e.scndBtnBg&&n.push(`${o} .ts-btn-1 { background-color: ${e.scndBtnBg}; }`),e.scndBtnBorder){const i=z(e.scndBtnBorder);i&&n.push(`${o} .ts-btn-1 { ${i} }`)}e.scndBtnIconSize!==void 0&&(n.push(`${o} .ts-btn-1 i { font-size: ${e.scndBtnIconSize}px; }`),n.push(`${o} .ts-btn-1 svg { width: ${e.scndBtnIconSize}px; height: ${e.scndBtnIconSize}px; }`)),e.scndBtnIconSize_tablet!==void 0&&(a.push(`${o} .ts-btn-1 i { font-size: ${e.scndBtnIconSize_tablet}px; }`),a.push(`${o} .ts-btn-1 svg { width: ${e.scndBtnIconSize_tablet}px; height: ${e.scndBtnIconSize_tablet}px; }`)),e.scndBtnIconSize_mobile!==void 0&&(d.push(`${o} .ts-btn-1 i { font-size: ${e.scndBtnIconSize_mobile}px; }`),d.push(`${o} .ts-btn-1 svg { width: ${e.scndBtnIconSize_mobile}px; height: ${e.scndBtnIconSize_mobile}px; }`)),e.scndBtnIconPad!==void 0&&n.push(`${o} .ts-btn-1 { grid-gap: ${e.scndBtnIconPad}px; }`),e.scndBtnIconPad_tablet!==void 0&&a.push(`${o} .ts-btn-1 { grid-gap: ${e.scndBtnIconPad_tablet}px; }`),e.scndBtnIconPad_mobile!==void 0&&d.push(`${o} .ts-btn-1 { grid-gap: ${e.scndBtnIconPad_mobile}px; }`),e.scndBtnIconColor&&(n.push(`${o} .ts-btn-1 i { color: ${e.scndBtnIconColor}; }`),n.push(`${o} .ts-btn-1 svg { fill: ${e.scndBtnIconColor}; }`)),e.scndBtnCH&&n.push(`${o} .ts-btn-1:hover { color: ${e.scndBtnCH}; }`),e.scndBtnBgH&&n.push(`${o} .ts-btn-1:hover { background-color: ${e.scndBtnBgH}; }`),e.scndBtnBorderH&&n.push(`${o} .ts-btn-1:hover { border-color: ${e.scndBtnBorderH}; }`),e.scndBtnIconColorH&&(n.push(`${o} .ts-btn-1:hover i { color: ${e.scndBtnIconColorH}; }`),n.push(`${o} .ts-btn-1:hover svg { fill: ${e.scndBtnIconColorH}; }`));let p="";return n.length>0&&(p+=n.join(`
`)),a.length>0&&(p+=`
@media (max-width: 1024px) {
${a.join(`
`)}
}`),d.length>0&&(p+=`
@media (max-width: 767px) {
${d.join(`
`)}
}`),p}function ne({attributes:e,setAttributes:l,clientId:n}){const a=e.blockId||n,d=_(()=>M(e),[e]),o=_(()=>{const f=G(e,a),E=L(e,a);return f+`
`+E},[e,a]),p=H({className:b(`voxel-fse-current-plan voxel-fse-current-plan-${a}`,e),style:d}),[i,m]=S(null),[x,s]=S(!0),[V,u]=S(null);return w(()=>{e.blockId||l({blockId:n})},[e.blockId,n,l]),w(()=>{let f=!1;async function E(){s(!0),u(null);try{const $=await O({path:"/voxel-fse/v1/current-plan"});f||m($)}catch($){f||u($ instanceof Error?$.message:c("Failed to load plan data","voxel-fse"))}finally{f||s(!1)}}return E(),()=>{f=!0}},[]),React.createElement("div",{...p},React.createElement(F,null,React.createElement(W,{tabs:[{id:"content",label:c("Content","voxel-fse"),icon:"",render:()=>React.createElement(D,{attributes:e,setAttributes:l})},{id:"style",label:c("Style","voxel-fse"),icon:"",render:()=>React.createElement(K,{attributes:e,setAttributes:l})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:l,defaultTab:"content"})),o&&React.createElement("style",null,o),React.createElement(A,{attributes:e,planData:i,isLoading:x,error:V,context:"editor"}))}function le({attributes:e}){const l=e.blockId||"block",n=`.voxel-fse-current-plan-${l}`,a=M(e),d=G(e,n),o=L(e,n),p=d+`
`+o,i=Y(e.customAttributes),m=H.save({id:e.elementId||void 0,className:b(`voxel-fse-current-plan voxel-fse-current-plan-${l} ts-panel active-plan plan-panel`,e),style:a,...i,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0}),x={planIcon:e.planIcon??{library:"",value:""},viewPlansIcon:e.viewPlansIcon??{library:"",value:""},configureIcon:e.configureIcon??{library:"",value:""},switchIcon:e.switchIcon??{library:"",value:""},cancelIcon:e.cancelIcon??{library:"",value:""},portalIcon:e.portalIcon??{library:"",value:""}};return React.createElement("div",{...m},p&&React.createElement("style",{dangerouslySetInnerHTML:{__html:p}}),q(e,!1,void 0,void 0,n),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(x)}}),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",padding:"16px",minHeight:"48px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",style:{opacity:.4}},React.createElement("path",{d:"M20 7h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 4h4v3h-4V4zm10 16H4V9h16v11zM12 12c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))))}const oe="voxel-fse/current-plan",ce={name:oe},ae=React.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M20 7h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 4h4v3h-4V4zm10 16H4V9h16v11zM12 12c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}));j(ce.name,{icon:ae,edit:ne,save:le});
