import{registerBlockType as F}from"@wordpress/blocks";import{useBlockProps as H,InspectorControls as J}from"@wordpress/block-editor";import{__ as o}from"@wordpress/i18n";import{useMemo as _,useState as I,useEffect as T}from"react";import U from"@wordpress/api-fetch";import{A as k,a as C,R as r,B as w,C as d,c as W,S as u,D as P,T as h,b as Y}from"../TypographyPopup-CkDwan7Z.js";import{I as q}from"../InspectorTabs-C-Yyx0JZ.js";import{SelectControl as N}from"@wordpress/components";import"@wordpress/data";/* empty css                            */import"../RepeaterControl-DaYyJwAm.js";import{I as g}from"../IconPickerControl-BEkvF1LS.js";import{g as M,a as L,c as j,p as D}from"../generateAdvancedStyles-CRpLcHXt.js";import{r as K}from"../backgroundElements-BCKss4qj.js";import"react-dom";function Q({attributes:e,setAttributes:l}){return React.createElement(k,{attributes:e,setAttributes:l,stateAttribute:"contentTabOpenPanel",defaultPanel:"icons"},React.createElement(C,{id:"icons",title:o("Icons","voxel-fse")},React.createElement(g,{label:o("Plan icon","voxel-fse"),value:e.planIcon,onChange:n=>l({planIcon:n})}),React.createElement(g,{label:o("View plans icon","voxel-fse"),value:e.viewPlansIcon,onChange:n=>l({viewPlansIcon:n})}),React.createElement(g,{label:o("Customize plan icon","voxel-fse"),value:e.configureIcon,onChange:n=>l({configureIcon:n})}),React.createElement(g,{label:o("Switch icon","voxel-fse"),value:e.switchIcon,onChange:n=>l({switchIcon:n})}),React.createElement(g,{label:o("Cancel icon","voxel-fse"),value:e.cancelIcon,onChange:n=>l({cancelIcon:n})}),React.createElement(g,{label:o("Portal icon","voxel-fse"),value:e.portalIcon,onChange:n=>l({portalIcon:n})})))}function X({attributes:e,setAttributes:l}){return React.createElement(k,{attributes:e,setAttributes:l,stateAttribute:"styleTabOpenPanel",defaultPanel:"panel"},React.createElement(C,{id:"panel",title:o("Panel","voxel-fse")},React.createElement(r,{label:o("Panel gap","voxel-fse"),attributeBaseName:"panelsSpacing",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(w,{label:o("Border","voxel-fse"),value:e.panelBorder||{},onChange:n=>l({panelBorder:n}),hideRadius:!0}),React.createElement(r,{label:o("Border radius","voxel-fse"),attributeBaseName:"panelRadius",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(d,{label:o("Background","voxel-fse"),value:e.panelBg,onChange:n=>l({panelBg:n})}),React.createElement(W,{label:o("Box Shadow","voxel-fse"),attributes:e,setAttributes:l,shadowAttributeName:"panelShadow"}),React.createElement(u,{label:o("Panel head","voxel-fse")}),React.createElement(P,{label:o("Padding","voxel-fse"),values:e.headPadding||{},onChange:n=>l({headPadding:n})}),React.createElement(r,{label:o("Icon size","voxel-fse"),attributeBaseName:"headIcoSize",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(r,{label:o("Icon right margin","voxel-fse"),attributeBaseName:"headIcoMargin",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(d,{label:o("Icon color","voxel-fse"),value:e.headIcoCol,onChange:n=>l({headIcoCol:n})}),React.createElement(h,{label:o("Typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"headTypo"}),React.createElement(d,{label:o("Text color","voxel-fse"),value:e.headTypoCol,onChange:n=>l({headTypoCol:n})}),React.createElement(d,{label:o("Separator color","voxel-fse"),value:e.headBorderCol,onChange:n=>l({headBorderCol:n})}),React.createElement(u,{label:o("Panel Pricing","voxel-fse")}),React.createElement(N,{label:o("Align content","voxel-fse"),value:e.priceAlign||"left",options:[{label:o("Left","voxel-fse"),value:"left"},{label:o("Center","voxel-fse"),value:"center"},{label:o("Right","voxel-fse"),value:"flex-end"}],onChange:n=>l({priceAlign:n})}),React.createElement(h,{label:o("Price typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"priceTypo"}),React.createElement(d,{label:o("Price text color","voxel-fse"),value:e.priceCol,onChange:n=>l({priceCol:n})}),React.createElement(h,{label:o("Period typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"periodTypo"}),React.createElement(d,{label:o("Text color","voxel-fse"),value:e.periodCol,onChange:n=>l({periodCol:n})}),React.createElement(u,{label:o("Panel body","voxel-fse")}),React.createElement(r,{label:o("Body spacing","voxel-fse"),attributeBaseName:"panelSpacing",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(r,{label:o("Body content gap","voxel-fse"),attributeBaseName:"panelGap",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(N,{label:o("Align text","voxel-fse"),value:e.textAlign||"left",options:[{label:o("Left","voxel-fse"),value:"left"},{label:o("Center","voxel-fse"),value:"center"},{label:o("Right","voxel-fse"),value:"right"}],onChange:n=>l({textAlign:n})}),React.createElement(h,{label:o("Typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"bodyTypo"}),React.createElement(d,{label:o("Text color","voxel-fse"),value:e.bodyTypoCol,onChange:n=>l({bodyTypoCol:n})}),React.createElement(h,{label:o("Link typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"bodyTypoLink"}),React.createElement(d,{label:o("Link color","voxel-fse"),value:e.bodyColLink,onChange:n=>l({bodyColLink:n})}),React.createElement(u,{label:o("Panel buttons","voxel-fse")}),React.createElement(r,{label:o("Item gap","voxel-fse"),attributeBaseName:"panelButtonsGap",attributes:e,setAttributes:l,min:0,max:100,step:1})),React.createElement(C,{id:"secondary-button",title:o("Secondary button","voxel-fse")},React.createElement(Y,{tabs:[{name:"normal",title:o("Normal","voxel-fse")},{name:"hover",title:o("Hover","voxel-fse")}],attributes:e,setAttributes:l,attributeName:"secondaryButtonState"},n=>n.name==="normal"?React.createElement(React.Fragment,null,React.createElement(h,{label:o("Button typography","voxel-fse"),attributes:e,setAttributes:l,typographyAttributeName:"scndBtnTypo"}),React.createElement(r,{label:o("Border radius","voxel-fse"),attributeBaseName:"scndBtnRadius",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(d,{label:o("Text color","voxel-fse"),value:e.scndBtnC,onChange:c=>l({scndBtnC:c})}),React.createElement(P,{label:o("Padding","voxel-fse"),values:e.scndBtnPadding||{},onChange:c=>l({scndBtnPadding:c})}),React.createElement(r,{label:o("Height","voxel-fse"),attributeBaseName:"scndBtnHeight",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(d,{label:o("Background color","voxel-fse"),value:e.scndBtnBg,onChange:c=>l({scndBtnBg:c})}),React.createElement(w,{label:o("Border","voxel-fse"),value:e.scndBtnBorder||{},onChange:c=>l({scndBtnBorder:c}),hideRadius:!0}),React.createElement(r,{label:o("Icon size","voxel-fse"),attributeBaseName:"scndBtnIconSize",attributes:e,setAttributes:l,min:0,max:100,step:1,units:["px","%"]}),React.createElement(r,{label:o("Icon/Text spacing","voxel-fse"),attributeBaseName:"scndBtnIconPad",attributes:e,setAttributes:l,min:0,max:100,step:1}),React.createElement(d,{label:o("Icon color","voxel-fse"),value:e.scndBtnIconColor,onChange:c=>l({scndBtnIconColor:c})})):React.createElement(React.Fragment,null,React.createElement(d,{label:o("Text color","voxel-fse"),value:e.scndBtnCH,onChange:c=>l({scndBtnCH:c})}),React.createElement(d,{label:o("Background color","voxel-fse"),value:e.scndBtnBgH,onChange:c=>l({scndBtnBgH:c})}),React.createElement(d,{label:o("Border color","voxel-fse"),value:e.scndBtnBorderH,onChange:c=>l({scndBtnBorderH:c})}),React.createElement(d,{label:o("Icon color","voxel-fse"),value:e.scndBtnIconColorH,onChange:c=>l({scndBtnIconColorH:c})})))))}function S(e){return!e||!e.value?null:e.library==="svg"?React.createElement("img",{src:e.value,alt:"",className:"voxel-icon-svg"}):e.library==="icon"?React.createElement("i",{className:e.value,"aria-hidden":"true"}):null}function Z(){return React.createElement("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{d:"M20 7h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 4h4v3h-4V4zm10 16H4V9h16v11zM12 12c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))}function A(){return React.createElement("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{d:"M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}))}function ee(){return React.createElement("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{d:"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}))}function ne({attributes:e,planData:l,isLoading:n,error:c,context:i}){const a={planIcon:e.planIcon??{library:"",value:""},viewPlansIcon:e.viewPlansIcon??{library:"",value:""},configureIcon:e.configureIcon??{library:"",value:""},switchIcon:e.switchIcon??{library:"",value:""},cancelIcon:e.cancelIcon??{library:"",value:""},portalIcon:e.portalIcon??{library:"",value:""}},p=S(e.planIcon)??React.createElement(Z,null),t=S(e.configureIcon)??React.createElement(A,null),m=S(e.switchIcon)??React.createElement(ee,null);return n?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,o("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("p",null,o("Loading...","voxel-fse"))))):c?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,o("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("p",null,c)))):l?.isLoggedIn?l.membershipType==="order"&&l.orderLink&&!l.isSubscriptionCanceled&&l.pricing?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,o("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("div",{className:"ac-plan-pricing"},React.createElement("span",{className:"ac-plan-price"},l.pricing.formattedPrice),React.createElement("div",{className:"ac-price-period"},"/ ",l.pricing.formattedPeriod)),l.statusMessage&&React.createElement("p",null,l.statusMessage),React.createElement("p",null,o("Your current plan is ","voxel-fse"),l.planLabel),React.createElement("div",{className:"ac-bottom"},React.createElement("ul",{className:"simplify-ul current-plan-btn"},React.createElement("li",null,React.createElement("a",{href:l.orderLink,className:"ts-btn ts-btn-1",onClick:i==="editor"?s=>s.preventDefault():void 0},t,o("Manage subscription","voxel-fse"))),l.switchPlanUrl&&React.createElement("li",null,React.createElement("a",{href:l.switchPlanUrl,className:"ts-btn ts-btn-1",onClick:i==="editor"?s=>s.preventDefault():void 0},m,o("Switch plan","voxel-fse")))))))):React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,o("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("p",null,o("Your current plan is ","voxel-fse"),l.planLabel),l.switchPlanUrl&&React.createElement("div",{className:"ac-bottom"},React.createElement("ul",{className:"simplify-ul current-plan-btn"},React.createElement("li",null,React.createElement("a",{href:l.switchPlanUrl,className:"ts-btn ts-btn-1",onClick:i==="editor"?s=>s.preventDefault():void 0},m,o("Switch plan","voxel-fse")))))))):React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),React.createElement("div",{className:"ts-panel active-plan plan-panel"},React.createElement("div",{className:"ac-head"},p,React.createElement("b",null,o("Current plan","voxel-fse"))),React.createElement("div",{className:"ac-body"},React.createElement("p",null,o("Please log in to view your membership plan.","voxel-fse")))))}function v(e){if(!e)return"";const l=[];if(e.fontFamily&&l.push(`font-family: ${e.fontFamily};`),e.fontSize!==void 0){const n=e.fontSizeUnit||"px";l.push(`font-size: ${e.fontSize}${n};`)}if(e.fontWeight&&l.push(`font-weight: ${e.fontWeight};`),e.fontStyle&&e.fontStyle!=="default"&&l.push(`font-style: ${e.fontStyle};`),e.textDecoration&&e.textDecoration!=="none"&&l.push(`text-decoration: ${e.textDecoration};`),e.lineHeight!==void 0){const n=e.lineHeightUnit||"";l.push(`line-height: ${e.lineHeight}${n};`)}if(e.letterSpacing!==void 0){const n=e.letterSpacingUnit||"px";l.push(`letter-spacing: ${e.letterSpacing}${n};`)}return e.textTransform&&e.textTransform!=="none"&&l.push(`text-transform: ${e.textTransform};`),l.join(" ")}function le(e){return!e||!e.horizontal&&!e.vertical&&!e.blur&&!e.spread?"":`${e.horizontal||0}px ${e.vertical||0}px ${e.blur||0}px ${e.spread||0}px ${e.color||"rgba(0,0,0,0.1)"}`}function z(e){if(!e)return"";const l=[];if(e.borderType&&e.borderType!=="none"&&l.push(`border-style: ${e.borderType}`),e.borderWidth){const n=E(e.borderWidth,"border-width");n&&l.push(n)}return e.borderColor&&l.push(`border-color: ${e.borderColor}`),l.join("; ")}function $(e){if(e===void 0||e==="")return 0;const l=parseFloat(String(e));return isNaN(l)?0:l}function E(e,l="padding"){if(!e)return"";const n=$(e.top),c=$(e.right),i=$(e.bottom),a=$(e.left),p=e.unit||"px";return`${l}: ${n}${p} ${c}${p} ${i}${p} ${a}${p}`}function G(e,l){const n=[],c=[],i=[],a=`.voxel-fse-current-plan-${l}`;if(e.panelsSpacing!==void 0&&n.push(`${a} { display: flex; flex-direction: column; grid-gap: ${e.panelsSpacing}px; }`),e.panelsSpacing_tablet!==void 0&&c.push(`${a} { display: flex; flex-direction: column; grid-gap: ${e.panelsSpacing_tablet}px; }`),e.panelsSpacing_mobile!==void 0&&i.push(`${a} { display: flex; flex-direction: column; grid-gap: ${e.panelsSpacing_mobile}px; }`),e.panelBorder){const t=z(e.panelBorder);t&&n.push(`${a} .ts-panel { ${t} }`)}if(e.panelRadius!==void 0&&n.push(`${a} .ts-panel { border-radius: ${e.panelRadius}px; }`),e.panelRadius_tablet!==void 0&&c.push(`${a} .ts-panel { border-radius: ${e.panelRadius_tablet}px; }`),e.panelRadius_mobile!==void 0&&i.push(`${a} .ts-panel { border-radius: ${e.panelRadius_mobile}px; }`),e.panelBg&&n.push(`${a} .ts-panel { background-color: ${e.panelBg}; }`),e.panelShadow){const t=le(e.panelShadow);t&&n.push(`${a} .ts-panel { box-shadow: ${t}; }`)}if(e.headPadding){const t=E(e.headPadding,"padding");t&&n.push(`${a} .ac-head { ${t} }`)}if(e.headIcoSize!==void 0&&(n.push(`${a} .ac-head > i { font-size: ${e.headIcoSize}px; }`),n.push(`${a} .ac-head > svg { width: ${e.headIcoSize}px; height: ${e.headIcoSize}px; }`)),e.headIcoSize_tablet!==void 0&&(c.push(`${a} .ac-head > i { font-size: ${e.headIcoSize_tablet}px; }`),c.push(`${a} .ac-head > svg { width: ${e.headIcoSize_tablet}px; height: ${e.headIcoSize_tablet}px; }`)),e.headIcoSize_mobile!==void 0&&(i.push(`${a} .ac-head > i { font-size: ${e.headIcoSize_mobile}px; }`),i.push(`${a} .ac-head > svg { width: ${e.headIcoSize_mobile}px; height: ${e.headIcoSize_mobile}px; }`)),e.headIcoMargin!==void 0&&(n.push(`${a} .ac-head > i { margin-right: ${e.headIcoMargin}px; }`),n.push(`${a} .ac-head > svg { margin-right: ${e.headIcoMargin}px; }`)),e.headIcoMargin_tablet!==void 0&&(c.push(`${a} .ac-head > i { margin-right: ${e.headIcoMargin_tablet}px; }`),c.push(`${a} .ac-head > svg { margin-right: ${e.headIcoMargin_tablet}px; }`)),e.headIcoMargin_mobile!==void 0&&(i.push(`${a} .ac-head > i { margin-right: ${e.headIcoMargin_mobile}px; }`),i.push(`${a} .ac-head > svg { margin-right: ${e.headIcoMargin_mobile}px; }`)),e.headIcoCol&&(n.push(`${a} .ac-head > i { color: ${e.headIcoCol}; }`),n.push(`${a} .ac-head > svg { fill: ${e.headIcoCol}; }`)),e.headTypo){const t=v(e.headTypo);t&&n.push(`${a} .ac-head b { ${t} }`)}if(e.headTypoCol&&n.push(`${a} .ac-head b { color: ${e.headTypoCol}; }`),e.headBorderCol&&n.push(`${a} .ac-head { border-bottom-color: ${e.headBorderCol}; }`),e.priceAlign&&n.push(`${a} .ac-plan-pricing { justify-content: ${e.priceAlign}; }`),e.priceTypo){const t=v(e.priceTypo);t&&n.push(`${a} .ac-plan-price { ${t} }`)}if(e.priceCol&&n.push(`${a} .ac-plan-price { color: ${e.priceCol}; }`),e.periodTypo){const t=v(e.periodTypo);t&&n.push(`${a} .ac-price-period { ${t} }`)}if(e.periodCol&&n.push(`${a} .ac-price-period { color: ${e.periodCol}; }`),e.panelSpacing!==void 0&&n.push(`${a} .ac-body { padding: ${e.panelSpacing}px; }`),e.panelSpacing_tablet!==void 0&&c.push(`${a} .ac-body { padding: ${e.panelSpacing_tablet}px; }`),e.panelSpacing_mobile!==void 0&&i.push(`${a} .ac-body { padding: ${e.panelSpacing_mobile}px; }`),e.panelGap!==void 0&&n.push(`${a} .ac-body { display: flex; flex-direction: column; grid-gap: ${e.panelGap}px; }`),e.panelGap_tablet!==void 0&&c.push(`${a} .ac-body { display: flex; flex-direction: column; grid-gap: ${e.panelGap_tablet}px; }`),e.panelGap_mobile!==void 0&&i.push(`${a} .ac-body { display: flex; flex-direction: column; grid-gap: ${e.panelGap_mobile}px; }`),e.textAlign&&n.push(`${a} .ac-body { text-align: ${e.textAlign}; }`),e.bodyTypo){const t=v(e.bodyTypo);t&&n.push(`${a} .ac-body p { ${t} }`)}if(e.bodyTypoCol&&n.push(`${a} .ac-body p { color: ${e.bodyTypoCol}; }`),e.bodyTypoLink){const t=v(e.bodyTypoLink);t&&n.push(`${a} .ac-body a { ${t} }`)}if(e.bodyColLink&&n.push(`${a} .ac-body a { color: ${e.bodyColLink}; }`),e.panelButtonsGap!==void 0&&n.push(`${a} .ac-bottom ul { grid-gap: ${e.panelButtonsGap}px; }`),e.panelButtonsGap_tablet!==void 0&&c.push(`${a} .ac-bottom ul { grid-gap: ${e.panelButtonsGap_tablet}px; }`),e.panelButtonsGap_mobile!==void 0&&i.push(`${a} .ac-bottom ul { grid-gap: ${e.panelButtonsGap_mobile}px; }`),e.scndBtnTypo){const t=v(e.scndBtnTypo);t&&n.push(`${a} .ts-btn-1 { ${t} }`)}if(e.scndBtnRadius!==void 0&&n.push(`${a} .ts-btn-1 { border-radius: ${e.scndBtnRadius}px; }`),e.scndBtnRadius_tablet!==void 0&&c.push(`${a} .ts-btn-1 { border-radius: ${e.scndBtnRadius_tablet}px; }`),e.scndBtnRadius_mobile!==void 0&&i.push(`${a} .ts-btn-1 { border-radius: ${e.scndBtnRadius_mobile}px; }`),e.scndBtnC&&n.push(`${a} .ts-btn-1 { color: ${e.scndBtnC}; }`),e.scndBtnPadding){const t=E(e.scndBtnPadding,"padding");t&&n.push(`${a} .ts-btn-1 { ${t} }`)}if(e.scndBtnHeight!==void 0&&n.push(`${a} .ts-btn-1 { min-height: ${e.scndBtnHeight}px; }`),e.scndBtnHeight_tablet!==void 0&&c.push(`${a} .ts-btn-1 { min-height: ${e.scndBtnHeight_tablet}px; }`),e.scndBtnHeight_mobile!==void 0&&i.push(`${a} .ts-btn-1 { min-height: ${e.scndBtnHeight_mobile}px; }`),e.scndBtnBg&&n.push(`${a} .ts-btn-1 { background-color: ${e.scndBtnBg}; }`),e.scndBtnBorder){const t=z(e.scndBtnBorder);t&&n.push(`${a} .ts-btn-1 { ${t} }`)}e.scndBtnIconSize!==void 0&&(n.push(`${a} .ts-btn-1 i { font-size: ${e.scndBtnIconSize}px; }`),n.push(`${a} .ts-btn-1 svg { width: ${e.scndBtnIconSize}px; height: ${e.scndBtnIconSize}px; }`)),e.scndBtnIconSize_tablet!==void 0&&(c.push(`${a} .ts-btn-1 i { font-size: ${e.scndBtnIconSize_tablet}px; }`),c.push(`${a} .ts-btn-1 svg { width: ${e.scndBtnIconSize_tablet}px; height: ${e.scndBtnIconSize_tablet}px; }`)),e.scndBtnIconSize_mobile!==void 0&&(i.push(`${a} .ts-btn-1 i { font-size: ${e.scndBtnIconSize_mobile}px; }`),i.push(`${a} .ts-btn-1 svg { width: ${e.scndBtnIconSize_mobile}px; height: ${e.scndBtnIconSize_mobile}px; }`)),e.scndBtnIconPad!==void 0&&n.push(`${a} .ts-btn-1 { grid-gap: ${e.scndBtnIconPad}px; }`),e.scndBtnIconPad_tablet!==void 0&&c.push(`${a} .ts-btn-1 { grid-gap: ${e.scndBtnIconPad_tablet}px; }`),e.scndBtnIconPad_mobile!==void 0&&i.push(`${a} .ts-btn-1 { grid-gap: ${e.scndBtnIconPad_mobile}px; }`),e.scndBtnIconColor&&(n.push(`${a} .ts-btn-1 i { color: ${e.scndBtnIconColor}; }`),n.push(`${a} .ts-btn-1 svg { fill: ${e.scndBtnIconColor}; }`)),e.scndBtnCH&&n.push(`${a} .ts-btn-1:hover { color: ${e.scndBtnCH}; }`),e.scndBtnBgH&&n.push(`${a} .ts-btn-1:hover { background-color: ${e.scndBtnBgH}; }`),e.scndBtnBorderH&&n.push(`${a} .ts-btn-1:hover { border-color: ${e.scndBtnBorderH}; }`),e.scndBtnIconColorH&&(n.push(`${a} .ts-btn-1:hover i { color: ${e.scndBtnIconColorH}; }`),n.push(`${a} .ts-btn-1:hover svg { fill: ${e.scndBtnIconColorH}; }`));let p="";return n.length>0&&(p+=n.join(`
`)),c.length>0&&(p+=`
@media (max-width: 1024px) {
${c.join(`
`)}
}`),i.length>0&&(p+=`
@media (max-width: 767px) {
${i.join(`
`)}
}`),p}function ae({attributes:e,setAttributes:l,clientId:n}){const c=e.blockId||n,i=_(()=>M(e),[e]),a=_(()=>{const f=G(e,c),R=L(e,c);return f+`
`+R},[e,c]),p=H({className:j(`voxel-fse-current-plan voxel-fse-current-plan-${c}`,e),style:i}),[t,m]=I(null),[y,s]=I(!0),[B,b]=I(null);return T(()=>{e.blockId||l({blockId:n})},[e.blockId,n,l]),T(()=>{let f=!1;async function R(){s(!0),b(null);try{const x=await U({path:"/voxel-fse/v1/current-plan"});f||m(x)}catch(x){f||b(x instanceof Error?x.message:o("Failed to load plan data","voxel-fse"))}finally{f||s(!1)}}return R(),()=>{f=!0}},[]),React.createElement("div",{...p},React.createElement(J,null,React.createElement(q,{tabs:[{id:"content",label:o("Content","voxel-fse"),icon:"",render:()=>React.createElement(Q,{attributes:e,setAttributes:l})},{id:"style",label:o("Style","voxel-fse"),icon:"",render:()=>React.createElement(X,{attributes:e,setAttributes:l})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:l,defaultTab:"content"})),a&&React.createElement("style",null,a),React.createElement(ne,{attributes:e,planData:t,isLoading:y,error:B,context:"editor"}))}function O(e){return function({attributes:n}){const c=n.blockId||"block",i=`.voxel-fse-current-plan-${c}`,a=M(n),p=G(n,i),t=L(n,i),m=p+`
`+t,y=D(n.customAttributes),s=H.save({id:n.elementId||void 0,className:j(`voxel-fse-current-plan voxel-fse-current-plan-${c}`,n),style:a,...y,"data-visibility-behavior":n.visibilityBehavior||void 0,"data-visibility-rules":n.visibilityRules?.length?JSON.stringify(n.visibilityRules):void 0,"data-loop-source":n.loopSource||void 0,"data-loop-limit":n.loopLimit||void 0,"data-loop-offset":n.loopOffset||void 0}),B={planIcon:n.planIcon??{library:"",value:""},viewPlansIcon:n.viewPlansIcon??{library:"",value:""},configureIcon:n.configureIcon??{library:"",value:""},switchIcon:n.switchIcon??{library:"",value:""},cancelIcon:n.cancelIcon??{library:"",value:""},portalIcon:n.portalIcon??{library:"",value:""}};return React.createElement("div",{...s},m&&React.createElement("style",{dangerouslySetInnerHTML:{__html:m}}),K(n,!1,void 0,void 0,i),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(B)}}),e&&React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",padding:"16px",minHeight:"48px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",style:{opacity:.4}},React.createElement("path",{d:"M20 7h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 4h4v3h-4V4zm10 16H4V9h16v11zM12 12c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))))}}const oe=O(!1),ce=O(!0),te="voxel-fse/current-plan",ie={_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"number"},loopOffset:{type:"number"},blockId:{type:"string",default:""},contentTabOpenPanel:{type:"string",default:"icons"},styleTabOpenPanel:{type:"string",default:"panel"},secondaryButtonState:{type:"string",default:"normal"},planIcon:{type:"object",default:{library:"",value:""}},viewPlansIcon:{type:"object",default:{library:"",value:""}},configureIcon:{type:"object",default:{library:"",value:""}},switchIcon:{type:"object",default:{library:"",value:""}},cancelIcon:{type:"object",default:{library:"",value:""}},portalIcon:{type:"object",default:{library:"",value:""}},panelsSpacing:{type:"number"},panelsSpacing_tablet:{type:"number"},panelsSpacing_mobile:{type:"number"},panelBorder:{type:"object",default:{}},panelRadius:{type:"number"},panelRadius_tablet:{type:"number"},panelRadius_mobile:{type:"number"},panelBg:{type:"string"},panelShadow:{type:"object",default:{}},headPadding:{type:"object",default:{}},headIcoSize:{type:"number"},headIcoSize_tablet:{type:"number"},headIcoSize_mobile:{type:"number"},headIcoMargin:{type:"number"},headIcoMargin_tablet:{type:"number"},headIcoMargin_mobile:{type:"number"},headIcoCol:{type:"string"},headTypo:{type:"object",default:{}},headTypoCol:{type:"string"},headBorderCol:{type:"string"},priceAlign:{type:"string",default:"left"},priceTypo:{type:"object",default:{}},priceCol:{type:"string"},periodTypo:{type:"object",default:{}},periodCol:{type:"string"},panelSpacing:{type:"number"},panelSpacing_tablet:{type:"number"},panelSpacing_mobile:{type:"number"},panelGap:{type:"number"},panelGap_tablet:{type:"number"},panelGap_mobile:{type:"number"},textAlign:{type:"string",default:"left"},bodyTypo:{type:"object",default:{}},bodyTypoCol:{type:"string"},bodyTypoLink:{type:"object",default:{}},bodyColLink:{type:"string"},panelButtonsGap:{type:"number"},panelButtonsGap_tablet:{type:"number"},panelButtonsGap_mobile:{type:"number"},scndBtnTypo:{type:"object",default:{}},scndBtnRadius:{type:"number"},scndBtnRadius_tablet:{type:"number"},scndBtnRadius_mobile:{type:"number"},scndBtnC:{type:"string"},scndBtnPadding:{type:"object",default:{}},scndBtnHeight:{type:"number"},scndBtnHeight_tablet:{type:"number"},scndBtnHeight_mobile:{type:"number"},scndBtnBg:{type:"string"},scndBtnBorder:{type:"object",default:{}},scndBtnIconSize:{type:"number"},scndBtnIconSize_tablet:{type:"number"},scndBtnIconSize_mobile:{type:"number"},scndBtnIconPad:{type:"number"},scndBtnIconPad_tablet:{type:"number"},scndBtnIconPad_mobile:{type:"number"},scndBtnIconColor:{type:"string"},scndBtnCH:{type:"string"},scndBtnBgH:{type:"string"},scndBtnBorderH:{type:"string"},scndBtnIconColorH:{type:"string"}},V={name:te,attributes:ie},pe=React.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M20 7h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 4h4v3h-4V4zm10 16H4V9h16v11zM12 12c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})),de=[{attributes:V.attributes,save:ce}];F(V.name,{icon:pe,edit:ae,save:oe,deprecated:de});
