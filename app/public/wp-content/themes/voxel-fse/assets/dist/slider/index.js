import{registerBlockType as ie}from"@wordpress/blocks";import{useBlockProps as X,InspectorControls as te}from"@wordpress/block-editor";import{__ as a}from"@wordpress/i18n";import{useState as E,useRef as k,useMemo as L,useCallback as z,useEffect as T}from"react";import{A as Y,a as _,r as D,R as u,b as P,d as re,C as $}from"../TypographyPopup-CAcEJ5NA.js";import{I as ce}from"../InspectorTabs-Bq2wAh4W.js";import{TextControl as j,SelectControl as Z,ToggleControl as U}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-BnF4Wtgt.js";import{A as W}from"../AdvancedIconControl-CJ_DCTeD.js";import{G as se}from"../GalleryUploadControl-DMafjsl2.js";import{R as F}from"../ResponsiveSelectControl-CNx5OPeI.js";import{E as de}from"../EmptyPlaceholder-BsL18qxN.js";import{V as q}from"../voxelIcons-gVyOSQ_B.js";import"../voxelShim-DB_Ue-9R.js";import{r as me}from"../backgroundElements-Ui-iCrLV.js";import{g as Q}from"../useAdvancedTabProps-BnJDQbKr.js";import"react-dom";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";const ve=[{label:a("None","voxel-fse"),value:"none"},{label:a("Custom URL","voxel-fse"),value:"custom_link"},{label:a("Lightbox","voxel-fse"),value:"lightbox"}];function pe({attributes:e,setAttributes:n}){const t=l=>l.map(o=>({id:o.id,url:o.url,alt:o.alt||"",sizes:o.sizes})),c=l=>l.map(o=>({id:o.id||0,url:o.url||"",alt:o.alt||"",caption:"",description:"",title:"",sizes:o.sizes}));return React.createElement(Y,{attributes:e,setAttributes:n,stateAttribute:"contentTabOpenPanel",defaultPanel:"images"},React.createElement(_,{id:"images",title:a("Images","voxel-fse")},React.createElement(se,{label:a("Add Images","voxel-fse"),value:t(e.images||[]),onChange:l=>n({images:c(l)}),enableDynamicTags:!0,dynamicTagValue:e.imagesDynamicTag,onDynamicTagChange:l=>n({imagesDynamicTag:l}),dynamicTagContext:"post"}),React.createElement(j,{type:"number",label:a("Number of images to load","voxel-fse"),value:String(e.visibleCount||3),onChange:l=>n({visibleCount:parseInt(l,10)||3}),min:1,max:50}),React.createElement(F,{label:a("Image size","voxel-fse"),value:e.displaySize,valueTablet:e.displaySize_tablet,valueMobile:e.displaySize_mobile,onChange:l=>n({displaySize:l}),onChangeTablet:l=>n({displaySize_tablet:l}),onChangeMobile:l=>n({displaySize_mobile:l}),options:D,controlKey:"slider-image-size"}),React.createElement(F,{label:a("Image size (Lightbox)","voxel-fse"),value:e.lightboxSize,valueTablet:e.lightboxSize_tablet,valueMobile:e.lightboxSize_mobile,onChange:l=>n({lightboxSize:l}),onChangeTablet:l=>n({lightboxSize_tablet:l}),onChangeMobile:l=>n({lightboxSize_mobile:l}),options:D,controlKey:"slider-lightbox-size"}),React.createElement(Z,{label:a("Link","voxel-fse"),value:e.linkType,options:ve,onChange:l=>n({linkType:l}),__nextHasNoMarginBottom:!0}),e.linkType==="custom_link"&&React.createElement(j,{label:a("Custom URL","voxel-fse"),value:e.customLinkUrl||"",onChange:l=>n({customLinkUrl:l}),placeholder:"https://your-link.com"}),React.createElement(U,{label:a("Show thumbnails?","voxel-fse"),checked:e.showThumbnails,onChange:l=>n({showThumbnails:l}),__nextHasNoMarginBottom:!0}),React.createElement(U,{label:a("Auto slide?","voxel-fse"),checked:e.autoSlide,onChange:l=>n({autoSlide:l}),__nextHasNoMarginBottom:!0}),e.autoSlide&&React.createElement(u,{label:a("Auto slide interval (ms)","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"autoSlideInterval",min:500,max:1e4,step:100})),React.createElement(_,{id:"icons",title:a("Icons","voxel-fse")},React.createElement(W,{label:a("Right chevron","voxel-fse"),value:e.rightChevronIcon,onChange:l=>n({rightChevronIcon:l}),supportsDynamicTags:!0,dynamicTagContext:"post"}),React.createElement(W,{label:a("Left chevron","voxel-fse"),value:e.leftChevronIcon,onChange:l=>n({leftChevronIcon:l}),supportsDynamicTags:!0,dynamicTagContext:"post"})))}const ue=[{label:a("Default","voxel-fse"),value:""},{label:a("None","voxel-fse"),value:"none"},{label:a("Solid","voxel-fse"),value:"solid"},{label:a("Double","voxel-fse"),value:"double"},{label:a("Dotted","voxel-fse"),value:"dotted"},{label:a("Dashed","voxel-fse"),value:"dashed"},{label:a("Groove","voxel-fse"),value:"groove"}];function he({attributes:e,setAttributes:n}){return React.createElement(Y,{attributes:e,setAttributes:n,stateAttribute:"styleTabOpenPanel",defaultPanel:"style-general"},React.createElement(_,{id:"style-general",title:a("General","voxel-fse")},React.createElement(P,{attributeName:"generalImageState",attributes:e,setAttributes:n,tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},t=>t.name==="normal"?React.createElement(React.Fragment,null,React.createElement(re,{label:a("Image aspect ratio","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"imageAspectRatio",min:0,max:100}),React.createElement(u,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"imageBorderRadius",min:0,max:100}),React.createElement(u,{label:a("Opacity","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"imageOpacity",min:0,max:1,step:.05})):React.createElement(React.Fragment,null,React.createElement(u,{label:a("Opacity","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"imageOpacityHover",min:0,max:1,step:.05})))),React.createElement(_,{id:"thumbnails",title:a("Thumbnails","voxel-fse")},React.createElement(P,{attributeName:"thumbnailState",attributes:e,setAttributes:n,tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},t=>t.name==="normal"?React.createElement(React.Fragment,null,React.createElement(u,{label:a("Size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"thumbnailSize",min:20,max:200}),React.createElement(u,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"thumbnailBorderRadius",min:0,max:100}),React.createElement(u,{label:a("Opacity","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"thumbnailOpacity",min:0,max:1,step:.05})):React.createElement(React.Fragment,null,React.createElement(u,{label:a("Opacity","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"thumbnailOpacityHover",min:0,max:1,step:.05})))),React.createElement(_,{id:"carousel-navigation",title:a("Carousel navigation","voxel-fse")},React.createElement(P,{attributeName:"navState",attributes:e,setAttributes:n,tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},t=>t.name==="normal"?React.createElement(React.Fragment,null,React.createElement(u,{label:a("Horizontal position","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navHorizontalPosition",min:-100,max:100}),React.createElement(u,{label:a("Vertical position","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navVerticalPosition",min:-500,max:500}),React.createElement($,{label:a("Button icon color","voxel-fse"),value:e.navButtonIconColor,onChange:c=>n({navButtonIconColor:c})}),React.createElement(u,{label:a("Button size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonSize",min:0,max:100}),React.createElement(u,{label:a("Button icon size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonIconSize",min:0,max:100}),React.createElement($,{label:a("Button background","voxel-fse"),value:e.navButtonBackground,onChange:c=>n({navButtonBackground:c})}),React.createElement(u,{label:a("Backdrop blur","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navBackdropBlur",min:0,max:10}),React.createElement(Z,{label:a("Border Type","voxel-fse"),value:e.navBorderType,options:ue,onChange:c=>n({navBorderType:c}),__nextHasNoMarginBottom:!0}),e.navBorderType&&e.navBorderType!=="none"&&React.createElement($,{label:a("Border color","voxel-fse"),value:e.navBorderColor,onChange:c=>n({navBorderColor:c})}),React.createElement(u,{label:a("Button border radius","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonBorderRadius",min:0,max:100})):React.createElement(React.Fragment,null,React.createElement(u,{label:a("Button size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonSizeHover",min:0,max:100}),React.createElement(u,{label:a("Button icon size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonIconSizeHover",min:0,max:100}),React.createElement($,{label:a("Button icon color","voxel-fse"),value:e.navButtonIconColorHover,onChange:c=>n({navButtonIconColorHover:c})}),React.createElement($,{label:a("Button background color","voxel-fse"),value:e.navButtonBackgroundHover,onChange:c=>n({navButtonBackgroundHover:c})}),React.createElement($,{label:a("Button border color","voxel-fse"),value:e.navBorderColorHover,onChange:c=>n({navBorderColorHover:c})})))))}const G=()=>{if(typeof window<"u"){const e=window.Voxel_Config;return e?.is_rtl!==void 0?e.is_rtl:document.documentElement.dir==="rtl"||document.body.dir==="rtl"}return!1},fe=e=>e.caption||e.alt||e.description||"";function ge({attributes:e,context:n,processedImages:t=[],galleryId:c="slider-default",onOpenMediaLibrary:l}){const[o,i]=E(0),[v,p]=E(!1),[g,I]=E(!1),[B,O]=E(!0),m=k(null),x=k(null),h=k(null),y=L(()=>`slider-${c}`,[c]),ee=t.length>1,f=t,oe=f.length===1,S=f.length>1,w={},C={};e.imageAspectRatio&&(C.aspectRatio=e.imageAspectRatio),e.imageBorderRadius!==void 0&&(w.borderRadius=`${e.imageBorderRadius}px`),e.imageOpacity!==void 0&&(C.opacity=e.imageOpacity);const b={};e.thumbnailSize!==void 0&&(b.width=`${e.thumbnailSize}px`,b.height=`${e.thumbnailSize}px`),e.thumbnailBorderRadius!==void 0&&(b.borderRadius=`${e.thumbnailBorderRadius}px`),e.thumbnailOpacity!==void 0&&(b.opacity=e.thumbnailOpacity);const H=z(()=>{if(!m.current)return;const r=m.current,s=Math.abs(r.scrollLeft),d=r.scrollWidth-r.clientWidth;I(s>10),O(s<d-10)},[]),N=z(r=>{if(m.current){const s=m.current.querySelector(`[data-slide-index="${r}"]`);s&&(m.current.scrollTo({left:s.offsetLeft,behavior:"smooth"}),i(r))}},[]),ne=z(()=>{if(!m.current)return;const r=m.current,s=r.querySelector(".ts-preview");if(!s)return;let d=-s.scrollWidth;Math.abs(r.scrollLeft)<=10&&(d=r.scrollWidth-r.clientWidth-r.scrollLeft),r.scrollBy({left:G()?-d:d,behavior:"smooth"});const R=o>0?o-1:f.length-1;i(R)},[o,f.length]),le=z(()=>{if(!m.current)return;const r=m.current,s=r.querySelector(".ts-preview");if(!s)return;let d=s.scrollWidth;r.clientWidth+Math.abs(r.scrollLeft)+10>=r.scrollWidth&&(d=-r.scrollLeft),r.scrollBy({left:G()?-d:d,behavior:"smooth"});const R=o<f.length-1?o+1:0;i(R)},[o,f.length]);T(()=>{if(e.autoSlide&&S&&n==="frontend"){const r=e.autoSlideInterval||3e3;return r<=20?void 0:(h.current=setInterval(()=>{v||i(s=>{const d=s<f.length-1?s+1:0;return N(d),d})},r),()=>{h.current&&clearInterval(h.current)})}},[e.autoSlide,e.autoSlideInterval,S,f.length,n,N,v]),T(()=>{const r=m.current;if(!(!r||!S))return H(),r.addEventListener("scroll",H),()=>{r.removeEventListener("scroll",H)}},[S,H]);const V=(r,s)=>r?React.createElement("i",{className:r,"aria-hidden":"true"}):s,M=r=>{if(e.linkType==="custom_link"&&e.customLinkUrl)return{href:e.customLinkUrl,target:e.customLinkTarget||void 0};if(e.linkType==="lightbox"){const s={href:r.srcLightbox,"data-elementor-open-lightbox":"yes","data-elementor-lightbox-description":fe(r)};return ee&&(s["data-elementor-lightbox-slideshow"]=c),s}return null};if(n==="editor"&&f.length===0)return React.createElement(de,null);if(n==="frontend"&&f.length===0)return null;const ae={images:f,visibleCount:e.visibleCount,displaySize:e.displaySize,lightboxSize:e.lightboxSize,linkType:e.linkType,customLinkUrl:e.customLinkUrl,customLinkTarget:e.customLinkTarget,showThumbnails:e.showThumbnails,autoSlide:e.autoSlide,autoSlideInterval:e.autoSlideInterval,rightChevronIcon:e.rightChevronIcon?.value||"",leftChevronIcon:e.leftChevronIcon?.value||"",galleryId:c,imageAspectRatio:e.imageAspectRatio,imageBorderRadius:e.imageBorderRadius,imageOpacity:e.imageOpacity,imageOpacityHover:e.imageOpacityHover,thumbnailSize:e.thumbnailSize,thumbnailBorderRadius:e.thumbnailBorderRadius,thumbnailOpacity:e.thumbnailOpacity,thumbnailOpacityHover:e.thumbnailOpacityHover};return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(ae)}}),oe&&React.createElement("div",{className:"ts-preview ts-single-slide",style:w},(()=>{const r=f[0],s=M(r),d=React.createElement("img",{src:r.src,alt:r.alt,loading:"lazy",style:C});return s?React.createElement("a",{...s},d):d})()),S&&React.createElement("div",{ref:x,className:"ts-slider flexify",style:w,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1)},React.createElement("div",{ref:m,className:"post-feed-grid ts-feed-nowrap nav-type-dots","data-auto-slide":e.autoSlide?e.autoSlideInterval:0,style:{display:"flex",overflowX:"auto",scrollSnapType:"x mandatory",scrollBehavior:"smooth",gap:"0"}},f.map((r,s)=>{const d=M(r),R=React.createElement("img",{src:r.src,alt:r.alt,loading:"lazy",style:C});return React.createElement("div",{key:r.id,className:"ts-preview","data-slide-index":s,"data-id":`slide-${y}-${r.id}`,id:`ts-media-${r.id}`,style:{flex:"0 0 100%",scrollSnapAlign:"start"}},d?React.createElement("a",{...d},R):R)}))),e.showThumbnails&&S&&React.createElement("div",{className:"ts-slide-nav",style:{display:"flex",gap:"8px",marginTop:"12px"}},f.map((r,s)=>React.createElement("a",{key:r.id,href:"#",onClick:d=>{d.preventDefault(),N(s)},style:{...b,display:"block",overflow:"hidden",opacity:o===s?1:b.opacity||.6,border:o===s?"2px solid var(--vx-primary-color, #3b82f6)":"none"}},React.createElement("img",{src:r.srcThumbnail,alt:r.alt,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}})))),S&&React.createElement("ul",{className:"simplify-ul flexify post-feed-nav"},React.createElement("li",null,React.createElement("a",{href:"#",className:`ts-icon-btn ts-prev-page${g?"":" disabled"}`,"aria-label":a("Previous","voxel-fse"),onClick:r=>{r.preventDefault(),ne()}},V(e.leftChevronIcon?.value,q.chevronLeft))),React.createElement("li",null,React.createElement("a",{href:"#",className:`ts-icon-btn ts-next-page${B?"":" disabled"}`,"aria-label":a("Next","voxel-fse"),onClick:r=>{r.preventDefault(),le()}},V(e.rightChevronIcon?.value,q.chevronRight)))))}function A(e,n){const t=[],c=[],l=[],o=`.voxel-fse-slider-${n}`;if(e.imageAspectRatio&&t.push(`${o} .ts-preview img { aspect-ratio: ${e.imageAspectRatio}; }`),e.imageAspectRatio_tablet&&c.push(`${o} .ts-preview img { aspect-ratio: ${e.imageAspectRatio_tablet}; }`),e.imageAspectRatio_mobile&&l.push(`${o} .ts-preview img { aspect-ratio: ${e.imageAspectRatio_mobile}; }`),e.imageBorderRadius!==void 0&&t.push(`${o} .ts-slider, ${o} .ts-single-slide { border-radius: ${e.imageBorderRadius}px; }`),e.imageBorderRadius_tablet!==void 0&&c.push(`${o} .ts-slider, ${o} .ts-single-slide { border-radius: ${e.imageBorderRadius_tablet}px; }`),e.imageBorderRadius_mobile!==void 0&&l.push(`${o} .ts-slider, ${o} .ts-single-slide { border-radius: ${e.imageBorderRadius_mobile}px; }`),e.imageOpacity!==void 0&&t.push(`${o} { opacity: ${e.imageOpacity}; }`),e.imageOpacity_tablet!==void 0&&c.push(`${o} { opacity: ${e.imageOpacity_tablet}; }`),e.imageOpacity_mobile!==void 0&&l.push(`${o} { opacity: ${e.imageOpacity_mobile}; }`),e.imageOpacityHover!==void 0&&t.push(`${o}:hover { opacity: ${e.imageOpacityHover}; }`),e.imageOpacityHover_tablet!==void 0&&c.push(`${o}:hover { opacity: ${e.imageOpacityHover_tablet}; }`),e.imageOpacityHover_mobile!==void 0&&l.push(`${o}:hover { opacity: ${e.imageOpacityHover_mobile}; }`),e.thumbnailSize!==void 0&&t.push(`${o} .ts-slide-nav a { width: ${e.thumbnailSize}px; height: ${e.thumbnailSize}px; }`),e.thumbnailSize_tablet!==void 0&&c.push(`${o} .ts-slide-nav a { width: ${e.thumbnailSize_tablet}px; height: ${e.thumbnailSize_tablet}px; }`),e.thumbnailSize_mobile!==void 0&&l.push(`${o} .ts-slide-nav a { width: ${e.thumbnailSize_mobile}px; height: ${e.thumbnailSize_mobile}px; }`),e.thumbnailBorderRadius!==void 0&&t.push(`${o} .ts-slide-nav a { border-radius: ${e.thumbnailBorderRadius}px; }`),e.thumbnailBorderRadius_tablet!==void 0&&c.push(`${o} .ts-slide-nav a { border-radius: ${e.thumbnailBorderRadius_tablet}px; }`),e.thumbnailBorderRadius_mobile!==void 0&&l.push(`${o} .ts-slide-nav a { border-radius: ${e.thumbnailBorderRadius_mobile}px; }`),e.thumbnailOpacity!==void 0&&t.push(`${o} .ts-slide-nav a { opacity: ${e.thumbnailOpacity}; }`),e.thumbnailOpacity_tablet!==void 0&&c.push(`${o} .ts-slide-nav a { opacity: ${e.thumbnailOpacity_tablet}; }`),e.thumbnailOpacity_mobile!==void 0&&l.push(`${o} .ts-slide-nav a { opacity: ${e.thumbnailOpacity_mobile}; }`),e.thumbnailOpacityHover!==void 0&&t.push(`${o} .ts-slide-nav a:hover { opacity: ${e.thumbnailOpacityHover}; }`),e.thumbnailOpacityHover_tablet!==void 0&&c.push(`${o} .ts-slide-nav a:hover { opacity: ${e.thumbnailOpacityHover_tablet}; }`),e.thumbnailOpacityHover_mobile!==void 0&&l.push(`${o} .ts-slide-nav a:hover { opacity: ${e.thumbnailOpacityHover_mobile}; }`),e.navHorizontalPosition!==void 0&&t.push(`${o} .post-feed-nav li:last-child { margin-right: ${e.navHorizontalPosition}px; }`,`${o} .post-feed-nav li:first-child { margin-left: ${e.navHorizontalPosition}px; }`),e.navHorizontalPosition_tablet!==void 0&&c.push(`${o} .post-feed-nav li:last-child { margin-right: ${e.navHorizontalPosition_tablet}px; }`,`${o} .post-feed-nav li:first-child { margin-left: ${e.navHorizontalPosition_tablet}px; }`),e.navHorizontalPosition_mobile!==void 0&&l.push(`${o} .post-feed-nav li:last-child { margin-right: ${e.navHorizontalPosition_mobile}px; }`,`${o} .post-feed-nav li:first-child { margin-left: ${e.navHorizontalPosition_mobile}px; }`),e.navVerticalPosition!==void 0&&t.push(`${o} .post-feed-nav li { margin-top: ${e.navVerticalPosition}px; }`),e.navVerticalPosition_tablet!==void 0&&c.push(`${o} .post-feed-nav li { margin-top: ${e.navVerticalPosition_tablet}px; }`),e.navVerticalPosition_mobile!==void 0&&l.push(`${o} .post-feed-nav li { margin-top: ${e.navVerticalPosition_mobile}px; }`),e.navButtonIconColor&&t.push(`${o} .post-feed-nav .ts-icon-btn i { color: ${e.navButtonIconColor}; }`,`${o} .post-feed-nav .ts-icon-btn svg { fill: ${e.navButtonIconColor}; }`),e.navButtonSize!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn { width: ${e.navButtonSize}px; height: ${e.navButtonSize}px; }`),e.navButtonSize_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn { width: ${e.navButtonSize_tablet}px; height: ${e.navButtonSize_tablet}px; }`),e.navButtonSize_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn { width: ${e.navButtonSize_mobile}px; height: ${e.navButtonSize_mobile}px; }`),e.navButtonIconSize!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn i { font-size: ${e.navButtonIconSize}px; }`,`${o} .post-feed-nav .ts-icon-btn svg { width: ${e.navButtonIconSize}px; height: ${e.navButtonIconSize}px; }`),e.navButtonIconSize_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn i { font-size: ${e.navButtonIconSize_tablet}px; }`,`${o} .post-feed-nav .ts-icon-btn svg { width: ${e.navButtonIconSize_tablet}px; height: ${e.navButtonIconSize_tablet}px; }`),e.navButtonIconSize_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn i { font-size: ${e.navButtonIconSize_mobile}px; }`,`${o} .post-feed-nav .ts-icon-btn svg { width: ${e.navButtonIconSize_mobile}px; height: ${e.navButtonIconSize_mobile}px; }`),e.navButtonBackground&&t.push(`${o} .post-feed-nav .ts-icon-btn { background-color: ${e.navButtonBackground}; }`),e.navBackdropBlur!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.navBackdropBlur}px); }`),e.navBackdropBlur_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.navBackdropBlur_tablet}px); }`),e.navBackdropBlur_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.navBackdropBlur_mobile}px); }`),e.navBorderType&&e.navBorderType!=="none"){t.push(`${o} .post-feed-nav .ts-icon-btn { border-style: ${e.navBorderType}; }`),e.navBorderColor&&t.push(`${o} .post-feed-nav .ts-icon-btn { border-color: ${e.navBorderColor}; }`);const v=e.navBorderWidth!==void 0?`${e.navBorderWidth}px`:"1px";t.push(`${o} .post-feed-nav .ts-icon-btn { border-width: ${v}; }`)}e.navButtonBorderRadius!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn { border-radius: ${e.navButtonBorderRadius}px; }`),e.navButtonBorderRadius_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn { border-radius: ${e.navButtonBorderRadius_tablet}px; }`),e.navButtonBorderRadius_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn { border-radius: ${e.navButtonBorderRadius_mobile}px; }`),e.navButtonSizeHover!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover { width: ${e.navButtonSizeHover}px; height: ${e.navButtonSizeHover}px; }`),e.navButtonSizeHover_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn:hover { width: ${e.navButtonSizeHover_tablet}px; height: ${e.navButtonSizeHover_tablet}px; }`),e.navButtonSizeHover_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn:hover { width: ${e.navButtonSizeHover_mobile}px; height: ${e.navButtonSizeHover_mobile}px; }`),e.navButtonIconSizeHover!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover i { font-size: ${e.navButtonIconSizeHover}px; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { width: ${e.navButtonIconSizeHover}px; height: ${e.navButtonIconSizeHover}px; }`),e.navButtonIconSizeHover_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn:hover i { font-size: ${e.navButtonIconSizeHover_tablet}px; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { width: ${e.navButtonIconSizeHover_tablet}px; height: ${e.navButtonIconSizeHover_tablet}px; }`),e.navButtonIconSizeHover_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn:hover i { font-size: ${e.navButtonIconSizeHover_mobile}px; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { width: ${e.navButtonIconSizeHover_mobile}px; height: ${e.navButtonIconSizeHover_mobile}px; }`),e.navButtonIconColorHover&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover i { color: ${e.navButtonIconColorHover}; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { fill: ${e.navButtonIconColorHover}; }`),e.navButtonBackgroundHover&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover { background-color: ${e.navButtonBackgroundHover}; }`),e.navBorderColorHover&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover { border-color: ${e.navBorderColorHover}; }`);let i="";return t.length>0&&(i+=t.join(`
`)),c.length>0&&(i+=`
@media (max-width: 1024px) {
${c.join(`
`)}
}`),l.length>0&&(i+=`
@media (max-width: 767px) {
${l.join(`
`)}
}`),i}function ye(e,n,t,c){const l=e.filter((i,v,p)=>p.findIndex(g=>g.id===i.id)===v);return(c>0?l.slice(0,c):l).map(i=>{let v=i.url;i.sizes&&i.sizes[n]&&(v=i.sizes[n]?.url||i.url);let p=i.url;i.sizes&&i.sizes[t]&&(p=i.sizes[t]?.url||i.url);let g=i.url;return i.sizes&&i.sizes.thumbnail&&(g=i.sizes.thumbnail.url),{id:i.id,src:v,srcLightbox:p,srcThumbnail:g,alt:i.alt||"",caption:i.caption||"",description:i.description||"",title:i.title||""}})}function xe({attributes:e,setAttributes:n,clientId:t}){const c=e.blockId||t;T(()=>{e.blockId||n({blockId:t})},[e.blockId,t,n]),T(()=>{const m="voxel-gallery-css";if(!document.getElementById(m)){const x=document.createElement("link");x.id=m,x.rel="stylesheet";const y=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");x.href=`${y}/wp-content/themes/voxel/assets/dist/gallery.css?ver=1.7.5.2`,document.head.appendChild(x)}},[]);const l=Q(e,{blockId:c,baseClass:"voxel-fse-slider"}),o=L(()=>A(e,c),[e,c]),i=L(()=>[l.responsiveCSS,o].filter(Boolean).join(`
`),[l.responsiveCSS,o]),v=X({id:l.elementId,className:l.className,style:l.styles,...l.customAttrs}),p=`slider-${e.blockId||t}`,g=ye(e.images||[],e.displaySize,e.lightboxSize,e.visibleCount),I=z(m=>{const x=m.map(h=>({id:h.id,url:h.url,alt:h.alt||"",caption:h.caption||"",description:h.description||"",title:h.title||"",sizes:h.sizes}));n({images:x})},[n]),B=k(null),O=z(()=>{if(B.current){B.current.open();return}B.current=wp.media({title:a("Select Images for Slider","voxel-fse"),button:{text:a("Add to Slider","voxel-fse")},multiple:"add",library:{type:"image"}}),B.current.on("select",()=>{const m=B.current?.state().get("selection");if(m){const x=m.map(h=>{const y=h.toJSON();return{id:y.id,url:y.url,alt:y.alt||"",caption:y.caption||"",description:y.description||"",title:y.title||"",sizes:y.sizes}});I(x)}}),B.current.open()},[I]);return React.createElement("div",{...v},i&&React.createElement("style",{dangerouslySetInnerHTML:{__html:i}}),React.createElement(te,null,React.createElement(ce,{tabs:[{id:"content",label:a("Content","voxel-fse"),icon:"",render:()=>React.createElement(pe,{attributes:e,setAttributes:n})},{id:"style",label:a("Style","voxel-fse"),icon:"",render:()=>React.createElement(he,{attributes:e,setAttributes:n})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:n})),React.createElement(ge,{attributes:e,context:"editor",processedImages:g,galleryId:p,onOpenMediaLibrary:O}))}function J(e){return!e||!e.value?"":e.value}function Be(e,n,t,c){const l=e.filter((i,v,p)=>p.findIndex(g=>g.id===i.id)===v);return(c>0?l.slice(0,c):l).map(i=>{let v=i.url;i.sizes&&i.sizes[n]&&(v=i.sizes[n]?.url||i.url);let p=i.url;i.sizes&&i.sizes[t]&&(p=i.sizes[t]?.url||i.url);let g=i.url;return i.sizes&&i.sizes.thumbnail&&(g=i.sizes.thumbnail.url),{id:i.id,src:v,srcLightbox:p,srcThumbnail:g,alt:i.alt||"",caption:i.caption||"",description:i.description||"",title:i.title||""}})}function Se({attributes:e}){const n=e.blockId||"slider",t=Q(e,{blockId:n,baseClass:"voxel-fse-slider"}),c=A(e,n),l=[t.responsiveCSS,c].filter(Boolean).join(`
`),o=X.save({id:t.elementId,className:t.className,style:t.styles,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...t.customAttrs}),i=Be(e.images,e.displaySize,e.lightboxSize,e.visibleCount),v=`slider-${e.blockId||"default"}`,p={images:i,visibleCount:e.visibleCount,displaySize:e.displaySize,lightboxSize:e.lightboxSize,linkType:e.linkType,customLinkUrl:e.customLinkUrl,customLinkTarget:e.customLinkTarget,showThumbnails:e.showThumbnails,autoSlide:e.autoSlide,autoSlideInterval:e.autoSlideInterval,rightChevronIcon:J(e.rightChevronIcon),leftChevronIcon:J(e.leftChevronIcon),galleryId:v,imageAspectRatio:e.imageAspectRatio,imageBorderRadius:e.imageBorderRadius,imageOpacity:e.imageOpacity,imageOpacityHover:e.imageOpacityHover,thumbnailSize:e.thumbnailSize,thumbnailBorderRadius:e.thumbnailBorderRadius,thumbnailOpacity:e.thumbnailOpacity,thumbnailOpacityHover:e.thumbnailOpacityHover};return React.createElement("div",{...o},l&&React.createElement("style",{dangerouslySetInnerHTML:{__html:l}}),me(e,!1,void 0,void 0,t.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(p)}}),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",padding:"40px 16px",minHeight:"200px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.3}},React.createElement("path",{d:"M2 6h4v12H2V6zm6-2h8v16H8V4zm10 2h4v12h-4V6z"}))))}const be="https://schemas.wp.org/trunk/block.json",Re=3,$e="voxel-fse/slider",ze="1.0.0",_e="Slider (VX)",Ie="voxel-fse",Ce="Display product images in a slider with thumbnails and lightbox support. Syncs with product variations.",He=["slider","carousel","gallery","images","product","voxel"],Ee="voxel-fse",ke={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},Te="file:./index.js",Oe="file:./frontend.js",we="file:./render.php",Ne={blockId:{type:"string",default:""},images:{type:"array",default:[],items:{type:"object"}},imageSource:{type:"string",default:"manual",enum:["manual","dynamic"]},dynamicSource:{type:"string",default:""},visibleCount:{type:"number",default:3},displaySize:{type:"string",default:"medium"},displaySize_tablet:{type:"string"},displaySize_mobile:{type:"string"},lightboxSize:{type:"string",default:"large"},lightboxSize_tablet:{type:"string"},lightboxSize_mobile:{type:"string"},linkType:{type:"string",default:"lightbox",enum:["none","custom_link","lightbox"]},customLinkUrl:{type:"string",default:""},customLinkTarget:{type:"string",default:""},showThumbnails:{type:"boolean",default:!0},autoSlide:{type:"boolean",default:!1},autoSlideInterval:{type:"number",default:3e3},autoSlideInterval_tablet:{type:"number"},autoSlideInterval_mobile:{type:"number"},rightChevronIcon:{type:"object",default:{library:"",value:""}},leftChevronIcon:{type:"object",default:{library:"",value:""}},imageAspectRatio:{type:"string",default:""},imageAspectRatio_tablet:{type:"string"},imageAspectRatio_mobile:{type:"string"},imageBorderRadius:{type:"number"},imageBorderRadius_tablet:{type:"number"},imageBorderRadius_mobile:{type:"number"},imageOpacity:{type:"number"},imageOpacity_tablet:{type:"number"},imageOpacity_mobile:{type:"number"},imageOpacityHover:{type:"number"},imageOpacityHover_tablet:{type:"number"},imageOpacityHover_mobile:{type:"number"},thumbnailSize:{type:"number"},thumbnailSize_tablet:{type:"number"},thumbnailSize_mobile:{type:"number"},thumbnailBorderRadius:{type:"number"},thumbnailBorderRadius_tablet:{type:"number"},thumbnailBorderRadius_mobile:{type:"number"},thumbnailOpacity:{type:"number"},thumbnailOpacity_tablet:{type:"number"},thumbnailOpacity_mobile:{type:"number"},thumbnailOpacityHover:{type:"number"},thumbnailOpacityHover_tablet:{type:"number"},thumbnailOpacityHover_mobile:{type:"number"},navHorizontalPosition:{type:"number"},navHorizontalPosition_tablet:{type:"number"},navHorizontalPosition_mobile:{type:"number"},navVerticalPosition:{type:"number"},navVerticalPosition_tablet:{type:"number"},navVerticalPosition_mobile:{type:"number"},navButtonIconColor:{type:"string",default:""},navButtonSize:{type:"number"},navButtonSize_tablet:{type:"number"},navButtonSize_mobile:{type:"number"},navButtonIconSize:{type:"number"},navButtonIconSize_tablet:{type:"number"},navButtonIconSize_mobile:{type:"number"},navButtonBackground:{type:"string",default:""},navBackdropBlur:{type:"number"},navBackdropBlur_tablet:{type:"number"},navBackdropBlur_mobile:{type:"number"},navBorderType:{type:"string",default:""},navBorderWidth:{type:"number"},navBorderColor:{type:"string",default:""},navButtonBorderRadius:{type:"number"},navButtonBorderRadius_tablet:{type:"number"},navButtonBorderRadius_mobile:{type:"number"},navButtonSizeHover:{type:"number"},navButtonSizeHover_tablet:{type:"number"},navButtonSizeHover_mobile:{type:"number"},navButtonIconSizeHover:{type:"number"},navButtonIconSizeHover_tablet:{type:"number"},navButtonIconSizeHover_mobile:{type:"number"},navButtonIconColorHover:{type:"string",default:""},navButtonBackgroundHover:{type:"string",default:""},navBorderColorHover:{type:"string",default:""},hideDesktop:{type:"boolean",default:!1},hideTablet:{type:"boolean",default:!1},hideMobile:{type:"boolean",default:!1},customClasses:{type:"string",default:""},sliderAccordion:{type:"string"},contentTabOpenPanel:{type:"string",default:"images"},styleTabOpenPanel:{type:"string",default:"style-general"},generalImageState:{type:"string",default:"normal"},thumbnailState:{type:"string",default:"normal"},navState:{type:"string",default:"normal"},imagesDynamicTag:{type:"string"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},K={$schema:be,apiVersion:Re,name:$e,version:ze,title:_e,category:Ie,description:Ce,keywords:He,textdomain:Ee,supports:ke,editorScript:Te,viewScript:Oe,render:we,attributes:Ne},Pe=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},React.createElement("path",{d:"M2 6h4v12H2V6zm6-2h8v16H8V4zm10 2h4v12h-4V6z"}));ie(K.name,{...K,icon:Pe,edit:xe,save:Se});
