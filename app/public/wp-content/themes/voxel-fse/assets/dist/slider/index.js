import{registerBlockType as re}from"@wordpress/blocks";import{useBlockProps as Y,InspectorControls as ce}from"@wordpress/block-editor";import{__ as a}from"@wordpress/i18n";import{useState as E,useRef as k,useMemo as T,useCallback as R,useEffect as O}from"react";import{A as Z,a as _,r as j,R as h,b as P,d as se,C as z}from"../TypographyPopup-CAcEJ5NA.js";import{I as de}from"../InspectorTabs-Bq2wAh4W.js";import{TextControl as U,SelectControl as Q,ToggleControl as W}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-C7JnAhZL.js";import{A as F}from"../AdvancedIconControl-CJ_DCTeD.js";import{G as me}from"../GalleryUploadControl-DMafjsl2.js";import{R as q}from"../ResponsiveSelectControl-CNx5OPeI.js";import{E as ve}from"../EmptyPlaceholder-BsL18qxN.js";import{V as G}from"../voxelIcons-gVyOSQ_B.js";import"../voxelShim-DB_Ue-9R.js";import{r as pe}from"../backgroundElements-Ui-iCrLV.js";import{g as A}from"../useAdvancedTabProps-BnJDQbKr.js";import"react-dom";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";const ue=[{label:a("None","voxel-fse"),value:"none"},{label:a("Custom URL","voxel-fse"),value:"custom_link"},{label:a("Lightbox","voxel-fse"),value:"lightbox"}];function he({attributes:e,setAttributes:n}){const r=l=>l.map(o=>({id:o.id,url:o.url,alt:o.alt||"",sizes:o.sizes})),c=l=>l.map(o=>({id:o.id||0,url:o.url||"",alt:o.alt||"",caption:"",description:"",title:"",sizes:o.sizes}));return React.createElement(Z,{attributes:e,setAttributes:n,stateAttribute:"contentTabOpenPanel",defaultPanel:"images"},React.createElement(_,{id:"images",title:a("Images","voxel-fse")},React.createElement(me,{label:a("Add Images","voxel-fse"),value:r(e.images||[]),onChange:l=>n({images:c(l)}),enableDynamicTags:!0,dynamicTagValue:e.imagesDynamicTag,onDynamicTagChange:l=>n({imagesDynamicTag:l}),dynamicTagContext:"post"}),React.createElement(U,{type:"number",label:a("Number of images to load","voxel-fse"),value:String(e.visibleCount||3),onChange:l=>n({visibleCount:parseInt(l,10)||3}),min:1,max:50}),React.createElement(q,{label:a("Image size","voxel-fse"),value:e.displaySize,valueTablet:e.displaySize_tablet,valueMobile:e.displaySize_mobile,onChange:l=>n({displaySize:l}),onChangeTablet:l=>n({displaySize_tablet:l}),onChangeMobile:l=>n({displaySize_mobile:l}),options:j,controlKey:"slider-image-size"}),React.createElement(q,{label:a("Image size (Lightbox)","voxel-fse"),value:e.lightboxSize,valueTablet:e.lightboxSize_tablet,valueMobile:e.lightboxSize_mobile,onChange:l=>n({lightboxSize:l}),onChangeTablet:l=>n({lightboxSize_tablet:l}),onChangeMobile:l=>n({lightboxSize_mobile:l}),options:j,controlKey:"slider-lightbox-size"}),React.createElement(Q,{label:a("Link","voxel-fse"),value:e.linkType,options:ue,onChange:l=>n({linkType:l}),__nextHasNoMarginBottom:!0}),e.linkType==="custom_link"&&React.createElement(U,{label:a("Custom URL","voxel-fse"),value:e.customLinkUrl||"",onChange:l=>n({customLinkUrl:l}),placeholder:"https://your-link.com"}),React.createElement(W,{label:a("Show thumbnails?","voxel-fse"),checked:e.showThumbnails,onChange:l=>n({showThumbnails:l}),__nextHasNoMarginBottom:!0}),React.createElement(W,{label:a("Auto slide?","voxel-fse"),checked:e.autoSlide,onChange:l=>n({autoSlide:l}),__nextHasNoMarginBottom:!0}),e.autoSlide&&React.createElement(h,{label:a("Auto slide interval (ms)","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"autoSlideInterval",min:500,max:1e4,step:100})),React.createElement(_,{id:"icons",title:a("Icons","voxel-fse")},React.createElement(F,{label:a("Right chevron","voxel-fse"),value:e.rightChevronIcon,onChange:l=>n({rightChevronIcon:l}),supportsDynamicTags:!0,dynamicTagContext:"post"}),React.createElement(F,{label:a("Left chevron","voxel-fse"),value:e.leftChevronIcon,onChange:l=>n({leftChevronIcon:l}),supportsDynamicTags:!0,dynamicTagContext:"post"})))}const fe=[{label:a("Default","voxel-fse"),value:""},{label:a("None","voxel-fse"),value:"none"},{label:a("Solid","voxel-fse"),value:"solid"},{label:a("Double","voxel-fse"),value:"double"},{label:a("Dotted","voxel-fse"),value:"dotted"},{label:a("Dashed","voxel-fse"),value:"dashed"},{label:a("Groove","voxel-fse"),value:"groove"}];function ge({attributes:e,setAttributes:n}){return React.createElement(Z,{attributes:e,setAttributes:n,stateAttribute:"styleTabOpenPanel",defaultPanel:"style-general"},React.createElement(_,{id:"style-general",title:a("General","voxel-fse")},React.createElement(P,{attributeName:"generalImageState",attributes:e,setAttributes:n,tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},r=>r.name==="normal"?React.createElement(React.Fragment,null,React.createElement(se,{label:a("Image aspect ratio","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"imageAspectRatio",min:0,max:100}),React.createElement(h,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"imageBorderRadius",min:0,max:100}),React.createElement(h,{label:a("Opacity","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"imageOpacity",min:0,max:1,step:.05})):React.createElement(React.Fragment,null,React.createElement(h,{label:a("Opacity","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"imageOpacityHover",min:0,max:1,step:.05})))),React.createElement(_,{id:"thumbnails",title:a("Thumbnails","voxel-fse")},React.createElement(P,{attributeName:"thumbnailState",attributes:e,setAttributes:n,tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},r=>r.name==="normal"?React.createElement(React.Fragment,null,React.createElement(h,{label:a("Size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"thumbnailSize",min:20,max:200}),React.createElement(h,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"thumbnailBorderRadius",min:0,max:100}),React.createElement(h,{label:a("Opacity","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"thumbnailOpacity",min:0,max:1,step:.05})):React.createElement(React.Fragment,null,React.createElement(h,{label:a("Opacity","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"thumbnailOpacityHover",min:0,max:1,step:.05})))),React.createElement(_,{id:"carousel-navigation",title:a("Carousel navigation","voxel-fse")},React.createElement(P,{attributeName:"navState",attributes:e,setAttributes:n,tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},r=>r.name==="normal"?React.createElement(React.Fragment,null,React.createElement(h,{label:a("Horizontal position","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navHorizontalPosition",min:-100,max:100}),React.createElement(h,{label:a("Vertical position","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navVerticalPosition",min:-500,max:500}),React.createElement(z,{label:a("Button icon color","voxel-fse"),value:e.navButtonIconColor,onChange:c=>n({navButtonIconColor:c})}),React.createElement(h,{label:a("Button size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonSize",min:0,max:100}),React.createElement(h,{label:a("Button icon size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonIconSize",min:0,max:100}),React.createElement(z,{label:a("Button background","voxel-fse"),value:e.navButtonBackground,onChange:c=>n({navButtonBackground:c})}),React.createElement(h,{label:a("Backdrop blur","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navBackdropBlur",min:0,max:10}),React.createElement(Q,{label:a("Border Type","voxel-fse"),value:e.navBorderType,options:fe,onChange:c=>n({navBorderType:c}),__nextHasNoMarginBottom:!0}),e.navBorderType&&e.navBorderType!=="none"&&React.createElement(z,{label:a("Border color","voxel-fse"),value:e.navBorderColor,onChange:c=>n({navBorderColor:c})}),React.createElement(h,{label:a("Button border radius","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonBorderRadius",min:0,max:100})):React.createElement(React.Fragment,null,React.createElement(h,{label:a("Button size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonSizeHover",min:0,max:100}),React.createElement(h,{label:a("Button icon size","voxel-fse"),attributes:e,setAttributes:n,attributeBaseName:"navButtonIconSizeHover",min:0,max:100}),React.createElement(z,{label:a("Button icon color","voxel-fse"),value:e.navButtonIconColorHover,onChange:c=>n({navButtonIconColorHover:c})}),React.createElement(z,{label:a("Button background color","voxel-fse"),value:e.navButtonBackgroundHover,onChange:c=>n({navButtonBackgroundHover:c})}),React.createElement(z,{label:a("Button border color","voxel-fse"),value:e.navBorderColorHover,onChange:c=>n({navBorderColorHover:c})})))))}const J=()=>{if(typeof window<"u"){const e=window.Voxel_Config;return e?.is_rtl!==void 0?e.is_rtl:document.documentElement.dir==="rtl"||document.body.dir==="rtl"}return!1},ye=e=>e.caption||e.alt||e.description||"";function xe({attributes:e,context:n,processedImages:r=[],galleryId:c="slider-default",onOpenMediaLibrary:l}){const[o,i]=E(0),[v,p]=E(!1),[g,I]=E(!1),[B,w]=E(!0),m=k(null),x=k(null),f=k(null),y=T(()=>`slider-${c}`,[c]),oe=r.length>1,u=r,ne=u.length===1,S=u.length>1,V=T(()=>u.map(t=>({src:t.srcLightbox||t.src,alt:t.alt||""})),[u]),le=R((t,s)=>{t.preventDefault();const d=window.VoxelLightbox;d&&d.open(V,s)},[V]),N={},C={};e.imageAspectRatio&&(C.aspectRatio=e.imageAspectRatio),e.imageBorderRadius!==void 0&&(N.borderRadius=`${e.imageBorderRadius}px`),e.imageOpacity!==void 0&&(C.opacity=e.imageOpacity);const $={};e.thumbnailSize!==void 0&&($.width=`${e.thumbnailSize}px`,$.height=`${e.thumbnailSize}px`),e.thumbnailBorderRadius!==void 0&&($.borderRadius=`${e.thumbnailBorderRadius}px`),e.thumbnailOpacity!==void 0&&($.opacity=e.thumbnailOpacity);const H=R(()=>{if(!m.current)return;const t=m.current,s=Math.abs(t.scrollLeft),d=t.scrollWidth-t.clientWidth;I(s>10),w(s<d-10)},[]),L=R(t=>{if(m.current){const s=m.current.querySelector(`[data-slide-index="${t}"]`);s&&(m.current.scrollTo({left:s.offsetLeft,behavior:"smooth"}),i(t))}},[]),ae=R(()=>{if(!m.current)return;const t=m.current,s=t.querySelector(".ts-preview");if(!s)return;let d=-s.scrollWidth;Math.abs(t.scrollLeft)<=10&&(d=t.scrollWidth-t.clientWidth-t.scrollLeft),t.scrollBy({left:J()?-d:d,behavior:"smooth"});const b=o>0?o-1:u.length-1;i(b)},[o,u.length]),ie=R(()=>{if(!m.current)return;const t=m.current,s=t.querySelector(".ts-preview");if(!s)return;let d=s.scrollWidth;t.clientWidth+Math.abs(t.scrollLeft)+10>=t.scrollWidth&&(d=-t.scrollLeft),t.scrollBy({left:J()?-d:d,behavior:"smooth"});const b=o<u.length-1?o+1:0;i(b)},[o,u.length]);O(()=>{if(e.autoSlide&&S&&n==="frontend"){const t=e.autoSlideInterval||3e3;return t<=20?void 0:(f.current=setInterval(()=>{v||i(s=>{const d=s<u.length-1?s+1:0;return L(d),d})},t),()=>{f.current&&clearInterval(f.current)})}},[e.autoSlide,e.autoSlideInterval,S,u.length,n,L,v]),O(()=>{const t=m.current;if(!(!t||!S))return H(),t.addEventListener("scroll",H),()=>{t.removeEventListener("scroll",H)}},[S,H]);const M=(t,s)=>t?React.createElement("i",{className:t,"aria-hidden":"true"}):s,D=(t,s)=>{if(e.linkType==="custom_link"&&e.customLinkUrl)return{href:e.customLinkUrl,target:e.customLinkTarget||void 0};if(e.linkType==="lightbox"){const d={href:t.srcLightbox,"data-elementor-open-lightbox":"yes","data-elementor-lightbox-description":ye(t),onClick:b=>le(b,s)};return oe&&(d["data-elementor-lightbox-slideshow"]=c),d}return null};if(n==="editor"&&u.length===0)return React.createElement(ve,null);if(n==="frontend"&&u.length===0)return null;const te={images:u,visibleCount:e.visibleCount,displaySize:e.displaySize,lightboxSize:e.lightboxSize,linkType:e.linkType,customLinkUrl:e.customLinkUrl,customLinkTarget:e.customLinkTarget,showThumbnails:e.showThumbnails,autoSlide:e.autoSlide,autoSlideInterval:e.autoSlideInterval,rightChevronIcon:e.rightChevronIcon?.value||"",leftChevronIcon:e.leftChevronIcon?.value||"",galleryId:c,imageAspectRatio:e.imageAspectRatio,imageBorderRadius:e.imageBorderRadius,imageOpacity:e.imageOpacity,imageOpacityHover:e.imageOpacityHover,thumbnailSize:e.thumbnailSize,thumbnailBorderRadius:e.thumbnailBorderRadius,thumbnailOpacity:e.thumbnailOpacity,thumbnailOpacityHover:e.thumbnailOpacityHover};return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(te)}}),ne&&React.createElement("div",{className:"ts-preview ts-single-slide",style:N},(()=>{const t=u[0],s=D(t,0),d=React.createElement("img",{src:t.src,alt:t.alt,loading:"lazy",style:C});return s?React.createElement("a",{...s},d):d})()),S&&React.createElement("div",{ref:x,className:"ts-slider flexify",style:N,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1)},React.createElement("div",{ref:m,className:"post-feed-grid ts-feed-nowrap nav-type-dots","data-auto-slide":e.autoSlide?e.autoSlideInterval:0,style:{display:"flex",overflowX:"auto",scrollSnapType:"x mandatory",scrollBehavior:"smooth",gap:"0"}},u.map((t,s)=>{const d=D(t,s),b=React.createElement("img",{src:t.src,alt:t.alt,loading:"lazy",style:C});return React.createElement("div",{key:t.id,className:"ts-preview","data-slide-index":s,"data-id":`slide-${y}-${t.id}`,id:`ts-media-${t.id}`,style:{flex:"0 0 100%",scrollSnapAlign:"start"}},d?React.createElement("a",{...d},b):b)}))),e.showThumbnails&&S&&React.createElement("div",{className:"ts-slide-nav",style:{display:"flex",gap:"8px",marginTop:"12px"}},u.map((t,s)=>React.createElement("a",{key:t.id,href:"#",onClick:d=>{d.preventDefault(),L(s)},style:{...$,display:"block",overflow:"hidden",opacity:o===s?1:$.opacity||.6,border:o===s?"2px solid var(--vx-primary-color, #3b82f6)":"none"}},React.createElement("img",{src:t.srcThumbnail,alt:t.alt,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}})))),S&&React.createElement("ul",{className:"simplify-ul flexify post-feed-nav"},React.createElement("li",null,React.createElement("a",{href:"#",className:`ts-icon-btn ts-prev-page${g?"":" disabled"}`,"aria-label":a("Previous","voxel-fse"),onClick:t=>{t.preventDefault(),ae()}},M(e.leftChevronIcon?.value,G.chevronLeft))),React.createElement("li",null,React.createElement("a",{href:"#",className:`ts-icon-btn ts-next-page${B?"":" disabled"}`,"aria-label":a("Next","voxel-fse"),onClick:t=>{t.preventDefault(),ie()}},M(e.rightChevronIcon?.value,G.chevronRight)))))}function ee(e,n){const r=[],c=[],l=[],o=`.voxel-fse-slider-${n}`;if(e.imageAspectRatio&&r.push(`${o} .ts-preview img { aspect-ratio: ${e.imageAspectRatio}; }`),e.imageAspectRatio_tablet&&c.push(`${o} .ts-preview img { aspect-ratio: ${e.imageAspectRatio_tablet}; }`),e.imageAspectRatio_mobile&&l.push(`${o} .ts-preview img { aspect-ratio: ${e.imageAspectRatio_mobile}; }`),e.imageBorderRadius!==void 0&&r.push(`${o} .ts-slider, ${o} .ts-single-slide { border-radius: ${e.imageBorderRadius}px; }`),e.imageBorderRadius_tablet!==void 0&&c.push(`${o} .ts-slider, ${o} .ts-single-slide { border-radius: ${e.imageBorderRadius_tablet}px; }`),e.imageBorderRadius_mobile!==void 0&&l.push(`${o} .ts-slider, ${o} .ts-single-slide { border-radius: ${e.imageBorderRadius_mobile}px; }`),e.imageOpacity!==void 0&&r.push(`${o} { opacity: ${e.imageOpacity}; }`),e.imageOpacity_tablet!==void 0&&c.push(`${o} { opacity: ${e.imageOpacity_tablet}; }`),e.imageOpacity_mobile!==void 0&&l.push(`${o} { opacity: ${e.imageOpacity_mobile}; }`),e.imageOpacityHover!==void 0&&r.push(`${o}:hover { opacity: ${e.imageOpacityHover}; }`),e.imageOpacityHover_tablet!==void 0&&c.push(`${o}:hover { opacity: ${e.imageOpacityHover_tablet}; }`),e.imageOpacityHover_mobile!==void 0&&l.push(`${o}:hover { opacity: ${e.imageOpacityHover_mobile}; }`),e.thumbnailSize!==void 0&&r.push(`${o} .ts-slide-nav a { width: ${e.thumbnailSize}px; height: ${e.thumbnailSize}px; }`),e.thumbnailSize_tablet!==void 0&&c.push(`${o} .ts-slide-nav a { width: ${e.thumbnailSize_tablet}px; height: ${e.thumbnailSize_tablet}px; }`),e.thumbnailSize_mobile!==void 0&&l.push(`${o} .ts-slide-nav a { width: ${e.thumbnailSize_mobile}px; height: ${e.thumbnailSize_mobile}px; }`),e.thumbnailBorderRadius!==void 0&&r.push(`${o} .ts-slide-nav a { border-radius: ${e.thumbnailBorderRadius}px; }`),e.thumbnailBorderRadius_tablet!==void 0&&c.push(`${o} .ts-slide-nav a { border-radius: ${e.thumbnailBorderRadius_tablet}px; }`),e.thumbnailBorderRadius_mobile!==void 0&&l.push(`${o} .ts-slide-nav a { border-radius: ${e.thumbnailBorderRadius_mobile}px; }`),e.thumbnailOpacity!==void 0&&r.push(`${o} .ts-slide-nav a { opacity: ${e.thumbnailOpacity}; }`),e.thumbnailOpacity_tablet!==void 0&&c.push(`${o} .ts-slide-nav a { opacity: ${e.thumbnailOpacity_tablet}; }`),e.thumbnailOpacity_mobile!==void 0&&l.push(`${o} .ts-slide-nav a { opacity: ${e.thumbnailOpacity_mobile}; }`),e.thumbnailOpacityHover!==void 0&&r.push(`${o} .ts-slide-nav a:hover { opacity: ${e.thumbnailOpacityHover}; }`),e.thumbnailOpacityHover_tablet!==void 0&&c.push(`${o} .ts-slide-nav a:hover { opacity: ${e.thumbnailOpacityHover_tablet}; }`),e.thumbnailOpacityHover_mobile!==void 0&&l.push(`${o} .ts-slide-nav a:hover { opacity: ${e.thumbnailOpacityHover_mobile}; }`),e.navHorizontalPosition!==void 0&&r.push(`${o} .post-feed-nav li:last-child { margin-right: ${e.navHorizontalPosition}px; }`,`${o} .post-feed-nav li:first-child { margin-left: ${e.navHorizontalPosition}px; }`),e.navHorizontalPosition_tablet!==void 0&&c.push(`${o} .post-feed-nav li:last-child { margin-right: ${e.navHorizontalPosition_tablet}px; }`,`${o} .post-feed-nav li:first-child { margin-left: ${e.navHorizontalPosition_tablet}px; }`),e.navHorizontalPosition_mobile!==void 0&&l.push(`${o} .post-feed-nav li:last-child { margin-right: ${e.navHorizontalPosition_mobile}px; }`,`${o} .post-feed-nav li:first-child { margin-left: ${e.navHorizontalPosition_mobile}px; }`),e.navVerticalPosition!==void 0&&r.push(`${o} .post-feed-nav li { margin-top: ${e.navVerticalPosition}px; }`),e.navVerticalPosition_tablet!==void 0&&c.push(`${o} .post-feed-nav li { margin-top: ${e.navVerticalPosition_tablet}px; }`),e.navVerticalPosition_mobile!==void 0&&l.push(`${o} .post-feed-nav li { margin-top: ${e.navVerticalPosition_mobile}px; }`),e.navButtonIconColor&&r.push(`${o} .post-feed-nav .ts-icon-btn i { color: ${e.navButtonIconColor}; }`,`${o} .post-feed-nav .ts-icon-btn svg { fill: ${e.navButtonIconColor}; }`),e.navButtonSize!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn { width: ${e.navButtonSize}px; height: ${e.navButtonSize}px; }`),e.navButtonSize_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn { width: ${e.navButtonSize_tablet}px; height: ${e.navButtonSize_tablet}px; }`),e.navButtonSize_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn { width: ${e.navButtonSize_mobile}px; height: ${e.navButtonSize_mobile}px; }`),e.navButtonIconSize!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn i { font-size: ${e.navButtonIconSize}px; }`,`${o} .post-feed-nav .ts-icon-btn svg { width: ${e.navButtonIconSize}px; height: ${e.navButtonIconSize}px; }`),e.navButtonIconSize_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn i { font-size: ${e.navButtonIconSize_tablet}px; }`,`${o} .post-feed-nav .ts-icon-btn svg { width: ${e.navButtonIconSize_tablet}px; height: ${e.navButtonIconSize_tablet}px; }`),e.navButtonIconSize_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn i { font-size: ${e.navButtonIconSize_mobile}px; }`,`${o} .post-feed-nav .ts-icon-btn svg { width: ${e.navButtonIconSize_mobile}px; height: ${e.navButtonIconSize_mobile}px; }`),e.navButtonBackground&&r.push(`${o} .post-feed-nav .ts-icon-btn { background-color: ${e.navButtonBackground}; }`),e.navBackdropBlur!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.navBackdropBlur}px); }`),e.navBackdropBlur_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.navBackdropBlur_tablet}px); }`),e.navBackdropBlur_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.navBackdropBlur_mobile}px); }`),e.navBorderType&&e.navBorderType!=="none"){r.push(`${o} .post-feed-nav .ts-icon-btn { border-style: ${e.navBorderType}; }`),e.navBorderColor&&r.push(`${o} .post-feed-nav .ts-icon-btn { border-color: ${e.navBorderColor}; }`);const v=e.navBorderWidth!==void 0?`${e.navBorderWidth}px`:"1px";r.push(`${o} .post-feed-nav .ts-icon-btn { border-width: ${v}; }`)}e.navButtonBorderRadius!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn { border-radius: ${e.navButtonBorderRadius}px; }`),e.navButtonBorderRadius_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn { border-radius: ${e.navButtonBorderRadius_tablet}px; }`),e.navButtonBorderRadius_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn { border-radius: ${e.navButtonBorderRadius_mobile}px; }`),e.navButtonSizeHover!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn:hover { width: ${e.navButtonSizeHover}px; height: ${e.navButtonSizeHover}px; }`),e.navButtonSizeHover_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn:hover { width: ${e.navButtonSizeHover_tablet}px; height: ${e.navButtonSizeHover_tablet}px; }`),e.navButtonSizeHover_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn:hover { width: ${e.navButtonSizeHover_mobile}px; height: ${e.navButtonSizeHover_mobile}px; }`),e.navButtonIconSizeHover!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn:hover i { font-size: ${e.navButtonIconSizeHover}px; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { width: ${e.navButtonIconSizeHover}px; height: ${e.navButtonIconSizeHover}px; }`),e.navButtonIconSizeHover_tablet!==void 0&&c.push(`${o} .post-feed-nav .ts-icon-btn:hover i { font-size: ${e.navButtonIconSizeHover_tablet}px; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { width: ${e.navButtonIconSizeHover_tablet}px; height: ${e.navButtonIconSizeHover_tablet}px; }`),e.navButtonIconSizeHover_mobile!==void 0&&l.push(`${o} .post-feed-nav .ts-icon-btn:hover i { font-size: ${e.navButtonIconSizeHover_mobile}px; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { width: ${e.navButtonIconSizeHover_mobile}px; height: ${e.navButtonIconSizeHover_mobile}px; }`),e.navButtonIconColorHover&&r.push(`${o} .post-feed-nav .ts-icon-btn:hover i { color: ${e.navButtonIconColorHover}; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { fill: ${e.navButtonIconColorHover}; }`),e.navButtonBackgroundHover&&r.push(`${o} .post-feed-nav .ts-icon-btn:hover { background-color: ${e.navButtonBackgroundHover}; }`),e.navBorderColorHover&&r.push(`${o} .post-feed-nav .ts-icon-btn:hover { border-color: ${e.navBorderColorHover}; }`);let i="";return r.length>0&&(i+=r.join(`
`)),c.length>0&&(i+=`
@media (max-width: 1024px) {
${c.join(`
`)}
}`),l.length>0&&(i+=`
@media (max-width: 767px) {
${l.join(`
`)}
}`),i}function Be(e,n,r,c){const l=e.filter((i,v,p)=>p.findIndex(g=>g.id===i.id)===v);return(c>0?l.slice(0,c):l).map(i=>{let v=i.url;i.sizes&&i.sizes[n]&&(v=i.sizes[n]?.url||i.url);let p=i.url;i.sizes&&i.sizes[r]&&(p=i.sizes[r]?.url||i.url);let g=i.url;return i.sizes&&i.sizes.thumbnail&&(g=i.sizes.thumbnail.url),{id:i.id,src:v,srcLightbox:p,srcThumbnail:g,alt:i.alt||"",caption:i.caption||"",description:i.description||"",title:i.title||""}})}function be({attributes:e,setAttributes:n,clientId:r}){const c=e.blockId||r;O(()=>{e.blockId||n({blockId:r})},[e.blockId,r,n]),O(()=>{const m="voxel-gallery-css";if(!document.getElementById(m)){const x=document.createElement("link");x.id=m,x.rel="stylesheet";const y=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");x.href=`${y}/wp-content/themes/voxel/assets/dist/gallery.css?ver=1.7.5.2`,document.head.appendChild(x)}},[]);const l=A(e,{blockId:c,baseClass:"voxel-fse-slider"}),o=T(()=>ee(e,c),[e,c]),i=T(()=>[l.responsiveCSS,o].filter(Boolean).join(`
`),[l.responsiveCSS,o]),v=Y({id:l.elementId,className:l.className,style:l.styles,...l.customAttrs}),p=`slider-${e.blockId||r}`,g=Be(e.images||[],e.displaySize,e.lightboxSize,e.visibleCount),I=R(m=>{const x=m.map(f=>({id:f.id,url:f.url,alt:f.alt||"",caption:f.caption||"",description:f.description||"",title:f.title||"",sizes:f.sizes}));n({images:x})},[n]),B=k(null),w=R(()=>{if(B.current){B.current.open();return}B.current=wp.media({title:a("Select Images for Slider","voxel-fse"),button:{text:a("Add to Slider","voxel-fse")},multiple:"add",library:{type:"image"}}),B.current.on("select",()=>{const m=B.current?.state().get("selection");if(m){const x=m.map(f=>{const y=f.toJSON();return{id:y.id,url:y.url,alt:y.alt||"",caption:y.caption||"",description:y.description||"",title:y.title||"",sizes:y.sizes}});I(x)}}),B.current.open()},[I]);return React.createElement("div",{...v},i&&React.createElement("style",{dangerouslySetInnerHTML:{__html:i}}),React.createElement(ce,null,React.createElement(de,{tabs:[{id:"content",label:a("Content","voxel-fse"),icon:"",render:()=>React.createElement(he,{attributes:e,setAttributes:n})},{id:"style",label:a("Style","voxel-fse"),icon:"",render:()=>React.createElement(ge,{attributes:e,setAttributes:n})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:n})),React.createElement(xe,{attributes:e,context:"editor",processedImages:g,galleryId:p,onOpenMediaLibrary:w}))}function K(e){return!e||!e.value?"":e.value}function Se(e,n,r,c){const l=e.filter((i,v,p)=>p.findIndex(g=>g.id===i.id)===v);return(c>0?l.slice(0,c):l).map(i=>{let v=i.url;i.sizes&&i.sizes[n]&&(v=i.sizes[n]?.url||i.url);let p=i.url;i.sizes&&i.sizes[r]&&(p=i.sizes[r]?.url||i.url);let g=i.url;return i.sizes&&i.sizes.thumbnail&&(g=i.sizes.thumbnail.url),{id:i.id,src:v,srcLightbox:p,srcThumbnail:g,alt:i.alt||"",caption:i.caption||"",description:i.description||"",title:i.title||""}})}function Re({attributes:e}){const n=e.blockId||"slider",r=A(e,{blockId:n,baseClass:"voxel-fse-slider"}),c=ee(e,n),l=[r.responsiveCSS,c].filter(Boolean).join(`
`),o=Y.save({id:r.elementId,className:r.className,style:r.styles,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...r.customAttrs}),i=Se(e.images,e.displaySize,e.lightboxSize,e.visibleCount),v=`slider-${e.blockId||"default"}`,p={images:i,visibleCount:e.visibleCount,displaySize:e.displaySize,lightboxSize:e.lightboxSize,linkType:e.linkType,customLinkUrl:e.customLinkUrl,customLinkTarget:e.customLinkTarget,showThumbnails:e.showThumbnails,autoSlide:e.autoSlide,autoSlideInterval:e.autoSlideInterval,rightChevronIcon:K(e.rightChevronIcon),leftChevronIcon:K(e.leftChevronIcon),galleryId:v,imageAspectRatio:e.imageAspectRatio,imageBorderRadius:e.imageBorderRadius,imageOpacity:e.imageOpacity,imageOpacityHover:e.imageOpacityHover,thumbnailSize:e.thumbnailSize,thumbnailBorderRadius:e.thumbnailBorderRadius,thumbnailOpacity:e.thumbnailOpacity,thumbnailOpacityHover:e.thumbnailOpacityHover};return React.createElement("div",{...o},l&&React.createElement("style",{dangerouslySetInnerHTML:{__html:l}}),pe(e,!1,void 0,void 0,r.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(p)}}),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",padding:"40px 16px",minHeight:"200px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.3}},React.createElement("path",{d:"M2 6h4v12H2V6zm6-2h8v16H8V4zm10 2h4v12h-4V6z"}))))}const $e="https://schemas.wp.org/trunk/block.json",ze=3,_e="voxel-fse/slider",Ie="1.0.0",Ce="Slider (VX)",He="voxel-fse",Ee="Display product images in a slider with thumbnails and lightbox support. Syncs with product variations.",ke=["slider","carousel","gallery","images","product","voxel"],Te="voxel-fse",Oe={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},we="file:./index.js",Ne="file:./frontend.js",Le="file:./render.php",Pe={blockId:{type:"string",default:""},images:{type:"array",default:[],items:{type:"object"}},imageSource:{type:"string",default:"manual",enum:["manual","dynamic"]},dynamicSource:{type:"string",default:""},visibleCount:{type:"number",default:3},displaySize:{type:"string",default:"medium"},displaySize_tablet:{type:"string"},displaySize_mobile:{type:"string"},lightboxSize:{type:"string",default:"large"},lightboxSize_tablet:{type:"string"},lightboxSize_mobile:{type:"string"},linkType:{type:"string",default:"lightbox",enum:["none","custom_link","lightbox"]},customLinkUrl:{type:"string",default:""},customLinkTarget:{type:"string",default:""},showThumbnails:{type:"boolean",default:!0},autoSlide:{type:"boolean",default:!1},autoSlideInterval:{type:"number",default:3e3},autoSlideInterval_tablet:{type:"number"},autoSlideInterval_mobile:{type:"number"},rightChevronIcon:{type:"object",default:{library:"",value:""}},leftChevronIcon:{type:"object",default:{library:"",value:""}},imageAspectRatio:{type:"string",default:""},imageAspectRatio_tablet:{type:"string"},imageAspectRatio_mobile:{type:"string"},imageBorderRadius:{type:"number"},imageBorderRadius_tablet:{type:"number"},imageBorderRadius_mobile:{type:"number"},imageOpacity:{type:"number"},imageOpacity_tablet:{type:"number"},imageOpacity_mobile:{type:"number"},imageOpacityHover:{type:"number"},imageOpacityHover_tablet:{type:"number"},imageOpacityHover_mobile:{type:"number"},thumbnailSize:{type:"number"},thumbnailSize_tablet:{type:"number"},thumbnailSize_mobile:{type:"number"},thumbnailBorderRadius:{type:"number"},thumbnailBorderRadius_tablet:{type:"number"},thumbnailBorderRadius_mobile:{type:"number"},thumbnailOpacity:{type:"number"},thumbnailOpacity_tablet:{type:"number"},thumbnailOpacity_mobile:{type:"number"},thumbnailOpacityHover:{type:"number"},thumbnailOpacityHover_tablet:{type:"number"},thumbnailOpacityHover_mobile:{type:"number"},navHorizontalPosition:{type:"number"},navHorizontalPosition_tablet:{type:"number"},navHorizontalPosition_mobile:{type:"number"},navVerticalPosition:{type:"number"},navVerticalPosition_tablet:{type:"number"},navVerticalPosition_mobile:{type:"number"},navButtonIconColor:{type:"string",default:""},navButtonSize:{type:"number"},navButtonSize_tablet:{type:"number"},navButtonSize_mobile:{type:"number"},navButtonIconSize:{type:"number"},navButtonIconSize_tablet:{type:"number"},navButtonIconSize_mobile:{type:"number"},navButtonBackground:{type:"string",default:""},navBackdropBlur:{type:"number"},navBackdropBlur_tablet:{type:"number"},navBackdropBlur_mobile:{type:"number"},navBorderType:{type:"string",default:""},navBorderWidth:{type:"number"},navBorderColor:{type:"string",default:""},navButtonBorderRadius:{type:"number"},navButtonBorderRadius_tablet:{type:"number"},navButtonBorderRadius_mobile:{type:"number"},navButtonSizeHover:{type:"number"},navButtonSizeHover_tablet:{type:"number"},navButtonSizeHover_mobile:{type:"number"},navButtonIconSizeHover:{type:"number"},navButtonIconSizeHover_tablet:{type:"number"},navButtonIconSizeHover_mobile:{type:"number"},navButtonIconColorHover:{type:"string",default:""},navButtonBackgroundHover:{type:"string",default:""},navBorderColorHover:{type:"string",default:""},hideDesktop:{type:"boolean",default:!1},hideTablet:{type:"boolean",default:!1},hideMobile:{type:"boolean",default:!1},customClasses:{type:"string",default:""},sliderAccordion:{type:"string"},contentTabOpenPanel:{type:"string",default:"images"},styleTabOpenPanel:{type:"string",default:"style-general"},generalImageState:{type:"string",default:"normal"},thumbnailState:{type:"string",default:"normal"},navState:{type:"string",default:"normal"},imagesDynamicTag:{type:"string"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},X={$schema:$e,apiVersion:ze,name:_e,version:Ie,title:Ce,category:He,description:Ee,keywords:ke,textdomain:Te,supports:Oe,editorScript:we,viewScript:Ne,render:Le,attributes:Pe},Ve=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},React.createElement("path",{d:"M2 6h4v12H2V6zm6-2h8v16H8V4zm10 2h4v12h-4V6z"}));re(X.name,{...X,icon:Ve,edit:be,save:Re});
