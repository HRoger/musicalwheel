import{registerBlockType as A}from"@wordpress/blocks";import{useBlockProps as W,InspectorControls as ee}from"@wordpress/block-editor";import{__ as i}from"@wordpress/i18n";import{useState as k,useRef as H,useCallback as R,useEffect as O,useMemo as P}from"react";import{A as G,a as _,r as L,R as v,b as E,d as oe,C as S}from"../TypographyPopup-BXz72zyZ.js";import{I as ne}from"../InspectorTabs-DmdaThza.js";import{TextControl as V,SelectControl as q,ToggleControl as j}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-BJok1GGr.js";import{A as M}from"../AdvancedIconControl-BPdxcRLY.js";import{G as le}from"../GalleryUploadControl-BiHnGe6_.js";import{R as D}from"../ResponsiveSelectControl-C3rlOT6O.js";import{E as ae}from"../EmptyPlaceholder-CZuftqhV.js";import{V as C}from"../voxelIcons-DHmdKhqs.js";import"../voxelShim-DB_Ue-9R.js";import{r as ie}from"../backgroundElements-Ui-iCrLV.js";import{g as J}from"../useAdvancedTabProps-BnJDQbKr.js";import"react-dom";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";const te=[{label:i("None","voxel-fse"),value:"none"},{label:i("Custom URL","voxel-fse"),value:"custom_link"},{label:i("Lightbox","voxel-fse"),value:"lightbox"}];function re({attributes:e,setAttributes:l}){const t=n=>n.map(o=>({id:o.id,url:o.url,alt:o.alt||"",sizes:o.sizes})),r=n=>n.map(o=>({id:o.id||0,url:o.url||"",alt:o.alt||"",caption:"",description:"",title:"",sizes:o.sizes}));return React.createElement(G,{attributes:e,setAttributes:l,stateAttribute:"contentTabOpenPanel",defaultPanel:"images"},React.createElement(_,{id:"images",title:i("Images","voxel-fse")},React.createElement(le,{label:i("Add Images","voxel-fse"),value:t(e.images||[]),onChange:n=>l({images:r(n)}),enableDynamicTags:!0,dynamicTagValue:e.imagesDynamicTag,onDynamicTagChange:n=>l({imagesDynamicTag:n}),dynamicTagContext:"post"}),React.createElement(V,{type:"number",label:i("Number of images to load","voxel-fse"),value:String(e.visibleCount||3),onChange:n=>l({visibleCount:parseInt(n,10)||3}),min:1,max:50}),React.createElement(D,{label:i("Image size","voxel-fse"),value:e.displaySize,valueTablet:e.displaySize_tablet,valueMobile:e.displaySize_mobile,onChange:n=>l({displaySize:n}),onChangeTablet:n=>l({displaySize_tablet:n}),onChangeMobile:n=>l({displaySize_mobile:n}),options:L,controlKey:"slider-image-size"}),React.createElement(D,{label:i("Image size (Lightbox)","voxel-fse"),value:e.lightboxSize,valueTablet:e.lightboxSize_tablet,valueMobile:e.lightboxSize_mobile,onChange:n=>l({lightboxSize:n}),onChangeTablet:n=>l({lightboxSize_tablet:n}),onChangeMobile:n=>l({lightboxSize_mobile:n}),options:L,controlKey:"slider-lightbox-size"}),React.createElement(q,{label:i("Link","voxel-fse"),value:e.linkType,options:te,onChange:n=>l({linkType:n}),__nextHasNoMarginBottom:!0}),e.linkType==="custom_link"&&React.createElement(V,{label:i("Custom URL","voxel-fse"),value:e.customLinkUrl||"",onChange:n=>l({customLinkUrl:n}),placeholder:"https://your-link.com"}),React.createElement(j,{label:i("Show thumbnails?","voxel-fse"),checked:e.showThumbnails,onChange:n=>l({showThumbnails:n}),__nextHasNoMarginBottom:!0}),React.createElement(j,{label:i("Auto slide?","voxel-fse"),checked:e.autoSlide,onChange:n=>l({autoSlide:n}),__nextHasNoMarginBottom:!0}),e.autoSlide&&React.createElement(v,{label:i("Auto slide interval (ms)","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"autoSlideInterval",min:500,max:1e4,step:100})),React.createElement(_,{id:"icons",title:i("Icons","voxel-fse")},React.createElement(M,{label:i("Right chevron","voxel-fse"),value:e.rightChevronIcon,onChange:n=>l({rightChevronIcon:n}),supportsDynamicTags:!0,dynamicTagContext:"post"}),React.createElement(M,{label:i("Left chevron","voxel-fse"),value:e.leftChevronIcon,onChange:n=>l({leftChevronIcon:n}),supportsDynamicTags:!0,dynamicTagContext:"post"})))}const ce=[{label:i("Default","voxel-fse"),value:""},{label:i("None","voxel-fse"),value:"none"},{label:i("Solid","voxel-fse"),value:"solid"},{label:i("Double","voxel-fse"),value:"double"},{label:i("Dotted","voxel-fse"),value:"dotted"},{label:i("Dashed","voxel-fse"),value:"dashed"},{label:i("Groove","voxel-fse"),value:"groove"}];function se({attributes:e,setAttributes:l}){return React.createElement(G,{attributes:e,setAttributes:l,stateAttribute:"styleTabOpenPanel",defaultPanel:"style-general"},React.createElement(_,{id:"style-general",title:i("General","voxel-fse")},React.createElement(E,{attributeName:"generalImageState",attributes:e,setAttributes:l,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")}]},t=>t.name==="normal"?React.createElement(React.Fragment,null,React.createElement(oe,{label:i("Image aspect ratio","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"imageAspectRatio",min:0,max:100}),React.createElement(v,{label:i("Border radius","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"imageBorderRadius",min:0,max:100}),React.createElement(v,{label:i("Opacity","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"imageOpacity",min:0,max:1,step:.05})):React.createElement(React.Fragment,null,React.createElement(v,{label:i("Opacity","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"imageOpacityHover",min:0,max:1,step:.05})))),React.createElement(_,{id:"thumbnails",title:i("Thumbnails","voxel-fse")},React.createElement(E,{attributeName:"thumbnailState",attributes:e,setAttributes:l,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")}]},t=>t.name==="normal"?React.createElement(React.Fragment,null,React.createElement(v,{label:i("Size","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"thumbnailSize",min:20,max:200}),React.createElement(v,{label:i("Border radius","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"thumbnailBorderRadius",min:0,max:100}),React.createElement(v,{label:i("Opacity","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"thumbnailOpacity",min:0,max:1,step:.05})):React.createElement(React.Fragment,null,React.createElement(v,{label:i("Opacity","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"thumbnailOpacityHover",min:0,max:1,step:.05})))),React.createElement(_,{id:"carousel-navigation",title:i("Carousel navigation","voxel-fse")},React.createElement(E,{attributeName:"navState",attributes:e,setAttributes:l,tabs:[{name:"normal",title:i("Normal","voxel-fse")},{name:"hover",title:i("Hover","voxel-fse")}]},t=>t.name==="normal"?React.createElement(React.Fragment,null,React.createElement(v,{label:i("Horizontal position","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"navHorizontalPosition",min:-100,max:100}),React.createElement(v,{label:i("Vertical position","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"navVerticalPosition",min:-500,max:500}),React.createElement(S,{label:i("Button icon color","voxel-fse"),value:e.navButtonIconColor,onChange:r=>l({navButtonIconColor:r})}),React.createElement(v,{label:i("Button size","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"navButtonSize",min:0,max:100}),React.createElement(v,{label:i("Button icon size","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"navButtonIconSize",min:0,max:100}),React.createElement(S,{label:i("Button background","voxel-fse"),value:e.navButtonBackground,onChange:r=>l({navButtonBackground:r})}),React.createElement(v,{label:i("Backdrop blur","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"navBackdropBlur",min:0,max:10}),React.createElement(q,{label:i("Border Type","voxel-fse"),value:e.navBorderType,options:ce,onChange:r=>l({navBorderType:r}),__nextHasNoMarginBottom:!0}),e.navBorderType&&e.navBorderType!=="none"&&React.createElement(S,{label:i("Border color","voxel-fse"),value:e.navBorderColor,onChange:r=>l({navBorderColor:r})}),React.createElement(v,{label:i("Button border radius","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"navButtonBorderRadius",min:0,max:100})):React.createElement(React.Fragment,null,React.createElement(v,{label:i("Button size","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"navButtonSizeHover",min:0,max:100}),React.createElement(v,{label:i("Button icon size","voxel-fse"),attributes:e,setAttributes:l,attributeBaseName:"navButtonIconSizeHover",min:0,max:100}),React.createElement(S,{label:i("Button icon color","voxel-fse"),value:e.navButtonIconColorHover,onChange:r=>l({navButtonIconColorHover:r})}),React.createElement(S,{label:i("Button background color","voxel-fse"),value:e.navButtonBackgroundHover,onChange:r=>l({navButtonBackgroundHover:r})}),React.createElement(S,{label:i("Button border color","voxel-fse"),value:e.navBorderColorHover,onChange:r=>l({navBorderColorHover:r})})))))}function de({images:e,currentIndex:l,onClose:t,onPrev:r,onNext:n}){const o=e[l];return O(()=>{const a=d=>{d.key==="Escape"&&t(),d.key==="ArrowLeft"&&r(),d.key==="ArrowRight"&&n()};return document.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",a),document.body.style.overflow=""}},[t,r,n]),o?React.createElement("div",{className:"voxel-fse-lightbox",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",zIndex:999999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:t},React.createElement("button",{onClick:t,style:{position:"absolute",top:"20px",right:"20px",background:"none",border:"none",color:"#fff",fontSize:"32px",cursor:"pointer",zIndex:10},"aria-label":i("Close","voxel-fse")},"×"),React.createElement("img",{src:o.srcLightbox,alt:o.alt,style:{maxWidth:"90%",maxHeight:"90vh",objectFit:"contain"},onClick:a=>a.stopPropagation()}),e.length>1&&React.createElement(React.Fragment,null,React.createElement("button",{onClick:a=>{a.stopPropagation(),r()},style:{position:"absolute",left:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.2)",border:"none",color:"#fff",width:"48px",height:"48px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":i("Previous","voxel-fse")},C.chevronLeft),React.createElement("button",{onClick:a=>{a.stopPropagation(),n()},style:{position:"absolute",right:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.2)",border:"none",color:"#fff",width:"48px",height:"48px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":i("Next","voxel-fse")},C.chevronRight)),o.caption&&React.createElement("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",color:"#fff",textAlign:"center",padding:"10px 20px",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"4px",maxWidth:"80%"}},o.caption),React.createElement("div",{style:{position:"absolute",top:"20px",left:"20px",color:"#fff",fontSize:"14px"}},l+1," / ",e.length)):null}function pe({attributes:e,context:l,processedImages:t=[],galleryId:r="slider-default",onOpenMediaLibrary:n}){const[o,a]=k(0),[d,m]=k(!1),[u,b]=k(0),g=H(null),z=H(null),s=t,$=s.length===1,h=s.length>1,f={},I={};e.imageAspectRatio&&(I.aspectRatio=e.imageAspectRatio),e.imageBorderRadius!==void 0&&(f.borderRadius=`${e.imageBorderRadius}px`),e.imageOpacity!==void 0&&(I.opacity=e.imageOpacity);const B={};e.thumbnailSize!==void 0&&(B.width=`${e.thumbnailSize}px`,B.height=`${e.thumbnailSize}px`),e.thumbnailBorderRadius!==void 0&&(B.borderRadius=`${e.thumbnailBorderRadius}px`),e.thumbnailOpacity!==void 0&&(B.opacity=e.thumbnailOpacity);const x=R(c=>{if(g.current){const p=g.current.querySelector(`[data-slide-index="${c}"]`);p&&(p.scrollIntoView({behavior:"smooth",inline:"start",block:"nearest"}),a(c))}},[]),X=R(()=>{const c=o>0?o-1:s.length-1;x(c)},[o,s.length,x]),Y=R(()=>{const c=o<s.length-1?o+1:0;x(c)},[o,s.length,x]),Z=R(c=>{e.linkType==="lightbox"&&(b(c),m(!0))},[e.linkType]);O(()=>{if(e.autoSlide&&h&&l==="frontend")return z.current=setInterval(()=>{a(c=>{const p=c<s.length-1?c+1:0;return x(p),p})},e.autoSlideInterval),()=>{z.current&&clearInterval(z.current)}},[e.autoSlide,e.autoSlideInterval,h,s.length,l,x]);const T=(c,p)=>c?React.createElement("i",{className:c,"aria-hidden":"true"}):p,w=(c,p)=>e.linkType==="custom_link"&&e.customLinkUrl?{href:e.customLinkUrl,target:e.customLinkTarget||void 0}:e.linkType==="lightbox"?{href:c.srcLightbox,onClick:y=>{y.preventDefault(),Z(p)},"data-lightbox-gallery":r}:null;if(l==="editor"&&s.length===0)return React.createElement(ae,null);if(l==="frontend"&&s.length===0)return null;const Q={images:s,visibleCount:e.visibleCount,displaySize:e.displaySize,lightboxSize:e.lightboxSize,linkType:e.linkType,customLinkUrl:e.customLinkUrl,customLinkTarget:e.customLinkTarget,showThumbnails:e.showThumbnails,autoSlide:e.autoSlide,autoSlideInterval:e.autoSlideInterval,rightChevronIcon:e.rightChevronIcon?.value||"",leftChevronIcon:e.leftChevronIcon?.value||"",galleryId:r,imageAspectRatio:e.imageAspectRatio,imageBorderRadius:e.imageBorderRadius,imageOpacity:e.imageOpacity,imageOpacityHover:e.imageOpacityHover,thumbnailSize:e.thumbnailSize,thumbnailBorderRadius:e.thumbnailBorderRadius,thumbnailOpacity:e.thumbnailOpacity,thumbnailOpacityHover:e.thumbnailOpacityHover};return React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(Q)}}),$&&React.createElement("div",{className:"ts-preview ts-single-slide",style:f},(()=>{const c=s[0],p=w(c,0),y=React.createElement("img",{src:c.src,alt:c.alt,loading:"lazy",style:I});return p?React.createElement("a",{...p},y):y})()),h&&React.createElement("div",{className:"ts-slider flexify",style:f},React.createElement("div",{ref:g,className:"post-feed-grid ts-feed-nowrap nav-type-dots","data-auto-slide":e.autoSlide?e.autoSlideInterval:0,style:{display:"flex",overflowX:"auto",scrollSnapType:"x mandatory",scrollBehavior:"smooth",gap:"0"}},s.map((c,p)=>{const y=w(c,p),N=React.createElement("img",{src:c.src,alt:c.alt,loading:"lazy",style:I});return React.createElement("div",{key:c.id,className:"ts-preview","data-slide-index":p,id:`ts-media-${c.id}`,style:{flex:"0 0 100%",scrollSnapAlign:"start"}},y?React.createElement("a",{...y},N):N)}))),e.showThumbnails&&h&&React.createElement("div",{className:"ts-slide-nav",style:{display:"flex",gap:"8px",marginTop:"12px"}},s.map((c,p)=>React.createElement("a",{key:c.id,href:"#",onClick:y=>{y.preventDefault(),x(p)},style:{...B,display:"block",overflow:"hidden",opacity:o===p?1:B.opacity||.6,border:o===p?"2px solid var(--vx-primary-color, #3b82f6)":"none"}},React.createElement("img",{src:c.srcThumbnail,alt:c.alt,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}})))),h&&React.createElement("ul",{className:"simplify-ul flexify post-feed-nav"},React.createElement("li",null,React.createElement("a",{href:"#",className:"ts-icon-btn ts-prev-page","aria-label":i("Previous","voxel-fse"),onClick:c=>{c.preventDefault(),X()}},T(e.leftChevronIcon?.value,C.chevronLeft))),React.createElement("li",null,React.createElement("a",{href:"#",className:"ts-icon-btn ts-next-page","aria-label":i("Next","voxel-fse"),onClick:c=>{c.preventDefault(),Y()}},T(e.rightChevronIcon?.value,C.chevronRight)))),d&&React.createElement(de,{images:s,currentIndex:u,onClose:()=>m(!1),onPrev:()=>b(c=>c>0?c-1:s.length-1),onNext:()=>b(c=>c<s.length-1?c+1:0),galleryId:r}))}function K(e,l){const t=[],r=[],n=[],o=`.voxel-fse-slider-${l}`;if(e.imageAspectRatio&&t.push(`${o} .ts-preview img { aspect-ratio: ${e.imageAspectRatio}; }`),e.imageAspectRatio_tablet&&r.push(`${o} .ts-preview img { aspect-ratio: ${e.imageAspectRatio_tablet}; }`),e.imageAspectRatio_mobile&&n.push(`${o} .ts-preview img { aspect-ratio: ${e.imageAspectRatio_mobile}; }`),e.imageBorderRadius!==void 0&&t.push(`${o} .ts-slider, ${o} .ts-single-slide { border-radius: ${e.imageBorderRadius}px; }`),e.imageBorderRadius_tablet!==void 0&&r.push(`${o} .ts-slider, ${o} .ts-single-slide { border-radius: ${e.imageBorderRadius_tablet}px; }`),e.imageBorderRadius_mobile!==void 0&&n.push(`${o} .ts-slider, ${o} .ts-single-slide { border-radius: ${e.imageBorderRadius_mobile}px; }`),e.imageOpacity!==void 0&&t.push(`${o} { opacity: ${e.imageOpacity}; }`),e.imageOpacity_tablet!==void 0&&r.push(`${o} { opacity: ${e.imageOpacity_tablet}; }`),e.imageOpacity_mobile!==void 0&&n.push(`${o} { opacity: ${e.imageOpacity_mobile}; }`),e.imageOpacityHover!==void 0&&t.push(`${o}:hover { opacity: ${e.imageOpacityHover}; }`),e.imageOpacityHover_tablet!==void 0&&r.push(`${o}:hover { opacity: ${e.imageOpacityHover_tablet}; }`),e.imageOpacityHover_mobile!==void 0&&n.push(`${o}:hover { opacity: ${e.imageOpacityHover_mobile}; }`),e.thumbnailSize!==void 0&&t.push(`${o} .ts-slide-nav a { width: ${e.thumbnailSize}px; height: ${e.thumbnailSize}px; }`),e.thumbnailSize_tablet!==void 0&&r.push(`${o} .ts-slide-nav a { width: ${e.thumbnailSize_tablet}px; height: ${e.thumbnailSize_tablet}px; }`),e.thumbnailSize_mobile!==void 0&&n.push(`${o} .ts-slide-nav a { width: ${e.thumbnailSize_mobile}px; height: ${e.thumbnailSize_mobile}px; }`),e.thumbnailBorderRadius!==void 0&&t.push(`${o} .ts-slide-nav a { border-radius: ${e.thumbnailBorderRadius}px; }`),e.thumbnailBorderRadius_tablet!==void 0&&r.push(`${o} .ts-slide-nav a { border-radius: ${e.thumbnailBorderRadius_tablet}px; }`),e.thumbnailBorderRadius_mobile!==void 0&&n.push(`${o} .ts-slide-nav a { border-radius: ${e.thumbnailBorderRadius_mobile}px; }`),e.thumbnailOpacity!==void 0&&t.push(`${o} .ts-slide-nav a { opacity: ${e.thumbnailOpacity}; }`),e.thumbnailOpacity_tablet!==void 0&&r.push(`${o} .ts-slide-nav a { opacity: ${e.thumbnailOpacity_tablet}; }`),e.thumbnailOpacity_mobile!==void 0&&n.push(`${o} .ts-slide-nav a { opacity: ${e.thumbnailOpacity_mobile}; }`),e.thumbnailOpacityHover!==void 0&&t.push(`${o} .ts-slide-nav a:hover { opacity: ${e.thumbnailOpacityHover}; }`),e.thumbnailOpacityHover_tablet!==void 0&&r.push(`${o} .ts-slide-nav a:hover { opacity: ${e.thumbnailOpacityHover_tablet}; }`),e.thumbnailOpacityHover_mobile!==void 0&&n.push(`${o} .ts-slide-nav a:hover { opacity: ${e.thumbnailOpacityHover_mobile}; }`),e.navHorizontalPosition!==void 0&&t.push(`${o} .post-feed-nav li:last-child { margin-right: ${e.navHorizontalPosition}px; }`,`${o} .post-feed-nav li:first-child { margin-left: ${e.navHorizontalPosition}px; }`),e.navHorizontalPosition_tablet!==void 0&&r.push(`${o} .post-feed-nav li:last-child { margin-right: ${e.navHorizontalPosition_tablet}px; }`,`${o} .post-feed-nav li:first-child { margin-left: ${e.navHorizontalPosition_tablet}px; }`),e.navHorizontalPosition_mobile!==void 0&&n.push(`${o} .post-feed-nav li:last-child { margin-right: ${e.navHorizontalPosition_mobile}px; }`,`${o} .post-feed-nav li:first-child { margin-left: ${e.navHorizontalPosition_mobile}px; }`),e.navVerticalPosition!==void 0&&t.push(`${o} .post-feed-nav li { margin-top: ${e.navVerticalPosition}px; }`),e.navVerticalPosition_tablet!==void 0&&r.push(`${o} .post-feed-nav li { margin-top: ${e.navVerticalPosition_tablet}px; }`),e.navVerticalPosition_mobile!==void 0&&n.push(`${o} .post-feed-nav li { margin-top: ${e.navVerticalPosition_mobile}px; }`),e.navButtonIconColor&&t.push(`${o} .post-feed-nav .ts-icon-btn i { color: ${e.navButtonIconColor}; }`,`${o} .post-feed-nav .ts-icon-btn svg { fill: ${e.navButtonIconColor}; }`),e.navButtonSize!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn { width: ${e.navButtonSize}px; height: ${e.navButtonSize}px; }`),e.navButtonSize_tablet!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn { width: ${e.navButtonSize_tablet}px; height: ${e.navButtonSize_tablet}px; }`),e.navButtonSize_mobile!==void 0&&n.push(`${o} .post-feed-nav .ts-icon-btn { width: ${e.navButtonSize_mobile}px; height: ${e.navButtonSize_mobile}px; }`),e.navButtonIconSize!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn i { font-size: ${e.navButtonIconSize}px; }`,`${o} .post-feed-nav .ts-icon-btn svg { width: ${e.navButtonIconSize}px; height: ${e.navButtonIconSize}px; }`),e.navButtonIconSize_tablet!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn i { font-size: ${e.navButtonIconSize_tablet}px; }`,`${o} .post-feed-nav .ts-icon-btn svg { width: ${e.navButtonIconSize_tablet}px; height: ${e.navButtonIconSize_tablet}px; }`),e.navButtonIconSize_mobile!==void 0&&n.push(`${o} .post-feed-nav .ts-icon-btn i { font-size: ${e.navButtonIconSize_mobile}px; }`,`${o} .post-feed-nav .ts-icon-btn svg { width: ${e.navButtonIconSize_mobile}px; height: ${e.navButtonIconSize_mobile}px; }`),e.navButtonBackground&&t.push(`${o} .post-feed-nav .ts-icon-btn { background-color: ${e.navButtonBackground}; }`),e.navBackdropBlur!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.navBackdropBlur}px); }`),e.navBackdropBlur_tablet!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.navBackdropBlur_tablet}px); }`),e.navBackdropBlur_mobile!==void 0&&n.push(`${o} .post-feed-nav .ts-icon-btn { backdrop-filter: blur(${e.navBackdropBlur_mobile}px); }`),e.navBorderType&&e.navBorderType!=="none"){t.push(`${o} .post-feed-nav .ts-icon-btn { border-style: ${e.navBorderType}; }`),e.navBorderColor&&t.push(`${o} .post-feed-nav .ts-icon-btn { border-color: ${e.navBorderColor}; }`);const d=e.navBorderWidth!==void 0?`${e.navBorderWidth}px`:"1px";t.push(`${o} .post-feed-nav .ts-icon-btn { border-width: ${d}; }`)}e.navButtonBorderRadius!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn { border-radius: ${e.navButtonBorderRadius}px; }`),e.navButtonBorderRadius_tablet!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn { border-radius: ${e.navButtonBorderRadius_tablet}px; }`),e.navButtonBorderRadius_mobile!==void 0&&n.push(`${o} .post-feed-nav .ts-icon-btn { border-radius: ${e.navButtonBorderRadius_mobile}px; }`),e.navButtonSizeHover!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover { width: ${e.navButtonSizeHover}px; height: ${e.navButtonSizeHover}px; }`),e.navButtonSizeHover_tablet!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn:hover { width: ${e.navButtonSizeHover_tablet}px; height: ${e.navButtonSizeHover_tablet}px; }`),e.navButtonSizeHover_mobile!==void 0&&n.push(`${o} .post-feed-nav .ts-icon-btn:hover { width: ${e.navButtonSizeHover_mobile}px; height: ${e.navButtonSizeHover_mobile}px; }`),e.navButtonIconSizeHover!==void 0&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover i { font-size: ${e.navButtonIconSizeHover}px; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { width: ${e.navButtonIconSizeHover}px; height: ${e.navButtonIconSizeHover}px; }`),e.navButtonIconSizeHover_tablet!==void 0&&r.push(`${o} .post-feed-nav .ts-icon-btn:hover i { font-size: ${e.navButtonIconSizeHover_tablet}px; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { width: ${e.navButtonIconSizeHover_tablet}px; height: ${e.navButtonIconSizeHover_tablet}px; }`),e.navButtonIconSizeHover_mobile!==void 0&&n.push(`${o} .post-feed-nav .ts-icon-btn:hover i { font-size: ${e.navButtonIconSizeHover_mobile}px; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { width: ${e.navButtonIconSizeHover_mobile}px; height: ${e.navButtonIconSizeHover_mobile}px; }`),e.navButtonIconColorHover&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover i { color: ${e.navButtonIconColorHover}; }`,`${o} .post-feed-nav .ts-icon-btn:hover svg { fill: ${e.navButtonIconColorHover}; }`),e.navButtonBackgroundHover&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover { background-color: ${e.navButtonBackgroundHover}; }`),e.navBorderColorHover&&t.push(`${o} .post-feed-nav .ts-icon-btn:hover { border-color: ${e.navBorderColorHover}; }`);let a="";return t.length>0&&(a+=t.join(`
`)),r.length>0&&(a+=`
@media (max-width: 1024px) {
${r.join(`
`)}
}`),n.length>0&&(a+=`
@media (max-width: 767px) {
${n.join(`
`)}
}`),a}function me(e,l,t,r){const n=e.filter((a,d,m)=>m.findIndex(u=>u.id===a.id)===d);return(r>0?n.slice(0,r):n).map(a=>{let d=a.url;a.sizes&&a.sizes[l]&&(d=a.sizes[l]?.url||a.url);let m=a.url;a.sizes&&a.sizes[t]&&(m=a.sizes[t]?.url||a.url);let u=a.url;return a.sizes&&a.sizes.thumbnail&&(u=a.sizes.thumbnail.url),{id:a.id,src:d,srcLightbox:m,srcThumbnail:u,alt:a.alt||"",caption:a.caption||"",description:a.description||"",title:a.title||""}})}function ve({attributes:e,setAttributes:l,clientId:t}){const r=e.blockId||t;O(()=>{e.blockId||l({blockId:t})},[e.blockId,t,l]);const n=J(e,{blockId:r,baseClass:"voxel-fse-slider"}),o=P(()=>K(e,r),[e,r]),a=P(()=>[n.responsiveCSS,o].filter(Boolean).join(`
`),[n.responsiveCSS,o]),d=W({id:n.elementId,className:n.className,style:n.styles,...n.customAttrs}),m=`slider-${e.blockId||t}`,u=me(e.images||[],e.displaySize,e.lightboxSize,e.visibleCount),b=R(s=>{const $=s.map(h=>({id:h.id,url:h.url,alt:h.alt||"",caption:h.caption||"",description:h.description||"",title:h.title||"",sizes:h.sizes}));l({images:$})},[l]),g=H(null),z=R(()=>{if(g.current){g.current.open();return}g.current=wp.media({title:i("Select Images for Slider","voxel-fse"),button:{text:i("Add to Slider","voxel-fse")},multiple:"add",library:{type:"image"}}),g.current.on("select",()=>{const s=g.current?.state().get("selection");if(s){const $=s.map(h=>{const f=h.toJSON();return{id:f.id,url:f.url,alt:f.alt||"",caption:f.caption||"",description:f.description||"",title:f.title||"",sizes:f.sizes}});b($)}}),g.current.open()},[b]);return React.createElement("div",{...d},a&&React.createElement("style",{dangerouslySetInnerHTML:{__html:a}}),React.createElement(ee,null,React.createElement(ne,{tabs:[{id:"content",label:i("Content","voxel-fse"),icon:"",render:()=>React.createElement(re,{attributes:e,setAttributes:l})},{id:"style",label:i("Style","voxel-fse"),icon:"",render:()=>React.createElement(se,{attributes:e,setAttributes:l})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:l})),React.createElement(pe,{attributes:e,context:"editor",processedImages:u,galleryId:m,onOpenMediaLibrary:z}))}function U(e){return!e||!e.value?"":e.value}function he(e,l,t,r){const n=e.filter((a,d,m)=>m.findIndex(u=>u.id===a.id)===d);return(r>0?n.slice(0,r):n).map(a=>{let d=a.url;a.sizes&&a.sizes[l]&&(d=a.sizes[l]?.url||a.url);let m=a.url;a.sizes&&a.sizes[t]&&(m=a.sizes[t]?.url||a.url);let u=a.url;return a.sizes&&a.sizes.thumbnail&&(u=a.sizes.thumbnail.url),{id:a.id,src:d,srcLightbox:m,srcThumbnail:u,alt:a.alt||"",caption:a.caption||"",description:a.description||"",title:a.title||""}})}function ue({attributes:e}){const l=e.blockId||"slider",t=J(e,{blockId:l,baseClass:"voxel-fse-slider"}),r=K(e,l),n=[t.responsiveCSS,r].filter(Boolean).join(`
`),o=W.save({id:t.elementId,className:t.className,style:t.styles,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...t.customAttrs}),a=he(e.images,e.displaySize,e.lightboxSize,e.visibleCount),d=`slider-${e.blockId||"default"}`,m={images:a,visibleCount:e.visibleCount,displaySize:e.displaySize,lightboxSize:e.lightboxSize,linkType:e.linkType,customLinkUrl:e.customLinkUrl,customLinkTarget:e.customLinkTarget,showThumbnails:e.showThumbnails,autoSlide:e.autoSlide,autoSlideInterval:e.autoSlideInterval,rightChevronIcon:U(e.rightChevronIcon),leftChevronIcon:U(e.leftChevronIcon),galleryId:d,imageAspectRatio:e.imageAspectRatio,imageBorderRadius:e.imageBorderRadius,imageOpacity:e.imageOpacity,imageOpacityHover:e.imageOpacityHover,thumbnailSize:e.thumbnailSize,thumbnailBorderRadius:e.thumbnailBorderRadius,thumbnailOpacity:e.thumbnailOpacity,thumbnailOpacityHover:e.thumbnailOpacityHover};return React.createElement("div",{...o},n&&React.createElement("style",{dangerouslySetInnerHTML:{__html:n}}),ie(e,!1,void 0,void 0,t.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(m)}}),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",padding:"40px 16px",minHeight:"200px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.3}},React.createElement("path",{d:"M2 6h4v12H2V6zm6-2h8v16H8V4zm10 2h4v12h-4V6z"}))))}const fe="https://schemas.wp.org/trunk/block.json",ge=3,ye="voxel-fse/slider",xe="1.0.0",be="Slider (VX)",Be="voxel-fse",Se="Display product images in a slider with thumbnails and lightbox support. Syncs with product variations.",Re=["slider","carousel","gallery","images","product","voxel"],ze="voxel-fse",$e={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},_e="file:./index.js",Ie="file:./editor.css",Ce="file:./frontend.js",ke="file:./render.php",Ee={blockId:{type:"string",default:""},images:{type:"array",default:[],items:{type:"object"}},imageSource:{type:"string",default:"manual",enum:["manual","dynamic"]},dynamicSource:{type:"string",default:""},visibleCount:{type:"number",default:3},displaySize:{type:"string",default:"medium"},displaySize_tablet:{type:"string"},displaySize_mobile:{type:"string"},lightboxSize:{type:"string",default:"large"},lightboxSize_tablet:{type:"string"},lightboxSize_mobile:{type:"string"},linkType:{type:"string",default:"lightbox",enum:["none","custom_link","lightbox"]},customLinkUrl:{type:"string",default:""},customLinkTarget:{type:"string",default:""},showThumbnails:{type:"boolean",default:!0},autoSlide:{type:"boolean",default:!1},autoSlideInterval:{type:"number",default:3e3},autoSlideInterval_tablet:{type:"number"},autoSlideInterval_mobile:{type:"number"},rightChevronIcon:{type:"object",default:{library:"",value:""}},leftChevronIcon:{type:"object",default:{library:"",value:""}},imageAspectRatio:{type:"string",default:""},imageAspectRatio_tablet:{type:"string"},imageAspectRatio_mobile:{type:"string"},imageBorderRadius:{type:"number"},imageBorderRadius_tablet:{type:"number"},imageBorderRadius_mobile:{type:"number"},imageOpacity:{type:"number"},imageOpacity_tablet:{type:"number"},imageOpacity_mobile:{type:"number"},imageOpacityHover:{type:"number"},imageOpacityHover_tablet:{type:"number"},imageOpacityHover_mobile:{type:"number"},thumbnailSize:{type:"number"},thumbnailSize_tablet:{type:"number"},thumbnailSize_mobile:{type:"number"},thumbnailBorderRadius:{type:"number"},thumbnailBorderRadius_tablet:{type:"number"},thumbnailBorderRadius_mobile:{type:"number"},thumbnailOpacity:{type:"number"},thumbnailOpacity_tablet:{type:"number"},thumbnailOpacity_mobile:{type:"number"},thumbnailOpacityHover:{type:"number"},thumbnailOpacityHover_tablet:{type:"number"},thumbnailOpacityHover_mobile:{type:"number"},navHorizontalPosition:{type:"number"},navHorizontalPosition_tablet:{type:"number"},navHorizontalPosition_mobile:{type:"number"},navVerticalPosition:{type:"number"},navVerticalPosition_tablet:{type:"number"},navVerticalPosition_mobile:{type:"number"},navButtonIconColor:{type:"string",default:""},navButtonSize:{type:"number"},navButtonSize_tablet:{type:"number"},navButtonSize_mobile:{type:"number"},navButtonIconSize:{type:"number"},navButtonIconSize_tablet:{type:"number"},navButtonIconSize_mobile:{type:"number"},navButtonBackground:{type:"string",default:""},navBackdropBlur:{type:"number"},navBackdropBlur_tablet:{type:"number"},navBackdropBlur_mobile:{type:"number"},navBorderType:{type:"string",default:""},navBorderWidth:{type:"number"},navBorderColor:{type:"string",default:""},navButtonBorderRadius:{type:"number"},navButtonBorderRadius_tablet:{type:"number"},navButtonBorderRadius_mobile:{type:"number"},navButtonSizeHover:{type:"number"},navButtonSizeHover_tablet:{type:"number"},navButtonSizeHover_mobile:{type:"number"},navButtonIconSizeHover:{type:"number"},navButtonIconSizeHover_tablet:{type:"number"},navButtonIconSizeHover_mobile:{type:"number"},navButtonIconColorHover:{type:"string",default:""},navButtonBackgroundHover:{type:"string",default:""},navBorderColorHover:{type:"string",default:""},hideDesktop:{type:"boolean",default:!1},hideTablet:{type:"boolean",default:!1},hideMobile:{type:"boolean",default:!1},customClasses:{type:"string",default:""},sliderAccordion:{type:"string"},contentTabOpenPanel:{type:"string",default:"images"},styleTabOpenPanel:{type:"string",default:"style-general"},generalImageState:{type:"string",default:"normal"},thumbnailState:{type:"string",default:"normal"},navState:{type:"string",default:"normal"},imagesDynamicTag:{type:"string"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},F={$schema:fe,apiVersion:ge,name:ye,version:xe,title:be,category:Be,description:Se,keywords:Re,textdomain:ze,supports:$e,editorScript:_e,editorStyle:Ie,viewScript:Ce,render:ke,attributes:Ee},He=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},React.createElement("path",{d:"M2 6h4v12H2V6zm6-2h8v16H8V4zm10 2h4v12h-4V6z"}));A(F.name,{...F,icon:He,edit:ve,save:ue});
