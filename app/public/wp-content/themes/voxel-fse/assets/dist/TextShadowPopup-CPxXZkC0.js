import e,{useState as B,useRef as w,useEffect as I}from"react";import{Button as R,RangeControl as h}from"@wordpress/components";import{__ as f}from"@wordpress/i18n";import{U as W,C as _}from"./TypographyPopup-BXz72zyZ.js";const H=()=>e.createElement("span",{className:"eicon eicon-edit",style:{fontSize:"14px"}});function L({label:v,attributes:z,setAttributes:l,shadowAttributeName:o}){const[s,C]=B(!1),i=w(null),p={horizontal:0,vertical:0,blur:10,color:"rgba(0, 0, 0, 0.5)"},t=z[o]||{},u=Object.keys(t).length>0,k=()=>{l({[o]:{}})},S=()=>{!s&&!u&&l({[o]:{...p}}),C(!s)},a=w(null);return I(()=>{if(!s||!i.current||!a.current)return;requestAnimationFrame(()=>{if(!i.current||!a.current)return;const c=i.current,x=c.offsetWidth,g=c.offsetHeight,y=window.innerHeight,b=a.current.closest(".interface-interface-skeleton__sidebar")?.getBoundingClientRect();let d,r;if(b){d=b.left-x-12;const m=a.current.getBoundingClientRect();r=m.top-g/2+m.height/2}else{const m=a.current.getBoundingClientRect();d=m.left-x-8,r=m.top}d<8&&(d=8),r+g>y-8&&(r=y-g-8),r<8&&(r=8),c.style.top=`${r}px`,c.style.left=`${d}px`});const E=c=>{const x=window.__voxelDeviceChangeTimestamp||0;Date.now()-x<1e3||i.current&&!i.current.contains(c.target)&&C(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[s]),e.createElement("div",{className:"elementor-control elementor-control-type-text-shadow",style:{position:"relative"}},e.createElement("div",{className:"elementor-control-content",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},e.createElement("span",{className:"elementor-control-title",style:{fontSize:"13px",fontWeight:500,textTransform:"capitalize",color:"rgb(30, 30, 30)",margin:0}},v),e.createElement("div",{style:{display:"flex",gap:"4px",alignItems:"center"}},u&&e.createElement(R,{icon:e.createElement(W,null),label:f("Reset","voxel-fse"),onClick:k,variant:"tertiary",size:"small",style:{minWidth:"auto",padding:"4px",width:"24px",height:"24px"}}),e.createElement(R,{ref:a,icon:e.createElement(H,null),size:"small",variant:"tertiary",onClick:S,style:{minWidth:"auto",padding:"4px",width:"24px",height:"24px",backgroundColor:u?"color-mix(in srgb, var(--wp-components-color-accent, var(--wp-admin-theme-color, #3858e9)) 4%, #0000)":void 0,borderRadius:u?"2px":void 0}}))),s&&e.createElement("div",{ref:i,style:{position:"fixed",zIndex:1e6,backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"4px",padding:"16px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.15)",width:"280px"}},e.createElement("h3",{style:{margin:"0 0 16px",fontSize:"13px",fontWeight:600}},v),e.createElement(_,{label:f("Color","voxel-fse"),value:t.color||p.color,onChange:n=>{l({[o]:{...t,color:n}})}}),e.createElement(h,{label:f("Horizontal","voxel-fse"),value:t.horizontal??p.horizontal,onChange:n=>{l({[o]:{...t,horizontal:n??0}})},min:-100,max:100,step:1}),e.createElement(h,{label:f("Vertical","voxel-fse"),value:t.vertical??p.vertical,onChange:n=>{l({[o]:{...t,vertical:n??0}})},min:-100,max:100,step:1}),e.createElement(h,{label:f("Blur","voxel-fse"),value:t.blur??p.blur,onChange:n=>{l({[o]:{...t,blur:n??0}})},min:0,max:100,step:1})))}export{L as T};
