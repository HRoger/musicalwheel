import{registerBlockType as ze}from"@wordpress/blocks";import{useBlockProps as xe,InspectorControls as He}from"@wordpress/block-editor";import{useState as je,useEffect as ce,useRef as J,useCallback as y,useMemo as ve}from"react";import{__ as r}from"@wordpress/i18n";import{M as Pe}from"../MediaPopup-BnHnsf_s.js";import{A as Ce,a as I,R as x,e as Ue,C as u,B as Q,c as Le,b as ie,S as b,D as fe,T as E}from"../TypographyPopup-CkDwan7Z.js";import{I as Ae}from"../InspectorTabs-C-Yyx0JZ.js";import{ToggleControl as Fe}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-DaYyJwAm.js";import"../voxelShim-DB_Ue-9R.js";import{g as Re}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as De}from"../backgroundElements-BCKss4qj.js";import{I as T}from"../IconPickerControl-BEkvF1LS.js";import{B as de}from"../BackgroundControl-DWPsj44N.js";import{V as Ge}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";import"../FormPopup-C_Yd8wPI.js";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";import"../GalleryUploadControl-CQqiqsZe.js";const M={search:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>',inbox:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"></path><path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"></path></svg>',chevronLeft:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>',menu:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"></path></svg>',reload:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path></svg>',send:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path></svg>',emoji:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd"></path></svg>',attach:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z" clip-rule="evenodd"></path></svg>',close:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',trash:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>',block:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"></path></svg>',gallery:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path><path d="M6 6.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"></path></svg>'};function w(e,s){return e&&e.value?e.value:s}function We(e=8){const s="abcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let l=0;l<e;l++)o+=s.charAt(Math.floor(Math.random()*s.length));return o}function Ve(e,s=300){let o=null;return((...l)=>{o&&clearTimeout(o),o=setTimeout(()=>e(...l),s)})}function me(e){return new URLSearchParams(window.location.search).get(e)}function Oe(e,s){const o=new URL(window.location.href);o.searchParams.set(e,s),window.history.replaceState({},"",o.toString())}function pe(e){const s=new URL(window.location.href);s.searchParams.delete(e),window.history.replaceState({},"",s.toString())}function U(e,s="error"){const o=window.Voxel;o?.alert?o.alert(e,s):console.error(`[messages] ${s}: ${e}`)}const qe=[];function Ke({attributes:e,context:s,config:o,messagesConfig:l}){const[n,t]=je({chats:{loading:!1,loadingMore:!1,list:s==="editor"?qe:[],hasMore:!1,page:1},activeChat:null,search:{term:"",loading:!1,list:[]},emojis:{loading:!1,list:null,search:{term:"",list:[]},recents:[]},files:[],activePopup:null,dragActive:!1});ce(()=>{const a="voxel-messages-css";if(!document.getElementById(a)){const c=document.createElement("link");c.id=a,c.rel="stylesheet";const p=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");c.href=`${p}/wp-content/themes/voxel/assets/dist/messages.css?ver=1.7.5.2`,document.head.appendChild(c)}},[]);const C=J(null),R=J(null),S=J(null),L=J(null),D=J(null),k=J(null),$=y(a=>{const c=window.Voxel_Config;return c?.ajax_url?`${c.ajax_url}&action=${a}`:`${c?.site_url||window.location.origin}/?vx=1&action=${a}`},[]),z=y(()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},[]),H=y(()=>{!R.current||!S.current||(S.current.value=R.current.value,S.current.style.width=`${R.current.scrollWidth}px`,S.current.style.minWidth=`${R.current.scrollWidth}px`,S.current.style.maxWidth=`${R.current.scrollWidth}px`,R.current.style.height=`${S.current.scrollHeight}px`)},[]),A=y(async(a=!1,c=1)=>{if(l){t(i=>({...i,chats:{...i.chats,loading:c===1,loadingMore:c>1}}));try{const i=new FormData;if(i.append("pg",String(c)),i.append("_wpnonce",l.nonce),a){const h=me("chat");h&&i.append("load",h)}const m=await(await fetch($("inbox.list_chats"),{method:"POST",body:i})).json();if(m.success){const h=m.list||m.data?.chats||[];if(t(v=>({...v,chats:{loading:!1,loadingMore:!1,list:c===1?h:[...v.chats.list,...h],hasMore:m.has_more||m.data?.has_more||!1,page:c}})),a){const v=h.find(g=>g.autoload);v?G(v):m.default_chat&&G(m.default_chat)}}else U(m.message||"Failed to load chats","error"),t(h=>({...h,chats:{...h.chats,loading:!1,loadingMore:!1}}))}catch(i){console.error("[messages] Failed to load chats:",i),t(p=>({...p,chats:{...p.chats,loading:!1,loadingMore:!1}}))}}},[l,$]),ee=y(()=>{const a=n.chats.page+1;A(!1,a)},[n.chats.page,A]),G=y(async a=>{const c=[a.author.type==="post"?a.author.id:"",a.target.type==="post"?"p":"u",a.target.id].join("");if(Oe("chat",c),t(i=>({...i,activeChat:{...a,messages:{loading:!0,loadingMore:!1,list:[],hasMore:!1},state:{content:""},processing:!1,follow_status:a.follow_status||{author:0,target:0}},files:[]})),!!l)try{const i=new FormData;i.append("author_type",a.author.type),i.append("author_id",String(a.author.id)),i.append("target_type",a.target.type),i.append("target_id",String(a.target.id)),i.append("_wpnonce",l.nonce);const m=await(await fetch($("inbox.load_chat"),{method:"POST",body:i})).json();if(m.success){t(v=>v.activeChat?{...v,activeChat:{...v.activeChat,messages:{loading:!1,loadingMore:!1,list:m.list||[],hasMore:m.has_more||!1},is_new:!1,seen:!0,follow_status:{author:m.follow_status?.author??v.activeChat.follow_status?.author??0,target:m.follow_status?.target??v.activeChat.follow_status?.target??0}}}:v),setTimeout(()=>{z(),H(),R.current?.focus()},50);const h=me("text");h&&(t(v=>v.activeChat?{...v,activeChat:{...v.activeChat,state:{content:h}}}:v),pe("text"))}else U(m.message||"Failed to load messages","error")}catch(i){console.error("[messages] Failed to load messages:",i)}},[l,$,z,H]),oe=y(()=>{pe("chat"),t(a=>({...a,activeChat:null,files:[]}))},[]),ae=y(async()=>{if(!n.activeChat||!l||n.activeChat.messages.loadingMore)return;const a=C.current;if(!a)return;const c=a.scrollHeight-a.scrollTop;t(i=>i.activeChat?{...i,activeChat:{...i.activeChat,messages:{...i.activeChat.messages,loadingMore:!0}}}:i);try{const i=n.activeChat.messages.list[n.activeChat.messages.list.length-1],p=new FormData;i&&p.append("cursor",String(i.id)),p.append("author_type",n.activeChat.author.type),p.append("author_id",String(n.activeChat.author.id)),p.append("target_type",n.activeChat.target.type),p.append("target_id",String(n.activeChat.target.id)),p.append("_wpnonce",l.nonce);const h=await(await fetch($("inbox.load_chat"),{method:"POST",body:p})).json();h.success&&(t(v=>v.activeChat?{...v,activeChat:{...v.activeChat,messages:{loading:!1,loadingMore:!1,list:[...v.activeChat.messages.list,...h.list||[]],hasMore:h.has_more||!1}}}:v),setTimeout(()=>{a&&(a.scrollTop=a.scrollHeight-c)},10))}catch(i){console.error("[messages] Failed to load more messages:",i),t(p=>p.activeChat?{...p,activeChat:{...p.activeChat,messages:{...p.activeChat.messages,loadingMore:!1}}}:p)}},[n.activeChat,l,$]),W=y(async()=>{if(!n.activeChat||!l)return;const a=n.activeChat.state.content.trim(),c=n.files.length>0;if(!a&&!c)return;const i={id:Date.now(),content:a.replace(/(?:\r\n|\r|\n){2,}/g,"</p><p>").replace(/(?:\r\n|\r|\n)/g,"<br>"),has_content:a.length>0,time:r("Sending","voxel-fse"),sent_by:"author",seen:!1,sending:!0,tmp:!0,is_deleted:!1,is_hidden:!1};t(g=>g.activeChat?{...g,activeChat:{...g.activeChat,messages:{...g.activeChat.messages,list:[i,...g.activeChat.messages.list]},state:{content:""}},files:[]}:g);const p=new FormData,m={content:a},h="files",v=[];n.files.forEach(g=>{g.source==="new_upload"&&g.item?(p.append(`files[${h}][]`,g.item),v.push("uploaded_file")):g.source==="existing"&&g.id&&v.push(g.id)}),m[h]=v,p.append("fields",JSON.stringify(m)),p.append("sender_type",n.activeChat.author.type),p.append("sender_id",String(n.activeChat.author.id)),p.append("receiver_type",n.activeChat.target.type),p.append("receiver_id",String(n.activeChat.target.id)),p.append("_wpnonce",l.nonce),setTimeout(()=>{z(),H(),l.blur_on_send?R.current?.blur():R.current?.focus()},10);try{const B=await(await fetch($("inbox.send_message"),{method:"POST",body:p})).json();B.success?(t(f=>{if(!f.activeChat)return f;const P=f.activeChat.messages.list.map(K=>K.tmp&&K.id===i.id?{...B.message||K,tmp:!1,sending:!1}:K),q={...f.activeChat,messages:{...f.activeChat.messages,list:P},excerpt:B.message?.excerpt||f.activeChat.excerpt,time:B.message?.chat_time||f.activeChat.time},se=f.chats.list.filter(K=>K.key!==f.activeChat?.key);return se.unshift(q),{...f,activeChat:q,chats:{...f.chats,list:se}}}),delete window._vx_file_upload_cache,setTimeout(z,50)):(t(f=>f.activeChat?{...f,activeChat:{...f.activeChat,messages:{...f.activeChat.messages,list:f.activeChat.messages.list.filter(P=>P.id!==i.id)},state:{content:a}}}:f),U(B.message||"Failed to send message","error"),setTimeout(H,10))}catch(g){console.error("[messages] Failed to send message:",g),t(B=>B.activeChat?{...B,activeChat:{...B.activeChat,messages:{...B.activeChat.messages,list:B.activeChat.messages.list.filter(f=>f.id!==i.id)},state:{content:a}}}:B)}},[n.activeChat,n.files,l,$,z,H]),te=y(async a=>{if(!n.activeChat||!l||!window.confirm(r("Are you sure?","voxel-fse")))return;const c=new FormData;c.append("deleter_type",n.activeChat.author.type),c.append("deleter_id",String(n.activeChat.author.id)),c.append("message_id",String(a.id)),c.append("_wpnonce",l.nonce),t(i=>i.activeChat?{...i,activeChat:{...i.activeChat,messages:{...i.activeChat.messages,list:i.activeChat.messages.list.map(p=>p.id===a.id?{...p,processing:!0}:p)}}}:i);try{const p=await(await fetch($("inbox.delete_message"),{method:"POST",body:c})).json();p.success?t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,messages:{...m.activeChat.messages,list:m.activeChat.messages.list.map(h=>h.id===a.id?{...h,is_deleted:p.is_deleted,is_hidden:p.is_hidden,processing:!1}:h)}}}:m):(U(p.message||"Failed to delete message","error"),t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,messages:{...m.activeChat.messages,list:m.activeChat.messages.list.map(h=>h.id===a.id?{...h,processing:!1}:h)}}}:m))}catch(i){console.error("[messages] Failed to delete message:",i)}},[n.activeChat,l,$]),ne=y(async()=>{if(!n.activeChat||!l||!window.confirm(r("Are you sure?","voxel-fse")))return;const a=n.activeChat.follow_status?.author===-1,c=new FormData;c.append("sender_type",n.activeChat.author.type),c.append("sender_id",String(n.activeChat.author.id)),c.append("receiver_type",n.activeChat.target.type),c.append("receiver_id",String(n.activeChat.target.id)),a&&c.append("unblock","yes"),c.append("_wpnonce",l.nonce),t(i=>i.activeChat?{...i,activeChat:{...i.activeChat,processing:!0}}:i),D.current?.blur();try{const p=await(await fetch($("inbox.block_chat"),{method:"POST",body:c})).json();p.success?(t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,processing:!1,follow_status:{...m.activeChat.follow_status,author:p.status}}}:m),setTimeout(z,50)):(U(p.message||"Failed to update block status","error"),t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,processing:!1}}:m))}catch(i){console.error("[messages] Failed to block/unblock:",i)}},[n.activeChat,l,$,z]),V=y(()=>n.activeChat?.follow_status?n.activeChat.follow_status.author===-1||n.activeChat.follow_status.target===-1:!1,[n.activeChat]),le=y(async(a=!1)=>{if(!n.activeChat||!l||!window.confirm(r("Are you sure?","voxel-fse")))return;const c=new FormData;c.append("sender_type",n.activeChat.author.type),c.append("sender_id",String(n.activeChat.author.id)),c.append("receiver_type",n.activeChat.target.type),c.append("receiver_id",String(n.activeChat.target.id)),c.append("_wpnonce",l.nonce),t(i=>i.activeChat?{...i,activeChat:{...i.activeChat,processing:!0}}:i),D.current?.blur();try{const p=await(await fetch($("inbox.clear_conversation"),{method:"POST",body:c})).json();p.success?(t(m=>{if(!m.activeChat)return m;const h=m.chats.list.filter(v=>v.key!==m.activeChat?.key);return a?{...m,activeChat:null,chats:{...m.chats,list:h}}:{...m,activeChat:{...m.activeChat,processing:!1,messages:{...m.activeChat.messages,list:[],hasMore:!1}},chats:{...m.chats,list:h}}}),a&&pe("chat")):(U(p.message||"Failed to clear conversation","error"),t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,processing:!1}}:m))}catch(i){console.error("[messages] Failed to clear conversation:",i)}},[n.activeChat,l,$]),N=y(async()=>{if(!l?.polling?.enabled)return;if(document.visibilityState!=="visible"){k.current=setTimeout(N,l.polling.frequency||3e4);return}const a=Math.round(Date.now()/1e3);try{await(await fetch(`${l.polling.url}?u=${l.user?.id||0}&v=${a}`)).text()==="1"?re():k.current=setTimeout(N,l.polling.frequency||3e4)}catch(c){console.error("[messages] Polling failed:",c),k.current=setTimeout(N,l.polling.frequency||3e4)}},[l]),X=y((a,c)=>{const i={...a,excerpt:c.excerpt,is_new:c.is_new,seen:c.seen,time:c.time};if(c.messages?.list&&a.messages?.list){c.messages.list.forEach(h=>{const v=a.messages.list.find(g=>g.id===h.id);v&&(v.seen=h.seen,v.is_deleted=h.is_deleted,v.is_hidden=h.is_hidden)});const p=a.messages.list[0]?.id||0,m=c.messages.list.filter(h=>h.id>p);m.length<15?i.messages={...a.messages,list:[...m,...a.messages.list],hasMore:c.messages.hasMore}:i.messages=c.messages}return i.last_id=c.last_id,i},[]),re=y(async()=>{if(l)try{const a=new FormData;a.append("pg","1"),a.append("_wpnonce",l.nonce);const c=me("chat");c&&a.append("load",c);const p=await(await fetch($("inbox.list_chats"),{method:"POST",body:a})).json();p.success&&t(m=>{const h=[],v=p.list||[];v.forEach(f=>{const P=m.chats.list.findIndex(q=>q.key===f.key);if(P!==-1){const q=m.chats.list[P],se=X(q,f);h.push(se)}else h.push(f)});const g=m.chats.list.filter(f=>!v.find(P=>P.key===f.key)),B={...m,chats:{...m.chats,list:[...h,...g]}};if(m.activeChat){const f=h.find(P=>P.key===m.activeChat?.key);f&&(B.activeChat={...m.activeChat,...f,messages:f.messages||m.activeChat.messages,state:m.activeChat.state})}return B}),l.polling?.enabled&&(k.current=setTimeout(N,l.polling.frequency||3e4))}catch(a){console.error("[messages] Failed to refresh inbox:",a),l.polling?.enabled&&(k.current=setTimeout(N,l.polling.frequency||3e4))}},[l,$,X,N]),F=y(async()=>{if(n.emojis.list!==null)return;t(c=>({...c,emojis:{...c.emojis,loading:!0}}));try{const c=l?.emojis?.url||"/wp-content/themes/voxel/assets/emojis.json",p=await(await fetch(c)).json();t(m=>({...m,emojis:{...m.emojis,loading:!1,list:p}}))}catch(c){console.error("[messages] Failed to load emojis:",c),t(i=>({...i,emojis:{...i.emojis,loading:!1}}))}const a=localStorage.getItem("voxel:recent_emojis");a&&t(c=>({...c,emojis:{...c.emojis,recents:[...a]}}))},[n.emojis.list,l]),O=y(a=>{if(!R.current||!n.activeChat)return;const c=R.current;let i=n.activeChat.state.content;if(c.selectionStart!==null){const v=c.selectionStart,g=c.selectionEnd;i=i.substring(0,v)+a+i.substring(g),setTimeout(()=>{c.setSelectionRange(v+a.length,v+a.length),c.focus()},10)}else i+=a;t(v=>v.activeChat?{...v,activeChat:{...v.activeChat,state:{content:i}}}:v);let p=[];const m=localStorage.getItem("voxel:recent_emojis");m&&(p=[...m]),p=p.filter(v=>v!==a),p.unshift(a);const h=p.slice(0,16);localStorage.setItem("voxel:recent_emojis",h.join("")),t(v=>({...v,emojis:{...v.emojis,recents:h}}))},[n.activeChat]),Y=y(()=>{if(!n.emojis.list||!n.emojis.search.term.trim()){t(i=>({...i,emojis:{...i.emojis,search:{...i.emojis.search,list:[]}}}));return}const a=[],c=n.emojis.search.term.trim().toLowerCase();Object.values(n.emojis.list).some(i=>(i.some(p=>(p.name.toLowerCase().includes(c)&&a.push(p.emoji),a.length>=80)),a.length>=80)),t(i=>({...i,emojis:{...i.emojis,search:{...i.emojis.search,list:a}}}))},[n.emojis.list,n.emojis.search.term]),j=y(a=>{const c=l?.files?.max_count||5,i=l?.files?.max_size;if(i&&a.size>i*1e3){const g=i,B=(i/1e3).toFixed(1);U(r('File "%s" exceeds the maximum size limit (%s KB / %s MB)',"voxel-fse").replace("%s",a.name).replace("%s",String(g)).replace("%s",B),"error");return}const p=l?.files?.allowed_file_types;if(p&&p.length>0&&!p.includes(a.type)){U(r('File "%s" is not an allowed file type',"voxel-fse").replace("%s",a.name),"error");return}const m={source:"new_upload",name:a.name,type:a.type,size:a.size,preview:URL.createObjectURL(a),item:a,_id:We(8)},h=window;h._vx_file_upload_cache||(h._vx_file_upload_cache=[]);const v=h._vx_file_upload_cache.find(g=>g.item?.name===a.name&&g.item?.type===a.type&&g.item?.size===a.size&&g.item?.lastModified===a.lastModified);v?t(g=>c===1?{...g,files:[v]}:g.files.length>=c?g:{...g,files:[...g.files,v]}):(h._vx_file_upload_cache.unshift(m),t(g=>c===1?{...g,files:[m]}:g.files.length>=c?g:{...g,files:[...g.files,m]}))},[l]),d=y(a=>{const c=a.target.files;if(c){for(let i=0;i<c.length;i++)j(c[i]);a.target.value=""}},[j]),be=y(a=>{a.preventDefault(),t(c=>({...c,dragActive:!1})),a.dataTransfer.items?[...a.dataTransfer.items].forEach(c=>{if(c.kind==="file"){const i=c.getAsFile();i&&j(i)}}):[...a.dataTransfer.files].forEach(c=>{j(c)})},[j]),Se=y(a=>{t(c=>({...c,files:c.files.filter(i=>i._id!==a._id&&i.id!==a.id)})),a.source==="new_upload"&&URL.revokeObjectURL(a.preview)},[]),Ee=y((a,c)=>{if(a.preventDefault(),!n.activeChat)return;const i=[];n.activeChat.messages.forEach(h=>{h.files&&h.files.forEach(v=>{v.is_image&&i.push({src:v.url,alt:v.alt||v.name})})});const p=i.findIndex(h=>h.src===c),m=window.VoxelLightbox;m&&m.open(i,Math.max(0,p))},[n.activeChat]),_e=y(a=>{const c=l?.files?.max_count||5,i={};n.files.forEach(m=>{m.source==="existing"&&m.id&&(i[m.id]=!0),m.source==="new_upload"&&m._id&&(i[m._id]=!0)});const p=[];a.forEach(m=>{m.source==="existing"&&m.id&&!i[m.id]&&p.push(m),m.source==="new_upload"&&m._id&&!i[m._id]&&p.push(m)}),t(m=>{const h=[...m.files,...p];return{...m,files:h.slice(0,c)}})},[l,n.files]),ue=ve(()=>Ve(async(a,c)=>{try{const i=new FormData;i.append("search",a),i.append("_wpnonce",c);const m=await(await fetch($("inbox.search_chats"),{method:"POST",body:i})).json();m.success&&t(h=>({...h,search:{...h.search,loading:!1,list:m.list||[]}}))}catch(i){console.error("[messages] Failed to search chats:",i),t(p=>({...p,search:{...p.search,loading:!1}}))}},300),[$]),Te=y(a=>{if(t(c=>({...c,search:{...c.search,term:a,loading:a.trim().length>0}})),!a.trim()||!l){t(c=>({...c,search:{term:a,loading:!1,list:[]}}));return}if(!n.chats.hasMore||a.trim().length<=2){const c=n.chats.list.filter(i=>i.target.name.toLowerCase().includes(a.trim().toLowerCase())).slice(0,10);t(i=>({...i,search:{term:a,loading:!1,list:c}}))}else ue(a.trim(),l.nonce)},[l,n.chats.hasMore,n.chats.list,ue]),Me=y(a=>{a.nativeEvent.isComposing||a.keyCode===229||a.shiftKey||a.key==="Enter"&&(a.preventDefault(),W())},[W]),we=y(a=>{t(c=>({...c,activeChat:c.activeChat?{...c.activeChat,state:{...c.activeChat.state,content:a}}:null})),setTimeout(H,10)},[H]),Ie=y(()=>{t(a=>({...a,activePopup:a.activePopup==="emoji"?null:"emoji"})),n.activePopup!=="emoji"&&F()},[n.activePopup,F]),ke=y(()=>{t(a=>({...a,activePopup:a.activePopup==="actions"?null:"actions"}))},[]);ce(()=>(s==="frontend"&&l&&(A(!0),l.polling?.enabled&&(k.current=setTimeout(N,l.polling.frequency||3e4)),setTimeout(F,100)),()=>{k.current&&clearTimeout(k.current)}),[s,l,A,N,F]),ce(()=>{n.emojis.search.term.trim()&&n.emojis.list&&Y()},[n.emojis.search.term,n.emojis.list,Y]);const Ne=JSON.stringify(o||{icons:e.icons,settings:{enableCalcHeight:e.enableCalcHeight,calcHeight:e.calcHeight}});return React.createElement(React.Fragment,null,React.createElement("textarea",{ref:S,style:{position:"absolute",visibility:"hidden",height:"auto",overflow:"hidden"},"aria-hidden":"true",tabIndex:-1}),React.createElement("input",{ref:L,type:"file",multiple:!0,accept:l?.files?.allowed_file_types?.join(",")||"*",style:{display:"none"},onChange:d}),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:Ne}}),React.createElement("div",{className:`ts-inbox ${n.dragActive?"drag-active":""}`,onDragOver:a=>{a.preventDefault(),t(c=>({...c,dragActive:!0}))},onDragLeave:()=>t(a=>({...a,dragActive:!1})),onDrop:be},React.createElement("div",{className:`inbox-left ${n.activeChat?"":"ts-no-chat"}`},n.chats.loading?React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{className:"ts-loader"})):n.chats.list.length?React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form ts-inbox-top"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.search,M.search)}}),React.createElement("input",{type:"text",value:n.search.term,onChange:a=>Te(a.target.value),placeholder:r("Search inbox","voxel-fse"),className:"autofocus"}))),React.createElement("ul",{className:`ts-convo-list simplify-ul min-scroll ${n.search.loading?"vx-disabled":""}`},(n.search.term.trim()?n.search.list:n.chats.list).map(a=>React.createElement("li",{key:a.key||a.id,className:`
												${a.is_new?"ts-new-message":""}
												${a.seen?"":"ts-unread-message"}
												${n.activeChat?.id===a.id?"ts-active-chat":""}
											`},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),G(a)}},a.target.avatar&&React.createElement("div",{className:"convo-avatars"},React.createElement("div",{className:"convo-avatar",dangerouslySetInnerHTML:{__html:a.target.avatar}}),a.author.type==="post"&&React.createElement("div",{className:"post-avatar",dangerouslySetInnerHTML:{__html:a.author.avatar}})),React.createElement("div",{className:"message-details"},React.createElement("b",null,a.target.name),React.createElement("span",null,a.excerpt),React.createElement("span",null,a.time))))),n.chats.hasMore&&!n.search.term.trim()&&React.createElement("div",{className:"ts-btn-group"},React.createElement("div",{className:"n-load-more"},React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),ee()},className:`ts-btn ts-btn-4 ${n.chats.loadingMore?"vx-pending":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.loadMore,M.reload)}}),r("Load more","voxel-fse")))))):React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.chat,M.inbox)}}),React.createElement("p",null,r("No chats available","voxel-fse")))),React.createElement("div",{className:`ts-message-body ${n.activeChat?.processing?"vx-disabled":""} ${n.activeChat?"":"ts-no-chat"}`},n.activeChat?React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-inbox-top add-spacing flexify"},React.createElement("div",{className:"convo-head"},React.createElement("div",{className:"ts-convo-name flexify"},React.createElement("a",{className:"convo-pic",href:n.activeChat.target.link},React.createElement("span",{dangerouslySetInnerHTML:{__html:n.activeChat.target.avatar}})),React.createElement("a",{className:"convo-name",href:n.activeChat.target.link},React.createElement("span",null,n.activeChat.target.name))),React.createElement("ul",{className:"flexify simplify-ul inbox-top-btns"},React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),oe()},className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.back,M.chevronLeft)}}))),React.createElement("li",{className:"flexify ts-popup-target"},React.createElement("button",{ref:D,onClick:ke,className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.more,M.menu)}})),n.activePopup==="actions"&&React.createElement("div",{className:"ts-popup-content ts-popup-visible"},React.createElement("ul",{className:"simplify-ul ts-popup-list"},React.createElement("li",null,React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),ne(),t(c=>({...c,activePopup:null}))}},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.ban,M.block)}}),V()?r("Unblock user","voxel-fse"):r("Block user","voxel-fse"))),React.createElement("li",null,React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),le(!0),t(c=>({...c,activePopup:null}))}},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.clear,M.trash)}}),r("Clear conversation","voxel-fse"))))))))),V()&&React.createElement("div",{className:"ts-chat-blocked-notice"},React.createElement("p",null,r("This conversation is blocked.","voxel-fse"))),n.activeChat.messages.loading?React.createElement("div",{className:"start-convo"},React.createElement("span",{className:"ts-loader"})):n.activeChat.messages.list.length?React.createElement("div",{className:"ts-conversation-body min-scroll",ref:C},n.activeChat.messages.hasMore&&React.createElement("div",{className:"load-more-messages"},React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),ae()},className:`ts-btn ts-btn-4 ${n.activeChat.messages.loadingMore?"vx-pending":""}`},n.activeChat.messages.loadingMore?r("Loading...","voxel-fse"):r("Load older messages","voxel-fse"))),React.createElement("ul",{className:"ts-message-list simplify-ul"},[...n.activeChat.messages.list].reverse().map(a=>React.createElement("li",{key:a.id,className:`
													ts-single-message
													ts-responder-${a.sent_by==="author"?2:1}
													ts-message-id-${a.id}
													${a.sent_by==="author"&&a.seen?"ts-message-seen":""}
													${a.tmp?"inserted-message":""}
													${a.is_deleted?"ts-message-deleted":""}
													${a.is_hidden?"ts-message-hidden":""}
													${a.processing?"vx-disabled":""}
												`},a.is_deleted?React.createElement(React.Fragment,null,React.createElement("p",{className:"vx-disabled"},r("Deleted","voxel-fse")),React.createElement("ul",{className:"flexify simplify-ul ms-info"},React.createElement("li",null,a.time))):a.is_hidden?React.createElement(React.Fragment,null,React.createElement("p",{className:"vx-disabled"},r("Hidden","voxel-fse")),React.createElement("ul",{className:"flexify simplify-ul ms-info"},React.createElement("li",null,a.time))):React.createElement(React.Fragment,null,a.files&&a.files.length>0&&React.createElement(React.Fragment,null,a.files.map((c,i)=>c.is_image?React.createElement("a",{key:`${a.id}-file-${i}`,href:c.url,className:"ts-image-attachment",onClick:p=>Ee(p,c.url)},React.createElement("img",{src:c.preview||c.url,alt:c.alt||c.name,width:c.width,height:c.height,loading:"lazy"})):React.createElement("p",{key:`${a.id}-file-${i}`},React.createElement("a",{href:c.url,target:"_blank",rel:"noopener noreferrer"},c.name)))),a.has_content&&React.createElement("p",{dangerouslySetInnerHTML:{__html:a.content}}),React.createElement("ul",{className:"flexify simplify-ul ms-info"},a.sent_by==="author"&&!a.tmp&&React.createElement(React.Fragment,null,React.createElement("li",{className:"message-actions"},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),te(a)}},r("Delete","voxel-fse"))),React.createElement("li",{className:"message-actions"},"Â·")),React.createElement("li",null,a.sending?r("Sending","voxel-fse"):a.time)),a.sent_by==="author"&&a.seen&&l?.seen_badge?.enabled&&React.createElement("div",{className:"seen-badge"},r("Seen","voxel-fse"))))))):React.createElement("div",{className:"start-convo"},React.createElement("a",{href:n.activeChat.target.link},React.createElement("span",{dangerouslySetInnerHTML:{__html:n.activeChat.target.avatar}})),React.createElement("span",null,r("Start a conversation with","voxel-fse")),React.createElement("a",{href:n.activeChat.target.link},React.createElement("h4",null,n.activeChat.target.name))),n.files.length>0&&React.createElement("div",{className:"ts-file-attachments"},n.files.map(a=>React.createElement("div",{key:a._id||a.id,className:"ts-file-preview"},a.type.startsWith("image/")?React.createElement("img",{src:a.preview,alt:a.name}):React.createElement("span",null,a.name),React.createElement("button",{className:"ts-remove-file",onClick:()=>Se(a)},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.trash,M.close)}}))))),!V()&&React.createElement("div",{className:"ts-inbox-bottom"},React.createElement("div",{className:"flexify ts-convo-form"},React.createElement("span",{className:"active-avatar",dangerouslySetInnerHTML:{__html:n.activeChat.author.avatar}}),React.createElement("div",{className:"ts-popup-target"},React.createElement("button",{onClick:Ie,className:"ts-icon-btn ts-emoji-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.emoji,M.emoji)}})),n.activePopup==="emoji"&&React.createElement("div",{className:"ts-popup-content ts-emoji-popup ts-popup-visible"},React.createElement("div",{className:"ts-form"},React.createElement("input",{type:"text",placeholder:r("Search emojis","voxel-fse"),value:n.emojis.search.term,onChange:a=>t(c=>({...c,emojis:{...c.emojis,search:{...c.emojis.search,term:a.target.value}}}))})),n.emojis.loading?React.createElement("div",{className:"ts-loader"}):React.createElement("div",{className:"ts-emoji-list"},n.emojis.recents.length>0&&!n.emojis.search.term.trim()&&React.createElement("div",{className:"ts-emoji-category"},React.createElement("span",null,r("Recent","voxel-fse")),React.createElement("div",{className:"ts-emoji-grid"},n.emojis.recents.map((a,c)=>React.createElement("button",{key:`recent-${c}`,onClick:()=>O(a)},a)))),n.emojis.search.term.trim()?React.createElement("div",{className:"ts-emoji-grid"},n.emojis.search.list.map((a,c)=>React.createElement("button",{key:`search-${c}`,onClick:()=>O(a)},a))):n.emojis.list&&Object.entries(n.emojis.list).map(([a,c])=>React.createElement("div",{key:a,className:"ts-emoji-category"},React.createElement("span",null,l?.l10n?.emoji_groups?.[a]||a),React.createElement("div",{className:"ts-emoji-grid"},c.map((i,p)=>React.createElement("button",{key:`${a}-${p}`,onClick:()=>O(i.emoji)},i.emoji)))))))),l?.files?.enabled!==!1&&React.createElement("button",{onClick:()=>L.current?.click(),className:"ts-icon-btn ts-attach-btn",title:r("Upload file","voxel-fse")},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.upload,M.attach)}})),l?.files?.enabled!==!1&&React.createElement(Pe,{multiple:!0,saveLabel:r("Add files","voxel-fse"),onSave:a=>{const c=a.map(i=>({source:i.source||"existing",id:i.id,_id:i.id?String(i.id):void 0,name:i.name,type:i.type||"",size:0,preview:i.preview||""}));_e(c)}},React.createElement("button",{className:"ts-icon-btn ts-gallery-btn",title:r("Media library","voxel-fse")},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.gallery,M.gallery)}}))),React.createElement("div",{className:"compose-message min-scroll"},React.createElement("textarea",{ref:R,value:n.activeChat.state.content,onKeyDown:Me,onChange:a=>we(a.target.value)}),!n.activeChat.state.content&&React.createElement("span",{className:"compose-placeholder"},n.activeChat.author.type==="post"?r("Reply as","voxel-fse")+" "+n.activeChat.author.name:r("Your message","voxel-fse"))),React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),W()},className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.send,M.send)}}))))):React.createElement("div",{className:"ts-empty-user-tab"},n.chats.loading?React.createElement("span",{className:"ts-loader"}):React.createElement(React.Fragment,null,React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.chat,M.inbox)}}),React.createElement("p",null,r("No conversation selected","voxel-fse")))))))}function ye(e,s){if(!e)return"";const o=e.unit||"px",l=parseFloat(String(e.top))||0,n=parseFloat(String(e.right))||0,t=parseFloat(String(e.bottom))||0,C=parseFloat(String(e.left))||0;return`${s}: ${l}${o} ${n}${o} ${t}${o} ${C}${o};`}function Z(e){if(!e||!e.borderType||e.borderType==="none")return"";let s="";if(typeof e.borderWidth=="number")s+=`border-width: ${e.borderWidth}px; `;else if(e.borderWidth){const o=e.borderWidth.unit||"px",l=parseFloat(String(e.borderWidth.top))||0,n=parseFloat(String(e.borderWidth.right))||0,t=parseFloat(String(e.borderWidth.bottom))||0,C=parseFloat(String(e.borderWidth.left))||0;s+=`border-width: ${l}${o} ${n}${o} ${t}${o} ${C}${o}; `}return s+=`border-style: ${e.borderType}; `,e.borderColor&&(s+=`border-color: ${e.borderColor}; `),s}function Je(e){if(!e||!e.enable)return"";const s=e.horizontal||0,o=e.vertical||0,l=e.blur||0,n=e.spread||0,t=e.color||"rgba(0,0,0,0.1)";return`box-shadow: ${e.position==="inset"?"inset ":""}${s}px ${o}px ${l}px ${n}px ${t};`}function _(e){if(!e)return"";let s="";if(e.fontFamily&&(s+=`font-family: ${e.fontFamily}; `),e.fontSize!==void 0){const o=e.fontSizeUnit||"px";s+=`font-size: ${e.fontSize}${o}; `}if(e.fontWeight&&(s+=`font-weight: ${e.fontWeight}; `),e.fontStyle&&(s+=`font-style: ${e.fontStyle}; `),e.textTransform&&(s+=`text-transform: ${e.textTransform}; `),e.textDecoration&&(s+=`text-decoration: ${e.textDecoration}; `),e.lineHeight!==void 0){const o=e.lineHeightUnit||"";s+=`line-height: ${e.lineHeight}${o}; `}if(e.letterSpacing!==void 0){const o=e.letterSpacingUnit||"px";s+=`letter-spacing: ${e.letterSpacing}${o}; `}return s}function he(e,s=""){const o=e[`${s}backgroundType`]||"classic";let l="";if(o==="classic"){const n=e[`${s}backgroundColor`];n&&(l+=`background-color: ${n}; `);const t=e[`${s}backgroundImage`];if(t?.url){l+=`background-image: url('${t.url}'); `;const C=e[`${s}backgroundPosition`]||"center center";l+=`background-position: ${C}; `;const R=e[`${s}backgroundAttachment`]||"scroll";l+=`background-attachment: ${R}; `;const S=e[`${s}backgroundRepeat`]||"no-repeat";l+=`background-repeat: ${S}; `;const L=e[`${s}backgroundSize`]||"cover";l+=`background-size: ${L}; `}}else if(o==="gradient"){const n=e[`${s}backgroundGradient`];n&&(l+=`background: ${n}; `)}return l}function $e(e,s){const o=[],l=[],n=[],t=`.voxel-fse-messages-${s}`;if(e.generalHeight!==void 0){const d=e.generalHeightUnit||"px";o.push(`${t} { height: ${e.generalHeight}${d}; }`)}if(e.generalHeightTablet!==void 0){const d=e.generalHeightUnit||"px";l.push(`${t} { height: ${e.generalHeightTablet}${d}; }`)}if(e.generalHeightMobile!==void 0){const d=e.generalHeightUnit||"px";n.push(`${t} { height: ${e.generalHeightMobile}${d}; }`)}e.enableCalcHeight&&e.calcHeight&&o.push(`${t} { height: ${e.calcHeight}; }`),e.generalBackground&&o.push(`${t} { background-color: ${e.generalBackground}; }`);const C=Z({borderType:e.generalBorderType,borderWidth:e.generalBorderWidth,borderColor:e.generalBorderColor});C&&o.push(`${t} { ${C} }`),e.generalBorderRadius!==void 0&&o.push(`${t} { border-radius: ${e.generalBorderRadius}px; }`);const R=Je(e.generalBoxShadow);R&&o.push(`${t} { ${R} }`),e.sidebarWidth!==void 0&&o.push(`${t} .message-list-container { width: ${e.sidebarWidth}px; }`),e.separatorColor&&o.push(`${t} .separator { background-color: ${e.separatorColor}; }`),e.scrollbarColor&&(o.push(`${t} .message-list::-webkit-scrollbar-thumb { background-color: ${e.scrollbarColor}; }`),o.push(`${t} .conversation-body::-webkit-scrollbar-thumb { background-color: ${e.scrollbarColor}; }`));const S=ye(e.inboxMessagePadding,"padding");S&&o.push(`${t} .ts-convo-list > li > a { ${S} }`),e.inboxMessageContentGap!==void 0&&o.push(`${t} .ts-convo-list > li > a { gap: ${e.inboxMessageContentGap}px; }`),e.inboxMessageTitleColor&&o.push(`${t} .ts-convo-list .message-details > b { color: ${e.inboxMessageTitleColor}; }`);const L=_(e.inboxMessageTitleTypography);L&&o.push(`${t} .ts-convo-list .message-details > b { ${L} }`),e.inboxMessageSubtitleColor&&o.push(`${t} .ts-convo-list .message-details > span { color: ${e.inboxMessageSubtitleColor}; }`);const D=_(e.inboxMessageSubtitleTypography);if(D&&o.push(`${t} .ts-convo-list .message-details > span { ${D} }`),e.inboxMessageAvatarSize!==void 0){const d=e.inboxMessageAvatarSizeUnit||"px";o.push(`${t} .ts-convo-list .convo-avatar { width: ${e.inboxMessageAvatarSize}${d}; height: ${e.inboxMessageAvatarSize}${d}; }`)}if(e.inboxMessageAvatarSize_tablet!==void 0){const d=e.inboxMessageAvatarSizeUnit||"px";l.push(`${t} .ts-convo-list .convo-avatar { width: ${e.inboxMessageAvatarSize_tablet}${d}; height: ${e.inboxMessageAvatarSize_tablet}${d}; }`)}if(e.inboxMessageAvatarSize_mobile!==void 0){const d=e.inboxMessageAvatarSizeUnit||"px";n.push(`${t} .ts-convo-list .convo-avatar { width: ${e.inboxMessageAvatarSize_mobile}${d}; height: ${e.inboxMessageAvatarSize_mobile}${d}; }`)}if(e.inboxMessageAvatarGap!==void 0){const d=e.inboxMessageAvatarGapUnit||"px";o.push(`${t} .ts-convo-list > li > a { column-gap: ${e.inboxMessageAvatarGap}${d}; }`)}if(e.inboxMessageAvatarGap_tablet!==void 0){const d=e.inboxMessageAvatarGapUnit||"px";l.push(`${t} .ts-convo-list > li > a { column-gap: ${e.inboxMessageAvatarGap_tablet}${d}; }`)}if(e.inboxMessageAvatarGap_mobile!==void 0){const d=e.inboxMessageAvatarGapUnit||"px";n.push(`${t} .ts-convo-list > li > a { column-gap: ${e.inboxMessageAvatarGap_mobile}${d}; }`)}if(e.inboxMessageSecondaryLogoSize!==void 0){const d=e.inboxMessageSecondaryLogoSizeUnit||"px";o.push(`${t} .ts-convo-list .post-avatar { width: ${e.inboxMessageSecondaryLogoSize}${d}; height: ${e.inboxMessageSecondaryLogoSize}${d}; }`)}if(e.inboxMessageSecondaryLogoSize_tablet!==void 0){const d=e.inboxMessageSecondaryLogoSizeUnit||"px";l.push(`${t} .ts-convo-list .post-avatar { width: ${e.inboxMessageSecondaryLogoSize_tablet}${d}; height: ${e.inboxMessageSecondaryLogoSize_tablet}${d}; }`)}if(e.inboxMessageSecondaryLogoSize_mobile!==void 0){const d=e.inboxMessageSecondaryLogoSizeUnit||"px";n.push(`${t} .ts-convo-list .post-avatar { width: ${e.inboxMessageSecondaryLogoSize_mobile}${d}; height: ${e.inboxMessageSecondaryLogoSize_mobile}${d}; }`)}const k=Z(e.inboxMessageSecondaryLogoBorder);if(k&&o.push(`${t} .ts-convo-list .post-avatar { ${k} }`),e.inboxMessageHoverBg&&o.push(`${t} .ts-convo-list > li > a:hover { background-color: ${e.inboxMessageHoverBg}; }`),e.inboxMessageHoverTitleColor&&o.push(`${t} .ts-convo-list > li > a:hover .message-details > b { color: ${e.inboxMessageHoverTitleColor}; }`),e.inboxMessageHoverSubtitleColor&&o.push(`${t} .ts-convo-list > li > a:hover .message-details > span { color: ${e.inboxMessageHoverSubtitleColor}; }`),e.inboxMessageActiveBg&&o.push(`${t} .ts-convo-list > li.ts-active-chat > a { background-color: ${e.inboxMessageActiveBg}; }`),e.inboxMessageActiveBorderWidth!==void 0){const d=e.inboxMessageActiveBorderWidthUnit||"px";o.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-width: ${e.inboxMessageActiveBorderWidth}${d}; border-left-style: solid; }`)}if(e.inboxMessageActiveBorderWidth_tablet!==void 0){const d=e.inboxMessageActiveBorderWidthUnit||"px";l.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-width: ${e.inboxMessageActiveBorderWidth_tablet}${d}; }`)}if(e.inboxMessageActiveBorderWidth_mobile!==void 0){const d=e.inboxMessageActiveBorderWidthUnit||"px";n.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-width: ${e.inboxMessageActiveBorderWidth_mobile}${d}; }`)}e.inboxMessageActiveBorderColor&&o.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-color: ${e.inboxMessageActiveBorderColor}; }`),e.inboxMessageActiveTitleColor&&o.push(`${t} .ts-convo-list > li.ts-active-chat .message-details > b { color: ${e.inboxMessageActiveTitleColor}; }`),e.inboxMessageActiveSubtitleColor&&o.push(`${t} .ts-convo-list > li.ts-active-chat .message-details > span { color: ${e.inboxMessageActiveSubtitleColor}; }`);const $=_(e.inboxMessageUnreadTitleTypography);$&&o.push(`${t} .ts-convo-list > li.ts-unread-message .message-details > b { ${$} }`);const z=Z(e.inboxMessageNewAvatarBorder);z&&o.push(`${t} .ts-convo-list > li.ts-new-message .convo-avatar { ${z} }`);const H=_(e.inboxSearchTypography);if(H&&o.push(`${t} .inbox-search input { ${H} }`),e.inboxSearchValueColor&&o.push(`${t} .inbox-search input { color: ${e.inboxSearchValueColor}; }`),e.inboxSearchPlaceholderColor&&o.push(`${t} .inbox-search input::placeholder { color: ${e.inboxSearchPlaceholderColor}; }`),e.inboxSearchIconColor&&o.push(`${t} .inbox-search .search-icon { color: ${e.inboxSearchIconColor}; }`),e.inboxSearchIconSize!==void 0){const d=e.inboxSearchIconSizeUnit||"px";o.push(`${t} .inbox-search .search-icon { font-size: ${e.inboxSearchIconSize}${d}; }`)}if(e.inboxSearchIconSize_tablet!==void 0){const d=e.inboxSearchIconSizeUnit||"px";l.push(`${t} .inbox-search .search-icon { font-size: ${e.inboxSearchIconSize_tablet}${d}; }`)}if(e.inboxSearchIconSize_mobile!==void 0){const d=e.inboxSearchIconSizeUnit||"px";n.push(`${t} .inbox-search .search-icon { font-size: ${e.inboxSearchIconSize_mobile}${d}; }`)}if(e.conversationTopAvatarRadius!==void 0){const d=e.conversationTopAvatarRadiusUnit||"px";o.push(`${t} .conversation-top .avatar { border-radius: ${e.conversationTopAvatarRadius}${d}; }`)}if(e.conversationTopAvatarRadius_tablet!==void 0){const d=e.conversationTopAvatarRadiusUnit||"px";l.push(`${t} .conversation-top .avatar { border-radius: ${e.conversationTopAvatarRadius_tablet}${d}; }`)}if(e.conversationTopAvatarRadius_mobile!==void 0){const d=e.conversationTopAvatarRadiusUnit||"px";n.push(`${t} .conversation-top .avatar { border-radius: ${e.conversationTopAvatarRadius_mobile}${d}; }`)}if(e.conversationTopAvatarGap!==void 0){const d=e.conversationTopAvatarGapUnit||"px";o.push(`${t} .conversation-top { gap: ${e.conversationTopAvatarGap}${d}; }`)}if(e.conversationTopAvatarGap_tablet!==void 0){const d=e.conversationTopAvatarGapUnit||"px";l.push(`${t} .conversation-top { gap: ${e.conversationTopAvatarGap_tablet}${d}; }`)}if(e.conversationTopAvatarGap_mobile!==void 0){const d=e.conversationTopAvatarGapUnit||"px";n.push(`${t} .conversation-top { gap: ${e.conversationTopAvatarGap_mobile}${d}; }`)}const A=_(e.conversationTopTypography);if(A&&o.push(`${t} .conversation-top .name { ${A} }`),e.conversationTopTextColor&&o.push(`${t} .conversation-top .name { color: ${e.conversationTopTextColor}; }`),e.conversationIntroContentGap!==void 0){const d=e.conversationIntroContentGapUnit||"px";o.push(`${t} .conversation-intro { gap: ${e.conversationIntroContentGap}${d}; }`)}if(e.conversationIntroContentGap_tablet!==void 0){const d=e.conversationIntroContentGapUnit||"px";l.push(`${t} .conversation-intro { gap: ${e.conversationIntroContentGap_tablet}${d}; }`)}if(e.conversationIntroContentGap_mobile!==void 0){const d=e.conversationIntroContentGapUnit||"px";n.push(`${t} .conversation-intro { gap: ${e.conversationIntroContentGap_mobile}${d}; }`)}if(e.conversationIntroAvatarSize!==void 0){const d=e.conversationIntroAvatarSizeUnit||"px";o.push(`${t} .conversation-intro .avatar { width: ${e.conversationIntroAvatarSize}${d}; height: ${e.conversationIntroAvatarSize}${d}; }`)}if(e.conversationIntroAvatarSize_tablet!==void 0){const d=e.conversationIntroAvatarSizeUnit||"px";l.push(`${t} .conversation-intro .avatar { width: ${e.conversationIntroAvatarSize_tablet}${d}; height: ${e.conversationIntroAvatarSize_tablet}${d}; }`)}if(e.conversationIntroAvatarSize_mobile!==void 0){const d=e.conversationIntroAvatarSizeUnit||"px";n.push(`${t} .conversation-intro .avatar { width: ${e.conversationIntroAvatarSize_mobile}${d}; height: ${e.conversationIntroAvatarSize_mobile}${d}; }`)}if(e.conversationIntroAvatarRadius!==void 0){const d=e.conversationIntroAvatarRadiusUnit||"px";o.push(`${t} .conversation-intro .avatar { border-radius: ${e.conversationIntroAvatarRadius}${d}; }`)}if(e.conversationIntroAvatarRadius_tablet!==void 0){const d=e.conversationIntroAvatarRadiusUnit||"px";l.push(`${t} .conversation-intro .avatar { border-radius: ${e.conversationIntroAvatarRadius_tablet}${d}; }`)}if(e.conversationIntroAvatarRadius_mobile!==void 0){const d=e.conversationIntroAvatarRadiusUnit||"px";n.push(`${t} .conversation-intro .avatar { border-radius: ${e.conversationIntroAvatarRadius_mobile}${d}; }`)}const ee=_(e.conversationIntroNameTypography);ee&&o.push(`${t} .conversation-intro .name { ${ee} }`),e.conversationIntroNameColor&&o.push(`${t} .conversation-intro .name { color: ${e.conversationIntroNameColor}; }`);const G=_(e.conversationIntroSubtitleTypography);if(G&&o.push(`${t} .conversation-intro .subtitle { ${G} }`),e.conversationIntroSubtitleColor&&o.push(`${t} .conversation-intro .subtitle { color: ${e.conversationIntroSubtitleColor}; }`),e.conversationBodyMessageGap!==void 0){const d=e.conversationBodyMessageGapUnit||"px";o.push(`${t} .conversation-body { gap: ${e.conversationBodyMessageGap}${d}; }`)}if(e.conversationBodyMessageGap_tablet!==void 0){const d=e.conversationBodyMessageGapUnit||"px";l.push(`${t} .conversation-body { gap: ${e.conversationBodyMessageGap_tablet}${d}; }`)}if(e.conversationBodyMessageGap_mobile!==void 0){const d=e.conversationBodyMessageGapUnit||"px";n.push(`${t} .conversation-body { gap: ${e.conversationBodyMessageGap_mobile}${d}; }`)}const oe=ye(e.conversationBodyMessagePadding,"padding");oe&&o.push(`${t} .message-bubble { ${oe} }`);const ae=_(e.conversationBodyMessageTypography);if(ae&&o.push(`${t} .message-bubble { ${ae} }`),e.conversationBodyMessageRadius!==void 0){const d=e.conversationBodyMessageRadiusUnit||"px";o.push(`${t} .message-bubble { border-radius: ${e.conversationBodyMessageRadius}${d}; }`)}if(e.conversationBodyMessageRadius_tablet!==void 0){const d=e.conversationBodyMessageRadiusUnit||"px";l.push(`${t} .message-bubble { border-radius: ${e.conversationBodyMessageRadius_tablet}${d}; }`)}if(e.conversationBodyMessageRadius_mobile!==void 0){const d=e.conversationBodyMessageRadiusUnit||"px";n.push(`${t} .message-bubble { border-radius: ${e.conversationBodyMessageRadius_mobile}${d}; }`)}const W=he(e,"responder1");W&&o.push(`${t} .message-bubble.responder-1 { ${W} }`),e.responder1Color&&o.push(`${t} .message-bubble.responder-1 { color: ${e.responder1Color}; }`);const te=he(e,"responder2");te&&o.push(`${t} .message-bubble.responder-2 { ${te} }`),e.responder2Color&&o.push(`${t} .message-bubble.responder-2 { color: ${e.responder2Color}; }`);const ne=he(e,"error");ne&&o.push(`${t} .message-bubble.error { ${ne} }`),e.errorColor&&o.push(`${t} .message-bubble.error { color: ${e.errorColor}; }`);const V=_(e.messageInfoTypography);V&&o.push(`${t} .message-info { ${V} }`),e.messageInfoDefaultColor&&o.push(`${t} .message-info { color: ${e.messageInfoDefaultColor}; }`),e.messageInfoDeleteColor&&o.push(`${t} .message-info .delete { color: ${e.messageInfoDeleteColor}; }`);const le=_(e.seenTypography);if(le&&o.push(`${t} .seen-indicator { ${le} }`),e.seenColor&&o.push(`${t} .seen-indicator { color: ${e.seenColor}; }`),e.imagesRadius!==void 0){const d=e.imagesRadiusUnit||"px";o.push(`${t} .message-image { border-radius: ${e.imagesRadius}${d}; }`)}if(e.imagesRadius_tablet!==void 0){const d=e.imagesRadiusUnit||"px";l.push(`${t} .message-image { border-radius: ${e.imagesRadius_tablet}${d}; }`)}if(e.imagesRadius_mobile!==void 0){const d=e.imagesRadiusUnit||"px";n.push(`${t} .message-image { border-radius: ${e.imagesRadius_mobile}${d}; }`)}if(e.composeAvatarRadius!==void 0){const d=e.composeAvatarRadiusUnit||"px";o.push(`${t} .compose-area .avatar { border-radius: ${e.composeAvatarRadius}${d}; }`)}if(e.composeAvatarRadius_tablet!==void 0){const d=e.composeAvatarRadiusUnit||"px";l.push(`${t} .compose-area .avatar { border-radius: ${e.composeAvatarRadius_tablet}${d}; }`)}if(e.composeAvatarRadius_mobile!==void 0){const d=e.composeAvatarRadiusUnit||"px";n.push(`${t} .compose-area .avatar { border-radius: ${e.composeAvatarRadius_mobile}${d}; }`)}const N=_(e.composePlaceholderTypography);N&&o.push(`${t} .compose-area textarea::placeholder { ${N} }`),e.composePlaceholderColor&&o.push(`${t} .compose-area textarea::placeholder { color: ${e.composePlaceholderColor}; }`);const X=_(e.composeValueTypography);X&&o.push(`${t} .compose-area textarea { ${X} }`),e.composeValueColor&&o.push(`${t} .compose-area textarea { color: ${e.composeValueColor}; }`),e.iconButtonColor&&o.push(`${t} .icon-button { color: ${e.iconButtonColor}; }`),e.iconButtonBackground&&o.push(`${t} .icon-button { background-color: ${e.iconButtonBackground}; }`);const re=Z({borderType:e.iconButtonBorderType,borderWidth:e.iconButtonBorderWidth,borderColor:e.iconButtonBorderColor});if(re&&o.push(`${t} .icon-button { ${re} }`),e.iconButtonRadius!==void 0){const d=e.iconButtonRadiusUnit||"px";o.push(`${t} .icon-button { border-radius: ${e.iconButtonRadius}${d}; }`)}if(e.iconButtonRadius_tablet!==void 0){const d=e.iconButtonRadiusUnit||"px";l.push(`${t} .icon-button { border-radius: ${e.iconButtonRadius_tablet}${d}; }`)}if(e.iconButtonRadius_mobile!==void 0){const d=e.iconButtonRadiusUnit||"px";n.push(`${t} .icon-button { border-radius: ${e.iconButtonRadius_mobile}${d}; }`)}if(e.iconButtonHoverColor&&o.push(`${t} .icon-button:hover { color: ${e.iconButtonHoverColor}; }`),e.iconButtonHoverBackground&&o.push(`${t} .icon-button:hover { background-color: ${e.iconButtonHoverBackground}; }`),e.iconButtonHoverBorderColor&&o.push(`${t} .icon-button:hover { border-color: ${e.iconButtonHoverBorderColor}; }`),e.tertiaryButtonIconColor&&o.push(`${t} .tertiary-button .icon { color: ${e.tertiaryButtonIconColor}; }`),e.tertiaryButtonIconSize!==void 0){const d=e.tertiaryButtonIconSizeUnit||"px";o.push(`${t} .tertiary-button .icon { font-size: ${e.tertiaryButtonIconSize}${d}; }`)}if(e.tertiaryButtonIconSize_tablet!==void 0){const d=e.tertiaryButtonIconSizeUnit||"px";l.push(`${t} .tertiary-button .icon { font-size: ${e.tertiaryButtonIconSize_tablet}${d}; }`)}if(e.tertiaryButtonIconSize_mobile!==void 0){const d=e.tertiaryButtonIconSizeUnit||"px";n.push(`${t} .tertiary-button .icon { font-size: ${e.tertiaryButtonIconSize_mobile}${d}; }`)}e.tertiaryButtonBackground&&o.push(`${t} .tertiary-button { background-color: ${e.tertiaryButtonBackground}; }`);const F=Z({borderType:e.tertiaryButtonBorderType,borderWidth:e.tertiaryButtonBorderWidth,borderColor:e.tertiaryButtonBorderColor});if(F&&o.push(`${t} .tertiary-button { ${F} }`),e.tertiaryButtonRadius!==void 0){const d=e.tertiaryButtonRadiusUnit||"px";o.push(`${t} .tertiary-button { border-radius: ${e.tertiaryButtonRadius}${d}; }`)}if(e.tertiaryButtonRadius_tablet!==void 0){const d=e.tertiaryButtonRadiusUnit||"px";l.push(`${t} .tertiary-button { border-radius: ${e.tertiaryButtonRadius_tablet}${d}; }`)}if(e.tertiaryButtonRadius_mobile!==void 0){const d=e.tertiaryButtonRadiusUnit||"px";n.push(`${t} .tertiary-button { border-radius: ${e.tertiaryButtonRadius_mobile}${d}; }`)}const O=_(e.tertiaryButtonTypography);if(O&&o.push(`${t} .tertiary-button { ${O} }`),e.tertiaryButtonTextColor&&o.push(`${t} .tertiary-button { color: ${e.tertiaryButtonTextColor}; }`),e.tertiaryButtonHoverIconColor&&o.push(`${t} .tertiary-button:hover .icon { color: ${e.tertiaryButtonHoverIconColor}; }`),e.tertiaryButtonHoverBackground&&o.push(`${t} .tertiary-button:hover { background-color: ${e.tertiaryButtonHoverBackground}; }`),e.tertiaryButtonHoverBorderColor&&o.push(`${t} .tertiary-button:hover { border-color: ${e.tertiaryButtonHoverBorderColor}; }`),e.tertiaryButtonHoverTextColor&&o.push(`${t} .tertiary-button:hover { color: ${e.tertiaryButtonHoverTextColor}; }`),e.emptyIconSize!==void 0){const d=e.emptyIconSizeUnit||"px";o.push(`${t} .empty-state .icon { font-size: ${e.emptyIconSize}${d}; }`)}if(e.emptyIconSize_tablet!==void 0){const d=e.emptyIconSizeUnit||"px";l.push(`${t} .empty-state .icon { font-size: ${e.emptyIconSize_tablet}${d}; }`)}if(e.emptyIconSize_mobile!==void 0){const d=e.emptyIconSizeUnit||"px";n.push(`${t} .empty-state .icon { font-size: ${e.emptyIconSize_mobile}${d}; }`)}e.emptyIconColor&&o.push(`${t} .empty-state .icon { color: ${e.emptyIconColor}; }`),e.emptyTitleColor&&o.push(`${t} .empty-state .title { color: ${e.emptyTitleColor}; }`);const Y=_(e.emptyTitleTypography);Y&&o.push(`${t} .empty-state .title { ${Y} }`),e.loadingColor1&&o.push(`${t} .loader { --color-1: ${e.loadingColor1}; }`),e.loadingColor2&&o.push(`${t} .loader { --color-2: ${e.loadingColor2}; }`);let j="";return o.length>0&&(j+=o.join(`
`)),l.length>0&&(j+=`
@media (max-width: 1024px) {
${l.join(`
`)}
}`),n.length>0&&(j+=`
@media (max-width: 767px) {
${n.join(`
`)}
}`),j}function Xe({attributes:e,setAttributes:s}){const o=e.icons||{},l=(n,t)=>{s({icons:{...e.icons,[n]:t}})};return React.createElement(Ce,{defaultPanel:"icons"},React.createElement(I,{id:"icons",title:r("Icons","voxel-fse")},React.createElement(T,{label:r("Search","voxel-fse"),value:o.search,onChange:n=>l("search",n)}),React.createElement(T,{label:r("Chat","voxel-fse"),value:o.chat,onChange:n=>l("chat",n)}),React.createElement(T,{label:r("Load more","voxel-fse"),value:o.loadMore,onChange:n=>l("loadMore",n)}),React.createElement(T,{label:r("Back","voxel-fse"),value:o.back,onChange:n=>l("back",n)}),React.createElement(T,{label:r("More","voxel-fse"),value:o.more,onChange:n=>l("more",n)}),React.createElement(T,{label:r("User","voxel-fse"),value:o.user,onChange:n=>l("user",n)}),React.createElement(T,{label:r("Clear","voxel-fse"),value:o.clear,onChange:n=>l("clear",n)}),React.createElement(T,{label:r("Ban","voxel-fse"),value:o.ban,onChange:n=>l("ban",n)}),React.createElement(T,{label:r("Trash","voxel-fse"),value:o.trash,onChange:n=>l("trash",n)}),React.createElement(T,{label:r("Upload","voxel-fse"),value:o.upload,onChange:n=>l("upload",n)}),React.createElement(T,{label:r("Media library","voxel-fse"),value:o.gallery,onChange:n=>l("gallery",n)}),React.createElement(T,{label:r("Emoji","voxel-fse"),value:o.emoji,onChange:n=>l("emoji",n)}),React.createElement(T,{label:r("Send","voxel-fse"),value:o.send,onChange:n=>l("send",n)})))}function Ye({attributes:e,setAttributes:s}){return React.createElement(Ce,{attributes:e,setAttributes:s,stateAttribute:"styleTabOpenPanel",defaultPanel:"general"},React.createElement(I,{id:"general",title:r("General","voxel-fse")},React.createElement(x,{label:r("Height","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"generalHeight",min:200,max:1200,step:1,units:["px","%","vh"]}),React.createElement(Fe,{label:r("Calculate height?","voxel-fse"),checked:e.enableCalcHeight||!1,onChange:o=>s({enableCalcHeight:o})}),e.enableCalcHeight&&React.createElement(Ue,{label:r("Calculation","voxel-fse"),help:r("Use CSS calc() to calculate height e.g calc(100vh - 215px)","voxel-fse"),attributes:e,setAttributes:s,attributeName:"calcHeight"}),React.createElement(u,{label:r("Background color","voxel-fse"),value:e.generalBackground,onChange:o=>s({generalBackground:o})}),React.createElement(Q,{label:r("Border","voxel-fse"),value:{borderType:e.generalBorderType,borderWidth:e.generalBorderWidth,borderColor:e.generalBorderColor},onChange:o=>s({generalBorderType:o.borderType,generalBorderWidth:o.borderWidth,generalBorderColor:o.borderColor}),hideRadius:!0}),React.createElement(x,{label:r("Border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"generalBorderRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(Le,{label:r("Box Shadow","voxel-fse"),attributes:e,setAttributes:s,shadowAttributeName:"generalBoxShadow"}),React.createElement(x,{label:r("Sidebar width","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"sidebarWidth",min:200,max:1200,step:1,units:["px"]}),React.createElement(u,{label:r("Separator color","voxel-fse"),value:e.separatorColor,onChange:o=>s({separatorColor:o})}),React.createElement(u,{label:r("Scrollbar color","voxel-fse"),value:e.scrollbarColor,onChange:o=>s({scrollbarColor:o})})),React.createElement(I,{id:"inbox-message",title:r("Inbox: Message","voxel-fse")},React.createElement(ie,{tabs:[{name:"normal",title:r("Normal","voxel-fse")},{name:"hover",title:r("Hover","voxel-fse")},{name:"active",title:r("Active","voxel-fse")},{name:"unread",title:r("Unread","voxel-fse")},{name:"new",title:r("New","voxel-fse")}],attributes:e,setAttributes:s,attributeName:"inboxMessageActiveTab"},o=>o.name==="normal"?React.createElement(React.Fragment,null,React.createElement(b,{label:r("General","voxel-fse")}),React.createElement(fe,{label:r("Padding","voxel-fse"),values:e.inboxMessagePadding||{},onChange:l=>s({inboxMessagePadding:l})}),React.createElement(b,{label:r("Content","voxel-fse")}),React.createElement(x,{label:r("Content gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageContentGap",min:0,max:100,step:1,units:["px"]}),React.createElement(u,{label:r("Title color","voxel-fse"),value:e.inboxMessageTitleColor,onChange:l=>s({inboxMessageTitleColor:l})}),React.createElement(E,{label:r("Title typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageTitleTypography"}),React.createElement(u,{label:r("Subtitle color","voxel-fse"),value:e.inboxMessageSubtitleColor,onChange:l=>s({inboxMessageSubtitleColor:l})}),React.createElement(E,{label:r("Subtitle typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageSubtitleTypography"}),React.createElement(b,{label:r("Avatar / Logo","voxel-fse")}),React.createElement(x,{label:r("Size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageAvatarSize",min:20,max:40,step:1,units:["px"]}),React.createElement(x,{label:r("Gap against content","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageAvatarGap",min:0,max:100,step:1,units:["px"]}),React.createElement(b,{label:r("Secondary logo","voxel-fse")}),React.createElement(x,{label:r("Size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageSecondaryLogoSize",min:20,max:40,step:1,units:["px"]}),React.createElement(Q,{label:r("Border","voxel-fse"),value:e.inboxMessageSecondaryLogoBorder||{},onChange:l=>s({inboxMessageSecondaryLogoBorder:l}),hideRadius:!0})):o.name==="hover"?React.createElement(React.Fragment,null,React.createElement(u,{label:r("Background","voxel-fse"),value:e.inboxMessageHoverBg,onChange:l=>s({inboxMessageHoverBg:l})}),React.createElement(u,{label:r("Title color","voxel-fse"),value:e.inboxMessageHoverTitleColor,onChange:l=>s({inboxMessageHoverTitleColor:l})}),React.createElement(u,{label:r("Subtitle color","voxel-fse"),value:e.inboxMessageHoverSubtitleColor,onChange:l=>s({inboxMessageHoverSubtitleColor:l})})):o.name==="active"?React.createElement(React.Fragment,null,React.createElement(u,{label:r("Background","voxel-fse"),value:e.inboxMessageActiveBg,onChange:l=>s({inboxMessageActiveBg:l})}),React.createElement(x,{label:r("Border width","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageActiveBorderWidth",min:0,max:40,step:1,units:["px"]}),React.createElement(u,{label:r("Border color","voxel-fse"),value:e.inboxMessageActiveBorderColor,onChange:l=>s({inboxMessageActiveBorderColor:l})}),React.createElement(u,{label:r("Title color","voxel-fse"),value:e.inboxMessageActiveTitleColor,onChange:l=>s({inboxMessageActiveTitleColor:l})}),React.createElement(u,{label:r("Subtitle color","voxel-fse"),value:e.inboxMessageActiveSubtitleColor,onChange:l=>s({inboxMessageActiveSubtitleColor:l})})):o.name==="unread"?React.createElement(React.Fragment,null,React.createElement(E,{label:r("Title typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageUnreadTitleTypography"})):React.createElement(React.Fragment,null,React.createElement(Q,{label:r("Avatar border","voxel-fse"),value:e.inboxMessageNewAvatarBorder||{},onChange:l=>s({inboxMessageNewAvatarBorder:l}),hideRadius:!0})))),React.createElement(I,{id:"inbox-search",title:r("Inbox: Search","voxel-fse")},React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxSearchTypography"}),React.createElement(u,{label:r("Value color","voxel-fse"),value:e.inboxSearchValueColor,onChange:o=>s({inboxSearchValueColor:o})}),React.createElement(u,{label:r("Input placeholder color","voxel-fse"),value:e.inboxSearchPlaceholderColor,onChange:o=>s({inboxSearchPlaceholderColor:o})}),React.createElement(u,{label:r("Icon color","voxel-fse"),value:e.inboxSearchIconColor,onChange:o=>s({inboxSearchIconColor:o})}),React.createElement(x,{label:r("Icon size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxSearchIconSize",min:0,max:40,step:1,units:["px"]})),React.createElement(I,{id:"conversation-top",title:r("Conversation: Top","voxel-fse")},React.createElement(x,{label:r("Avatar radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationTopAvatarRadius",min:0,max:100,step:1,units:["px"]}),React.createElement(x,{label:r("Avatar / Text gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationTopAvatarGap",min:0,max:100,step:1,units:["px"]}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationTopTypography"}),React.createElement(u,{label:r("Text color","voxel-fse"),value:e.conversationTopTextColor,onChange:o=>s({conversationTopTextColor:o})})),React.createElement(I,{id:"conversation-intro",title:r("Conversation: Intro","voxel-fse")},React.createElement(x,{label:r("Content gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroContentGap",min:0,max:100,step:1,units:["px"]}),React.createElement(x,{label:r("Avatar size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroAvatarSize",min:20,max:40,step:1,units:["px"]}),React.createElement(x,{label:r("Avatar border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroAvatarRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(E,{label:r("Name typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroNameTypography"}),React.createElement(u,{label:r("Name color","voxel-fse"),value:e.conversationIntroNameColor,onChange:o=>s({conversationIntroNameColor:o})}),React.createElement(E,{label:r("Subtitle typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroSubtitleTypography"}),React.createElement(u,{label:r("Subtitle color","voxel-fse"),value:e.conversationIntroSubtitleColor,onChange:o=>s({conversationIntroSubtitleColor:o})})),React.createElement(I,{id:"conversation-body",title:r("Conversation: Body","voxel-fse")},React.createElement(x,{label:r("Message gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationBodyMessageGap",min:0,max:100,step:1,units:["px"]}),React.createElement(b,{label:r("Single message","voxel-fse")}),React.createElement(fe,{label:r("Padding","voxel-fse"),values:e.conversationBodyMessagePadding||{},onChange:o=>s({conversationBodyMessagePadding:o})}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationBodyMessageTypography"}),React.createElement(x,{label:r("Border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationBodyMessageRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(b,{label:r("Responder 1","voxel-fse")}),React.createElement(de,{attributes:e,setAttributes:s,showHoverState:!1}),React.createElement(u,{label:r("Color","voxel-fse"),value:e.responder1Color,onChange:o=>s({responder1Color:o})}),React.createElement(b,{label:r("Responder 2","voxel-fse")}),React.createElement(de,{attributes:e,setAttributes:s,showHoverState:!1}),React.createElement(u,{label:r("Color","voxel-fse"),value:e.responder2Color,onChange:o=>s({responder2Color:o})}),React.createElement(b,{label:r("Error","voxel-fse")}),React.createElement(de,{attributes:e,setAttributes:s,showHoverState:!1}),React.createElement(u,{label:r("Color","voxel-fse"),value:e.errorColor,onChange:o=>s({errorColor:o})}),React.createElement(b,{label:r("Message info","voxel-fse")}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"messageInfoTypography"}),React.createElement(u,{label:r("Default Color","voxel-fse"),value:e.messageInfoDefaultColor,onChange:o=>s({messageInfoDefaultColor:o})}),React.createElement(u,{label:r("Delete color","voxel-fse"),value:e.messageInfoDeleteColor,onChange:o=>s({messageInfoDeleteColor:o})}),React.createElement(b,{label:r("Seen","voxel-fse")}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"seenTypography"}),React.createElement(u,{label:r("Color","voxel-fse"),value:e.seenColor,onChange:o=>s({seenColor:o})}),React.createElement(b,{label:r("Images","voxel-fse")}),React.createElement(x,{label:r("Border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"imagesRadius",min:0,max:100,step:1,units:["px","%"]})),React.createElement(I,{id:"conversation-compose",title:r("Conversation: Compose","voxel-fse")},React.createElement(x,{label:r("Avatar radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"composeAvatarRadius",min:0,max:100,step:1,units:["px"]}),React.createElement(b,{label:r("Placeholder","voxel-fse")}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"composePlaceholderTypography"}),React.createElement(u,{label:r("Color","voxel-fse"),value:e.composePlaceholderColor,onChange:o=>s({composePlaceholderColor:o})}),React.createElement(b,{label:r("Value","voxel-fse")}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"composeValueTypography"}),React.createElement(u,{label:r("Color","voxel-fse"),value:e.composeValueColor,onChange:o=>s({composeValueColor:o})})),React.createElement(I,{id:"icon-button",title:r("Icon button","voxel-fse")},React.createElement(ie,{tabs:[{name:"normal",title:r("Normal","voxel-fse")},{name:"hover",title:r("Hover","voxel-fse")}],attributes:e,setAttributes:s,attributeName:"iconButtonActiveTab"},o=>o.name==="normal"?React.createElement(React.Fragment,null,React.createElement(b,{label:r("Button styling","voxel-fse")}),React.createElement(u,{label:r("Button icon color","voxel-fse"),value:e.iconButtonColor,onChange:l=>s({iconButtonColor:l})}),React.createElement(u,{label:r("Button background","voxel-fse"),value:e.iconButtonBackground,onChange:l=>s({iconButtonBackground:l})}),React.createElement(Q,{label:r("Button border","voxel-fse"),value:{borderType:e.iconButtonBorderType,borderWidth:e.iconButtonBorderWidth,borderColor:e.iconButtonBorderColor},onChange:l=>s({iconButtonBorderType:l.borderType,iconButtonBorderWidth:l.borderWidth,iconButtonBorderColor:l.borderColor}),hideRadius:!0}),React.createElement(x,{label:r("Button border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"iconButtonRadius",min:0,max:100,step:1,units:["px","%"]})):React.createElement(React.Fragment,null,React.createElement(u,{label:r("Button icon color","voxel-fse"),value:e.iconButtonHoverColor,onChange:l=>s({iconButtonHoverColor:l})}),React.createElement(u,{label:r("Button background color","voxel-fse"),value:e.iconButtonHoverBackground,onChange:l=>s({iconButtonHoverBackground:l})}),React.createElement(u,{label:r("Button border color","voxel-fse"),value:e.iconButtonHoverBorderColor,onChange:l=>s({iconButtonHoverBorderColor:l})})))),React.createElement(I,{id:"tertiary-button",title:r("Tertiary button","voxel-fse")},React.createElement(ie,{tabs:[{name:"normal",title:r("Normal","voxel-fse")},{name:"hover",title:r("Hover","voxel-fse")}],attributes:e,setAttributes:s,attributeName:"tertiaryButtonActiveTab"},o=>o.name==="normal"?React.createElement(React.Fragment,null,React.createElement(u,{label:r("Button icon color","voxel-fse"),value:e.tertiaryButtonIconColor,onChange:l=>s({tertiaryButtonIconColor:l})}),React.createElement(x,{label:r("Button icon size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"tertiaryButtonIconSize",min:0,max:100,step:1,units:["px"]}),React.createElement(u,{label:r("Button background","voxel-fse"),value:e.tertiaryButtonBackground,onChange:l=>s({tertiaryButtonBackground:l})}),React.createElement(Q,{label:r("Button border","voxel-fse"),value:{borderType:e.tertiaryButtonBorderType,borderWidth:e.tertiaryButtonBorderWidth,borderColor:e.tertiaryButtonBorderColor},onChange:l=>s({tertiaryButtonBorderType:l.borderType,tertiaryButtonBorderWidth:l.borderWidth,tertiaryButtonBorderColor:l.borderColor}),hideRadius:!0}),React.createElement(x,{label:r("Button border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"tertiaryButtonRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"tertiaryButtonTypography"}),React.createElement(u,{label:r("Text color","voxel-fse"),value:e.tertiaryButtonTextColor,onChange:l=>s({tertiaryButtonTextColor:l})})):React.createElement(React.Fragment,null,React.createElement(u,{label:r("Button icon color","voxel-fse"),value:e.tertiaryButtonHoverIconColor,onChange:l=>s({tertiaryButtonHoverIconColor:l})}),React.createElement(u,{label:r("Button background","voxel-fse"),value:e.tertiaryButtonHoverBackground,onChange:l=>s({tertiaryButtonHoverBackground:l})}),React.createElement(u,{label:r("Border color","voxel-fse"),value:e.tertiaryButtonHoverBorderColor,onChange:l=>s({tertiaryButtonHoverBorderColor:l})}),React.createElement(u,{label:r("Text color","voxel-fse"),value:e.tertiaryButtonHoverTextColor,onChange:l=>s({tertiaryButtonHoverTextColor:l})})))),React.createElement(I,{id:"no-messages",title:r("No messages / No chat selected","voxel-fse")},React.createElement(x,{label:r("Icon size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"emptyIconSize",min:20,max:50,step:1,units:["px"]}),React.createElement(u,{label:r("Icon color","voxel-fse"),value:e.emptyIconColor,onChange:o=>s({emptyIconColor:o})}),React.createElement(u,{label:r("Title color","voxel-fse"),value:e.emptyTitleColor,onChange:o=>s({emptyTitleColor:o})}),React.createElement(E,{label:r("Title typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"emptyTitleTypography"})),React.createElement(I,{id:"loading",title:r("Loading","voxel-fse")},React.createElement(b,{label:r("Loading","voxel-fse")}),React.createElement(u,{label:r("Color 1","voxel-fse"),value:e.loadingColor1,onChange:o=>s({loadingColor1:o})}),React.createElement(u,{label:r("Color 2","voxel-fse"),value:e.loadingColor2,onChange:o=>s({loadingColor2:o})})))}function Qe({attributes:e,setAttributes:s,clientId:o}){const l=e.blockId||o;ce(()=>{e.blockId||s({blockId:o})},[e.blockId,o,s]);const n=Re(e,{blockId:l,baseClass:"voxel-fse-messages",selectorPrefix:"voxel-fse-messages"}),t=ve(()=>$e(e,l),[e,l]),C=ve(()=>[n.responsiveCSS,t].filter(Boolean).join(`
`),[n.responsiveCSS,t]),R=xe({id:n.elementId,className:n.className,style:n.styles,...n.customAttrs});return React.createElement(React.Fragment,null,React.createElement(He,null,React.createElement(Ae,{tabs:[{id:"content",label:r("Content","voxel-fse"),icon:"î¤¬",render:()=>React.createElement(Xe,{attributes:e,setAttributes:s})},{id:"style",label:r("Style","voxel-fse"),icon:"î¤¡",render:()=>React.createElement(Ye,{attributes:e,setAttributes:s})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:s,defaultTab:"content"})),React.createElement("div",{...R},C&&React.createElement("style",{dangerouslySetInnerHTML:{__html:C}}),React.createElement(Ke,{attributes:e,context:"editor"})))}function Be(e){return function({attributes:o}){const l=o.blockId||"messages",n=Re(o,{blockId:l,baseClass:"voxel-fse-messages"}),t=$e(o,l),C=[n.responsiveCSS,t].filter(Boolean).join(`
`),R=xe.save({id:n.elementId,className:n.className,style:n.styles,"data-visibility-behavior":o.visibilityBehavior||void 0,"data-visibility-rules":o.visibilityRules?.length?JSON.stringify(o.visibilityRules):void 0,"data-loop-source":o.loopSource||void 0,"data-loop-limit":o.loopLimit||void 0,"data-loop-offset":o.loopOffset||void 0,...n.customAttrs}),S={icons:o.icons,settings:{enableCalcHeight:o.enableCalcHeight,calcHeight:o.calcHeight}};return React.createElement("div",{...R},C&&React.createElement("style",{dangerouslySetInnerHTML:{__html:C}}),De(o,!1,void 0,void 0,n.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(S)}}),e&&React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",padding:"40px",minHeight:"400px",borderRadius:"8px",border:"1px solid #e0e0e0"}},React.createElement("div",{style:{textAlign:"center",color:"#999"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.4}},React.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"})),React.createElement("p",{style:{margin:"12px 0 0",fontSize:"14px"}},"Messages Widget"))))}}const Ze=Be(!1),eo=Be(!0),oo="https://schemas.wp.org/trunk/block.json",ao=3,to="voxel-fse/messages",no="1.0.0",lo="Messages (VX)",ro="voxel-fse",so="Direct messages inbox with real-time chat functionality. FSE equivalent of Voxel's Messages widget.",co=["messages","inbox","chat","direct messages","dm","conversation","voxel"],io="voxel-fse",mo={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},po="file:./index.js",ho="file:./frontend.js",vo="file:./render.php",go={blockId:{type:"string",default:""},icons:{type:"object",default:{search:{library:"",value:""},chat:{library:"",value:""},loadMore:{library:"",value:""},back:{library:"",value:""},more:{library:"",value:""},user:{library:"",value:""},clear:{library:"",value:""},ban:{library:"",value:""},trash:{library:"",value:""},upload:{library:"",value:""},gallery:{library:"",value:""},emoji:{library:"",value:""},send:{library:"",value:""}}},generalHeight:{type:"number"},generalHeightTablet:{type:"number"},generalHeightMobile:{type:"number"},generalHeightUnit:{type:"string",default:"px"},enableCalcHeight:{type:"boolean",default:!1},calcHeight:{type:"string",default:""},generalBackground:{type:"string",default:""},generalBorderType:{type:"string",default:"default"},generalBorderWidth:{type:"number",default:0},generalBorderColor:{type:"string",default:""},generalBorderRadius:{type:"number",default:0},generalBoxShadow:{type:"object",default:{}},sidebarWidth:{type:"number"},separatorColor:{type:"string",default:""},scrollbarColor:{type:"string",default:""},inboxMessagePadding:{type:"object",default:{top:"",right:"",bottom:"",left:""}},inboxMessageContentGap:{type:"number"},inboxMessageTitleColor:{type:"string",default:""},inboxMessageTitleTypography:{type:"object",default:{}},inboxMessageSubtitleColor:{type:"string",default:""},inboxMessageSubtitleTypography:{type:"object",default:{}},inboxMessageAvatarSize:{type:"number"},inboxMessageAvatarRadius:{type:"number"},inboxMessageAvatarGap:{type:"number"},inboxMessageSecondaryLogoSize:{type:"number"},inboxMessageSecondaryLogoRadius:{type:"number"},inboxMessageSecondaryLogoBorder:{type:"object",default:{}},inboxMessageHoverBg:{type:"string",default:""},inboxMessageHoverTitleColor:{type:"string",default:""},inboxMessageHoverSubtitleColor:{type:"string",default:""},inboxMessageActiveBg:{type:"string",default:""},inboxMessageActiveBorderWidth:{type:"number"},inboxMessageActiveBorderColor:{type:"string",default:""},inboxMessageActiveTitleColor:{type:"string",default:""},inboxMessageActiveSubtitleColor:{type:"string",default:""},inboxMessageUnreadTitleTypography:{type:"object",default:{}},inboxMessageNewAvatarBorder:{type:"object",default:{}},inboxSearchTypography:{type:"object",default:{}},inboxSearchValueColor:{type:"string",default:""},inboxSearchPlaceholderColor:{type:"string",default:""},inboxSearchIconColor:{type:"string",default:""},inboxSearchIconSize:{type:"number"},conversationTopAvatarRadius:{type:"number"},conversationTopAvatarGap:{type:"number"},conversationTopTypography:{type:"object",default:{}},conversationTopTextColor:{type:"string",default:""},conversationIntroContentGap:{type:"number"},conversationIntroAvatarSize:{type:"number"},conversationIntroAvatarRadius:{type:"number"},conversationIntroNameTypography:{type:"object",default:{}},conversationIntroNameColor:{type:"string",default:""},conversationIntroSubtitleTypography:{type:"object",default:{}},conversationIntroSubtitleColor:{type:"string",default:""},conversationBodyMessageGap:{type:"number"},conversationBodyMessagePadding:{type:"object",default:{top:"",right:"",bottom:"",left:""}},conversationBodyMessageTypography:{type:"object",default:{}},conversationBodyMessageRadius:{type:"number"},responder1Background:{type:"object",default:{}},responder1Color:{type:"string",default:""},responder2Background:{type:"object",default:{}},responder2Color:{type:"string",default:""},errorBackground:{type:"object",default:{}},errorColor:{type:"string",default:""},messageInfoTypography:{type:"object",default:{}},messageInfoDefaultColor:{type:"string",default:""},messageInfoDeleteColor:{type:"string",default:""},seenTypography:{type:"object",default:{}},seenColor:{type:"string",default:""},imagesRadius:{type:"number"},composeAvatarRadius:{type:"number"},composePlaceholderTypography:{type:"object",default:{}},composePlaceholderColor:{type:"string",default:""},composeValueTypography:{type:"object",default:{}},composeValueColor:{type:"string",default:""},iconButtonColor:{type:"string",default:""},iconButtonBackground:{type:"string",default:""},iconButtonBorderType:{type:"string",default:"default"},iconButtonBorderWidth:{type:"number",default:0},iconButtonBorderColor:{type:"string",default:""},iconButtonRadius:{type:"number"},iconButtonHoverColor:{type:"string",default:""},iconButtonHoverBackground:{type:"string",default:""},iconButtonHoverBorderColor:{type:"string",default:""},tertiaryButtonIconColor:{type:"string",default:""},tertiaryButtonIconSize:{type:"number"},tertiaryButtonBackground:{type:"string",default:""},tertiaryButtonBorderType:{type:"string",default:"default"},tertiaryButtonBorderWidth:{type:"number",default:0},tertiaryButtonBorderColor:{type:"string",default:""},tertiaryButtonRadius:{type:"number"},tertiaryButtonTypography:{type:"object",default:{}},tertiaryButtonTextColor:{type:"string",default:""},tertiaryButtonHoverIconColor:{type:"string",default:""},tertiaryButtonHoverBackground:{type:"string",default:""},tertiaryButtonHoverBorderColor:{type:"string",default:""},tertiaryButtonHoverTextColor:{type:"string",default:""},emptyIconSize:{type:"number",default:35},emptyIconColor:{type:"string",default:""},emptyTitleColor:{type:"string",default:""},emptyTitleTypography:{type:"object",default:{}},loadingColor1:{type:"string",default:""},loadingColor2:{type:"string",default:""},styleTabOpenPanel:{type:"string",default:"general"},inboxMessageActiveTab:{type:"string",default:"normal"},iconButtonActiveTab:{type:"string",default:"normal"},tertiaryButtonActiveTab:{type:"string",default:"normal"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},ge={$schema:oo,apiVersion:ao,name:to,version:no,title:lo,category:ro,description:so,keywords:co,textdomain:io,supports:mo,editorScript:po,viewScript:ho,render:vo,attributes:go},uo=[{attributes:ge.attributes,save:eo}];ze(ge.name,{...ge,icon:Ge,edit:Qe,save:Ze,deprecated:uo});
