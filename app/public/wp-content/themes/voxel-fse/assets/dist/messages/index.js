import{registerBlockType as ke}from"@wordpress/blocks";import{useBlockProps as xe,InspectorControls as Ne}from"@wordpress/block-editor";import{useState as ze,useEffect as ce,useRef as K,useCallback as u,useMemo as ve}from"react";import{__ as r}from"@wordpress/i18n";import{M as He}from"../MediaPopup-CXePoOCG.js";import{A as Ce,a as k,R as x,e as je,C as g,B as Z,c as Ue,b as ie,S as b,D as ue,T as E}from"../TypographyPopup-BXz72zyZ.js";import{I as Pe}from"../InspectorTabs-DmdaThza.js";import{ToggleControl as Le}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-BJok1GGr.js";import"../voxelShim-DB_Ue-9R.js";import{g as $e}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as Ae}from"../backgroundElements-Ui-iCrLV.js";import{I as T}from"../IconPickerControl-DZSJ-4aK.js";import{B as de}from"../BackgroundControl-CJYnO3jL.js";import{V as Fe}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";import"../FormPopup-DDYHzYWU.js";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";import"../GalleryUploadControl-BiHnGe6_.js";const M={search:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>',inbox:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"></path><path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"></path></svg>',chevronLeft:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>',menu:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"></path></svg>',reload:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path></svg>',send:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path></svg>',emoji:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd"></path></svg>',attach:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z" clip-rule="evenodd"></path></svg>',close:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',trash:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>',block:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"></path></svg>',gallery:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path><path d="M6 6.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"></path></svg>'};function w(e,s){return e&&e.value?e.value:s}function Ge(e=8){const s="abcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let l=0;l<e;l++)o+=s.charAt(Math.floor(Math.random()*s.length));return o}function De(e,s=300){let o=null;return((...l)=>{o&&clearTimeout(o),o=setTimeout(()=>e(...l),s)})}function me(e){return new URLSearchParams(window.location.search).get(e)}function We(e,s){const o=new URL(window.location.href);o.searchParams.set(e,s),window.history.replaceState({},"",o.toString())}function pe(e){const s=new URL(window.location.href);s.searchParams.delete(e),window.history.replaceState({},"",s.toString())}function X(e,s="error"){const o=window.Voxel;o?.alert?o.alert(e,s):console.error(`[messages] ${s}: ${e}`)}const Ve=[];function Oe({attributes:e,context:s,config:o,messagesConfig:l}){const[n,t]=ze({chats:{loading:!1,loadingMore:!1,list:s==="editor"?Ve:[],hasMore:!1,page:1},activeChat:null,search:{term:"",loading:!1,list:[]},emojis:{loading:!1,list:null,search:{term:"",list:[]},recents:[]},files:[],activePopup:null,dragActive:!1});ce(()=>{const a="voxel-messages-css";if(!document.getElementById(a)){const c=document.createElement("link");c.id=a,c.rel="stylesheet";const p=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");c.href=`${p}/wp-content/themes/voxel/assets/dist/messages.css?ver=1.7.5.2`,document.head.appendChild(c)}},[]);const $=K(null),R=K(null),I=K(null),A=K(null),D=K(null),N=K(null),C=u(a=>{const c=window.Voxel_Config;return c?.ajax_url?`${c.ajax_url}&action=${a}`:`${c?.site_url||window.location.origin}/?vx=1&action=${a}`},[]),H=u(()=>{$.current&&($.current.scrollTop=$.current.scrollHeight)},[]),j=u(()=>{!R.current||!I.current||(I.current.value=R.current.value,I.current.style.width=`${R.current.scrollWidth}px`,I.current.style.minWidth=`${R.current.scrollWidth}px`,I.current.style.maxWidth=`${R.current.scrollWidth}px`,R.current.style.height=`${I.current.scrollHeight}px`)},[]),F=u(async(a=!1,c=1)=>{if(l){t(d=>({...d,chats:{...d.chats,loading:c===1,loadingMore:c>1}}));try{const d=new FormData;if(d.append("pg",String(c)),d.append("_wpnonce",l.nonce),a){const h=me("chat");h&&d.append("load",h)}const m=await(await fetch(C("inbox.list_chats"),{method:"POST",body:d})).json();if(m.success){const h=m.list||m.data?.chats||[];if(t(v=>({...v,chats:{loading:!1,loadingMore:!1,list:c===1?h:[...v.chats.list,...h],hasMore:m.has_more||m.data?.has_more||!1,page:c}})),a){const v=h.find(f=>f.autoload);v?W(v):m.default_chat&&W(m.default_chat)}}else X(m.message||"Failed to load chats","error"),t(h=>({...h,chats:{...h.chats,loading:!1,loadingMore:!1}}))}catch(d){console.error("[messages] Failed to load chats:",d),t(p=>({...p,chats:{...p.chats,loading:!1,loadingMore:!1}}))}}},[l,C]),oe=u(()=>{const a=n.chats.page+1;F(!1,a)},[n.chats.page,F]),W=u(async a=>{const c=[a.author.type==="post"?a.author.id:"",a.target.type==="post"?"p":"u",a.target.id].join("");if(We("chat",c),t(d=>({...d,activeChat:{...a,messages:{loading:!0,loadingMore:!1,list:[],hasMore:!1},state:{content:""},processing:!1,follow_status:a.follow_status||{author:0,target:0}},files:[]})),!!l)try{const d=new FormData;d.append("author_type",a.author.type),d.append("author_id",String(a.author.id)),d.append("target_type",a.target.type),d.append("target_id",String(a.target.id)),d.append("_wpnonce",l.nonce);const m=await(await fetch(C("inbox.load_chat"),{method:"POST",body:d})).json();if(m.success){t(v=>v.activeChat?{...v,activeChat:{...v.activeChat,messages:{loading:!1,loadingMore:!1,list:m.list||[],hasMore:m.has_more||!1},is_new:!1,seen:!0,follow_status:{author:m.follow_status?.author??v.activeChat.follow_status?.author??0,target:m.follow_status?.target??v.activeChat.follow_status?.target??0}}}:v),setTimeout(()=>{H(),j(),R.current?.focus()},50);const h=me("text");h&&(t(v=>v.activeChat?{...v,activeChat:{...v.activeChat,state:{content:h}}}:v),pe("text"))}else X(m.message||"Failed to load messages","error")}catch(d){console.error("[messages] Failed to load messages:",d)}},[l,C,H,j]),ae=u(()=>{pe("chat"),t(a=>({...a,activeChat:null,files:[]}))},[]),te=u(async()=>{if(!n.activeChat||!l||n.activeChat.messages.loadingMore)return;const a=$.current;if(!a)return;const c=a.scrollHeight-a.scrollTop;t(d=>d.activeChat?{...d,activeChat:{...d.activeChat,messages:{...d.activeChat.messages,loadingMore:!0}}}:d);try{const d=n.activeChat.messages.list[n.activeChat.messages.list.length-1],p=new FormData;d&&p.append("cursor",String(d.id)),p.append("author_type",n.activeChat.author.type),p.append("author_id",String(n.activeChat.author.id)),p.append("target_type",n.activeChat.target.type),p.append("target_id",String(n.activeChat.target.id)),p.append("_wpnonce",l.nonce);const h=await(await fetch(C("inbox.load_chat"),{method:"POST",body:p})).json();h.success&&(t(v=>v.activeChat?{...v,activeChat:{...v.activeChat,messages:{loading:!1,loadingMore:!1,list:[...v.activeChat.messages.list,...h.list||[]],hasMore:h.has_more||!1}}}:v),setTimeout(()=>{a&&(a.scrollTop=a.scrollHeight-c)},10))}catch(d){console.error("[messages] Failed to load more messages:",d),t(p=>p.activeChat?{...p,activeChat:{...p.activeChat,messages:{...p.activeChat.messages,loadingMore:!1}}}:p)}},[n.activeChat,l,C]),V=u(async()=>{if(!n.activeChat||!l)return;const a=n.activeChat.state.content.trim(),c=n.files.length>0;if(!a&&!c)return;const d={id:Date.now(),content:a.replace(/(?:\r\n|\r|\n){2,}/g,"</p><p>").replace(/(?:\r\n|\r|\n)/g,"<br>"),has_content:a.length>0,time:r("Sending","voxel-fse"),sent_by:"author",seen:!1,sending:!0,tmp:!0,is_deleted:!1,is_hidden:!1};t(f=>f.activeChat?{...f,activeChat:{...f.activeChat,messages:{...f.activeChat.messages,list:[d,...f.activeChat.messages.list]},state:{content:""}},files:[]}:f);const p=new FormData,m={content:a},h="files",v=[];n.files.forEach(f=>{f.source==="new_upload"&&f.item?(p.append(`files[${h}][]`,f.item),v.push("uploaded_file")):f.source==="existing"&&f.id&&v.push(f.id)}),m[h]=v,p.append("fields",JSON.stringify(m)),p.append("sender_type",n.activeChat.author.type),p.append("sender_id",String(n.activeChat.author.id)),p.append("receiver_type",n.activeChat.target.type),p.append("receiver_id",String(n.activeChat.target.id)),p.append("_wpnonce",l.nonce),setTimeout(()=>{H(),j(),R.current?.focus()},10);try{const S=await(await fetch(C("inbox.send_message"),{method:"POST",body:p})).json();S.success?(t(y=>{if(!y.activeChat)return y;const B=y.activeChat.messages.list.map(L=>L.tmp&&L.id===d.id?{...S.message||L,tmp:!1,sending:!1}:L),P={...y.activeChat,messages:{...y.activeChat.messages,list:B},excerpt:S.message?.excerpt||y.activeChat.excerpt,time:S.message?.chat_time||y.activeChat.time},J=y.chats.list.filter(L=>L.key!==y.activeChat?.key);return J.unshift(P),{...y,activeChat:P,chats:{...y.chats,list:J}}}),delete window._vx_file_upload_cache,setTimeout(H,50)):(t(y=>y.activeChat?{...y,activeChat:{...y.activeChat,messages:{...y.activeChat.messages,list:y.activeChat.messages.list.filter(B=>B.id!==d.id)},state:{content:a}}}:y),X(S.message||"Failed to send message","error"),setTimeout(j,10))}catch(f){console.error("[messages] Failed to send message:",f),t(S=>S.activeChat?{...S,activeChat:{...S.activeChat,messages:{...S.activeChat.messages,list:S.activeChat.messages.list.filter(y=>y.id!==d.id)},state:{content:a}}}:S)}},[n.activeChat,n.files,l,C,H,j]),ne=u(async a=>{if(!n.activeChat||!l||!window.confirm(r("Are you sure?","voxel-fse")))return;const c=new FormData;c.append("deleter_type",n.activeChat.author.type),c.append("deleter_id",String(n.activeChat.author.id)),c.append("message_id",String(a.id)),c.append("_wpnonce",l.nonce),t(d=>d.activeChat?{...d,activeChat:{...d.activeChat,messages:{...d.activeChat.messages,list:d.activeChat.messages.list.map(p=>p.id===a.id?{...p,processing:!0}:p)}}}:d);try{const p=await(await fetch(C("inbox.delete_message"),{method:"POST",body:c})).json();p.success?t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,messages:{...m.activeChat.messages,list:m.activeChat.messages.list.map(h=>h.id===a.id?{...h,is_deleted:p.is_deleted,is_hidden:p.is_hidden,processing:!1}:h)}}}:m):(X(p.message||"Failed to delete message","error"),t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,messages:{...m.activeChat.messages,list:m.activeChat.messages.list.map(h=>h.id===a.id?{...h,processing:!1}:h)}}}:m))}catch(d){console.error("[messages] Failed to delete message:",d)}},[n.activeChat,l,C]),le=u(async()=>{if(!n.activeChat||!l||!window.confirm(r("Are you sure?","voxel-fse")))return;const a=n.activeChat.follow_status?.author===-1,c=new FormData;c.append("sender_type",n.activeChat.author.type),c.append("sender_id",String(n.activeChat.author.id)),c.append("receiver_type",n.activeChat.target.type),c.append("receiver_id",String(n.activeChat.target.id)),a&&c.append("unblock","yes"),c.append("_wpnonce",l.nonce),t(d=>d.activeChat?{...d,activeChat:{...d.activeChat,processing:!0}}:d),D.current?.blur();try{const p=await(await fetch(C("inbox.block_chat"),{method:"POST",body:c})).json();p.success?(t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,processing:!1,follow_status:{...m.activeChat.follow_status,author:p.status}}}:m),setTimeout(H,50)):(X(p.message||"Failed to update block status","error"),t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,processing:!1}}:m))}catch(d){console.error("[messages] Failed to block/unblock:",d)}},[n.activeChat,l,C,H]),O=u(()=>n.activeChat?.follow_status?n.activeChat.follow_status.author===-1||n.activeChat.follow_status.target===-1:!1,[n.activeChat]),re=u(async(a=!1)=>{if(!n.activeChat||!l||!window.confirm(r("Are you sure?","voxel-fse")))return;const c=new FormData;c.append("sender_type",n.activeChat.author.type),c.append("sender_id",String(n.activeChat.author.id)),c.append("receiver_type",n.activeChat.target.type),c.append("receiver_id",String(n.activeChat.target.id)),c.append("_wpnonce",l.nonce),t(d=>d.activeChat?{...d,activeChat:{...d.activeChat,processing:!0}}:d),D.current?.blur();try{const p=await(await fetch(C("inbox.clear_conversation"),{method:"POST",body:c})).json();p.success?(t(m=>{if(!m.activeChat)return m;const h=m.chats.list.filter(v=>v.key!==m.activeChat?.key);return a?{...m,activeChat:null,chats:{...m.chats,list:h}}:{...m,activeChat:{...m.activeChat,processing:!1,messages:{...m.activeChat.messages,list:[],hasMore:!1}},chats:{...m.chats,list:h}}}),a&&pe("chat")):(X(p.message||"Failed to clear conversation","error"),t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,processing:!1}}:m))}catch(d){console.error("[messages] Failed to clear conversation:",d)}},[n.activeChat,l,C]),z=u(async()=>{if(!l?.polling?.enabled)return;if(document.visibilityState!=="visible"){N.current=setTimeout(z,l.polling.frequency||3e4);return}const a=Math.round(Date.now()/1e3);try{await(await fetch(`${l.polling.url}?u=${l.user?.id||0}&v=${a}`)).text()==="1"?se():N.current=setTimeout(z,l.polling.frequency||3e4)}catch(c){console.error("[messages] Polling failed:",c),N.current=setTimeout(z,l.polling.frequency||3e4)}},[l]),Y=u((a,c)=>{const d={...a,excerpt:c.excerpt,is_new:c.is_new,seen:c.seen,time:c.time};if(c.messages?.list&&a.messages?.list){c.messages.list.forEach(h=>{const v=a.messages.list.find(f=>f.id===h.id);v&&(v.seen=h.seen,v.is_deleted=h.is_deleted,v.is_hidden=h.is_hidden)});const p=a.messages.list[0]?.id||0,m=c.messages.list.filter(h=>h.id>p);m.length<15?d.messages={...a.messages,list:[...m,...a.messages.list],hasMore:c.messages.hasMore}:d.messages=c.messages}return d.last_id=c.last_id,d},[]),se=u(async()=>{if(l)try{const a=new FormData;a.append("pg","1"),a.append("_wpnonce",l.nonce);const c=me("chat");c&&a.append("load",c);const p=await(await fetch(C("inbox.list_chats"),{method:"POST",body:a})).json();p.success&&t(m=>{const h=[];let v=null;const f=p.list||[];f.forEach(B=>{const P=m.chats.list.findIndex(J=>J.key===B.key);if(P!==-1){const J=m.chats.list[P],L=Y(J,B);h.push(L),B.autoload&&(v=L)}else h.push(B),B.autoload&&(v=B)});const S=m.chats.list.filter(B=>!f.find(P=>P.key===B.key)),y={...m,chats:{...m.chats,list:[...h,...S]}};if(m.activeChat){const B=h.find(P=>P.key===m.activeChat?.key);B&&(y.activeChat={...m.activeChat,...B,messages:B.messages||m.activeChat.messages,state:m.activeChat.state})}return y}),l.polling?.enabled&&(N.current=setTimeout(z,l.polling.frequency||3e4))}catch(a){console.error("[messages] Failed to refresh inbox:",a),l.polling?.enabled&&(N.current=setTimeout(z,l.polling.frequency||3e4))}},[l,C,Y,z]),G=u(async()=>{if(n.emojis.list!==null)return;t(c=>({...c,emojis:{...c.emojis,loading:!0}}));try{const c=l?.emojis?.url||"/wp-content/themes/voxel/assets/emojis.json",p=await(await fetch(c)).json();t(m=>({...m,emojis:{...m.emojis,loading:!1,list:p}}))}catch(c){console.error("[messages] Failed to load emojis:",c),t(d=>({...d,emojis:{...d.emojis,loading:!1}}))}const a=localStorage.getItem("voxel:recent_emojis");a&&t(c=>({...c,emojis:{...c.emojis,recents:[...a]}}))},[n.emojis.list,l]),q=u(a=>{if(!R.current||!n.activeChat)return;const c=R.current;let d=n.activeChat.state.content;if(c.selectionStart!==null){const v=c.selectionStart,f=c.selectionEnd;d=d.substring(0,v)+a+d.substring(f),setTimeout(()=>{c.setSelectionRange(v+a.length,v+a.length),c.focus()},10)}else d+=a;t(v=>v.activeChat?{...v,activeChat:{...v.activeChat,state:{content:d}}}:v);let p=[];const m=localStorage.getItem("voxel:recent_emojis");m&&(p=[...m]),p=p.filter(v=>v!==a),p.unshift(a);const h=p.slice(0,16);localStorage.setItem("voxel:recent_emojis",h.join("")),t(v=>({...v,emojis:{...v.emojis,recents:h}}))},[n.activeChat]),Q=u(()=>{if(!n.emojis.list||!n.emojis.search.term.trim()){t(d=>({...d,emojis:{...d.emojis,search:{...d.emojis.search,list:[]}}}));return}const a=[],c=n.emojis.search.term.trim().toLowerCase();Object.values(n.emojis.list).some(d=>(d.some(p=>(p.name.toLowerCase().includes(c)&&a.push(p.emoji),a.length>=80)),a.length>=80)),t(d=>({...d,emojis:{...d.emojis,search:{...d.emojis.search,list:a}}}))},[n.emojis.list,n.emojis.search.term]),U=u(a=>{const c=l?.files?.max_count||5,d={source:"new_upload",name:a.name,type:a.type,size:a.size,preview:URL.createObjectURL(a),item:a,_id:Ge(8)},p=window;p._vx_file_upload_cache||(p._vx_file_upload_cache=[]);const m=p._vx_file_upload_cache.find(h=>h.item?.name===a.name&&h.item?.type===a.type&&h.item?.size===a.size&&h.item?.lastModified===a.lastModified);m?t(h=>c===1?{...h,files:[m]}:h.files.length>=c?h:{...h,files:[...h.files,m]}):(p._vx_file_upload_cache.unshift(d),t(h=>c===1?{...h,files:[d]}:h.files.length>=c?h:{...h,files:[...h.files,d]}))},[l]),i=u(a=>{const c=a.target.files;if(c){for(let d=0;d<c.length;d++)U(c[d]);a.target.value=""}},[U]),Be=u(a=>{a.preventDefault(),t(c=>({...c,dragActive:!1})),a.dataTransfer.items?[...a.dataTransfer.items].forEach(c=>{if(c.kind==="file"){const d=c.getAsFile();d&&U(d)}}):[...a.dataTransfer.files].forEach(c=>{U(c)})},[U]),be=u(a=>{t(c=>({...c,files:c.files.filter(d=>d._id!==a._id&&d.id!==a.id)})),a.source==="new_upload"&&URL.revokeObjectURL(a.preview)},[]),Se=u(a=>{const c=l?.files?.max_count||5,d={};n.files.forEach(m=>{m.source==="existing"&&m.id&&(d[m.id]=!0),m.source==="new_upload"&&m._id&&(d[m._id]=!0)});const p=[];Object.values(a).forEach(m=>{m.source==="existing"&&m.id&&!d[m.id]&&p.push(m),m.source==="new_upload"&&m._id&&!d[m._id]&&p.push(m)}),t(m=>{const h=[...m.files,...p];return{...m,files:h.slice(0,c)}})},[l,n.files]),ge=ve(()=>De(async(a,c)=>{try{const d=new FormData;d.append("search",a),d.append("_wpnonce",c);const m=await(await fetch(C("inbox.search_chats"),{method:"POST",body:d})).json();m.success&&t(h=>({...h,search:{...h.search,loading:!1,list:m.list||[]}}))}catch(d){console.error("[messages] Failed to search chats:",d),t(p=>({...p,search:{...p.search,loading:!1}}))}},300),[C]),Ee=u(a=>{if(t(c=>({...c,search:{...c.search,term:a,loading:a.trim().length>0}})),!a.trim()||!l){t(c=>({...c,search:{term:a,loading:!1,list:[]}}));return}if(!n.chats.hasMore||a.trim().length<=2){const c=n.chats.list.filter(d=>d.target.name.toLowerCase().includes(a.trim().toLowerCase())).slice(0,10);t(d=>({...d,search:{term:a,loading:!1,list:c}}))}else ge(a.trim(),l.nonce)},[l,n.chats.hasMore,n.chats.list,ge]),_e=u(a=>{a.nativeEvent.isComposing||a.keyCode===229||a.shiftKey||a.key==="Enter"&&(a.preventDefault(),V())},[V]),Te=u(a=>{t(c=>({...c,activeChat:c.activeChat?{...c.activeChat,state:{...c.activeChat.state,content:a}}:null})),setTimeout(j,10)},[j]),Me=u(()=>{t(a=>({...a,activePopup:a.activePopup==="emoji"?null:"emoji"})),n.activePopup!=="emoji"&&G()},[n.activePopup,G]),we=u(()=>{t(a=>({...a,activePopup:a.activePopup==="actions"?null:"actions"}))},[]);ce(()=>(s==="frontend"&&l&&(F(!0),l.polling?.enabled&&(N.current=setTimeout(z,l.polling.frequency||3e4)),setTimeout(G,100)),()=>{N.current&&clearTimeout(N.current)}),[s,l,F,z,G]),ce(()=>{n.emojis.search.term.trim()&&n.emojis.list&&Q()},[n.emojis.search.term,n.emojis.list,Q]);const Ie=JSON.stringify(o||{icons:e.icons,settings:{enableCalcHeight:e.enableCalcHeight,calcHeight:e.calcHeight}});return React.createElement(React.Fragment,null,React.createElement("textarea",{ref:I,style:{position:"absolute",visibility:"hidden",height:"auto",overflow:"hidden"},"aria-hidden":"true",tabIndex:-1}),React.createElement("input",{ref:A,type:"file",multiple:!0,accept:l?.files?.allowed_file_types?.join(",")||"*",style:{display:"none"},onChange:i}),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:Ie}}),React.createElement("div",{className:`ts-inbox ${n.dragActive?"drag-active":""}`,onDragOver:a=>{a.preventDefault(),t(c=>({...c,dragActive:!0}))},onDragLeave:()=>t(a=>({...a,dragActive:!1})),onDrop:Be},React.createElement("div",{className:`inbox-left ${n.activeChat?"":"ts-no-chat"}`},n.chats.loading?React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{className:"ts-loader"})):n.chats.list.length?React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form ts-inbox-top"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.search,M.search)}}),React.createElement("input",{type:"text",value:n.search.term,onChange:a=>Ee(a.target.value),placeholder:r("Search inbox","voxel-fse"),className:"autofocus"}))),React.createElement("ul",{className:`ts-convo-list simplify-ul min-scroll ${n.search.loading?"vx-disabled":""}`},(n.search.term.trim()?n.search.list:n.chats.list).map(a=>React.createElement("li",{key:a.key||a.id,className:`
												${a.is_new?"ts-new-message":""}
												${a.seen?"":"ts-unread-message"}
												${n.activeChat?.id===a.id?"ts-active-chat":""}
											`},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),W(a)}},a.target.avatar&&React.createElement("div",{className:"convo-avatars"},React.createElement("div",{className:"convo-avatar",dangerouslySetInnerHTML:{__html:a.target.avatar}}),a.author.type==="post"&&React.createElement("div",{className:"post-avatar",dangerouslySetInnerHTML:{__html:a.author.avatar}})),React.createElement("div",{className:"message-details"},React.createElement("b",null,a.target.name),React.createElement("span",null,a.excerpt),React.createElement("span",null,a.time))))),n.chats.hasMore&&!n.search.term.trim()&&React.createElement("div",{className:"ts-btn-group"},React.createElement("div",{className:"n-load-more"},React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),oe()},className:`ts-btn ts-btn-4 ${n.chats.loadingMore?"vx-pending":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.loadMore,M.reload)}}),r("Load more","voxel-fse")))))):React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.chat,M.inbox)}}),React.createElement("p",null,r("No chats available","voxel-fse")))),React.createElement("div",{className:`ts-message-body ${n.activeChat?.processing?"vx-disabled":""} ${n.activeChat?"":"ts-no-chat"}`},n.activeChat?React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-inbox-top add-spacing flexify"},React.createElement("div",{className:"convo-head"},React.createElement("div",{className:"ts-convo-name flexify"},React.createElement("a",{className:"convo-pic",href:n.activeChat.target.link},React.createElement("span",{dangerouslySetInnerHTML:{__html:n.activeChat.target.avatar}})),React.createElement("a",{className:"convo-name",href:n.activeChat.target.link},React.createElement("span",null,n.activeChat.target.name))),React.createElement("ul",{className:"flexify simplify-ul inbox-top-btns"},React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),ae()},className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.back,M.chevronLeft)}}))),React.createElement("li",{className:"flexify ts-popup-target"},React.createElement("button",{ref:D,onClick:we,className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.more,M.menu)}})),n.activePopup==="actions"&&React.createElement("div",{className:"ts-popup-content ts-popup-visible"},React.createElement("ul",{className:"simplify-ul ts-popup-list"},React.createElement("li",null,React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),le(),t(c=>({...c,activePopup:null}))}},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.ban,M.block)}}),O()?r("Unblock user","voxel-fse"):r("Block user","voxel-fse"))),React.createElement("li",null,React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),re(!0),t(c=>({...c,activePopup:null}))}},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.clear,M.trash)}}),r("Clear conversation","voxel-fse"))))))))),O()&&React.createElement("div",{className:"ts-chat-blocked-notice"},React.createElement("p",null,r("This conversation is blocked.","voxel-fse"))),n.activeChat.messages.loading?React.createElement("div",{className:"start-convo"},React.createElement("span",{className:"ts-loader"})):n.activeChat.messages.list.length?React.createElement("div",{className:"ts-conversation-body min-scroll",ref:$},n.activeChat.messages.hasMore&&React.createElement("div",{className:"load-more-messages"},React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),te()},className:`ts-btn ts-btn-4 ${n.activeChat.messages.loadingMore?"vx-pending":""}`},n.activeChat.messages.loadingMore?r("Loading...","voxel-fse"):r("Load older messages","voxel-fse"))),React.createElement("ul",{className:"ts-message-list simplify-ul"},[...n.activeChat.messages.list].reverse().map(a=>React.createElement("li",{key:a.id,className:`
													ts-single-message
													ts-responder-${a.sent_by==="author"?2:1}
													ts-message-id-${a.id}
													${a.sent_by==="author"&&a.seen?"ts-message-seen":""}
													${a.tmp?"inserted-message":""}
													${a.is_deleted?"ts-message-deleted":""}
													${a.is_hidden?"ts-message-hidden":""}
													${a.processing?"vx-disabled":""}
												`},a.is_deleted?React.createElement(React.Fragment,null,React.createElement("p",{className:"vx-disabled"},r("Deleted","voxel-fse")),React.createElement("ul",{className:"flexify simplify-ul ms-info"},React.createElement("li",null,a.time))):a.is_hidden?React.createElement(React.Fragment,null,React.createElement("p",{className:"vx-disabled"},r("Hidden","voxel-fse")),React.createElement("ul",{className:"flexify simplify-ul ms-info"},React.createElement("li",null,a.time))):React.createElement(React.Fragment,null,a.files&&a.files.length>0&&React.createElement(React.Fragment,null,a.files.map((c,d)=>c.is_image?React.createElement("a",{key:`${a.id}-file-${d}`,href:c.url,target:"_blank",rel:"noopener noreferrer",className:"ts-image-attachment"},React.createElement("img",{src:c.preview||c.url,alt:c.alt||c.name,width:c.width,height:c.height,loading:"lazy"})):React.createElement("p",{key:`${a.id}-file-${d}`},React.createElement("a",{href:c.url,target:"_blank",rel:"noopener noreferrer"},c.name)))),a.has_content&&React.createElement("p",{dangerouslySetInnerHTML:{__html:a.content}}),React.createElement("ul",{className:"flexify simplify-ul ms-info"},a.sent_by==="author"&&!a.tmp&&React.createElement(React.Fragment,null,React.createElement("li",{className:"message-actions"},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),ne(a)}},r("Delete","voxel-fse"))),React.createElement("li",{className:"message-actions"},"Â·")),React.createElement("li",null,a.sending?r("Sending","voxel-fse"):a.time)),a.sent_by==="author"&&a.seen&&l?.seen_badge?.enabled&&React.createElement("div",{className:"seen-badge"},r("Seen","voxel-fse"))))))):React.createElement("div",{className:"start-convo"},React.createElement("a",{href:n.activeChat.target.link},React.createElement("span",{dangerouslySetInnerHTML:{__html:n.activeChat.target.avatar}})),React.createElement("span",null,r("Start a conversation with","voxel-fse")),React.createElement("a",{href:n.activeChat.target.link},React.createElement("h4",null,n.activeChat.target.name))),n.files.length>0&&React.createElement("div",{className:"ts-file-attachments"},n.files.map(a=>React.createElement("div",{key:a._id||a.id,className:"ts-file-preview"},a.type.startsWith("image/")?React.createElement("img",{src:a.preview,alt:a.name}):React.createElement("span",null,a.name),React.createElement("button",{className:"ts-remove-file",onClick:()=>be(a)},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.trash,M.close)}}))))),!O()&&React.createElement("div",{className:"ts-inbox-bottom"},React.createElement("div",{className:"flexify ts-convo-form"},React.createElement("span",{className:"active-avatar",dangerouslySetInnerHTML:{__html:n.activeChat.author.avatar}}),React.createElement("div",{className:"ts-popup-target"},React.createElement("button",{onClick:Me,className:"ts-icon-btn ts-emoji-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.emoji,M.emoji)}})),n.activePopup==="emoji"&&React.createElement("div",{className:"ts-popup-content ts-emoji-popup ts-popup-visible"},React.createElement("div",{className:"ts-form"},React.createElement("input",{type:"text",placeholder:r("Search emojis","voxel-fse"),value:n.emojis.search.term,onChange:a=>t(c=>({...c,emojis:{...c.emojis,search:{...c.emojis.search,term:a.target.value}}}))})),n.emojis.loading?React.createElement("div",{className:"ts-loader"}):React.createElement("div",{className:"ts-emoji-list"},n.emojis.recents.length>0&&!n.emojis.search.term.trim()&&React.createElement("div",{className:"ts-emoji-category"},React.createElement("span",null,r("Recent","voxel-fse")),React.createElement("div",{className:"ts-emoji-grid"},n.emojis.recents.map((a,c)=>React.createElement("button",{key:`recent-${c}`,onClick:()=>q(a)},a)))),n.emojis.search.term.trim()?React.createElement("div",{className:"ts-emoji-grid"},n.emojis.search.list.map((a,c)=>React.createElement("button",{key:`search-${c}`,onClick:()=>q(a)},a))):n.emojis.list&&Object.entries(n.emojis.list).map(([a,c])=>React.createElement("div",{key:a,className:"ts-emoji-category"},React.createElement("span",null,a),React.createElement("div",{className:"ts-emoji-grid"},c.map((d,p)=>React.createElement("button",{key:`${a}-${p}`,onClick:()=>q(d.emoji)},d.emoji)))))))),React.createElement("button",{onClick:()=>A.current?.click(),className:"ts-icon-btn ts-attach-btn",title:r("Upload file","voxel-fse")},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.upload,M.attach)}})),React.createElement(He,{multiple:!0,saveLabel:r("Add files","voxel-fse"),onSave:a=>{const c={};a.forEach(d=>{const p=d.source==="existing"?d.id:d._id;p!==void 0&&(c[p]={source:d.source,id:d.id,_id:d._id,name:d.name,type:d.type,size:0,preview:d.preview||"",url:d.preview})}),Se(c)}},React.createElement("button",{className:"ts-icon-btn ts-gallery-btn",title:r("Media library","voxel-fse")},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.gallery,M.gallery)}}))),React.createElement("div",{className:"compose-message min-scroll"},React.createElement("textarea",{ref:R,value:n.activeChat.state.content,onKeyDown:_e,onChange:a=>Te(a.target.value)}),!n.activeChat.state.content&&React.createElement("span",{className:"compose-placeholder"},n.activeChat.author.type==="post"?r("Reply as","voxel-fse")+" "+n.activeChat.author.name:r("Your message","voxel-fse"))),React.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),V()},className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.send,M.send)}}))))):React.createElement("div",{className:"ts-empty-user-tab"},n.chats.loading?React.createElement("span",{className:"ts-loader"}):React.createElement(React.Fragment,null,React.createElement("span",{dangerouslySetInnerHTML:{__html:w(e.icons.chat,M.inbox)}}),React.createElement("p",null,r("No conversation selected","voxel-fse")))))))}function fe(e,s){if(!e)return"";const o=e.unit||"px",l=parseFloat(String(e.top))||0,n=parseFloat(String(e.right))||0,t=parseFloat(String(e.bottom))||0,$=parseFloat(String(e.left))||0;return`${s}: ${l}${o} ${n}${o} ${t}${o} ${$}${o};`}function ee(e){if(!e||!e.borderType||e.borderType==="none")return"";let s="";if(e.borderWidth){const o=e.borderWidth.unit||"px",l=parseFloat(String(e.borderWidth.top))||0,n=parseFloat(String(e.borderWidth.right))||0,t=parseFloat(String(e.borderWidth.bottom))||0,$=parseFloat(String(e.borderWidth.left))||0;s+=`border-width: ${l}${o} ${n}${o} ${t}${o} ${$}${o}; `}return s+=`border-style: ${e.borderType}; `,e.borderColor&&(s+=`border-color: ${e.borderColor}; `),s}function qe(e){if(!e||!e.enable)return"";const s=e.horizontal||0,o=e.vertical||0,l=e.blur||0,n=e.spread||0,t=e.color||"rgba(0,0,0,0.1)";return`box-shadow: ${e.position==="inset"?"inset ":""}${s}px ${o}px ${l}px ${n}px ${t};`}function _(e){if(!e)return"";let s="";if(e.fontFamily&&(s+=`font-family: ${e.fontFamily}; `),e.fontSize!==void 0){const o=e.fontSizeUnit||"px";s+=`font-size: ${e.fontSize}${o}; `}if(e.fontWeight&&(s+=`font-weight: ${e.fontWeight}; `),e.fontStyle&&(s+=`font-style: ${e.fontStyle}; `),e.textTransform&&(s+=`text-transform: ${e.textTransform}; `),e.textDecoration&&(s+=`text-decoration: ${e.textDecoration}; `),e.lineHeight!==void 0){const o=e.lineHeightUnit||"";s+=`line-height: ${e.lineHeight}${o}; `}if(e.letterSpacing!==void 0){const o=e.letterSpacingUnit||"px";s+=`letter-spacing: ${e.letterSpacing}${o}; `}return s}function he(e,s=""){const o=e[`${s}backgroundType`]||"classic";let l="";if(o==="classic"){const n=e[`${s}backgroundColor`];n&&(l+=`background-color: ${n}; `);const t=e[`${s}backgroundImage`];if(t?.url){l+=`background-image: url('${t.url}'); `;const $=e[`${s}backgroundPosition`]||"center center";l+=`background-position: ${$}; `;const R=e[`${s}backgroundAttachment`]||"scroll";l+=`background-attachment: ${R}; `;const I=e[`${s}backgroundRepeat`]||"no-repeat";l+=`background-repeat: ${I}; `;const A=e[`${s}backgroundSize`]||"cover";l+=`background-size: ${A}; `}}else if(o==="gradient"){const n=e[`${s}backgroundGradient`];n&&(l+=`background: ${n}; `)}return l}function Re(e,s){const o=[],l=[],n=[],t=`.voxel-fse-messages-${s}`;if(e.generalHeight!==void 0){const i=e.generalHeightUnit||"px";o.push(`${t} { height: ${e.generalHeight}${i}; }`)}if(e.generalHeight_tablet!==void 0){const i=e.generalHeightUnit||"px";l.push(`${t} { height: ${e.generalHeight_tablet}${i}; }`)}if(e.generalHeight_mobile!==void 0){const i=e.generalHeightUnit||"px";n.push(`${t} { height: ${e.generalHeight_mobile}${i}; }`)}e.enableCalcHeight&&e.calcHeight&&o.push(`${t} { height: ${e.calcHeight}; }`),e.generalBackground&&o.push(`${t} { background-color: ${e.generalBackground}; }`);const $=ee({borderType:e.generalBorderType,borderWidth:e.generalBorderWidth,borderColor:e.generalBorderColor});if($&&o.push(`${t} { ${$} }`),e.generalBorderRadius!==void 0){const i=e.generalBorderRadiusUnit||"px";o.push(`${t} { border-radius: ${e.generalBorderRadius}${i}; }`)}if(e.generalBorderRadius_tablet!==void 0){const i=e.generalBorderRadiusUnit||"px";l.push(`${t} { border-radius: ${e.generalBorderRadius_tablet}${i}; }`)}if(e.generalBorderRadius_mobile!==void 0){const i=e.generalBorderRadiusUnit||"px";n.push(`${t} { border-radius: ${e.generalBorderRadius_mobile}${i}; }`)}const R=qe(e.generalBoxShadow);if(R&&o.push(`${t} { ${R} }`),e.sidebarWidth!==void 0){const i=e.sidebarWidthUnit||"px";o.push(`${t} .message-list-container { width: ${e.sidebarWidth}${i}; }`)}if(e.sidebarWidth_tablet!==void 0){const i=e.sidebarWidthUnit||"px";l.push(`${t} .message-list-container { width: ${e.sidebarWidth_tablet}${i}; }`)}if(e.sidebarWidth_mobile!==void 0){const i=e.sidebarWidthUnit||"px";n.push(`${t} .message-list-container { width: ${e.sidebarWidth_mobile}${i}; }`)}e.separatorColor&&o.push(`${t} .separator { background-color: ${e.separatorColor}; }`),e.scrollbarColor&&(o.push(`${t} .message-list::-webkit-scrollbar-thumb { background-color: ${e.scrollbarColor}; }`),o.push(`${t} .conversation-body::-webkit-scrollbar-thumb { background-color: ${e.scrollbarColor}; }`));const I=fe(e.inboxMessagePadding,"padding");if(I&&o.push(`${t} .ts-convo-list > li > a { ${I} }`),e.inboxMessageContentGap!==void 0){const i=e.inboxMessageContentGapUnit||"px";o.push(`${t} .ts-convo-list > li > a { gap: ${e.inboxMessageContentGap}${i}; }`)}if(e.inboxMessageContentGap_tablet!==void 0){const i=e.inboxMessageContentGapUnit||"px";l.push(`${t} .ts-convo-list > li > a { gap: ${e.inboxMessageContentGap_tablet}${i}; }`)}if(e.inboxMessageContentGap_mobile!==void 0){const i=e.inboxMessageContentGapUnit||"px";n.push(`${t} .ts-convo-list > li > a { gap: ${e.inboxMessageContentGap_mobile}${i}; }`)}e.inboxMessageTitleColor&&o.push(`${t} .ts-convo-list .message-details > b { color: ${e.inboxMessageTitleColor}; }`);const A=_(e.inboxMessageTitleTypography);A&&o.push(`${t} .ts-convo-list .message-details > b { ${A} }`),e.inboxMessageSubtitleColor&&o.push(`${t} .ts-convo-list .message-details > span { color: ${e.inboxMessageSubtitleColor}; }`);const D=_(e.inboxMessageSubtitleTypography);if(D&&o.push(`${t} .ts-convo-list .message-details > span { ${D} }`),e.inboxMessageAvatarSize!==void 0){const i=e.inboxMessageAvatarSizeUnit||"px";o.push(`${t} .ts-convo-list .convo-avatar { width: ${e.inboxMessageAvatarSize}${i}; height: ${e.inboxMessageAvatarSize}${i}; }`)}if(e.inboxMessageAvatarSize_tablet!==void 0){const i=e.inboxMessageAvatarSizeUnit||"px";l.push(`${t} .ts-convo-list .convo-avatar { width: ${e.inboxMessageAvatarSize_tablet}${i}; height: ${e.inboxMessageAvatarSize_tablet}${i}; }`)}if(e.inboxMessageAvatarSize_mobile!==void 0){const i=e.inboxMessageAvatarSizeUnit||"px";n.push(`${t} .ts-convo-list .convo-avatar { width: ${e.inboxMessageAvatarSize_mobile}${i}; height: ${e.inboxMessageAvatarSize_mobile}${i}; }`)}if(e.inboxMessageAvatarGap!==void 0){const i=e.inboxMessageAvatarGapUnit||"px";o.push(`${t} .ts-convo-list > li > a { column-gap: ${e.inboxMessageAvatarGap}${i}; }`)}if(e.inboxMessageAvatarGap_tablet!==void 0){const i=e.inboxMessageAvatarGapUnit||"px";l.push(`${t} .ts-convo-list > li > a { column-gap: ${e.inboxMessageAvatarGap_tablet}${i}; }`)}if(e.inboxMessageAvatarGap_mobile!==void 0){const i=e.inboxMessageAvatarGapUnit||"px";n.push(`${t} .ts-convo-list > li > a { column-gap: ${e.inboxMessageAvatarGap_mobile}${i}; }`)}if(e.inboxMessageSecondaryLogoSize!==void 0){const i=e.inboxMessageSecondaryLogoSizeUnit||"px";o.push(`${t} .ts-convo-list .post-avatar { width: ${e.inboxMessageSecondaryLogoSize}${i}; height: ${e.inboxMessageSecondaryLogoSize}${i}; }`)}if(e.inboxMessageSecondaryLogoSize_tablet!==void 0){const i=e.inboxMessageSecondaryLogoSizeUnit||"px";l.push(`${t} .ts-convo-list .post-avatar { width: ${e.inboxMessageSecondaryLogoSize_tablet}${i}; height: ${e.inboxMessageSecondaryLogoSize_tablet}${i}; }`)}if(e.inboxMessageSecondaryLogoSize_mobile!==void 0){const i=e.inboxMessageSecondaryLogoSizeUnit||"px";n.push(`${t} .ts-convo-list .post-avatar { width: ${e.inboxMessageSecondaryLogoSize_mobile}${i}; height: ${e.inboxMessageSecondaryLogoSize_mobile}${i}; }`)}const N=ee(e.inboxMessageSecondaryLogoBorder);if(N&&o.push(`${t} .ts-convo-list .post-avatar { ${N} }`),e.inboxMessageHoverBg&&o.push(`${t} .ts-convo-list > li > a:hover { background-color: ${e.inboxMessageHoverBg}; }`),e.inboxMessageHoverTitleColor&&o.push(`${t} .ts-convo-list > li > a:hover .message-details > b { color: ${e.inboxMessageHoverTitleColor}; }`),e.inboxMessageHoverSubtitleColor&&o.push(`${t} .ts-convo-list > li > a:hover .message-details > span { color: ${e.inboxMessageHoverSubtitleColor}; }`),e.inboxMessageActiveBg&&o.push(`${t} .ts-convo-list > li.ts-active-chat > a { background-color: ${e.inboxMessageActiveBg}; }`),e.inboxMessageActiveBorderWidth!==void 0){const i=e.inboxMessageActiveBorderWidthUnit||"px";o.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-width: ${e.inboxMessageActiveBorderWidth}${i}; border-left-style: solid; }`)}if(e.inboxMessageActiveBorderWidth_tablet!==void 0){const i=e.inboxMessageActiveBorderWidthUnit||"px";l.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-width: ${e.inboxMessageActiveBorderWidth_tablet}${i}; }`)}if(e.inboxMessageActiveBorderWidth_mobile!==void 0){const i=e.inboxMessageActiveBorderWidthUnit||"px";n.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-width: ${e.inboxMessageActiveBorderWidth_mobile}${i}; }`)}e.inboxMessageActiveBorderColor&&o.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-color: ${e.inboxMessageActiveBorderColor}; }`),e.inboxMessageActiveTitleColor&&o.push(`${t} .ts-convo-list > li.ts-active-chat .message-details > b { color: ${e.inboxMessageActiveTitleColor}; }`),e.inboxMessageActiveSubtitleColor&&o.push(`${t} .ts-convo-list > li.ts-active-chat .message-details > span { color: ${e.inboxMessageActiveSubtitleColor}; }`);const C=_(e.inboxMessageUnreadTitleTypography);C&&o.push(`${t} .ts-convo-list > li.ts-unread-message .message-details > b { ${C} }`);const H=ee(e.inboxMessageNewAvatarBorder);H&&o.push(`${t} .ts-convo-list > li.ts-new-message .convo-avatar { ${H} }`);const j=_(e.inboxSearchTypography);if(j&&o.push(`${t} .inbox-search input { ${j} }`),e.inboxSearchValueColor&&o.push(`${t} .inbox-search input { color: ${e.inboxSearchValueColor}; }`),e.inboxSearchPlaceholderColor&&o.push(`${t} .inbox-search input::placeholder { color: ${e.inboxSearchPlaceholderColor}; }`),e.inboxSearchIconColor&&o.push(`${t} .inbox-search .search-icon { color: ${e.inboxSearchIconColor}; }`),e.inboxSearchIconSize!==void 0){const i=e.inboxSearchIconSizeUnit||"px";o.push(`${t} .inbox-search .search-icon { font-size: ${e.inboxSearchIconSize}${i}; }`)}if(e.inboxSearchIconSize_tablet!==void 0){const i=e.inboxSearchIconSizeUnit||"px";l.push(`${t} .inbox-search .search-icon { font-size: ${e.inboxSearchIconSize_tablet}${i}; }`)}if(e.inboxSearchIconSize_mobile!==void 0){const i=e.inboxSearchIconSizeUnit||"px";n.push(`${t} .inbox-search .search-icon { font-size: ${e.inboxSearchIconSize_mobile}${i}; }`)}if(e.conversationTopAvatarRadius!==void 0){const i=e.conversationTopAvatarRadiusUnit||"px";o.push(`${t} .conversation-top .avatar { border-radius: ${e.conversationTopAvatarRadius}${i}; }`)}if(e.conversationTopAvatarRadius_tablet!==void 0){const i=e.conversationTopAvatarRadiusUnit||"px";l.push(`${t} .conversation-top .avatar { border-radius: ${e.conversationTopAvatarRadius_tablet}${i}; }`)}if(e.conversationTopAvatarRadius_mobile!==void 0){const i=e.conversationTopAvatarRadiusUnit||"px";n.push(`${t} .conversation-top .avatar { border-radius: ${e.conversationTopAvatarRadius_mobile}${i}; }`)}if(e.conversationTopAvatarGap!==void 0){const i=e.conversationTopAvatarGapUnit||"px";o.push(`${t} .conversation-top { gap: ${e.conversationTopAvatarGap}${i}; }`)}if(e.conversationTopAvatarGap_tablet!==void 0){const i=e.conversationTopAvatarGapUnit||"px";l.push(`${t} .conversation-top { gap: ${e.conversationTopAvatarGap_tablet}${i}; }`)}if(e.conversationTopAvatarGap_mobile!==void 0){const i=e.conversationTopAvatarGapUnit||"px";n.push(`${t} .conversation-top { gap: ${e.conversationTopAvatarGap_mobile}${i}; }`)}const F=_(e.conversationTopTypography);if(F&&o.push(`${t} .conversation-top .name { ${F} }`),e.conversationTopTextColor&&o.push(`${t} .conversation-top .name { color: ${e.conversationTopTextColor}; }`),e.conversationIntroContentGap!==void 0){const i=e.conversationIntroContentGapUnit||"px";o.push(`${t} .conversation-intro { gap: ${e.conversationIntroContentGap}${i}; }`)}if(e.conversationIntroContentGap_tablet!==void 0){const i=e.conversationIntroContentGapUnit||"px";l.push(`${t} .conversation-intro { gap: ${e.conversationIntroContentGap_tablet}${i}; }`)}if(e.conversationIntroContentGap_mobile!==void 0){const i=e.conversationIntroContentGapUnit||"px";n.push(`${t} .conversation-intro { gap: ${e.conversationIntroContentGap_mobile}${i}; }`)}if(e.conversationIntroAvatarSize!==void 0){const i=e.conversationIntroAvatarSizeUnit||"px";o.push(`${t} .conversation-intro .avatar { width: ${e.conversationIntroAvatarSize}${i}; height: ${e.conversationIntroAvatarSize}${i}; }`)}if(e.conversationIntroAvatarSize_tablet!==void 0){const i=e.conversationIntroAvatarSizeUnit||"px";l.push(`${t} .conversation-intro .avatar { width: ${e.conversationIntroAvatarSize_tablet}${i}; height: ${e.conversationIntroAvatarSize_tablet}${i}; }`)}if(e.conversationIntroAvatarSize_mobile!==void 0){const i=e.conversationIntroAvatarSizeUnit||"px";n.push(`${t} .conversation-intro .avatar { width: ${e.conversationIntroAvatarSize_mobile}${i}; height: ${e.conversationIntroAvatarSize_mobile}${i}; }`)}if(e.conversationIntroAvatarRadius!==void 0){const i=e.conversationIntroAvatarRadiusUnit||"px";o.push(`${t} .conversation-intro .avatar { border-radius: ${e.conversationIntroAvatarRadius}${i}; }`)}if(e.conversationIntroAvatarRadius_tablet!==void 0){const i=e.conversationIntroAvatarRadiusUnit||"px";l.push(`${t} .conversation-intro .avatar { border-radius: ${e.conversationIntroAvatarRadius_tablet}${i}; }`)}if(e.conversationIntroAvatarRadius_mobile!==void 0){const i=e.conversationIntroAvatarRadiusUnit||"px";n.push(`${t} .conversation-intro .avatar { border-radius: ${e.conversationIntroAvatarRadius_mobile}${i}; }`)}const oe=_(e.conversationIntroNameTypography);oe&&o.push(`${t} .conversation-intro .name { ${oe} }`),e.conversationIntroNameColor&&o.push(`${t} .conversation-intro .name { color: ${e.conversationIntroNameColor}; }`);const W=_(e.conversationIntroSubtitleTypography);if(W&&o.push(`${t} .conversation-intro .subtitle { ${W} }`),e.conversationIntroSubtitleColor&&o.push(`${t} .conversation-intro .subtitle { color: ${e.conversationIntroSubtitleColor}; }`),e.conversationBodyMessageGap!==void 0){const i=e.conversationBodyMessageGapUnit||"px";o.push(`${t} .conversation-body { gap: ${e.conversationBodyMessageGap}${i}; }`)}if(e.conversationBodyMessageGap_tablet!==void 0){const i=e.conversationBodyMessageGapUnit||"px";l.push(`${t} .conversation-body { gap: ${e.conversationBodyMessageGap_tablet}${i}; }`)}if(e.conversationBodyMessageGap_mobile!==void 0){const i=e.conversationBodyMessageGapUnit||"px";n.push(`${t} .conversation-body { gap: ${e.conversationBodyMessageGap_mobile}${i}; }`)}const ae=fe(e.conversationBodyMessagePadding,"padding");ae&&o.push(`${t} .message-bubble { ${ae} }`);const te=_(e.conversationBodyMessageTypography);if(te&&o.push(`${t} .message-bubble { ${te} }`),e.conversationBodyMessageRadius!==void 0){const i=e.conversationBodyMessageRadiusUnit||"px";o.push(`${t} .message-bubble { border-radius: ${e.conversationBodyMessageRadius}${i}; }`)}if(e.conversationBodyMessageRadius_tablet!==void 0){const i=e.conversationBodyMessageRadiusUnit||"px";l.push(`${t} .message-bubble { border-radius: ${e.conversationBodyMessageRadius_tablet}${i}; }`)}if(e.conversationBodyMessageRadius_mobile!==void 0){const i=e.conversationBodyMessageRadiusUnit||"px";n.push(`${t} .message-bubble { border-radius: ${e.conversationBodyMessageRadius_mobile}${i}; }`)}const V=he(e,"responder1");V&&o.push(`${t} .message-bubble.responder-1 { ${V} }`),e.responder1Color&&o.push(`${t} .message-bubble.responder-1 { color: ${e.responder1Color}; }`);const ne=he(e,"responder2");ne&&o.push(`${t} .message-bubble.responder-2 { ${ne} }`),e.responder2Color&&o.push(`${t} .message-bubble.responder-2 { color: ${e.responder2Color}; }`);const le=he(e,"error");le&&o.push(`${t} .message-bubble.error { ${le} }`),e.errorColor&&o.push(`${t} .message-bubble.error { color: ${e.errorColor}; }`);const O=_(e.messageInfoTypography);O&&o.push(`${t} .message-info { ${O} }`),e.messageInfoDefaultColor&&o.push(`${t} .message-info { color: ${e.messageInfoDefaultColor}; }`),e.messageInfoDeleteColor&&o.push(`${t} .message-info .delete { color: ${e.messageInfoDeleteColor}; }`);const re=_(e.seenTypography);if(re&&o.push(`${t} .seen-indicator { ${re} }`),e.seenColor&&o.push(`${t} .seen-indicator { color: ${e.seenColor}; }`),e.imagesRadius!==void 0){const i=e.imagesRadiusUnit||"px";o.push(`${t} .message-image { border-radius: ${e.imagesRadius}${i}; }`)}if(e.imagesRadius_tablet!==void 0){const i=e.imagesRadiusUnit||"px";l.push(`${t} .message-image { border-radius: ${e.imagesRadius_tablet}${i}; }`)}if(e.imagesRadius_mobile!==void 0){const i=e.imagesRadiusUnit||"px";n.push(`${t} .message-image { border-radius: ${e.imagesRadius_mobile}${i}; }`)}if(e.composeAvatarRadius!==void 0){const i=e.composeAvatarRadiusUnit||"px";o.push(`${t} .compose-area .avatar { border-radius: ${e.composeAvatarRadius}${i}; }`)}if(e.composeAvatarRadius_tablet!==void 0){const i=e.composeAvatarRadiusUnit||"px";l.push(`${t} .compose-area .avatar { border-radius: ${e.composeAvatarRadius_tablet}${i}; }`)}if(e.composeAvatarRadius_mobile!==void 0){const i=e.composeAvatarRadiusUnit||"px";n.push(`${t} .compose-area .avatar { border-radius: ${e.composeAvatarRadius_mobile}${i}; }`)}const z=_(e.composePlaceholderTypography);z&&o.push(`${t} .compose-area textarea::placeholder { ${z} }`),e.composePlaceholderColor&&o.push(`${t} .compose-area textarea::placeholder { color: ${e.composePlaceholderColor}; }`);const Y=_(e.composeValueTypography);Y&&o.push(`${t} .compose-area textarea { ${Y} }`),e.composeValueColor&&o.push(`${t} .compose-area textarea { color: ${e.composeValueColor}; }`),e.iconButtonColor&&o.push(`${t} .icon-button { color: ${e.iconButtonColor}; }`),e.iconButtonBackground&&o.push(`${t} .icon-button { background-color: ${e.iconButtonBackground}; }`);const se=ee({borderType:e.iconButtonBorderType,borderWidth:e.iconButtonBorderWidth,borderColor:e.iconButtonBorderColor});if(se&&o.push(`${t} .icon-button { ${se} }`),e.iconButtonRadius!==void 0){const i=e.iconButtonRadiusUnit||"px";o.push(`${t} .icon-button { border-radius: ${e.iconButtonRadius}${i}; }`)}if(e.iconButtonRadius_tablet!==void 0){const i=e.iconButtonRadiusUnit||"px";l.push(`${t} .icon-button { border-radius: ${e.iconButtonRadius_tablet}${i}; }`)}if(e.iconButtonRadius_mobile!==void 0){const i=e.iconButtonRadiusUnit||"px";n.push(`${t} .icon-button { border-radius: ${e.iconButtonRadius_mobile}${i}; }`)}if(e.iconButtonHoverColor&&o.push(`${t} .icon-button:hover { color: ${e.iconButtonHoverColor}; }`),e.iconButtonHoverBackground&&o.push(`${t} .icon-button:hover { background-color: ${e.iconButtonHoverBackground}; }`),e.iconButtonHoverBorderColor&&o.push(`${t} .icon-button:hover { border-color: ${e.iconButtonHoverBorderColor}; }`),e.tertiaryButtonIconColor&&o.push(`${t} .tertiary-button .icon { color: ${e.tertiaryButtonIconColor}; }`),e.tertiaryButtonIconSize!==void 0){const i=e.tertiaryButtonIconSizeUnit||"px";o.push(`${t} .tertiary-button .icon { font-size: ${e.tertiaryButtonIconSize}${i}; }`)}if(e.tertiaryButtonIconSize_tablet!==void 0){const i=e.tertiaryButtonIconSizeUnit||"px";l.push(`${t} .tertiary-button .icon { font-size: ${e.tertiaryButtonIconSize_tablet}${i}; }`)}if(e.tertiaryButtonIconSize_mobile!==void 0){const i=e.tertiaryButtonIconSizeUnit||"px";n.push(`${t} .tertiary-button .icon { font-size: ${e.tertiaryButtonIconSize_mobile}${i}; }`)}e.tertiaryButtonBackground&&o.push(`${t} .tertiary-button { background-color: ${e.tertiaryButtonBackground}; }`);const G=ee({borderType:e.tertiaryButtonBorderType,borderWidth:e.tertiaryButtonBorderWidth,borderColor:e.tertiaryButtonBorderColor});if(G&&o.push(`${t} .tertiary-button { ${G} }`),e.tertiaryButtonRadius!==void 0){const i=e.tertiaryButtonRadiusUnit||"px";o.push(`${t} .tertiary-button { border-radius: ${e.tertiaryButtonRadius}${i}; }`)}if(e.tertiaryButtonRadius_tablet!==void 0){const i=e.tertiaryButtonRadiusUnit||"px";l.push(`${t} .tertiary-button { border-radius: ${e.tertiaryButtonRadius_tablet}${i}; }`)}if(e.tertiaryButtonRadius_mobile!==void 0){const i=e.tertiaryButtonRadiusUnit||"px";n.push(`${t} .tertiary-button { border-radius: ${e.tertiaryButtonRadius_mobile}${i}; }`)}const q=_(e.tertiaryButtonTypography);if(q&&o.push(`${t} .tertiary-button { ${q} }`),e.tertiaryButtonTextColor&&o.push(`${t} .tertiary-button { color: ${e.tertiaryButtonTextColor}; }`),e.tertiaryButtonHoverIconColor&&o.push(`${t} .tertiary-button:hover .icon { color: ${e.tertiaryButtonHoverIconColor}; }`),e.tertiaryButtonHoverBackground&&o.push(`${t} .tertiary-button:hover { background-color: ${e.tertiaryButtonHoverBackground}; }`),e.tertiaryButtonHoverBorderColor&&o.push(`${t} .tertiary-button:hover { border-color: ${e.tertiaryButtonHoverBorderColor}; }`),e.tertiaryButtonHoverTextColor&&o.push(`${t} .tertiary-button:hover { color: ${e.tertiaryButtonHoverTextColor}; }`),e.emptyIconSize!==void 0){const i=e.emptyIconSizeUnit||"px";o.push(`${t} .empty-state .icon { font-size: ${e.emptyIconSize}${i}; }`)}if(e.emptyIconSize_tablet!==void 0){const i=e.emptyIconSizeUnit||"px";l.push(`${t} .empty-state .icon { font-size: ${e.emptyIconSize_tablet}${i}; }`)}if(e.emptyIconSize_mobile!==void 0){const i=e.emptyIconSizeUnit||"px";n.push(`${t} .empty-state .icon { font-size: ${e.emptyIconSize_mobile}${i}; }`)}e.emptyIconColor&&o.push(`${t} .empty-state .icon { color: ${e.emptyIconColor}; }`),e.emptyTitleColor&&o.push(`${t} .empty-state .title { color: ${e.emptyTitleColor}; }`);const Q=_(e.emptyTitleTypography);Q&&o.push(`${t} .empty-state .title { ${Q} }`),e.loadingColor1&&o.push(`${t} .loader { --color-1: ${e.loadingColor1}; }`),e.loadingColor2&&o.push(`${t} .loader { --color-2: ${e.loadingColor2}; }`);let U="";return o.length>0&&(U+=o.join(`
`)),l.length>0&&(U+=`
@media (max-width: 1024px) {
${l.join(`
`)}
}`),n.length>0&&(U+=`
@media (max-width: 767px) {
${n.join(`
`)}
}`),U}function Je({attributes:e,setAttributes:s}){const o=e.icons||{},l=(n,t)=>{s({icons:{...e.icons,[n]:t}})};return React.createElement(Ce,{defaultPanel:"icons"},React.createElement(k,{id:"icons",title:r("Icons","voxel-fse")},React.createElement(T,{label:r("Search","voxel-fse"),value:o.search,onChange:n=>l("search",n)}),React.createElement(T,{label:r("Chat","voxel-fse"),value:o.chat,onChange:n=>l("chat",n)}),React.createElement(T,{label:r("Load more","voxel-fse"),value:o.loadMore,onChange:n=>l("loadMore",n)}),React.createElement(T,{label:r("Back","voxel-fse"),value:o.back,onChange:n=>l("back",n)}),React.createElement(T,{label:r("More","voxel-fse"),value:o.more,onChange:n=>l("more",n)}),React.createElement(T,{label:r("User","voxel-fse"),value:o.user,onChange:n=>l("user",n)}),React.createElement(T,{label:r("Clear","voxel-fse"),value:o.clear,onChange:n=>l("clear",n)}),React.createElement(T,{label:r("Ban","voxel-fse"),value:o.ban,onChange:n=>l("ban",n)}),React.createElement(T,{label:r("Trash","voxel-fse"),value:o.trash,onChange:n=>l("trash",n)}),React.createElement(T,{label:r("Upload","voxel-fse"),value:o.upload,onChange:n=>l("upload",n)}),React.createElement(T,{label:r("Media library","voxel-fse"),value:o.gallery,onChange:n=>l("gallery",n)}),React.createElement(T,{label:r("Emoji","voxel-fse"),value:o.emoji,onChange:n=>l("emoji",n)}),React.createElement(T,{label:r("Send","voxel-fse"),value:o.send,onChange:n=>l("send",n)})))}function Ke({attributes:e,setAttributes:s}){return React.createElement(Ce,{attributes:e,setAttributes:s,stateAttribute:"styleTabOpenPanel",defaultPanel:"general"},React.createElement(k,{id:"general",title:r("General","voxel-fse")},React.createElement(x,{label:r("Height","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"generalHeight",min:200,max:1200,step:1,units:["px","%","vh"]}),React.createElement(Le,{label:r("Calculate height?","voxel-fse"),checked:e.enableCalcHeight||!1,onChange:o=>s({enableCalcHeight:o})}),e.enableCalcHeight&&React.createElement(je,{label:r("Calculation","voxel-fse"),help:r("Use CSS calc() to calculate height e.g calc(100vh - 215px)","voxel-fse"),attributes:e,setAttributes:s,attributeName:"calcHeight"}),React.createElement(g,{label:r("Background color","voxel-fse"),value:e.generalBackground,onChange:o=>s({generalBackground:o})}),React.createElement(Z,{label:r("Border","voxel-fse"),value:{borderType:e.generalBorderType,borderWidth:e.generalBorderWidth,borderColor:e.generalBorderColor},onChange:o=>s({generalBorderType:o.borderType,generalBorderWidth:o.borderWidth,generalBorderColor:o.borderColor}),hideRadius:!0}),React.createElement(x,{label:r("Border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"generalBorderRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(Ue,{label:r("Box Shadow","voxel-fse"),attributes:e,setAttributes:s,shadowAttributeName:"generalBoxShadow"}),React.createElement(x,{label:r("Sidebar width","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"sidebarWidth",min:200,max:1200,step:1,units:["px"]}),React.createElement(g,{label:r("Separator color","voxel-fse"),value:e.separatorColor,onChange:o=>s({separatorColor:o})}),React.createElement(g,{label:r("Scrollbar color","voxel-fse"),value:e.scrollbarColor,onChange:o=>s({scrollbarColor:o})})),React.createElement(k,{id:"inbox-message",title:r("Inbox: Message","voxel-fse")},React.createElement(ie,{tabs:[{name:"normal",title:r("Normal","voxel-fse")},{name:"hover",title:r("Hover","voxel-fse")},{name:"active",title:r("Active","voxel-fse")},{name:"unread",title:r("Unread","voxel-fse")},{name:"new",title:r("New","voxel-fse")}],attributes:e,setAttributes:s,attributeName:"inboxMessageActiveTab"},o=>o.name==="normal"?React.createElement(React.Fragment,null,React.createElement(b,{label:r("General","voxel-fse")}),React.createElement(ue,{label:r("Padding","voxel-fse"),values:e.inboxMessagePadding||{},onChange:l=>s({inboxMessagePadding:l})}),React.createElement(b,{label:r("Content","voxel-fse")}),React.createElement(x,{label:r("Content gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageContentGap",min:0,max:100,step:1,units:["px"]}),React.createElement(g,{label:r("Title color","voxel-fse"),value:e.inboxMessageTitleColor,onChange:l=>s({inboxMessageTitleColor:l})}),React.createElement(E,{label:r("Title typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageTitleTypography"}),React.createElement(g,{label:r("Subtitle color","voxel-fse"),value:e.inboxMessageSubtitleColor,onChange:l=>s({inboxMessageSubtitleColor:l})}),React.createElement(E,{label:r("Subtitle typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageSubtitleTypography"}),React.createElement(b,{label:r("Avatar / Logo","voxel-fse")}),React.createElement(x,{label:r("Size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageAvatarSize",min:20,max:40,step:1,units:["px"]}),React.createElement(x,{label:r("Gap against content","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageAvatarGap",min:0,max:100,step:1,units:["px"]}),React.createElement(b,{label:r("Secondary logo","voxel-fse")}),React.createElement(x,{label:r("Size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageSecondaryLogoSize",min:20,max:40,step:1,units:["px"]}),React.createElement(Z,{label:r("Border","voxel-fse"),value:e.inboxMessageSecondaryLogoBorder||{},onChange:l=>s({inboxMessageSecondaryLogoBorder:l}),hideRadius:!0})):o.name==="hover"?React.createElement(React.Fragment,null,React.createElement(g,{label:r("Background","voxel-fse"),value:e.inboxMessageHoverBg,onChange:l=>s({inboxMessageHoverBg:l})}),React.createElement(g,{label:r("Title color","voxel-fse"),value:e.inboxMessageHoverTitleColor,onChange:l=>s({inboxMessageHoverTitleColor:l})}),React.createElement(g,{label:r("Subtitle color","voxel-fse"),value:e.inboxMessageHoverSubtitleColor,onChange:l=>s({inboxMessageHoverSubtitleColor:l})})):o.name==="active"?React.createElement(React.Fragment,null,React.createElement(g,{label:r("Background","voxel-fse"),value:e.inboxMessageActiveBg,onChange:l=>s({inboxMessageActiveBg:l})}),React.createElement(x,{label:r("Border width","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageActiveBorderWidth",min:0,max:40,step:1,units:["px"]}),React.createElement(g,{label:r("Border color","voxel-fse"),value:e.inboxMessageActiveBorderColor,onChange:l=>s({inboxMessageActiveBorderColor:l})}),React.createElement(g,{label:r("Title color","voxel-fse"),value:e.inboxMessageActiveTitleColor,onChange:l=>s({inboxMessageActiveTitleColor:l})}),React.createElement(g,{label:r("Subtitle color","voxel-fse"),value:e.inboxMessageActiveSubtitleColor,onChange:l=>s({inboxMessageActiveSubtitleColor:l})})):o.name==="unread"?React.createElement(React.Fragment,null,React.createElement(E,{label:r("Title typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageUnreadTitleTypography"})):React.createElement(React.Fragment,null,React.createElement(Z,{label:r("Avatar border","voxel-fse"),value:e.inboxMessageNewAvatarBorder||{},onChange:l=>s({inboxMessageNewAvatarBorder:l}),hideRadius:!0})))),React.createElement(k,{id:"inbox-search",title:r("Inbox: Search","voxel-fse")},React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxSearchTypography"}),React.createElement(g,{label:r("Value color","voxel-fse"),value:e.inboxSearchValueColor,onChange:o=>s({inboxSearchValueColor:o})}),React.createElement(g,{label:r("Input placeholder color","voxel-fse"),value:e.inboxSearchPlaceholderColor,onChange:o=>s({inboxSearchPlaceholderColor:o})}),React.createElement(g,{label:r("Icon color","voxel-fse"),value:e.inboxSearchIconColor,onChange:o=>s({inboxSearchIconColor:o})}),React.createElement(x,{label:r("Icon size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxSearchIconSize",min:0,max:40,step:1,units:["px"]})),React.createElement(k,{id:"conversation-top",title:r("Conversation: Top","voxel-fse")},React.createElement(x,{label:r("Avatar radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationTopAvatarRadius",min:0,max:100,step:1,units:["px"]}),React.createElement(x,{label:r("Avatar / Text gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationTopAvatarGap",min:0,max:100,step:1,units:["px"]}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationTopTypography"}),React.createElement(g,{label:r("Text color","voxel-fse"),value:e.conversationTopTextColor,onChange:o=>s({conversationTopTextColor:o})})),React.createElement(k,{id:"conversation-intro",title:r("Conversation: Intro","voxel-fse")},React.createElement(x,{label:r("Content gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroContentGap",min:0,max:100,step:1,units:["px"]}),React.createElement(x,{label:r("Avatar size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroAvatarSize",min:20,max:40,step:1,units:["px"]}),React.createElement(x,{label:r("Avatar border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroAvatarRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(E,{label:r("Name typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroNameTypography"}),React.createElement(g,{label:r("Name color","voxel-fse"),value:e.conversationIntroNameColor,onChange:o=>s({conversationIntroNameColor:o})}),React.createElement(E,{label:r("Subtitle typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroSubtitleTypography"}),React.createElement(g,{label:r("Subtitle color","voxel-fse"),value:e.conversationIntroSubtitleColor,onChange:o=>s({conversationIntroSubtitleColor:o})})),React.createElement(k,{id:"conversation-body",title:r("Conversation: Body","voxel-fse")},React.createElement(x,{label:r("Message gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationBodyMessageGap",min:0,max:100,step:1,units:["px"]}),React.createElement(b,{label:r("Single message","voxel-fse")}),React.createElement(ue,{label:r("Padding","voxel-fse"),values:e.conversationBodyMessagePadding||{},onChange:o=>s({conversationBodyMessagePadding:o})}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationBodyMessageTypography"}),React.createElement(x,{label:r("Border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationBodyMessageRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(b,{label:r("Responder 1","voxel-fse")}),React.createElement(de,{attributes:e,setAttributes:s,showHoverState:!1}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.responder1Color,onChange:o=>s({responder1Color:o})}),React.createElement(b,{label:r("Responder 2","voxel-fse")}),React.createElement(de,{attributes:e,setAttributes:s,showHoverState:!1}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.responder2Color,onChange:o=>s({responder2Color:o})}),React.createElement(b,{label:r("Error","voxel-fse")}),React.createElement(de,{attributes:e,setAttributes:s,showHoverState:!1}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.errorColor,onChange:o=>s({errorColor:o})}),React.createElement(b,{label:r("Message info","voxel-fse")}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"messageInfoTypography"}),React.createElement(g,{label:r("Default Color","voxel-fse"),value:e.messageInfoDefaultColor,onChange:o=>s({messageInfoDefaultColor:o})}),React.createElement(g,{label:r("Delete color","voxel-fse"),value:e.messageInfoDeleteColor,onChange:o=>s({messageInfoDeleteColor:o})}),React.createElement(b,{label:r("Seen","voxel-fse")}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"seenTypography"}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.seenColor,onChange:o=>s({seenColor:o})}),React.createElement(b,{label:r("Images","voxel-fse")}),React.createElement(x,{label:r("Border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"imagesRadius",min:0,max:100,step:1,units:["px","%"]})),React.createElement(k,{id:"conversation-compose",title:r("Conversation: Compose","voxel-fse")},React.createElement(x,{label:r("Avatar radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"composeAvatarRadius",min:0,max:100,step:1,units:["px"]}),React.createElement(b,{label:r("Placeholder","voxel-fse")}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"composePlaceholderTypography"}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.composePlaceholderColor,onChange:o=>s({composePlaceholderColor:o})}),React.createElement(b,{label:r("Value","voxel-fse")}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"composeValueTypography"}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.composeValueColor,onChange:o=>s({composeValueColor:o})})),React.createElement(k,{id:"icon-button",title:r("Icon button","voxel-fse")},React.createElement(ie,{tabs:[{name:"normal",title:r("Normal","voxel-fse")},{name:"hover",title:r("Hover","voxel-fse")}],attributes:e,setAttributes:s,attributeName:"iconButtonActiveTab"},o=>o.name==="normal"?React.createElement(React.Fragment,null,React.createElement(b,{label:r("Button styling","voxel-fse")}),React.createElement(g,{label:r("Button icon color","voxel-fse"),value:e.iconButtonColor,onChange:l=>s({iconButtonColor:l})}),React.createElement(g,{label:r("Button background","voxel-fse"),value:e.iconButtonBackground,onChange:l=>s({iconButtonBackground:l})}),React.createElement(Z,{label:r("Button border","voxel-fse"),value:{borderType:e.iconButtonBorderType,borderWidth:e.iconButtonBorderWidth,borderColor:e.iconButtonBorderColor},onChange:l=>s({iconButtonBorderType:l.borderType,iconButtonBorderWidth:l.borderWidth,iconButtonBorderColor:l.borderColor}),hideRadius:!0}),React.createElement(x,{label:r("Button border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"iconButtonRadius",min:0,max:100,step:1,units:["px","%"]})):React.createElement(React.Fragment,null,React.createElement(g,{label:r("Button icon color","voxel-fse"),value:e.iconButtonHoverColor,onChange:l=>s({iconButtonHoverColor:l})}),React.createElement(g,{label:r("Button background color","voxel-fse"),value:e.iconButtonHoverBackground,onChange:l=>s({iconButtonHoverBackground:l})}),React.createElement(g,{label:r("Button border color","voxel-fse"),value:e.iconButtonHoverBorderColor,onChange:l=>s({iconButtonHoverBorderColor:l})})))),React.createElement(k,{id:"tertiary-button",title:r("Tertiary button","voxel-fse")},React.createElement(ie,{tabs:[{name:"normal",title:r("Normal","voxel-fse")},{name:"hover",title:r("Hover","voxel-fse")}],attributes:e,setAttributes:s,attributeName:"tertiaryButtonActiveTab"},o=>o.name==="normal"?React.createElement(React.Fragment,null,React.createElement(g,{label:r("Button icon color","voxel-fse"),value:e.tertiaryButtonIconColor,onChange:l=>s({tertiaryButtonIconColor:l})}),React.createElement(x,{label:r("Button icon size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"tertiaryButtonIconSize",min:0,max:100,step:1,units:["px"]}),React.createElement(g,{label:r("Button background","voxel-fse"),value:e.tertiaryButtonBackground,onChange:l=>s({tertiaryButtonBackground:l})}),React.createElement(Z,{label:r("Button border","voxel-fse"),value:{borderType:e.tertiaryButtonBorderType,borderWidth:e.tertiaryButtonBorderWidth,borderColor:e.tertiaryButtonBorderColor},onChange:l=>s({tertiaryButtonBorderType:l.borderType,tertiaryButtonBorderWidth:l.borderWidth,tertiaryButtonBorderColor:l.borderColor}),hideRadius:!0}),React.createElement(x,{label:r("Button border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"tertiaryButtonRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(E,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"tertiaryButtonTypography"}),React.createElement(g,{label:r("Text color","voxel-fse"),value:e.tertiaryButtonTextColor,onChange:l=>s({tertiaryButtonTextColor:l})})):React.createElement(React.Fragment,null,React.createElement(g,{label:r("Button icon color","voxel-fse"),value:e.tertiaryButtonHoverIconColor,onChange:l=>s({tertiaryButtonHoverIconColor:l})}),React.createElement(g,{label:r("Button background","voxel-fse"),value:e.tertiaryButtonHoverBackground,onChange:l=>s({tertiaryButtonHoverBackground:l})}),React.createElement(g,{label:r("Border color","voxel-fse"),value:e.tertiaryButtonHoverBorderColor,onChange:l=>s({tertiaryButtonHoverBorderColor:l})}),React.createElement(g,{label:r("Text color","voxel-fse"),value:e.tertiaryButtonHoverTextColor,onChange:l=>s({tertiaryButtonHoverTextColor:l})})))),React.createElement(k,{id:"no-messages",title:r("No messages / No chat selected","voxel-fse")},React.createElement(x,{label:r("Icon size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"emptyIconSize",min:20,max:50,step:1,units:["px"]}),React.createElement(g,{label:r("Icon color","voxel-fse"),value:e.emptyIconColor,onChange:o=>s({emptyIconColor:o})}),React.createElement(g,{label:r("Title color","voxel-fse"),value:e.emptyTitleColor,onChange:o=>s({emptyTitleColor:o})}),React.createElement(E,{label:r("Title typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"emptyTitleTypography"})),React.createElement(k,{id:"loading",title:r("Loading","voxel-fse")},React.createElement(b,{label:r("Loading","voxel-fse")}),React.createElement(g,{label:r("Color 1","voxel-fse"),value:e.loadingColor1,onChange:o=>s({loadingColor1:o})}),React.createElement(g,{label:r("Color 2","voxel-fse"),value:e.loadingColor2,onChange:o=>s({loadingColor2:o})})))}function Xe({attributes:e,setAttributes:s,clientId:o}){const l=e.blockId||o;ce(()=>{e.blockId||s({blockId:o})},[e.blockId,o,s]);const n=$e(e,{blockId:l,baseClass:"voxel-fse-messages",selectorPrefix:"voxel-fse-messages"}),t=ve(()=>Re(e,l),[e,l]),$=ve(()=>[n.responsiveCSS,t].filter(Boolean).join(`
`),[n.responsiveCSS,t]),R=xe({id:n.elementId,className:n.className,style:n.styles,...n.customAttrs});return React.createElement(React.Fragment,null,React.createElement(Ne,null,React.createElement(Pe,{tabs:[{id:"content",label:r("Content","voxel-fse"),icon:"î¤¬",render:()=>React.createElement(Je,{attributes:e,setAttributes:s})},{id:"style",label:r("Style","voxel-fse"),icon:"î¤¡",render:()=>React.createElement(Ke,{attributes:e,setAttributes:s})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:s,defaultTab:"content"})),React.createElement("div",{...R},$&&React.createElement("style",{dangerouslySetInnerHTML:{__html:$}}),React.createElement(Oe,{attributes:e,context:"editor"})))}function Ye({attributes:e}){const s=e.blockId||"messages",o=$e(e,{blockId:s,baseClass:"voxel-fse-messages"}),l=Re(e,s),n=[o.responsiveCSS,l].filter(Boolean).join(`
`),t=xe.save({id:o.elementId,className:o.className,style:o.styles,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...o.customAttrs}),$={icons:e.icons,settings:{enableCalcHeight:e.enableCalcHeight,calcHeight:e.calcHeight}};return React.createElement("div",{...t},n&&React.createElement("style",{dangerouslySetInnerHTML:{__html:n}}),Ae(e,!1,void 0,void 0,o.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify($)}}),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",padding:"40px",minHeight:"400px",borderRadius:"8px",border:"1px solid #e0e0e0"}},React.createElement("div",{style:{textAlign:"center",color:"#999"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.4}},React.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"})),React.createElement("p",{style:{margin:"12px 0 0",fontSize:"14px"}},"Messages Widget"))))}const Qe="https://schemas.wp.org/trunk/block.json",Ze=3,eo="voxel-fse/messages",oo="1.0.0",ao="Messages (VX)",to="voxel-fse",no="Direct messages inbox with real-time chat functionality. FSE equivalent of Voxel's Messages widget.",lo=["messages","inbox","chat","direct messages","dm","conversation","voxel"],ro="voxel-fse",so={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},co="file:./index.js",io="file:./frontend.js",mo="file:./render.php",po={blockId:{type:"string",default:""},icons:{type:"object",default:{search:{library:"",value:""},chat:{library:"",value:""},loadMore:{library:"",value:""},back:{library:"",value:""},more:{library:"",value:""},user:{library:"",value:""},clear:{library:"",value:""},ban:{library:"",value:""},trash:{library:"",value:""},upload:{library:"",value:""},gallery:{library:"",value:""},emoji:{library:"",value:""},send:{library:"",value:""}}},generalHeight:{type:"number"},generalHeightTablet:{type:"number"},generalHeightMobile:{type:"number"},generalHeightUnit:{type:"string",default:"px"},enableCalcHeight:{type:"boolean",default:!1},calcHeight:{type:"string",default:""},generalBackground:{type:"string",default:""},generalBorderType:{type:"string",default:"default"},generalBorderWidth:{type:"number",default:0},generalBorderColor:{type:"string",default:""},generalBorderRadius:{type:"number",default:0},generalBoxShadow:{type:"object",default:{}},sidebarWidth:{type:"number"},separatorColor:{type:"string",default:""},scrollbarColor:{type:"string",default:""},inboxMessagePadding:{type:"object",default:{top:"",right:"",bottom:"",left:""}},inboxMessageContentGap:{type:"number"},inboxMessageTitleColor:{type:"string",default:""},inboxMessageTitleTypography:{type:"object",default:{}},inboxMessageSubtitleColor:{type:"string",default:""},inboxMessageSubtitleTypography:{type:"object",default:{}},inboxMessageAvatarSize:{type:"number"},inboxMessageAvatarRadius:{type:"number"},inboxMessageAvatarGap:{type:"number"},inboxMessageSecondaryLogoSize:{type:"number"},inboxMessageSecondaryLogoRadius:{type:"number"},inboxMessageSecondaryLogoBorder:{type:"object",default:{}},inboxMessageHoverBg:{type:"string",default:""},inboxMessageHoverTitleColor:{type:"string",default:""},inboxMessageHoverSubtitleColor:{type:"string",default:""},inboxMessageActiveBg:{type:"string",default:""},inboxMessageActiveBorderWidth:{type:"number"},inboxMessageActiveBorderColor:{type:"string",default:""},inboxMessageActiveTitleColor:{type:"string",default:""},inboxMessageActiveSubtitleColor:{type:"string",default:""},inboxMessageUnreadTitleTypography:{type:"object",default:{}},inboxMessageNewAvatarBorder:{type:"object",default:{}},inboxSearchTypography:{type:"object",default:{}},inboxSearchValueColor:{type:"string",default:""},inboxSearchPlaceholderColor:{type:"string",default:""},inboxSearchIconColor:{type:"string",default:""},inboxSearchIconSize:{type:"number"},conversationTopAvatarRadius:{type:"number"},conversationTopAvatarGap:{type:"number"},conversationTopTypography:{type:"object",default:{}},conversationTopTextColor:{type:"string",default:""},conversationIntroContentGap:{type:"number"},conversationIntroAvatarSize:{type:"number"},conversationIntroAvatarRadius:{type:"number"},conversationIntroNameTypography:{type:"object",default:{}},conversationIntroNameColor:{type:"string",default:""},conversationIntroSubtitleTypography:{type:"object",default:{}},conversationIntroSubtitleColor:{type:"string",default:""},conversationBodyMessageGap:{type:"number"},conversationBodyMessagePadding:{type:"object",default:{top:"",right:"",bottom:"",left:""}},conversationBodyMessageTypography:{type:"object",default:{}},conversationBodyMessageRadius:{type:"number"},responder1Background:{type:"object",default:{}},responder1Color:{type:"string",default:""},responder2Background:{type:"object",default:{}},responder2Color:{type:"string",default:""},errorBackground:{type:"object",default:{}},errorColor:{type:"string",default:""},messageInfoTypography:{type:"object",default:{}},messageInfoDefaultColor:{type:"string",default:""},messageInfoDeleteColor:{type:"string",default:""},seenTypography:{type:"object",default:{}},seenColor:{type:"string",default:""},imagesRadius:{type:"number"},composeAvatarRadius:{type:"number"},composePlaceholderTypography:{type:"object",default:{}},composePlaceholderColor:{type:"string",default:""},composeValueTypography:{type:"object",default:{}},composeValueColor:{type:"string",default:""},iconButtonColor:{type:"string",default:""},iconButtonBackground:{type:"string",default:""},iconButtonBorderType:{type:"string",default:"default"},iconButtonBorderWidth:{type:"number",default:0},iconButtonBorderColor:{type:"string",default:""},iconButtonRadius:{type:"number"},iconButtonHoverColor:{type:"string",default:""},iconButtonHoverBackground:{type:"string",default:""},iconButtonHoverBorderColor:{type:"string",default:""},tertiaryButtonIconColor:{type:"string",default:""},tertiaryButtonIconSize:{type:"number"},tertiaryButtonBackground:{type:"string",default:""},tertiaryButtonBorderType:{type:"string",default:"default"},tertiaryButtonBorderWidth:{type:"number",default:0},tertiaryButtonBorderColor:{type:"string",default:""},tertiaryButtonRadius:{type:"number"},tertiaryButtonTypography:{type:"object",default:{}},tertiaryButtonTextColor:{type:"string",default:""},tertiaryButtonHoverIconColor:{type:"string",default:""},tertiaryButtonHoverBackground:{type:"string",default:""},tertiaryButtonHoverBorderColor:{type:"string",default:""},tertiaryButtonHoverTextColor:{type:"string",default:""},emptyIconSize:{type:"number",default:35},emptyIconColor:{type:"string",default:""},emptyTitleColor:{type:"string",default:""},emptyTitleTypography:{type:"object",default:{}},loadingColor1:{type:"string",default:""},loadingColor2:{type:"string",default:""},styleTabOpenPanel:{type:"string",default:"general"},inboxMessageActiveTab:{type:"string",default:"normal"},iconButtonActiveTab:{type:"string",default:"normal"},tertiaryButtonActiveTab:{type:"string",default:"normal"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},ye={$schema:Qe,apiVersion:Ze,name:eo,version:oo,title:ao,category:to,description:no,keywords:lo,textdomain:ro,supports:so,editorScript:co,viewScript:io,render:mo,attributes:po};ke(ye.name,{...ye,icon:Fe,edit:Xe,save:Ye});
