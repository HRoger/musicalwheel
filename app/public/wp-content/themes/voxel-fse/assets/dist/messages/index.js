import{registerBlockType as ke}from"@wordpress/blocks";import{useBlockProps as xe,InspectorControls as Ne}from"@wordpress/block-editor";import{useState as ze,useEffect as ce,useRef as J,useCallback as f,useMemo as ve}from"react";import{__ as r}from"@wordpress/i18n";import{M as He}from"../MediaPopup-M_962PvX.js";import{A as Ce,a as I,R as x,e as je,C as g,B as Q,c as Pe,b as ie,S as b,D as ue,T as S}from"../TypographyPopup-CAcEJ5NA.js";import{I as Ue}from"../InspectorTabs-Bq2wAh4W.js";import{ToggleControl as Le}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-C7JnAhZL.js";import"../voxelShim-DB_Ue-9R.js";import{g as Re}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as Ae}from"../backgroundElements-Ui-iCrLV.js";import{I as _}from"../IconPickerControl-Lep6knGI.js";import{B as de}from"../BackgroundControl-DZvfeWxy.js";import{V as Fe}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";import"../FormPopup-DDYHzYWU.js";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";import"../GalleryUploadControl-DMafjsl2.js";const T={search:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>',inbox:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"></path><path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"></path></svg>',chevronLeft:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>',menu:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"></path></svg>',reload:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path></svg>',send:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path></svg>',emoji:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd"></path></svg>',attach:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z" clip-rule="evenodd"></path></svg>',close:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',trash:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>',block:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"></path></svg>',gallery:'<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path><path d="M6 6.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"></path></svg>'};function M(e,s){return e&&e.value?e.value:s}function De(e=8){const s="abcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let l=0;l<e;l++)a+=s.charAt(Math.floor(Math.random()*s.length));return a}function Ge(e,s=300){let a=null;return((...l)=>{a&&clearTimeout(a),a=setTimeout(()=>e(...l),s)})}function me(e){return new URLSearchParams(window.location.search).get(e)}function We(e,s){const a=new URL(window.location.href);a.searchParams.set(e,s),window.history.replaceState({},"",a.toString())}function pe(e){const s=new URL(window.location.href);s.searchParams.delete(e),window.history.replaceState({},"",s.toString())}function F(e,s="error"){const a=window.Voxel;a?.alert?a.alert(e,s):console.error(`[messages] ${s}: ${e}`)}const Ve=[];function Oe({attributes:e,context:s,config:a,messagesConfig:l}){const[n,t]=ze({chats:{loading:!1,loadingMore:!1,list:s==="editor"?Ve:[],hasMore:!1,page:1},activeChat:null,search:{term:"",loading:!1,list:[]},emojis:{loading:!1,list:null,search:{term:"",list:[]},recents:[]},files:[],activePopup:null,dragActive:!1});ce(()=>{const o="voxel-messages-css";if(!document.getElementById(o)){const c=document.createElement("link");c.id=o,c.rel="stylesheet";const p=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");c.href=`${p}/wp-content/themes/voxel/assets/dist/messages.css?ver=1.7.5.2`,document.head.appendChild(c)}},[]);const R=J(null),$=J(null),w=J(null),U=J(null),D=J(null),k=J(null),C=f(o=>{const c=window.Voxel_Config;return c?.ajax_url?`${c.ajax_url}&action=${o}`:`${c?.site_url||window.location.origin}/?vx=1&action=${o}`},[]),z=f(()=>{R.current&&(R.current.scrollTop=R.current.scrollHeight)},[]),H=f(()=>{!$.current||!w.current||(w.current.value=$.current.value,w.current.style.width=`${$.current.scrollWidth}px`,w.current.style.minWidth=`${$.current.scrollWidth}px`,w.current.style.maxWidth=`${$.current.scrollWidth}px`,$.current.style.height=`${w.current.scrollHeight}px`)},[]),L=f(async(o=!1,c=1)=>{if(l){t(i=>({...i,chats:{...i.chats,loading:c===1,loadingMore:c>1}}));try{const i=new FormData;if(i.append("pg",String(c)),i.append("_wpnonce",l.nonce),o){const v=me("chat");v&&i.append("load",v)}const m=await(await fetch(C("inbox.list_chats"),{method:"POST",body:i})).json();if(m.success){const v=m.list||m.data?.chats||[];if(t(h=>({...h,chats:{loading:!1,loadingMore:!1,list:c===1?v:[...h.chats.list,...v],hasMore:m.has_more||m.data?.has_more||!1,page:c}})),o){const h=v.find(y=>y.autoload);h?G(h):m.default_chat&&G(m.default_chat)}}else F(m.message||"Failed to load chats","error"),t(v=>({...v,chats:{...v.chats,loading:!1,loadingMore:!1}}))}catch(i){console.error("[messages] Failed to load chats:",i),t(p=>({...p,chats:{...p.chats,loading:!1,loadingMore:!1}}))}}},[l,C]),ee=f(()=>{const o=n.chats.page+1;L(!1,o)},[n.chats.page,L]),G=f(async o=>{const c=[o.author.type==="post"?o.author.id:"",o.target.type==="post"?"p":"u",o.target.id].join("");if(We("chat",c),t(i=>({...i,activeChat:{...o,messages:{loading:!0,loadingMore:!1,list:[],hasMore:!1},state:{content:""},processing:!1,follow_status:o.follow_status||{author:0,target:0}},files:[]})),!!l)try{const i=new FormData;i.append("author_type",o.author.type),i.append("author_id",String(o.author.id)),i.append("target_type",o.target.type),i.append("target_id",String(o.target.id)),i.append("_wpnonce",l.nonce);const m=await(await fetch(C("inbox.load_chat"),{method:"POST",body:i})).json();if(m.success){t(h=>h.activeChat?{...h,activeChat:{...h.activeChat,messages:{loading:!1,loadingMore:!1,list:m.list||[],hasMore:m.has_more||!1},is_new:!1,seen:!0,follow_status:{author:m.follow_status?.author??h.activeChat.follow_status?.author??0,target:m.follow_status?.target??h.activeChat.follow_status?.target??0}}}:h),setTimeout(()=>{z(),H(),$.current?.focus()},50);const v=me("text");v&&(t(h=>h.activeChat?{...h,activeChat:{...h.activeChat,state:{content:v}}}:h),pe("text"))}else F(m.message||"Failed to load messages","error")}catch(i){console.error("[messages] Failed to load messages:",i)}},[l,C,z,H]),oe=f(()=>{pe("chat"),t(o=>({...o,activeChat:null,files:[]}))},[]),ae=f(async()=>{if(!n.activeChat||!l||n.activeChat.messages.loadingMore)return;const o=R.current;if(!o)return;const c=o.scrollHeight-o.scrollTop;t(i=>i.activeChat?{...i,activeChat:{...i.activeChat,messages:{...i.activeChat.messages,loadingMore:!0}}}:i);try{const i=n.activeChat.messages.list[n.activeChat.messages.list.length-1],p=new FormData;i&&p.append("cursor",String(i.id)),p.append("author_type",n.activeChat.author.type),p.append("author_id",String(n.activeChat.author.id)),p.append("target_type",n.activeChat.target.type),p.append("target_id",String(n.activeChat.target.id)),p.append("_wpnonce",l.nonce);const v=await(await fetch(C("inbox.load_chat"),{method:"POST",body:p})).json();v.success&&(t(h=>h.activeChat?{...h,activeChat:{...h.activeChat,messages:{loading:!1,loadingMore:!1,list:[...h.activeChat.messages.list,...v.list||[]],hasMore:v.has_more||!1}}}:h),setTimeout(()=>{o&&(o.scrollTop=o.scrollHeight-c)},10))}catch(i){console.error("[messages] Failed to load more messages:",i),t(p=>p.activeChat?{...p,activeChat:{...p.activeChat,messages:{...p.activeChat.messages,loadingMore:!1}}}:p)}},[n.activeChat,l,C]),W=f(async()=>{if(!n.activeChat||!l)return;const o=n.activeChat.state.content.trim(),c=n.files.length>0;if(!o&&!c)return;const i={id:Date.now(),content:o.replace(/(?:\r\n|\r|\n){2,}/g,"</p><p>").replace(/(?:\r\n|\r|\n)/g,"<br>"),has_content:o.length>0,time:r("Sending","voxel-fse"),sent_by:"author",seen:!1,sending:!0,tmp:!0,is_deleted:!1,is_hidden:!1};t(y=>y.activeChat?{...y,activeChat:{...y.activeChat,messages:{...y.activeChat.messages,list:[i,...y.activeChat.messages.list]},state:{content:""}},files:[]}:y);const p=new FormData,m={content:o},v="files",h=[];n.files.forEach(y=>{y.source==="new_upload"&&y.item?(p.append(`files[${v}][]`,y.item),h.push("uploaded_file")):y.source==="existing"&&y.id&&h.push(y.id)}),m[v]=h,p.append("fields",JSON.stringify(m)),p.append("sender_type",n.activeChat.author.type),p.append("sender_id",String(n.activeChat.author.id)),p.append("receiver_type",n.activeChat.target.type),p.append("receiver_id",String(n.activeChat.target.id)),p.append("_wpnonce",l.nonce),setTimeout(()=>{z(),H(),l.blur_on_send?$.current?.blur():$.current?.focus()},10);try{const B=await(await fetch(C("inbox.send_message"),{method:"POST",body:p})).json();B.success?(t(u=>{if(!u.activeChat)return u;const P=u.activeChat.messages.list.map(K=>K.tmp&&K.id===i.id?{...B.message||K,tmp:!1,sending:!1}:K),q={...u.activeChat,messages:{...u.activeChat.messages,list:P},excerpt:B.message?.excerpt||u.activeChat.excerpt,time:B.message?.chat_time||u.activeChat.time},se=u.chats.list.filter(K=>K.key!==u.activeChat?.key);return se.unshift(q),{...u,activeChat:q,chats:{...u.chats,list:se}}}),delete window._vx_file_upload_cache,setTimeout(z,50)):(t(u=>u.activeChat?{...u,activeChat:{...u.activeChat,messages:{...u.activeChat.messages,list:u.activeChat.messages.list.filter(P=>P.id!==i.id)},state:{content:o}}}:u),F(B.message||"Failed to send message","error"),setTimeout(H,10))}catch(y){console.error("[messages] Failed to send message:",y),t(B=>B.activeChat?{...B,activeChat:{...B.activeChat,messages:{...B.activeChat.messages,list:B.activeChat.messages.list.filter(u=>u.id!==i.id)},state:{content:o}}}:B)}},[n.activeChat,n.files,l,C,z,H]),te=f(async o=>{if(!n.activeChat||!l||!window.confirm(r("Are you sure?","voxel-fse")))return;const c=new FormData;c.append("deleter_type",n.activeChat.author.type),c.append("deleter_id",String(n.activeChat.author.id)),c.append("message_id",String(o.id)),c.append("_wpnonce",l.nonce),t(i=>i.activeChat?{...i,activeChat:{...i.activeChat,messages:{...i.activeChat.messages,list:i.activeChat.messages.list.map(p=>p.id===o.id?{...p,processing:!0}:p)}}}:i);try{const p=await(await fetch(C("inbox.delete_message"),{method:"POST",body:c})).json();p.success?t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,messages:{...m.activeChat.messages,list:m.activeChat.messages.list.map(v=>v.id===o.id?{...v,is_deleted:p.is_deleted,is_hidden:p.is_hidden,processing:!1}:v)}}}:m):(F(p.message||"Failed to delete message","error"),t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,messages:{...m.activeChat.messages,list:m.activeChat.messages.list.map(v=>v.id===o.id?{...v,processing:!1}:v)}}}:m))}catch(i){console.error("[messages] Failed to delete message:",i)}},[n.activeChat,l,C]),ne=f(async()=>{if(!n.activeChat||!l||!window.confirm(r("Are you sure?","voxel-fse")))return;const o=n.activeChat.follow_status?.author===-1,c=new FormData;c.append("sender_type",n.activeChat.author.type),c.append("sender_id",String(n.activeChat.author.id)),c.append("receiver_type",n.activeChat.target.type),c.append("receiver_id",String(n.activeChat.target.id)),o&&c.append("unblock","yes"),c.append("_wpnonce",l.nonce),t(i=>i.activeChat?{...i,activeChat:{...i.activeChat,processing:!0}}:i),D.current?.blur();try{const p=await(await fetch(C("inbox.block_chat"),{method:"POST",body:c})).json();p.success?(t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,processing:!1,follow_status:{...m.activeChat.follow_status,author:p.status}}}:m),setTimeout(z,50)):(F(p.message||"Failed to update block status","error"),t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,processing:!1}}:m))}catch(i){console.error("[messages] Failed to block/unblock:",i)}},[n.activeChat,l,C,z]),V=f(()=>n.activeChat?.follow_status?n.activeChat.follow_status.author===-1||n.activeChat.follow_status.target===-1:!1,[n.activeChat]),le=f(async(o=!1)=>{if(!n.activeChat||!l||!window.confirm(r("Are you sure?","voxel-fse")))return;const c=new FormData;c.append("sender_type",n.activeChat.author.type),c.append("sender_id",String(n.activeChat.author.id)),c.append("receiver_type",n.activeChat.target.type),c.append("receiver_id",String(n.activeChat.target.id)),c.append("_wpnonce",l.nonce),t(i=>i.activeChat?{...i,activeChat:{...i.activeChat,processing:!0}}:i),D.current?.blur();try{const p=await(await fetch(C("inbox.clear_conversation"),{method:"POST",body:c})).json();p.success?(t(m=>{if(!m.activeChat)return m;const v=m.chats.list.filter(h=>h.key!==m.activeChat?.key);return o?{...m,activeChat:null,chats:{...m.chats,list:v}}:{...m,activeChat:{...m.activeChat,processing:!1,messages:{...m.activeChat.messages,list:[],hasMore:!1}},chats:{...m.chats,list:v}}}),o&&pe("chat")):(F(p.message||"Failed to clear conversation","error"),t(m=>m.activeChat?{...m,activeChat:{...m.activeChat,processing:!1}}:m))}catch(i){console.error("[messages] Failed to clear conversation:",i)}},[n.activeChat,l,C]),N=f(async()=>{if(!l?.polling?.enabled)return;if(document.visibilityState!=="visible"){k.current=setTimeout(N,l.polling.frequency||3e4);return}const o=Math.round(Date.now()/1e3);try{await(await fetch(`${l.polling.url}?u=${l.user?.id||0}&v=${o}`)).text()==="1"?re():k.current=setTimeout(N,l.polling.frequency||3e4)}catch(c){console.error("[messages] Polling failed:",c),k.current=setTimeout(N,l.polling.frequency||3e4)}},[l]),X=f((o,c)=>{const i={...o,excerpt:c.excerpt,is_new:c.is_new,seen:c.seen,time:c.time};if(c.messages?.list&&o.messages?.list){c.messages.list.forEach(v=>{const h=o.messages.list.find(y=>y.id===v.id);h&&(h.seen=v.seen,h.is_deleted=v.is_deleted,h.is_hidden=v.is_hidden)});const p=o.messages.list[0]?.id||0,m=c.messages.list.filter(v=>v.id>p);m.length<15?i.messages={...o.messages,list:[...m,...o.messages.list],hasMore:c.messages.hasMore}:i.messages=c.messages}return i.last_id=c.last_id,i},[]),re=f(async()=>{if(l)try{const o=new FormData;o.append("pg","1"),o.append("_wpnonce",l.nonce);const c=me("chat");c&&o.append("load",c);const p=await(await fetch(C("inbox.list_chats"),{method:"POST",body:o})).json();p.success&&t(m=>{const v=[],h=p.list||[];h.forEach(u=>{const P=m.chats.list.findIndex(q=>q.key===u.key);if(P!==-1){const q=m.chats.list[P],se=X(q,u);v.push(se)}else v.push(u)});const y=m.chats.list.filter(u=>!h.find(P=>P.key===u.key)),B={...m,chats:{...m.chats,list:[...v,...y]}};if(m.activeChat){const u=v.find(P=>P.key===m.activeChat?.key);u&&(B.activeChat={...m.activeChat,...u,messages:u.messages||m.activeChat.messages,state:m.activeChat.state})}return B}),l.polling?.enabled&&(k.current=setTimeout(N,l.polling.frequency||3e4))}catch(o){console.error("[messages] Failed to refresh inbox:",o),l.polling?.enabled&&(k.current=setTimeout(N,l.polling.frequency||3e4))}},[l,C,X,N]),A=f(async()=>{if(n.emojis.list!==null)return;t(c=>({...c,emojis:{...c.emojis,loading:!0}}));try{const c=l?.emojis?.url||"/wp-content/themes/voxel/assets/emojis.json",p=await(await fetch(c)).json();t(m=>({...m,emojis:{...m.emojis,loading:!1,list:p}}))}catch(c){console.error("[messages] Failed to load emojis:",c),t(i=>({...i,emojis:{...i.emojis,loading:!1}}))}const o=localStorage.getItem("voxel:recent_emojis");o&&t(c=>({...c,emojis:{...c.emojis,recents:[...o]}}))},[n.emojis.list,l]),O=f(o=>{if(!$.current||!n.activeChat)return;const c=$.current;let i=n.activeChat.state.content;if(c.selectionStart!==null){const h=c.selectionStart,y=c.selectionEnd;i=i.substring(0,h)+o+i.substring(y),setTimeout(()=>{c.setSelectionRange(h+o.length,h+o.length),c.focus()},10)}else i+=o;t(h=>h.activeChat?{...h,activeChat:{...h.activeChat,state:{content:i}}}:h);let p=[];const m=localStorage.getItem("voxel:recent_emojis");m&&(p=[...m]),p=p.filter(h=>h!==o),p.unshift(o);const v=p.slice(0,16);localStorage.setItem("voxel:recent_emojis",v.join("")),t(h=>({...h,emojis:{...h.emojis,recents:v}}))},[n.activeChat]),Y=f(()=>{if(!n.emojis.list||!n.emojis.search.term.trim()){t(i=>({...i,emojis:{...i.emojis,search:{...i.emojis.search,list:[]}}}));return}const o=[],c=n.emojis.search.term.trim().toLowerCase();Object.values(n.emojis.list).some(i=>(i.some(p=>(p.name.toLowerCase().includes(c)&&o.push(p.emoji),o.length>=80)),o.length>=80)),t(i=>({...i,emojis:{...i.emojis,search:{...i.emojis.search,list:o}}}))},[n.emojis.list,n.emojis.search.term]),j=f(o=>{const c=l?.files?.max_count||5,i=l?.files?.max_size;if(i&&o.size>i*1e3){const h=i,y=(i/1e3).toFixed(1);F(r('File "%s" exceeds the maximum size limit (%s KB / %s MB)',"voxel-fse").replace("%s",o.name).replace("%s",String(h)).replace("%s",y),"error");return}const p={source:"new_upload",name:o.name,type:o.type,size:o.size,preview:URL.createObjectURL(o),item:o,_id:De(8)},m=window;m._vx_file_upload_cache||(m._vx_file_upload_cache=[]);const v=m._vx_file_upload_cache.find(h=>h.item?.name===o.name&&h.item?.type===o.type&&h.item?.size===o.size&&h.item?.lastModified===o.lastModified);v?t(h=>c===1?{...h,files:[v]}:h.files.length>=c?h:{...h,files:[...h.files,v]}):(m._vx_file_upload_cache.unshift(p),t(h=>c===1?{...h,files:[p]}:h.files.length>=c?h:{...h,files:[...h.files,p]}))},[l]),d=f(o=>{const c=o.target.files;if(c){for(let i=0;i<c.length;i++)j(c[i]);o.target.value=""}},[j]),Be=f(o=>{o.preventDefault(),t(c=>({...c,dragActive:!1})),o.dataTransfer.items?[...o.dataTransfer.items].forEach(c=>{if(c.kind==="file"){const i=c.getAsFile();i&&j(i)}}):[...o.dataTransfer.files].forEach(c=>{j(c)})},[j]),be=f(o=>{t(c=>({...c,files:c.files.filter(i=>i._id!==o._id&&i.id!==o.id)})),o.source==="new_upload"&&URL.revokeObjectURL(o.preview)},[]),Se=f(o=>{const c=l?.files?.max_count||5,i={};n.files.forEach(m=>{m.source==="existing"&&m.id&&(i[m.id]=!0),m.source==="new_upload"&&m._id&&(i[m._id]=!0)});const p=[];o.forEach(m=>{m.source==="existing"&&m.id&&!i[m.id]&&p.push(m),m.source==="new_upload"&&m._id&&!i[m._id]&&p.push(m)}),t(m=>{const v=[...m.files,...p];return{...m,files:v.slice(0,c)}})},[l,n.files]),ge=ve(()=>Ge(async(o,c)=>{try{const i=new FormData;i.append("search",o),i.append("_wpnonce",c);const m=await(await fetch(C("inbox.search_chats"),{method:"POST",body:i})).json();m.success&&t(v=>({...v,search:{...v.search,loading:!1,list:m.list||[]}}))}catch(i){console.error("[messages] Failed to search chats:",i),t(p=>({...p,search:{...p.search,loading:!1}}))}},300),[C]),Ee=f(o=>{if(t(c=>({...c,search:{...c.search,term:o,loading:o.trim().length>0}})),!o.trim()||!l){t(c=>({...c,search:{term:o,loading:!1,list:[]}}));return}if(!n.chats.hasMore||o.trim().length<=2){const c=n.chats.list.filter(i=>i.target.name.toLowerCase().includes(o.trim().toLowerCase())).slice(0,10);t(i=>({...i,search:{term:o,loading:!1,list:c}}))}else ge(o.trim(),l.nonce)},[l,n.chats.hasMore,n.chats.list,ge]),_e=f(o=>{o.nativeEvent.isComposing||o.keyCode===229||o.shiftKey||o.key==="Enter"&&(o.preventDefault(),W())},[W]),Te=f(o=>{t(c=>({...c,activeChat:c.activeChat?{...c.activeChat,state:{...c.activeChat.state,content:o}}:null})),setTimeout(H,10)},[H]),Me=f(()=>{t(o=>({...o,activePopup:o.activePopup==="emoji"?null:"emoji"})),n.activePopup!=="emoji"&&A()},[n.activePopup,A]),we=f(()=>{t(o=>({...o,activePopup:o.activePopup==="actions"?null:"actions"}))},[]);ce(()=>(s==="frontend"&&l&&(L(!0),l.polling?.enabled&&(k.current=setTimeout(N,l.polling.frequency||3e4)),setTimeout(A,100)),()=>{k.current&&clearTimeout(k.current)}),[s,l,L,N,A]),ce(()=>{n.emojis.search.term.trim()&&n.emojis.list&&Y()},[n.emojis.search.term,n.emojis.list,Y]);const Ie=JSON.stringify(a||{icons:e.icons,settings:{enableCalcHeight:e.enableCalcHeight,calcHeight:e.calcHeight}});return React.createElement(React.Fragment,null,React.createElement("textarea",{ref:w,style:{position:"absolute",visibility:"hidden",height:"auto",overflow:"hidden"},"aria-hidden":"true",tabIndex:-1}),React.createElement("input",{ref:U,type:"file",multiple:!0,accept:l?.files?.allowed_file_types?.join(",")||"*",style:{display:"none"},onChange:d}),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:Ie}}),React.createElement("div",{className:`ts-inbox ${n.dragActive?"drag-active":""}`,onDragOver:o=>{o.preventDefault(),t(c=>({...c,dragActive:!0}))},onDragLeave:()=>t(o=>({...o,dragActive:!1})),onDrop:Be},React.createElement("div",{className:`inbox-left ${n.activeChat?"":"ts-no-chat"}`},n.chats.loading?React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{className:"ts-loader"})):n.chats.list.length?React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-form ts-inbox-top"},React.createElement("div",{className:"ts-input-icon flexify"},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.search,T.search)}}),React.createElement("input",{type:"text",value:n.search.term,onChange:o=>Ee(o.target.value),placeholder:r("Search inbox","voxel-fse"),className:"autofocus"}))),React.createElement("ul",{className:`ts-convo-list simplify-ul min-scroll ${n.search.loading?"vx-disabled":""}`},(n.search.term.trim()?n.search.list:n.chats.list).map(o=>React.createElement("li",{key:o.key||o.id,className:`
												${o.is_new?"ts-new-message":""}
												${o.seen?"":"ts-unread-message"}
												${n.activeChat?.id===o.id?"ts-active-chat":""}
											`},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),G(o)}},o.target.avatar&&React.createElement("div",{className:"convo-avatars"},React.createElement("div",{className:"convo-avatar",dangerouslySetInnerHTML:{__html:o.target.avatar}}),o.author.type==="post"&&React.createElement("div",{className:"post-avatar",dangerouslySetInnerHTML:{__html:o.author.avatar}})),React.createElement("div",{className:"message-details"},React.createElement("b",null,o.target.name),React.createElement("span",null,o.excerpt),React.createElement("span",null,o.time))))),n.chats.hasMore&&!n.search.term.trim()&&React.createElement("div",{className:"ts-btn-group"},React.createElement("div",{className:"n-load-more"},React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),ee()},className:`ts-btn ts-btn-4 ${n.chats.loadingMore?"vx-pending":""}`},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.loadMore,T.reload)}}),r("Load more","voxel-fse")))))):React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.chat,T.inbox)}}),React.createElement("p",null,r("No chats available","voxel-fse")))),React.createElement("div",{className:`ts-message-body ${n.activeChat?.processing?"vx-disabled":""} ${n.activeChat?"":"ts-no-chat"}`},n.activeChat?React.createElement(React.Fragment,null,React.createElement("div",{className:"ts-inbox-top add-spacing flexify"},React.createElement("div",{className:"convo-head"},React.createElement("div",{className:"ts-convo-name flexify"},React.createElement("a",{className:"convo-pic",href:n.activeChat.target.link},React.createElement("span",{dangerouslySetInnerHTML:{__html:n.activeChat.target.avatar}})),React.createElement("a",{className:"convo-name",href:n.activeChat.target.link},React.createElement("span",null,n.activeChat.target.name))),React.createElement("ul",{className:"flexify simplify-ul inbox-top-btns"},React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),oe()},className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.back,T.chevronLeft)}}))),React.createElement("li",{className:"flexify ts-popup-target"},React.createElement("button",{ref:D,onClick:we,className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.more,T.menu)}})),n.activePopup==="actions"&&React.createElement("div",{className:"ts-popup-content ts-popup-visible"},React.createElement("ul",{className:"simplify-ul ts-popup-list"},React.createElement("li",null,React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),ne(),t(c=>({...c,activePopup:null}))}},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.ban,T.block)}}),V()?r("Unblock user","voxel-fse"):r("Block user","voxel-fse"))),React.createElement("li",null,React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),le(!0),t(c=>({...c,activePopup:null}))}},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.clear,T.trash)}}),r("Clear conversation","voxel-fse"))))))))),V()&&React.createElement("div",{className:"ts-chat-blocked-notice"},React.createElement("p",null,r("This conversation is blocked.","voxel-fse"))),n.activeChat.messages.loading?React.createElement("div",{className:"start-convo"},React.createElement("span",{className:"ts-loader"})):n.activeChat.messages.list.length?React.createElement("div",{className:"ts-conversation-body min-scroll",ref:R},n.activeChat.messages.hasMore&&React.createElement("div",{className:"load-more-messages"},React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),ae()},className:`ts-btn ts-btn-4 ${n.activeChat.messages.loadingMore?"vx-pending":""}`},n.activeChat.messages.loadingMore?r("Loading...","voxel-fse"):r("Load older messages","voxel-fse"))),React.createElement("ul",{className:"ts-message-list simplify-ul"},[...n.activeChat.messages.list].reverse().map(o=>React.createElement("li",{key:o.id,className:`
													ts-single-message
													ts-responder-${o.sent_by==="author"?2:1}
													ts-message-id-${o.id}
													${o.sent_by==="author"&&o.seen?"ts-message-seen":""}
													${o.tmp?"inserted-message":""}
													${o.is_deleted?"ts-message-deleted":""}
													${o.is_hidden?"ts-message-hidden":""}
													${o.processing?"vx-disabled":""}
												`},o.is_deleted?React.createElement(React.Fragment,null,React.createElement("p",{className:"vx-disabled"},r("Deleted","voxel-fse")),React.createElement("ul",{className:"flexify simplify-ul ms-info"},React.createElement("li",null,o.time))):o.is_hidden?React.createElement(React.Fragment,null,React.createElement("p",{className:"vx-disabled"},r("Hidden","voxel-fse")),React.createElement("ul",{className:"flexify simplify-ul ms-info"},React.createElement("li",null,o.time))):React.createElement(React.Fragment,null,o.files&&o.files.length>0&&React.createElement(React.Fragment,null,o.files.map((c,i)=>c.is_image?React.createElement("a",{key:`${o.id}-file-${i}`,href:c.url,target:"_blank",rel:"noopener noreferrer",className:"ts-image-attachment"},React.createElement("img",{src:c.preview||c.url,alt:c.alt||c.name,width:c.width,height:c.height,loading:"lazy"})):React.createElement("p",{key:`${o.id}-file-${i}`},React.createElement("a",{href:c.url,target:"_blank",rel:"noopener noreferrer"},c.name)))),o.has_content&&React.createElement("p",{dangerouslySetInnerHTML:{__html:o.content}}),React.createElement("ul",{className:"flexify simplify-ul ms-info"},o.sent_by==="author"&&!o.tmp&&React.createElement(React.Fragment,null,React.createElement("li",{className:"message-actions"},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),te(o)}},r("Delete","voxel-fse"))),React.createElement("li",{className:"message-actions"},"Â·")),React.createElement("li",null,o.sending?r("Sending","voxel-fse"):o.time)),o.sent_by==="author"&&o.seen&&l?.seen_badge?.enabled&&React.createElement("div",{className:"seen-badge"},r("Seen","voxel-fse"))))))):React.createElement("div",{className:"start-convo"},React.createElement("a",{href:n.activeChat.target.link},React.createElement("span",{dangerouslySetInnerHTML:{__html:n.activeChat.target.avatar}})),React.createElement("span",null,r("Start a conversation with","voxel-fse")),React.createElement("a",{href:n.activeChat.target.link},React.createElement("h4",null,n.activeChat.target.name))),n.files.length>0&&React.createElement("div",{className:"ts-file-attachments"},n.files.map(o=>React.createElement("div",{key:o._id||o.id,className:"ts-file-preview"},o.type.startsWith("image/")?React.createElement("img",{src:o.preview,alt:o.name}):React.createElement("span",null,o.name),React.createElement("button",{className:"ts-remove-file",onClick:()=>be(o)},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.trash,T.close)}}))))),!V()&&React.createElement("div",{className:"ts-inbox-bottom"},React.createElement("div",{className:"flexify ts-convo-form"},React.createElement("span",{className:"active-avatar",dangerouslySetInnerHTML:{__html:n.activeChat.author.avatar}}),React.createElement("div",{className:"ts-popup-target"},React.createElement("button",{onClick:Me,className:"ts-icon-btn ts-emoji-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.emoji,T.emoji)}})),n.activePopup==="emoji"&&React.createElement("div",{className:"ts-popup-content ts-emoji-popup ts-popup-visible"},React.createElement("div",{className:"ts-form"},React.createElement("input",{type:"text",placeholder:r("Search emojis","voxel-fse"),value:n.emojis.search.term,onChange:o=>t(c=>({...c,emojis:{...c.emojis,search:{...c.emojis.search,term:o.target.value}}}))})),n.emojis.loading?React.createElement("div",{className:"ts-loader"}):React.createElement("div",{className:"ts-emoji-list"},n.emojis.recents.length>0&&!n.emojis.search.term.trim()&&React.createElement("div",{className:"ts-emoji-category"},React.createElement("span",null,r("Recent","voxel-fse")),React.createElement("div",{className:"ts-emoji-grid"},n.emojis.recents.map((o,c)=>React.createElement("button",{key:`recent-${c}`,onClick:()=>O(o)},o)))),n.emojis.search.term.trim()?React.createElement("div",{className:"ts-emoji-grid"},n.emojis.search.list.map((o,c)=>React.createElement("button",{key:`search-${c}`,onClick:()=>O(o)},o))):n.emojis.list&&Object.entries(n.emojis.list).map(([o,c])=>React.createElement("div",{key:o,className:"ts-emoji-category"},React.createElement("span",null,l?.l10n?.emoji_groups?.[o]||o),React.createElement("div",{className:"ts-emoji-grid"},c.map((i,p)=>React.createElement("button",{key:`${o}-${p}`,onClick:()=>O(i.emoji)},i.emoji)))))))),l?.files?.enabled!==!1&&React.createElement("button",{onClick:()=>U.current?.click(),className:"ts-icon-btn ts-attach-btn",title:r("Upload file","voxel-fse")},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.upload,T.attach)}})),l?.files?.enabled!==!1&&React.createElement(He,{multiple:!0,saveLabel:r("Add files","voxel-fse"),onSave:o=>{const c=o.map(i=>({source:i.source||"existing",id:i.id,_id:i.id?String(i.id):void 0,name:i.name,type:i.type||"",size:0,preview:i.preview||""}));Se(c)}},React.createElement("button",{className:"ts-icon-btn ts-gallery-btn",title:r("Media library","voxel-fse")},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.gallery,T.gallery)}}))),React.createElement("div",{className:"compose-message min-scroll"},React.createElement("textarea",{ref:$,value:n.activeChat.state.content,onKeyDown:_e,onChange:o=>Te(o.target.value)}),!n.activeChat.state.content&&React.createElement("span",{className:"compose-placeholder"},n.activeChat.author.type==="post"?r("Reply as","voxel-fse")+" "+n.activeChat.author.name:r("Your message","voxel-fse"))),React.createElement("a",{href:"#",onClick:o=>{o.preventDefault(),W()},className:"ts-icon-btn"},React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.send,T.send)}}))))):React.createElement("div",{className:"ts-empty-user-tab"},n.chats.loading?React.createElement("span",{className:"ts-loader"}):React.createElement(React.Fragment,null,React.createElement("span",{dangerouslySetInnerHTML:{__html:M(e.icons.chat,T.inbox)}}),React.createElement("p",null,r("No conversation selected","voxel-fse")))))))}function fe(e,s){if(!e)return"";const a=e.unit||"px",l=parseFloat(String(e.top))||0,n=parseFloat(String(e.right))||0,t=parseFloat(String(e.bottom))||0,R=parseFloat(String(e.left))||0;return`${s}: ${l}${a} ${n}${a} ${t}${a} ${R}${a};`}function Z(e){if(!e||!e.borderType||e.borderType==="none")return"";let s="";if(typeof e.borderWidth=="number")s+=`border-width: ${e.borderWidth}px; `;else if(e.borderWidth){const a=e.borderWidth.unit||"px",l=parseFloat(String(e.borderWidth.top))||0,n=parseFloat(String(e.borderWidth.right))||0,t=parseFloat(String(e.borderWidth.bottom))||0,R=parseFloat(String(e.borderWidth.left))||0;s+=`border-width: ${l}${a} ${n}${a} ${t}${a} ${R}${a}; `}return s+=`border-style: ${e.borderType}; `,e.borderColor&&(s+=`border-color: ${e.borderColor}; `),s}function qe(e){if(!e||!e.enable)return"";const s=e.horizontal||0,a=e.vertical||0,l=e.blur||0,n=e.spread||0,t=e.color||"rgba(0,0,0,0.1)";return`box-shadow: ${e.position==="inset"?"inset ":""}${s}px ${a}px ${l}px ${n}px ${t};`}function E(e){if(!e)return"";let s="";if(e.fontFamily&&(s+=`font-family: ${e.fontFamily}; `),e.fontSize!==void 0){const a=e.fontSizeUnit||"px";s+=`font-size: ${e.fontSize}${a}; `}if(e.fontWeight&&(s+=`font-weight: ${e.fontWeight}; `),e.fontStyle&&(s+=`font-style: ${e.fontStyle}; `),e.textTransform&&(s+=`text-transform: ${e.textTransform}; `),e.textDecoration&&(s+=`text-decoration: ${e.textDecoration}; `),e.lineHeight!==void 0){const a=e.lineHeightUnit||"";s+=`line-height: ${e.lineHeight}${a}; `}if(e.letterSpacing!==void 0){const a=e.letterSpacingUnit||"px";s+=`letter-spacing: ${e.letterSpacing}${a}; `}return s}function he(e,s=""){const a=e[`${s}backgroundType`]||"classic";let l="";if(a==="classic"){const n=e[`${s}backgroundColor`];n&&(l+=`background-color: ${n}; `);const t=e[`${s}backgroundImage`];if(t?.url){l+=`background-image: url('${t.url}'); `;const R=e[`${s}backgroundPosition`]||"center center";l+=`background-position: ${R}; `;const $=e[`${s}backgroundAttachment`]||"scroll";l+=`background-attachment: ${$}; `;const w=e[`${s}backgroundRepeat`]||"no-repeat";l+=`background-repeat: ${w}; `;const U=e[`${s}backgroundSize`]||"cover";l+=`background-size: ${U}; `}}else if(a==="gradient"){const n=e[`${s}backgroundGradient`];n&&(l+=`background: ${n}; `)}return l}function $e(e,s){const a=[],l=[],n=[],t=`.voxel-fse-messages-${s}`;if(e.generalHeight!==void 0){const d=e.generalHeightUnit||"px";a.push(`${t} { height: ${e.generalHeight}${d}; }`)}if(e.generalHeightTablet!==void 0){const d=e.generalHeightUnit||"px";l.push(`${t} { height: ${e.generalHeightTablet}${d}; }`)}if(e.generalHeightMobile!==void 0){const d=e.generalHeightUnit||"px";n.push(`${t} { height: ${e.generalHeightMobile}${d}; }`)}e.enableCalcHeight&&e.calcHeight&&a.push(`${t} { height: ${e.calcHeight}; }`),e.generalBackground&&a.push(`${t} { background-color: ${e.generalBackground}; }`);const R=Z({borderType:e.generalBorderType,borderWidth:e.generalBorderWidth,borderColor:e.generalBorderColor});R&&a.push(`${t} { ${R} }`),e.generalBorderRadius!==void 0&&a.push(`${t} { border-radius: ${e.generalBorderRadius}px; }`);const $=qe(e.generalBoxShadow);$&&a.push(`${t} { ${$} }`),e.sidebarWidth!==void 0&&a.push(`${t} .message-list-container { width: ${e.sidebarWidth}px; }`),e.separatorColor&&a.push(`${t} .separator { background-color: ${e.separatorColor}; }`),e.scrollbarColor&&(a.push(`${t} .message-list::-webkit-scrollbar-thumb { background-color: ${e.scrollbarColor}; }`),a.push(`${t} .conversation-body::-webkit-scrollbar-thumb { background-color: ${e.scrollbarColor}; }`));const w=fe(e.inboxMessagePadding,"padding");w&&a.push(`${t} .ts-convo-list > li > a { ${w} }`),e.inboxMessageContentGap!==void 0&&a.push(`${t} .ts-convo-list > li > a { gap: ${e.inboxMessageContentGap}px; }`),e.inboxMessageTitleColor&&a.push(`${t} .ts-convo-list .message-details > b { color: ${e.inboxMessageTitleColor}; }`);const U=E(e.inboxMessageTitleTypography);U&&a.push(`${t} .ts-convo-list .message-details > b { ${U} }`),e.inboxMessageSubtitleColor&&a.push(`${t} .ts-convo-list .message-details > span { color: ${e.inboxMessageSubtitleColor}; }`);const D=E(e.inboxMessageSubtitleTypography);if(D&&a.push(`${t} .ts-convo-list .message-details > span { ${D} }`),e.inboxMessageAvatarSize!==void 0){const d=e.inboxMessageAvatarSizeUnit||"px";a.push(`${t} .ts-convo-list .convo-avatar { width: ${e.inboxMessageAvatarSize}${d}; height: ${e.inboxMessageAvatarSize}${d}; }`)}if(e.inboxMessageAvatarSize_tablet!==void 0){const d=e.inboxMessageAvatarSizeUnit||"px";l.push(`${t} .ts-convo-list .convo-avatar { width: ${e.inboxMessageAvatarSize_tablet}${d}; height: ${e.inboxMessageAvatarSize_tablet}${d}; }`)}if(e.inboxMessageAvatarSize_mobile!==void 0){const d=e.inboxMessageAvatarSizeUnit||"px";n.push(`${t} .ts-convo-list .convo-avatar { width: ${e.inboxMessageAvatarSize_mobile}${d}; height: ${e.inboxMessageAvatarSize_mobile}${d}; }`)}if(e.inboxMessageAvatarGap!==void 0){const d=e.inboxMessageAvatarGapUnit||"px";a.push(`${t} .ts-convo-list > li > a { column-gap: ${e.inboxMessageAvatarGap}${d}; }`)}if(e.inboxMessageAvatarGap_tablet!==void 0){const d=e.inboxMessageAvatarGapUnit||"px";l.push(`${t} .ts-convo-list > li > a { column-gap: ${e.inboxMessageAvatarGap_tablet}${d}; }`)}if(e.inboxMessageAvatarGap_mobile!==void 0){const d=e.inboxMessageAvatarGapUnit||"px";n.push(`${t} .ts-convo-list > li > a { column-gap: ${e.inboxMessageAvatarGap_mobile}${d}; }`)}if(e.inboxMessageSecondaryLogoSize!==void 0){const d=e.inboxMessageSecondaryLogoSizeUnit||"px";a.push(`${t} .ts-convo-list .post-avatar { width: ${e.inboxMessageSecondaryLogoSize}${d}; height: ${e.inboxMessageSecondaryLogoSize}${d}; }`)}if(e.inboxMessageSecondaryLogoSize_tablet!==void 0){const d=e.inboxMessageSecondaryLogoSizeUnit||"px";l.push(`${t} .ts-convo-list .post-avatar { width: ${e.inboxMessageSecondaryLogoSize_tablet}${d}; height: ${e.inboxMessageSecondaryLogoSize_tablet}${d}; }`)}if(e.inboxMessageSecondaryLogoSize_mobile!==void 0){const d=e.inboxMessageSecondaryLogoSizeUnit||"px";n.push(`${t} .ts-convo-list .post-avatar { width: ${e.inboxMessageSecondaryLogoSize_mobile}${d}; height: ${e.inboxMessageSecondaryLogoSize_mobile}${d}; }`)}const k=Z(e.inboxMessageSecondaryLogoBorder);if(k&&a.push(`${t} .ts-convo-list .post-avatar { ${k} }`),e.inboxMessageHoverBg&&a.push(`${t} .ts-convo-list > li > a:hover { background-color: ${e.inboxMessageHoverBg}; }`),e.inboxMessageHoverTitleColor&&a.push(`${t} .ts-convo-list > li > a:hover .message-details > b { color: ${e.inboxMessageHoverTitleColor}; }`),e.inboxMessageHoverSubtitleColor&&a.push(`${t} .ts-convo-list > li > a:hover .message-details > span { color: ${e.inboxMessageHoverSubtitleColor}; }`),e.inboxMessageActiveBg&&a.push(`${t} .ts-convo-list > li.ts-active-chat > a { background-color: ${e.inboxMessageActiveBg}; }`),e.inboxMessageActiveBorderWidth!==void 0){const d=e.inboxMessageActiveBorderWidthUnit||"px";a.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-width: ${e.inboxMessageActiveBorderWidth}${d}; border-left-style: solid; }`)}if(e.inboxMessageActiveBorderWidth_tablet!==void 0){const d=e.inboxMessageActiveBorderWidthUnit||"px";l.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-width: ${e.inboxMessageActiveBorderWidth_tablet}${d}; }`)}if(e.inboxMessageActiveBorderWidth_mobile!==void 0){const d=e.inboxMessageActiveBorderWidthUnit||"px";n.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-width: ${e.inboxMessageActiveBorderWidth_mobile}${d}; }`)}e.inboxMessageActiveBorderColor&&a.push(`${t} .ts-convo-list > li.ts-active-chat > a { border-left-color: ${e.inboxMessageActiveBorderColor}; }`),e.inboxMessageActiveTitleColor&&a.push(`${t} .ts-convo-list > li.ts-active-chat .message-details > b { color: ${e.inboxMessageActiveTitleColor}; }`),e.inboxMessageActiveSubtitleColor&&a.push(`${t} .ts-convo-list > li.ts-active-chat .message-details > span { color: ${e.inboxMessageActiveSubtitleColor}; }`);const C=E(e.inboxMessageUnreadTitleTypography);C&&a.push(`${t} .ts-convo-list > li.ts-unread-message .message-details > b { ${C} }`);const z=Z(e.inboxMessageNewAvatarBorder);z&&a.push(`${t} .ts-convo-list > li.ts-new-message .convo-avatar { ${z} }`);const H=E(e.inboxSearchTypography);if(H&&a.push(`${t} .inbox-search input { ${H} }`),e.inboxSearchValueColor&&a.push(`${t} .inbox-search input { color: ${e.inboxSearchValueColor}; }`),e.inboxSearchPlaceholderColor&&a.push(`${t} .inbox-search input::placeholder { color: ${e.inboxSearchPlaceholderColor}; }`),e.inboxSearchIconColor&&a.push(`${t} .inbox-search .search-icon { color: ${e.inboxSearchIconColor}; }`),e.inboxSearchIconSize!==void 0){const d=e.inboxSearchIconSizeUnit||"px";a.push(`${t} .inbox-search .search-icon { font-size: ${e.inboxSearchIconSize}${d}; }`)}if(e.inboxSearchIconSize_tablet!==void 0){const d=e.inboxSearchIconSizeUnit||"px";l.push(`${t} .inbox-search .search-icon { font-size: ${e.inboxSearchIconSize_tablet}${d}; }`)}if(e.inboxSearchIconSize_mobile!==void 0){const d=e.inboxSearchIconSizeUnit||"px";n.push(`${t} .inbox-search .search-icon { font-size: ${e.inboxSearchIconSize_mobile}${d}; }`)}if(e.conversationTopAvatarRadius!==void 0){const d=e.conversationTopAvatarRadiusUnit||"px";a.push(`${t} .conversation-top .avatar { border-radius: ${e.conversationTopAvatarRadius}${d}; }`)}if(e.conversationTopAvatarRadius_tablet!==void 0){const d=e.conversationTopAvatarRadiusUnit||"px";l.push(`${t} .conversation-top .avatar { border-radius: ${e.conversationTopAvatarRadius_tablet}${d}; }`)}if(e.conversationTopAvatarRadius_mobile!==void 0){const d=e.conversationTopAvatarRadiusUnit||"px";n.push(`${t} .conversation-top .avatar { border-radius: ${e.conversationTopAvatarRadius_mobile}${d}; }`)}if(e.conversationTopAvatarGap!==void 0){const d=e.conversationTopAvatarGapUnit||"px";a.push(`${t} .conversation-top { gap: ${e.conversationTopAvatarGap}${d}; }`)}if(e.conversationTopAvatarGap_tablet!==void 0){const d=e.conversationTopAvatarGapUnit||"px";l.push(`${t} .conversation-top { gap: ${e.conversationTopAvatarGap_tablet}${d}; }`)}if(e.conversationTopAvatarGap_mobile!==void 0){const d=e.conversationTopAvatarGapUnit||"px";n.push(`${t} .conversation-top { gap: ${e.conversationTopAvatarGap_mobile}${d}; }`)}const L=E(e.conversationTopTypography);if(L&&a.push(`${t} .conversation-top .name { ${L} }`),e.conversationTopTextColor&&a.push(`${t} .conversation-top .name { color: ${e.conversationTopTextColor}; }`),e.conversationIntroContentGap!==void 0){const d=e.conversationIntroContentGapUnit||"px";a.push(`${t} .conversation-intro { gap: ${e.conversationIntroContentGap}${d}; }`)}if(e.conversationIntroContentGap_tablet!==void 0){const d=e.conversationIntroContentGapUnit||"px";l.push(`${t} .conversation-intro { gap: ${e.conversationIntroContentGap_tablet}${d}; }`)}if(e.conversationIntroContentGap_mobile!==void 0){const d=e.conversationIntroContentGapUnit||"px";n.push(`${t} .conversation-intro { gap: ${e.conversationIntroContentGap_mobile}${d}; }`)}if(e.conversationIntroAvatarSize!==void 0){const d=e.conversationIntroAvatarSizeUnit||"px";a.push(`${t} .conversation-intro .avatar { width: ${e.conversationIntroAvatarSize}${d}; height: ${e.conversationIntroAvatarSize}${d}; }`)}if(e.conversationIntroAvatarSize_tablet!==void 0){const d=e.conversationIntroAvatarSizeUnit||"px";l.push(`${t} .conversation-intro .avatar { width: ${e.conversationIntroAvatarSize_tablet}${d}; height: ${e.conversationIntroAvatarSize_tablet}${d}; }`)}if(e.conversationIntroAvatarSize_mobile!==void 0){const d=e.conversationIntroAvatarSizeUnit||"px";n.push(`${t} .conversation-intro .avatar { width: ${e.conversationIntroAvatarSize_mobile}${d}; height: ${e.conversationIntroAvatarSize_mobile}${d}; }`)}if(e.conversationIntroAvatarRadius!==void 0){const d=e.conversationIntroAvatarRadiusUnit||"px";a.push(`${t} .conversation-intro .avatar { border-radius: ${e.conversationIntroAvatarRadius}${d}; }`)}if(e.conversationIntroAvatarRadius_tablet!==void 0){const d=e.conversationIntroAvatarRadiusUnit||"px";l.push(`${t} .conversation-intro .avatar { border-radius: ${e.conversationIntroAvatarRadius_tablet}${d}; }`)}if(e.conversationIntroAvatarRadius_mobile!==void 0){const d=e.conversationIntroAvatarRadiusUnit||"px";n.push(`${t} .conversation-intro .avatar { border-radius: ${e.conversationIntroAvatarRadius_mobile}${d}; }`)}const ee=E(e.conversationIntroNameTypography);ee&&a.push(`${t} .conversation-intro .name { ${ee} }`),e.conversationIntroNameColor&&a.push(`${t} .conversation-intro .name { color: ${e.conversationIntroNameColor}; }`);const G=E(e.conversationIntroSubtitleTypography);if(G&&a.push(`${t} .conversation-intro .subtitle { ${G} }`),e.conversationIntroSubtitleColor&&a.push(`${t} .conversation-intro .subtitle { color: ${e.conversationIntroSubtitleColor}; }`),e.conversationBodyMessageGap!==void 0){const d=e.conversationBodyMessageGapUnit||"px";a.push(`${t} .conversation-body { gap: ${e.conversationBodyMessageGap}${d}; }`)}if(e.conversationBodyMessageGap_tablet!==void 0){const d=e.conversationBodyMessageGapUnit||"px";l.push(`${t} .conversation-body { gap: ${e.conversationBodyMessageGap_tablet}${d}; }`)}if(e.conversationBodyMessageGap_mobile!==void 0){const d=e.conversationBodyMessageGapUnit||"px";n.push(`${t} .conversation-body { gap: ${e.conversationBodyMessageGap_mobile}${d}; }`)}const oe=fe(e.conversationBodyMessagePadding,"padding");oe&&a.push(`${t} .message-bubble { ${oe} }`);const ae=E(e.conversationBodyMessageTypography);if(ae&&a.push(`${t} .message-bubble { ${ae} }`),e.conversationBodyMessageRadius!==void 0){const d=e.conversationBodyMessageRadiusUnit||"px";a.push(`${t} .message-bubble { border-radius: ${e.conversationBodyMessageRadius}${d}; }`)}if(e.conversationBodyMessageRadius_tablet!==void 0){const d=e.conversationBodyMessageRadiusUnit||"px";l.push(`${t} .message-bubble { border-radius: ${e.conversationBodyMessageRadius_tablet}${d}; }`)}if(e.conversationBodyMessageRadius_mobile!==void 0){const d=e.conversationBodyMessageRadiusUnit||"px";n.push(`${t} .message-bubble { border-radius: ${e.conversationBodyMessageRadius_mobile}${d}; }`)}const W=he(e,"responder1");W&&a.push(`${t} .message-bubble.responder-1 { ${W} }`),e.responder1Color&&a.push(`${t} .message-bubble.responder-1 { color: ${e.responder1Color}; }`);const te=he(e,"responder2");te&&a.push(`${t} .message-bubble.responder-2 { ${te} }`),e.responder2Color&&a.push(`${t} .message-bubble.responder-2 { color: ${e.responder2Color}; }`);const ne=he(e,"error");ne&&a.push(`${t} .message-bubble.error { ${ne} }`),e.errorColor&&a.push(`${t} .message-bubble.error { color: ${e.errorColor}; }`);const V=E(e.messageInfoTypography);V&&a.push(`${t} .message-info { ${V} }`),e.messageInfoDefaultColor&&a.push(`${t} .message-info { color: ${e.messageInfoDefaultColor}; }`),e.messageInfoDeleteColor&&a.push(`${t} .message-info .delete { color: ${e.messageInfoDeleteColor}; }`);const le=E(e.seenTypography);if(le&&a.push(`${t} .seen-indicator { ${le} }`),e.seenColor&&a.push(`${t} .seen-indicator { color: ${e.seenColor}; }`),e.imagesRadius!==void 0){const d=e.imagesRadiusUnit||"px";a.push(`${t} .message-image { border-radius: ${e.imagesRadius}${d}; }`)}if(e.imagesRadius_tablet!==void 0){const d=e.imagesRadiusUnit||"px";l.push(`${t} .message-image { border-radius: ${e.imagesRadius_tablet}${d}; }`)}if(e.imagesRadius_mobile!==void 0){const d=e.imagesRadiusUnit||"px";n.push(`${t} .message-image { border-radius: ${e.imagesRadius_mobile}${d}; }`)}if(e.composeAvatarRadius!==void 0){const d=e.composeAvatarRadiusUnit||"px";a.push(`${t} .compose-area .avatar { border-radius: ${e.composeAvatarRadius}${d}; }`)}if(e.composeAvatarRadius_tablet!==void 0){const d=e.composeAvatarRadiusUnit||"px";l.push(`${t} .compose-area .avatar { border-radius: ${e.composeAvatarRadius_tablet}${d}; }`)}if(e.composeAvatarRadius_mobile!==void 0){const d=e.composeAvatarRadiusUnit||"px";n.push(`${t} .compose-area .avatar { border-radius: ${e.composeAvatarRadius_mobile}${d}; }`)}const N=E(e.composePlaceholderTypography);N&&a.push(`${t} .compose-area textarea::placeholder { ${N} }`),e.composePlaceholderColor&&a.push(`${t} .compose-area textarea::placeholder { color: ${e.composePlaceholderColor}; }`);const X=E(e.composeValueTypography);X&&a.push(`${t} .compose-area textarea { ${X} }`),e.composeValueColor&&a.push(`${t} .compose-area textarea { color: ${e.composeValueColor}; }`),e.iconButtonColor&&a.push(`${t} .icon-button { color: ${e.iconButtonColor}; }`),e.iconButtonBackground&&a.push(`${t} .icon-button { background-color: ${e.iconButtonBackground}; }`);const re=Z({borderType:e.iconButtonBorderType,borderWidth:e.iconButtonBorderWidth,borderColor:e.iconButtonBorderColor});if(re&&a.push(`${t} .icon-button { ${re} }`),e.iconButtonRadius!==void 0){const d=e.iconButtonRadiusUnit||"px";a.push(`${t} .icon-button { border-radius: ${e.iconButtonRadius}${d}; }`)}if(e.iconButtonRadius_tablet!==void 0){const d=e.iconButtonRadiusUnit||"px";l.push(`${t} .icon-button { border-radius: ${e.iconButtonRadius_tablet}${d}; }`)}if(e.iconButtonRadius_mobile!==void 0){const d=e.iconButtonRadiusUnit||"px";n.push(`${t} .icon-button { border-radius: ${e.iconButtonRadius_mobile}${d}; }`)}if(e.iconButtonHoverColor&&a.push(`${t} .icon-button:hover { color: ${e.iconButtonHoverColor}; }`),e.iconButtonHoverBackground&&a.push(`${t} .icon-button:hover { background-color: ${e.iconButtonHoverBackground}; }`),e.iconButtonHoverBorderColor&&a.push(`${t} .icon-button:hover { border-color: ${e.iconButtonHoverBorderColor}; }`),e.tertiaryButtonIconColor&&a.push(`${t} .tertiary-button .icon { color: ${e.tertiaryButtonIconColor}; }`),e.tertiaryButtonIconSize!==void 0){const d=e.tertiaryButtonIconSizeUnit||"px";a.push(`${t} .tertiary-button .icon { font-size: ${e.tertiaryButtonIconSize}${d}; }`)}if(e.tertiaryButtonIconSize_tablet!==void 0){const d=e.tertiaryButtonIconSizeUnit||"px";l.push(`${t} .tertiary-button .icon { font-size: ${e.tertiaryButtonIconSize_tablet}${d}; }`)}if(e.tertiaryButtonIconSize_mobile!==void 0){const d=e.tertiaryButtonIconSizeUnit||"px";n.push(`${t} .tertiary-button .icon { font-size: ${e.tertiaryButtonIconSize_mobile}${d}; }`)}e.tertiaryButtonBackground&&a.push(`${t} .tertiary-button { background-color: ${e.tertiaryButtonBackground}; }`);const A=Z({borderType:e.tertiaryButtonBorderType,borderWidth:e.tertiaryButtonBorderWidth,borderColor:e.tertiaryButtonBorderColor});if(A&&a.push(`${t} .tertiary-button { ${A} }`),e.tertiaryButtonRadius!==void 0){const d=e.tertiaryButtonRadiusUnit||"px";a.push(`${t} .tertiary-button { border-radius: ${e.tertiaryButtonRadius}${d}; }`)}if(e.tertiaryButtonRadius_tablet!==void 0){const d=e.tertiaryButtonRadiusUnit||"px";l.push(`${t} .tertiary-button { border-radius: ${e.tertiaryButtonRadius_tablet}${d}; }`)}if(e.tertiaryButtonRadius_mobile!==void 0){const d=e.tertiaryButtonRadiusUnit||"px";n.push(`${t} .tertiary-button { border-radius: ${e.tertiaryButtonRadius_mobile}${d}; }`)}const O=E(e.tertiaryButtonTypography);if(O&&a.push(`${t} .tertiary-button { ${O} }`),e.tertiaryButtonTextColor&&a.push(`${t} .tertiary-button { color: ${e.tertiaryButtonTextColor}; }`),e.tertiaryButtonHoverIconColor&&a.push(`${t} .tertiary-button:hover .icon { color: ${e.tertiaryButtonHoverIconColor}; }`),e.tertiaryButtonHoverBackground&&a.push(`${t} .tertiary-button:hover { background-color: ${e.tertiaryButtonHoverBackground}; }`),e.tertiaryButtonHoverBorderColor&&a.push(`${t} .tertiary-button:hover { border-color: ${e.tertiaryButtonHoverBorderColor}; }`),e.tertiaryButtonHoverTextColor&&a.push(`${t} .tertiary-button:hover { color: ${e.tertiaryButtonHoverTextColor}; }`),e.emptyIconSize!==void 0){const d=e.emptyIconSizeUnit||"px";a.push(`${t} .empty-state .icon { font-size: ${e.emptyIconSize}${d}; }`)}if(e.emptyIconSize_tablet!==void 0){const d=e.emptyIconSizeUnit||"px";l.push(`${t} .empty-state .icon { font-size: ${e.emptyIconSize_tablet}${d}; }`)}if(e.emptyIconSize_mobile!==void 0){const d=e.emptyIconSizeUnit||"px";n.push(`${t} .empty-state .icon { font-size: ${e.emptyIconSize_mobile}${d}; }`)}e.emptyIconColor&&a.push(`${t} .empty-state .icon { color: ${e.emptyIconColor}; }`),e.emptyTitleColor&&a.push(`${t} .empty-state .title { color: ${e.emptyTitleColor}; }`);const Y=E(e.emptyTitleTypography);Y&&a.push(`${t} .empty-state .title { ${Y} }`),e.loadingColor1&&a.push(`${t} .loader { --color-1: ${e.loadingColor1}; }`),e.loadingColor2&&a.push(`${t} .loader { --color-2: ${e.loadingColor2}; }`);let j="";return a.length>0&&(j+=a.join(`
`)),l.length>0&&(j+=`
@media (max-width: 1024px) {
${l.join(`
`)}
}`),n.length>0&&(j+=`
@media (max-width: 767px) {
${n.join(`
`)}
}`),j}function Ke({attributes:e,setAttributes:s}){const a=e.icons||{},l=(n,t)=>{s({icons:{...e.icons,[n]:t}})};return React.createElement(Ce,{defaultPanel:"icons"},React.createElement(I,{id:"icons",title:r("Icons","voxel-fse")},React.createElement(_,{label:r("Search","voxel-fse"),value:a.search,onChange:n=>l("search",n)}),React.createElement(_,{label:r("Chat","voxel-fse"),value:a.chat,onChange:n=>l("chat",n)}),React.createElement(_,{label:r("Load more","voxel-fse"),value:a.loadMore,onChange:n=>l("loadMore",n)}),React.createElement(_,{label:r("Back","voxel-fse"),value:a.back,onChange:n=>l("back",n)}),React.createElement(_,{label:r("More","voxel-fse"),value:a.more,onChange:n=>l("more",n)}),React.createElement(_,{label:r("User","voxel-fse"),value:a.user,onChange:n=>l("user",n)}),React.createElement(_,{label:r("Clear","voxel-fse"),value:a.clear,onChange:n=>l("clear",n)}),React.createElement(_,{label:r("Ban","voxel-fse"),value:a.ban,onChange:n=>l("ban",n)}),React.createElement(_,{label:r("Trash","voxel-fse"),value:a.trash,onChange:n=>l("trash",n)}),React.createElement(_,{label:r("Upload","voxel-fse"),value:a.upload,onChange:n=>l("upload",n)}),React.createElement(_,{label:r("Media library","voxel-fse"),value:a.gallery,onChange:n=>l("gallery",n)}),React.createElement(_,{label:r("Emoji","voxel-fse"),value:a.emoji,onChange:n=>l("emoji",n)}),React.createElement(_,{label:r("Send","voxel-fse"),value:a.send,onChange:n=>l("send",n)})))}function Je({attributes:e,setAttributes:s}){return React.createElement(Ce,{attributes:e,setAttributes:s,stateAttribute:"styleTabOpenPanel",defaultPanel:"general"},React.createElement(I,{id:"general",title:r("General","voxel-fse")},React.createElement(x,{label:r("Height","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"generalHeight",min:200,max:1200,step:1,units:["px","%","vh"]}),React.createElement(Le,{label:r("Calculate height?","voxel-fse"),checked:e.enableCalcHeight||!1,onChange:a=>s({enableCalcHeight:a})}),e.enableCalcHeight&&React.createElement(je,{label:r("Calculation","voxel-fse"),help:r("Use CSS calc() to calculate height e.g calc(100vh - 215px)","voxel-fse"),attributes:e,setAttributes:s,attributeName:"calcHeight"}),React.createElement(g,{label:r("Background color","voxel-fse"),value:e.generalBackground,onChange:a=>s({generalBackground:a})}),React.createElement(Q,{label:r("Border","voxel-fse"),value:{borderType:e.generalBorderType,borderWidth:e.generalBorderWidth,borderColor:e.generalBorderColor},onChange:a=>s({generalBorderType:a.borderType,generalBorderWidth:a.borderWidth,generalBorderColor:a.borderColor}),hideRadius:!0}),React.createElement(x,{label:r("Border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"generalBorderRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(Pe,{label:r("Box Shadow","voxel-fse"),attributes:e,setAttributes:s,shadowAttributeName:"generalBoxShadow"}),React.createElement(x,{label:r("Sidebar width","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"sidebarWidth",min:200,max:1200,step:1,units:["px"]}),React.createElement(g,{label:r("Separator color","voxel-fse"),value:e.separatorColor,onChange:a=>s({separatorColor:a})}),React.createElement(g,{label:r("Scrollbar color","voxel-fse"),value:e.scrollbarColor,onChange:a=>s({scrollbarColor:a})})),React.createElement(I,{id:"inbox-message",title:r("Inbox: Message","voxel-fse")},React.createElement(ie,{tabs:[{name:"normal",title:r("Normal","voxel-fse")},{name:"hover",title:r("Hover","voxel-fse")},{name:"active",title:r("Active","voxel-fse")},{name:"unread",title:r("Unread","voxel-fse")},{name:"new",title:r("New","voxel-fse")}],attributes:e,setAttributes:s,attributeName:"inboxMessageActiveTab"},a=>a.name==="normal"?React.createElement(React.Fragment,null,React.createElement(b,{label:r("General","voxel-fse")}),React.createElement(ue,{label:r("Padding","voxel-fse"),values:e.inboxMessagePadding||{},onChange:l=>s({inboxMessagePadding:l})}),React.createElement(b,{label:r("Content","voxel-fse")}),React.createElement(x,{label:r("Content gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageContentGap",min:0,max:100,step:1,units:["px"]}),React.createElement(g,{label:r("Title color","voxel-fse"),value:e.inboxMessageTitleColor,onChange:l=>s({inboxMessageTitleColor:l})}),React.createElement(S,{label:r("Title typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageTitleTypography"}),React.createElement(g,{label:r("Subtitle color","voxel-fse"),value:e.inboxMessageSubtitleColor,onChange:l=>s({inboxMessageSubtitleColor:l})}),React.createElement(S,{label:r("Subtitle typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageSubtitleTypography"}),React.createElement(b,{label:r("Avatar / Logo","voxel-fse")}),React.createElement(x,{label:r("Size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageAvatarSize",min:20,max:40,step:1,units:["px"]}),React.createElement(x,{label:r("Gap against content","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageAvatarGap",min:0,max:100,step:1,units:["px"]}),React.createElement(b,{label:r("Secondary logo","voxel-fse")}),React.createElement(x,{label:r("Size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageSecondaryLogoSize",min:20,max:40,step:1,units:["px"]}),React.createElement(Q,{label:r("Border","voxel-fse"),value:e.inboxMessageSecondaryLogoBorder||{},onChange:l=>s({inboxMessageSecondaryLogoBorder:l}),hideRadius:!0})):a.name==="hover"?React.createElement(React.Fragment,null,React.createElement(g,{label:r("Background","voxel-fse"),value:e.inboxMessageHoverBg,onChange:l=>s({inboxMessageHoverBg:l})}),React.createElement(g,{label:r("Title color","voxel-fse"),value:e.inboxMessageHoverTitleColor,onChange:l=>s({inboxMessageHoverTitleColor:l})}),React.createElement(g,{label:r("Subtitle color","voxel-fse"),value:e.inboxMessageHoverSubtitleColor,onChange:l=>s({inboxMessageHoverSubtitleColor:l})})):a.name==="active"?React.createElement(React.Fragment,null,React.createElement(g,{label:r("Background","voxel-fse"),value:e.inboxMessageActiveBg,onChange:l=>s({inboxMessageActiveBg:l})}),React.createElement(x,{label:r("Border width","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageActiveBorderWidth",min:0,max:40,step:1,units:["px"]}),React.createElement(g,{label:r("Border color","voxel-fse"),value:e.inboxMessageActiveBorderColor,onChange:l=>s({inboxMessageActiveBorderColor:l})}),React.createElement(g,{label:r("Title color","voxel-fse"),value:e.inboxMessageActiveTitleColor,onChange:l=>s({inboxMessageActiveTitleColor:l})}),React.createElement(g,{label:r("Subtitle color","voxel-fse"),value:e.inboxMessageActiveSubtitleColor,onChange:l=>s({inboxMessageActiveSubtitleColor:l})})):a.name==="unread"?React.createElement(React.Fragment,null,React.createElement(S,{label:r("Title typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxMessageUnreadTitleTypography"})):React.createElement(React.Fragment,null,React.createElement(Q,{label:r("Avatar border","voxel-fse"),value:e.inboxMessageNewAvatarBorder||{},onChange:l=>s({inboxMessageNewAvatarBorder:l}),hideRadius:!0})))),React.createElement(I,{id:"inbox-search",title:r("Inbox: Search","voxel-fse")},React.createElement(S,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxSearchTypography"}),React.createElement(g,{label:r("Value color","voxel-fse"),value:e.inboxSearchValueColor,onChange:a=>s({inboxSearchValueColor:a})}),React.createElement(g,{label:r("Input placeholder color","voxel-fse"),value:e.inboxSearchPlaceholderColor,onChange:a=>s({inboxSearchPlaceholderColor:a})}),React.createElement(g,{label:r("Icon color","voxel-fse"),value:e.inboxSearchIconColor,onChange:a=>s({inboxSearchIconColor:a})}),React.createElement(x,{label:r("Icon size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"inboxSearchIconSize",min:0,max:40,step:1,units:["px"]})),React.createElement(I,{id:"conversation-top",title:r("Conversation: Top","voxel-fse")},React.createElement(x,{label:r("Avatar radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationTopAvatarRadius",min:0,max:100,step:1,units:["px"]}),React.createElement(x,{label:r("Avatar / Text gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationTopAvatarGap",min:0,max:100,step:1,units:["px"]}),React.createElement(S,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationTopTypography"}),React.createElement(g,{label:r("Text color","voxel-fse"),value:e.conversationTopTextColor,onChange:a=>s({conversationTopTextColor:a})})),React.createElement(I,{id:"conversation-intro",title:r("Conversation: Intro","voxel-fse")},React.createElement(x,{label:r("Content gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroContentGap",min:0,max:100,step:1,units:["px"]}),React.createElement(x,{label:r("Avatar size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroAvatarSize",min:20,max:40,step:1,units:["px"]}),React.createElement(x,{label:r("Avatar border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroAvatarRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(S,{label:r("Name typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroNameTypography"}),React.createElement(g,{label:r("Name color","voxel-fse"),value:e.conversationIntroNameColor,onChange:a=>s({conversationIntroNameColor:a})}),React.createElement(S,{label:r("Subtitle typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationIntroSubtitleTypography"}),React.createElement(g,{label:r("Subtitle color","voxel-fse"),value:e.conversationIntroSubtitleColor,onChange:a=>s({conversationIntroSubtitleColor:a})})),React.createElement(I,{id:"conversation-body",title:r("Conversation: Body","voxel-fse")},React.createElement(x,{label:r("Message gap","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationBodyMessageGap",min:0,max:100,step:1,units:["px"]}),React.createElement(b,{label:r("Single message","voxel-fse")}),React.createElement(ue,{label:r("Padding","voxel-fse"),values:e.conversationBodyMessagePadding||{},onChange:a=>s({conversationBodyMessagePadding:a})}),React.createElement(S,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationBodyMessageTypography"}),React.createElement(x,{label:r("Border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"conversationBodyMessageRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(b,{label:r("Responder 1","voxel-fse")}),React.createElement(de,{attributes:e,setAttributes:s,showHoverState:!1}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.responder1Color,onChange:a=>s({responder1Color:a})}),React.createElement(b,{label:r("Responder 2","voxel-fse")}),React.createElement(de,{attributes:e,setAttributes:s,showHoverState:!1}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.responder2Color,onChange:a=>s({responder2Color:a})}),React.createElement(b,{label:r("Error","voxel-fse")}),React.createElement(de,{attributes:e,setAttributes:s,showHoverState:!1}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.errorColor,onChange:a=>s({errorColor:a})}),React.createElement(b,{label:r("Message info","voxel-fse")}),React.createElement(S,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"messageInfoTypography"}),React.createElement(g,{label:r("Default Color","voxel-fse"),value:e.messageInfoDefaultColor,onChange:a=>s({messageInfoDefaultColor:a})}),React.createElement(g,{label:r("Delete color","voxel-fse"),value:e.messageInfoDeleteColor,onChange:a=>s({messageInfoDeleteColor:a})}),React.createElement(b,{label:r("Seen","voxel-fse")}),React.createElement(S,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"seenTypography"}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.seenColor,onChange:a=>s({seenColor:a})}),React.createElement(b,{label:r("Images","voxel-fse")}),React.createElement(x,{label:r("Border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"imagesRadius",min:0,max:100,step:1,units:["px","%"]})),React.createElement(I,{id:"conversation-compose",title:r("Conversation: Compose","voxel-fse")},React.createElement(x,{label:r("Avatar radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"composeAvatarRadius",min:0,max:100,step:1,units:["px"]}),React.createElement(b,{label:r("Placeholder","voxel-fse")}),React.createElement(S,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"composePlaceholderTypography"}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.composePlaceholderColor,onChange:a=>s({composePlaceholderColor:a})}),React.createElement(b,{label:r("Value","voxel-fse")}),React.createElement(S,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"composeValueTypography"}),React.createElement(g,{label:r("Color","voxel-fse"),value:e.composeValueColor,onChange:a=>s({composeValueColor:a})})),React.createElement(I,{id:"icon-button",title:r("Icon button","voxel-fse")},React.createElement(ie,{tabs:[{name:"normal",title:r("Normal","voxel-fse")},{name:"hover",title:r("Hover","voxel-fse")}],attributes:e,setAttributes:s,attributeName:"iconButtonActiveTab"},a=>a.name==="normal"?React.createElement(React.Fragment,null,React.createElement(b,{label:r("Button styling","voxel-fse")}),React.createElement(g,{label:r("Button icon color","voxel-fse"),value:e.iconButtonColor,onChange:l=>s({iconButtonColor:l})}),React.createElement(g,{label:r("Button background","voxel-fse"),value:e.iconButtonBackground,onChange:l=>s({iconButtonBackground:l})}),React.createElement(Q,{label:r("Button border","voxel-fse"),value:{borderType:e.iconButtonBorderType,borderWidth:e.iconButtonBorderWidth,borderColor:e.iconButtonBorderColor},onChange:l=>s({iconButtonBorderType:l.borderType,iconButtonBorderWidth:l.borderWidth,iconButtonBorderColor:l.borderColor}),hideRadius:!0}),React.createElement(x,{label:r("Button border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"iconButtonRadius",min:0,max:100,step:1,units:["px","%"]})):React.createElement(React.Fragment,null,React.createElement(g,{label:r("Button icon color","voxel-fse"),value:e.iconButtonHoverColor,onChange:l=>s({iconButtonHoverColor:l})}),React.createElement(g,{label:r("Button background color","voxel-fse"),value:e.iconButtonHoverBackground,onChange:l=>s({iconButtonHoverBackground:l})}),React.createElement(g,{label:r("Button border color","voxel-fse"),value:e.iconButtonHoverBorderColor,onChange:l=>s({iconButtonHoverBorderColor:l})})))),React.createElement(I,{id:"tertiary-button",title:r("Tertiary button","voxel-fse")},React.createElement(ie,{tabs:[{name:"normal",title:r("Normal","voxel-fse")},{name:"hover",title:r("Hover","voxel-fse")}],attributes:e,setAttributes:s,attributeName:"tertiaryButtonActiveTab"},a=>a.name==="normal"?React.createElement(React.Fragment,null,React.createElement(g,{label:r("Button icon color","voxel-fse"),value:e.tertiaryButtonIconColor,onChange:l=>s({tertiaryButtonIconColor:l})}),React.createElement(x,{label:r("Button icon size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"tertiaryButtonIconSize",min:0,max:100,step:1,units:["px"]}),React.createElement(g,{label:r("Button background","voxel-fse"),value:e.tertiaryButtonBackground,onChange:l=>s({tertiaryButtonBackground:l})}),React.createElement(Q,{label:r("Button border","voxel-fse"),value:{borderType:e.tertiaryButtonBorderType,borderWidth:e.tertiaryButtonBorderWidth,borderColor:e.tertiaryButtonBorderColor},onChange:l=>s({tertiaryButtonBorderType:l.borderType,tertiaryButtonBorderWidth:l.borderWidth,tertiaryButtonBorderColor:l.borderColor}),hideRadius:!0}),React.createElement(x,{label:r("Button border radius","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"tertiaryButtonRadius",min:0,max:100,step:1,units:["px","%"]}),React.createElement(S,{label:r("Typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"tertiaryButtonTypography"}),React.createElement(g,{label:r("Text color","voxel-fse"),value:e.tertiaryButtonTextColor,onChange:l=>s({tertiaryButtonTextColor:l})})):React.createElement(React.Fragment,null,React.createElement(g,{label:r("Button icon color","voxel-fse"),value:e.tertiaryButtonHoverIconColor,onChange:l=>s({tertiaryButtonHoverIconColor:l})}),React.createElement(g,{label:r("Button background","voxel-fse"),value:e.tertiaryButtonHoverBackground,onChange:l=>s({tertiaryButtonHoverBackground:l})}),React.createElement(g,{label:r("Border color","voxel-fse"),value:e.tertiaryButtonHoverBorderColor,onChange:l=>s({tertiaryButtonHoverBorderColor:l})}),React.createElement(g,{label:r("Text color","voxel-fse"),value:e.tertiaryButtonHoverTextColor,onChange:l=>s({tertiaryButtonHoverTextColor:l})})))),React.createElement(I,{id:"no-messages",title:r("No messages / No chat selected","voxel-fse")},React.createElement(x,{label:r("Icon size","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"emptyIconSize",min:20,max:50,step:1,units:["px"]}),React.createElement(g,{label:r("Icon color","voxel-fse"),value:e.emptyIconColor,onChange:a=>s({emptyIconColor:a})}),React.createElement(g,{label:r("Title color","voxel-fse"),value:e.emptyTitleColor,onChange:a=>s({emptyTitleColor:a})}),React.createElement(S,{label:r("Title typography","voxel-fse"),attributes:e,setAttributes:s,attributeBaseName:"emptyTitleTypography"})),React.createElement(I,{id:"loading",title:r("Loading","voxel-fse")},React.createElement(b,{label:r("Loading","voxel-fse")}),React.createElement(g,{label:r("Color 1","voxel-fse"),value:e.loadingColor1,onChange:a=>s({loadingColor1:a})}),React.createElement(g,{label:r("Color 2","voxel-fse"),value:e.loadingColor2,onChange:a=>s({loadingColor2:a})})))}function Xe({attributes:e,setAttributes:s,clientId:a}){const l=e.blockId||a;ce(()=>{e.blockId||s({blockId:a})},[e.blockId,a,s]);const n=Re(e,{blockId:l,baseClass:"voxel-fse-messages",selectorPrefix:"voxel-fse-messages"}),t=ve(()=>$e(e,l),[e,l]),R=ve(()=>[n.responsiveCSS,t].filter(Boolean).join(`
`),[n.responsiveCSS,t]),$=xe({id:n.elementId,className:n.className,style:n.styles,...n.customAttrs});return React.createElement(React.Fragment,null,React.createElement(Ne,null,React.createElement(Ue,{tabs:[{id:"content",label:r("Content","voxel-fse"),icon:"î¤¬",render:()=>React.createElement(Ke,{attributes:e,setAttributes:s})},{id:"style",label:r("Style","voxel-fse"),icon:"î¤¡",render:()=>React.createElement(Je,{attributes:e,setAttributes:s})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:s,defaultTab:"content"})),React.createElement("div",{...$},R&&React.createElement("style",{dangerouslySetInnerHTML:{__html:R}}),React.createElement(Oe,{attributes:e,context:"editor"})))}function Ye({attributes:e}){const s=e.blockId||"messages",a=Re(e,{blockId:s,baseClass:"voxel-fse-messages"}),l=$e(e,s),n=[a.responsiveCSS,l].filter(Boolean).join(`
`),t=xe.save({id:a.elementId,className:a.className,style:a.styles,"data-visibility-behavior":e.visibilityBehavior||void 0,"data-visibility-rules":e.visibilityRules?.length?JSON.stringify(e.visibilityRules):void 0,"data-loop-source":e.loopSource||void 0,"data-loop-limit":e.loopLimit||void 0,"data-loop-offset":e.loopOffset||void 0,...a.customAttrs}),R={icons:e.icons,settings:{enableCalcHeight:e.enableCalcHeight,calcHeight:e.calcHeight}};return React.createElement("div",{...t},n&&React.createElement("style",{dangerouslySetInnerHTML:{__html:n}}),Ae(e,!1,void 0,void 0,a.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(R)}}),React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",padding:"40px",minHeight:"400px",borderRadius:"8px",border:"1px solid #e0e0e0"}},React.createElement("div",{style:{textAlign:"center",color:"#999"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",style:{opacity:.4}},React.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"})),React.createElement("p",{style:{margin:"12px 0 0",fontSize:"14px"}},"Messages Widget"))))}const Qe="https://schemas.wp.org/trunk/block.json",Ze=3,eo="voxel-fse/messages",oo="1.0.0",ao="Messages (VX)",to="voxel-fse",no="Direct messages inbox with real-time chat functionality. FSE equivalent of Voxel's Messages widget.",lo=["messages","inbox","chat","direct messages","dm","conversation","voxel"],ro="voxel-fse",so={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},co="file:./index.js",io="file:./frontend.js",mo="file:./render.php",po={blockId:{type:"string",default:""},icons:{type:"object",default:{search:{library:"",value:""},chat:{library:"",value:""},loadMore:{library:"",value:""},back:{library:"",value:""},more:{library:"",value:""},user:{library:"",value:""},clear:{library:"",value:""},ban:{library:"",value:""},trash:{library:"",value:""},upload:{library:"",value:""},gallery:{library:"",value:""},emoji:{library:"",value:""},send:{library:"",value:""}}},generalHeight:{type:"number"},generalHeightTablet:{type:"number"},generalHeightMobile:{type:"number"},generalHeightUnit:{type:"string",default:"px"},enableCalcHeight:{type:"boolean",default:!1},calcHeight:{type:"string",default:""},generalBackground:{type:"string",default:""},generalBorderType:{type:"string",default:"default"},generalBorderWidth:{type:"number",default:0},generalBorderColor:{type:"string",default:""},generalBorderRadius:{type:"number",default:0},generalBoxShadow:{type:"object",default:{}},sidebarWidth:{type:"number"},separatorColor:{type:"string",default:""},scrollbarColor:{type:"string",default:""},inboxMessagePadding:{type:"object",default:{top:"",right:"",bottom:"",left:""}},inboxMessageContentGap:{type:"number"},inboxMessageTitleColor:{type:"string",default:""},inboxMessageTitleTypography:{type:"object",default:{}},inboxMessageSubtitleColor:{type:"string",default:""},inboxMessageSubtitleTypography:{type:"object",default:{}},inboxMessageAvatarSize:{type:"number"},inboxMessageAvatarRadius:{type:"number"},inboxMessageAvatarGap:{type:"number"},inboxMessageSecondaryLogoSize:{type:"number"},inboxMessageSecondaryLogoRadius:{type:"number"},inboxMessageSecondaryLogoBorder:{type:"object",default:{}},inboxMessageHoverBg:{type:"string",default:""},inboxMessageHoverTitleColor:{type:"string",default:""},inboxMessageHoverSubtitleColor:{type:"string",default:""},inboxMessageActiveBg:{type:"string",default:""},inboxMessageActiveBorderWidth:{type:"number"},inboxMessageActiveBorderColor:{type:"string",default:""},inboxMessageActiveTitleColor:{type:"string",default:""},inboxMessageActiveSubtitleColor:{type:"string",default:""},inboxMessageUnreadTitleTypography:{type:"object",default:{}},inboxMessageNewAvatarBorder:{type:"object",default:{}},inboxSearchTypography:{type:"object",default:{}},inboxSearchValueColor:{type:"string",default:""},inboxSearchPlaceholderColor:{type:"string",default:""},inboxSearchIconColor:{type:"string",default:""},inboxSearchIconSize:{type:"number"},conversationTopAvatarRadius:{type:"number"},conversationTopAvatarGap:{type:"number"},conversationTopTypography:{type:"object",default:{}},conversationTopTextColor:{type:"string",default:""},conversationIntroContentGap:{type:"number"},conversationIntroAvatarSize:{type:"number"},conversationIntroAvatarRadius:{type:"number"},conversationIntroNameTypography:{type:"object",default:{}},conversationIntroNameColor:{type:"string",default:""},conversationIntroSubtitleTypography:{type:"object",default:{}},conversationIntroSubtitleColor:{type:"string",default:""},conversationBodyMessageGap:{type:"number"},conversationBodyMessagePadding:{type:"object",default:{top:"",right:"",bottom:"",left:""}},conversationBodyMessageTypography:{type:"object",default:{}},conversationBodyMessageRadius:{type:"number"},responder1Background:{type:"object",default:{}},responder1Color:{type:"string",default:""},responder2Background:{type:"object",default:{}},responder2Color:{type:"string",default:""},errorBackground:{type:"object",default:{}},errorColor:{type:"string",default:""},messageInfoTypography:{type:"object",default:{}},messageInfoDefaultColor:{type:"string",default:""},messageInfoDeleteColor:{type:"string",default:""},seenTypography:{type:"object",default:{}},seenColor:{type:"string",default:""},imagesRadius:{type:"number"},composeAvatarRadius:{type:"number"},composePlaceholderTypography:{type:"object",default:{}},composePlaceholderColor:{type:"string",default:""},composeValueTypography:{type:"object",default:{}},composeValueColor:{type:"string",default:""},iconButtonColor:{type:"string",default:""},iconButtonBackground:{type:"string",default:""},iconButtonBorderType:{type:"string",default:"default"},iconButtonBorderWidth:{type:"number",default:0},iconButtonBorderColor:{type:"string",default:""},iconButtonRadius:{type:"number"},iconButtonHoverColor:{type:"string",default:""},iconButtonHoverBackground:{type:"string",default:""},iconButtonHoverBorderColor:{type:"string",default:""},tertiaryButtonIconColor:{type:"string",default:""},tertiaryButtonIconSize:{type:"number"},tertiaryButtonBackground:{type:"string",default:""},tertiaryButtonBorderType:{type:"string",default:"default"},tertiaryButtonBorderWidth:{type:"number",default:0},tertiaryButtonBorderColor:{type:"string",default:""},tertiaryButtonRadius:{type:"number"},tertiaryButtonTypography:{type:"object",default:{}},tertiaryButtonTextColor:{type:"string",default:""},tertiaryButtonHoverIconColor:{type:"string",default:""},tertiaryButtonHoverBackground:{type:"string",default:""},tertiaryButtonHoverBorderColor:{type:"string",default:""},tertiaryButtonHoverTextColor:{type:"string",default:""},emptyIconSize:{type:"number",default:35},emptyIconColor:{type:"string",default:""},emptyTitleColor:{type:"string",default:""},emptyTitleTypography:{type:"object",default:{}},loadingColor1:{type:"string",default:""},loadingColor2:{type:"string",default:""},styleTabOpenPanel:{type:"string",default:"general"},inboxMessageActiveTab:{type:"string",default:"normal"},iconButtonActiveTab:{type:"string",default:"normal"},tertiaryButtonActiveTab:{type:"string",default:"normal"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},ye={$schema:Qe,apiVersion:Ze,name:eo,version:oo,title:ao,category:to,description:no,keywords:lo,textdomain:ro,supports:so,editorScript:co,viewScript:io,render:mo,attributes:po};ke(ye.name,{...ye,icon:Fe,edit:Xe,save:Ye});
