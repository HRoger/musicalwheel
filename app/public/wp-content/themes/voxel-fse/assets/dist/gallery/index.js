import{registerBlockType as W}from"@wordpress/blocks";import{useBlockProps as $,InspectorControls as G}from"@wordpress/block-editor";import{__ as a}from"@wordpress/i18n";import{useMemo as x,useCallback as L,useEffect as H}from"react";import{A as D,a as I,R as f,l as A,S as R,s as M,b as V,C as b,T as O}from"../TypographyPopup-CkDwan7Z.js";import{I as U}from"../InspectorTabs-C-Yyx0JZ.js";import{ToggleControl as w,SelectControl as F,RangeControl as X}from"@wordpress/components";import"@wordpress/data";import"@wordpress/api-fetch";/* empty css                            */import"../RepeaterControl-DaYyJwAm.js";import{G as Y}from"../GalleryUploadControl-CQqiqsZe.js";import{R as k}from"../ResponsiveSelectControl-BsaXYSeY.js";import{A as K}from"../AdvancedIconControl-CqVKxCWa.js";import{E as J}from"../EmptyPlaceholder-CnO9R1NI.js";import{r as Z,V as q}from"../voxelIcons-CDno6UJw.js";import"../voxelShim-DB_Ue-9R.js";import"../backgroundElements-BCKss4qj.js";import{g as P}from"../useAdvancedTabProps-BnJDQbKr.js";import{V as Q}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";const ee=[{key:"item1",label:a("First item","voxel-fse")},{key:"item2",label:a("Second item","voxel-fse")},{key:"item3",label:a("Third item","voxel-fse")},{key:"item4",label:a("Fourth item","voxel-fse")},{key:"item5",label:a("Fifth item","voxel-fse")},{key:"item6",label:a("Sixth item","voxel-fse")}];function oe({attributes:e,setAttributes:o}){const l=n=>n.map(i=>({id:i.id,url:i.url,alt:i.alt,sizes:i.sizes})),t=n=>n.map(i=>({id:i.id||0,url:i.url||"",alt:i.alt||"",caption:"",description:"",title:"",sizes:i.sizes||{}})),r=(n,i)=>{const c=e.mosaic[n]||{colSpan:null,colStart:null,rowSpan:null,rowStart:null},p=s=>({[s]:c[s]??void 0,[`${s}_tablet`]:c[`${s}_tablet`]??void 0,[`${s}_mobile`]:c[`${s}_mobile`]??void 0}),d=s=>y=>{const u={};Object.keys(y).forEach(m=>{m.startsWith(s)&&(u[m]=y[m])});const v=e.mosaic,S=v[n]||{colSpan:null,colStart:null,rowSpan:null,rowStart:null};o({mosaic:{...v,[n]:{...S,...u}}})},g=s=>{const y=`${s}DynamicTag`;return c[y]},h=s=>y=>{const u=e.mosaic,v=u[n]||{colSpan:null,colStart:null,rowSpan:null,rowStart:null};o({mosaic:{...u,[n]:{...v,[`${s}DynamicTag`]:y}}})};return React.createElement("div",{key:n,style:{marginBottom:"24px"}},React.createElement(R,{label:i}),React.createElement(f,{label:a("Column span","voxel-fse"),attributes:p("colSpan"),setAttributes:d("colSpan"),attributeBaseName:"colSpan",min:0,max:24,help:a("How many columns this item spans in the grid","voxel-fse"),enableDynamicTags:!0,dynamicTagValue:g("colSpan"),onDynamicTagChange:h("colSpan"),dynamicTagContext:"post"}),React.createElement(f,{label:a("Column start","voxel-fse"),attributes:p("colStart"),setAttributes:d("colStart"),attributeBaseName:"colStart",min:0,max:24,help:a("The start position column for this item","voxel-fse"),enableDynamicTags:!0,dynamicTagValue:g("colStart"),onDynamicTagChange:h("colStart"),dynamicTagContext:"post"}),React.createElement(f,{label:a("Row span","voxel-fse"),attributes:p("rowSpan"),setAttributes:d("rowSpan"),attributeBaseName:"rowSpan",min:0,max:24,help:a("How many rows this item spans in the grid","voxel-fse"),enableDynamicTags:!0,dynamicTagValue:g("rowSpan"),onDynamicTagChange:h("rowSpan"),dynamicTagContext:"post"}),React.createElement(f,{label:a("Row start","voxel-fse"),attributes:p("rowStart"),setAttributes:d("rowStart"),attributeBaseName:"rowStart",min:0,max:24,help:a("The start position row for this item","voxel-fse"),enableDynamicTags:!0,dynamicTagValue:g("rowStart"),onDynamicTagChange:h("rowStart"),dynamicTagContext:"post"}))};return React.createElement(D,{attributes:e,setAttributes:o,stateAttribute:"contentTabOpenPanel",defaultPanel:"images"},React.createElement(I,{id:"images",title:a("Images","voxel-fse")},React.createElement(Y,{label:a("Add Images","voxel-fse"),value:l(e.images),onChange:n=>o({images:t(n)}),enableDynamicTags:!0,dynamicTagValue:e.imagesDynamicTag,onDynamicTagChange:n=>o({imagesDynamicTag:n}),dynamicTagContext:"post"}),React.createElement(f,{label:a("Number of images to load","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"visibleCount",min:1,max:20,enableDynamicTags:!0,dynamicTagValue:e.visibleCountDynamicTag,onDynamicTagChange:n=>o({visibleCountDynamicTag:n}),dynamicTagContext:"post"}),React.createElement(k,{label:a("Image size","voxel-fse"),value:e.displaySize,valueTablet:e.displaySize_tablet,valueMobile:e.displaySize_mobile,onChange:n=>{console.log("[ContentTab] displaySize onChange called:",n,"current:",e.displaySize),o({displaySize:n})},onChangeTablet:n=>o({displaySize_tablet:n}),onChangeMobile:n=>o({displaySize_mobile:n}),options:A(),controlKey:"displaySize"}),React.createElement(k,{label:a("Image size (Lightbox)","voxel-fse"),value:e.lightboxSize,valueTablet:e.lightboxSize_tablet,valueMobile:e.lightboxSize_mobile,onChange:n=>o({lightboxSize:n}),onChangeTablet:n=>o({lightboxSize_tablet:n}),onChangeMobile:n=>o({lightboxSize_mobile:n}),options:A(),controlKey:"lightboxSize"}),React.createElement(R,{label:a("Columns","voxel-fse")}),React.createElement(f,{label:a("Item gap","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"columnGap",min:0,max:100}),React.createElement(f,{label:a("Number of columns","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"columnCount",min:1,max:6,enableDynamicTags:!0,dynamicTagValue:e.columnCountDynamicTag,onDynamicTagChange:n=>o({columnCountDynamicTag:n}),dynamicTagContext:"post"}),React.createElement(w,{label:a("Remove empty items?","voxel-fse"),checked:e.removeEmpty,onChange:n=>o({removeEmpty:n})}),e.removeEmpty&&React.createElement(w,{label:a("Auto fit?","voxel-fse"),checked:e.autoFit,onChange:n=>o({autoFit:n})}),React.createElement(R,{label:a("Row height","voxel-fse")}),!e.useAspectRatio&&React.createElement(f,{label:a("Set height","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"rowHeight",min:50,max:500}),React.createElement(w,{label:a("Use aspect ratio instead?","voxel-fse"),checked:e.useAspectRatio,onChange:n=>o({useAspectRatio:n})}),e.useAspectRatio&&React.createElement(M,{label:a("Aspect ratio","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"aspectRatio",placeholder:"16/9",help:a("Set image aspect ratio e.g 16/9","voxel-fse"),controlKey:"aspectRatio"})),React.createElement(I,{id:"mosaic",title:a("Mosaic","voxel-fse")},ee.map(n=>r(n.key,n.label))))}const le=[{label:a("Default","voxel-fse"),value:""},{label:a("None","voxel-fse"),value:"none"},{label:a("Solid","voxel-fse"),value:"solid"},{label:a("Double","voxel-fse"),value:"double"},{label:a("Dotted","voxel-fse"),value:"dotted"},{label:a("Dashed","voxel-fse"),value:"dashed"}];function te({attributes:e,setAttributes:o}){return React.createElement(D,{attributes:e,setAttributes:o,stateAttribute:"styleTabOpenPanel",defaultPanel:"general"},React.createElement(I,{id:"general",title:a("General","voxel-fse")},React.createElement(V,{attributeName:"generalStateTab",attributes:e,setAttributes:o,tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},l=>l.name==="normal"?React.createElement(React.Fragment,null,React.createElement("h4",{style:{marginBottom:"12px",fontWeight:600}},a("Image","voxel-fse")),React.createElement(f,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"imageBorderRadius",min:0,max:100}),React.createElement("h4",{style:{marginTop:"24px",marginBottom:"12px",fontWeight:600}},a("Overlay","voxel-fse")),React.createElement(b,{label:a("Overlay background color","voxel-fse"),value:e.overlayColor,onChange:t=>o({overlayColor:t??""})}),React.createElement("h4",{style:{marginTop:"24px",marginBottom:"12px",fontWeight:600}},a("Empty item","voxel-fse")),React.createElement(F,{label:a("Border Type","voxel-fse"),value:e.emptyBorderType,options:le,onChange:t=>o({emptyBorderType:t})}),e.emptyBorderType&&e.emptyBorderType!=="none"&&React.createElement(React.Fragment,null,React.createElement(X,{label:a("Border Width","voxel-fse"),value:e.emptyBorderWidth,onChange:t=>o({emptyBorderWidth:t}),min:0,max:20}),React.createElement(b,{label:a("Border Color","voxel-fse"),value:e.emptyBorderColor,onChange:t=>o({emptyBorderColor:t??""})})),React.createElement(f,{label:a("Border radius","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"emptyBorderRadius",min:0,max:100}),React.createElement("h4",{style:{marginTop:"24px",marginBottom:"12px",fontWeight:600}},a("View all button","voxel-fse")),React.createElement(b,{label:a("Background color","voxel-fse"),value:e.viewAllBgColor,onChange:t=>o({viewAllBgColor:t??""})}),React.createElement(b,{label:a("Icon color","voxel-fse"),value:e.viewAllIconColor,onChange:t=>o({viewAllIconColor:t??""})}),React.createElement(K,{label:a("Icon","voxel-fse"),value:e.viewAllIcon,onChange:t=>o({viewAllIcon:t}),supportsDynamicTags:!0,dynamicTagContext:"post"}),React.createElement(f,{label:a("Icon size","voxel-fse"),attributes:e,setAttributes:o,attributeBaseName:"viewAllIconSize",min:0,max:70}),React.createElement(b,{label:a("Text color","voxel-fse"),value:e.viewAllTextColor,onChange:t=>o({viewAllTextColor:t??""})}),React.createElement(O,{label:a("Typography","voxel-fse"),value:e.viewAllTypography,onChange:t=>o({viewAllTypography:t})})):React.createElement(React.Fragment,null,React.createElement("h4",{style:{marginBottom:"12px",fontWeight:600}},a("Overlay","voxel-fse")),React.createElement(b,{label:a("Overlay background color","voxel-fse"),value:e.overlayColorHover,onChange:t=>o({overlayColorHover:t??""})}),React.createElement("h4",{style:{marginTop:"24px",marginBottom:"12px",fontWeight:600}},a("View all button","voxel-fse")),React.createElement(b,{label:a("Background color","voxel-fse"),value:e.viewAllBgColorHover,onChange:t=>o({viewAllBgColorHover:t??""})}),React.createElement(b,{label:a("Icon color","voxel-fse"),value:e.viewAllIconColorHover,onChange:t=>o({viewAllIconColorHover:t??""})}),React.createElement(b,{label:a("Text color","voxel-fse"),value:e.viewAllTextColorHover,onChange:t=>o({viewAllTextColorHover:t??""})})))))}function ne(e){if(!e)return"";const o=[];if(e.fontFamily&&o.push(`font-family: ${e.fontFamily};`),e.fontSize!==void 0){const l=e.fontSizeUnit||"px";o.push(`font-size: ${e.fontSize}${l};`)}if(e.fontWeight&&o.push(`font-weight: ${e.fontWeight};`),e.fontStyle&&e.fontStyle!=="default"&&o.push(`font-style: ${e.fontStyle};`),e.textDecoration&&e.textDecoration!=="none"&&o.push(`text-decoration: ${e.textDecoration};`),e.lineHeight!==void 0){const l=e.lineHeightUnit||"";o.push(`line-height: ${e.lineHeight}${l};`)}if(e.letterSpacing!==void 0){const l=e.letterSpacingUnit||"px";o.push(`letter-spacing: ${e.letterSpacing}${l};`)}if(e.wordSpacing!==void 0){const l=e.wordSpacingUnit||"px";o.push(`word-spacing: ${e.wordSpacing}${l};`)}return e.textTransform&&e.textTransform!=="none"&&o.push(`text-transform: ${e.textTransform};`),o.join(" ")}function E(e,o){if(!e)return"";const l=[],t=`fontSize${o}`,r=`lineHeight${o}`,n=`letterSpacing${o}`,i=`wordSpacing${o}`;if(e[t]!==void 0){const c=e.fontSizeUnit||"px";l.push(`font-size: ${e[t]}${c};`)}if(e[r]!==void 0){const c=e.lineHeightUnit||"";l.push(`line-height: ${e[r]}${c};`)}if(e[n]!==void 0){const c=e.letterSpacingUnit||"px";l.push(`letter-spacing: ${e[n]}${c};`)}if(e[i]!==void 0){const c=e.wordSpacingUnit||"px";l.push(`word-spacing: ${e[i]}${c};`)}return l.join(" ")}function z(e,o,l){if(!e)return[];const t=[];for(let r=1;r<=6;r++){const n=`item${r}`,i=e[n];if(!i)continue;const c=[],p=l?`colSpan${l}`:"colSpan",d=l?`colStart${l}`:"colStart",g=l?`rowSpan${l}`:"rowSpan",h=l?`rowStart${l}`:"rowStart",s=i[p],y=i[d],u=i[g],v=i[h];s&&c.push(`grid-column-end: span ${s};`),y&&c.push(`grid-column-start: ${y};`),u&&c.push(`grid-row-end: span ${u};`),v&&c.push(`grid-row-start: ${v};`),c.length>0&&t.push(`${o} .ts-gallery-grid > li:nth-child(${r}) { ${c.join(" ")} }`)}return t}function j(e,o){const l=[],t=[],r=[],n=`#${o}`;e.columnCount_tablet!==void 0&&t.push(`${n} .ts-gallery-grid { grid-template-columns: repeat(${e.columnCount_tablet}, 1fr); }`),e.columnCount_mobile!==void 0&&r.push(`${n} .ts-gallery-grid { grid-template-columns: repeat(${e.columnCount_mobile}, 1fr); }`),e.columnGap_tablet!==void 0&&t.push(`${n} .ts-gallery-grid { gap: ${e.columnGap_tablet}px; }`),e.columnGap_mobile!==void 0&&r.push(`${n} .ts-gallery-grid { gap: ${e.columnGap_mobile}px; }`),e.useAspectRatio||(e.rowHeight_tablet!==void 0&&t.push(`${n} .ts-gallery-grid { grid-auto-rows: ${e.rowHeight_tablet}px; }`),e.rowHeight_mobile!==void 0&&r.push(`${n} .ts-gallery-grid { grid-auto-rows: ${e.rowHeight_mobile}px; }`)),e.useAspectRatio&&(e.aspectRatio_tablet&&t.push(`${n} .ts-gallery-grid img { aspect-ratio: ${e.aspectRatio_tablet}; }`),e.aspectRatio_mobile&&r.push(`${n} .ts-gallery-grid img { aspect-ratio: ${e.aspectRatio_mobile}; }`)),e.imageBorderRadius_tablet!==void 0&&t.push(`${n} .ts-gallery-grid > li > a { border-radius: ${e.imageBorderRadius_tablet}px; }`),e.imageBorderRadius_mobile!==void 0&&r.push(`${n} .ts-gallery-grid > li > a { border-radius: ${e.imageBorderRadius_mobile}px; }`),e.emptyBorderRadius_tablet!==void 0&&t.push(`${n} .ts-gallery-grid .ts-empty-item > div { border-radius: ${e.emptyBorderRadius_tablet}px; }`),e.emptyBorderRadius_mobile!==void 0&&r.push(`${n} .ts-gallery-grid .ts-empty-item > div { border-radius: ${e.emptyBorderRadius_mobile}px; }`),e.viewAllIconSize_tablet!==void 0&&t.push(`${n} .ts-gallery-last-item .ts-image-overlay > span { width: ${e.viewAllIconSize_tablet}px; height: ${e.viewAllIconSize_tablet}px; }`),e.viewAllIconSize_mobile!==void 0&&r.push(`${n} .ts-gallery-last-item .ts-image-overlay > span { width: ${e.viewAllIconSize_mobile}px; height: ${e.viewAllIconSize_mobile}px; }`);const i=e.viewAllTypography;if(i){const p=ne(i);p&&l.push(`${n} .ts-gallery-last-item .ts-image-overlay > p { ${p} }`);const d=E(i,"_tablet");d&&t.push(`${n} .ts-gallery-last-item .ts-image-overlay > p { ${d} }`);const g=E(i,"_mobile");g&&r.push(`${n} .ts-gallery-last-item .ts-image-overlay > p { ${g} }`)}t.push(...z(e.mosaic,n,"_tablet")),r.push(...z(e.mosaic,n,"_mobile"));let c=l.join(`
`);return t.length>0&&(c+=`
@media (max-width: 1024px) {
${t.join(`
`)}
}`),r.length>0&&(c+=`
@media (max-width: 767px) {
${r.join(`
`)}
}`),c}function ae(e){return e.images.map(o=>{let l=o.url;o.sizes&&o.sizes[e.displaySize]&&(l=o.sizes[e.displaySize].url);let t=o.url;return o.sizes&&o.sizes[e.lightboxSize]&&(t=o.sizes[e.lightboxSize].url),{id:o.id,src_display:l,src_lightbox:t,alt:o.alt||"",caption:o.caption||"",description:o.description||"",title:o.title||"",display_size:e.displaySize}})}function ie(e){const o={};return e.columnGap!==void 0&&(o["--gallery-gap"]=`${e.columnGap}px`),e.columnCount&&(o["--gallery-columns"]=e.columnCount),!e.useAspectRatio&&e.rowHeight&&(o["--gallery-row-height"]=`${e.rowHeight}px`),e.useAspectRatio&&e.aspectRatio&&(o["--gallery-aspect-ratio"]=e.aspectRatio),e.imageBorderRadius&&(o["--gallery-radius"]=`${e.imageBorderRadius}px`),e.overlayColor&&(o["--gallery-overlay-color"]=e.overlayColor),e.overlayColorHover&&(o["--gallery-overlay-color-hover"]=e.overlayColorHover),e.emptyBorderType&&e.emptyBorderType!=="none"&&(o["--gallery-empty-border-style"]=e.emptyBorderType,e.emptyBorderWidth&&(o["--gallery-empty-border-width"]=`${e.emptyBorderWidth}px`),e.emptyBorderColor&&(o["--gallery-empty-border-color"]=e.emptyBorderColor)),e.emptyBorderRadius&&(o["--gallery-empty-radius"]=`${e.emptyBorderRadius}px`),e.viewAllBgColor&&(o["--gallery-viewall-bg"]=e.viewAllBgColor),e.viewAllBgColorHover&&(o["--gallery-viewall-bg-hover"]=e.viewAllBgColorHover),e.viewAllIconColor&&(o["--gallery-viewall-icon"]=e.viewAllIconColor),e.viewAllIconColorHover&&(o["--gallery-viewall-icon-hover"]=e.viewAllIconColorHover),e.viewAllIconSize&&(o["--gallery-viewall-icon-size"]=`${e.viewAllIconSize}px`),e.viewAllTextColor&&(o["--gallery-viewall-text"]=e.viewAllTextColor),e.viewAllTextColorHover&&(o["--gallery-viewall-text-hover"]=e.viewAllTextColorHover),o}function T(e,o){const l=`item${o+1}`,t=e[l];if(!t)return{};const r={};return t.colSpan&&(r.gridColumnEnd=`span ${t.colSpan}`),t.colStart&&(r.gridColumnStart=t.colStart),t.rowSpan&&(r.gridRowEnd=`span ${t.rowSpan}`),t.rowStart&&(r.gridRowStart=t.rowStart),r}function re({attributes:e,context:o,blockId:l}){const t=x(()=>ae(e),[e.images,e.displaySize,e.lightboxSize]),r=e.visibleCount,n=t.length>r,i=n?t.slice(0,r-1):t,c=n?t.slice(r-1):[],p=!e.removeEmpty&&r>t.length?r-t.length:0,d=`gallery-${l}-${Date.now()}`,g=t.length>1,h=ie(e),s=x(()=>j(e,l),[e,l]),y=x(()=>t.map(m=>({src:m.src_lightbox||m.src_display,alt:m.alt||""})),[t]),u=L((m,_)=>{m.preventDefault();const C=window.VoxelLightbox;C&&C.open(y,_)},[y]),v={blockId:e.blockId,images:t,visibleCount:e.visibleCount,columnCount:e.columnCount,columnCount_tablet:e.columnCount_tablet,columnCount_mobile:e.columnCount_mobile,columnGap:e.columnGap,columnGap_tablet:e.columnGap_tablet,columnGap_mobile:e.columnGap_mobile,rowHeight:e.rowHeight,rowHeight_tablet:e.rowHeight_tablet,rowHeight_mobile:e.rowHeight_mobile,useAspectRatio:e.useAspectRatio,useAspectRatio_tablet:e.useAspectRatio_tablet,useAspectRatio_mobile:e.useAspectRatio_mobile,aspectRatio:e.aspectRatio,aspectRatio_tablet:e.aspectRatio_tablet,aspectRatio_mobile:e.aspectRatio_mobile,removeEmpty:e.removeEmpty,autoFit:e.autoFit,mosaic:e.mosaic,imageBorderRadius:e.imageBorderRadius,imageBorderRadius_tablet:e.imageBorderRadius_tablet,imageBorderRadius_mobile:e.imageBorderRadius_mobile,overlayColor:e.overlayColor,overlayColorHover:e.overlayColorHover,emptyBorderType:e.emptyBorderType,emptyBorderWidth:e.emptyBorderWidth,emptyBorderColor:e.emptyBorderColor,emptyBorderRadius:e.emptyBorderRadius,emptyBorderRadius_tablet:e.emptyBorderRadius_tablet,emptyBorderRadius_mobile:e.emptyBorderRadius_mobile,viewAllBgColor:e.viewAllBgColor,viewAllBgColorHover:e.viewAllBgColorHover,viewAllIconColor:e.viewAllIconColor,viewAllIconColorHover:e.viewAllIconColorHover,viewAllIcon:e.viewAllIcon,viewAllIconSize:e.viewAllIconSize,viewAllIconSize_tablet:e.viewAllIconSize_tablet,viewAllIconSize_mobile:e.viewAllIconSize_mobile,viewAllTextColor:e.viewAllTextColor,viewAllTextColorHover:e.viewAllTextColorHover,viewAllTypography:e.viewAllTypography},S=["ts-gallery-grid"];return e.autoFit&&e.removeEmpty&&S.push("ts-gallery-autofit"),t.length===0&&o==="editor"?React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(v)}}),s&&React.createElement("style",{dangerouslySetInnerHTML:{__html:s}}),React.createElement("li",{style:{listStyle:"none",width:"100%"}},React.createElement(J,null))):React.createElement(React.Fragment,null,React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(v)}}),s&&React.createElement("style",{dangerouslySetInnerHTML:{__html:s}}),React.createElement("div",{className:S.join(" "),style:{...h,display:"grid",gridTemplateColumns:`repeat(${e.columnCount}, 1fr)`,gap:`${e.columnGap||10}px`,gridAutoRows:e.useAspectRatio?"auto":`${e.rowHeight}px`,width:"100%"}},i.map((m,_)=>React.createElement("li",{key:m.id,style:{listStyle:"none",...T(e.mosaic,_)}},React.createElement("a",{href:m.src_lightbox,"data-elementor-open-lightbox":"yes",...g?{"data-elementor-lightbox-slideshow":d}:{},"data-elementor-lightbox-description":m.caption||m.alt||m.description,onClick:C=>u(C,_),style:{display:"block",width:"100%",height:"100%",position:"relative",borderRadius:`${e.imageBorderRadius}px`,overflow:"hidden"}},React.createElement("div",{className:"ts-image-overlay",style:{position:"absolute",inset:0,zIndex:1,backgroundColor:e.overlayColor||void 0,transition:"background-color 0.2s"}}),React.createElement("img",{src:m.src_display,alt:m.alt||m.description,style:{width:"100%",height:"100%",objectFit:"cover",...e.useAspectRatio&&e.aspectRatio?{aspectRatio:e.aspectRatio}:{}},loading:"lazy"})))),c.length>0&&React.createElement("li",{className:"ts-gallery-last-item",style:{listStyle:"none",...T(e.mosaic,i.length)}},React.createElement("a",{href:c[0].src_lightbox,"data-elementor-open-lightbox":"yes",...g?{"data-elementor-lightbox-slideshow":d}:{},"data-elementor-lightbox-description":c[0].caption||c[0].alt||c[0].description,onClick:m=>u(m,i.length),style:{display:"block",width:"100%",height:"100%",position:"relative",borderRadius:`${e.imageBorderRadius}px`,overflow:"hidden"}},React.createElement("div",{className:"ts-image-overlay",style:{position:"absolute",inset:0,zIndex:1,backgroundColor:e.viewAllBgColor||"rgba(0,0,0,0.6)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:e.viewAllIconColor||"#fff",transition:"background-color 0.2s"}},React.createElement("span",{style:{width:e.viewAllIconSize||24,height:e.viewAllIconSize||24,marginBottom:"8px"}},Z(e.viewAllIcon,q.grid)),React.createElement("p",{className:"ts-gallery-viewall-text",style:{margin:0,color:e.viewAllTextColor||"#fff"}},"+",c.length)),React.createElement("img",{src:c[0].src_display,alt:c[0].alt||c[0].description,style:{width:"100%",height:"100%",objectFit:"cover",...e.useAspectRatio&&e.aspectRatio?{aspectRatio:e.aspectRatio}:{}},loading:"lazy"})),React.createElement("div",{className:"hidden",style:{display:"none"}},c.slice(1).map(m=>React.createElement("a",{key:m.id,href:m.src_lightbox,"data-elementor-open-lightbox":"yes","data-elementor-lightbox-slideshow":d,"data-elementor-lightbox-description":m.caption||m.alt||m.description})))),Array.from({length:p}).map((m,_)=>React.createElement("li",{key:`empty-${_}`,className:"ts-empty-item",style:{listStyle:"none",...T(e.mosaic,i.length+(c.length>0?1:0)+_)}},React.createElement("div",{style:{width:"100%",height:"100%",borderRadius:`${e.emptyBorderRadius||e.imageBorderRadius}px`,border:e.emptyBorderType?`${e.emptyBorderWidth||1}px ${e.emptyBorderType} ${e.emptyBorderColor||"#ddd"}`:void 0,backgroundColor:"#f5f5f5"}})))))}function ce({attributes:e,setAttributes:o,clientId:l}){H(()=>{e.blockId||o({blockId:l})},[e.blockId,l,o]),H(()=>{const n="voxel-gallery-css";if(!document.getElementById(n)){const i=document.createElement("link");i.id=n,i.rel="stylesheet";const p=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");i.href=`${p}/wp-content/themes/voxel/assets/dist/gallery.css?ver=1.7.5.2`,document.head.appendChild(i)}},[]);const t=P(e,{blockId:e.blockId||l,baseClass:"ts-gallery flexify simplify-ul voxel-fse-gallery"}),r=$({id:t.elementId,className:t.className,style:t.styles,...t.customAttrs});return React.createElement("ul",{...r},t.responsiveCSS&&React.createElement("style",{dangerouslySetInnerHTML:{__html:t.responsiveCSS}}),React.createElement(G,null,React.createElement(U,{tabs:[{id:"content",label:a("Content","voxel-fse"),icon:"",render:()=>React.createElement(oe,{attributes:e,setAttributes:o})},{id:"style",label:a("Style","voxel-fse"),icon:"",render:()=>React.createElement(te,{attributes:e,setAttributes:o})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:o})),React.createElement(re,{attributes:e,context:"editor",blockId:l}))}function me(e){return e.images.map(o=>{let l=o.url;o.sizes&&o.sizes[e.displaySize]&&(l=o.sizes[e.displaySize].url);let t=o.url;return o.sizes&&o.sizes[e.lightboxSize]&&(t=o.sizes[e.lightboxSize].url),{id:o.id,src_display:l,src_lightbox:t,alt:o.alt||"",caption:o.caption||"",description:o.description||"",title:o.title||"",display_size:e.displaySize}})}function N(e){return function({attributes:l}){const t=P(l,{blockId:l.blockId||"gallery-block",baseClass:"ts-gallery flexify simplify-ul voxel-fse-gallery"}),r=$.save({id:t.elementId,className:t.className,style:t.styles,...t.customAttrs}),n={blockId:l.blockId,images:me(l),visibleCount:l.visibleCount,columnCount:l.columnCount,columnCount_tablet:l.columnCount_tablet,columnCount_mobile:l.columnCount_mobile,columnGap:l.columnGap,columnGap_tablet:l.columnGap_tablet,columnGap_mobile:l.columnGap_mobile,rowHeight:l.rowHeight,rowHeight_tablet:l.rowHeight_tablet,rowHeight_mobile:l.rowHeight_mobile,useAspectRatio:l.useAspectRatio,useAspectRatio_tablet:l.useAspectRatio_tablet,useAspectRatio_mobile:l.useAspectRatio_mobile,aspectRatio:l.aspectRatio,aspectRatio_tablet:l.aspectRatio_tablet,aspectRatio_mobile:l.aspectRatio_mobile,removeEmpty:l.removeEmpty,autoFit:l.autoFit,mosaic:l.mosaic,imageBorderRadius:l.imageBorderRadius,imageBorderRadius_tablet:l.imageBorderRadius_tablet,imageBorderRadius_mobile:l.imageBorderRadius_mobile,overlayColor:l.overlayColor,overlayColorHover:l.overlayColorHover,emptyBorderType:l.emptyBorderType,emptyBorderWidth:l.emptyBorderWidth,emptyBorderColor:l.emptyBorderColor,emptyBorderRadius:l.emptyBorderRadius,emptyBorderRadius_tablet:l.emptyBorderRadius_tablet,emptyBorderRadius_mobile:l.emptyBorderRadius_mobile,viewAllBgColor:l.viewAllBgColor,viewAllBgColorHover:l.viewAllBgColorHover,viewAllIconColor:l.viewAllIconColor,viewAllIconColorHover:l.viewAllIconColorHover,viewAllIcon:l.viewAllIcon,viewAllIconSize:l.viewAllIconSize,viewAllIconSize_tablet:l.viewAllIconSize_tablet,viewAllIconSize_mobile:l.viewAllIconSize_mobile,viewAllTextColor:l.viewAllTextColor,viewAllTextColorHover:l.viewAllTextColorHover,viewAllTypography:l.viewAllTypography},i=j(l,l.blockId||"gallery-block");return React.createElement("ul",{...r},t.responsiveCSS&&React.createElement("style",{dangerouslySetInnerHTML:{__html:t.responsiveCSS}}),i&&React.createElement("style",{dangerouslySetInnerHTML:{__html:i}}),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(n)}}),e&&React.createElement("div",{className:"ts-gallery-grid"},React.createElement("li",{className:"voxel-fse-block-placeholder"},React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",aspectRatio:"1",borderRadius:"10px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"32",height:"32",fill:"currentColor",style:{opacity:.4}},React.createElement("path",{d:"M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM5 19V5H19V19H5ZM13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H17.5L13.96 12.29Z"}))))))}}const se=N(!1),pe=N(!0),de="https://schemas.wp.org/trunk/block.json",ge=3,ye="voxel-fse/gallery",ue="1.0.0",fe="Gallery (VX)",ve="voxel-fse",be="Display an image gallery with grid or mosaic layout and lightbox support. Converted from Voxel Gallery widget.",he=["gallery","images","photos","grid","mosaic","lightbox","voxel"],_e="voxel-fse",Se={html:!1,align:["left","center","right","wide","full"],anchor:!0,className:!0,customClassName:!0},Ce="file:./index.js",xe="file:./frontend.js",Re="file:./render.php",we=JSON.parse('{"blockId":{"type":"string","default":""},"images":{"type":"array","default":[],"items":{"type":"object"}},"imagesDynamicTag":{"type":"string"},"visibleCount":{"type":"number","default":3},"visibleCountDynamicTag":{"type":"string"},"displaySize":{"type":"string","default":"medium"},"displaySize_tablet":{"type":"string"},"displaySize_mobile":{"type":"string"},"lightboxSize":{"type":"string","default":"large"},"lightboxSize_tablet":{"type":"string"},"lightboxSize_mobile":{"type":"string"},"columnGap":{"type":"number"},"columnGap_tablet":{"type":"number"},"columnGap_mobile":{"type":"number"},"columnCount":{"type":"number","default":3},"columnCount_tablet":{"type":"number"},"columnCount_mobile":{"type":"number"},"columnCountDynamicTag":{"type":"string"},"removeEmpty":{"type":"boolean","default":false},"autoFit":{"type":"boolean","default":false},"rowHeight":{"type":"number","default":250},"rowHeight_tablet":{"type":"number"},"rowHeight_mobile":{"type":"number"},"useAspectRatio":{"type":"boolean","default":false},"useAspectRatio_tablet":{"type":"boolean"},"useAspectRatio_mobile":{"type":"boolean"},"aspectRatio":{"type":"string","default":""},"aspectRatio_tablet":{"type":"string"},"aspectRatio_mobile":{"type":"string"},"mosaic":{"type":"object","default":{"item1":{"colSpan":null,"colStart":null,"rowSpan":null,"rowStart":null},"item2":{"colSpan":null,"colStart":null,"rowSpan":null,"rowStart":null},"item3":{"colSpan":null,"colStart":null,"rowSpan":null,"rowStart":null},"item4":{"colSpan":null,"colStart":null,"rowSpan":null,"rowStart":null},"item5":{"colSpan":null,"colStart":null,"rowSpan":null,"rowStart":null},"item6":{"colSpan":null,"colStart":null,"rowSpan":null,"rowStart":null}}},"imageBorderRadius":{"type":"number","default":10},"imageBorderRadius_tablet":{"type":"number"},"imageBorderRadius_mobile":{"type":"number"},"overlayColor":{"type":"string","default":""},"overlayColorHover":{"type":"string","default":""},"emptyBorderType":{"type":"string","default":""},"emptyBorderWidth":{"type":"number"},"emptyBorderColor":{"type":"string","default":""},"emptyBorderRadius":{"type":"number"},"emptyBorderRadius_tablet":{"type":"number"},"emptyBorderRadius_mobile":{"type":"number"},"viewAllBgColor":{"type":"string","default":""},"viewAllBgColorHover":{"type":"string","default":""},"viewAllIconColor":{"type":"string","default":""},"viewAllIconColorHover":{"type":"string","default":""},"viewAllIcon":{"type":"object","default":{"library":"","value":""}},"viewAllIconSize":{"type":"number"},"viewAllIconSize_tablet":{"type":"number"},"viewAllIconSize_mobile":{"type":"number"},"viewAllTextColor":{"type":"string","default":""},"viewAllTextColorHover":{"type":"string","default":""},"viewAllTypography":{"type":"object"},"blockMargin":{"type":"object","default":{}},"blockMargin_tablet":{"type":"object"},"blockMargin_mobile":{"type":"object"},"blockPadding":{"type":"object","default":{}},"blockPadding_tablet":{"type":"object"},"blockPadding_mobile":{"type":"object"},"elementWidth":{"type":"string","default":""},"elementWidth_tablet":{"type":"string"},"elementWidth_mobile":{"type":"string"},"elementCustomWidth":{"type":"number"},"elementCustomWidth_tablet":{"type":"number"},"elementCustomWidth_mobile":{"type":"number"},"elementCustomWidthUnit":{"type":"string","default":"%"},"elementVerticalAlign":{"type":"string"},"elementVerticalAlign_tablet":{"type":"string"},"elementVerticalAlign_mobile":{"type":"string"},"gridColumn":{"type":"string","default":""},"gridColumn_tablet":{"type":"string"},"gridColumn_mobile":{"type":"string"},"gridColumnCustom":{"type":"string"},"gridColumnCustom_tablet":{"type":"string"},"gridColumnCustom_mobile":{"type":"string"},"gridRow":{"type":"string","default":""},"gridRow_tablet":{"type":"string"},"gridRow_mobile":{"type":"string"},"gridRowCustom":{"type":"string"},"gridRowCustom_tablet":{"type":"string"},"gridRowCustom_mobile":{"type":"string"},"flexAlignSelf":{"type":"string"},"flexAlignSelf_tablet":{"type":"string"},"flexAlignSelf_mobile":{"type":"string"},"flexOrder":{"type":"string","default":""},"flexOrder_tablet":{"type":"string"},"flexOrder_mobile":{"type":"string"},"flexOrderCustom":{"type":"number"},"flexOrderCustom_tablet":{"type":"number"},"flexOrderCustom_mobile":{"type":"number"},"flexSize":{"type":"string","default":""},"flexSize_tablet":{"type":"string"},"flexSize_mobile":{"type":"string"},"flexGrow":{"type":"number","default":1},"flexGrow_tablet":{"type":"number"},"flexGrow_mobile":{"type":"number"},"flexShrink":{"type":"number","default":1},"flexShrink_tablet":{"type":"number"},"flexShrink_mobile":{"type":"number"},"position":{"type":"string","default":""},"offsetOrientationH":{"type":"string","default":"start"},"offsetX":{"type":"number"},"offsetX_tablet":{"type":"number"},"offsetX_mobile":{"type":"number"},"offsetXUnit":{"type":"string","default":"px"},"offsetXEnd":{"type":"number"},"offsetXEnd_tablet":{"type":"number"},"offsetXEnd_mobile":{"type":"number"},"offsetXEndUnit":{"type":"string","default":"px"},"offsetOrientationV":{"type":"string","default":"start"},"offsetY":{"type":"number"},"offsetY_tablet":{"type":"number"},"offsetY_mobile":{"type":"number"},"offsetYUnit":{"type":"string","default":"px"},"offsetYEnd":{"type":"number"},"offsetYEnd_tablet":{"type":"number"},"offsetYEnd_mobile":{"type":"number"},"offsetYEndUnit":{"type":"string","default":"px"},"zIndex":{"type":"string"},"zIndex_tablet":{"type":"string"},"zIndex_mobile":{"type":"string"},"elementId":{"type":"string"},"customClasses":{"type":"string","default":""},"elementIdDynamicTag":{"type":"string"},"customClassesDynamicTag":{"type":"string"},"borderActiveTab":{"type":"string","default":"normal"},"borderType":{"type":"string","default":""},"borderWidth":{"type":"object","default":{}},"borderColor":{"type":"string"},"borderRadius":{"type":"object","default":{}},"borderRadius_tablet":{"type":"object"},"borderRadius_mobile":{"type":"object"},"boxShadow":{"type":"object","default":{}},"borderTypeHover":{"type":"string","default":""},"borderWidthHover":{"type":"object","default":{}},"borderColorHover":{"type":"string"},"borderRadiusHover":{"type":"object","default":{}},"borderRadiusHover_tablet":{"type":"object"},"borderRadiusHover_mobile":{"type":"object"},"boxShadowHover":{"type":"object","default":{}},"backgroundActiveTab":{"type":"string","default":"normal"},"backgroundType":{"type":"string","default":"classic"},"backgroundTypeHover":{"type":"string","default":"classic"},"backgroundColor":{"type":"string"},"backgroundColorHover":{"type":"string"},"backgroundImage":{"type":"object"},"backgroundImage_tablet":{"type":"object"},"backgroundImage_mobile":{"type":"object"},"backgroundImageHover":{"type":"object"},"backgroundImageHover_tablet":{"type":"object"},"backgroundImageHover_mobile":{"type":"object"},"bgImageDynamicTag":{"type":"string"},"bgImageDynamicTagHover":{"type":"string"},"bgImageResolution":{"type":"string","default":"full"},"bgImagePosition":{"type":"string","default":"center center"},"bgImagePosition_tablet":{"type":"string"},"bgImagePosition_mobile":{"type":"string"},"bgImagePositionHover":{"type":"string","default":"center center"},"bgImagePositionHover_tablet":{"type":"string"},"bgImagePositionHover_mobile":{"type":"string"},"bgImageAttachment":{"type":"string","default":"scroll"},"bgImageAttachmentHover":{"type":"string","default":"scroll"},"bgImageRepeat":{"type":"string","default":"no-repeat"},"bgImageRepeat_tablet":{"type":"string"},"bgImageRepeat_mobile":{"type":"string"},"bgImageRepeatHover":{"type":"string","default":"no-repeat"},"bgImageRepeatHover_tablet":{"type":"string"},"bgImageRepeatHover_mobile":{"type":"string"},"bgImageSize":{"type":"string","default":"cover"},"bgImageSize_tablet":{"type":"string"},"bgImageSize_mobile":{"type":"string"},"bgImageSizeHover":{"type":"string","default":"cover"},"bgImageSizeHover_tablet":{"type":"string"},"bgImageSizeHover_mobile":{"type":"string"},"bgImageCustomWidth":{"type":"number"},"bgImageCustomWidth_tablet":{"type":"number"},"bgImageCustomWidth_mobile":{"type":"number"},"bgImageCustomWidthUnit":{"type":"string","default":"%"},"bgImageCustomWidthHover":{"type":"number"},"bgImageCustomWidthHover_tablet":{"type":"number"},"bgImageCustomWidthHover_mobile":{"type":"number"},"bgImageCustomWidthHoverUnit":{"type":"string","default":"%"},"gradientColor":{"type":"string"},"gradientColorHover":{"type":"string"},"gradientLocation":{"type":"number","default":0},"gradientLocation_tablet":{"type":"number"},"gradientLocation_mobile":{"type":"number"},"gradientLocationHover":{"type":"number","default":0},"gradientLocationHover_tablet":{"type":"number"},"gradientLocationHover_mobile":{"type":"number"},"gradientSecondColor":{"type":"string"},"gradientSecondColorHover":{"type":"string"},"gradientSecondLocation":{"type":"number","default":100},"gradientSecondLocation_tablet":{"type":"number"},"gradientSecondLocation_mobile":{"type":"number"},"gradientSecondLocationHover":{"type":"number","default":100},"gradientSecondLocationHover_tablet":{"type":"number"},"gradientSecondLocationHover_mobile":{"type":"number"},"gradientType":{"type":"string","default":"linear"},"gradientTypeHover":{"type":"string","default":"linear"},"gradientAngle":{"type":"number","default":180},"gradientAngle_tablet":{"type":"number"},"gradientAngle_mobile":{"type":"number"},"gradientAngleHover":{"type":"number","default":180},"gradientAngleHover_tablet":{"type":"number"},"gradientAngleHover_mobile":{"type":"number"},"gradientPosition":{"type":"string","default":"center center"},"gradientPosition_tablet":{"type":"string"},"gradientPosition_mobile":{"type":"string"},"gradientPositionHover":{"type":"string","default":"center center"},"gradientPositionHover_tablet":{"type":"string"},"gradientPositionHover_mobile":{"type":"string"},"bgTransitionDuration":{"type":"number","default":0.3},"maskSwitch":{"type":"boolean","default":false},"maskShape":{"type":"string","default":"circle"},"maskImage":{"type":"object"},"maskImage_tablet":{"type":"object"},"maskImage_mobile":{"type":"object"},"maskSize":{"type":"string","default":"contain"},"maskSize_tablet":{"type":"string"},"maskSize_mobile":{"type":"string"},"maskSizeScale":{"type":"number"},"maskSizeScale_tablet":{"type":"number"},"maskSizeScale_mobile":{"type":"number"},"maskSizeScaleUnit":{"type":"string","default":"%"},"maskPosition":{"type":"string","default":"center center"},"maskPosition_tablet":{"type":"string"},"maskPosition_mobile":{"type":"string"},"maskPositionX":{"type":"number"},"maskPositionX_tablet":{"type":"number"},"maskPositionX_mobile":{"type":"number"},"maskPositionXUnit":{"type":"string","default":"%"},"maskPositionY":{"type":"number"},"maskPositionY_tablet":{"type":"number"},"maskPositionY_mobile":{"type":"number"},"maskPositionYUnit":{"type":"string","default":"%"},"maskRepeat":{"type":"string","default":"no-repeat"},"maskRepeat_tablet":{"type":"string"},"maskRepeat_mobile":{"type":"string"},"hideDesktop":{"type":"boolean","default":false},"hideTablet":{"type":"boolean","default":false},"hideMobile":{"type":"boolean","default":false},"customCSS":{"type":"string"},"customAttributes":{"type":"string"},"customAttributesDynamicTag":{"type":"string"},"stickyEnabled":{"type":"boolean","default":false},"stickyDesktop":{"type":"string","default":"initial"},"stickyTablet":{"type":"string"},"stickyMobile":{"type":"string"},"stickyTop":{"type":"number"},"stickyTop_tablet":{"type":"number"},"stickyTop_mobile":{"type":"number"},"stickyTopUnit":{"type":"string","default":"px"},"stickyLeft":{"type":"number"},"stickyLeft_tablet":{"type":"number"},"stickyLeft_mobile":{"type":"number"},"stickyLeftUnit":{"type":"string","default":"px"},"stickyRight":{"type":"number"},"stickyRight_tablet":{"type":"number"},"stickyRight_mobile":{"type":"number"},"stickyRightUnit":{"type":"string","default":"px"},"stickyBottom":{"type":"number"},"stickyBottom_tablet":{"type":"number"},"stickyBottom_mobile":{"type":"number"},"stickyBottomUnit":{"type":"string","default":"px"},"visibilityBehavior":{"type":"string","default":"show"},"visibilityRules":{"type":"array","default":[]},"loopEnabled":{"type":"boolean","default":false},"loopSource":{"type":"string","default":""},"loopProperty":{"type":"string","default":""},"loopLimit":{"type":"string","default":""},"loopOffset":{"type":"string","default":""},"advancedOpenPanel":{"type":"string","default":"layout"},"contentTabOpenPanel":{"type":"string","default":"images"},"styleTabOpenPanel":{"type":"string","default":"general"},"generalStateTab":{"type":"string","default":"normal"}}'),B={$schema:de,apiVersion:ge,name:ye,version:ue,title:fe,category:ve,description:be,keywords:he,textdomain:_e,supports:Se,editorScript:Ce,viewScript:xe,render:Re,attributes:we},Te=[{attributes:B.attributes,save:pe}];W(B.name,{...B,icon:Q,edit:ce,save:se,deprecated:Te});
