import{registerBlockType as _e}from"@wordpress/blocks";import{useBlockProps as ye,InspectorControls as Me}from"@wordpress/block-editor";import{__ as l}from"@wordpress/i18n";import{useState as k,useRef as G,useCallback as M,useEffect as ie,useMemo as ve}from"react";import ge from"@wordpress/api-fetch";import{A as be,a as ce,S as Q,E as Se,R as D,C as O,D as he,c as Ce,T as ke}from"../TypographyPopup-CAcEJ5NA.js";import{I as Te}from"../InspectorTabs-Bq2wAh4W.js";import{SelectControl as A,TextControl as ae,ToggleControl as le}from"@wordpress/components";import"@wordpress/data";/* empty css                            */import"../RepeaterControl-C7JnAhZL.js";import"../voxelShim-DB_Ue-9R.js";import{g as Re}from"../useAdvancedTabProps-BnJDQbKr.js";import{r as Ne}from"../backgroundElements-Ui-iCrLV.js";import{A as W}from"../AdvancedIconControl-CJ_DCTeD.js";import{L as Le}from"../LoopElementModal-CaevVMh1.js";import{R as Ve,L as Ie}from"../RepeaterControl-B_ulBkEL.js";import{P as Be}from"../PopupCustomStyleControl-XQPXOL9P.js";import{F as re}from"../FormPopup-C_Yd8wPI.js";import{V as He}from"../VoxelGridIcon-D5dF5acW.js";import"react-dom";import"../generateAdvancedStyles-CRpLcHXt.js";import"../generateVoxelStyles-oZeaeuKH.js";const Oe={_id:"",componentType:"notifications",chooseMenu:"",icon:{library:"icon",value:"las la-bell"},componentUrl:{url:"",is_external:!0,nofollow:!0},componentTitle:"",messagesTitle:"Messages",wpMenuTitle:"Menu",notificationsTitle:"Notifications",cartTitle:"Cart",labelVisibility:!1,labelVisibilityDesktop:"none",labelVisibilityTablet:"none",labelVisibilityMobile:"none",componentVisibility:!1,userBarVisibilityDesktop:"flex",userBarVisibilityTablet:"flex",userBarVisibilityMobile:"flex",rowVisibility:"show",visibilityRules:[]},je=[{label:l("Notifications","voxel-fse"),value:"notifications"},{label:l("Cart","voxel-fse"),value:"cart"},{label:l("Messages","voxel-fse"),value:"messages"},{label:l("User Menu","voxel-fse"),value:"user_menu"},{label:l("Menu","voxel-fse"),value:"select_wp_menu"},{label:l("Custom link","voxel-fse"),value:"link"}],oe=[{label:l("Show","voxel-fse"),value:"flex"},{label:l("Hide","voxel-fse"),value:"none"}];function ze({attributes:e,setAttributes:r,navMenus:t}){const[f,d]=k(null),[i,h]=k(null),E=a=>{switch(a.componentType){case"notifications":return a.notificationsTitle||"Notifications";case"messages":return a.messagesTitle||"Messages";case"cart":return a.cartTitle||"Cart";case"user_menu":case"select_wp_menu":return a.wpMenuTitle||"Menu";case"link":return a.componentTitle||"Link";default:return a.componentType}},o=(a,u)=>{r({icons:{...e.icons,[a]:u}})},v=(a,u)=>{const g=[...e.items];g[a]={...g[a],...u},r({items:g})};return React.createElement(React.Fragment,null,React.createElement("div",{className:"voxel-inspector-section"},React.createElement(be,{defaultPanel:"items"},React.createElement(ce,{id:"items",title:l("User area components","voxel-fse")},React.createElement(Ve,{items:e.items,onChange:a=>r({items:a}),getItemLabel:a=>E(a),createItem:()=>({...Oe,_id:`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,rowVisibility:"show",visibilityRules:[],userBarVisibilityDesktop:"flex",userBarVisibilityTablet:"flex",userBarVisibilityMobile:"flex"}),renderContent:({item:a,index:u,onUpdate:g})=>{const p=(s,j)=>{g({[s]:j})};return React.createElement("div",{className:"voxel-repeater-content"},React.createElement(Q,{label:l("Component details","voxel-fse")}),React.createElement(A,{label:l("Component type","voxel-fse"),value:a.componentType,options:je,onChange:s=>p("componentType",s)}),(a.componentType==="user_menu"||a.componentType==="select_wp_menu")&&React.createElement(A,{label:l("Choose menu","voxel-fse"),value:a.chooseMenu,options:t,onChange:s=>p("chooseMenu",s)}),React.createElement(W,{label:l("Icon","voxel-fse"),value:a.icon,onChange:s=>p("icon",s)}),a.componentType==="link"&&React.createElement(React.Fragment,null,React.createElement(ae,{label:l("Link URL","voxel-fse"),value:a.componentUrl.url,onChange:s=>p("componentUrl",{...a.componentUrl,url:s}),placeholder:"https://your-link.com"}),React.createElement(le,{label:l("Open in new tab","voxel-fse"),checked:a.componentUrl.is_external,onChange:s=>p("componentUrl",{...a.componentUrl,is_external:s})})),a.componentType==="link"&&React.createElement(ae,{label:l("Label","voxel-fse"),value:a.componentTitle,onChange:s=>p("componentTitle",s)}),a.componentType==="messages"&&React.createElement(ae,{label:l("Label","voxel-fse"),value:a.messagesTitle,onChange:s=>p("messagesTitle",s)}),a.componentType==="select_wp_menu"&&React.createElement(ae,{label:l("Label","voxel-fse"),value:a.wpMenuTitle,onChange:s=>p("wpMenuTitle",s)}),a.componentType==="notifications"&&React.createElement(ae,{label:l("Label","voxel-fse"),value:a.notificationsTitle,onChange:s=>p("notificationsTitle",s)}),a.componentType==="cart"&&React.createElement(ae,{label:l("Label","voxel-fse"),value:a.cartTitle,onChange:s=>p("cartTitle",s)}),React.createElement("hr",{style:{margin:"16px 0",border:"none",borderTop:"1px solid #ddd"}}),React.createElement(le,{label:l("Enable label visibility","voxel-fse"),checked:a.labelVisibility,onChange:s=>p("labelVisibility",s)}),a.labelVisibility&&React.createElement(React.Fragment,null,React.createElement(A,{label:l("Show on desktop","voxel-fse"),value:a.labelVisibilityDesktop,options:oe,onChange:s=>p("labelVisibilityDesktop",s)}),React.createElement(A,{label:l("Show on tablet","voxel-fse"),value:a.labelVisibilityTablet,options:oe,onChange:s=>p("labelVisibilityTablet",s)}),React.createElement(A,{label:l("Show on mobile","voxel-fse"),value:a.labelVisibilityMobile,options:oe,onChange:s=>p("labelVisibilityMobile",s)})),React.createElement("hr",{style:{margin:"16px 0",border:"none",borderTop:"1px solid #ddd"}}),React.createElement(le,{label:l("Component visibility","voxel-fse"),checked:a.componentVisibility,onChange:s=>p("componentVisibility",s)}),a.componentVisibility&&React.createElement(React.Fragment,null,React.createElement(A,{label:l("Show on desktop","voxel-fse"),value:a.userBarVisibilityDesktop,options:oe,onChange:s=>p("userBarVisibilityDesktop",s)}),React.createElement(A,{label:l("Show on tablet","voxel-fse"),value:a.userBarVisibilityTablet,options:oe,onChange:s=>p("userBarVisibilityTablet",s)}),React.createElement(A,{label:l("Show on mobile","voxel-fse"),value:a.userBarVisibilityMobile,options:oe,onChange:s=>p("userBarVisibilityMobile",s)})),React.createElement(Ie,{itemId:a._id,rowVisibility:a.rowVisibility||"show",onRowVisibilityChange:s=>p("rowVisibility",s),visibilityRules:a.visibilityRules||[],onEditVisibilityRules:()=>d(u),onClearVisibilityRules:()=>p("visibilityRules",[]),showLoopSection:!0,loopSource:a.loopSource,loopProperty:a.loopProperty,loopLimit:a.loopLimit,loopOffset:a.loopOffset,onEditLoop:()=>h(u),onClearLoop:()=>{p("loopSource",""),p("loopProperty","")},onLoopLimitChange:s=>p("loopLimit",s),onLoopOffsetChange:s=>p("loopOffset",s)}))}})),React.createElement(ce,{id:"icons",title:l("Icons","voxel-fse")},React.createElement(W,{label:l("Down arrow","voxel-fse"),value:e.icons.downArrow,onChange:a=>o("downArrow",a)}),React.createElement(W,{label:l("Right arrow","voxel-fse"),value:e.icons.rightArrow,onChange:a=>o("rightArrow",a)}),React.createElement(W,{label:l("Left arrow","voxel-fse"),value:e.icons.leftArrow,onChange:a=>o("leftArrow",a)}),React.createElement(W,{label:l("Close icon","voxel-fse"),value:e.icons.close,onChange:a=>o("close",a)}),React.createElement(W,{label:l("Trash icon","voxel-fse"),value:e.icons.trash,onChange:a=>o("trash",a)}),React.createElement(W,{label:l("Inbox icon","voxel-fse"),value:e.icons.inbox,onChange:a=>o("inbox",a)}),React.createElement(W,{label:l("Load more icon","voxel-fse"),value:e.icons.loadMore,onChange:a=>o("loadMore",a)})))),f!==null&&React.createElement(Se,{isOpen:!0,rules:e.items[f].visibilityRules||[],onClose:()=>d(null),onSave:a=>{v(f,{visibilityRules:a})}}),i!==null&&React.createElement(Le,{isOpen:!0,config:{source:e.items[i].loopSource,property:e.items[i].loopProperty},onClose:()=>h(null),onSave:a=>{v(i,{loopSource:a.source,loopProperty:a.property})}}))}const Pe=[{label:l("Left","voxel-fse"),value:"left"},{label:l("Center","voxel-fse"),value:"center"},{label:l("Right","voxel-fse"),value:"right"},{label:l("Space between","voxel-fse"),value:"space-between"},{label:l("Space around","voxel-fse"),value:"space-around"}];function De({attributes:e,setAttributes:r}){return React.createElement(React.Fragment,null,React.createElement("div",{className:"voxel-inspector-section"},React.createElement(be,{defaultPanel:"general"},React.createElement(ce,{id:"general",title:l("User area: General","voxel-fse")},React.createElement(Q,{label:l("Layout","voxel-fse")}),React.createElement(A,{label:l("Align items","voxel-fse"),value:e.itemsAlign,options:Pe,onChange:t=>r({itemsAlign:t})}),React.createElement(le,{label:l("Vertical orientation?","voxel-fse"),checked:e.verticalOrientation,onChange:t=>r({verticalOrientation:t})}),e.verticalOrientation&&React.createElement(A,{label:l("Align item content","voxel-fse"),value:e.itemContentAlign,options:[{label:l("Left","voxel-fse"),value:"left"},{label:l("Center","voxel-fse"),value:"center"},{label:l("Right","voxel-fse"),value:"right"}],onChange:t=>r({itemContentAlign:t})}),React.createElement(Q,{label:l("Item","voxel-fse")}),React.createElement(D,{label:l("Gap","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"itemGap",min:0,max:50}),React.createElement(O,{label:l("Item background","voxel-fse"),value:e.itemBackground,onChange:t=>r({itemBackground:t??""})}),React.createElement(O,{label:l("Item background (hover)","voxel-fse"),value:e.itemBackgroundHover,onChange:t=>r({itemBackgroundHover:t??"#fff"})}),React.createElement(D,{label:l("Item border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"itemBorderRadius",min:0,max:100}),React.createElement(he,{label:l("Margin","voxel-fse"),values:e.itemMargin||{top:"",right:"",bottom:"",left:""},onChange:t=>r({itemMargin:{...t,unit:"px"}}),availableUnits:["px","%","em"]}),React.createElement(he,{label:l("Padding","voxel-fse"),values:e.itemPadding||{top:"",right:"",bottom:"",left:""},onChange:t=>r({itemPadding:{...t,unit:"px"}}),availableUnits:["px","%","em"]}),React.createElement(Ce,{label:l("Box shadow","voxel-fse"),attributes:e,setAttributes:r,shadowAttributeName:"itemBoxShadow"}),React.createElement(Ce,{label:l("Box shadow (hover)","voxel-fse"),attributes:e,setAttributes:r,shadowAttributeName:"itemBoxShadowHover"}),React.createElement(D,{label:l("Item content gap","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"itemContentGap",min:0,max:50}),React.createElement(Q,{label:l("Item icon","voxel-fse")}),React.createElement(D,{label:l("Container size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"iconContainerSize",min:30,max:80}),React.createElement(D,{label:l("Container border radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"iconContainerRadius",min:0,max:100}),React.createElement(O,{label:l("Container background","voxel-fse"),value:e.iconContainerBackground,onChange:t=>r({iconContainerBackground:t??""})}),React.createElement(O,{label:l("Container background (hover)","voxel-fse"),value:e.iconContainerBackgroundHover,onChange:t=>r({iconContainerBackgroundHover:t??""})}),React.createElement(D,{label:l("Icon size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"iconSize",min:10,max:50}),React.createElement(O,{label:l("Icon color","voxel-fse"),value:e.iconColor,onChange:t=>r({iconColor:t??""})}),React.createElement(O,{label:l("Icon color (hover)","voxel-fse"),value:e.iconColorHover,onChange:t=>r({iconColorHover:t??""})}),React.createElement(Q,{label:l("Unread indicator","voxel-fse")}),React.createElement(O,{label:l("Unread indicator color","voxel-fse"),value:e.unreadIndicatorColor,onChange:t=>r({unreadIndicatorColor:t??""})}),React.createElement(D,{label:l("Indicator top margin","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"unreadIndicatorMargin",min:0,max:50}),React.createElement(D,{label:l("Indicator size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"unreadIndicatorSize",min:0,max:50}),React.createElement(Q,{label:l("Avatar","voxel-fse")}),React.createElement(D,{label:l("Avatar size","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"avatarSize",min:20,max:100}),React.createElement(D,{label:l("Avatar radius","voxel-fse"),attributes:e,setAttributes:r,attributeBaseName:"avatarRadius",min:0,max:100}),React.createElement(Q,{label:l("Item label","voxel-fse")}),React.createElement(ke,{label:l("Typography","voxel-fse"),value:e.labelTypography,onChange:t=>r({labelTypography:t})}),React.createElement(O,{label:l("Color","voxel-fse"),value:e.labelColor,onChange:t=>r({labelColor:t??""})}),React.createElement(O,{label:l("Color (hover)","voxel-fse"),value:e.labelColorHover,onChange:t=>r({labelColorHover:t??""})}),React.createElement(Q,{label:l("Chevron","voxel-fse")}),React.createElement(O,{label:l("Chevron color","voxel-fse"),value:e.chevronColor,onChange:t=>r({chevronColor:t??""})}),React.createElement(O,{label:l("Chevron color (hover)","voxel-fse"),value:e.chevronColorHover,onChange:t=>r({chevronColorHover:t??""})}),React.createElement(le,{label:l("Hide chevron","voxel-fse"),checked:e.hideChevron,onChange:t=>r({hideChevron:t})})),React.createElement(ce,{id:"popups",title:l("Popups: Custom style","voxel-fse")},React.createElement(Be,{attributes:e,setAttributes:r})))))}function Z(){return window.VoxelFSEUserbar??null}function U(e){const r=window.Voxel_Config;return r?.ajax_url?`${r.ajax_url}&action=${e}`:`${r?.site_url||window.location.origin}/?vx=1&action=${e}`}function X(){const e=Z();return e?e.isLoggedIn:window.Voxel_Config?.is_logged_in??!1}function S(e,r="error"){const t=window.Voxel;t?.alert?t.alert(e,r):console.error(`[Userbar] ${r}: ${e}`)}function b(e,r){const t=Z();if(t?.l10n){const d=t.l10n;if(d[e])return d[e]}return window.Voxel_Config?.l10n?.[e]??r}function Ee(e){return Z()?.nonces?.[e]??""}function xe(e,r){const t=window.Voxel;return t?.helpers?.currencyFormat?t.helpers.currencyFormat(e,r):`$${(e/100).toFixed(2)}`}function F(e){return!e||!e.value?null:e.library==="svg"&&e.value?React.createElement("img",{src:e.value,alt:"",style:{width:"1em",height:"1em"}}):e.library==="icon"&&e.value?React.createElement("i",{className:e.value,"aria-hidden":"true"}):null}function Ae({item:e,icons:r,context:t,popupScopeClass:f}){const[d,i]=k(!1),h=G(null),E=G(null),v=Z()?.unread?.notifications??0,[a,u]=k(null),[g,p]=k(!1),[s,j]=k(!0),[Y,_]=k(!1),[C,V]=k(1),[w,z]=k(null),I=G(0),B=M(async(c=1)=>{_(!0);try{const R=U("notifications.list"),x=await(await fetch(`${R}&pg=${c}`)).json();x.success?(u(L=>c===1?x.list:[...L||[],...x.list]),p(x.has_more)):S(x.message||b("ajaxError","An error occurred"))}catch{S(b("ajaxError","An error occurred"))}finally{j(!1),_(!1)}},[]),P=M(()=>{a===null&&(u([]),E.current?.classList.add("hidden"),B(1)),i(!0)},[a,B]),se=M(()=>{const c=C+1;V(c),B(c)},[C,B]),K=M(async()=>{const c=b("confirmClear","Clear all notifications?");if(window.confirm(c))try{const R=U("notifications.clear_all"),x=await(await fetch(R)).json();x.success?u([]):S(x.message||b("ajaxError","An error occurred"))}catch{S(b("ajaxError","An error occurred"))}},[]),ee=M(()=>{z(null),requestAnimationFrame(()=>{const c=document.querySelector(".min-scroll");c&&(c.scrollTop=I.current)})},[]),q=M(async c=>{if(c.links_to==="(details)"){const R=document.querySelector(".min-scroll");R&&(I.current=R.scrollTop),c.actions===void 0?(u(y=>y?.map(x=>x.id===c.id?{...x,seen:!0}:x)||null),J(c)):(z(c),requestAnimationFrame(()=>{const y=document.querySelector(".min-scroll");y&&(y.scrollTop=0)}))}else{u(R=>R?.map(y=>y.id===c.id?{...y,_loading:!0}:y)||null);try{const R=U("notifications.open"),x=await(await fetch(`${R}&item_id=${c.id}`)).json();x.success?(u(L=>L?.map(n=>n.id===c.id?{...n,seen:!0,_loading:!1}:n)||null),x.redirect_to&&(window.location.href=x.redirect_to)):(S(x.message||b("ajaxError","An error occurred")),u(L=>L?.map(n=>n.id===c.id?{...n,_loading:!1}:n)||null))}catch{S(b("ajaxError","An error occurred")),u(R=>R?.map(y=>y.id===c.id?{...y,_loading:!1}:y)||null)}}},[]),J=M(async(c,R=1)=>{u(y=>y?.map(x=>x.id===c.id?{...x,_loading:!0,actions_page:R}:x)||null);try{const y=U("notifications.get_actions"),L=await(await fetch(`${y}&item_id=${c.id}&pg=${R}`)).json();if(L.success){const n={...c,actions:R===1?L.actions:[...c.actions||[],...L.actions],actions_page:R,_loading:!1,seen:!0};u(m=>m?.map($=>$.id===c.id?n:$)||null),z(n),R===1&&requestAnimationFrame(()=>{const m=document.querySelector(".min-scroll");m&&(m.scrollTop=0)})}else S(L.message||b("ajaxError","An error occurred")),u(n=>n?.map(m=>m.id===c.id?{...m,_loading:!1,seen:!0}:m)||null)}catch{S(b("ajaxError","An error occurred")),u(y=>y?.map(x=>x.id===c.id?{...x,_loading:!1}:x)||null)}},[]),te=M(async(c,R,y)=>{const x=y?.key||R.key;if(!x)return;const L=n=>{w&&z({...w,actions:w.actions?.map(m=>m===R?{...m,_loading:n}:m)})};L(!0);try{const n=U("notifications.run_action"),$=await(await fetch(`${n}&item_id=${c.id}&action_key=${x}&pg=${R._page||1}`)).json();if($.success){if($.updated_action&&w?.actions){const H=w.actions.indexOf(R);if(H!==-1){const N=[...w.actions];N[H]=$.updated_action,z({...w,actions:N})}}$.redirect_to&&(window.location.href=$.redirect_to)}else S($.message||b("ajaxError","An error occurred"))}catch{S(b("ajaxError","An error occurred"))}finally{L(!1)}},[w]),ne=c=>React.createElement("li",{key:c.id,className:`${c.is_new?"ts-new-notification":""} ${c.seen?"":"ts-unread-notification"} ${c._loading?"vx-loading":""}`.trim()||void 0},React.createElement("a",{href:"#",onClick:R=>{R.preventDefault(),q(c)}},React.createElement("div",{className:"notification-image"},c.image_url?React.createElement("img",{src:c.image_url,alt:""}):F(e.icon)),React.createElement("div",{className:"notification-details"},React.createElement("b",null,c.subject),React.createElement("span",null,c.time)))),pe=(c,R)=>c.type==="list-item"?React.createElement("li",{key:c.key},React.createElement("a",{href:c.links_to||"#",onClick:y=>{c.links_to||(y.preventDefault(),te(R,c))}},c.image_markup?React.createElement("div",{className:"notification-image",dangerouslySetInnerHTML:{__html:c.image_markup}}):React.createElement("div",{className:"notification-image"},F(e.icon)),React.createElement("div",{className:"notification-details"},c.subject&&React.createElement("b",null,c.subject),c.details&&React.createElement("span",null,c.details))),c.actions&&c.actions.length>0&&React.createElement("div",{className:`ts-notification-actions ${c._loading?"vx-disabled":""}`},c.actions.map(y=>React.createElement("a",{key:y.key,href:"#",className:`ts-btn ts-btn-1 ${y.type==="plain"?"vx-disabled":""}`,onClick:x=>{x.preventDefault(),x.stopPropagation(),te(R,c,y)}},y.label)))):null;return React.createElement("li",{className:`ts-notifications-wrapper elementor-repeater-item-${e._id}`},React.createElement("a",{ref:h,href:"#",onClick:c=>{c.preventDefault(),P()},role:"button","aria-label":e.notificationsTitle||"Notifications"},React.createElement("div",{className:"ts-comp-icon flexify"},F(e.icon),X()&&React.createElement("span",{ref:E,className:"unread-indicator",style:{display:v>0?void 0:"none"}})),React.createElement("span",{className:"ts_comp_label"},e.notificationsTitle||"Notifications")),React.createElement(re,{isOpen:d,popupId:`notifications-popup-${e._id}`,target:h.current,title:e.notificationsTitle||"Notifications",icon:e.icon?.value?`<i class="${e.icon.value}"></i>`:"",onClose:()=>{i(!1),z(null)},showFooter:!1,popupClass:`md-width ${f||""}`.trim(),headerActions:w?React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),ee()},className:"ts-icon-btn",role:"button"},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M10.746 6.00002C10.746 5.69663 10.5632 5.42312 10.2829 5.30707C10.0026 5.19101 9.67996 5.25526 9.4655 5.46986L3.51254 11.4266C3.35184 11.5642 3.25 11.7685 3.25 11.9966V11.9982C3.24959 12.1906 3.32276 12.3831 3.46949 12.53L9.46548 18.5302C9.67994 18.7448 10.0026 18.809 10.2829 18.693C10.5632 18.5769 10.746 18.3034 10.746 18L10.746 12.7466L20.0014 12.7466C20.4156 12.7466 20.7514 12.4108 20.7514 11.9966C20.7514 11.5824 20.4156 11.2466 20.0014 11.2466L10.746 11.2466V6.00002Z",fill:"currentColor"})))):React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),K()},className:"ts-icon-btn",role:"button"},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M9.5 2C9.08579 2 8.75 2.33579 8.75 2.75C8.75 3.16421 9.08579 3.5 9.5 3.5H14.5C14.9142 3.5 15.25 3.16421 15.25 2.75C15.25 2.33579 14.9142 2 14.5 2H9.5Z",fill:"currentColor"}),React.createElement("path",{d:"M4 5C3.74924 5 3.51506 5.12533 3.37597 5.33397C3.23687 5.54262 3.21125 5.80699 3.3077 6.03846L4.44231 8.76154C4.4804 8.85294 4.5 8.95098 4.5 9.05V19.75C4.5 20.9926 5.50736 22 6.75 22H17.25C18.4926 22 19.5 20.9926 19.5 19.75V9.04978C19.5 8.95083 19.5196 8.85286 19.5576 8.76151L20.6914 6.03827C20.7878 5.8068 20.7621 5.54249 20.623 5.33389C20.4839 5.12529 20.2498 5 19.999 5H4ZM10.75 10.5V16.5C10.75 16.9142 10.4142 17.25 10 17.25C9.58579 17.25 9.25 16.9142 9.25 16.5V10.5C9.25 10.0858 9.58579 9.75 10 9.75C10.4142 9.75 10.75 10.0858 10.75 10.5ZM14.75 10.5V16.5C14.75 16.9142 14.4142 17.25 14 17.25C13.5858 17.25 13.25 16.9142 13.25 16.5V10.5C13.25 10.0858 13.5858 9.75 14 9.75C14.4142 9.75 14.75 10.0858 14.75 10.5Z",fill:"currentColor"}))))},w&&React.createElement(React.Fragment,null,React.createElement("ul",{className:"ts-notification-list simplify-ul"},w.actions?.map(c=>pe(c,w))),w.actions_page!==void 0&&w.total_pages!==void 0&&w.actions_page<w.total_pages&&React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"n-load-more"},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),J(w,(w.actions_page||1)+1)},className:`ts-btn ts-btn-4 ${w._loading?"vx-pending":""}`},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z",fill:"currentColor"}),React.createElement("path",{d:"M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z",fill:"currentColor"})),b("loadMore","Load more"))))),!w&&React.createElement(React.Fragment,null,s&&React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{className:"ts-loader"})),!s&&a&&a.length===0&&React.createElement("div",{className:"ts-empty-user-tab"},F(e.icon),React.createElement("p",null,b("noNotifications","No notifications received"))),!s&&a&&a.length>0&&React.createElement("ul",{className:"ts-notification-list simplify-ul"},a.map(ne)),!s&&g&&React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"n-load-more"},React.createElement("a",{href:"#",onClick:c=>{c.preventDefault(),se()},className:`ts-btn ts-btn-4 ${Y?"vx-pending":""}`},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z",fill:"currentColor"}),React.createElement("path",{d:"M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z",fill:"currentColor"})),b("loadMore","Load more")))))))}function Ue({item:e,icons:r,context:t,popupScopeClass:f,nonce:d}){const[i,h]=k(!1),E=G(null),o=G(null),v=Z(),a=d||Ee("chat"),u=v?.unread?.messages??!1,[g,p]=k({list:null,hasMore:!1,loading:!0,loadingMore:!1,page:1}),s=M(async(C=1)=>{p(V=>({...V,loadingMore:!0}));try{const V=U("inbox.list_chats"),w=new FormData;w.append("pg",C.toString()),a&&w.append("_wpnonce",a);const I=await(await fetch(V,{method:"POST",body:w})).json();I.success?p(B=>({...B,list:C===1?I.list:[...B.list||[],...I.list],hasMore:I.has_more,loading:!1,loadingMore:!1})):(S(I.message||b("ajaxError","An error occurred")),p(B=>({...B,loading:!1,loadingMore:!1})))}catch{S(b("ajaxError","An error occurred")),p(V=>({...V,loading:!1,loadingMore:!1}))}},[a]),j=M(()=>{h(!0),g.list===null&&(p(C=>({...C,list:[]})),o.current?.classList.add("hidden"),s(1))},[g.list,s]),Y=M(()=>{const C=g.page+1;p(V=>({...V,page:C})),s(C)},[g.page,s]),_=C=>React.createElement("li",{key:C.id,className:`${C.is_new?"ts-new-notification":""} ${C.seen?"":"ts-unread-notification"}`.trim()||void 0},React.createElement("a",{href:C.link},C.target.avatar&&React.createElement("div",{className:"notification-image",dangerouslySetInnerHTML:{__html:C.target.avatar}}),React.createElement("div",{className:"notification-details"},React.createElement("b",null,C.target.name),React.createElement("span",null,C.excerpt),React.createElement("span",null,C.time))));return React.createElement("li",{className:`ts-popup-messages elementor-repeater-item-${e._id}`},React.createElement("a",{ref:E,href:"#",onClick:C=>{C.preventDefault(),j()},role:"button","aria-label":e.messagesTitle||"Messages"},React.createElement("div",{className:"ts-comp-icon flexify"},F(e.icon),X()&&React.createElement("span",{ref:o,className:"unread-indicator",style:{display:u?void 0:"none"}})),React.createElement("span",{className:"ts_comp_label"},e.messagesTitle||"Messages")),React.createElement(re,{isOpen:i,popupId:`messages-popup-${e._id}`,target:E.current,title:e.messagesTitle||"Messages",icon:e.icon?.value?`<i class="${e.icon.value}"></i>`:"",onClose:()=>h(!1),showFooter:!1,popupClass:`md-width ${f||""}`.trim(),headerActions:React.createElement("li",{className:"flexify"},React.createElement("a",{href:v?.templates?.inbox||"#",className:"ts-icon-btn"},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M3.73592 4.5C2.77726 4.5 2.00014 5.27724 2.00031 6.2359L2.00031 6.26829C2.01064 6.81904 2.28199 7.33272 2.732 7.65165L2.74287 7.65929L10.7131 13.2171C11.3897 13.689 12.2609 13.7479 12.9861 13.3941C13.0897 13.3435 13.1904 13.2845 13.287 13.2171L21.2569 7.65949C21.7225 7.33485 21.9999 6.8031 21.9998 6.23554C21.9997 5.27702 21.2229 4.5 20.2644 4.5H3.73592Z",fill:"currentColor"}),React.createElement("path",{d:"M22.0001 8.96994L14.145 14.4475C12.8562 15.3462 11.1438 15.3462 9.85507 14.4475L2.00023 8.97012L2 17.25C2 18.4926 3.00736 19.5 4.25 19.5H19.75C20.9926 19.5 22 18.4926 22 17.25L22.0001 8.96994Z",fill:"currentColor"}))))},g.loading&&React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{className:"ts-loader"})),!g.loading&&g.list&&g.list.length===0&&React.createElement("div",{className:"ts-empty-user-tab"},F(e.icon),React.createElement("p",null,b("noChats","No chats available"))),!g.loading&&g.list&&g.list.length>0&&React.createElement("ul",{className:"ts-notification-list simplify-ul ts-message-notifications"},g.list.map(_)),!g.loading&&g.hasMore&&React.createElement("div",{className:"ts-form-group"},React.createElement("div",{className:"n-load-more"},React.createElement("a",{href:"#",onClick:C=>{C.preventDefault(),Y()},className:`ts-btn ts-btn-4 ${g.loadingMore?"vx-pending":""}`},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M21.6009 10.4593C22.001 10.3521 22.2384 9.94088 22.1312 9.54078C21.59 7.52089 20.3974 5.73603 18.7384 4.46302C17.0793 3.19001 15.0466 2.5 12.9555 2.5C10.8644 2.5 8.83164 3.19001 7.17262 4.46302C6.12405 5.26762 5.26179 6.2767 4.63257 7.42036L2.86504 6.92617C2.76093 6.89707 2.65423 6.89133 2.55153 6.9068C2.46222 6.91962 2.37374 6.94889 2.29039 6.99582C1.92945 7.19903 1.80158 7.65636 2.00479 8.0173L3.73942 11.0983C3.83701 11.2717 3.99946 11.3991 4.19104 11.4527C4.30333 11.4841 4.42023 11.4886 4.53266 11.4673C4.61373 11.4524 4.69254 11.4242 4.7657 11.383L7.84641 9.64831C8.11073 9.49948 8.25936 9.20608 8.22302 8.90493C8.18668 8.60378 7.9725 8.35417 7.68037 8.27249L6.1241 7.83737C6.6343 6.99996 7.29751 6.2579 8.08577 5.65305C9.48282 4.58106 11.1946 4 12.9555 4C14.7164 4 16.4282 4.58106 17.8252 5.65305C19.2223 6.72504 20.2266 8.22807 20.6823 9.92901C20.7895 10.3291 21.2008 10.5665 21.6009 10.4593Z",fill:"currentColor"}),React.createElement("path",{d:"M4.30739 13.5387C3.90729 13.6459 3.66985 14.0572 3.77706 14.4573C4.31829 16.4771 5.51089 18.262 7.16991 19.535C8.82892 20.808 10.8616 21.498 12.9528 21.498C15.0439 21.498 17.0766 20.808 18.7356 19.535C19.7859 18.7291 20.6493 17.7181 21.2787 16.5722L23.0083 17.0557C23.1218 17.0961 23.2447 17.1091 23.3661 17.0917C23.5554 17.0658 23.7319 16.968 23.8546 16.8116C24.0419 16.573 24.0669 16.245 23.9181 15.9807L22.1835 12.8996C22.0859 12.7263 21.9234 12.5988 21.7319 12.5453C21.64 12.5196 21.5451 12.5119 21.4521 12.5216C21.3493 12.5317 21.2488 12.5629 21.1571 12.6146L18.0764 14.3493C17.7155 14.5525 17.5876 15.0099 17.7909 15.3708C17.9016 15.5675 18.0879 15.695 18.2929 15.7373L19.7875 16.1552C19.2768 16.9949 18.6125 17.7388 17.8225 18.345C16.4255 19.417 14.7137 19.998 12.9528 19.998C11.1918 19.998 9.4801 19.417 8.08305 18.345C6.686 17.273 5.68171 15.77 5.22595 14.069C5.11874 13.6689 4.70749 13.4315 4.30739 13.5387Z",fill:"currentColor"})),b("loadMore","Load more"))))))}function Fe({item:e,icons:r,context:t,popupScopeClass:f,nonce:d,isCartEmpty:i}){const[h,E]=k(!1),o=G(null),v=G(null),a=Z(),u=d||Ee("cart"),g=i??a?.isCartEmpty??!0,[p,s]=k(!0),[j,Y]=k(!1),[_,C]=k(null),[V,w]=k(""),[z,I]=k(!1),B=G(!1),P=()=>!p&&_!==null&&Object.keys(_).length>0,se=()=>j?P():X()?!g:!!localStorage.getItem("voxel:guest_cart"),K=n=>n.product_mode==="regular"?n.value.stock?.quantity||0:n.product_mode==="variable"&&n.value.variations?.quantity||0,ee=()=>{if(!P()||!_)return 0;let n=0;return Object.values(_).forEach(m=>{n+=m.pricing.total_amount}),n},q=M(()=>{if(!_||Object.keys(_).length===0){localStorage.removeItem("voxel:guest_cart");return}const n={};Object.values(_).forEach(m=>{n[m.key]=m.value}),localStorage.setItem("voxel:guest_cart",JSON.stringify(n))},[_]),J=M(async()=>{const n=X(),m=n?"products.get_cart_items":"products.get_guest_cart_items";try{const $=U(m),H=new FormData;u&&H.append("_wpnonce",u),H.append("guest_cart",localStorage.getItem("voxel:guest_cart")||"");const T=await(await fetch($,{method:"POST",body:H})).json();s(!1),Y(!0),n&&localStorage.removeItem("voxel:guest_cart"),T.success?(C(Object.keys(T.items).length?T.items:{}),w(T.checkout_link),n||setTimeout(()=>q(),0)):S(T.message||b("ajaxError","An error occurred"))}catch{s(!1),Y(!0),S(b("ajaxError","An error occurred"))}},[d,q]),te=M(()=>{const n=document.querySelector(".ts-checkout");if(n){window.Voxel?.scrollTo?.(n);return}E(!0),_===null&&(C({}),J())},[_,J]),ne=M(async n=>{if(X()){C(m=>m?{...m,[n.key]:{...m[n.key],_disabled:!0}}:null);try{const m=U("products.remove_cart_item"),$=new FormData;$.append("item_key",n.key),u&&$.append("_wpnonce",u);const N=await(await fetch(m,{method:"POST",body:$})).json();N.success?C(T=>{if(!T)return null;const de={...T};return delete de[n.key],de}):(C(T=>T?{...T,[n.key]:{...T[n.key],_disabled:!1}}:null),S(N.message||b("ajaxError","An error occurred")))}catch{C(m=>m?{...m,[n.key]:{...m[n.key],_disabled:!1}}:null),S(b("ajaxError","An error occurred"))}}else C(m=>{if(!m)return null;const $={...m};return delete $[n.key],$}),setTimeout(()=>q(),0)},[d,q]),pe=M(async()=>{if(X()){I(!0);try{const n=U("products.empty_cart"),m=new FormData;u&&m.append("_wpnonce",u);const H=await(await fetch(n,{method:"POST",body:m})).json();I(!1),H.success?C({}):S(H.message||b("ajaxError","An error occurred"))}catch{I(!1),S(b("ajaxError","An error occurred"))}}else C({}),localStorage.removeItem("voxel:guest_cart")},[d]),c=M(async(n,m)=>{C(N=>N?{...N,[n.key]:{...N[n.key],_disabled:!0}}:null);const $=X(),H=$?"products.update_cart_item_quantity":"products.update_guest_cart_item_quantity";try{const N=U(H),T=new FormData;T.append("item_key",n.key),T.append("item_quantity",m.toString()),$||T.append("guest_cart",localStorage.getItem("voxel:guest_cart")||""),u&&T.append("_wpnonce",u);const me=await(await fetch(N,{method:"POST",body:T})).json();me.success?(C(fe=>fe?{...fe,[n.key]:me.item}:null),$||setTimeout(()=>q(),0)):S(me.message||b("ajaxError","An error occurred"))}catch{S(b("ajaxError","An error occurred"))}finally{C(N=>N?{...N,[n.key]:{...N[n.key],_disabled:!1}}:null)}},[d,q]),R=M(n=>{const m=K(n)+1;c(n,m)},[c]),y=M(n=>{const m=K(n)-1;m<=0?ne(n):c(n,m)},[c,ne]),x=n=>{if(!_)return!1;let m=n.quantity.max;for(const $ of Object.values(_))if($.stock_id===n.stock_id&&(m-=K($),m<=0))return!1;return!0};ie(()=>{if(t!=="frontend")return;B.current||(B.current=!0,Object.defineProperty(window,"VX_Cart",{configurable:!0,get:()=>({open:te,getItems:J,hasItems:P,getSubtotal:ee,get loading(){return p},get loaded(){return j},get items(){return _},get checkout_link(){return V}})}));const n=()=>{J(),v.current?.classList.add("ts-cart-update"),setTimeout(()=>v.current?.classList.remove("ts-cart-update"),500)};return document.addEventListener("voxel:added_cart_item",n),()=>{document.removeEventListener("voxel:added_cart_item",n)}},[t,J,te,P,ee,p,j,_,V]);const L=n=>React.createElement("li",{key:n.key,className:n._disabled?"vx-disabled":void 0},React.createElement("div",{className:"cart-image",dangerouslySetInnerHTML:{__html:n.logo}}),React.createElement("div",{className:"cart-item-details"},React.createElement("a",{href:n.link},n.title),n.subtitle&&React.createElement("span",null,n.subtitle),n.pricing.total_amount===0?React.createElement("span",null,b("free","Free")):React.createElement("span",{dangerouslySetInnerHTML:{__html:xe(n.pricing.total_amount,n.pricing._currency)}})),n.quantity.enabled?React.createElement("div",{className:"cart-stepper"},React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),y(n)},className:"ts-icon-btn ts-smaller"},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M4.875 12C4.875 11.3787 5.37868 10.875 6 10.875H18.0007C18.622 10.875 19.1257 11.3787 19.1257 12C19.1257 12.6213 18.622 13.125 18.0007 13.125H6C5.37868 13.125 4.875 12.6213 4.875 12Z",fill:"currentColor"}))),React.createElement("span",null,K(n)),React.createElement("a",{href:"#",onClick:m=>{m.preventDefault(),R(n)},className:`ts-icon-btn ts-smaller ${x(n)?"":"vx-disabled"}`},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M12.0002 4.875C12.6216 4.875 13.1252 5.37868 13.1252 6V10.8752H18.0007C18.622 10.8752 19.1257 11.3789 19.1257 12.0002C19.1257 12.6216 18.622 13.1252 18.0007 13.1252H13.1252V18.0007C13.1252 18.622 12.6216 19.1257 12.0002 19.1257C11.3789 19.1257 10.8752 18.622 10.8752 18.0007V13.1252H6C5.37868 13.1252 4.875 12.6216 4.875 12.0002C4.875 11.3789 5.37868 10.8752 6 10.8752H10.8752V6C10.8752 5.37868 11.3789 4.875 12.0002 4.875Z",fill:"currentColor"})))):React.createElement("div",{className:"cart-stepper"},React.createElement("a",{href:"#",className:"ts-icon-btn ts-smaller",onClick:m=>{m.preventDefault(),ne(n)}},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M9.5 2C9.08579 2 8.75 2.33579 8.75 2.75C8.75 3.16421 9.08579 3.5 9.5 3.5H14.5C14.9142 3.5 15.25 3.16421 15.25 2.75C15.25 2.33579 14.9142 2 14.5 2H9.5Z",fill:"currentColor"}),React.createElement("path",{d:"M4 5C3.74924 5 3.51506 5.12533 3.37597 5.33397C3.23687 5.54262 3.21125 5.80699 3.3077 6.03846L4.44231 8.76154C4.4804 8.85294 4.5 8.95098 4.5 9.05V19.75C4.5 20.9926 5.50736 22 6.75 22H17.25C18.4926 22 19.5 20.9926 19.5 19.75V9.04978C19.5 8.95083 19.5196 8.85286 19.5576 8.76151L20.6914 6.03827C20.7878 5.8068 20.7621 5.54249 20.623 5.33389C20.4839 5.12529 20.2498 5 19.999 5H4ZM10.75 10.5V16.5C10.75 16.9142 10.4142 17.25 10 17.25C9.58579 17.25 9.25 16.9142 9.25 16.5V10.5C9.25 10.0858 9.58579 9.75 10 9.75C10.4142 9.75 10.75 10.0858 10.75 10.5ZM14.75 10.5V16.5C14.75 16.9142 14.4142 17.25 14 17.25C13.5858 17.25 13.25 16.9142 13.25 16.5V10.5C13.25 10.0858 13.5858 9.75 14 9.75C14.4142 9.75 14.75 10.0858 14.75 10.5Z",fill:"currentColor"})))));return React.createElement("li",{className:`ts-popup-cart elementor-repeater-item-${e._id}`},React.createElement("a",{ref:o,href:"#",onClick:n=>{n.preventDefault(),te()},role:"button","aria-label":e.cartTitle||"Cart"},React.createElement("div",{ref:v,className:"ts-comp-icon flexify"},F(e.icon),se()&&React.createElement("span",{className:"unread-indicator"})),React.createElement("span",{className:"ts_comp_label"},e.cartTitle||"Cart")),React.createElement(re,{isOpen:h,popupId:`cart-popup-${e._id}`,target:o.current,title:e.cartTitle||"Cart",icon:e.icon?.value?`<i class="${e.icon.value}"></i>`:"",onClose:()=>E(!1),showFooter:!1,popupClass:`ts-cart-popup lg-width ${f||""}`.trim(),headerActions:P()?React.createElement("li",{className:"flexify"},React.createElement("a",{href:"#",className:"ts-icon-btn",role:"button",onClick:n=>{n.preventDefault(),pe()}},React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M9.5 2C9.08579 2 8.75 2.33579 8.75 2.75C8.75 3.16421 9.08579 3.5 9.5 3.5H14.5C14.9142 3.5 15.25 3.16421 15.25 2.75C15.25 2.33579 14.9142 2 14.5 2H9.5Z",fill:"currentColor"}),React.createElement("path",{d:"M4 5C3.74924 5 3.51506 5.12533 3.37597 5.33397C3.23687 5.54262 3.21125 5.80699 3.3077 6.03846L4.44231 8.76154C4.4804 8.85294 4.5 8.95098 4.5 9.05V19.75C4.5 20.9926 5.50736 22 6.75 22H17.25C18.4926 22 19.5 20.9926 19.5 19.75V9.04978C19.5 8.95083 19.5196 8.85286 19.5576 8.76151L20.6914 6.03827C20.7878 5.8068 20.7621 5.54249 20.623 5.33389C20.4839 5.12529 20.2498 5 19.999 5H4ZM10.75 10.5V16.5C10.75 16.9142 10.4142 17.25 10 17.25C9.58579 17.25 9.25 16.9142 9.25 16.5V10.5C9.25 10.0858 9.58579 9.75 10 9.75C10.4142 9.75 10.75 10.0858 10.75 10.5ZM14.75 10.5V16.5C14.75 16.9142 14.4142 17.25 14 17.25C13.5858 17.25 13.25 16.9142 13.25 16.5V10.5C13.25 10.0858 13.5858 9.75 14 9.75C14.4142 9.75 14.75 10.0858 14.75 10.5Z",fill:"currentColor"})))):null},p&&React.createElement("div",{className:"ts-empty-user-tab"},React.createElement("span",{className:"ts-loader"})),!p&&!P()&&React.createElement("div",{className:"ts-empty-user-tab"},F(e.icon),React.createElement("p",null,b("noCartItems","No items added to cart"))),!p&&P()&&_&&React.createElement("div",{className:`ts-form-group ${z?"vx-disabled":""}`},React.createElement("ul",{className:"ts-cart-list simplify-ul"},Object.values(_).map(L))),j&&P()&&React.createElement("div",{className:`ts-cart-controller ${z?"vx-disabled":""}`},ee()!==0&&React.createElement("div",{className:"cart-subtotal"},React.createElement("span",null,b("subtotal","Subtotal")),React.createElement("span",{dangerouslySetInnerHTML:{__html:xe(ee())}})),React.createElement("a",{href:V,className:"ts-btn ts-btn-2"},b("continue","Continue"),React.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M14.5359 5.46986C14.3214 5.25526 13.9988 5.19101 13.7185 5.30707C13.4382 5.42312 13.2554 5.69663 13.2554 6.00002V11.2466L4 11.2466C3.58579 11.2466 3.25 11.5824 3.25 11.9966C3.25 12.4108 3.58579 12.7466 4 12.7466L13.2554 12.7466V18C13.2554 18.3034 13.4382 18.5769 13.7185 18.693C13.9988 18.809 14.3214 18.7448 14.5359 18.5302L20.5319 12.53C20.6786 12.3831 20.7518 12.1905 20.7514 11.9981L20.7514 11.9966C20.7514 11.7685 20.6495 11.5642 20.4888 11.4266L14.5359 5.46986Z",fill:"currentColor"}))))))}function Ge({item:e,icons:r,context:t,popupScopeClass:f,hideChevron:d}){const[i,h]=k(!1),E=G(null),o=Z(),v=o?.user??window.VoxelFSEUser,a=v?.displayName||"User",u=v?.avatarUrl||"",g=M(()=>{h(!0)},[]),p=o?.menus?.[e.chooseMenu]||"";return React.createElement("li",{className:`ts-popup-component ts-user-area-avatar elementor-repeater-item-${e._id}`},React.createElement("a",{ref:E,href:"#",onClick:s=>{s.preventDefault(),g()},role:"button","aria-label":a},React.createElement("div",{className:"ts-comp-icon flexify"},v?.avatarMarkup?React.createElement("span",{dangerouslySetInnerHTML:{__html:v.avatarMarkup}}):u?React.createElement("img",{src:u,alt:a}):React.createElement("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#ccc",display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement("i",{className:"las la-user"}))),React.createElement("span",{className:"ts_comp_label"},a),!d&&React.createElement("div",{className:"ts-down-icon"})),React.createElement(re,{isOpen:i,popupId:`user-menu-popup-${e._id}`,target:E.current,title:a,icon:v?.avatarMarkup||(u?`<img src="${u}" alt="">`:""),onClose:()=>h(!1),showFooter:!1,popupClass:f||""},React.createElement("div",{className:"ts-term-dropdown ts-md-group ts-multilevel-dropdown"},p?React.createElement("div",{dangerouslySetInnerHTML:{__html:p}}):React.createElement("p",{style:{padding:"16px",textAlign:"center",color:"#666"}},b("menuNotConfigured","Menu not configured")))))}function Ze({item:e,icons:r,context:t,popupScopeClass:f}){const[d,i]=k(!1),h=G(null),o=Z()?.menus?.[e.chooseMenu]||"",v=M(()=>{i(!0)},[]);return React.createElement("li",{className:`ts-popup-component elementor-repeater-item-${e._id}`},React.createElement("a",{ref:h,href:"#",onClick:a=>{a.preventDefault(),v()},role:"button","aria-label":e.wpMenuTitle||"Menu"},React.createElement("div",{className:"ts-comp-icon flexify"},F(e.icon)),React.createElement("span",{className:"ts_comp_label"},e.wpMenuTitle||"Menu")),React.createElement(re,{isOpen:d,popupId:`wp-menu-popup-${e._id}`,target:h.current,title:e.wpMenuTitle||"Menu",icon:e.icon?.value?`<i class="${e.icon.value}"></i>`:"",onClose:()=>i(!1),showFooter:!1,popupClass:f||""},React.createElement("div",{className:"ts-term-dropdown ts-md-group ts-multilevel-dropdown"},o?React.createElement("div",{dangerouslySetInnerHTML:{__html:o}}):React.createElement("p",{style:{padding:"16px",textAlign:"center",color:"#666"}},b("menuNotConfigured","Menu not configured")))))}function qe({item:e,context:r}){const t={href:e.componentUrl.url||"#"};return e.componentUrl.is_external&&(t.target="_blank"),e.componentUrl.nofollow&&(t.rel="nofollow"),React.createElement("li",{className:`elementor-repeater-item-${e._id}`},React.createElement("a",{...t},React.createElement("div",{className:"ts-comp-icon flexify"},F(e.icon)),React.createElement("span",{className:"ts_comp_label"},e.componentTitle||"Link")))}function Je(e,r,t,f,d,i,h){switch(e.componentType){case"notifications":return React.createElement(Ae,{key:e._id,item:e,icons:r,context:t,popupScopeClass:d});case"messages":return React.createElement(Ue,{key:e._id,item:e,icons:r,context:t,popupScopeClass:d,nonce:i});case"cart":return React.createElement(Fe,{key:e._id,item:e,icons:r,context:t,popupScopeClass:d,nonce:i,isCartEmpty:h});case"user_menu":return React.createElement(Ge,{key:e._id,item:e,icons:r,context:t,hideChevron:f,popupScopeClass:d});case"select_wp_menu":return React.createElement(Ze,{key:e._id,item:e,icons:r,context:t,popupScopeClass:d});case"link":return React.createElement(qe,{key:e._id,item:e,context:t});default:return null}}function We({attributes:e,context:r,config:t}){const f=t?.items||e.items,d=t?.icons||e.icons,i=t?.settings||{itemsAlign:e.itemsAlign,verticalOrientation:e.verticalOrientation,verticalOrientationTablet:e.verticalOrientationTablet,verticalOrientationMobile:e.verticalOrientationMobile,itemContentAlign:e.itemContentAlign,hideChevron:e.hideChevron,customPopupEnable:e.customPopupEnable},E=Z()?.isCartEmpty??!0,o=`voxel-popup-userbar-${e.blockId||"default"}`,v={justifyContent:i.itemsAlign};return!f||f.length===0?React.createElement("div",{className:"ts-user-area"},React.createElement("div",{className:"voxel-fse-empty-state",style:{padding:"20px",textAlign:"center",background:"#f5f5f5",borderRadius:"4px"}},React.createElement("p",{style:{margin:0,color:"#666"}},r==="editor"?"Add components using the sidebar panel":"No user bar components configured"))):React.createElement(React.Fragment,null,r==="frontend"&&t&&React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}),React.createElement("ul",{className:"flexify simplify-ul user-area-menu",style:v},f.map(a=>Je(a,d,r,i.hideChevron,o,void 0,E))))}function Qe(e){if(!e)return"";let r="";return e.fontFamily&&(r+=`font-family: ${e.fontFamily}; `),e.fontSize&&(r+=`font-size: ${e.fontSize}${e.fontSizeUnit||"px"}; `),e.fontWeight&&(r+=`font-weight: ${e.fontWeight}; `),e.fontStyle&&(r+=`font-style: ${e.fontStyle}; `),e.textTransform&&(r+=`text-transform: ${e.textTransform}; `),e.textDecoration&&(r+=`text-decoration: ${e.textDecoration}; `),e.lineHeight&&(r+=`line-height: ${e.lineHeight}${e.lineHeightUnit||""}; `),e.letterSpacing&&(r+=`letter-spacing: ${e.letterSpacing}${e.letterSpacingUnit||"px"}; `),r}function we(e,r){const t=[],f=[],d=[],i=`.voxel-fse-userbar-${r}`;if(e.itemGap!==void 0&&t.push(`${i} > ul { grid-gap: ${e.itemGap}px; }`),e.itemGapTablet!==void 0&&f.push(`${i} > ul { grid-gap: ${e.itemGapTablet}px; }`),e.itemGapMobile!==void 0&&d.push(`${i} > ul { grid-gap: ${e.itemGapMobile}px; }`),e.verticalOrientation&&(t.push(`${i} > ul > li > a { flex-direction: column; }`),e.itemContentAlign&&t.push(`${i} > ul > li > a { justify-content: ${e.itemContentAlign}; }`)),e.verticalOrientationTablet&&(f.push(`${i} > ul > li > a { flex-direction: column; }`),e.itemContentAlign&&f.push(`${i} > ul > li > a { justify-content: ${e.itemContentAlign}; }`)),e.verticalOrientationMobile&&(d.push(`${i} > ul > li > a { flex-direction: column; }`),e.itemContentAlign&&d.push(`${i} > ul > li > a { justify-content: ${e.itemContentAlign}; }`)),e.itemBackground&&t.push(`${i} > ul > li > a { background-color: ${e.itemBackground}; }`),e.itemBackgroundHover&&t.push(`${i} > ul > li > a:hover { background-color: ${e.itemBackgroundHover}; }`),e.itemMargin){const o=e.itemMargin,v=o.unit||"px";(o.top||o.right||o.bottom||o.left)&&t.push(`${i} > ul > li > a { margin: ${o.top||0}${v} ${o.right||0}${v} ${o.bottom||0}${v} ${o.left||0}${v}; }`)}if(e.itemPadding){const o=e.itemPadding,v=o.unit||"px";(o.top||o.right||o.bottom||o.left)&&t.push(`${i} > ul > li > a { padding: ${o.top||0}${v} ${o.right||0}${v} ${o.bottom||0}${v} ${o.left||0}${v}; }`)}if(e.itemBoxShadow&&Object.keys(e.itemBoxShadow).length>0){const o=e.itemBoxShadow,v=o.position==="inset"?"inset ":"",a=o.horizontal??0,u=o.vertical??0,g=o.blur??0,p=o.spread??0,s=o.color??"rgba(0,0,0,0.5)";t.push(`${i} > ul > li > a { box-shadow: ${v}${a}px ${u}px ${g}px ${p}px ${s}; }`)}if(e.itemBoxShadowHover&&Object.keys(e.itemBoxShadowHover).length>0){const o=e.itemBoxShadowHover,v=o.position==="inset"?"inset ":"",a=o.horizontal??0,u=o.vertical??0,g=o.blur??0,p=o.spread??0,s=o.color??"rgba(0,0,0,0.5)";t.push(`${i} > ul > li > a:hover { box-shadow: ${v}${a}px ${u}px ${g}px ${p}px ${s}; }`)}if(e.itemBorderRadius!==void 0&&t.push(`${i} > ul > li > a { border-radius: ${e.itemBorderRadius}px; }`),e.itemBorderRadiusTablet!==void 0&&f.push(`${i} > ul > li > a { border-radius: ${e.itemBorderRadiusTablet}px; }`),e.itemBorderRadiusMobile!==void 0&&d.push(`${i} > ul > li > a { border-radius: ${e.itemBorderRadiusMobile}px; }`),e.itemContentGap!==void 0&&t.push(`${i} > ul > li > a { grid-gap: ${e.itemContentGap}px; }`),e.itemContentGapTablet!==void 0&&f.push(`${i} > ul > li > a { grid-gap: ${e.itemContentGapTablet}px; }`),e.itemContentGapMobile!==void 0&&d.push(`${i} > ul > li > a { grid-gap: ${e.itemContentGapMobile}px; }`),e.iconContainerSize!==void 0&&t.push(`${i} .ts-comp-icon { width: ${e.iconContainerSize}px; height: ${e.iconContainerSize}px; }`),e.iconContainerSizeTablet!==void 0&&f.push(`${i} .ts-comp-icon { width: ${e.iconContainerSizeTablet}px; height: ${e.iconContainerSizeTablet}px; }`),e.iconContainerSizeMobile!==void 0&&d.push(`${i} .ts-comp-icon { width: ${e.iconContainerSizeMobile}px; height: ${e.iconContainerSizeMobile}px; }`),e.iconContainerRadius!==void 0&&t.push(`${i} .ts-comp-icon { border-radius: ${e.iconContainerRadius}px; }`),e.iconContainerRadiusTablet!==void 0&&f.push(`${i} .ts-comp-icon { border-radius: ${e.iconContainerRadiusTablet}px; }`),e.iconContainerRadiusMobile!==void 0&&d.push(`${i} .ts-comp-icon { border-radius: ${e.iconContainerRadiusMobile}px; }`),e.iconContainerBackground&&t.push(`${i} .ts-comp-icon { background-color: ${e.iconContainerBackground}; }`),e.iconContainerBackgroundHover&&t.push(`${i} > ul > li > a:hover .ts-comp-icon { background-color: ${e.iconContainerBackgroundHover}; }`),e.iconSize!==void 0&&t.push(`${i} .ts-comp-icon { --ts-icon-size: ${e.iconSize}px; }`),e.iconSizeTablet!==void 0&&f.push(`${i} .ts-comp-icon { --ts-icon-size: ${e.iconSizeTablet}px; }`),e.iconSizeMobile!==void 0&&d.push(`${i} .ts-comp-icon { --ts-icon-size: ${e.iconSizeMobile}px; }`),e.iconColor&&t.push(`${i} .ts-comp-icon { --ts-icon-color: ${e.iconColor}; }`),e.iconColorHover&&t.push(`${i} > ul > li > a:hover .ts-comp-icon { --ts-icon-color: ${e.iconColorHover}; }`),e.unreadIndicatorColor&&t.push(`${i} span.unread-indicator { background: ${e.unreadIndicatorColor}; }`),e.unreadIndicatorMargin!==void 0&&t.push(`${i} span.unread-indicator { top: ${e.unreadIndicatorMargin}px; }`),e.unreadIndicatorMarginTablet!==void 0&&f.push(`${i} span.unread-indicator { top: ${e.unreadIndicatorMarginTablet}px; }`),e.unreadIndicatorMarginMobile!==void 0&&d.push(`${i} span.unread-indicator { top: ${e.unreadIndicatorMarginMobile}px; }`),e.unreadIndicatorSize!==void 0&&t.push(`${i} span.unread-indicator { width: ${e.unreadIndicatorSize}px; height: ${e.unreadIndicatorSize}px; }`),e.unreadIndicatorSizeTablet!==void 0&&f.push(`${i} span.unread-indicator { width: ${e.unreadIndicatorSizeTablet}px; height: ${e.unreadIndicatorSizeTablet}px; }`),e.unreadIndicatorSizeMobile!==void 0&&d.push(`${i} span.unread-indicator { width: ${e.unreadIndicatorSizeMobile}px; height: ${e.unreadIndicatorSizeMobile}px; }`),e.avatarSize!==void 0&&t.push(`${i} > ul > li.ts-user-area-avatar img { width: ${e.avatarSize}px; height: ${e.avatarSize}px; }`),e.avatarSizeTablet!==void 0&&f.push(`${i} > ul > li.ts-user-area-avatar img { width: ${e.avatarSizeTablet}px; height: ${e.avatarSizeTablet}px; }`),e.avatarSizeMobile!==void 0&&d.push(`${i} > ul > li.ts-user-area-avatar img { width: ${e.avatarSizeMobile}px; height: ${e.avatarSizeMobile}px; }`),e.avatarRadius!==void 0&&t.push(`${i} > ul > li.ts-user-area-avatar img { border-radius: ${e.avatarRadius}%; }`),e.avatarRadiusTablet!==void 0&&f.push(`${i} > ul > li.ts-user-area-avatar img { border-radius: ${e.avatarRadiusTablet}%; }`),e.avatarRadiusMobile!==void 0&&d.push(`${i} > ul > li.ts-user-area-avatar img { border-radius: ${e.avatarRadiusMobile}%; }`),e.items?.forEach(o=>{if(!o._id)return;const v=`${i} .elementor-repeater-item-${o._id}`;o.labelVisibility&&(o.labelVisibilityDesktop&&o.labelVisibilityDesktop!=="flex"&&t.push(`${v} .ts_comp_label { display: ${o.labelVisibilityDesktop} !important; }`),o.labelVisibilityTablet&&f.push(`${v} .ts_comp_label { display: ${o.labelVisibilityTablet} !important; }`),o.labelVisibilityMobile&&d.push(`${v} .ts_comp_label { display: ${o.labelVisibilityMobile} !important; }`)),o.componentVisibility&&(o.userBarVisibilityDesktop&&o.userBarVisibilityDesktop!=="flex"&&t.push(`${v} { display: ${o.userBarVisibilityDesktop} !important; }`),o.userBarVisibilityTablet&&f.push(`${v} { display: ${o.userBarVisibilityTablet} !important; }`),o.userBarVisibilityMobile&&d.push(`${v} { display: ${o.userBarVisibilityMobile} !important; }`))}),e.labelTypography){const o=Qe(e.labelTypography);o&&t.push(`${i} .ts_comp_label { ${o} }`)}e.labelColor&&t.push(`${i} .ts_comp_label { color: ${e.labelColor}; }`),e.labelColorHover&&t.push(`${i} > ul > li > a:hover .ts_comp_label { color: ${e.labelColorHover}; }`),e.chevronColor&&t.push(`${i} .ts-down-icon { border-color: ${e.chevronColor}; }`),e.chevronColorHover&&t.push(`${i} > ul > li > a:hover .ts-down-icon { border-color: ${e.chevronColorHover}; }`),e.hideChevron&&t.push(`${i} .ts-down-icon { display: none !important; }`);const h=`.voxel-popup-userbar-${r}`;if(e.popupBackdropColor&&t.push(`${h} .ts-popup-root > div::after { background-color: ${e.popupBackdropColor} !important; }`),e.popupPointerEvents&&t.push(`${h} .ts-popup-root > div::after { pointer-events: all; }`),e.popupBoxShadow&&Object.keys(e.popupBoxShadow).length>0){const o=e.popupBoxShadow,v=o.position==="inset"?"inset ":"",a=o.horizontal??0,u=o.vertical??0,g=o.blur??0,p=o.spread??0,s=o.color??"rgba(0,0,0,0.5)";t.push(`${h} .ts-field-popup { box-shadow: ${v}${a}px ${u}px ${g}px ${p}px ${s}; }`)}e.popupTopMargin&&t.push(`${h} .ts-field-popup-container { margin: ${e.popupTopMargin}px 0; }`),e.popupTopMargin_tablet!==void 0&&f.push(`${h} .ts-field-popup-container { margin: ${e.popupTopMargin_tablet}px 0; }`),e.popupTopMargin_mobile!==void 0&&d.push(`${h} .ts-field-popup-container { margin: ${e.popupTopMargin_mobile}px 0; }`),e.popupMaxHeight&&t.push(`${h} .ts-popup-content-wrapper { max-height: ${e.popupMaxHeight}px; }`),e.popupMaxHeight_tablet!==void 0&&f.push(`${h} .ts-popup-content-wrapper { max-height: ${e.popupMaxHeight_tablet}px; }`),e.popupMaxHeight_mobile!==void 0&&d.push(`${h} .ts-popup-content-wrapper { max-height: ${e.popupMaxHeight_mobile}px; }`);let E="";return t.length>0&&(E+=t.join(`
`)),f.length>0&&(E+=`
@media (max-width: 1024px) {
${f.join(`
`)}
}`),d.length>0&&(E+=`
@media (max-width: 767px) {
${d.join(`
`)}
}`),E}function Xe({attributes:e,setAttributes:r,clientId:t}){const f=e.blockId||t,[d,i]=k([{value:"",label:l("Select menu","voxel-fse")}]);ie(()=>{(async()=>{try{const g=await ge({path:"/voxel-fse/v1/navbar/locations"});if(g&&g.locations){const p=[{value:"",label:l("Select menu","voxel-fse")},...g.locations.map(s=>({value:s.slug,label:s.name}))];i(p)}}catch(g){console.error("Could not fetch nav menus:",g)}})(),(async()=>{try{const g=await ge({path:"/voxel-fse/v1/userbar/context"});if(g){window.VoxelFSEUserbar=g;const p=g;p.user&&(window.VoxelFSEUser={isLoggedIn:!0,id:p.user.id,displayName:p.user.displayName,avatarUrl:p.user.avatarUrl,avatarMarkup:p.user.avatarMarkup})}}catch(g){console.error("Could not fetch userbar config:",g)}})()},[]),ie(()=>{e.blockId||r({blockId:t}),e.items||r({items:[]})},[e.blockId,e.items,t,r]),ie(()=>{const a="voxel-commons-css";if(!document.getElementById(a)){const u=document.createElement("link");u.id=a,u.rel="stylesheet";const p=(window.Voxel_Config?.site_url||window.location.origin).replace(/\/$/,"");u.href=`${p}/wp-content/themes/voxel/assets/dist/commons.css?ver=1.7.5.2`,document.head.appendChild(u)}},[]);const h=Re(e,{blockId:f,baseClass:"voxel-fse-userbar ts-user-area",selectorPrefix:"voxel-fse-userbar"}),E=ve(()=>we(e,f),[e,f]),o=ve(()=>[h.responsiveCSS,E].filter(Boolean).join(`
`),[h.responsiveCSS,E]),v=ye({id:h.elementId,className:h.className,style:h.styles,...h.customAttrs});return React.createElement("div",{...v},React.createElement(Me,null,React.createElement(Te,{tabs:[{id:"content",label:l("Content","voxel-fse"),render:()=>React.createElement(ze,{attributes:e,setAttributes:r,navMenus:d})},{id:"style",label:l("Style","voxel-fse"),render:()=>React.createElement(De,{attributes:e,setAttributes:r})}],includeAdvancedTab:!0,includeVoxelTab:!0,attributes:e,setAttributes:r})),o&&React.createElement("style",{dangerouslySetInnerHTML:{__html:o}}),React.createElement(We,{attributes:e,context:"editor"}))}function $e(e){return function({attributes:t}){const f=t.blockId||"userbar",d=Re(t,{blockId:f,baseClass:"voxel-fse-userbar ts-user-area"}),i=we(t,f),h=[d.responsiveCSS,i].filter(Boolean).join(`
`),E=ye.save({id:d.elementId,className:d.className,style:d.styles,"data-visibility-behavior":t.visibilityBehavior||void 0,"data-visibility-rules":t.visibilityRules?.length?JSON.stringify(t.visibilityRules):void 0,"data-loop-source":t.loopSource||void 0,"data-loop-limit":t.loopLimit||void 0,"data-loop-offset":t.loopOffset||void 0,...d.customAttrs}),o={items:t.items,icons:t.icons,settings:{itemsAlign:t.itemsAlign,verticalOrientation:t.verticalOrientation,verticalOrientationTablet:t.verticalOrientationTablet??!1,verticalOrientationMobile:t.verticalOrientationMobile??!1,itemContentAlign:t.itemContentAlign,hideChevron:t.hideChevron,customPopupEnable:t.customPopupEnable}};return React.createElement("div",{...E},h&&React.createElement("style",{dangerouslySetInnerHTML:{__html:h}}),Ne(t,!1,void 0,void 0,d.uniqueSelector),React.createElement("script",{type:"text/json",className:"vxconfig",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}}),e&&React.createElement("div",{className:"voxel-fse-block-placeholder",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e0e0e0",padding:"16px",minHeight:"48px"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",style:{opacity:.4}},React.createElement("rect",{x:"4",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"4",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"4",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"10",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"4",y:"16",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"10",y:"16",width:"4",height:"4",rx:"0.5"}),React.createElement("rect",{x:"16",y:"16",width:"4",height:"4",rx:"0.5"}))))}}const Ye=$e(!1),Ke=$e(!0),et="https://schemas.wp.org/trunk/block.json",tt=3,at="voxel-fse/userbar",ot="1.0.0",nt="Userbar (VX)",lt="voxel-fse",rt="User bar with notifications, messages, cart, user menu, and custom links. FSE equivalent of Voxel's User bar widget.",it=["userbar","user","notifications","messages","cart","menu","voxel"],ct="voxel-fse",st={html:!1,align:["wide","full"],anchor:!0,className:!0,customClassName:!0},pt="file:./index.js",dt="file:./frontend.js",mt="file:./render.php",ut={blockId:{type:"string",default:""},items:{type:"array",default:[]},icons:{type:"object",default:{downArrow:{library:"",value:""},rightArrow:{library:"",value:""},leftArrow:{library:"",value:""},close:{library:"",value:""},trash:{library:"",value:""},inbox:{library:"",value:""},loadMore:{library:"",value:""}}},itemsAlign:{type:"string",default:"left"},verticalOrientation:{type:"boolean",default:!1},verticalOrientationTablet:{type:"boolean",default:!1},verticalOrientationMobile:{type:"boolean",default:!1},itemContentAlign:{type:"string",default:"left"},itemGap:{type:"number",default:0},itemGapTablet:{type:"number"},itemGapMobile:{type:"number"},itemMargin:{type:"object",default:{top:"",right:"",bottom:"",left:""}},itemPadding:{type:"object",default:{top:"",right:"",bottom:"",left:""}},itemBoxShadow:{type:"object",default:{}},itemBoxShadowHover:{type:"object",default:{}},itemBackground:{type:"string",default:""},itemBackgroundHover:{type:"string",default:"#fff"},itemBorderRadius:{type:"number",default:0},itemBorderRadiusTablet:{type:"number"},itemBorderRadiusMobile:{type:"number"},itemContentGap:{type:"number",default:0},itemContentGapTablet:{type:"number"},itemContentGapMobile:{type:"number"},iconContainerSize:{type:"number",default:40},iconContainerSizeTablet:{type:"number"},iconContainerSizeMobile:{type:"number"},iconContainerRadius:{type:"number",default:40},iconContainerRadiusTablet:{type:"number"},iconContainerRadiusMobile:{type:"number"},iconContainerBackground:{type:"string",default:""},iconContainerBackgroundHover:{type:"string",default:""},iconSize:{type:"number",default:20},iconSizeTablet:{type:"number"},iconSizeMobile:{type:"number"},iconColor:{type:"string",default:""},iconColorHover:{type:"string",default:""},unreadIndicatorColor:{type:"string",default:""},unreadIndicatorMargin:{type:"number",default:0},unreadIndicatorMarginTablet:{type:"number"},unreadIndicatorMarginMobile:{type:"number"},unreadIndicatorSize:{type:"number",default:8},unreadIndicatorSizeTablet:{type:"number"},unreadIndicatorSizeMobile:{type:"number"},avatarSize:{type:"number",default:32},avatarSizeTablet:{type:"number"},avatarSizeMobile:{type:"number"},avatarRadius:{type:"number",default:50},avatarRadiusTablet:{type:"number"},avatarRadiusMobile:{type:"number"},labelTypography:{type:"object",default:{}},labelColor:{type:"string",default:""},labelColorHover:{type:"string",default:""},chevronColor:{type:"string",default:""},chevronColorHover:{type:"string",default:""},hideChevron:{type:"boolean",default:!1},customPopupEnable:{type:"boolean",default:!1},popupBackdropColor:{type:"string",default:""},popupPointerEvents:{type:"boolean",default:!1},popupBoxShadow:{type:"object",default:{}},popupTopMargin:{type:"number",default:0},popupTopMargin_tablet:{type:"number"},popupTopMargin_mobile:{type:"number"},popupMaxHeight:{type:"number",default:0},popupMaxHeight_tablet:{type:"number"},popupMaxHeight_mobile:{type:"number"},_comment_voxel_tab:"VoxelTab attributes for visibility and loop features",visibilityBehavior:{type:"string",default:"show",enum:["show","hide"]},visibilityRules:{type:"array",default:[],items:{type:"object"}},loopEnabled:{type:"boolean",default:!1},loopSource:{type:"string",default:""},loopProperty:{type:"string",default:""},loopLimit:{type:"string",default:""},loopOffset:{type:"string",default:""}},ue={$schema:et,apiVersion:tt,name:at,version:ot,title:nt,category:lt,description:rt,keywords:it,textdomain:ct,supports:st,editorScript:pt,viewScript:dt,render:mt,attributes:ut},ft=[{attributes:ue.attributes,save:Ke}];_e(ue.name,{...ue,icon:He,edit:Xe,save:Ye,deprecated:ft});
