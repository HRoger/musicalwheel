import{useState as N,useEffect as M}from"react";import{SelectControl as g,TextControl as b,ToggleControl as d,RangeControl as L}from"@wordpress/components";import{useSelect as I}from"@wordpress/data";import{__ as a}from"@wordpress/i18n";import{h as V,b as F,f as U,C as x,I as B,l as W,i as f,R as s}from"./TypographyPopup-CkDwan7Z.js";import{G as O}from"./GalleryUploadControl-CQqiqsZe.js";function Q({attributes:l,setAttributes:o,showHoverState:C=!0,showImageControls:z=!0,showGradientMode:R=!0,showVideoBackground:y=!1,showSlideshowBackground:S=!1}){const E=I(n=>V(n),[]),h=E?E.toLowerCase():"desktop",[t,r]=N(h);M(()=>{r(h)},[h]);const P=I(n=>{const i=l.backgroundImage?.id;return i?n("core").getMedia(i):null},[l.backgroundImage?.id]),D=I(n=>{const i=l.backgroundImageHover?.id;return i?n("core").getMedia(i):null},[l.backgroundImageHover?.id]),u=n=>{const i=n?l.backgroundTypeHover:l.backgroundType,w=n?l.backgroundImageHover:l.backgroundImage,p=n?l.gradientTypeHover:l.gradientType,_=n?l.bgImageDynamicTagHover:l.bgImageDynamicTag,H=typeof _=="string"&&_.startsWith("@tags()")&&_.includes("@endtags()"),T=[{value:"classic",icon:"eicon-paint-brush",title:a("Classic","voxel-fse")},...R?[{value:"gradient",icon:"eicon-barcode",title:a("Gradient","voxel-fse")}]:[],...y&&!n?[{value:"video",icon:"eicon-video-camera",title:a("Video","voxel-fse")}]:[],...S&&!n?[{value:"slideshow",icon:"eicon-slideshow",title:a("Slideshow","voxel-fse")}]:[]];return React.createElement(React.Fragment,null,T.length>1&&React.createElement(U,{label:a("Background Type","voxel-fse"),value:i||"classic",onChange:e=>{o(n?{backgroundTypeHover:e}:{backgroundType:e})},options:T,variant:"inline"}),(i==="classic"||!i||!R)&&React.createElement(React.Fragment,null,React.createElement(x,{label:a("Color","voxel-fse"),value:n?l.backgroundColorHover:l.backgroundColor,onChange:e=>{o(n?{backgroundColorHover:e}:{backgroundColor:e})}}),z&&React.createElement(React.Fragment,null,React.createElement(B,{label:a("Image","voxel-fse"),value:n?l.backgroundImageHover:l.backgroundImage,valueTablet:n?l.backgroundImageHover_tablet:l.backgroundImage_tablet,valueMobile:n?l.backgroundImageHover_mobile:l.backgroundImage_mobile,onChange:e=>{o(n?{backgroundImageHover:e}:{backgroundImage:e})},onChangeTablet:e=>{o(n?{backgroundImageHover_tablet:e}:{backgroundImage_tablet:e})},onChangeMobile:e=>{o(n?{backgroundImageHover_mobile:e}:{backgroundImage_mobile:e})},responsive:!0,enableDynamicTags:!0,dynamicTagValue:n?l.bgImageDynamicTagHover:l.bgImageDynamicTag,onDynamicTagChange:e=>{o(n?{bgImageDynamicTagHover:e}:{bgImageDynamicTag:e})}}),(w?.url||H)&&React.createElement(React.Fragment,null,React.createElement(g,{label:a("Image Resolution","voxel-fse"),value:n?l.bgImageResolutionHover:l.bgImageResolution,options:W(),onChange:e=>{console.log("[BackgroundControl] Image Resolution onChange:",{value:e,isHover:n});const m=n?D:P,k=n?l.backgroundImageHover:l.backgroundImage,v={};if(n?v.bgImageResolutionHover=e:v.bgImageResolution=e,m&&m.media_details&&m.media_details.sizes){let c;m.media_details.sizes[e]?c=m.media_details.sizes[e].source_url:e==="full"&&m.source_url&&(c=m.source_url),c&&(n?v.backgroundImageHover={...k,url:c}:v.backgroundImage={...k,url:c},console.log("[BackgroundControl] Updated image URL to:",c))}o(v)},help:a("Image size settings don't apply to Dynamic Images.","voxel-fse"),__nextHasNoMarginBottom:!0}),React.createElement("div",{style:{marginTop:"16px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"}},React.createElement("span",{style:{fontWeight:500,fontSize:"13px"}},a("Position","voxel-fse")),React.createElement(f,{onDeviceChange:r})),React.createElement(g,{value:n?t==="tablet"?l.bgImagePositionHover_tablet||"":t==="mobile"?l.bgImagePositionHover_mobile||"":l.bgImagePositionHover||"":t==="tablet"?l.bgImagePosition_tablet||"":t==="mobile"?l.bgImagePosition_mobile||"":l.bgImagePosition||"",options:[{label:a("Default","voxel-fse"),value:""},{label:a("Top Left","voxel-fse"),value:"top left"},{label:a("Top Center","voxel-fse"),value:"top center"},{label:a("Top Right","voxel-fse"),value:"top right"},{label:a("Center Left","voxel-fse"),value:"center left"},{label:a("Center Center","voxel-fse"),value:"center center"},{label:a("Center Right","voxel-fse"),value:"center right"},{label:a("Bottom Left","voxel-fse"),value:"bottom left"},{label:a("Bottom Center","voxel-fse"),value:"bottom center"},{label:a("Bottom Right","voxel-fse"),value:"bottom right"}],onChange:e=>{o(n?t==="tablet"?{bgImagePositionHover_tablet:e}:t==="mobile"?{bgImagePositionHover_mobile:e}:{bgImagePositionHover:e}:t==="tablet"?{bgImagePosition_tablet:e}:t==="mobile"?{bgImagePosition_mobile:e}:{bgImagePosition:e})},__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(g,{label:a("Attachment","voxel-fse"),value:n?l.bgImageAttachmentHover:l.bgImageAttachment,options:[{label:a("Default","voxel-fse"),value:""},{label:a("Scroll","voxel-fse"),value:"scroll"},{label:a("Fixed","voxel-fse"),value:"fixed"}],onChange:e=>{o(n?{bgImageAttachmentHover:e}:{bgImageAttachment:e})},__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"}},React.createElement("span",{style:{fontWeight:500,fontSize:"13px"}},a("Repeat","voxel-fse")),React.createElement(f,{onDeviceChange:r})),React.createElement(g,{value:n?t==="tablet"?l.bgImageRepeatHover_tablet||"":t==="mobile"?l.bgImageRepeatHover_mobile||"":l.bgImageRepeatHover||"":t==="tablet"?l.bgImageRepeat_tablet||"":t==="mobile"?l.bgImageRepeat_mobile||"":l.bgImageRepeat||"",options:[{label:a("Default","voxel-fse"),value:""},{label:a("No-repeat","voxel-fse"),value:"no-repeat"},{label:a("Repeat","voxel-fse"),value:"repeat"},{label:a("Repeat-x","voxel-fse"),value:"repeat-x"},{label:a("Repeat-y","voxel-fse"),value:"repeat-y"}],onChange:e=>{o(n?t==="tablet"?{bgImageRepeatHover_tablet:e}:t==="mobile"?{bgImageRepeatHover_mobile:e}:{bgImageRepeatHover:e}:t==="tablet"?{bgImageRepeat_tablet:e}:t==="mobile"?{bgImageRepeat_mobile:e}:{bgImageRepeat:e})},__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"}},React.createElement("span",{style:{fontWeight:500,fontSize:"13px"}},a("Display Size","voxel-fse")),React.createElement(f,{onDeviceChange:r})),React.createElement(g,{value:n?t==="tablet"?l.bgImageSizeHover_tablet||"":t==="mobile"?l.bgImageSizeHover_mobile||"":l.bgImageSizeHover||"":t==="tablet"?l.bgImageSize_tablet||"":t==="mobile"?l.bgImageSize_mobile||"":l.bgImageSize||"",options:[{label:a("Default","voxel-fse"),value:""},{label:a("Auto","voxel-fse"),value:"auto"},{label:a("Cover","voxel-fse"),value:"cover"},{label:a("Contain","voxel-fse"),value:"contain"},{label:a("Custom","voxel-fse"),value:"custom"}],onChange:e=>{o(n?t==="tablet"?{bgImageSizeHover_tablet:e}:t==="mobile"?{bgImageSizeHover_mobile:e}:{bgImageSizeHover:e}:t==="tablet"?{bgImageSize_tablet:e}:t==="mobile"?{bgImageSize_mobile:e}:{bgImageSize:e})},__nextHasNoMarginBottom:!0})),(n?t==="tablet"?l.bgImageSizeHover_tablet:t==="mobile"?l.bgImageSizeHover_mobile:l.bgImageSizeHover:t==="tablet"?l.bgImageSize_tablet:t==="mobile"?l.bgImageSize_mobile:l.bgImageSize)==="custom"?React.createElement(s,{label:a("Width","voxel-fse"),attributes:l,setAttributes:o,attributeBaseName:n?"bgImageCustomWidthHover":"bgImageCustomWidth",min:0,max:200,availableUnits:["%","px","em","vw"],unitAttributeName:n?"bgImageCustomWidthHoverUnit":"bgImageCustomWidthUnit"}):null))),i==="gradient"&&R&&React.createElement(React.Fragment,null,React.createElement("div",{style:{padding:"12px",backgroundColor:"#fffbeb",borderLeft:"4px solid #f59e0b",marginBottom:"16px",fontSize:"12px",fontStyle:"italic",color:"#92400e"}},a("Set locations and angle for each breakpoint to ensure the gradient adapts to different screen sizes.","voxel-fse")),React.createElement(x,{label:a("Color","voxel-fse"),value:n?l.gradientColorHover:l.gradientColor,onChange:e=>{o(n?{gradientColorHover:e}:{gradientColor:e})}}),React.createElement(s,{label:a("Location","voxel-fse"),attributes:l,setAttributes:o,attributeBaseName:n?"gradientLocationHover":"gradientLocation",min:0,max:100,availableUnits:["%"]}),React.createElement(x,{label:a("Second Color","voxel-fse"),value:n?l.gradientSecondColorHover:l.gradientSecondColor,onChange:e=>{o(n?{gradientSecondColorHover:e}:{gradientSecondColor:e})}}),React.createElement(s,{label:a("Location","voxel-fse"),attributes:l,setAttributes:o,attributeBaseName:n?"gradientSecondLocationHover":"gradientSecondLocation",min:0,max:100,availableUnits:["%"]}),React.createElement(g,{label:a("Type","voxel-fse"),value:p||"linear",options:[{label:a("Linear","voxel-fse"),value:"linear"},{label:a("Radial","voxel-fse"),value:"radial"}],onChange:e=>{o(n?{gradientTypeHover:e}:{gradientType:e})},__nextHasNoMarginBottom:!0}),(p==="linear"||!p)&&React.createElement(s,{label:a("Angle","voxel-fse"),attributes:l,setAttributes:o,attributeBaseName:n?"gradientAngleHover":"gradientAngle",min:0,max:360,availableUnits:["deg"]}),p==="radial"&&React.createElement("div",{style:{marginTop:"16px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"}},React.createElement("span",{style:{fontWeight:500,fontSize:"13px"}},a("Position","voxel-fse")),React.createElement(f,{onDeviceChange:r})),React.createElement(g,{value:n?t==="tablet"?l.gradientPositionHover_tablet||"center center":t==="mobile"?l.gradientPositionHover_mobile||"center center":l.gradientPositionHover||"center center":t==="tablet"?l.gradientPosition_tablet||"center center":t==="mobile"?l.gradientPosition_mobile||"center center":l.gradientPosition||"center center",options:[{label:a("Center Center","voxel-fse"),value:"center center"},{label:a("Center Left","voxel-fse"),value:"center left"},{label:a("Center Right","voxel-fse"),value:"center right"},{label:a("Top Center","voxel-fse"),value:"top center"},{label:a("Top Left","voxel-fse"),value:"top left"},{label:a("Top Right","voxel-fse"),value:"top right"},{label:a("Bottom Center","voxel-fse"),value:"bottom center"},{label:a("Bottom Left","voxel-fse"),value:"bottom left"},{label:a("Bottom Right","voxel-fse"),value:"bottom right"}],onChange:e=>{o(n?t==="tablet"?{gradientPositionHover_tablet:e}:t==="mobile"?{gradientPositionHover_mobile:e}:{gradientPositionHover:e}:t==="tablet"?{gradientPosition_tablet:e}:t==="mobile"?{gradientPosition_mobile:e}:{gradientPosition:e})},__nextHasNoMarginBottom:!0}))),i==="video"&&y&&!n&&React.createElement(React.Fragment,null,React.createElement(x,{label:a("Color","voxel-fse"),value:l.backgroundColor,onChange:e=>{o({backgroundColor:e})}}),React.createElement(b,{label:a("Video Link","voxel-fse"),value:l.bgVideoLink||"",onChange:e=>o({bgVideoLink:e}),help:a("YouTube/Vimeo link, or link to video file (mp4 is recommended).","voxel-fse"),__nextHasNoMarginBottom:!0}),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(b,{label:a("Start Time","voxel-fse"),type:"number",value:l.bgVideoStartTime!==void 0?String(l.bgVideoStartTime):"",onChange:e=>o({bgVideoStartTime:e?Number(e):void 0}),help:a("Specify a start time (in seconds).","voxel-fse"),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(b,{label:a("End Time","voxel-fse"),type:"number",value:l.bgVideoEndTime!==void 0?String(l.bgVideoEndTime):"",onChange:e=>o({bgVideoEndTime:e?Number(e):void 0}),help:a("Specify an end time (in seconds).","voxel-fse"),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(d,{label:a("Play Once","voxel-fse"),checked:l.bgVideoPlayOnce||!1,onChange:e=>o({bgVideoPlayOnce:e}),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"8px"}},React.createElement(d,{label:a("Play On Mobile","voxel-fse"),checked:l.bgVideoPlayOnMobile||!1,onChange:e=>o({bgVideoPlayOnMobile:e}),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"8px"}},React.createElement(d,{label:a("Privacy Mode","voxel-fse"),checked:l.bgVideoPrivacyMode||!1,onChange:e=>o({bgVideoPrivacyMode:e}),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(B,{label:a("Background Fallback","voxel-fse"),value:l.bgVideoFallback,onChange:e=>o({bgVideoFallback:e}),help:a("This cover image will replace the background video in case that the video could not be loaded.","voxel-fse")}))),i==="slideshow"&&S&&!n&&React.createElement(React.Fragment,null,React.createElement(O,{label:a("Images","voxel-fse"),value:l.bgSlideshowGallery||[],onChange:e=>o({bgSlideshowGallery:e})}),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(d,{label:a("Infinite Loop","voxel-fse"),checked:l.bgSlideshowInfiniteLoop??!0,onChange:e=>o({bgSlideshowInfiniteLoop:e}),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(b,{label:a("Duration (ms)","voxel-fse"),type:"number",value:String(l.bgSlideshowDuration??5e3),onChange:e=>o({bgSlideshowDuration:e?Number(e):5e3}),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(g,{label:a("Transition","voxel-fse"),value:l.bgSlideshowTransition||"fade",options:[{label:a("Fade","voxel-fse"),value:"fade"},{label:a("Slide Right","voxel-fse"),value:"slide_right"},{label:a("Slide Left","voxel-fse"),value:"slide_left"},{label:a("Slide Up","voxel-fse"),value:"slide_up"},{label:a("Slide Down","voxel-fse"),value:"slide_down"}],onChange:e=>o({bgSlideshowTransition:e}),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(b,{label:a("Transition Duration (ms)","voxel-fse"),type:"number",value:String(l.bgSlideshowTransitionDuration??500),onChange:e=>o({bgSlideshowTransitionDuration:e?Number(e):500}),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"}},React.createElement("span",{style:{fontWeight:500,fontSize:"13px"}},a("Background Size","voxel-fse")),React.createElement(f,{onDeviceChange:r})),React.createElement(g,{value:t==="tablet"?l.bgSlideshowSize_tablet||"":t==="mobile"?l.bgSlideshowSize_mobile||"":l.bgSlideshowSize||"",options:[{label:a("Default","voxel-fse"),value:""},{label:a("Auto","voxel-fse"),value:"auto"},{label:a("Cover","voxel-fse"),value:"cover"},{label:a("Contain","voxel-fse"),value:"contain"}],onChange:e=>{o(t==="tablet"?{bgSlideshowSize_tablet:e}:t==="mobile"?{bgSlideshowSize_mobile:e}:{bgSlideshowSize:e})},__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"}},React.createElement("span",{style:{fontWeight:500,fontSize:"13px"}},a("Background Position","voxel-fse")),React.createElement(f,{onDeviceChange:r})),React.createElement(g,{value:t==="tablet"?l.bgSlideshowPosition_tablet||"":t==="mobile"?l.bgSlideshowPosition_mobile||"":l.bgSlideshowPosition||"",options:[{label:a("Default","voxel-fse"),value:""},{label:a("Top Left","voxel-fse"),value:"top left"},{label:a("Top Center","voxel-fse"),value:"top center"},{label:a("Top Right","voxel-fse"),value:"top right"},{label:a("Center Left","voxel-fse"),value:"center left"},{label:a("Center Center","voxel-fse"),value:"center center"},{label:a("Center Right","voxel-fse"),value:"center right"},{label:a("Bottom Left","voxel-fse"),value:"bottom left"},{label:a("Bottom Center","voxel-fse"),value:"bottom center"},{label:a("Bottom Right","voxel-fse"),value:"bottom right"}],onChange:e=>{o(t==="tablet"?{bgSlideshowPosition_tablet:e}:t==="mobile"?{bgSlideshowPosition_mobile:e}:{bgSlideshowPosition:e})},__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"16px"}},React.createElement(d,{label:a("Lazyload","voxel-fse"),checked:l.bgSlideshowLazyload||!1,onChange:e=>o({bgSlideshowLazyload:e}),__nextHasNoMarginBottom:!0})),React.createElement("div",{style:{marginTop:"8px"}},React.createElement(d,{label:a("Ken Burns Effect","voxel-fse"),checked:l.bgSlideshowKenBurns||!1,onChange:e=>o({bgSlideshowKenBurns:e}),__nextHasNoMarginBottom:!0})),l.bgSlideshowKenBurns&&React.createElement("div",{style:{marginTop:"16px"}},React.createElement(g,{label:a("Direction","voxel-fse"),value:l.bgSlideshowKenBurnsDirection||"in",options:[{label:a("In","voxel-fse"),value:"in"},{label:a("Out","voxel-fse"),value:"out"}],onChange:e=>o({bgSlideshowKenBurnsDirection:e}),__nextHasNoMarginBottom:!0}))),n&&C&&React.createElement("div",{style:{marginTop:"16px"}},React.createElement(L,{label:a("Transition Duration (s)","voxel-fse"),value:l.bgTransitionDuration??.3,onChange:e=>o({bgTransitionDuration:e??.3}),min:0,max:3,step:.1})))};return C?React.createElement("div",{className:"voxel-fse-background-control"},React.createElement(F,{attributeName:"backgroundActiveTab",attributes:l,setAttributes:o,tabs:[{name:"normal",title:a("Normal","voxel-fse")},{name:"hover",title:a("Hover","voxel-fse")}]},n=>u(n.name==="hover"))):React.createElement("div",{className:"voxel-fse-background-control"},u(!1))}export{Q as B};
